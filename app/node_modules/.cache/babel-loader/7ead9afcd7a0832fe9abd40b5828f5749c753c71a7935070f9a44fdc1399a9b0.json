{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-selection'), require('d3-drag')) : typeof define === 'function' && define.amd ? define(['exports', 'd3-selection', 'd3-drag'], factory) : factory(global.d3 = global.d3 || {}, global.d3, global.d3);\n})(this, function (exports, d3Selection, d3Drag) {\n  'use strict';\n\n  function createCommonjsModule(fn, module) {\n    return module = {\n      exports: {}\n    }, fn(module, module.exports), module.exports;\n  }\n  var __moduleExports$1 = createCommonjsModule(function (module) {\n    \"use strict\";\n\n    module.exports = twoProduct;\n    var SPLITTER = +(Math.pow(2, 27) + 1.0);\n    function twoProduct(a, b, result) {\n      var x = a * b;\n      var c = SPLITTER * a;\n      var abig = c - a;\n      var ahi = c - abig;\n      var alo = a - ahi;\n      var d = SPLITTER * b;\n      var bbig = d - b;\n      var bhi = d - bbig;\n      var blo = b - bhi;\n      var err1 = x - ahi * bhi;\n      var err2 = err1 - alo * bhi;\n      var err3 = err2 - ahi * blo;\n      var y = alo * blo - err3;\n      if (result) {\n        result[0] = y;\n        result[1] = x;\n        return result;\n      }\n      return [y, x];\n    }\n  });\n  var __moduleExports$2 = createCommonjsModule(function (module) {\n    \"use strict\";\n\n    module.exports = linearExpansionSum;\n\n    //Easy case: Add two scalars\n    function scalarScalar(a, b) {\n      var x = a + b;\n      var bv = x - a;\n      var av = x - bv;\n      var br = b - bv;\n      var ar = a - av;\n      var y = ar + br;\n      if (y) {\n        return [y, x];\n      }\n      return [x];\n    }\n    function linearExpansionSum(e, f) {\n      var ne = e.length | 0;\n      var nf = f.length | 0;\n      if (ne === 1 && nf === 1) {\n        return scalarScalar(e[0], f[0]);\n      }\n      var n = ne + nf;\n      var g = new Array(n);\n      var count = 0;\n      var eptr = 0;\n      var fptr = 0;\n      var abs = Math.abs;\n      var ei = e[eptr];\n      var ea = abs(ei);\n      var fi = f[fptr];\n      var fa = abs(fi);\n      var a, b;\n      if (ea < fa) {\n        b = ei;\n        eptr += 1;\n        if (eptr < ne) {\n          ei = e[eptr];\n          ea = abs(ei);\n        }\n      } else {\n        b = fi;\n        fptr += 1;\n        if (fptr < nf) {\n          fi = f[fptr];\n          fa = abs(fi);\n        }\n      }\n      if (eptr < ne && ea < fa || fptr >= nf) {\n        a = ei;\n        eptr += 1;\n        if (eptr < ne) {\n          ei = e[eptr];\n          ea = abs(ei);\n        }\n      } else {\n        a = fi;\n        fptr += 1;\n        if (fptr < nf) {\n          fi = f[fptr];\n          fa = abs(fi);\n        }\n      }\n      var x = a + b;\n      var bv = x - a;\n      var y = b - bv;\n      var q0 = y;\n      var q1 = x;\n      var _x, _bv, _av, _br, _ar;\n      while (eptr < ne && fptr < nf) {\n        if (ea < fa) {\n          a = ei;\n          eptr += 1;\n          if (eptr < ne) {\n            ei = e[eptr];\n            ea = abs(ei);\n          }\n        } else {\n          a = fi;\n          fptr += 1;\n          if (fptr < nf) {\n            fi = f[fptr];\n            fa = abs(fi);\n          }\n        }\n        b = q0;\n        x = a + b;\n        bv = x - a;\n        y = b - bv;\n        if (y) {\n          g[count++] = y;\n        }\n        _x = q1 + x;\n        _bv = _x - q1;\n        _av = _x - _bv;\n        _br = x - _bv;\n        _ar = q1 - _av;\n        q0 = _ar + _br;\n        q1 = _x;\n      }\n      while (eptr < ne) {\n        a = ei;\n        b = q0;\n        x = a + b;\n        bv = x - a;\n        y = b - bv;\n        if (y) {\n          g[count++] = y;\n        }\n        _x = q1 + x;\n        _bv = _x - q1;\n        _av = _x - _bv;\n        _br = x - _bv;\n        _ar = q1 - _av;\n        q0 = _ar + _br;\n        q1 = _x;\n        eptr += 1;\n        if (eptr < ne) {\n          ei = e[eptr];\n        }\n      }\n      while (fptr < nf) {\n        a = fi;\n        b = q0;\n        x = a + b;\n        bv = x - a;\n        y = b - bv;\n        if (y) {\n          g[count++] = y;\n        }\n        _x = q1 + x;\n        _bv = _x - q1;\n        _av = _x - _bv;\n        _br = x - _bv;\n        _ar = q1 - _av;\n        q0 = _ar + _br;\n        q1 = _x;\n        fptr += 1;\n        if (fptr < nf) {\n          fi = f[fptr];\n        }\n      }\n      if (q0) {\n        g[count++] = q0;\n      }\n      if (q1) {\n        g[count++] = q1;\n      }\n      if (!count) {\n        g[count++] = 0.0;\n      }\n      g.length = count;\n      return g;\n    }\n  });\n  var __moduleExports$4 = createCommonjsModule(function (module) {\n    \"use strict\";\n\n    module.exports = fastTwoSum;\n    function fastTwoSum(a, b, result) {\n      var x = a + b;\n      var bv = x - a;\n      var av = x - bv;\n      var br = b - bv;\n      var ar = a - av;\n      if (result) {\n        result[0] = ar + br;\n        result[1] = x;\n        return result;\n      }\n      return [ar + br, x];\n    }\n  });\n  var __moduleExports$3 = createCommonjsModule(function (module) {\n    \"use strict\";\n\n    var twoProduct = __moduleExports$1;\n    var twoSum = __moduleExports$4;\n    module.exports = scaleLinearExpansion;\n    function scaleLinearExpansion(e, scale) {\n      var n = e.length;\n      if (n === 1) {\n        var ts = twoProduct(e[0], scale);\n        if (ts[0]) {\n          return ts;\n        }\n        return [ts[1]];\n      }\n      var g = new Array(2 * n);\n      var q = [0.1, 0.1];\n      var t = [0.1, 0.1];\n      var count = 0;\n      twoProduct(e[0], scale, q);\n      if (q[0]) {\n        g[count++] = q[0];\n      }\n      for (var i = 1; i < n; ++i) {\n        twoProduct(e[i], scale, t);\n        var pq = q[1];\n        twoSum(pq, t[0], q);\n        if (q[0]) {\n          g[count++] = q[0];\n        }\n        var a = t[1];\n        var b = q[1];\n        var x = a + b;\n        var bv = x - a;\n        var y = b - bv;\n        q[1] = x;\n        if (y) {\n          g[count++] = y;\n        }\n      }\n      if (q[1]) {\n        g[count++] = q[1];\n      }\n      if (count === 0) {\n        g[count++] = 0.0;\n      }\n      g.length = count;\n      return g;\n    }\n  });\n  var __moduleExports$5 = createCommonjsModule(function (module) {\n    \"use strict\";\n\n    module.exports = robustSubtract;\n\n    //Easy case: Add two scalars\n    function scalarScalar(a, b) {\n      var x = a + b;\n      var bv = x - a;\n      var av = x - bv;\n      var br = b - bv;\n      var ar = a - av;\n      var y = ar + br;\n      if (y) {\n        return [y, x];\n      }\n      return [x];\n    }\n    function robustSubtract(e, f) {\n      var ne = e.length | 0;\n      var nf = f.length | 0;\n      if (ne === 1 && nf === 1) {\n        return scalarScalar(e[0], -f[0]);\n      }\n      var n = ne + nf;\n      var g = new Array(n);\n      var count = 0;\n      var eptr = 0;\n      var fptr = 0;\n      var abs = Math.abs;\n      var ei = e[eptr];\n      var ea = abs(ei);\n      var fi = -f[fptr];\n      var fa = abs(fi);\n      var a, b;\n      if (ea < fa) {\n        b = ei;\n        eptr += 1;\n        if (eptr < ne) {\n          ei = e[eptr];\n          ea = abs(ei);\n        }\n      } else {\n        b = fi;\n        fptr += 1;\n        if (fptr < nf) {\n          fi = -f[fptr];\n          fa = abs(fi);\n        }\n      }\n      if (eptr < ne && ea < fa || fptr >= nf) {\n        a = ei;\n        eptr += 1;\n        if (eptr < ne) {\n          ei = e[eptr];\n          ea = abs(ei);\n        }\n      } else {\n        a = fi;\n        fptr += 1;\n        if (fptr < nf) {\n          fi = -f[fptr];\n          fa = abs(fi);\n        }\n      }\n      var x = a + b;\n      var bv = x - a;\n      var y = b - bv;\n      var q0 = y;\n      var q1 = x;\n      var _x, _bv, _av, _br, _ar;\n      while (eptr < ne && fptr < nf) {\n        if (ea < fa) {\n          a = ei;\n          eptr += 1;\n          if (eptr < ne) {\n            ei = e[eptr];\n            ea = abs(ei);\n          }\n        } else {\n          a = fi;\n          fptr += 1;\n          if (fptr < nf) {\n            fi = -f[fptr];\n            fa = abs(fi);\n          }\n        }\n        b = q0;\n        x = a + b;\n        bv = x - a;\n        y = b - bv;\n        if (y) {\n          g[count++] = y;\n        }\n        _x = q1 + x;\n        _bv = _x - q1;\n        _av = _x - _bv;\n        _br = x - _bv;\n        _ar = q1 - _av;\n        q0 = _ar + _br;\n        q1 = _x;\n      }\n      while (eptr < ne) {\n        a = ei;\n        b = q0;\n        x = a + b;\n        bv = x - a;\n        y = b - bv;\n        if (y) {\n          g[count++] = y;\n        }\n        _x = q1 + x;\n        _bv = _x - q1;\n        _av = _x - _bv;\n        _br = x - _bv;\n        _ar = q1 - _av;\n        q0 = _ar + _br;\n        q1 = _x;\n        eptr += 1;\n        if (eptr < ne) {\n          ei = e[eptr];\n        }\n      }\n      while (fptr < nf) {\n        a = fi;\n        b = q0;\n        x = a + b;\n        bv = x - a;\n        y = b - bv;\n        if (y) {\n          g[count++] = y;\n        }\n        _x = q1 + x;\n        _bv = _x - q1;\n        _av = _x - _bv;\n        _br = x - _bv;\n        _ar = q1 - _av;\n        q0 = _ar + _br;\n        q1 = _x;\n        fptr += 1;\n        if (fptr < nf) {\n          fi = -f[fptr];\n        }\n      }\n      if (q0) {\n        g[count++] = q0;\n      }\n      if (q1) {\n        g[count++] = q1;\n      }\n      if (!count) {\n        g[count++] = 0.0;\n      }\n      g.length = count;\n      return g;\n    }\n  });\n  var __moduleExports = createCommonjsModule(function (module) {\n    \"use strict\";\n\n    var twoProduct = __moduleExports$1;\n    var robustSum = __moduleExports$2;\n    var robustScale = __moduleExports$3;\n    var robustSubtract = __moduleExports$5;\n    var NUM_EXPAND = 5;\n    var EPSILON = 1.1102230246251565e-16;\n    var ERRBOUND3 = (3.0 + 16.0 * EPSILON) * EPSILON;\n    var ERRBOUND4 = (7.0 + 56.0 * EPSILON) * EPSILON;\n    function cofactor(m, c) {\n      var result = new Array(m.length - 1);\n      for (var i = 1; i < m.length; ++i) {\n        var r = result[i - 1] = new Array(m.length - 1);\n        for (var j = 0, k = 0; j < m.length; ++j) {\n          if (j === c) {\n            continue;\n          }\n          r[k++] = m[i][j];\n        }\n      }\n      return result;\n    }\n    function matrix(n) {\n      var result = new Array(n);\n      for (var i = 0; i < n; ++i) {\n        result[i] = new Array(n);\n        for (var j = 0; j < n; ++j) {\n          result[i][j] = [\"m\", j, \"[\", n - i - 1, \"]\"].join(\"\");\n        }\n      }\n      return result;\n    }\n    function sign(n) {\n      if (n & 1) {\n        return \"-\";\n      }\n      return \"\";\n    }\n    function generateSum(expr) {\n      if (expr.length === 1) {\n        return expr[0];\n      } else if (expr.length === 2) {\n        return [\"sum(\", expr[0], \",\", expr[1], \")\"].join(\"\");\n      } else {\n        var m = expr.length >> 1;\n        return [\"sum(\", generateSum(expr.slice(0, m)), \",\", generateSum(expr.slice(m)), \")\"].join(\"\");\n      }\n    }\n    function determinant(m) {\n      if (m.length === 2) {\n        return [[\"sum(prod(\", m[0][0], \",\", m[1][1], \"),prod(-\", m[0][1], \",\", m[1][0], \"))\"].join(\"\")];\n      } else {\n        var expr = [];\n        for (var i = 0; i < m.length; ++i) {\n          expr.push([\"scale(\", generateSum(determinant(cofactor(m, i))), \",\", sign(i), m[0][i], \")\"].join(\"\"));\n        }\n        return expr;\n      }\n    }\n    function orientation(n) {\n      var pos = [];\n      var neg = [];\n      var m = matrix(n);\n      var args = [];\n      for (var i = 0; i < n; ++i) {\n        if ((i & 1) === 0) {\n          pos.push.apply(pos, determinant(cofactor(m, i)));\n        } else {\n          neg.push.apply(neg, determinant(cofactor(m, i)));\n        }\n        args.push(\"m\" + i);\n      }\n      var posExpr = generateSum(pos);\n      var negExpr = generateSum(neg);\n      var funcName = \"orientation\" + n + \"Exact\";\n      var code = [\"function \", funcName, \"(\", args.join(), \"){var p=\", posExpr, \",n=\", negExpr, \",d=sub(p,n);\\\nreturn d[d.length-1];};return \", funcName].join(\"\");\n      var proc = new Function(\"sum\", \"prod\", \"scale\", \"sub\", code);\n      return proc(robustSum, twoProduct, robustScale, robustSubtract);\n    }\n    var orientation3Exact = orientation(3);\n    var orientation4Exact = orientation(4);\n    var CACHED = [function orientation0() {\n      return 0;\n    }, function orientation1() {\n      return 0;\n    }, function orientation2(a, b) {\n      return b[0] - a[0];\n    }, function orientation3(a, b, c) {\n      var l = (a[1] - c[1]) * (b[0] - c[0]);\n      var r = (a[0] - c[0]) * (b[1] - c[1]);\n      var det = l - r;\n      var s;\n      if (l > 0) {\n        if (r <= 0) {\n          return det;\n        } else {\n          s = l + r;\n        }\n      } else if (l < 0) {\n        if (r >= 0) {\n          return det;\n        } else {\n          s = -(l + r);\n        }\n      } else {\n        return det;\n      }\n      var tol = ERRBOUND3 * s;\n      if (det >= tol || det <= -tol) {\n        return det;\n      }\n      return orientation3Exact(a, b, c);\n    }, function orientation4(a, b, c, d) {\n      var adx = a[0] - d[0];\n      var bdx = b[0] - d[0];\n      var cdx = c[0] - d[0];\n      var ady = a[1] - d[1];\n      var bdy = b[1] - d[1];\n      var cdy = c[1] - d[1];\n      var adz = a[2] - d[2];\n      var bdz = b[2] - d[2];\n      var cdz = c[2] - d[2];\n      var bdxcdy = bdx * cdy;\n      var cdxbdy = cdx * bdy;\n      var cdxady = cdx * ady;\n      var adxcdy = adx * cdy;\n      var adxbdy = adx * bdy;\n      var bdxady = bdx * ady;\n      var det = adz * (bdxcdy - cdxbdy) + bdz * (cdxady - adxcdy) + cdz * (adxbdy - bdxady);\n      var permanent = (Math.abs(bdxcdy) + Math.abs(cdxbdy)) * Math.abs(adz) + (Math.abs(cdxady) + Math.abs(adxcdy)) * Math.abs(bdz) + (Math.abs(adxbdy) + Math.abs(bdxady)) * Math.abs(cdz);\n      var tol = ERRBOUND4 * permanent;\n      if (det > tol || -det > tol) {\n        return det;\n      }\n      return orientation4Exact(a, b, c, d);\n    }];\n    function slowOrient(args) {\n      var proc = CACHED[args.length];\n      if (!proc) {\n        proc = CACHED[args.length] = orientation(args.length);\n      }\n      return proc.apply(undefined, args);\n    }\n    function generateOrientationProc() {\n      while (CACHED.length <= NUM_EXPAND) {\n        CACHED.push(orientation(CACHED.length));\n      }\n      var args = [];\n      var procArgs = [\"slow\"];\n      for (var i = 0; i <= NUM_EXPAND; ++i) {\n        args.push(\"a\" + i);\n        procArgs.push(\"o\" + i);\n      }\n      var code = [\"function getOrientation(\", args.join(), \"){switch(arguments.length){case 0:case 1:return 0;\"];\n      for (var i = 2; i <= NUM_EXPAND; ++i) {\n        code.push(\"case \", i, \":return o\", i, \"(\", args.slice(0, i).join(), \");\");\n      }\n      code.push(\"}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation\");\n      procArgs.push(code.join(\"\"));\n      var proc = Function.apply(undefined, procArgs);\n      module.exports = proc.apply(undefined, [slowOrient].concat(CACHED));\n      for (var i = 0; i <= NUM_EXPAND; ++i) {\n        module.exports[i] = CACHED[i];\n      }\n    }\n    generateOrientationProc();\n  });\n  var robustPnp = createCommonjsModule(function (module) {\n    module.exports = robustPointInPolygon;\n    var orient = __moduleExports;\n    function robustPointInPolygon(vs, point) {\n      var x = point[0];\n      var y = point[1];\n      var n = vs.length;\n      var inside = 1;\n      var lim = n;\n      for (var i = 0, j = n - 1; i < lim; j = i++) {\n        var a = vs[i];\n        var b = vs[j];\n        var yi = a[1];\n        var yj = b[1];\n        if (yj < yi) {\n          if (yj < y && y < yi) {\n            var s = orient(a, b, point);\n            if (s === 0) {\n              return 0;\n            } else {\n              inside ^= 0 < s | 0;\n            }\n          } else if (y === yi) {\n            var c = vs[(i + 1) % n];\n            var yk = c[1];\n            if (yi < yk) {\n              var s = orient(a, b, point);\n              if (s === 0) {\n                return 0;\n              } else {\n                inside ^= 0 < s | 0;\n              }\n            }\n          }\n        } else if (yi < yj) {\n          if (yi < y && y < yj) {\n            var s = orient(a, b, point);\n            if (s === 0) {\n              return 0;\n            } else {\n              inside ^= s < 0 | 0;\n            }\n          } else if (y === yi) {\n            var c = vs[(i + 1) % n];\n            var yk = c[1];\n            if (yk < yi) {\n              var s = orient(a, b, point);\n              if (s === 0) {\n                return 0;\n              } else {\n                inside ^= s < 0 | 0;\n              }\n            }\n          }\n        } else if (y === yi) {\n          var x0 = Math.min(a[0], b[0]);\n          var x1 = Math.max(a[0], b[0]);\n          if (i === 0) {\n            while (j > 0) {\n              var k = (j + n - 1) % n;\n              var p = vs[k];\n              if (p[1] !== y) {\n                break;\n              }\n              var px = p[0];\n              x0 = Math.min(x0, px);\n              x1 = Math.max(x1, px);\n              j = k;\n            }\n            if (j === 0) {\n              if (x0 <= x && x <= x1) {\n                return 0;\n              }\n              return 1;\n            }\n            lim = j + 1;\n          }\n          var y0 = vs[(j + n - 1) % n][1];\n          while (i + 1 < lim) {\n            var p = vs[i + 1];\n            if (p[1] !== y) {\n              break;\n            }\n            var px = p[0];\n            x0 = Math.min(x0, px);\n            x1 = Math.max(x1, px);\n            i += 1;\n          }\n          if (x0 <= x && x <= x1) {\n            return 0;\n          }\n          var y1 = vs[(i + 1) % n][1];\n          if (x < x0 && y0 < y !== y1 < y) {\n            inside ^= 1;\n          }\n        }\n      }\n      return 2 * inside - 1;\n    }\n  });\n  function lasso() {\n    var items = [],\n      closePathDistance = 75,\n      closePathSelect = true,\n      isPathClosed = false,\n      hoverSelect = true,\n      targetArea,\n      on = {\n        start: function () {},\n        draw: function () {},\n        end: function () {}\n      };\n\n    // Function to execute on call\n    function lasso(_this) {\n      // add a new group for the lasso\n      var g = _this.append(\"g\").attr(\"class\", \"lasso\");\n\n      // add the drawn path for the lasso\n      var dyn_path = g.append(\"path\").attr(\"class\", \"drawn\");\n\n      // add a closed path\n      var close_path = g.append(\"path\").attr(\"class\", \"loop_close\");\n\n      // add an origin node\n      var origin_node = g.append(\"circle\").attr(\"class\", \"origin\");\n\n      // The transformed lasso path for rendering\n      var tpath;\n\n      // The lasso origin for calculations\n      var origin;\n\n      // The transformed lasso origin for rendering\n      var torigin;\n\n      // Store off coordinates drawn\n      var drawnCoords;\n\n      // Apply drag behaviors\n      var drag = d3.drag().on(\"start\", dragstart).on(\"drag\", dragmove).on(\"end\", dragend);\n\n      // Call drag\n      targetArea.call(drag);\n      function dragstart() {\n        // Init coordinates\n        drawnCoords = [];\n\n        // Initialize paths\n        tpath = \"\";\n        dyn_path.attr(\"d\", null);\n        close_path.attr(\"d\", null);\n\n        // Set every item to have a false selection and reset their center point and counters\n        items.nodes().forEach(function (e) {\n          e.__lasso.possible = false;\n          e.__lasso.selected = false;\n          e.__lasso.hoverSelect = false;\n          e.__lasso.loopSelect = false;\n          var box = e.getBoundingClientRect();\n          e.__lasso.lassoPoint = [Math.round(box.left + box.width / 2), Math.round(box.top + box.height / 2)];\n        });\n\n        // if hover is on, add hover function\n        if (hoverSelect) {\n          items.on(\"mouseover.lasso\", function () {\n            // if hovered, change lasso selection attribute to true\n            this.__lasso.hoverSelect = true;\n          });\n        }\n\n        // Run user defined start function\n        on.start();\n      }\n      function dragmove() {\n        // Get mouse position within body, used for calculations\n        var x, y;\n        if (d3.event.sourceEvent.type === \"touchmove\") {\n          x = d3.event.sourceEvent.touches[0].clientX;\n          y = d3.event.sourceEvent.touches[0].clientY;\n        } else {\n          x = d3.event.sourceEvent.clientX;\n          y = d3.event.sourceEvent.clientY;\n        }\n\n        // Get mouse position within drawing area, used for rendering\n        var tx = d3.mouse(this)[0];\n        var ty = d3.mouse(this)[1];\n\n        // Initialize the path or add the latest point to it\n        if (tpath === \"\") {\n          tpath = tpath + \"M \" + tx + \" \" + ty;\n          origin = [x, y];\n          torigin = [tx, ty];\n          // Draw origin node\n          origin_node.attr(\"cx\", tx).attr(\"cy\", ty).attr(\"r\", 7).attr(\"display\", null);\n        } else {\n          tpath = tpath + \" L \" + tx + \" \" + ty;\n        }\n        drawnCoords.push([x, y]);\n\n        // Calculate the current distance from the lasso origin\n        var distance = Math.sqrt(Math.pow(x - origin[0], 2) + Math.pow(y - origin[1], 2));\n\n        // Set the closed path line\n        var close_draw_path = \"M \" + tx + \" \" + ty + \" L \" + torigin[0] + \" \" + torigin[1];\n\n        // Draw the lines\n        dyn_path.attr(\"d\", tpath);\n        close_path.attr(\"d\", close_draw_path);\n\n        // Check if the path is closed\n        isPathClosed = distance <= closePathDistance ? true : false;\n\n        // If within the closed path distance parameter, show the closed path. otherwise, hide it\n        if (isPathClosed && closePathSelect) {\n          close_path.attr(\"display\", null);\n        } else {\n          close_path.attr(\"display\", \"none\");\n        }\n        items.nodes().forEach(function (n) {\n          n.__lasso.loopSelect = isPathClosed && closePathSelect ? robustPnp(drawnCoords, n.__lasso.lassoPoint) < 1 : false;\n          n.__lasso.possible = n.__lasso.hoverSelect || n.__lasso.loopSelect;\n        });\n        on.draw();\n      }\n      function dragend() {\n        // Remove mouseover tagging function\n        items.on(\"mouseover.lasso\", null);\n        items.nodes().forEach(function (n) {\n          n.__lasso.selected = n.__lasso.possible;\n          n.__lasso.possible = false;\n        });\n\n        // Clear lasso\n        dyn_path.attr(\"d\", null);\n        close_path.attr(\"d\", null);\n        origin_node.attr(\"display\", \"none\");\n\n        // Run user defined end function\n        on.end();\n      }\n    }\n\n    // Set or get list of items for lasso to select\n    lasso.items = function (_) {\n      if (!arguments.length) return items;\n      items = _;\n      var nodes = items.nodes();\n      nodes.forEach(function (n) {\n        n.__lasso = {\n          \"possible\": false,\n          \"selected\": false\n        };\n      });\n      return lasso;\n    };\n\n    // Return possible items\n    lasso.possibleItems = function () {\n      return items.filter(function () {\n        return this.__lasso.possible;\n      });\n    };\n\n    // Return selected items\n    lasso.selectedItems = function () {\n      return items.filter(function () {\n        return this.__lasso.selected;\n      });\n    };\n\n    // Return not possible items\n    lasso.notPossibleItems = function () {\n      return items.filter(function () {\n        return !this.__lasso.possible;\n      });\n    };\n\n    // Return not selected items\n    lasso.notSelectedItems = function () {\n      return items.filter(function () {\n        return !this.__lasso.selected;\n      });\n    };\n\n    // Distance required before path auto closes loop\n    lasso.closePathDistance = function (_) {\n      if (!arguments.length) return closePathDistance;\n      closePathDistance = _;\n      return lasso;\n    };\n\n    // Option to loop select or not\n    lasso.closePathSelect = function (_) {\n      if (!arguments.length) return closePathSelect;\n      closePathSelect = _ === true ? true : false;\n      return lasso;\n    };\n\n    // Not sure what this is for\n    lasso.isPathClosed = function (_) {\n      if (!arguments.length) return isPathClosed;\n      isPathClosed = _ === true ? true : false;\n      return lasso;\n    };\n\n    // Option to select on hover or not\n    lasso.hoverSelect = function (_) {\n      if (!arguments.length) return hoverSelect;\n      hoverSelect = _ === true ? true : false;\n      return lasso;\n    };\n\n    // Events\n    lasso.on = function (type, _) {\n      if (!arguments.length) return on;\n      if (arguments.length === 1) return on[type];\n      var types = [\"start\", \"draw\", \"end\"];\n      if (types.indexOf(type) > -1) {\n        on[type] = _;\n      }\n      return lasso;\n    };\n\n    // Area where lasso can be triggered from\n    lasso.targetArea = function (_) {\n      if (!arguments.length) return targetArea;\n      targetArea = _;\n      return lasso;\n    };\n    return lasso;\n  }\n  ;\n  exports.lasso = lasso;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","map":{"version":3,"names":["global","factory","exports","module","require","define","amd","d3","d3Selection","d3Drag","createCommonjsModule","fn","__moduleExports$1","twoProduct","SPLITTER","Math","pow","a","b","result","x","c","abig","ahi","alo","d","bbig","bhi","blo","err1","err2","err3","y","__moduleExports$2","linearExpansionSum","scalarScalar","bv","av","br","ar","e","f","ne","length","nf","n","g","Array","count","eptr","fptr","abs","ei","ea","fi","fa","q0","q1","_x","_bv","_av","_br","_ar","__moduleExports$4","fastTwoSum","__moduleExports$3","twoSum","scaleLinearExpansion","scale","ts","q","t","i","pq","__moduleExports$5","robustSubtract","__moduleExports","robustSum","robustScale","NUM_EXPAND","EPSILON","ERRBOUND3","ERRBOUND4","cofactor","m","r","j","k","matrix","join","sign","generateSum","expr","slice","determinant","push","orientation","pos","neg","args","apply","posExpr","negExpr","funcName","code","proc","Function","orientation3Exact","orientation4Exact","CACHED","orientation0","orientation1","orientation2","orientation3","l","det","s","tol","orientation4","adx","bdx","cdx","ady","bdy","cdy","adz","bdz","cdz","bdxcdy","cdxbdy","cdxady","adxcdy","adxbdy","bdxady","permanent","slowOrient","undefined","generateOrientationProc","procArgs","concat","robustPnp","robustPointInPolygon","orient","vs","point","inside","lim","yi","yj","yk","x0","min","x1","max","p","px","y0","y1","lasso","items","closePathDistance","closePathSelect","isPathClosed","hoverSelect","targetArea","on","start","draw","end","_this","append","attr","dyn_path","close_path","origin_node","tpath","origin","torigin","drawnCoords","drag","dragstart","dragmove","dragend","call","nodes","forEach","__lasso","possible","selected","loopSelect","box","getBoundingClientRect","lassoPoint","round","left","width","top","height","event","sourceEvent","type","touches","clientX","clientY","tx","mouse","ty","distance","sqrt","close_draw_path","_","arguments","possibleItems","filter","selectedItems","notPossibleItems","notSelectedItems","types","indexOf","Object","defineProperty","value"],"sources":["/Users/Shivam/Library/CloudStorage/GoogleDrive-sraval@g.harvard.edu/My Drive/Github/embedding-modifier/app/node_modules/d3-lasso/build/d3-lasso.js"],"sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-selection'), require('d3-drag')) :\n    typeof define === 'function' && define.amd ? define(['exports', 'd3-selection', 'd3-drag'], factory) :\n    (factory((global.d3 = global.d3 || {}),global.d3,global.d3));\n}(this, function (exports,d3Selection,d3Drag) { 'use strict';\n\n    function createCommonjsModule(fn, module) {\n    \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n    }\n\n    var __moduleExports$1 = createCommonjsModule(function (module) {\n    \"use strict\"\n\n    module.exports = twoProduct\n\n    var SPLITTER = +(Math.pow(2, 27) + 1.0)\n\n    function twoProduct(a, b, result) {\n      var x = a * b\n\n      var c = SPLITTER * a\n      var abig = c - a\n      var ahi = c - abig\n      var alo = a - ahi\n\n      var d = SPLITTER * b\n      var bbig = d - b\n      var bhi = d - bbig\n      var blo = b - bhi\n\n      var err1 = x - (ahi * bhi)\n      var err2 = err1 - (alo * bhi)\n      var err3 = err2 - (ahi * blo)\n\n      var y = alo * blo - err3\n\n      if(result) {\n        result[0] = y\n        result[1] = x\n        return result\n      }\n\n      return [ y, x ]\n    }\n    });\n\n    var __moduleExports$2 = createCommonjsModule(function (module) {\n    \"use strict\"\n\n    module.exports = linearExpansionSum\n\n    //Easy case: Add two scalars\n    function scalarScalar(a, b) {\n      var x = a + b\n      var bv = x - a\n      var av = x - bv\n      var br = b - bv\n      var ar = a - av\n      var y = ar + br\n      if(y) {\n        return [y, x]\n      }\n      return [x]\n    }\n\n    function linearExpansionSum(e, f) {\n      var ne = e.length|0\n      var nf = f.length|0\n      if(ne === 1 && nf === 1) {\n        return scalarScalar(e[0], f[0])\n      }\n      var n = ne + nf\n      var g = new Array(n)\n      var count = 0\n      var eptr = 0\n      var fptr = 0\n      var abs = Math.abs\n      var ei = e[eptr]\n      var ea = abs(ei)\n      var fi = f[fptr]\n      var fa = abs(fi)\n      var a, b\n      if(ea < fa) {\n        b = ei\n        eptr += 1\n        if(eptr < ne) {\n          ei = e[eptr]\n          ea = abs(ei)\n        }\n      } else {\n        b = fi\n        fptr += 1\n        if(fptr < nf) {\n          fi = f[fptr]\n          fa = abs(fi)\n        }\n      }\n      if((eptr < ne && ea < fa) || (fptr >= nf)) {\n        a = ei\n        eptr += 1\n        if(eptr < ne) {\n          ei = e[eptr]\n          ea = abs(ei)\n        }\n      } else {\n        a = fi\n        fptr += 1\n        if(fptr < nf) {\n          fi = f[fptr]\n          fa = abs(fi)\n        }\n      }\n      var x = a + b\n      var bv = x - a\n      var y = b - bv\n      var q0 = y\n      var q1 = x\n      var _x, _bv, _av, _br, _ar\n      while(eptr < ne && fptr < nf) {\n        if(ea < fa) {\n          a = ei\n          eptr += 1\n          if(eptr < ne) {\n            ei = e[eptr]\n            ea = abs(ei)\n          }\n        } else {\n          a = fi\n          fptr += 1\n          if(fptr < nf) {\n            fi = f[fptr]\n            fa = abs(fi)\n          }\n        }\n        b = q0\n        x = a + b\n        bv = x - a\n        y = b - bv\n        if(y) {\n          g[count++] = y\n        }\n        _x = q1 + x\n        _bv = _x - q1\n        _av = _x - _bv\n        _br = x - _bv\n        _ar = q1 - _av\n        q0 = _ar + _br\n        q1 = _x\n      }\n      while(eptr < ne) {\n        a = ei\n        b = q0\n        x = a + b\n        bv = x - a\n        y = b - bv\n        if(y) {\n          g[count++] = y\n        }\n        _x = q1 + x\n        _bv = _x - q1\n        _av = _x - _bv\n        _br = x - _bv\n        _ar = q1 - _av\n        q0 = _ar + _br\n        q1 = _x\n        eptr += 1\n        if(eptr < ne) {\n          ei = e[eptr]\n        }\n      }\n      while(fptr < nf) {\n        a = fi\n        b = q0\n        x = a + b\n        bv = x - a\n        y = b - bv\n        if(y) {\n          g[count++] = y\n        } \n        _x = q1 + x\n        _bv = _x - q1\n        _av = _x - _bv\n        _br = x - _bv\n        _ar = q1 - _av\n        q0 = _ar + _br\n        q1 = _x\n        fptr += 1\n        if(fptr < nf) {\n          fi = f[fptr]\n        }\n      }\n      if(q0) {\n        g[count++] = q0\n      }\n      if(q1) {\n        g[count++] = q1\n      }\n      if(!count) {\n        g[count++] = 0.0  \n      }\n      g.length = count\n      return g\n    }\n    });\n\n    var __moduleExports$4 = createCommonjsModule(function (module) {\n    \"use strict\"\n\n    module.exports = fastTwoSum\n\n    function fastTwoSum(a, b, result) {\n    \tvar x = a + b\n    \tvar bv = x - a\n    \tvar av = x - bv\n    \tvar br = b - bv\n    \tvar ar = a - av\n    \tif(result) {\n    \t\tresult[0] = ar + br\n    \t\tresult[1] = x\n    \t\treturn result\n    \t}\n    \treturn [ar+br, x]\n    }\n    });\n\n    var __moduleExports$3 = createCommonjsModule(function (module) {\n    \"use strict\"\n\n    var twoProduct = __moduleExports$1\n    var twoSum = __moduleExports$4\n\n    module.exports = scaleLinearExpansion\n\n    function scaleLinearExpansion(e, scale) {\n      var n = e.length\n      if(n === 1) {\n        var ts = twoProduct(e[0], scale)\n        if(ts[0]) {\n          return ts\n        }\n        return [ ts[1] ]\n      }\n      var g = new Array(2 * n)\n      var q = [0.1, 0.1]\n      var t = [0.1, 0.1]\n      var count = 0\n      twoProduct(e[0], scale, q)\n      if(q[0]) {\n        g[count++] = q[0]\n      }\n      for(var i=1; i<n; ++i) {\n        twoProduct(e[i], scale, t)\n        var pq = q[1]\n        twoSum(pq, t[0], q)\n        if(q[0]) {\n          g[count++] = q[0]\n        }\n        var a = t[1]\n        var b = q[1]\n        var x = a + b\n        var bv = x - a\n        var y = b - bv\n        q[1] = x\n        if(y) {\n          g[count++] = y\n        }\n      }\n      if(q[1]) {\n        g[count++] = q[1]\n      }\n      if(count === 0) {\n        g[count++] = 0.0\n      }\n      g.length = count\n      return g\n    }\n    });\n\n    var __moduleExports$5 = createCommonjsModule(function (module) {\n    \"use strict\"\n\n    module.exports = robustSubtract\n\n    //Easy case: Add two scalars\n    function scalarScalar(a, b) {\n      var x = a + b\n      var bv = x - a\n      var av = x - bv\n      var br = b - bv\n      var ar = a - av\n      var y = ar + br\n      if(y) {\n        return [y, x]\n      }\n      return [x]\n    }\n\n    function robustSubtract(e, f) {\n      var ne = e.length|0\n      var nf = f.length|0\n      if(ne === 1 && nf === 1) {\n        return scalarScalar(e[0], -f[0])\n      }\n      var n = ne + nf\n      var g = new Array(n)\n      var count = 0\n      var eptr = 0\n      var fptr = 0\n      var abs = Math.abs\n      var ei = e[eptr]\n      var ea = abs(ei)\n      var fi = -f[fptr]\n      var fa = abs(fi)\n      var a, b\n      if(ea < fa) {\n        b = ei\n        eptr += 1\n        if(eptr < ne) {\n          ei = e[eptr]\n          ea = abs(ei)\n        }\n      } else {\n        b = fi\n        fptr += 1\n        if(fptr < nf) {\n          fi = -f[fptr]\n          fa = abs(fi)\n        }\n      }\n      if((eptr < ne && ea < fa) || (fptr >= nf)) {\n        a = ei\n        eptr += 1\n        if(eptr < ne) {\n          ei = e[eptr]\n          ea = abs(ei)\n        }\n      } else {\n        a = fi\n        fptr += 1\n        if(fptr < nf) {\n          fi = -f[fptr]\n          fa = abs(fi)\n        }\n      }\n      var x = a + b\n      var bv = x - a\n      var y = b - bv\n      var q0 = y\n      var q1 = x\n      var _x, _bv, _av, _br, _ar\n      while(eptr < ne && fptr < nf) {\n        if(ea < fa) {\n          a = ei\n          eptr += 1\n          if(eptr < ne) {\n            ei = e[eptr]\n            ea = abs(ei)\n          }\n        } else {\n          a = fi\n          fptr += 1\n          if(fptr < nf) {\n            fi = -f[fptr]\n            fa = abs(fi)\n          }\n        }\n        b = q0\n        x = a + b\n        bv = x - a\n        y = b - bv\n        if(y) {\n          g[count++] = y\n        }\n        _x = q1 + x\n        _bv = _x - q1\n        _av = _x - _bv\n        _br = x - _bv\n        _ar = q1 - _av\n        q0 = _ar + _br\n        q1 = _x\n      }\n      while(eptr < ne) {\n        a = ei\n        b = q0\n        x = a + b\n        bv = x - a\n        y = b - bv\n        if(y) {\n          g[count++] = y\n        }\n        _x = q1 + x\n        _bv = _x - q1\n        _av = _x - _bv\n        _br = x - _bv\n        _ar = q1 - _av\n        q0 = _ar + _br\n        q1 = _x\n        eptr += 1\n        if(eptr < ne) {\n          ei = e[eptr]\n        }\n      }\n      while(fptr < nf) {\n        a = fi\n        b = q0\n        x = a + b\n        bv = x - a\n        y = b - bv\n        if(y) {\n          g[count++] = y\n        } \n        _x = q1 + x\n        _bv = _x - q1\n        _av = _x - _bv\n        _br = x - _bv\n        _ar = q1 - _av\n        q0 = _ar + _br\n        q1 = _x\n        fptr += 1\n        if(fptr < nf) {\n          fi = -f[fptr]\n        }\n      }\n      if(q0) {\n        g[count++] = q0\n      }\n      if(q1) {\n        g[count++] = q1\n      }\n      if(!count) {\n        g[count++] = 0.0  \n      }\n      g.length = count\n      return g\n    }\n    });\n\n    var __moduleExports = createCommonjsModule(function (module) {\n    \"use strict\"\n\n    var twoProduct = __moduleExports$1\n    var robustSum = __moduleExports$2\n    var robustScale = __moduleExports$3\n    var robustSubtract = __moduleExports$5\n\n    var NUM_EXPAND = 5\n\n    var EPSILON     = 1.1102230246251565e-16\n    var ERRBOUND3   = (3.0 + 16.0 * EPSILON) * EPSILON\n    var ERRBOUND4   = (7.0 + 56.0 * EPSILON) * EPSILON\n\n    function cofactor(m, c) {\n      var result = new Array(m.length-1)\n      for(var i=1; i<m.length; ++i) {\n        var r = result[i-1] = new Array(m.length-1)\n        for(var j=0,k=0; j<m.length; ++j) {\n          if(j === c) {\n            continue\n          }\n          r[k++] = m[i][j]\n        }\n      }\n      return result\n    }\n\n    function matrix(n) {\n      var result = new Array(n)\n      for(var i=0; i<n; ++i) {\n        result[i] = new Array(n)\n        for(var j=0; j<n; ++j) {\n          result[i][j] = [\"m\", j, \"[\", (n-i-1), \"]\"].join(\"\")\n        }\n      }\n      return result\n    }\n\n    function sign(n) {\n      if(n & 1) {\n        return \"-\"\n      }\n      return \"\"\n    }\n\n    function generateSum(expr) {\n      if(expr.length === 1) {\n        return expr[0]\n      } else if(expr.length === 2) {\n        return [\"sum(\", expr[0], \",\", expr[1], \")\"].join(\"\")\n      } else {\n        var m = expr.length>>1\n        return [\"sum(\", generateSum(expr.slice(0, m)), \",\", generateSum(expr.slice(m)), \")\"].join(\"\")\n      }\n    }\n\n    function determinant(m) {\n      if(m.length === 2) {\n        return [[\"sum(prod(\", m[0][0], \",\", m[1][1], \"),prod(-\", m[0][1], \",\", m[1][0], \"))\"].join(\"\")]\n      } else {\n        var expr = []\n        for(var i=0; i<m.length; ++i) {\n          expr.push([\"scale(\", generateSum(determinant(cofactor(m, i))), \",\", sign(i), m[0][i], \")\"].join(\"\"))\n        }\n        return expr\n      }\n    }\n\n    function orientation(n) {\n      var pos = []\n      var neg = []\n      var m = matrix(n)\n      var args = []\n      for(var i=0; i<n; ++i) {\n        if((i&1)===0) {\n          pos.push.apply(pos, determinant(cofactor(m, i)))\n        } else {\n          neg.push.apply(neg, determinant(cofactor(m, i)))\n        }\n        args.push(\"m\" + i)\n      }\n      var posExpr = generateSum(pos)\n      var negExpr = generateSum(neg)\n      var funcName = \"orientation\" + n + \"Exact\"\n      var code = [\"function \", funcName, \"(\", args.join(), \"){var p=\", posExpr, \",n=\", negExpr, \",d=sub(p,n);\\\nreturn d[d.length-1];};return \", funcName].join(\"\")\n      var proc = new Function(\"sum\", \"prod\", \"scale\", \"sub\", code)\n      return proc(robustSum, twoProduct, robustScale, robustSubtract)\n    }\n\n    var orientation3Exact = orientation(3)\n    var orientation4Exact = orientation(4)\n\n    var CACHED = [\n      function orientation0() { return 0 },\n      function orientation1() { return 0 },\n      function orientation2(a, b) { \n        return b[0] - a[0]\n      },\n      function orientation3(a, b, c) {\n        var l = (a[1] - c[1]) * (b[0] - c[0])\n        var r = (a[0] - c[0]) * (b[1] - c[1])\n        var det = l - r\n        var s\n        if(l > 0) {\n          if(r <= 0) {\n            return det\n          } else {\n            s = l + r\n          }\n        } else if(l < 0) {\n          if(r >= 0) {\n            return det\n          } else {\n            s = -(l + r)\n          }\n        } else {\n          return det\n        }\n        var tol = ERRBOUND3 * s\n        if(det >= tol || det <= -tol) {\n          return det\n        }\n        return orientation3Exact(a, b, c)\n      },\n      function orientation4(a,b,c,d) {\n        var adx = a[0] - d[0]\n        var bdx = b[0] - d[0]\n        var cdx = c[0] - d[0]\n        var ady = a[1] - d[1]\n        var bdy = b[1] - d[1]\n        var cdy = c[1] - d[1]\n        var adz = a[2] - d[2]\n        var bdz = b[2] - d[2]\n        var cdz = c[2] - d[2]\n        var bdxcdy = bdx * cdy\n        var cdxbdy = cdx * bdy\n        var cdxady = cdx * ady\n        var adxcdy = adx * cdy\n        var adxbdy = adx * bdy\n        var bdxady = bdx * ady\n        var det = adz * (bdxcdy - cdxbdy) \n                + bdz * (cdxady - adxcdy)\n                + cdz * (adxbdy - bdxady)\n        var permanent = (Math.abs(bdxcdy) + Math.abs(cdxbdy)) * Math.abs(adz)\n                      + (Math.abs(cdxady) + Math.abs(adxcdy)) * Math.abs(bdz)\n                      + (Math.abs(adxbdy) + Math.abs(bdxady)) * Math.abs(cdz)\n        var tol = ERRBOUND4 * permanent\n        if ((det > tol) || (-det > tol)) {\n          return det\n        }\n        return orientation4Exact(a,b,c,d)\n      }\n    ]\n\n    function slowOrient(args) {\n      var proc = CACHED[args.length]\n      if(!proc) {\n        proc = CACHED[args.length] = orientation(args.length)\n      }\n      return proc.apply(undefined, args)\n    }\n\n    function generateOrientationProc() {\n      while(CACHED.length <= NUM_EXPAND) {\n        CACHED.push(orientation(CACHED.length))\n      }\n      var args = []\n      var procArgs = [\"slow\"]\n      for(var i=0; i<=NUM_EXPAND; ++i) {\n        args.push(\"a\" + i)\n        procArgs.push(\"o\" + i)\n      }\n      var code = [\n        \"function getOrientation(\", args.join(), \"){switch(arguments.length){case 0:case 1:return 0;\"\n      ]\n      for(var i=2; i<=NUM_EXPAND; ++i) {\n        code.push(\"case \", i, \":return o\", i, \"(\", args.slice(0, i).join(), \");\")\n      }\n      code.push(\"}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation\")\n      procArgs.push(code.join(\"\"))\n\n      var proc = Function.apply(undefined, procArgs)\n      module.exports = proc.apply(undefined, [slowOrient].concat(CACHED))\n      for(var i=0; i<=NUM_EXPAND; ++i) {\n        module.exports[i] = CACHED[i]\n      }\n    }\n\n    generateOrientationProc()\n    });\n\n    var robustPnp = createCommonjsModule(function (module) {\n    module.exports = robustPointInPolygon\n\n    var orient = __moduleExports\n\n    function robustPointInPolygon(vs, point) {\n      var x = point[0]\n      var y = point[1]\n      var n = vs.length\n      var inside = 1\n      var lim = n\n      for(var i = 0, j = n-1; i<lim; j=i++) {\n        var a = vs[i]\n        var b = vs[j]\n        var yi = a[1]\n        var yj = b[1]\n        if(yj < yi) {\n          if(yj < y && y < yi) {\n            var s = orient(a, b, point)\n            if(s === 0) {\n              return 0\n            } else {\n              inside ^= (0 < s)|0\n            }\n          } else if(y === yi) {\n            var c = vs[(i+1)%n]\n            var yk = c[1]\n            if(yi < yk) {\n              var s = orient(a, b, point)\n              if(s === 0) {\n                return 0\n              } else {\n                inside ^= (0 < s)|0\n              }\n            }\n          }\n        } else if(yi < yj) {\n          if(yi < y && y < yj) {\n            var s = orient(a, b, point)\n            if(s === 0) {\n              return 0\n            } else {\n              inside ^= (s < 0)|0\n            }\n          } else if(y === yi) {\n            var c = vs[(i+1)%n]\n            var yk = c[1]\n            if(yk < yi) {\n              var s = orient(a, b, point)\n              if(s === 0) {\n                return 0\n              } else {\n                inside ^= (s < 0)|0\n              }\n            }\n          }\n        } else if(y === yi) {\n          var x0 = Math.min(a[0], b[0])\n          var x1 = Math.max(a[0], b[0])\n          if(i === 0) {\n            while(j>0) {\n              var k = (j+n-1)%n\n              var p = vs[k]\n              if(p[1] !== y) {\n                break\n              }\n              var px = p[0]\n              x0 = Math.min(x0, px)\n              x1 = Math.max(x1, px)\n              j = k\n            }\n            if(j === 0) {\n              if(x0 <= x && x <= x1) {\n                return 0\n              }\n              return 1 \n            }\n            lim = j+1\n          }\n          var y0 = vs[(j+n-1)%n][1]\n          while(i+1<lim) {\n            var p = vs[i+1]\n            if(p[1] !== y) {\n              break\n            }\n            var px = p[0]\n            x0 = Math.min(x0, px)\n            x1 = Math.max(x1, px)\n            i += 1\n          }\n          if(x0 <= x && x <= x1) {\n            return 0\n          }\n          var y1 = vs[(i+1)%n][1]\n          if(x < x0 && (y0 < y !== y1 < y)) {\n            inside ^= 1\n          }\n        }\n      }\n      return 2 * inside - 1\n    }\n    });\n\n    function lasso() {\n\n        var items =[],\n            closePathDistance = 75,\n            closePathSelect = true,\n            isPathClosed = false,\n            hoverSelect = true,\n            targetArea,\n            on = {start:function(){}, draw: function(){}, end: function(){}};\n\n        // Function to execute on call\n        function lasso(_this) {\n\n            // add a new group for the lasso\n            var g = _this.append(\"g\")\n                .attr(\"class\",\"lasso\");\n            \n            // add the drawn path for the lasso\n            var dyn_path = g.append(\"path\")\n                .attr(\"class\",\"drawn\");\n            \n            // add a closed path\n            var close_path = g.append(\"path\")\n                .attr(\"class\",\"loop_close\");\n            \n            // add an origin node\n            var origin_node = g.append(\"circle\")\n                .attr(\"class\",\"origin\");\n\n            // The transformed lasso path for rendering\n            var tpath;\n\n            // The lasso origin for calculations\n            var origin;\n\n            // The transformed lasso origin for rendering\n            var torigin;\n\n            // Store off coordinates drawn\n            var drawnCoords;\n\n             // Apply drag behaviors\n            var drag = d3.drag()\n                .on(\"start\",dragstart)\n                .on(\"drag\",dragmove)\n                .on(\"end\",dragend);\n\n            // Call drag\n            targetArea.call(drag);\n\n            function dragstart() {\n                // Init coordinates\n                drawnCoords = [];\n\n                // Initialize paths\n                tpath = \"\";\n                dyn_path.attr(\"d\",null);\n                close_path.attr(\"d\",null);\n\n                // Set every item to have a false selection and reset their center point and counters\n                items.nodes().forEach(function(e) {            \n                    e.__lasso.possible = false;\n                    e.__lasso.selected = false;\n                    e.__lasso.hoverSelect = false;\n                    e.__lasso.loopSelect = false;\n                    \n                    var box = e.getBoundingClientRect();\n                    e.__lasso.lassoPoint = [Math.round(box.left + box.width/2),Math.round(box.top + box.height/2)];\n                });\n\n                // if hover is on, add hover function\n                if(hoverSelect) {\n                    items.on(\"mouseover.lasso\",function() {\n                        // if hovered, change lasso selection attribute to true\n                        this.__lasso.hoverSelect = true;\n                    });\n                }\n\n                // Run user defined start function\n                on.start();\n            }\n\n            function dragmove() {\n                // Get mouse position within body, used for calculations\n                var x,y;\n                if(d3.event.sourceEvent.type === \"touchmove\") {\n                    x = d3.event.sourceEvent.touches[0].clientX;\n                    y = d3.event.sourceEvent.touches[0].clientY;\n                }\n                else {\n                    x = d3.event.sourceEvent.clientX;\n                    y = d3.event.sourceEvent.clientY;\n                }\n                \n\n                // Get mouse position within drawing area, used for rendering\n                var tx = d3.mouse(this)[0];\n                var ty = d3.mouse(this)[1];\n\n                // Initialize the path or add the latest point to it\n                if (tpath===\"\") {\n                    tpath = tpath + \"M \" + tx + \" \" + ty;\n                    origin = [x,y];\n                    torigin = [tx,ty];\n                    // Draw origin node\n                    origin_node\n                        .attr(\"cx\",tx)\n                        .attr(\"cy\",ty)\n                        .attr(\"r\",7)\n                        .attr(\"display\",null);\n                }\n                else {\n                    tpath = tpath + \" L \" + tx + \" \" + ty;\n                }\n\n                drawnCoords.push([x,y]);\n\n                // Calculate the current distance from the lasso origin\n                var distance = Math.sqrt(Math.pow(x-origin[0],2)+Math.pow(y-origin[1],2));\n\n                // Set the closed path line\n                var close_draw_path = \"M \" + tx + \" \" + ty + \" L \" + torigin[0] + \" \" + torigin[1];\n\n                // Draw the lines\n                dyn_path.attr(\"d\",tpath);\n\n                close_path.attr(\"d\",close_draw_path);\n\n                // Check if the path is closed\n                isPathClosed = distance<=closePathDistance ? true : false;\n\n                // If within the closed path distance parameter, show the closed path. otherwise, hide it\n                if(isPathClosed && closePathSelect) {\n                    close_path.attr(\"display\",null);\n                }\n                else {\n                    close_path.attr(\"display\",\"none\");\n                }\n\n                items.nodes().forEach(function(n) {\n                    n.__lasso.loopSelect = (isPathClosed && closePathSelect) ? (robustPnp(drawnCoords,n.__lasso.lassoPoint) < 1) : false; \n                    n.__lasso.possible = n.__lasso.hoverSelect || n.__lasso.loopSelect; \n                });\n\n                on.draw();\n            }\n\n            function dragend() {\n                // Remove mouseover tagging function\n                items.on(\"mouseover.lasso\",null);\n\n                items.nodes().forEach(function(n) {\n                    n.__lasso.selected = n.__lasso.possible;\n                    n.__lasso.possible = false;\n                });\n\n                // Clear lasso\n                dyn_path.attr(\"d\",null);\n                close_path.attr(\"d\",null);\n                origin_node.attr(\"display\",\"none\");\n\n                // Run user defined end function\n                on.end();\n            }\n        }\n\n        // Set or get list of items for lasso to select\n        lasso.items  = function(_) {\n            if (!arguments.length) return items;\n            items = _;\n            var nodes = items.nodes();\n            nodes.forEach(function(n) {\n                n.__lasso = {\n                    \"possible\": false,\n                    \"selected\": false\n                };\n            });\n            return lasso;\n        };\n\n        // Return possible items\n        lasso.possibleItems = function() {\n            return items.filter(function() {\n                return this.__lasso.possible;\n            });\n        }\n\n        // Return selected items\n        lasso.selectedItems = function() {\n            return items.filter(function() {\n                return this.__lasso.selected;\n            });\n        }\n\n        // Return not possible items\n        lasso.notPossibleItems = function() {\n            return items.filter(function() {\n                return !this.__lasso.possible;\n            });\n        }\n\n        // Return not selected items\n        lasso.notSelectedItems = function() {\n            return items.filter(function() {\n                return !this.__lasso.selected;\n            });\n        }\n\n        // Distance required before path auto closes loop\n        lasso.closePathDistance  = function(_) {\n            if (!arguments.length) return closePathDistance;\n            closePathDistance = _;\n            return lasso;\n        };\n\n        // Option to loop select or not\n        lasso.closePathSelect = function(_) {\n            if (!arguments.length) return closePathSelect;\n            closePathSelect = _===true ? true : false;\n            return lasso;\n        };\n\n        // Not sure what this is for\n        lasso.isPathClosed = function(_) {\n            if (!arguments.length) return isPathClosed;\n            isPathClosed = _===true ? true : false;\n            return lasso;\n        };\n\n        // Option to select on hover or not\n        lasso.hoverSelect = function(_) {\n            if (!arguments.length) return hoverSelect;\n            hoverSelect = _===true ? true : false;\n            return lasso;\n        };\n\n        // Events\n        lasso.on = function(type,_) {\n            if(!arguments.length) return on;\n            if(arguments.length===1) return on[type];\n            var types = [\"start\",\"draw\",\"end\"];\n            if(types.indexOf(type)>-1) {\n                on[type] = _;\n            }\n            return lasso;\n        };\n\n        // Area where lasso can be triggered from\n        lasso.targetArea = function(_) {\n            if(!arguments.length) return targetArea;\n            targetArea = _;\n            return lasso;\n        }\n\n\n        \n        return lasso;\n    };\n\n    exports.lasso = lasso;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}