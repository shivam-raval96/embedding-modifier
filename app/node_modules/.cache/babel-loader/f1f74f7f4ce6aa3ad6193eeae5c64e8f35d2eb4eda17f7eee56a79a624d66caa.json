{"ast":null,"code":"var vg = require('../../lib/hex-grid.min.js');\nvar defaultHexGrid = require('../../lib/default-hex-grid');\n\n/**\n * Hex grid.\n */\nmodule.exports.Primitive = AFRAME.registerPrimitive('a-hexgrid', {\n  defaultComponents: {\n    'hexgrid': {}\n  },\n  mappings: {\n    src: 'hexgrid.src'\n  }\n});\nmodule.exports.Component = AFRAME.registerComponent('hexgrid', {\n  dependencies: ['material'],\n  schema: {\n    src: {\n      type: 'asset'\n    }\n  },\n  init: function init() {\n    var _this = this;\n    var data = this.data;\n    if (data.src) {\n      fetch(data.src).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        return _this.addMesh(json);\n      });\n    } else {\n      this.addMesh(defaultHexGrid);\n    }\n  },\n  addMesh: function addMesh(json) {\n    var grid = new vg.HexGrid();\n    grid.fromJSON(json);\n    var board = new vg.Board(grid);\n    board.generateTilemap();\n    this.el.setObject3D('mesh', board.group);\n    this.addMaterial();\n  },\n  addMaterial: function addMaterial() {\n    var materialComponent = this.el.components.material;\n    var material = (materialComponent || {}).material;\n    if (!material) return;\n    this.el.object3D.traverse(function (node) {\n      if (node.isMesh) {\n        node.material = material;\n      }\n    });\n  },\n  remove: function remove() {\n    this.el.removeObject3D('mesh');\n  }\n});","map":{"version":3,"names":["vg","require","defaultHexGrid","module","exports","Primitive","AFRAME","registerPrimitive","defaultComponents","mappings","src","Component","registerComponent","dependencies","schema","type","init","_this","data","fetch","then","response","json","addMesh","grid","HexGrid","fromJSON","board","Board","generateTilemap","el","setObject3D","group","addMaterial","materialComponent","components","material","object3D","traverse","node","isMesh","remove","removeObject3D"],"sources":["/Users/Shivam/Library/CloudStorage/GoogleDrive-sraval@g.harvard.edu/My Drive/Github/embedding-modifier/app/node_modules/aframe-extras/src/primitives/a-hexgrid.js"],"sourcesContent":["const vg = require('../../lib/hex-grid.min.js');\nconst defaultHexGrid = require('../../lib/default-hex-grid');\n\n/**\n * Hex grid.\n */\nmodule.exports.Primitive = AFRAME.registerPrimitive('a-hexgrid', {\n  defaultComponents: {\n    'hexgrid': {}\n  },\n  mappings: {\n    src: 'hexgrid.src'\n  }\n});\n\nmodule.exports.Component = AFRAME.registerComponent('hexgrid', {\n  dependencies: ['material'],\n  schema: {\n    src: {type: 'asset'}\n  },\n  init: function () {\n    const data = this.data;\n    if (data.src) {\n      fetch(data.src)\n        .then((response) => response.json())\n        .then((json) => this.addMesh(json));\n    } else {\n      this.addMesh(defaultHexGrid);\n    }\n  },\n  addMesh: function (json) {\n    const grid = new vg.HexGrid();\n    grid.fromJSON(json);\n    const board = new vg.Board(grid);\n    board.generateTilemap();\n    this.el.setObject3D('mesh', board.group);\n    this.addMaterial();\n  },\n  addMaterial: function () {\n    const materialComponent = this.el.components.material;\n    const material = (materialComponent || {}).material;\n    if (!material) return;\n    this.el.object3D.traverse((node) => {\n      if (node.isMesh) {\n        node.material = material;\n      }\n    });\n  },\n  remove: function () {\n    this.el.removeObject3D('mesh');\n  }\n});\n"],"mappings":"AAAA,IAAMA,EAAE,GAAGC,OAAO,CAAC,2BAA2B,CAAC;AAC/C,IAAMC,cAAc,GAAGD,OAAO,CAAC,4BAA4B,CAAC;;AAE5D;AACA;AACA;AACAE,MAAM,CAACC,OAAO,CAACC,SAAS,GAAGC,MAAM,CAACC,iBAAiB,CAAC,WAAW,EAAE;EAC/DC,iBAAiB,EAAE;IACjB,SAAS,EAAE,CAAC;EACd,CAAC;EACDC,QAAQ,EAAE;IACRC,GAAG,EAAE;EACP;AACF,CAAC,CAAC;AAEFP,MAAM,CAACC,OAAO,CAACO,SAAS,GAAGL,MAAM,CAACM,iBAAiB,CAAC,SAAS,EAAE;EAC7DC,YAAY,EAAE,CAAC,UAAU,CAAC;EAC1BC,MAAM,EAAE;IACNJ,GAAG,EAAE;MAACK,IAAI,EAAE;IAAO;EACrB,CAAC;EACDC,IAAI,EAAE,SAAAA,KAAA,EAAY;IAAA,IAAAC,KAAA;IAChB,IAAMC,IAAI,GAAG,IAAI,CAACA,IAAI;IACtB,IAAIA,IAAI,CAACR,GAAG,EAAE;MACZS,KAAK,CAACD,IAAI,CAACR,GAAG,CAAC,CACZU,IAAI,CAAC,UAACC,QAAQ;QAAA,OAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC;MAAA,EAAC,CACnCF,IAAI,CAAC,UAACE,IAAI;QAAA,OAAKL,KAAI,CAACM,OAAO,CAACD,IAAI,CAAC;MAAA,EAAC;IACvC,CAAC,MAAM;MACL,IAAI,CAACC,OAAO,CAACrB,cAAc,CAAC;IAC9B;EACF,CAAC;EACDqB,OAAO,EAAE,SAAAA,QAAUD,IAAI,EAAE;IACvB,IAAME,IAAI,GAAG,IAAIxB,EAAE,CAACyB,OAAO,CAAC,CAAC;IAC7BD,IAAI,CAACE,QAAQ,CAACJ,IAAI,CAAC;IACnB,IAAMK,KAAK,GAAG,IAAI3B,EAAE,CAAC4B,KAAK,CAACJ,IAAI,CAAC;IAChCG,KAAK,CAACE,eAAe,CAAC,CAAC;IACvB,IAAI,CAACC,EAAE,CAACC,WAAW,CAAC,MAAM,EAAEJ,KAAK,CAACK,KAAK,CAAC;IACxC,IAAI,CAACC,WAAW,CAAC,CAAC;EACpB,CAAC;EACDA,WAAW,EAAE,SAAAA,YAAA,EAAY;IACvB,IAAMC,iBAAiB,GAAG,IAAI,CAACJ,EAAE,CAACK,UAAU,CAACC,QAAQ;IACrD,IAAMA,QAAQ,GAAG,CAACF,iBAAiB,IAAI,CAAC,CAAC,EAAEE,QAAQ;IACnD,IAAI,CAACA,QAAQ,EAAE;IACf,IAAI,CAACN,EAAE,CAACO,QAAQ,CAACC,QAAQ,CAAC,UAACC,IAAI,EAAK;MAClC,IAAIA,IAAI,CAACC,MAAM,EAAE;QACfD,IAAI,CAACH,QAAQ,GAAGA,QAAQ;MAC1B;IACF,CAAC,CAAC;EACJ,CAAC;EACDK,MAAM,EAAE,SAAAA,OAAA,EAAY;IAClB,IAAI,CAACX,EAAE,CAACY,cAAc,CAAC,MAAM,CAAC;EAChC;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}