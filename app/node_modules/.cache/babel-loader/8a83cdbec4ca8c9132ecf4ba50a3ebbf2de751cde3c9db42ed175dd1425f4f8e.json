{"ast":null,"code":"/**\n * Touch-to-move-forward controls for mobile.\n */\nmodule.exports = AFRAME.registerComponent('touch-controls', {\n  schema: {\n    enabled: {\n      default: true\n    },\n    reverseEnabled: {\n      default: true\n    }\n  },\n  init: function init() {\n    this.dVelocity = new THREE.Vector3();\n    this.bindMethods();\n    this.direction = 0;\n  },\n  play: function play() {\n    this.addEventListeners();\n  },\n  pause: function pause() {\n    this.removeEventListeners();\n    this.dVelocity.set(0, 0, 0);\n  },\n  remove: function remove() {\n    this.pause();\n  },\n  addEventListeners: function addEventListeners() {\n    var sceneEl = this.el.sceneEl;\n    var canvasEl = sceneEl.canvas;\n    if (!canvasEl) {\n      sceneEl.addEventListener('render-target-loaded', this.addEventListeners.bind(this));\n      return;\n    }\n    canvasEl.addEventListener('touchstart', this.onTouchStart);\n    canvasEl.addEventListener('touchend', this.onTouchEnd);\n  },\n  removeEventListeners: function removeEventListeners() {\n    var canvasEl = this.el.sceneEl && this.el.sceneEl.canvas;\n    if (!canvasEl) {\n      return;\n    }\n    canvasEl.removeEventListener('touchstart', this.onTouchStart);\n    canvasEl.removeEventListener('touchend', this.onTouchEnd);\n  },\n  isVelocityActive: function isVelocityActive() {\n    return this.data.enabled && !!this.direction;\n  },\n  getVelocityDelta: function getVelocityDelta() {\n    this.dVelocity.z = this.direction;\n    return this.dVelocity.clone();\n  },\n  bindMethods: function bindMethods() {\n    this.onTouchStart = this.onTouchStart.bind(this);\n    this.onTouchEnd = this.onTouchEnd.bind(this);\n  },\n  onTouchStart: function onTouchStart(e) {\n    this.direction = -1;\n    if (this.data.reverseEnabled && e.touches.length === 2) {\n      this.direction = 1;\n    }\n    e.preventDefault();\n  },\n  onTouchEnd: function onTouchEnd(e) {\n    this.direction = 0;\n    e.preventDefault();\n  }\n});","map":{"version":3,"names":["module","exports","AFRAME","registerComponent","schema","enabled","default","reverseEnabled","init","dVelocity","THREE","Vector3","bindMethods","direction","play","addEventListeners","pause","removeEventListeners","set","remove","sceneEl","el","canvasEl","canvas","addEventListener","bind","onTouchStart","onTouchEnd","removeEventListener","isVelocityActive","data","getVelocityDelta","z","clone","e","touches","length","preventDefault"],"sources":["/Users/Shivam/Library/CloudStorage/GoogleDrive-sraval@g.harvard.edu/My Drive/Github/embedding-modifier/app/node_modules/aframe-extras/src/controls/touch-controls.js"],"sourcesContent":["/**\n * Touch-to-move-forward controls for mobile.\n */\nmodule.exports = AFRAME.registerComponent('touch-controls', {\n  schema: {\n    enabled: { default: true },\n    reverseEnabled: { default: true }\n  },\n\n  init: function () {\n    this.dVelocity = new THREE.Vector3();\n    this.bindMethods();\n    this.direction = 0;\n  },\n\n  play: function () {\n    this.addEventListeners();\n  },\n\n  pause: function () {\n    this.removeEventListeners();\n    this.dVelocity.set(0, 0, 0);\n  },\n\n  remove: function () {\n    this.pause();\n  },\n\n  addEventListeners: function () {\n    const sceneEl = this.el.sceneEl;\n    const canvasEl = sceneEl.canvas;\n\n    if (!canvasEl) {\n      sceneEl.addEventListener('render-target-loaded', this.addEventListeners.bind(this));\n      return;\n    }\n\n    canvasEl.addEventListener('touchstart', this.onTouchStart);\n    canvasEl.addEventListener('touchend', this.onTouchEnd);\n  },\n\n  removeEventListeners: function () {\n    const canvasEl = this.el.sceneEl && this.el.sceneEl.canvas;\n    if (!canvasEl) { return; }\n\n    canvasEl.removeEventListener('touchstart', this.onTouchStart);\n    canvasEl.removeEventListener('touchend', this.onTouchEnd);\n  },\n\n  isVelocityActive: function () {\n    return this.data.enabled && !!this.direction;\n  },\n\n  getVelocityDelta: function () {\n    this.dVelocity.z = this.direction;\n    return this.dVelocity.clone();\n  },\n\n  bindMethods: function () {\n    this.onTouchStart = this.onTouchStart.bind(this);\n    this.onTouchEnd = this.onTouchEnd.bind(this);\n  },\n\n  onTouchStart: function (e) {\n    this.direction = -1;\n    if (this.data.reverseEnabled && e.touches.length === 2) {\n      this.direction = 1;\n    }\n    e.preventDefault();\n  },\n\n  onTouchEnd: function (e) {\n    this.direction = 0;\n    e.preventDefault();\n  }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}