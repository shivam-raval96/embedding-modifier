{"ast":null,"code":"var ACCEL_G = -9.8,\n  // m/s^2\n  EASING = -15; // m/s^2\n\n/**\n * Jump ability.\n */\nmodule.exports = AFRAME.registerComponent('jump-ability', {\n  dependencies: ['velocity'],\n  /* Schema\n  ——————————————————————————————————————————————*/\n\n  schema: {\n    on: {\n      default: 'keydown:Space gamepadbuttondown:0'\n    },\n    playerHeight: {\n      default: 1.764\n    },\n    maxJumps: {\n      default: 1\n    },\n    distance: {\n      default: 5\n    },\n    debug: {\n      default: false\n    }\n  },\n  init: function init() {\n    this.velocity = 0;\n    this.numJumps = 0;\n    var beginJump = this.beginJump.bind(this),\n      events = this.data.on.split(' ');\n    this.bindings = {};\n    for (var i = 0; i < events.length; i++) {\n      this.bindings[events[i]] = beginJump;\n      this.el.addEventListener(events[i], beginJump);\n    }\n    this.bindings.collide = this.onCollide.bind(this);\n    this.el.addEventListener('collide', this.bindings.collide);\n  },\n  remove: function remove() {\n    for (var event in this.bindings) {\n      if (this.bindings.hasOwnProperty(event)) {\n        this.el.removeEventListener(event, this.bindings[event]);\n        delete this.bindings[event];\n      }\n    }\n    this.el.removeEventListener('collide', this.bindings.collide);\n    delete this.bindings.collide;\n  },\n  beginJump: function beginJump() {\n    if (this.numJumps < this.data.maxJumps) {\n      var data = this.data,\n        initialVelocity = Math.sqrt(-2 * data.distance * (ACCEL_G + EASING)),\n        v = this.el.getAttribute('velocity');\n      this.el.setAttribute('velocity', {\n        x: v.x,\n        y: initialVelocity,\n        z: v.z\n      });\n      this.numJumps++;\n      this.el.emit('jumpstart');\n    }\n  },\n  onCollide: function onCollide() {\n    if (this.numJumps > 0) this.el.emit('jumpend');\n    this.numJumps = 0;\n  }\n});","map":{"version":3,"names":["ACCEL_G","EASING","module","exports","AFRAME","registerComponent","dependencies","schema","on","default","playerHeight","maxJumps","distance","debug","init","velocity","numJumps","beginJump","bind","events","data","split","bindings","i","length","el","addEventListener","collide","onCollide","remove","event","hasOwnProperty","removeEventListener","initialVelocity","Math","sqrt","v","getAttribute","setAttribute","x","y","z","emit"],"sources":["/Users/Shivam/Library/CloudStorage/GoogleDrive-sraval@g.harvard.edu/My Drive/Github/embedding-modifier/app/node_modules/aframe-extras/src/misc/jump-ability.js"],"sourcesContent":["const ACCEL_G = -9.8, // m/s^2\n    EASING = -15; // m/s^2\n\n/**\n * Jump ability.\n */\nmodule.exports = AFRAME.registerComponent('jump-ability', {\n  dependencies: ['velocity'],\n\n  /* Schema\n  ——————————————————————————————————————————————*/\n\n  schema: {\n    on: { default: 'keydown:Space gamepadbuttondown:0' },\n    playerHeight: { default: 1.764 },\n    maxJumps: { default: 1 },\n    distance: { default: 5 },\n    debug: { default: false }\n  },\n\n  init: function () {\n    this.velocity = 0;\n    this.numJumps = 0;\n\n    const beginJump = this.beginJump.bind(this),\n        events = this.data.on.split(' ');\n    this.bindings = {};\n    for (let i = 0; i <  events.length; i++) {\n      this.bindings[events[i]] = beginJump;\n      this.el.addEventListener(events[i], beginJump);\n    }\n    this.bindings.collide = this.onCollide.bind(this);\n    this.el.addEventListener('collide', this.bindings.collide);\n  },\n\n  remove: function () {\n    for (var event in this.bindings) {\n      if (this.bindings.hasOwnProperty(event)) {\n        this.el.removeEventListener(event, this.bindings[event]);\n        delete this.bindings[event];\n      }\n    }\n    this.el.removeEventListener('collide', this.bindings.collide);\n    delete this.bindings.collide;\n  },\n\n  beginJump: function () {\n    if (this.numJumps < this.data.maxJumps) {\n      const data = this.data,\n          initialVelocity = Math.sqrt(-2 * data.distance * (ACCEL_G + EASING)),\n          v = this.el.getAttribute('velocity');\n      this.el.setAttribute('velocity', {x: v.x, y: initialVelocity, z: v.z});\n      this.numJumps++;\n      this.el.emit('jumpstart');\n    }\n  },\n\n  onCollide: function () {\n    if (this.numJumps > 0) this.el.emit('jumpend');\n    this.numJumps = 0;\n  }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}