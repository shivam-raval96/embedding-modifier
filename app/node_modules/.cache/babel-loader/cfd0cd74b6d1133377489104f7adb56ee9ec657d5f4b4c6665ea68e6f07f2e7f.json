{"ast":null,"code":"var fetchScript = require('../../lib/fetch-script')();\nvar LOADER_SRC = 'https://cdn.jsdelivr.net/gh/mrdoob/three.js@r86/examples/js/loaders/GLTFLoader.js';\nvar loadLoader = function () {\n  var promise;\n  return function () {\n    promise = promise || fetchScript(LOADER_SRC);\n    return promise;\n  };\n}();\n\n/**\n * Legacy loader for glTF 1.0 models.\n * Asynchronously loads THREE.GLTFLoader from jsdelivr.\n */\nmodule.exports = AFRAME.registerComponent('gltf-model-legacy', {\n  schema: {\n    type: 'model'\n  },\n  init: function init() {\n    var _this = this;\n    this.model = null;\n    this.loader = null;\n    this.loaderPromise = loadLoader().then(function () {\n      _this.loader = new THREE.GLTFLoader();\n      _this.loader.setCrossOrigin('Anonymous');\n    });\n  },\n  update: function update() {\n    var _this2 = this;\n    var self = this;\n    var el = this.el;\n    var src = this.data;\n    if (!src) {\n      return;\n    }\n    this.remove();\n    this.loaderPromise.then(function () {\n      _this2.loader.load(src, function gltfLoaded(gltfModel) {\n        self.model = gltfModel.scene;\n        self.model.animations = gltfModel.animations;\n        el.setObject3D('mesh', self.model);\n        el.emit('model-loaded', {\n          format: 'gltf',\n          model: self.model\n        });\n      });\n    });\n  },\n  remove: function remove() {\n    if (!this.model) {\n      return;\n    }\n    this.el.removeObject3D('mesh');\n  }\n});","map":{"version":3,"names":["fetchScript","require","LOADER_SRC","loadLoader","promise","module","exports","AFRAME","registerComponent","schema","type","init","_this","model","loader","loaderPromise","then","THREE","GLTFLoader","setCrossOrigin","update","_this2","self","el","src","data","remove","load","gltfLoaded","gltfModel","scene","animations","setObject3D","emit","format","removeObject3D"],"sources":["/Users/Shivam/Library/CloudStorage/GoogleDrive-sraval@g.harvard.edu/My Drive/Github/embedding-modifier/app/node_modules/aframe-extras/src/loaders/gltf-model-legacy.js"],"sourcesContent":["const fetchScript = require('../../lib/fetch-script')();\n\nconst LOADER_SRC = 'https://cdn.jsdelivr.net/gh/mrdoob/three.js@r86/examples/js/loaders/GLTFLoader.js';\n\nconst loadLoader = (function () {\n  let promise;\n  return function () {\n    promise = promise || fetchScript(LOADER_SRC);\n    return promise;\n  };\n}());\n\n/**\n * Legacy loader for glTF 1.0 models.\n * Asynchronously loads THREE.GLTFLoader from jsdelivr.\n */\nmodule.exports = AFRAME.registerComponent('gltf-model-legacy', {\n  schema: {type: 'model'},\n\n  init: function () {\n    this.model = null;\n    this.loader = null;\n    this.loaderPromise = loadLoader().then(() => {\n      this.loader = new THREE.GLTFLoader();\n      this.loader.setCrossOrigin('Anonymous');\n    });\n  },\n\n  update: function () {\n    const self = this;\n    const el = this.el;\n    const src = this.data;\n\n    if (!src) { return; }\n\n    this.remove();\n\n    this.loaderPromise.then(() => {\n      this.loader.load(src, function gltfLoaded (gltfModel) {\n        self.model = gltfModel.scene;\n        self.model.animations = gltfModel.animations;\n        el.setObject3D('mesh', self.model);\n        el.emit('model-loaded', {format: 'gltf', model: self.model});\n      });\n    });\n  },\n\n  remove: function () {\n    if (!this.model) { return; }\n    this.el.removeObject3D('mesh');\n  }\n});\n"],"mappings":"AAAA,IAAMA,WAAW,GAAGC,OAAO,CAAC,wBAAwB,CAAC,CAAC,CAAC;AAEvD,IAAMC,UAAU,GAAG,mFAAmF;AAEtG,IAAMC,UAAU,GAAI,YAAY;EAC9B,IAAIC,OAAO;EACX,OAAO,YAAY;IACjBA,OAAO,GAAGA,OAAO,IAAIJ,WAAW,CAACE,UAAU,CAAC;IAC5C,OAAOE,OAAO;EAChB,CAAC;AACH,CAAC,CAAC,CAAE;;AAEJ;AACA;AACA;AACA;AACAC,MAAM,CAACC,OAAO,GAAGC,MAAM,CAACC,iBAAiB,CAAC,mBAAmB,EAAE;EAC7DC,MAAM,EAAE;IAACC,IAAI,EAAE;EAAO,CAAC;EAEvBC,IAAI,EAAE,SAAAA,KAAA,EAAY;IAAA,IAAAC,KAAA;IAChB,IAAI,CAACC,KAAK,GAAG,IAAI;IACjB,IAAI,CAACC,MAAM,GAAG,IAAI;IAClB,IAAI,CAACC,aAAa,GAAGZ,UAAU,CAAC,CAAC,CAACa,IAAI,CAAC,YAAM;MAC3CJ,KAAI,CAACE,MAAM,GAAG,IAAIG,KAAK,CAACC,UAAU,CAAC,CAAC;MACpCN,KAAI,CAACE,MAAM,CAACK,cAAc,CAAC,WAAW,CAAC;IACzC,CAAC,CAAC;EACJ,CAAC;EAEDC,MAAM,EAAE,SAAAA,OAAA,EAAY;IAAA,IAAAC,MAAA;IAClB,IAAMC,IAAI,GAAG,IAAI;IACjB,IAAMC,EAAE,GAAG,IAAI,CAACA,EAAE;IAClB,IAAMC,GAAG,GAAG,IAAI,CAACC,IAAI;IAErB,IAAI,CAACD,GAAG,EAAE;MAAE;IAAQ;IAEpB,IAAI,CAACE,MAAM,CAAC,CAAC;IAEb,IAAI,CAACX,aAAa,CAACC,IAAI,CAAC,YAAM;MAC5BK,MAAI,CAACP,MAAM,CAACa,IAAI,CAACH,GAAG,EAAE,SAASI,UAAUA,CAAEC,SAAS,EAAE;QACpDP,IAAI,CAACT,KAAK,GAAGgB,SAAS,CAACC,KAAK;QAC5BR,IAAI,CAACT,KAAK,CAACkB,UAAU,GAAGF,SAAS,CAACE,UAAU;QAC5CR,EAAE,CAACS,WAAW,CAAC,MAAM,EAAEV,IAAI,CAACT,KAAK,CAAC;QAClCU,EAAE,CAACU,IAAI,CAAC,cAAc,EAAE;UAACC,MAAM,EAAE,MAAM;UAAErB,KAAK,EAAES,IAAI,CAACT;QAAK,CAAC,CAAC;MAC9D,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EAEDa,MAAM,EAAE,SAAAA,OAAA,EAAY;IAClB,IAAI,CAAC,IAAI,CAACb,KAAK,EAAE;MAAE;IAAQ;IAC3B,IAAI,CAACU,EAAE,CAACY,cAAc,CAAC,MAAM,CAAC;EAChC;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}