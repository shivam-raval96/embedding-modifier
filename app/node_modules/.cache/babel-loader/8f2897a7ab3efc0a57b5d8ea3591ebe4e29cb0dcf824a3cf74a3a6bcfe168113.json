{"ast":null,"code":"const vg = require('../../lib/hex-grid.min.js');\nconst defaultHexGrid = require('../../lib/default-hex-grid');\n\n/**\n * Hex grid.\n */\nmodule.exports.Primitive = AFRAME.registerPrimitive('a-hexgrid', {\n  defaultComponents: {\n    'hexgrid': {}\n  },\n  mappings: {\n    src: 'hexgrid.src'\n  }\n});\nmodule.exports.Component = AFRAME.registerComponent('hexgrid', {\n  dependencies: ['material'],\n  schema: {\n    src: {\n      type: 'asset'\n    }\n  },\n  init: function () {\n    const data = this.data;\n    if (data.src) {\n      fetch(data.src).then(response => response.json()).then(json => this.addMesh(json));\n    } else {\n      this.addMesh(defaultHexGrid);\n    }\n  },\n  addMesh: function (json) {\n    const grid = new vg.HexGrid();\n    grid.fromJSON(json);\n    const board = new vg.Board(grid);\n    board.generateTilemap();\n    this.el.setObject3D('mesh', board.group);\n    this.addMaterial();\n  },\n  addMaterial: function () {\n    const materialComponent = this.el.components.material;\n    const material = (materialComponent || {}).material;\n    if (!material) return;\n    this.el.object3D.traverse(node => {\n      if (node.isMesh) {\n        node.material = material;\n      }\n    });\n  },\n  remove: function () {\n    this.el.removeObject3D('mesh');\n  }\n});","map":{"version":3,"names":["vg","require","defaultHexGrid","module","exports","Primitive","AFRAME","registerPrimitive","defaultComponents","mappings","src","Component","registerComponent","dependencies","schema","type","init","data","fetch","then","response","json","addMesh","grid","HexGrid","fromJSON","board","Board","generateTilemap","el","setObject3D","group","addMaterial","materialComponent","components","material","object3D","traverse","node","isMesh","remove","removeObject3D"],"sources":["/Users/Shivam/Library/CloudStorage/GoogleDrive-sraval@g.harvard.edu/My Drive/Github/embedding-modifier/app/node_modules/aframe-extras/src/primitives/a-hexgrid.js"],"sourcesContent":["const vg = require('../../lib/hex-grid.min.js');\nconst defaultHexGrid = require('../../lib/default-hex-grid');\n\n/**\n * Hex grid.\n */\nmodule.exports.Primitive = AFRAME.registerPrimitive('a-hexgrid', {\n  defaultComponents: {\n    'hexgrid': {}\n  },\n  mappings: {\n    src: 'hexgrid.src'\n  }\n});\n\nmodule.exports.Component = AFRAME.registerComponent('hexgrid', {\n  dependencies: ['material'],\n  schema: {\n    src: {type: 'asset'}\n  },\n  init: function () {\n    const data = this.data;\n    if (data.src) {\n      fetch(data.src)\n        .then((response) => response.json())\n        .then((json) => this.addMesh(json));\n    } else {\n      this.addMesh(defaultHexGrid);\n    }\n  },\n  addMesh: function (json) {\n    const grid = new vg.HexGrid();\n    grid.fromJSON(json);\n    const board = new vg.Board(grid);\n    board.generateTilemap();\n    this.el.setObject3D('mesh', board.group);\n    this.addMaterial();\n  },\n  addMaterial: function () {\n    const materialComponent = this.el.components.material;\n    const material = (materialComponent || {}).material;\n    if (!material) return;\n    this.el.object3D.traverse((node) => {\n      if (node.isMesh) {\n        node.material = material;\n      }\n    });\n  },\n  remove: function () {\n    this.el.removeObject3D('mesh');\n  }\n});\n"],"mappings":"AAAA,MAAMA,EAAE,GAAGC,OAAO,CAAC,2BAA2B,CAAC;AAC/C,MAAMC,cAAc,GAAGD,OAAO,CAAC,4BAA4B,CAAC;;AAE5D;AACA;AACA;AACAE,MAAM,CAACC,OAAO,CAACC,SAAS,GAAGC,MAAM,CAACC,iBAAiB,CAAC,WAAW,EAAE;EAC/DC,iBAAiB,EAAE;IACjB,SAAS,EAAE,CAAC;EACd,CAAC;EACDC,QAAQ,EAAE;IACRC,GAAG,EAAE;EACP;AACF,CAAC,CAAC;AAEFP,MAAM,CAACC,OAAO,CAACO,SAAS,GAAGL,MAAM,CAACM,iBAAiB,CAAC,SAAS,EAAE;EAC7DC,YAAY,EAAE,CAAC,UAAU,CAAC;EAC1BC,MAAM,EAAE;IACNJ,GAAG,EAAE;MAACK,IAAI,EAAE;IAAO;EACrB,CAAC;EACDC,IAAI,EAAE,SAAAA,CAAA,EAAY;IAChB,MAAMC,IAAI,GAAG,IAAI,CAACA,IAAI;IACtB,IAAIA,IAAI,CAACP,GAAG,EAAE;MACZQ,KAAK,CAACD,IAAI,CAACP,GAAG,CAAC,CACZS,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEE,IAAI,IAAK,IAAI,CAACC,OAAO,CAACD,IAAI,CAAC,CAAC;IACvC,CAAC,MAAM;MACL,IAAI,CAACC,OAAO,CAACpB,cAAc,CAAC;IAC9B;EACF,CAAC;EACDoB,OAAO,EAAE,SAAAA,CAAUD,IAAI,EAAE;IACvB,MAAME,IAAI,GAAG,IAAIvB,EAAE,CAACwB,OAAO,CAAC,CAAC;IAC7BD,IAAI,CAACE,QAAQ,CAACJ,IAAI,CAAC;IACnB,MAAMK,KAAK,GAAG,IAAI1B,EAAE,CAAC2B,KAAK,CAACJ,IAAI,CAAC;IAChCG,KAAK,CAACE,eAAe,CAAC,CAAC;IACvB,IAAI,CAACC,EAAE,CAACC,WAAW,CAAC,MAAM,EAAEJ,KAAK,CAACK,KAAK,CAAC;IACxC,IAAI,CAACC,WAAW,CAAC,CAAC;EACpB,CAAC;EACDA,WAAW,EAAE,SAAAA,CAAA,EAAY;IACvB,MAAMC,iBAAiB,GAAG,IAAI,CAACJ,EAAE,CAACK,UAAU,CAACC,QAAQ;IACrD,MAAMA,QAAQ,GAAG,CAACF,iBAAiB,IAAI,CAAC,CAAC,EAAEE,QAAQ;IACnD,IAAI,CAACA,QAAQ,EAAE;IACf,IAAI,CAACN,EAAE,CAACO,QAAQ,CAACC,QAAQ,CAAEC,IAAI,IAAK;MAClC,IAAIA,IAAI,CAACC,MAAM,EAAE;QACfD,IAAI,CAACH,QAAQ,GAAGA,QAAQ;MAC1B;IACF,CAAC,CAAC;EACJ,CAAC;EACDK,MAAM,EAAE,SAAAA,CAAA,EAAY;IAClB,IAAI,CAACX,EAAE,CAACY,cAAc,CAAC,MAAM,CAAC;EAChC;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}