{"ast":null,"code":"import React,{useRef,useEffect}from'react';import*as d3 from'd3';import{layoutTextLabel,layoutGreedy,layoutLabel,layoutRemoveOverlaps}from'd3fc-label-layout';import{select}from'd3-selection';import{jsx as _jsx}from\"react/jsx-runtime\";var colors=[\"#9edae5\",\"#17becf\",\"#dbdb8d\",\"#bcbd22\",\"#c7c7c7\",\"#7f7f7f\",\"#f7b6d2\",\"#e377c2\",\"#c49c94\",\"#8c564b\",\"#c5b0d5\",\"#9467bd\",\"#ff9896\",\"#d62728\",\"#98df8a\",\"#2ca02c\",\"#ffbb78\",\"#ff7f0e\",\"#aec7e8\",\"#1f77b4\"];var colors2=[\"#17becf\",\"#bcbd22\",\"#7f7f7f\",\"#e377c2\",\"#8c564b\",\"#9467bd\",\"#d62728\",\"#2ca02c\",\"#ff7f0e\",\"#1f77b4\"];function Scatterplot(props){var width=props.width,height=props.height,data=props.data,labels=props.labels;var margin={top:50,left:80,right:80,bottom:10};var ref=useRef();useEffect(function(){var svg=d3.select(ref.current);svg.selectAll('*').remove();// Set scales for the scatterplot\nvar xScale=d3.scaleLinear().domain([d3.min(data,function(d){return d[0];}),d3.max(data,function(d){return d[0];})]).range([margin.left,width-margin.right]);var yScale=d3.scaleLinear().domain([d3.min(data,function(d){return d[1];}),d3.max(data,function(d){return d[1];})]).range([height-margin.bottom,margin.top]);// Tooltips\nvar tooltip=d3.select(\"body\").append(\"div\").attr(\"class\",\"tooltip\").style(\"opacity\",0).style(\"background-color\",\"white\").style(\"border\",\"solid\").style(\"border-width\",\"2px\").style(\"border-radius\",\"5px\").style(\"padding\",\"5px\").style(\"margin-right\",\"50px\").style(\"position\",\"absolute\");// Bind data to circles and add tooltips\nsvg.selectAll('circle').data(data).enter().append('circle').attr('cx',function(d){return xScale(d[0]);}).attr('cy',function(d){return yScale(d[1]);}).attr('r',4).style(\"opacity\",function(d){return d[3]===-1?0.2:0.9;}).attr('fill',function(d){return d[3]===-1?'grey':colors[d[3]%20];}).attr('stroke','black')// Add this line for the boundary color\n.attr('stroke-width',0.5)// Add this line for the boundary width\n.on(\"mouseover\",function(event,d){tooltip.transition().duration(100).style(\"opacity\",.9);tooltip.html(d[2]).style(\"left\",event.pageX+5+\"px\").style(\"top\",event.pageY-28+\"px\");}).on(\"mouseout\",function(d){tooltip.transition().duration(500).style(\"opacity\",0);});// Bind data to text elements and add labels\nsvg.selectAll('text.label').data(labels).enter().append('text').attr('class','label').attr('fill','black').attr('x',function(d){return xScale(d[0]);}).attr('y',function(d){return yScale(d[1]);}).attr('dy','.35em').attr('text-anchor','middle').text(function(d){return\"\".concat(d[2]);}).attr('stroke','white').attr('stroke-width','0.3px').attr('font-size','17px').attr('font-weight','800');},[data,labels,width,height]);return/*#__PURE__*/_jsx(\"svg\",{ref:ref,width:width,height:height});}export default Scatterplot;","map":{"version":3,"names":["React","useRef","useEffect","d3","layoutTextLabel","layoutGreedy","layoutLabel","layoutRemoveOverlaps","select","jsx","_jsx","colors","colors2","Scatterplot","props","width","height","data","labels","margin","top","left","right","bottom","ref","svg","current","selectAll","remove","xScale","scaleLinear","domain","min","d","max","range","yScale","tooltip","append","attr","style","enter","on","event","transition","duration","html","pageX","pageY","text","concat"],"sources":["/Users/Shivam/Library/CloudStorage/GoogleDrive-sraval@g.harvard.edu/My Drive/Github/embedding-modifier/app/src/plotdata.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { layoutTextLabel, layoutGreedy,\n    layoutLabel, layoutRemoveOverlaps } from 'd3fc-label-layout';\nimport { select } from 'd3-selection';\n\n\nconst colors = [\n    \"#9edae5\", \"#17becf\", \"#dbdb8d\", \"#bcbd22\", \"#c7c7c7\", \"#7f7f7f\", \n    \"#f7b6d2\", \"#e377c2\", \"#c49c94\", \"#8c564b\", \"#c5b0d5\", \"#9467bd\", \n    \"#ff9896\", \"#d62728\", \"#98df8a\", \"#2ca02c\", \"#ffbb78\", \"#ff7f0e\", \n    \"#aec7e8\", \"#1f77b4\"\n]\n\nconst colors2 = [\n    \"#17becf\", \"#bcbd22\", \"#7f7f7f\", \"#e377c2\", \"#8c564b\", \n    \"#9467bd\", \"#d62728\", \"#2ca02c\", \"#ff7f0e\", \"#1f77b4\"\n]\n\n\nfunction Scatterplot(props) {\n  const { width, height, data , labels} = props;\n  const margin = {top:50, left:80, right:80, bottom:10}\n  const ref = useRef();\n\n  useEffect(() => {\n    const svg = d3.select(ref.current);\n\n\n    svg.selectAll('*').remove()\n    \n    // Set scales for the scatterplot\n    const xScale = d3.scaleLinear()\n      .domain([d3.min(data, d => d[0]), d3.max(data, d => d[0])])\n      .range([margin.left, width-margin.right]);\n\n    const yScale = d3.scaleLinear()\n      .domain([d3.min(data, d => d[1]), d3.max(data, d => d[1])])\n      .range([height-margin.bottom, margin.top]);\n\n\n    // Tooltips\n    const tooltip = d3.select(\"body\").append(\"div\")\n        .attr(\"class\", \"tooltip\")\n        .style(\"opacity\", 0)\n        .style(\"background-color\", \"white\")\n        .style(\"border\", \"solid\")\n        .style(\"border-width\", \"2px\")\n        .style(\"border-radius\", \"5px\")\n        .style(\"padding\", \"5px\")\n        .style(\"margin-right\", \"50px\")\n        .style(\"position\", \"absolute\");\n\n\n    // Bind data to circles and add tooltips\n    svg.selectAll('circle')\n        .data(data)\n        .enter()\n        .append('circle')\n        .attr('cx', d => xScale(d[0]))\n        .attr('cy', d => yScale(d[1]))\n        .attr('r', 4)\n        .style(\"opacity\", d =>  d[3]===-1? 0.2 : 0.9)\n        .attr('fill', d =>  d[3]===-1?'grey':colors[d[3]%20])\n        .attr('stroke', 'black')  // Add this line for the boundary color\n        .attr('stroke-width', 0.5)  // Add this line for the boundary width\n        .on(\"mouseover\", (event, d) => {\n            tooltip.transition()\n                .duration(100)\n                .style(\"opacity\", .9);\n            tooltip.html(d[2])\n                .style(\"left\", (event.pageX + 5) + \"px\")\n                .style(\"top\", (event.pageY - 28) + \"px\");\n        })\n        .on(\"mouseout\", (d) => {\n            tooltip.transition()\n                .duration(500)\n                .style(\"opacity\", 0);\n        });\n\n\n    // Bind data to text elements and add labels\n    svg.selectAll('text.label')\n        .data(labels)\n        .enter()\n        .append('text')\n        .attr('class', 'label')\n        .attr('fill', 'black')  \n        .attr('x', d => xScale(d[0])) \n        .attr('y', d => yScale(d[1]))\n        .attr('dy', '.35em')  \n        .attr('text-anchor', 'middle')\n        .text(d => `${d[2]}`)\n        .attr('stroke', 'white')  \n        .attr('stroke-width', '0.3px') \n        .attr('font-size', '17px')\n        .attr('font-weight', '800') ;\n\n      \n\n  }, [data, labels, width, height]);\n\n  return <svg ref={ref} width={width} height={height}></svg>;\n}\n\nexport default Scatterplot;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}