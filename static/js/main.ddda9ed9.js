/*! For license information please see main.ddda9ed9.js.LICENSE.txt */
!function(){var e={8649:function(e,t,n){n(9652),n(6802),n(9076),n(2586),n(2567)},93:function(e){e.exports=THREE.ColladaLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.ColladaLoader.prototype={constructor:THREE.ColladaLoader,crossOrigin:"anonymous",load:function(e,t,n,r){var i=this,a=void 0===i.path?THREE.LoaderUtils.extractUrlBase(e):i.path,o=new THREE.FileLoader(i.manager);o.setPath(i.path),o.load(e,(function(e){t(i.parse(e,a))}),n,r)},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},options:{set convertUpAxis(e){console.warn("THREE.ColladaLoader: options.convertUpAxis() has been removed. Up axis is converted automatically.")}},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,t){function n(e,t){for(var n=[],r=e.childNodes,i=0,a=r.length;i<a;i++){var o=r[i];o.nodeName===t&&n.push(o)}return n}function r(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=t[r];return n}function i(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=parseFloat(t[r]);return n}function a(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=parseInt(t[r]);return n}function o(e){return e.substring(1)}function s(e){return 0===Object.keys(e).length}function u(e){return void 0!==e&&!0===e.hasAttribute("meter")?parseFloat(e.getAttribute("meter")):1}function l(e){return void 0!==e?e.textContent:"Y_UP"}function c(e,t,r,i){var a=n(e,t)[0];if(void 0!==a)for(var o=n(a,r),s=0;s<o.length;s++)i(o[s])}function h(e,t){for(var n in e){e[n].build=t(e[n])}}function d(e,t){return void 0!==e.build||(e.build=t(e)),e.build}function g(e){for(var t={inputs:{}},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType&&"input"===i.nodeName){var a=o(i.getAttribute("source")),s=i.getAttribute("semantic");t.inputs[s]=a}}return t}function p(e){var t={},n=e.getAttribute("target").split("/"),r=n.shift(),i=n.shift(),a=-1!==i.indexOf("("),s=-1!==i.indexOf(".");if(s)n=i.split("."),i=n.shift(),t.member=n.shift();else if(a){var u=i.split("(");i=u.shift();for(var l=0;l<u.length;l++)u[l]=parseInt(u[l].replace(/\)/,""));t.indices=u}return t.id=r,t.sid=i,t.arraySyntax=a,t.memberSyntax=s,t.sampler=o(e.getAttribute("source")),t}function f(e){var t=[],n=e.channels,r=e.samplers,i=e.sources;for(var a in n)if(n.hasOwnProperty(a)){var o=n[a],s=r[o.sampler],u=s.inputs.INPUT,l=s.inputs.OUTPUT;x(v(o,i[u],i[l]),t)}return t}function m(e){return d(We.animations[e],f)}function v(e,t,n){var r,i,a,o,s,u,l=We.nodes[e.id],c=Pe(l.id),h=l.transforms[e.sid],d=l.matrix.clone().transpose(),g={};switch(h){case"matrix":for(a=0,o=t.array.length;a<o;a++)if(r=t.array[a],i=a*n.stride,void 0===g[r]&&(g[r]={}),!0===e.arraySyntax){var p=n.array[i],f=e.indices[0]+4*e.indices[1];g[r][f]=p}else for(s=0,u=n.stride;s<u;s++)g[r][s]=n.array[i+s];break;case"translate":case"rotate":case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',h)}var m=function(e,t){var n=[];for(var r in e)n.push({time:parseFloat(r),value:e[r]});n.sort(a);for(var i=0;i<16;i++)w(n,i,t.elements[i]);return n;function a(e,t){return e.time-t.time}}(g,d);return{name:c.uuid,keyframes:m}}var y=new THREE.Vector3,A=new THREE.Vector3,b=new THREE.Quaternion;function x(e,t){for(var n=e.keyframes,r=e.name,i=[],a=[],o=[],s=[],u=0,l=n.length;u<l;u++){var c=n[u],h=c.time,d=c.value;_e.fromArray(d).transpose(),_e.decompose(y,b,A),i.push(h),a.push(y.x,y.y,y.z),o.push(b.x,b.y,b.z,b.w),s.push(A.x,A.y,A.z)}return a.length>0&&t.push(new THREE.VectorKeyframeTrack(r+".position",i,a)),o.length>0&&t.push(new THREE.QuaternionKeyframeTrack(r+".quaternion",i,o)),s.length>0&&t.push(new THREE.VectorKeyframeTrack(r+".scale",i,s)),t}function w(e,t,n){var r,i,a,o=!0;for(i=0,a=e.length;i<a;i++)void 0===(r=e[i]).value[t]?r.value[t]=null:o=!1;if(!0===o)for(i=0,a=e.length;i<a;i++)(r=e[i]).value[t]=n;else!function(e,t){for(var n,r,i=0,a=e.length;i<a;i++){var o=e[i];if(null===o.value[t]){if(n=E(e,i,t),r=_(e,i,t),null===n){o.value[t]=r.value[t];continue}if(null===r){o.value[t]=n.value[t];continue}C(o,n,r,t)}}}(e,t)}function E(e,t,n){for(;t>=0;){var r=e[t];if(null!==r.value[n])return r;t--}return null}function _(e,t,n){for(;t<e.length;){var r=e[t];if(null!==r.value[n])return r;t++}return null}function C(e,t,n,r){n.time-t.time!==0?e.value[r]=(e.time-t.time)*(n.value[r]-t.value[r])/(n.time-t.time)+t.value[r]:e.value[r]=t.value[r]}function M(e){for(var t=[],n=e.name,r=e.end-e.start||-1,i=e.animations,a=0,o=i.length;a<o;a++)for(var s=m(i[a]),u=0,l=s.length;u<l;u++)t.push(s[u]);return new THREE.AnimationClip(n,r,t)}function S(e){return d(We.clips[e],M)}function I(e){for(var t={sources:{}},n=0,r=e.childNodes.length;n<r;n++){var a=e.childNodes[n];if(1===a.nodeType)switch(a.nodeName){case"bind_shape_matrix":t.bindShapeMatrix=i(a.textContent);break;case"source":var o=a.getAttribute("id");t.sources[o]=ie(a);break;case"joints":t.joints=T(a);break;case"vertex_weights":t.vertexWeights=k(a)}}return t}function T(e){for(var t={inputs:{}},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType&&"input"===i.nodeName){var a=i.getAttribute("semantic"),s=o(i.getAttribute("source"));t.inputs[a]=s}}return t}function k(e){for(var t={inputs:{}},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"input":var s=i.getAttribute("semantic"),u=o(i.getAttribute("source")),l=parseInt(i.getAttribute("offset"));t.inputs[s]={id:u,offset:l};break;case"vcount":t.vcount=a(i.textContent);break;case"v":t.v=a(i.textContent)}}return t}function R(e){var t={id:e.id},n=We.geometries[t.id];return void 0!==e.skin&&(t.skin=function(e){var t,n,r,i=4,a={joints:[],indices:{array:[],stride:i},weights:{array:[],stride:i}},o=e.sources,s=e.vertexWeights,u=s.vcount,l=s.v,c=s.inputs.JOINT.offset,h=s.inputs.WEIGHT.offset,d=e.sources[e.joints.inputs.JOINT],g=e.sources[e.joints.inputs.INV_BIND_MATRIX],p=o[s.inputs.WEIGHT.id].array,f=0;for(t=0,r=u.length;t<r;t++){var m=u[t],v=[];for(n=0;n<m;n++){var y=l[f+c],A=p[l[f+h]];v.push({index:y,weight:A}),f+=2}for(v.sort(E),n=0;n<i;n++){var b=v[n];void 0!==b?(a.indices.array.push(b.index),a.weights.array.push(b.weight)):(a.indices.array.push(0),a.weights.array.push(0))}}e.bindShapeMatrix?a.bindMatrix=(new THREE.Matrix4).fromArray(e.bindShapeMatrix).transpose():a.bindMatrix=(new THREE.Matrix4).identity();for(t=0,r=d.array.length;t<r;t++){var x=d.array[t],w=(new THREE.Matrix4).fromArray(g.array,t*g.stride).transpose();a.joints.push({name:x,boneInverse:w})}return a;function E(e,t){return t.weight-e.weight}}(e.skin),n.sources.skinIndices=t.skin.indices,n.sources.skinWeights=t.skin.weights),t}function L(e){return void 0!==e.build?e.build:e.init_from}function B(e){var t=We.images[e];return void 0!==t?d(t,L):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",e),null)}function D(e){for(var t={surfaces:{},samplers:{}},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"newparam":P(i,t);break;case"technique":t.technique=F(i);break;case"extra":t.extra=V(i)}}return t}function P(e,t){for(var n=e.getAttribute("sid"),r=0,i=e.childNodes.length;r<i;r++){var a=e.childNodes[r];if(1===a.nodeType)switch(a.nodeName){case"surface":t.surfaces[n]=O(a);break;case"sampler2D":t.samplers[n]=N(a)}}}function O(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType&&"init_from"===i.nodeName)t.init_from=i.textContent}return t}function N(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType&&"source"===i.nodeName)t.source=i.textContent}return t}function F(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"constant":case"lambert":case"blinn":case"phong":t.type=i.nodeName,t.parameters=U(i)}}return t}function U(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":t[i.nodeName]=z(i);break;case"transparent":t[i.nodeName]={opaque:i.getAttribute("opaque"),data:z(i)}}}return t}function z(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var a=e.childNodes[n];if(1===a.nodeType)switch(a.nodeName){case"color":t[a.nodeName]=i(a.textContent);break;case"float":t[a.nodeName]=parseFloat(a.textContent);break;case"texture":t[a.nodeName]={id:a.getAttribute("texture"),extra:j(a)}}}return t}function j(e){for(var t={technique:{}},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType&&"extra"===i.nodeName)H(i,t)}return t}function H(e,t){for(var n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType&&"technique"===i.nodeName)G(i,t)}}function G(e,t){for(var n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":t.technique[i.nodeName]=parseFloat(i.textContent);break;case"wrapU":case"wrapV":"TRUE"===i.textContent.toUpperCase()?t.technique[i.nodeName]=1:"FALSE"===i.textContent.toUpperCase()?t.technique[i.nodeName]=0:t.technique[i.nodeName]=parseInt(i.textContent)}}}function V(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType&&"technique"===i.nodeName)t.technique=Q(i)}return t}function Q(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType&&"double_sided"===i.nodeName)t[i.nodeName]=parseInt(i.textContent)}return t}function W(e){return e}function q(e){var t,n,r=(t=e.url,d(We.effects[t],W)),i=r.profile.technique,a=r.profile.extra;switch(i.type){case"phong":case"blinn":n=new THREE.MeshPhongMaterial;break;case"lambert":n=new THREE.MeshLambertMaterial;break;default:n=new THREE.MeshBasicMaterial}function o(e){var t=r.profile.samplers[e.id],n=null;void 0!==t?n=B(r.profile.surfaces[t.source].init_from):(console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),n=B(e.id));if(null!==n){var i=function(e){var t,n=e.slice(2+(e.lastIndexOf(".")-1>>>0));t="tga"===(n=n.toLowerCase())?ze:He;return t}(n);if(void 0!==i){var a=i.load(n),o=e.extra;if(void 0!==o&&void 0!==o.technique&&!1===s(o.technique)){var u=o.technique;a.wrapS=u.wrapU?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,a.wrapT=u.wrapV?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,a.offset.set(u.offsetU||0,u.offsetV||0),a.repeat.set(u.repeatU||1,u.repeatV||1)}else a.wrapS=THREE.RepeatWrapping,a.wrapT=THREE.RepeatWrapping;return a}return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",n),null}return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",e.id),null}n.name=e.name;var u=i.parameters;for(var l in u){var c=u[l];switch(l){case"diffuse":c.color&&n.color.fromArray(c.color),c.texture&&(n.map=o(c.texture));break;case"specular":c.color&&n.specular&&n.specular.fromArray(c.color),c.texture&&(n.specularMap=o(c.texture));break;case"bump":c.texture&&(n.normalMap=o(c.texture));break;case"ambient":c.texture&&(n.lightMap=o(c.texture));break;case"shininess":c.float&&n.shininess&&(n.shininess=c.float);break;case"emission":c.color&&n.emissive&&n.emissive.fromArray(c.color),c.texture&&(n.emissiveMap=o(c.texture))}}var h=u.transparent,g=u.transparency;if(void 0===g&&h&&(g={float:1}),void 0===h&&g&&(h={opaque:"A_ONE",data:{color:[1,1,1,1]}}),h&&g)if(h.data.texture)n.transparent=!0;else{var p=h.data.color;switch(h.opaque){case"A_ONE":n.opacity=p[3]*g.float;break;case"RGB_ZERO":n.opacity=1-p[0]*g.float;break;case"A_ZERO":n.opacity=1-p[3]*g.float;break;case"RGB_ONE":n.opacity=p[0]*g.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',h.opaque)}n.opacity<1&&(n.transparent=!0)}return void 0!==a&&void 0!==a.technique&&1===a.technique.double_sided&&(n.side=THREE.DoubleSide),n}function K(e){return d(We.materials[e],q)}function X(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if("technique_common"===n.nodeName)return Z(n)}return{}}function Z(e){for(var t={},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];switch(r.nodeName){case"perspective":case"orthographic":t.technique=r.nodeName,t.parameters=Y(r)}}return t}function Y(e){for(var t={},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];switch(r.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":t[r.nodeName]=parseFloat(r.textContent)}}return t}function J(e){var t;switch(e.optics.technique){case"perspective":t=new THREE.PerspectiveCamera(e.optics.parameters.yfov,e.optics.parameters.aspect_ratio,e.optics.parameters.znear,e.optics.parameters.zfar);break;case"orthographic":var n=e.optics.parameters.ymag,r=e.optics.parameters.xmag,i=e.optics.parameters.aspect_ratio;r=void 0===r?n*i:r,n=void 0===n?r/i:n,r*=.5,n*=.5,t=new THREE.OrthographicCamera(-r,r,n,-n,e.optics.parameters.znear,e.optics.parameters.zfar);break;default:t=new THREE.PerspectiveCamera}return t.name=e.name,t}function $(e){var t=We.cameras[e];return void 0!==t?d(t,J):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",e),null)}function ee(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"directional":case"point":case"spot":case"ambient":t.technique=i.nodeName,t.parameters=te(i)}}return t}function te(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var a=e.childNodes[n];if(1===a.nodeType)switch(a.nodeName){case"color":var o=i(a.textContent);t.color=(new THREE.Color).fromArray(o);break;case"falloff_angle":t.falloffAngle=parseFloat(a.textContent);break;case"quadratic_attenuation":var s=parseFloat(a.textContent);t.distance=s?Math.sqrt(1/s):0}}return t}function ne(e){var t;switch(e.technique){case"directional":t=new THREE.DirectionalLight;break;case"point":t=new THREE.PointLight;break;case"spot":t=new THREE.SpotLight;break;case"ambient":t=new THREE.AmbientLight}return e.parameters.color&&t.color.copy(e.parameters.color),e.parameters.distance&&(t.distance=e.parameters.distance),t}function re(e){var t=We.lights[e];return void 0!==t?d(t,ne):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",e),null)}function ie(e){for(var t={array:[],stride:3},a=0;a<e.childNodes.length;a++){var o=e.childNodes[a];if(1===o.nodeType)switch(o.nodeName){case"float_array":t.array=i(o.textContent);break;case"Name_array":t.array=r(o.textContent);break;case"technique_common":var s=n(o,"accessor")[0];void 0!==s&&(t.stride=parseInt(s.getAttribute("stride")))}}return t}function ae(e){for(var t={},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];1===r.nodeType&&(t[r.getAttribute("semantic")]=o(r.getAttribute("source")))}return t}function oe(e){for(var t={type:e.nodeName,material:e.getAttribute("material"),count:parseInt(e.getAttribute("count")),inputs:{},stride:0,hasUV:!1},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"input":var s=o(i.getAttribute("source")),u=i.getAttribute("semantic"),l=parseInt(i.getAttribute("offset")),c=parseInt(i.getAttribute("set")),h=c>0?u+c:u;t.inputs[h]={id:s,offset:l},t.stride=Math.max(t.stride,l+1),"TEXCOORD"===u&&(t.hasUV=!0);break;case"vcount":t.vcount=a(i.textContent);break;case"p":t.p=a(i.textContent)}}return t}function se(e){for(var t=0,n=0,r=e.length;n<r;n++){!0===e[n].hasUV&&t++}t>0&&t<e.length&&(e.uvsNeedsFix=!0)}function ue(e){var t={},n=e.sources,r=e.vertices,i=e.primitives;if(0===i.length)return{};var a=function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];void 0===t[r.type]&&(t[r.type]=[]),t[r.type].push(r)}return t}(i);for(var o in a){var s=a[o];se(s),t[o]=le(s,n,r)}return t}function le(e,t,n){for(var r={},i={array:[],stride:0},a={array:[],stride:0},o={array:[],stride:0},s={array:[],stride:0},u={array:[],stride:0},l=[],c=4,h=[],d=4,g=new THREE.BufferGeometry,p=[],f=0,m=0;m<e.length;m++){var v=e[m],y=v.inputs,A=0;switch(v.type){case"lines":case"linestrips":A=2*v.count;break;case"triangles":A=3*v.count;break;case"polylist":for(var b=0;b<v.count;b++){var x=v.vcount[b];switch(x){case 3:A+=3;break;case 4:A+=6;break;default:A+=3*(x-2)}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",v.type)}for(var w in g.addGroup(f,A,m),f+=A,v.material&&p.push(v.material),y){var E=y[w];switch(w){case"VERTEX":for(var _ in n){var C=n[_];switch(_){case"POSITION":var M=i.array.length;if(ce(v,t[C],E.offset,i.array),i.stride=t[C].stride,t.skinWeights&&t.skinIndices&&(ce(v,t.skinIndices,E.offset,l),ce(v,t.skinWeights,E.offset,h)),!1===v.hasUV&&!0===e.uvsNeedsFix){A=(i.array.length-M)/i.stride;for(var S=0;S<A;S++)o.array.push(0,0)}break;case"NORMAL":ce(v,t[C],E.offset,a.array),a.stride=t[C].stride;break;case"COLOR":ce(v,t[C],E.offset,u.array),u.stride=t[C].stride;break;case"TEXCOORD":ce(v,t[C],E.offset,o.array),o.stride=t[C].stride;break;case"TEXCOORD1":ce(v,t[C],E.offset,s.array),o.stride=t[C].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',_)}}break;case"NORMAL":ce(v,t[E.id],E.offset,a.array),a.stride=t[E.id].stride;break;case"COLOR":ce(v,t[E.id],E.offset,u.array),u.stride=t[E.id].stride;break;case"TEXCOORD":ce(v,t[E.id],E.offset,o.array),o.stride=t[E.id].stride;break;case"TEXCOORD1":ce(v,t[E.id],E.offset,s.array),s.stride=t[E.id].stride}}}return i.array.length>0&&g.addAttribute("position",new THREE.Float32BufferAttribute(i.array,i.stride)),a.array.length>0&&g.addAttribute("normal",new THREE.Float32BufferAttribute(a.array,a.stride)),u.array.length>0&&g.addAttribute("color",new THREE.Float32BufferAttribute(u.array,u.stride)),o.array.length>0&&g.addAttribute("uv",new THREE.Float32BufferAttribute(o.array,o.stride)),s.array.length>0&&g.addAttribute("uv2",new THREE.Float32BufferAttribute(s.array,s.stride)),l.length>0&&g.addAttribute("skinIndex",new THREE.Float32BufferAttribute(l,c)),h.length>0&&g.addAttribute("skinWeight",new THREE.Float32BufferAttribute(h,d)),r.data=g,r.type=e[0].type,r.materialKeys=p,r}function ce(e,t,n,r){var i=e.p,a=e.stride,o=e.vcount;function s(e){for(var t=i[e+n]*l,a=t+l;t<a;t++)r.push(u[t])}var u=t.array,l=t.stride;if(void 0!==e.vcount)for(var c=0,h=0,d=o.length;h<d;h++){var g=o[h];if(4===g){var p=c+1*a,f=c+2*a,m=c+3*a;s(c+0*a),s(p),s(m),s(p),s(f),s(m)}else if(3===g){p=c+1*a,f=c+2*a;s(c+0*a),s(p),s(f)}else if(g>4)for(var v=1,y=g-2;v<=y;v++){p=c+a*v,f=c+a*(v+1);s(c+0*a),s(p),s(f)}c+=a*g}else for(h=0,d=i.length;h<d;h+=a)s(h)}function he(e){return d(We.geometries[e],ue)}function de(e){return void 0!==e.build?e.build:e}function ge(e,t){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"joint":t.joints[r.getAttribute("sid")]=pe(r);break;case"link":t.links.push(me(r))}}}function pe(e){for(var t,n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"prismatic":case"revolute":t=fe(r)}}return t}function fe(e,t){t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",axis:new THREE.Vector3,limits:{min:0,max:0},type:e.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"axis":var a=i(r.textContent);t.axis.fromArray(a);break;case"limits":var o=r.getElementsByTagName("max")[0],s=r.getElementsByTagName("min")[0];t.limits.max=parseFloat(o.textContent),t.limits.min=parseFloat(s.textContent)}}return t.limits.min>=t.limits.max&&(t.static=!0),t.middlePosition=(t.limits.min+t.limits.max)/2,t}function me(e){for(var t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",attachments:[],transforms:[]},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"attachment_full":t.attachments.push(ve(r));break;case"matrix":case"translate":case"rotate":t.transforms.push(ye(r))}}return t}function ve(e){for(var t={joint:e.getAttribute("joint").split("/").pop(),transforms:[],links:[]},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"link":t.links.push(me(r));break;case"matrix":case"translate":case"rotate":t.transforms.push(ye(r))}}return t}function ye(e){var t={type:e.nodeName},n=i(e.textContent);switch(t.type){case"matrix":t.obj=new THREE.Matrix4,t.obj.fromArray(n).transpose();break;case"translate":t.obj=new THREE.Vector3,t.obj.fromArray(n);break;case"rotate":t.obj=new THREE.Vector3,t.obj.fromArray(n),t.angle=THREE.Math.degToRad(n[3])}return t}function Ae(e,t){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType&&"technique_common"===r.nodeName)be(r,t)}}function be(e,t){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"inertia":t.inertia=i(r.textContent);break;case"mass":t.mass=i(r.textContent)[0]}}}function xe(e){for(var t={target:e.getAttribute("target").split("/").pop()},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType&&"axis"===r.nodeName){var i=r.getElementsByTagName("param")[0];t.axis=i.textContent;var a=t.axis.split("inst_").pop().split("axis")[0];t.jointIndex=a.substr(0,a.length-1)}}return t}function we(e){return void 0!==e.build?e.build:e}function Ee(e){for(var t=[],n=Fe.querySelector('[id="'+e.id+'"]'),r=0;r<n.childNodes.length;r++){var a=n.childNodes[r];if(1===a.nodeType)switch(a.nodeName){case"matrix":var o=i(a.textContent),s=(new THREE.Matrix4).fromArray(o).transpose();t.push({sid:a.getAttribute("sid"),type:a.nodeName,obj:s});break;case"translate":case"scale":o=i(a.textContent);var u=(new THREE.Vector3).fromArray(o);t.push({sid:a.getAttribute("sid"),type:a.nodeName,obj:u});break;case"rotate":o=i(a.textContent),u=(new THREE.Vector3).fromArray(o);var l=THREE.Math.degToRad(o[3]);t.push({sid:a.getAttribute("sid"),type:a.nodeName,obj:u,angle:l})}}return t}var _e=new THREE.Matrix4,Ce=new THREE.Vector3;function Me(e){for(var t={name:e.getAttribute("name")||"",type:e.getAttribute("type"),id:e.getAttribute("id"),sid:e.getAttribute("sid"),matrix:new THREE.Matrix4,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"node":t.nodes.push(r.getAttribute("id")),Me(r);break;case"instance_camera":t.instanceCameras.push(o(r.getAttribute("url")));break;case"instance_controller":t.instanceControllers.push(Se(r));break;case"instance_light":t.instanceLights.push(o(r.getAttribute("url")));break;case"instance_geometry":t.instanceGeometries.push(Se(r));break;case"instance_node":t.instanceNodes.push(o(r.getAttribute("url")));break;case"matrix":var a=i(r.textContent);t.matrix.multiply(_e.fromArray(a).transpose()),t.transforms[r.getAttribute("sid")]=r.nodeName;break;case"translate":a=i(r.textContent);Ce.fromArray(a),t.matrix.multiply(_e.makeTranslation(Ce.x,Ce.y,Ce.z)),t.transforms[r.getAttribute("sid")]=r.nodeName;break;case"rotate":a=i(r.textContent);var s=THREE.Math.degToRad(a[3]);t.matrix.multiply(_e.makeRotationAxis(Ce.fromArray(a),s)),t.transforms[r.getAttribute("sid")]=r.nodeName;break;case"scale":a=i(r.textContent);t.matrix.scale(Ce.fromArray(a)),t.transforms[r.getAttribute("sid")]=r.nodeName;break;case"extra":break;default:console.log(r)}}return De(t.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",t.id):We.nodes[t.id]=t,t}function Se(e){for(var t={id:o(e.getAttribute("url")),materials:{},skeletons:[]},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];switch(r.nodeName){case"bind_material":for(var i=r.getElementsByTagName("instance_material"),a=0;a<i.length;a++){var s=i[a],u=s.getAttribute("symbol"),l=s.getAttribute("target");t.materials[u]=o(l)}break;case"skeleton":t.skeletons.push(o(r.textContent))}}return t}function Ie(e,t){var n,r,i,a=[],o=[];for(n=0;n<e.length;n++){var s=e[n];if(De(s))Te(Pe(s),t,a);else if(i=s,void 0!==We.visualScenes[i])for(var u=We.visualScenes[s].children,l=0;l<u.length;l++){var c=u[l];if("JOINT"===c.type)Te(Pe(c.id),t,a)}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",s)}for(n=0;n<t.length;n++)for(l=0;l<a.length;l++)if((r=a[l]).bone.name===t[n].name){o[n]=r,r.processed=!0;break}for(n=0;n<a.length;n++)!1===(r=a[n]).processed&&(o.push(r),r.processed=!0);var h=[],d=[];for(n=0;n<o.length;n++)r=o[n],h.push(r.bone),d.push(r.boneInverse);return new THREE.Skeleton(h,d)}function Te(e,t,n){e.traverse((function(e){if(!0===e.isBone){for(var r,i=0;i<t.length;i++){var a=t[i];if(a.name===e.name){r=a.boneInverse;break}}void 0===r&&(r=new THREE.Matrix4),n.push({bone:e,boneInverse:r,processed:!1})}}))}function ke(e){for(var t,n=[],r=e.matrix,i=e.nodes,a=e.type,o=e.instanceCameras,s=e.instanceControllers,u=e.instanceLights,l=e.instanceGeometries,c=e.instanceNodes,h=0,g=i.length;h<g;h++)n.push(Pe(i[h]));for(h=0,g=o.length;h<g;h++){var p=$(o[h]);null!==p&&n.push(p.clone())}for(h=0,g=s.length;h<g;h++)for(var f=s[h],m=(t=f.id,d(We.controllers[t],R)),v=Be(he(m.id),f.materials),y=Ie(f.skeletons,m.skin.joints),A=0,b=v.length;A<b;A++){var x;(x=v[A]).isSkinnedMesh&&(x.bind(y,m.skin.bindMatrix),x.normalizeSkinWeights()),n.push(x)}for(h=0,g=u.length;h<g;h++){var w=re(u[h]);null!==w&&n.push(w.clone())}for(h=0,g=l.length;h<g;h++)for(A=0,b=(v=Be(he((f=l[h]).id),f.materials)).length;A<b;A++)n.push(v[A]);for(h=0,g=c.length;h<g;h++)n.push(Pe(c[h]).clone());if(0===i.length&&1===n.length)x=n[0];else{x="JOINT"===a?new THREE.Bone:new THREE.Group;for(h=0;h<n.length;h++)x.add(n[h])}return""===x.name&&(x.name="JOINT"===a?e.sid:e.name),x.matrix.copy(r),x.matrix.decompose(x.position,x.quaternion,x.scale),x}var Re=new THREE.MeshBasicMaterial({color:16711935});function Le(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var a=t[e[r]];void 0===a?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",e[r]),n.push(Re)):n.push(K(a))}return n}function Be(e,t){var n=[];for(var r in e){var i=e[r],a=Le(i.materialKeys,t);0===a.length&&("lines"===r||"linestrips"===r?a.push(new THREE.LineBasicMaterial):a.push(new THREE.MeshPhongMaterial));var o=void 0!==i.data.attributes.skinIndex;if(o)for(var s=0,u=a.length;s<u;s++)a[s].skinning=!0;var l,c=1===a.length?a[0]:a;switch(r){case"lines":l=new THREE.LineSegments(i.data,c);break;case"linestrips":l=new THREE.Line(i.data,c);break;case"triangles":case"polylist":l=o?new THREE.SkinnedMesh(i.data,c):new THREE.Mesh(i.data,c)}n.push(l)}return n}function De(e){return void 0!==We.nodes[e]}function Pe(e){return d(We.nodes[e],ke)}function Oe(e){var t=new THREE.Group;t.name=e.name;for(var n=e.children,r=0;r<n.length;r++){var i=n[r];t.add(Pe(i.id))}return t}function Ne(e){return d(We.visualScenes[e],Oe)}if(0===e.length)return{scene:new THREE.Scene};var Fe=n((new DOMParser).parseFromString(e,"application/xml"),"COLLADA")[0],Ue=Fe.getAttribute("version");console.log("THREE.ColladaLoader: File version",Ue);var ze,je=function(e){return{unit:u(n(e,"unit")[0]),upAxis:l(n(e,"up_axis")[0])}}(n(Fe,"asset")[0]),He=new THREE.TextureLoader(this.manager);He.setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin),THREE.TGALoader&&(ze=new THREE.TGALoader(this.manager)).setPath(this.resourcePath||t);var Ge=[],Ve={},Qe=0,We={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};c(Fe,"library_animations","animation",(function(e){for(var t={sources:{},samplers:{},channels:{}},n=0,r=e.childNodes.length;n<r;n++){var i,a=e.childNodes[n];if(1===a.nodeType)switch(a.nodeName){case"source":i=a.getAttribute("id"),t.sources[i]=ie(a);break;case"sampler":i=a.getAttribute("id"),t.samplers[i]=g(a);break;case"channel":i=a.getAttribute("target"),t.channels[i]=p(a);break;default:console.log(a)}}We.animations[e.getAttribute("id")]=t})),c(Fe,"library_animation_clips","animation_clip",(function(e){for(var t={name:e.getAttribute("id")||"default",start:parseFloat(e.getAttribute("start")||0),end:parseFloat(e.getAttribute("end")||0),animations:[]},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType&&"instance_animation"===i.nodeName)t.animations.push(o(i.getAttribute("url")))}We.clips[e.getAttribute("id")]=t})),c(Fe,"library_controllers","controller",(function(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"skin":t.id=o(i.getAttribute("source")),t.skin=I(i);break;case"morph":t.id=o(i.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.")}}We.controllers[e.getAttribute("id")]=t})),c(Fe,"library_images","image",(function(e){var t={init_from:n(e,"init_from")[0].textContent};We.images[e.getAttribute("id")]=t})),c(Fe,"library_effects","effect",(function(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType&&"profile_COMMON"===i.nodeName)t.profile=D(i)}We.effects[e.getAttribute("id")]=t})),c(Fe,"library_materials","material",(function(e){for(var t={name:e.getAttribute("name")},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType&&"instance_effect"===i.nodeName)t.url=o(i.getAttribute("url"))}We.materials[e.getAttribute("id")]=t})),c(Fe,"library_cameras","camera",(function(e){for(var t={name:e.getAttribute("name")},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType&&"optics"===i.nodeName)t.optics=X(i)}We.cameras[e.getAttribute("id")]=t})),c(Fe,"library_lights","light",(function(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType&&"technique_common"===i.nodeName)t=ee(i)}We.lights[e.getAttribute("id")]=t})),c(Fe,"library_geometries","geometry",(function(e){var t={name:e.getAttribute("name"),sources:{},vertices:{},primitives:[]},r=n(e,"mesh")[0];if(void 0!==r){for(var i=0;i<r.childNodes.length;i++){var a=r.childNodes[i];if(1===a.nodeType){var o=a.getAttribute("id");switch(a.nodeName){case"source":t.sources[o]=ie(a);break;case"vertices":t.vertices=ae(a);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",a.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":t.primitives.push(oe(a));break;default:console.log(a)}}}We.geometries[e.getAttribute("id")]=t}})),c(Fe,"library_nodes","node",Me),c(Fe,"library_visual_scenes","visual_scene",(function(e){var t={name:e.getAttribute("name"),children:[]};!function(e){for(var t=e.getElementsByTagName("node"),n=0;n<t.length;n++){var r=t[n];!1===r.hasAttribute("id")&&r.setAttribute("id","three_default_"+Qe++)}}(e);for(var r=n(e,"node"),i=0;i<r.length;i++)t.children.push(Me(r[i]));We.visualScenes[e.getAttribute("id")]=t})),c(Fe,"library_kinematics_models","kinematics_model",(function(e){for(var t={name:e.getAttribute("name")||"",joints:{},links:[]},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType&&"technique_common"===r.nodeName)ge(r,t)}We.kinematicsModels[e.getAttribute("id")]=t})),c(Fe,"library_physics_models","physics_model",(function(e){for(var t={name:e.getAttribute("name")||"",rigidBodies:{}},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType&&"rigid_body"===r.nodeName)t.rigidBodies[r.getAttribute("name")]={},Ae(r,t.rigidBodies[r.getAttribute("name")])}We.physicsModels[e.getAttribute("id")]=t})),c(Fe,"scene","instance_kinematics_scene",(function(e){for(var t={bindJointAxis:[]},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType&&"bind_joint_axis"===r.nodeName)t.bindJointAxis.push(xe(r))}We.kinematicsScenes[o(e.getAttribute("url"))]=t})),h(We.animations,f),h(We.clips,M),h(We.controllers,R),h(We.images,L),h(We.effects,W),h(We.materials,q),h(We.cameras,J),h(We.lights,ne),h(We.geometries,ue),h(We.visualScenes,Oe),function(){var e=We.clips;if(!0===s(e)){if(!1===s(We.animations)){var t=[];for(var n in We.animations)for(var r=m(n),i=0,a=r.length;i<a;i++)t.push(r[i]);Ge.push(new THREE.AnimationClip("default",-1,t))}}else for(var n in e)Ge.push(S(n))}(),function(){var e=Object.keys(We.kinematicsModels)[0],t=Object.keys(We.kinematicsScenes)[0],n=Object.keys(We.visualScenes)[0];if(void 0!==e&&void 0!==t){for(var r,i=(r=e,d(We.kinematicsModels[r],de)),a=function(e){return d(We.kinematicsScenes[e],we)}(t),o=Ne(n),s=a.bindJointAxis,u={},l=0,c=s.length;l<c;l++){var h=s[l],g=Fe.querySelector('[sid="'+h.target+'"]');if(g){var p=g.parentElement;m(h.jointIndex,p)}}var f=new THREE.Matrix4;Ve={joints:i&&i.joints,getJointValue:function(e){var t=u[e];if(t)return t.position;console.warn("THREE.ColladaLoader: Joint "+e+" doesn't exist.")},setJointValue:function(e,t){var n=u[e];if(n){var r=n.joint;if(t>r.limits.max||t<r.limits.min)console.warn("THREE.ColladaLoader: Joint "+e+" value "+t+" outside of limits (min: "+r.limits.min+", max: "+r.limits.max+").");else if(r.static)console.warn("THREE.ColladaLoader: Joint "+e+" is static.");else{var i=n.object,a=r.axis,o=n.transforms;_e.identity();for(var s=0;s<o.length;s++){var l=o[s];if(l.sid&&-1!==l.sid.indexOf(e))switch(r.type){case"revolute":_e.multiply(f.makeRotationAxis(a,THREE.Math.degToRad(t)));break;case"prismatic":_e.multiply(f.makeTranslation(a.x*t,a.y*t,a.z*t));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+r.type)}else switch(l.type){case"matrix":_e.multiply(l.obj);break;case"translate":_e.multiply(f.makeTranslation(l.obj.x,l.obj.y,l.obj.z));break;case"scale":_e.scale(l.obj);break;case"rotate":_e.multiply(f.makeRotationAxis(l.obj,l.angle))}}i.matrix.copy(_e),i.matrix.decompose(i.position,i.quaternion,i.scale),u[e].position=t}}else console.log("THREE.ColladaLoader: "+e+" does not exist.")}}}function m(e,t){var n=t.getAttribute("name"),r=i.joints[e];o.traverse((function(i){i.name===n&&(u[e]={object:i,transforms:Ee(t),joint:r,position:r.zeroPosition})}))}}();var qe=function(e){return Ne(o(n(e,"instance_visual_scene")[0].getAttribute("url")))}(n(Fe,"scene")[0]);return"Z_UP"===je.upAxis&&qe.quaternion.setFromEuler(new THREE.Euler(-Math.PI/2,0,0)),qe.scale.multiplyScalar(je.unit),{animations:Ge,kinematics:Ve,library:We,scene:qe}}}},6639:function(e){e.exports=THREE.FBXLoader=function(){var e,t,n;function r(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager}function i(e){this.textureLoader=e}function a(){}function o(){}function s(){}function u(){}function l(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=void 0===t||t}function c(){}function h(e){var t=e.match(/FBXVersion: (\d+)/);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function d(e){return e/46186158e3}r.prototype={constructor:r,crossOrigin:"anonymous",load:function(e,t,n,r){var i=this,a=THREE.LoaderUtils.extractUrlBase(e),o=new THREE.FileLoader(this.manager);o.setResponseType("arraybuffer"),o.load(e,(function(n){try{var o=i.parse(n,a);t(o)}catch(s){setTimeout((function(){r&&r(s),i.manager.itemError(e)}),0)}}),n,r)},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(t,n){if(function(e){var t="Kaydara FBX Binary  \0";return e.byteLength>=t.length&&t===E(e,0,t.length)}(t))e=(new u).parse(t);else{var r=E(t);if(!function(e){var t=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"],n=0;function r(t){var r=e[t-1];return e=e.slice(n+t),n++,r}for(var i=0;i<t.length;++i){if(r(1)===t[i])return!1}return!0}(r))throw new Error("THREE.FBXLoader: Unknown format.");if(h(r)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+h(r));e=(new s).parse(r)}return new i(new THREE.TextureLoader(this.manager).setPath(n).setCrossOrigin(this.crossOrigin)).parse(e)}},i.prototype={constructor:i,parse:function(){t=this.parseConnections();var e=this.parseImages(),r=this.parseTextures(e),i=this.parseMaterials(r),o=this.parseDeformers(),s=(new a).parse(o);return this.parseScene(o,s,i),n},parseConnections:function(){var t=new Map;"Connections"in e&&e.Connections.connections.forEach((function(e){var n=e[0],r=e[1],i=e[2];t.has(n)||t.set(n,{parents:[],children:[]});var a={ID:r,relationship:i};t.get(n).parents.push(a),t.has(r)||t.set(r,{parents:[],children:[]});var o={ID:n,relationship:i};t.get(r).children.push(o)}));return t},parseImages:function(){var t={},n={};if("Video"in e.Objects){var r=e.Objects.Video;for(var i in r){var a=r[i];if(t[l=parseInt(i)]=a.RelativeFilename||a.Filename,"Content"in a){var o=a.Content instanceof ArrayBuffer&&a.Content.byteLength>0,s="string"===typeof a.Content&&""!==a.Content;if(o||s){var u=this.parseImage(r[i]);n[a.RelativeFilename||a.Filename]=u}}}}for(var l in t){var c=t[l];void 0!==n[c]?t[l]=n[c]:t[l]=t[l].split("\\").pop()}return t},parseImage:function(e){var t,n=e.Content,r=e.RelativeFilename||e.Filename,i=r.slice(r.lastIndexOf(".")+1).toLowerCase();switch(i){case"bmp":t="image/bmp";break;case"jpg":case"jpeg":t="image/jpeg";break;case"png":t="image/png";break;case"tif":t="image/tiff";break;case"tga":if("function"!==typeof THREE.TGALoader)return void console.warn("FBXLoader: THREE.TGALoader is required to load TGA textures");null===THREE.Loader.Handlers.get(".tga")&&THREE.Loader.Handlers.add(/\.tga$/i,new THREE.TGALoader),t="image/tga";break;default:return void console.warn('FBXLoader: Image type "'+i+'" is not supported.')}if("string"===typeof n)return"data:"+t+";base64,"+n;var a=new Uint8Array(n);return window.URL.createObjectURL(new Blob([a],{type:t}))},parseTextures:function(t){var n=new Map;if("Texture"in e.Objects){var r=e.Objects.Texture;for(var i in r){var a=this.parseTexture(r[i],t);n.set(parseInt(i),a)}}return n},parseTexture:function(e,t){var n=this.loadTexture(e,t);n.ID=e.id,n.name=e.attrName;var r=e.WrapModeU,i=e.WrapModeV,a=void 0!==r?r.value:0,o=void 0!==i?i.value:0;if(n.wrapS=0===a?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,n.wrapT=0===o?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,"Scaling"in e){var s=e.Scaling.value;n.repeat.x=s[0],n.repeat.y=s[1]}return n},loadTexture:function(e,n){var r,i,a=this.textureLoader.path,o=t.get(e.id).children;void 0!==o&&o.length>0&&void 0!==n[o[0].ID]&&(0!==(r=n[o[0].ID]).indexOf("blob:")&&0!==r.indexOf("data:")||this.textureLoader.setPath(void 0));var s=e.FileName.slice(-3).toLowerCase();if("tga"===s){var u=THREE.Loader.Handlers.get(".tga");null===u?(console.warn("FBXLoader: TGALoader not found, creating empty placeholder texture for",r),i=new THREE.Texture):i=u.load(r)}else"psd"===s?(console.warn("FBXLoader: PSD textures are not supported, creating empty placeholder texture for",r),i=new THREE.Texture):i=this.textureLoader.load(r);return this.textureLoader.setPath(a),i},parseMaterials:function(t){var n=new Map;if("Material"in e.Objects){var r=e.Objects.Material;for(var i in r){var a=this.parseMaterial(r[i],t);null!==a&&n.set(parseInt(i),a)}}return n},parseMaterial:function(e,n){var r=e.id,i=e.attrName,a=e.ShadingModel;if("object"===typeof a&&(a=a.value),!t.has(r))return null;var o,s=this.parseParameters(e,n,r);switch(a.toLowerCase()){case"phong":o=new THREE.MeshPhongMaterial;break;case"lambert":o=new THREE.MeshLambertMaterial;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',a),o=new THREE.MeshPhongMaterial({color:3342591})}return o.setValues(s),o.name=i,o},parseParameters:function(e,n,r){var i={};e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=(new THREE.Color).fromArray(e.Diffuse.value):e.DiffuseColor&&"Color"===e.DiffuseColor.type&&(i.color=(new THREE.Color).fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=(new THREE.Color).fromArray(e.Emissive.value):e.EmissiveColor&&"Color"===e.EmissiveColor.type&&(i.emissive=(new THREE.Color).fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=(new THREE.Color).fromArray(e.Specular.value):e.SpecularColor&&"Color"===e.SpecularColor.type&&(i.specular=(new THREE.Color).fromArray(e.SpecularColor.value));var a=this;return t.get(r).children.forEach((function(e){var t=e.relationship;switch(t){case"Bump":i.bumpMap=a.getTexture(n,e.ID);break;case"DiffuseColor":i.map=a.getTexture(n,e.ID);break;case"DisplacementColor":i.displacementMap=a.getTexture(n,e.ID);break;case"EmissiveColor":i.emissiveMap=a.getTexture(n,e.ID);break;case"NormalMap":i.normalMap=a.getTexture(n,e.ID);break;case"ReflectionColor":i.envMap=a.getTexture(n,e.ID),i.envMap.mapping=THREE.EquirectangularReflectionMapping;break;case"SpecularColor":i.specularMap=a.getTexture(n,e.ID);break;case"TransparentColor":i.alphaMap=a.getTexture(n,e.ID),i.transparent=!0;break;default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",t)}})),i},getTexture:function(n,r){return"LayeredTexture"in e.Objects&&r in e.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),r=t.get(r).children[0].ID),n.get(r)},parseDeformers:function(){var n={},r={};if("Deformer"in e.Objects){var i=e.Objects.Deformer;for(var a in i){var o=i[a],s=t.get(parseInt(a));if("Skin"===o.attrType){var u=this.parseSkeleton(s,i);u.ID=a,s.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),u.geometryID=s.parents[0].ID,n[a]=u}else if("BlendShape"===o.attrType){var l={id:a};l.rawTargets=this.parseMorphTargets(s,i),l.id=a,s.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),r[a]=l}}}return{skeletons:n,morphTargets:r}},parseSkeleton:function(e,t){var n=[];return e.children.forEach((function(e){var r=t[e.ID];if("Cluster"===r.attrType){var i={ID:e.ID,indices:[],weights:[],transform:(new THREE.Matrix4).fromArray(r.Transform.a),transformLink:(new THREE.Matrix4).fromArray(r.TransformLink.a),linkMode:r.Mode};"Indexes"in r&&(i.indices=r.Indexes.a,i.weights=r.Weights.a),n.push(i)}})),{rawBones:n,bones:[]}},parseMorphTargets:function(e,n){for(var r=[],i=0;i<e.children.length;i++){if(8===i){console.warn("FBXLoader: maximum of 8 morph targets supported. Ignoring additional targets.");break}var a=e.children[i],o=n[a.ID],s={name:o.attrName,initialWeight:o.DeformPercent,id:o.id,fullWeights:o.FullWeights.a};if("BlendShapeChannel"!==o.attrType)return;t.get(parseInt(a.ID)).children.forEach((function(e){void 0===e.relationship&&(s.geoID=e.ID)})),r.push(s)}return r},parseScene:function(r,i,a){n=new THREE.Group;var s=this.parseModels(r.skeletons,i,a),u=e.Objects.Model,l=this;s.forEach((function(e){var r=u[e.ID];l.setLookAtProperties(e,r),t.get(e.ID).parents.forEach((function(t){var n=s.get(t.ID);void 0!==n&&n.add(e)})),null===e.parent&&n.add(e)})),this.bindSkeleton(r.skeletons,i,s),this.createAmbientLight(),this.setupMorphMaterials();var c=(new o).parse();1===n.children.length&&n.children[0].isGroup&&(n.children[0].animations=c,n=n.children[0]),n.animations=c},parseModels:function(n,r,i){var a=new Map,o=e.Objects.Model;for(var s in o){var u=parseInt(s),l=o[s],c=t.get(u),h=this.buildSkeleton(c,n,u,l.attrName);if(!h){switch(l.attrType){case"Camera":h=this.createCamera(c);break;case"Light":h=this.createLight(c);break;case"Mesh":h=this.createMesh(c,r,i);break;case"NurbsCurve":h=this.createCurve(c,r);break;default:h=new THREE.Group}h.name=THREE.PropertyBinding.sanitizeNodeName(l.attrName),h.ID=u}this.setModelTransforms(h,l),a.set(u,h)}return a},buildSkeleton:function(e,t,n,r){var i=null;return e.parents.forEach((function(e){for(var a in t){var o=t[a];o.rawBones.forEach((function(t,a){if(t.ID===e.ID){var s=i;(i=new THREE.Bone).matrixWorld.copy(t.transformLink),i.name=THREE.PropertyBinding.sanitizeNodeName(r),i.ID=n,o.bones[a]=i,null!==s&&i.add(s)}}))}})),i},createCamera:function(t){var n,r;if(t.children.forEach((function(t){var n=e.Objects.NodeAttribute[t.ID];void 0!==n&&(r=n)})),void 0===r)n=new THREE.Object3D;else{var i=0;void 0!==r.CameraProjectionType&&1===r.CameraProjectionType.value&&(i=1);var a=1;void 0!==r.NearPlane&&(a=r.NearPlane.value/1e3);var o=1e3;void 0!==r.FarPlane&&(o=r.FarPlane.value/1e3);var s=window.innerWidth,u=window.innerHeight;void 0!==r.AspectWidth&&void 0!==r.AspectHeight&&(s=r.AspectWidth.value,u=r.AspectHeight.value);var l=s/u,c=45;void 0!==r.FieldOfView&&(c=r.FieldOfView.value);var h=r.FocalLength?r.FocalLength.value:null;switch(i){case 0:n=new THREE.PerspectiveCamera(c,l,a,o),null!==h&&n.setFocalLength(h);break;case 1:n=new THREE.OrthographicCamera(-s/2,s/2,u/2,-u/2,a,o);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+i+"."),n=new THREE.Object3D}}return n},createLight:function(t){var n,r;if(t.children.forEach((function(t){var n=e.Objects.NodeAttribute[t.ID];void 0!==n&&(r=n)})),void 0===r)n=new THREE.Object3D;else{var i;i=void 0===r.LightType?0:r.LightType.value;var a=16777215;void 0!==r.Color&&(a=(new THREE.Color).fromArray(r.Color.value));var o=void 0===r.Intensity?1:r.Intensity.value/100;void 0!==r.CastLightOnObject&&0===r.CastLightOnObject.value&&(o=0);var s=0;void 0!==r.FarAttenuationEnd&&(s=void 0!==r.EnableFarAttenuation&&0===r.EnableFarAttenuation.value?0:r.FarAttenuationEnd.value);switch(i){case 0:n=new THREE.PointLight(a,o,s,1);break;case 1:n=new THREE.DirectionalLight(a,o);break;case 2:var u=Math.PI/3;void 0!==r.InnerAngle&&(u=THREE.Math.degToRad(r.InnerAngle.value));var l=0;void 0!==r.OuterAngle&&(l=THREE.Math.degToRad(r.OuterAngle.value),l=Math.max(l,1)),n=new THREE.SpotLight(a,o,s,u,l,1);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a THREE.PointLight."),n=new THREE.PointLight(a,o)}void 0!==r.CastShadows&&1===r.CastShadows.value&&(n.castShadow=!0)}return n},createMesh:function(e,t,n){var r,i=null,a=null,o=[];return e.children.forEach((function(e){t.has(e.ID)&&(i=t.get(e.ID)),n.has(e.ID)&&o.push(n.get(e.ID))})),o.length>1?a=o:o.length>0?a=o[0]:(a=new THREE.MeshPhongMaterial({color:13421772}),o.push(a)),"color"in i.attributes&&o.forEach((function(e){e.vertexColors=THREE.VertexColors})),i.FBX_Deformer?(o.forEach((function(e){e.skinning=!0})),r=new THREE.SkinnedMesh(i,a)):r=new THREE.Mesh(i,a),r},createCurve:function(e,t){var n=e.children.reduce((function(e,n){return t.has(n.ID)&&(e=t.get(n.ID)),e}),null),r=new THREE.LineBasicMaterial({color:3342591,linewidth:1});return new THREE.Line(n,r)},setModelTransforms:function(e,t){var n={};"RotationOrder"in t&&(n.eulerOrder=parseInt(t.RotationOrder.value)),"Lcl_Translation"in t&&(n.translation=t.Lcl_Translation.value),"RotationOffset"in t&&(n.rotationOffset=t.RotationOffset.value),"Lcl_Rotation"in t&&(n.rotation=t.Lcl_Rotation.value),"PreRotation"in t&&(n.preRotation=t.PreRotation.value),"PostRotation"in t&&(n.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(n.scale=t.Lcl_Scaling.value);var r=b(n);e.applyMatrix(r)},setLookAtProperties:function(r,i){"LookAtProperty"in i&&t.get(r.ID).children.forEach((function(t){if("LookAtProperty"===t.relationship){var i=e.Objects.Model[t.ID];if("Lcl_Translation"in i){var a=i.Lcl_Translation.value;void 0!==r.target?(r.target.position.fromArray(a),n.add(r.target)):r.lookAt((new THREE.Vector3).fromArray(a))}}}))},bindSkeleton:function(e,n,r){var i=this.parsePoseNodes();for(var a in e){var o=e[a];t.get(parseInt(o.ID)).parents.forEach((function(e){if(n.has(e.ID)){var a=e.ID;t.get(a).parents.forEach((function(e){r.has(e.ID)&&r.get(e.ID).bind(new THREE.Skeleton(o.bones),i[e.ID])}))}}))}},parsePoseNodes:function(){var t={};if("Pose"in e.Objects){var n=e.Objects.Pose;for(var r in n)if("BindPose"===n[r].attrType){var i=n[r].PoseNode;Array.isArray(i)?i.forEach((function(e){t[e.Node]=(new THREE.Matrix4).fromArray(e.Matrix.a)})):t[i.Node]=(new THREE.Matrix4).fromArray(i.Matrix.a)}}return t},createAmbientLight:function(){if("GlobalSettings"in e&&"AmbientColor"in e.GlobalSettings){var t=e.GlobalSettings.AmbientColor.value,r=t[0],i=t[1],a=t[2];if(0!==r||0!==i||0!==a){var o=new THREE.Color(r,i,a);n.add(new THREE.AmbientLight(o,1))}}},setupMorphMaterials:function(){n.traverse((function(e){if(e.isMesh&&(e.geometry.morphAttributes.position||e.geometry.morphAttributes.normal)){var t=e.uuid,r=e.material.uuid,i=!1;n.traverse((function(e){e.isMesh&&e.material.uuid===r&&e.uuid!==t&&(i=!0)})),!0===i&&(e.material=e.material.clone()),e.material.morphTargets=!0}}))}},a.prototype={constructor:a,parse:function(n){var r=new Map;if("Geometry"in e.Objects){var i=e.Objects.Geometry;for(var a in i){var o=t.get(parseInt(a)),s=this.parseGeometry(o,i[a],n);r.set(parseInt(a),s)}}return r},parseGeometry:function(e,t,n){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,n);case"NurbsCurve":return this.parseNurbsGeometry(t)}},parseMeshGeometry:function(t,n,r){var i=r.skeletons,a=r.morphTargets,o=t.parents.map((function(t){return e.Objects.Model[t.ID]}));if(0!==o.length){var s=t.children.reduce((function(e,t){return void 0!==i[t.ID]&&(e=i[t.ID]),e}),null),u=t.children.reduce((function(e,t){return void 0!==a[t.ID]&&(e=a[t.ID]),e}),null),l=o[0],c={};"RotationOrder"in l&&(c.eulerOrder=l.RotationOrder.value),"GeometricTranslation"in l&&(c.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(c.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(c.scale=l.GeometricScaling.value);var h=b(c);return this.genGeometry(n,s,u,h)}},genGeometry:function(e,t,n,r){var i=new THREE.BufferGeometry;e.attrName&&(i.name=e.attrName);var a=this.parseGeoNode(e,t),o=this.genBuffers(a),s=new THREE.Float32BufferAttribute(o.vertex,3);if(r.applyToBufferAttribute(s),i.addAttribute("position",s),o.colors.length>0&&i.addAttribute("color",new THREE.Float32BufferAttribute(o.colors,3)),t&&(i.addAttribute("skinIndex",new THREE.Uint16BufferAttribute(o.weightsIndices,4)),i.addAttribute("skinWeight",new THREE.Float32BufferAttribute(o.vertexWeights,4)),i.FBX_Deformer=t),o.normal.length>0){var u=new THREE.Float32BufferAttribute(o.normal,3);(new THREE.Matrix3).getNormalMatrix(r).applyToBufferAttribute(u),i.addAttribute("normal",u)}if(o.uvs.forEach((function(e,t){var n="uv"+(t+1).toString();0===t&&(n="uv"),i.addAttribute(n,new THREE.Float32BufferAttribute(o.uvs[t],2))})),a.material&&"AllSame"!==a.material.mappingType){var l=o.materialIndex[0],c=0;if(o.materialIndex.forEach((function(e,t){e!==l&&(i.addGroup(c,t-c,l),l=e,c=t)})),i.groups.length>0){var h=i.groups[i.groups.length-1],d=h.start+h.count;d!==o.materialIndex.length&&i.addGroup(d,o.materialIndex.length-d,l)}0===i.groups.length&&i.addGroup(0,o.materialIndex.length,o.materialIndex[0])}return this.addMorphTargets(i,e,n,r),i},parseGeoNode:function(e,t){var n={};if(n.vertexPositions=void 0!==e.Vertices?e.Vertices.a:[],n.vertexIndices=void 0!==e.PolygonVertexIndex?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(n.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(n.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(n.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){n.uv=[];for(var r=0;e.LayerElementUV[r];)n.uv.push(this.parseUVs(e.LayerElementUV[r])),r++}return n.weightTable={},null!==t&&(n.skeleton=t,t.rawBones.forEach((function(e,t){e.indices.forEach((function(r,i){void 0===n.weightTable[r]&&(n.weightTable[r]=[]),n.weightTable[r].push({id:t,weight:e.weights[i]})}))}))),n},genBuffers:function(e){var t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]},n=0,r=0,i=!1,a=[],o=[],s=[],u=[],l=[],c=[],h=this;return e.vertexIndices.forEach((function(d,g){var f=!1;d<0&&(d^=-1,f=!0);var m=[],v=[];if(a.push(3*d,3*d+1,3*d+2),e.color){var y=p(g,n,d,e.color);s.push(y[0],y[1],y[2])}if(e.skeleton){if(void 0!==e.weightTable[d]&&e.weightTable[d].forEach((function(e){v.push(e.weight),m.push(e.id)})),v.length>4){i||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),i=!0);var A=[0,0,0,0],b=[0,0,0,0];v.forEach((function(e,t){var n=e,r=m[t];b.forEach((function(e,t,i){if(n>e){i[t]=n,n=e;var a=A[t];A[t]=r,r=a}}))})),m=A,v=b}for(;v.length<4;)v.push(0),m.push(0);for(var x=0;x<4;++x)l.push(v[x]),c.push(m[x])}if(e.normal){y=p(g,n,d,e.normal);o.push(y[0],y[1],y[2])}if(e.material&&"AllSame"!==e.material.mappingType)var w=p(g,n,d,e.material)[0];e.uv&&e.uv.forEach((function(e,t){var r=p(g,n,d,e);void 0===u[t]&&(u[t]=[]),u[t].push(r[0]),u[t].push(r[1])})),r++,f&&(h.genFace(t,e,a,w,o,s,u,l,c,r),n++,r=0,a=[],o=[],s=[],u=[],l=[],c=[])})),t},genFace:function(e,t,n,r,i,a,o,s,u,l){for(var c=2;c<l;c++)e.vertex.push(t.vertexPositions[n[0]]),e.vertex.push(t.vertexPositions[n[1]]),e.vertex.push(t.vertexPositions[n[2]]),e.vertex.push(t.vertexPositions[n[3*(c-1)]]),e.vertex.push(t.vertexPositions[n[3*(c-1)+1]]),e.vertex.push(t.vertexPositions[n[3*(c-1)+2]]),e.vertex.push(t.vertexPositions[n[3*c]]),e.vertex.push(t.vertexPositions[n[3*c+1]]),e.vertex.push(t.vertexPositions[n[3*c+2]]),t.skeleton&&(e.vertexWeights.push(s[0]),e.vertexWeights.push(s[1]),e.vertexWeights.push(s[2]),e.vertexWeights.push(s[3]),e.vertexWeights.push(s[4*(c-1)]),e.vertexWeights.push(s[4*(c-1)+1]),e.vertexWeights.push(s[4*(c-1)+2]),e.vertexWeights.push(s[4*(c-1)+3]),e.vertexWeights.push(s[4*c]),e.vertexWeights.push(s[4*c+1]),e.vertexWeights.push(s[4*c+2]),e.vertexWeights.push(s[4*c+3]),e.weightsIndices.push(u[0]),e.weightsIndices.push(u[1]),e.weightsIndices.push(u[2]),e.weightsIndices.push(u[3]),e.weightsIndices.push(u[4*(c-1)]),e.weightsIndices.push(u[4*(c-1)+1]),e.weightsIndices.push(u[4*(c-1)+2]),e.weightsIndices.push(u[4*(c-1)+3]),e.weightsIndices.push(u[4*c]),e.weightsIndices.push(u[4*c+1]),e.weightsIndices.push(u[4*c+2]),e.weightsIndices.push(u[4*c+3])),t.color&&(e.colors.push(a[0]),e.colors.push(a[1]),e.colors.push(a[2]),e.colors.push(a[3*(c-1)]),e.colors.push(a[3*(c-1)+1]),e.colors.push(a[3*(c-1)+2]),e.colors.push(a[3*c]),e.colors.push(a[3*c+1]),e.colors.push(a[3*c+2])),t.material&&"AllSame"!==t.material.mappingType&&(e.materialIndex.push(r),e.materialIndex.push(r),e.materialIndex.push(r)),t.normal&&(e.normal.push(i[0]),e.normal.push(i[1]),e.normal.push(i[2]),e.normal.push(i[3*(c-1)]),e.normal.push(i[3*(c-1)+1]),e.normal.push(i[3*(c-1)+2]),e.normal.push(i[3*c]),e.normal.push(i[3*c+1]),e.normal.push(i[3*c+2])),t.uv&&t.uv.forEach((function(t,n){void 0===e.uvs[n]&&(e.uvs[n]=[]),e.uvs[n].push(o[n][0]),e.uvs[n].push(o[n][1]),e.uvs[n].push(o[n][2*(c-1)]),e.uvs[n].push(o[n][2*(c-1)+1]),e.uvs[n].push(o[n][2*c]),e.uvs[n].push(o[n][2*c+1])}))},addMorphTargets:function(t,n,r,i){if(null!==r){t.morphAttributes.position=[],t.morphAttributes.normal=[];var a=this;r.rawTargets.forEach((function(r){var o=e.Objects.Geometry[r.geoID];void 0!==o&&a.genMorphGeometry(t,n,o,i)}))}},genMorphGeometry:function(e,t,n,r){var i=new THREE.BufferGeometry;n.attrName&&(i.name=n.attrName);for(var a=void 0!==t.PolygonVertexIndex?t.PolygonVertexIndex.a:[],o=void 0!==t.Vertices?t.Vertices.a.slice():[],s=void 0!==n.Vertices?n.Vertices.a:[],u=void 0!==n.Indexes?n.Indexes.a:[],l=0;l<u.length;l++){var c=3*u[l];o[c]+=s[3*l],o[c+1]+=s[3*l+1],o[c+2]+=s[3*l+2]}var h={vertexIndices:a,vertexPositions:o},d=this.genBuffers(h),g=new THREE.Float32BufferAttribute(d.vertex,3);g.name=n.attrName,r.applyToBufferAttribute(g),e.morphAttributes.position.push(g)},parseNormals:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Normals.a,i=[];return"IndexToDirect"===n&&("NormalIndex"in e?i=e.NormalIndex.a:"NormalsIndex"in e&&(i=e.NormalsIndex.a)),{dataSize:3,buffer:r,indices:i,mappingType:t,referenceType:n}},parseUVs:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.UV.a,i=[];return"IndexToDirect"===n&&(i=e.UVIndex.a),{dataSize:2,buffer:r,indices:i,mappingType:t,referenceType:n}},parseVertexColors:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Colors.a,i=[];return"IndexToDirect"===n&&(i=e.ColorIndex.a),{dataSize:4,buffer:r,indices:i,mappingType:t,referenceType:n}},parseMaterialIndices:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType;if("NoMappingInformation"===t)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:n};for(var r=e.Materials.a,i=[],a=0;a<r.length;++a)i.push(a);return{dataSize:1,buffer:r,indices:i,mappingType:t,referenceType:n}},parseNurbsGeometry:function(e){if(void 0===THREE.NURBSCurve)return console.error("THREE.FBXLoader: The loader relies on THREE.NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new THREE.BufferGeometry;var t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new THREE.BufferGeometry;for(var n,r,i=t-1,a=e.KnotVector.a,o=[],s=e.Points.a,u=0,l=s.length;u<l;u+=4)o.push((new THREE.Vector4).fromArray(s,u));if("Closed"===e.Form)o.push(o[0]);else if("Periodic"===e.Form){n=i,r=a.length-1-n;for(u=0;u<i;++u)o.push(o[u])}var c=new THREE.NURBSCurve(i,a,o,n,r).getPoints(7*o.length),h=new Float32Array(3*c.length);c.forEach((function(e,t){e.toArray(h,3*t)}));var d=new THREE.BufferGeometry;return d.addAttribute("position",new THREE.BufferAttribute(h,3)),d}},o.prototype={constructor:o,parse:function(){var e=[],t=this.parseClips();if(void 0===t)return e;for(var n in t){var r=t[n],i=this.addClip(r);e.push(i)}return e},parseClips:function(){if(void 0!==e.Objects.AnimationCurve){var t=this.parseAnimationCurveNodes();this.parseAnimationCurves(t);var n=this.parseAnimationLayers(t);return this.parseAnimStacks(n)}},parseAnimationCurveNodes:function(){var t=e.Objects.AnimationCurveNode,n=new Map;for(var r in t){var i=t[r];if(null!==i.attrName.match(/S|R|T|DeformPercent/)){var a={id:i.id,attr:i.attrName,curves:{}};n.set(a.id,a)}}return n},parseAnimationCurves:function(n){var r=e.Objects.AnimationCurve;for(var i in r){var a={id:r[i].id,times:r[i].KeyTime.a.map(d),values:r[i].KeyValueFloat.a},o=t.get(a.id);if(void 0!==o){var s=o.parents[0].ID,u=o.parents[0].relationship;u.match(/X/)?n.get(s).curves.x=a:u.match(/Y/)?n.get(s).curves.y=a:u.match(/Z/)?n.get(s).curves.z=a:u.match(/d|DeformPercent/)&&n.has(s)&&(n.get(s).curves.morph=a)}}},parseAnimationLayers:function(n){var r=e.Objects.AnimationLayer,i=new Map;for(var a in r){var o=[],s=t.get(parseInt(a));if(void 0!==s){var u=s.children,l=this;u.forEach((function(r,i){if(n.has(r.ID)){var a=n.get(r.ID);if(void 0!==a.curves.x||void 0!==a.curves.y||void 0!==a.curves.z){if(void 0===o[i]){t.get(r.ID).parents.forEach((function(e){void 0!==e.relationship&&(g=e.ID)}));var s=e.Objects.Model[g.toString()],u={modelName:THREE.PropertyBinding.sanitizeNodeName(s.attrName),initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1],transform:l.getModelAnimTransform(s)};"PreRotation"in s&&(u.preRotations=s.PreRotation.value),"PostRotation"in s&&(u.postRotations=s.PostRotation.value),o[i]=u}o[i][a.attr]=a}else if(void 0!==a.curves.morph){if(void 0===o[i]){var c;t.get(r.ID).parents.forEach((function(e){void 0!==e.relationship&&(c=e.ID)}));var h=t.get(c).parents[0].ID,d=t.get(h).parents[0].ID,g=t.get(d).parents[0].ID;s=e.Objects.Model[g],u={modelName:THREE.PropertyBinding.sanitizeNodeName(s.attrName),morphName:e.Objects.Deformer[c].attrName};o[i]=u}o[i][a.attr]=a}}})),i.set(parseInt(a),o)}}return i},getModelAnimTransform:function(e){var t={};return"RotationOrder"in e&&(t.eulerOrder=parseInt(e.RotationOrder.value)),"Lcl_Translation"in e&&(t.translation=e.Lcl_Translation.value),"RotationOffset"in e&&(t.rotationOffset=e.RotationOffset.value),"Lcl_Rotation"in e&&(t.rotation=e.Lcl_Rotation.value),"PreRotation"in e&&(t.preRotation=e.PreRotation.value),"PostRotation"in e&&(t.postRotation=e.PostRotation.value),"Lcl_Scaling"in e&&(t.scale=e.Lcl_Scaling.value),b(t)},parseAnimStacks:function(n){var r=e.Objects.AnimationStack,i={};for(var a in r){var o=t.get(parseInt(a)).children;o.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");var s=n.get(o[0].ID);i[a]={name:r[a].attrName,layer:s}}return i},addClip:function(e){var t=[],n=this;return e.layer.forEach((function(e){t=t.concat(n.generateTracks(e))})),new THREE.AnimationClip(e.name,-1,t)},generateTracks:function(e){var t=[],n=new THREE.Vector3,r=new THREE.Quaternion,i=new THREE.Vector3;if(e.transform&&e.transform.decompose(n,r,i),n=n.toArray(),r=(new THREE.Euler).setFromQuaternion(r).toArray(),i=i.toArray(),void 0!==e.T&&Object.keys(e.T.curves).length>0){var a=this.generateVectorTrack(e.modelName,e.T.curves,n,"position");void 0!==a&&t.push(a)}if(void 0!==e.R&&Object.keys(e.R.curves).length>0){var o=this.generateRotationTrack(e.modelName,e.R.curves,r,e.preRotations,e.postRotations);void 0!==o&&t.push(o)}if(void 0!==e.S&&Object.keys(e.S.curves).length>0){var s=this.generateVectorTrack(e.modelName,e.S.curves,i,"scale");void 0!==s&&t.push(s)}if(void 0!==e.DeformPercent){var u=this.generateMorphTrack(e);void 0!==u&&t.push(u)}return t},generateVectorTrack:function(e,t,n,r){var i=this.getTimesForAllAxes(t),a=this.getKeyframeTrackValues(i,t,n);return new THREE.VectorKeyframeTrack(e+"."+r,i,a)},generateRotationTrack:function(e,t,n,r,i){void 0!==t.x&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(THREE.Math.degToRad)),void 0!==t.y&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(THREE.Math.degToRad)),void 0!==t.z&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(THREE.Math.degToRad));var a=this.getTimesForAllAxes(t),o=this.getKeyframeTrackValues(a,t,n);void 0!==r&&((r=r.map(THREE.Math.degToRad)).push("ZYX"),r=(new THREE.Euler).fromArray(r),r=(new THREE.Quaternion).setFromEuler(r)),void 0!==i&&((i=i.map(THREE.Math.degToRad)).push("ZYX"),i=(new THREE.Euler).fromArray(i),i=(new THREE.Quaternion).setFromEuler(i).inverse());for(var s=new THREE.Quaternion,u=new THREE.Euler,l=[],c=0;c<o.length;c+=3)u.set(o[c],o[c+1],o[c+2],"ZYX"),s.setFromEuler(u),void 0!==r&&s.premultiply(r),void 0!==i&&s.multiply(i),s.toArray(l,c/3*4);return new THREE.QuaternionKeyframeTrack(e+".quaternion",a,l)},generateMorphTrack:function(e){var t=e.DeformPercent.curves.morph,r=t.values.map((function(e){return e/100})),i=n.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new THREE.NumberKeyframeTrack(e.modelName+".morphTargetInfluences["+i+"]",t.times,r)},getTimesForAllAxes:function(e){var t=[];return void 0!==e.x&&(t=t.concat(e.x.times)),void 0!==e.y&&(t=t.concat(e.y.times)),void 0!==e.z&&(t=t.concat(e.z.times)),t=t.sort((function(e,t){return e-t})).filter((function(e,t,n){return n.indexOf(e)==t}))},getKeyframeTrackValues:function(e,t,n){var r=n,i=[],a=-1,o=-1,s=-1;return e.forEach((function(e){if(t.x&&(a=t.x.times.indexOf(e)),t.y&&(o=t.y.times.indexOf(e)),t.z&&(s=t.z.times.indexOf(e)),-1!==a){var n=t.x.values[a];i.push(n),r[0]=n}else i.push(r[0]);if(-1!==o){var u=t.y.values[o];i.push(u),r[1]=u}else i.push(r[1]);if(-1!==s){var l=t.z.values[s];i.push(l),r[2]=l}else i.push(r[2])})),i},interpolateRotations:function(e){for(var t=1;t<e.values.length;t++){var n=e.values[t-1],r=e.values[t]-n,i=Math.abs(r);if(i>=180){for(var a=i/180,o=r/a,s=n+o,u=e.times[t-1],l=(e.times[t]-u)/a,c=u+l,h=[],d=[];c<e.times[t];)h.push(c),c+=l,d.push(s),s+=o;e.times=_(e.times,t,h),e.values=_(e.values,t,d)}}}},s.prototype={constructor:s,getPrevNode:function(){return this.nodeStack[this.currentIndent-2]},getCurrentNode:function(){return this.nodeStack[this.currentIndent-1]},getCurrentProp:function(){return this.currentProp},pushStack:function(e){this.nodeStack.push(e),this.currentIndent+=1},popStack:function(){this.nodeStack.pop(),this.currentIndent-=1},setCurrentProp:function(e,t){this.currentProp=e,this.currentPropName=t},parse:function(e){this.currentIndent=0,console.log("FBXTree: ",c),this.allNodes=new c,this.nodeStack=[],this.currentProp=[],this.currentPropName="";var t=this,n=e.split(/[\r\n]+/);return n.forEach((function(e,r){var i=e.match(/^[\s\t]*;/),a=e.match(/^[\s\t]*$/);if(!i&&!a){var o=e.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),s=e.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),u=e.match("^\\t{"+(t.currentIndent-1)+"}}");o?t.parseNodeBegin(e,o):s?t.parseNodeProperty(e,s,n[++r]):u?t.popStack():e.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(e)}})),this.allNodes},parseNodeBegin:function(e,t){var n=t[1].trim().replace(/^"/,"").replace(/"$/,""),r=t[2].split(",").map((function(e){return e.trim().replace(/^"/,"").replace(/"$/,"")})),i={name:n},a=this.parseNodeAttr(r),o=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(n,i):n in o?("PoseNode"===n?o.PoseNode.push(i):void 0!==o[n].id&&(o[n]={},o[n][o[n].id]=o[n]),""!==a.id&&(o[n][a.id]=i)):"number"===typeof a.id?(o[n]={},o[n][a.id]=i):"Properties70"!==n&&(o[n]="PoseNode"===n?[i]:i),"number"===typeof a.id&&(i.id=a.id),""!==a.name&&(i.attrName=a.name),""!==a.type&&(i.attrType=a.type),this.pushStack(i)},parseNodeAttr:function(e){var t=e[0];""!==e[0]&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));var n="",r="";return e.length>1&&(n=e[1].replace(/^(\w+)::/,""),r=e[2]),{id:t,name:n,type:r}},parseNodeProperty:function(e,t,n){var r=t[1].replace(/^"/,"").replace(/"$/,"").trim(),i=t[2].replace(/^"/,"").replace(/"$/,"").trim();"Content"===r&&","===i&&(i=n.replace(/"/g,"").replace(/,$/,"").trim());var a=this.getCurrentNode();if("Properties70"!==a.name){if("C"===r){var o=i.split(",").slice(1),s=parseInt(o[0]),u=parseInt(o[1]),l=i.split(",").slice(3);r="connections",function(e,t){for(var n=0,r=e.length,i=t.length;n<i;n++,r++)e[r]=t[n]}(i=[s,u],l=l.map((function(e){return e.trim().replace(/^"/,"")}))),void 0===a[r]&&(a[r]=[])}"Node"===r&&(a.id=i),r in a&&Array.isArray(a[r])?a[r].push(i):"a"!==r?a[r]=i:a.a=i,this.setCurrentProp(a,r),"a"===r&&","!==i.slice(-1)&&(a.a=w(i))}else this.parseNodeSpecialProperty(e,r,i)},parseNodePropertyContinued:function(e){var t=this.getCurrentNode();t.a+=e,","!==e.slice(-1)&&(t.a=w(t.a))},parseNodeSpecialProperty:function(e,t,n){var r=n.split('",').map((function(e){return e.trim().replace(/^\"/,"").replace(/\s/,"_")})),i=r[0],a=r[1],o=r[2],s=r[3],u=r[4];switch(a){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":u=parseFloat(u);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":u=w(u)}this.getPrevNode()[i]={type:a,type2:o,flag:s,value:u},this.setCurrentProp(this.getPrevNode(),i)}},u.prototype={constructor:u,parse:function(e){var t=new l(e);t.skip(23);var n=t.getUint32();console.log("THREE.FBXLoader: FBX binary version: "+n);for(var r=new c;!this.endOfContent(t);){var i=this.parseNode(t,n);null!==i&&r.add(i.name,i)}return r},endOfContent:function(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()},parseNode:function(e,t){var n={},r=t>=7500?e.getUint64():e.getUint32(),i=t>=7500?e.getUint64():e.getUint32(),a=(t>=7500?e.getUint64():e.getUint32(),e.getUint8()),o=e.getString(a);if(0===r)return null;for(var s=[],u=0;u<i;u++)s.push(this.parseProperty(e));var l=s.length>0?s[0]:"",c=s.length>1?s[1]:"",h=s.length>2?s[2]:"";for(n.singleProperty=1===i&&e.getOffset()===r;r>e.getOffset();){var d=this.parseNode(e,t);null!==d&&this.parseSubNode(o,n,d)}return n.propertyList=s,"number"===typeof l&&(n.id=l),""!==c&&(n.attrName=c),""!==h&&(n.attrType=h),""!==o&&(n.name=o),n},parseSubNode:function(e,t,n){if(!0===n.singleProperty){var r=n.propertyList[0];Array.isArray(r)?(t[n.name]=n,n.a=r):t[n.name]=r}else if("Connections"===e&&"C"===n.name){var i=[];n.propertyList.forEach((function(e,t){0!==t&&i.push(e)})),void 0===t.connections&&(t.connections=[]),t.connections.push(i)}else if("Properties70"===n.name){Object.keys(n).forEach((function(e){t[e]=n[e]}))}else if("Properties70"===e&&"P"===n.name){var a,o=n.propertyList[0],s=n.propertyList[1],u=n.propertyList[2],l=n.propertyList[3];0===o.indexOf("Lcl ")&&(o=o.replace("Lcl ","Lcl_")),0===s.indexOf("Lcl ")&&(s=s.replace("Lcl ","Lcl_")),a="Color"===s||"ColorRGB"===s||"Vector"===s||"Vector3D"===s||0===s.indexOf("Lcl_")?[n.propertyList[4],n.propertyList[5],n.propertyList[6]]:n.propertyList[4],t[o]={type:s,type2:u,flag:l,value:a}}else void 0===t[n.name]?"number"===typeof n.id?(t[n.name]={},t[n.name][n.id]=n):t[n.name]=n:"PoseNode"===n.name?(Array.isArray(t[n.name])||(t[n.name]=[t[n.name]]),t[n.name].push(n)):void 0===t[n.name][n.id]&&(t[n.name][n.id]=n)},parseProperty:function(e){var t=e.getString(1);switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":var n=e.getUint32();return e.getArrayBuffer(n);case"S":n=e.getUint32();return e.getString(n);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":var r=e.getUint32(),i=e.getUint32(),a=e.getUint32();if(0===i)switch(t){case"b":case"c":return e.getBooleanArray(r);case"d":return e.getFloat64Array(r);case"f":return e.getFloat32Array(r);case"i":return e.getInt32Array(r);case"l":return e.getInt64Array(r)}"undefined"===typeof Zlib&&console.error("THREE.FBXLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js");var o=new l(new Zlib.Inflate(new Uint8Array(e.getArrayBuffer(a))).decompress().buffer);switch(t){case"b":case"c":return o.getBooleanArray(r);case"d":return o.getFloat64Array(r);case"f":return o.getFloat32Array(r);case"i":return o.getInt32Array(r);case"l":return o.getInt64Array(r)}default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}},l.prototype={constructor:l,getOffset:function(){return this.offset},size:function(){return this.dv.buffer.byteLength},skip:function(e){this.offset+=e},getBoolean:function(){return 1===(1&this.getUint8())},getBooleanArray:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getBoolean());return t},getUint8:function(){var e=this.dv.getUint8(this.offset);return this.offset+=1,e},getInt16:function(){var e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},getInt32:function(){var e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},getInt32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt32());return t},getUint32:function(){var e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},getInt64:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),2147483648&t?(t=4294967295&~t,4294967295===(e=4294967295&~e)&&(t=t+1&4294967295),-(4294967296*t+(e=e+1&4294967295))):4294967296*t+e},getInt64Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt64());return t},getUint64:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),4294967296*t+e},getFloat32:function(){var e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},getFloat32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat32());return t},getFloat64:function(){var e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},getFloat64Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat64());return t},getArrayBuffer:function(e){var t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},getString:function(e){for(var t=[],n=0;n<e;n++)t[n]=this.getUint8();var r=t.indexOf(0);return r>=0&&(t=t.slice(0,r)),THREE.LoaderUtils.decodeText(new Uint8Array(t))}},c.prototype={constructor:c,add:function(e,t){this[e]=t}};var g=[];function p(e,t,n,r){var i;switch(r.mappingType){case"ByPolygonVertex":i=e;break;case"ByPolygon":i=t;break;case"ByVertice":i=n;break;case"AllSame":i=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}"IndexToDirect"===r.referenceType&&(i=r.indices[i]);var a=i*r.dataSize,o=a+r.dataSize;return function(e,t,n,r){for(var i=n,a=0;i<r;i++,a++)e[a]=t[i];return e}(g,r.buffer,a,o)}var f=new THREE.Matrix4,m=new THREE.Euler,v=new THREE.Vector3,y=new THREE.Vector3,A=new THREE.Matrix4;function b(e){var t=new THREE.Matrix4;y.set(0,0,0),A.identity();var n,r=e.eulerOrder?x(e.eulerOrder):x(0);(e.translation&&y.fromArray(e.translation),e.rotationOffset&&y.add(v.fromArray(e.rotationOffset)),e.rotation)&&((n=e.rotation.map(THREE.Math.degToRad)).push(r),A.makeRotationFromEuler(m.fromArray(n)));e.preRotation&&((n=e.preRotation.map(THREE.Math.degToRad)).push(r),f.makeRotationFromEuler(m.fromArray(n)),A.premultiply(f));e.postRotation&&((n=e.postRotation.map(THREE.Math.degToRad)).push(r),f.makeRotationFromEuler(m.fromArray(n)),f.getInverse(f),A.multiply(f));return e.scale&&t.scale(v.fromArray(e.scale)),t.setPosition(y),t.multiply(A),t}function x(e){var t=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return 6===e?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),t[0]):t[e]}function w(e){return e.split(",").map((function(e){return parseFloat(e)}))}function E(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=e.byteLength),THREE.LoaderUtils.decodeText(new Uint8Array(e,t,n))}function _(e,t,n){return e.slice(0,t).concat(n).concat(e.slice(t))}return r}()},5561:function(e){e.exports=Object.assign((function(){}),{FACE_1:0,FACE_2:1,FACE_3:2,FACE_4:3,L_SHOULDER_1:4,R_SHOULDER_1:5,L_SHOULDER_2:6,R_SHOULDER_2:7,SELECT:8,START:9,DPAD_UP:12,DPAD_DOWN:13,DPAD_LEFT:14,DPAD_RIGHT:15,VENDOR:16})},6994:function(e){e.exports=function(e,t,n){this.type=e,this.index=t,this.pressed=n.pressed,this.value=n.value}},8880:function(e){e.exports={size:5,cellSize:10,extrudeSettings:{amount:1,bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:.5,bevelThickness:.5},autogenerated:!0,cells:[{q:-1,r:0,s:1,h:1,walkable:!0,userData:{}},{q:0,r:-1,s:1,h:1,walkable:!0,userData:{}},{q:0,r:0,s:0,h:1,walkable:!0,userData:{}},{q:1,r:-1,s:0,h:1,walkable:!0,userData:{}},{q:-1,r:1,s:0,h:0,walkable:!0,userData:{}},{q:0,r:1,s:-1,h:0,walkable:!0,userData:{}},{q:1,r:0,s:-1,h:0,walkable:!0,userData:{}}]}},4730:function(e){function t(e){var t=document.getElementById(e),n=t.parentNode;try{n&&n.removeChild(t)}catch(r){}}function n(e,n,r){return new r((function(r,i){var a=n.timeout||5e3,o="script_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),s=function(e,t){var n=document.createElement("script");return n.type="text/javascript",n.async=!0,n.id=t,n.src=e,n}(e,o),u=setTimeout((function(){i(new Error("Script request to "+e+" timed out")),t(o)}),a),l=function(e){clearTimeout(e)};s.addEventListener("load",(function(e){r({ok:!0}),l(u),t(o)})),s.addEventListener("error",(function(n){i(new Error("Script request to "+e+" failed "+n)),l(u),t(o)})),function(e){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(s)}))}e.exports=function(e){return e=e||{},function(t,r){return n(t,r=r||{},e.Promise||Promise)}}},4413:function(e){var n=e.exports={VERSION:"0.1.1",PI:Math.PI,TAU:2*Math.PI,DEG_TO_RAD:.0174532925,RAD_TO_DEG:57.2957795,SQRT3:Math.sqrt(3),TILE:"tile",ENT:"entity",STR:"structure",HEX:"hex",SQR:"square",ABS:"abstract"};n.Board=function(e,t){if(!e)throw new Error("You must pass in a grid system for the board to use.");this.tiles=[],this.tileGroup=null,this.group=new THREE.Object3D,this.grid=null,this.overlay=null,this.finder=new n.AStarFinder(t),n.Loader.init(),this.setGrid(e)},n.Board.prototype={setEntityOnTile:function(e,t){var n=this.grid.cellToPixel(t.cell);e.position.copy(n),e.position.y+=e.heightOffset||0,e.tile&&(e.tile.entity=null),e.tile=t,t.entity=e},addTile:function(e){-1===this.tiles.indexOf(e)&&(this.tiles.push(e),this.snapTileToGrid(e),e.position.y=0,this.tileGroup.add(e.mesh),this.grid.add(e.cell),e.cell.tile=e)},removeTile:function(e){if(e){var t=this.tiles.indexOf(e);this.grid.remove(e.cell),-1!==t&&this.tiles.splice(t,1),e.dispose()}},removeAllTiles:function(){if(this.tileGroup)for(var e=this.tileGroup.children,t=0;t<e.length;t++)this.tileGroup.remove(e[t])},getTileAtCell:function(e){var t=this.grid.cellToHash(e);return e.tile||("undefined"!=typeof this.grid.cells[t]?this.grid.cells[t].tile:null)},snapToGrid:function(e){var t=this.grid.pixelToCell(e);e.copy(this.grid.cellToPixel(t))},snapTileToGrid:function(e){if(e.cell)e.position.copy(this.grid.cellToPixel(e.cell));else{var t=this.grid.pixelToCell(e.position);e.position.copy(this.grid.cellToPixel(t))}return e},getRandomTile:function(){var e=n.Tools.randomInt(0,this.tiles.length-1);return this.tiles[e]},findPath:function(e,t,n){return this.finder.findPath(e.cell,t.cell,n,this.grid)},setGrid:function(e){this.group.remove(this.tileGroup),this.grid&&e!==this.grid&&(this.removeAllTiles(),this.tiles.forEach((function(e){this.grid.remove(e.cell),e.dispose()})),this.grid.dispose()),this.grid=e,this.tiles=[],this.tileGroup=new THREE.Object3D,this.group.add(this.tileGroup)},generateOverlay:function(e){var t=new THREE.LineBasicMaterial({color:0,opacity:.3});this.overlay&&this.group.remove(this.overlay),this.overlay=new THREE.Object3D,this.grid.generateOverlay(e,this.overlay,t),this.group.add(this.overlay)},generateTilemap:function(e){this.reset();var t=this.grid.generateTiles(e);this.tiles=t,this.tileGroup=new THREE.Object3D;for(var n=0;n<t.length;n++)this.tileGroup.add(t[n].mesh);this.group.add(this.tileGroup)},reset:function(){this.removeAllTiles(),this.tileGroup&&this.group.remove(this.tileGroup)}},n.Board.prototype.constructor=n.Board,n.Cell=function(e,t,r,i){this.q=e||0,this.r=t||0,this.s=r||0,this.h=i||1,this.tile=null,this.userData={},this.walkable=!0,this._calcCost=0,this._priority=0,this._visited=!1,this._parent=null,this.uniqueID=n.LinkedList.generateID()},n.Cell.prototype={set:function(e,t,n){return this.q=e,this.r=t,this.s=n,this},copy:function(e){return this.q=e.q,this.r=e.r,this.s=e.s,this.h=e.h,this.tile=e.tile||null,this.userData=e.userData||{},this.walkable=e.walkable,this},add:function(e){return this.q+=e.q,this.r+=e.r,this.s+=e.s,this},equals:function(e){return this.q===e.q&&this.r===e.r&&this.s===e.s}},n.Cell.prototype.constructor=n.Cell,n.HexGrid=function(e){e=e||{},this.type=n.HEX,this.size=5,this.cellSize="undefined"==typeof e.cellSize?10:e.cellSize,this.cells={},this.numCells=0,this.extrudeSettings=null,this.autogenerated=!1;var t,r=[];for(t=0;6>t;t++)r.push(this._createVertex(t));for(this.cellShape=new THREE.Shape,this.cellShape.moveTo(r[0].x,r[0].y),t=1;6>t;t++)this.cellShape.lineTo(r[t].x,r[t].y);this.cellShape.lineTo(r[0].x,r[0].y),this.cellShape.autoClose=!0,this.cellGeo=new THREE.Geometry,this.cellGeo.vertices=r,this.cellGeo.verticesNeedUpdate=!0,this.cellShapeGeo=new THREE.ShapeGeometry(this.cellShape),this._cellWidth=2*this.cellSize,this._cellLength=.5*n.SQRT3*this._cellWidth,this._hashDelimeter=".",this._directions=[new n.Cell(1,-1,0),new n.Cell(1,0,-1),new n.Cell(0,1,-1),new n.Cell(-1,1,0),new n.Cell(-1,0,1),new n.Cell(0,-1,1)],this._diagonals=[new n.Cell(2,-1,-1),new n.Cell(1,1,-2),new n.Cell(-1,2,-1),new n.Cell(-2,1,1),new n.Cell(-1,-1,2),new n.Cell(1,-2,1)],this._list=[],this._vec3=new THREE.Vector3,this._cel=new n.Cell,this._conversionVec=new THREE.Vector3,this._geoCache=[],this._matCache=[]},n.HexGrid.TWO_THIRDS=2/3,n.HexGrid.prototype={cellToPixel:function(e){return this._vec3.x=e.q*this._cellWidth*.75,this._vec3.y=e.h,this._vec3.z=-(e.s-e.r)*this._cellLength*.5,this._vec3},pixelToCell:function(e){var t=e.x*(n.HexGrid.TWO_THIRDS/this.cellSize),r=(-e.x/3+n.SQRT3/3*e.z)/this.cellSize;return this._cel.set(t,r,-t-r),this._cubeRound(this._cel)},getCellAt:function(e){var t=e.x*(n.HexGrid.TWO_THIRDS/this.cellSize),r=(-e.x/3+n.SQRT3/3*e.z)/this.cellSize;return this._cel.set(t,r,-t-r),this._cubeRound(this._cel),this.cells[this.cellToHash(this._cel)]},getNeighbors:function(e,t,n){var r,i,a=this._directions.length;for(this._list.length=0,r=0;a>r;r++)this._cel.copy(e),this._cel.add(this._directions[r]),!(i=this.cells[this.cellToHash(this._cel)])||n&&!n(e,i)||this._list.push(i);if(t)for(r=0;a>r;r++)this._cel.copy(e),this._cel.add(this._diagonals[r]),!(i=this.cells[this.cellToHash(this._cel)])||n&&!n(e,i)||this._list.push(i);return this._list},getRandomCell:function(){var e,t=0,r=n.Tools.randomInt(0,this.numCells);for(e in this.cells){if(t===r)return this.cells[e];t++}return this.cells[e]},cellToHash:function(e){return e.q+this._hashDelimeter+e.r+this._hashDelimeter+e.s},distance:function(e,t){return Math.max(Math.abs(e.q-t.q),Math.abs(e.r-t.r),Math.abs(e.s-t.s))+(t.h-e.h)},clearPath:function(){var e,t;for(e in this.cells)(t=this.cells[e])._calcCost=0,t._priority=0,t._parent=null,t._visited=!1},traverse:function(e){var t;for(t in this.cells)e(this.cells[t])},generateTile:function(e,t,r){var i=Math.abs(e.h);1>i&&(i=1);var a=this._geoCache[i];a||(this.extrudeSettings.amount=i,a=new THREE.ExtrudeGeometry(this.cellShape,this.extrudeSettings),this._geoCache[i]=a);var o=new n.Tile({size:this.cellSize,scale:t,cell:e,geometry:a,material:r});return e.tile=o,o},generateTiles:function(e){e=e||{};var t,r,i,a=[],o={tileScale:.95,cellSize:this.cellSize,material:null,extrudeSettings:{amount:1,bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:.5,bevelThickness:.5}};for(t in o=n.Tools.merge(o,e),this.cellSize=o.cellSize,this._cellWidth=2*this.cellSize,this._cellLength=.5*n.SQRT3*this._cellWidth,this.autogenerated=!0,this.extrudeSettings=o.extrudeSettings,this.cells)i=this.cells[t],(r=this.generateTile(i,o.tileScale,o.material)).position.copy(this.cellToPixel(i)),r.position.y=0,a.push(r);return a},generateTilePoly:function(e){e||(e=new THREE.MeshBasicMaterial({color:2405631}));var t=new THREE.Mesh(this.cellShapeGeo,e);return this._vec3.set(1,0,0),t.rotateOnAxis(this._vec3,n.PI/2),t},generate:function(e){var t,r,i,a;for(e=e||{},this.size="undefined"==typeof e.size?this.size:e.size,t=-this.size;t<this.size+1;t++)for(r=-this.size;r<this.size+1;r++)i=-t-r,Math.abs(t)<=this.size&&Math.abs(r)<=this.size&&Math.abs(i)<=this.size&&(a=new n.Cell(t,r,i),this.add(a))},generateOverlay:function(e,t,r){var i,a,o,s=this.cellShape.createPointsGeometry();for(i=-e;e+1>i;i++)for(a=-e;e+1>a;a++)if(o=-i-a,Math.abs(i)<=e&&Math.abs(a)<=e&&Math.abs(o)<=e){this._cel.set(i,a,o);var u=new THREE.Line(s,r);u.position.copy(this.cellToPixel(this._cel)),u.rotation.x=90*n.DEG_TO_RAD,t.add(u)}},add:function(e){var t=this.cellToHash(e);if(!this.cells[t])return this.cells[t]=e,this.numCells++,e},remove:function(e){var t=this.cellToHash(e);this.cells[t]&&(delete this.cells[t],this.numCells--)},dispose:function(){this.cells=null,this.numCells=0,this.cellShape=null,this.cellGeo.dispose(),this.cellGeo=null,this.cellShapeGeo.dispose(),this.cellShapeGeo=null,this._list=null,this._vec3=null,this._conversionVec=null,this._geoCache=null,this._matCache=null},load:function(e,t,r){var i=this;n.Tools.getJSON({url:e,callback:function(e){i.fromJSON(e),t.call(r||null,e)},cache:!1,scope:i})},fromJSON:function(e){var t,r,i=e.cells;for(this.cells={},this.numCells=0,this.size=e.size,this.cellSize=e.cellSize,this._cellWidth=2*this.cellSize,this._cellLength=.5*n.SQRT3*this._cellWidth,this.extrudeSettings=e.extrudeSettings,this.autogenerated=e.autogenerated,t=0;t<i.length;t++)(r=new n.Cell).copy(i[t]),this.add(r)},toJSON:function(){var e,t,n={size:this.size,cellSize:this.cellSize,extrudeSettings:this.extrudeSettings,autogenerated:this.autogenerated},r=[];for(t in this.cells)e=this.cells[t],r.push({q:e.q,r:e.r,s:e.s,h:e.h,walkable:e.walkable,userData:e.userData});return n.cells=r,n},_createVertex:function(e){var t=n.TAU/6*e;return new THREE.Vector3(this.cellSize*Math.cos(t),this.cellSize*Math.sin(t),0)},_cubeRound:function(e){var t=Math.round(e.q),n=Math.round(e.r),r=Math.round(e.s),i=Math.abs(t-e.q),a=Math.abs(n-e.r),o=Math.abs(r-e.s);return i>a&&i>o?t=-n-r:a>o?n=-t-r:r=-t-n,this._cel.set(t,n,r)}},n.HexGrid.prototype.constructor=n.HexGrid,n.SqrGrid=function(e){e=e||{},this.type=n.SQR,this.size=5,this.cellSize="undefined"==typeof e.cellSize?10:e.cellSize,this.cells={},this.numCells=0,this.extrudeSettings=null,this.autogenerated=!1;var t=[];t.push(new THREE.Vector3),t.push(new THREE.Vector3(-this.cellSize,this.cellSize)),t.push(new THREE.Vector3(this.cellSize,this.cellSize)),t.push(new THREE.Vector3(this.cellSize,-this.cellSize)),this.cellShape=new THREE.Shape,this.cellShape.moveTo(-this.cellSize,-this.cellSize),this.cellShape.lineTo(-this.cellSize,this.cellSize),this.cellShape.lineTo(this.cellSize,this.cellSize),this.cellShape.lineTo(this.cellSize,-this.cellSize),this.cellShape.lineTo(-this.cellSize,-this.cellSize),this.cellGeo=new THREE.Geometry,this.cellGeo.vertices=t,this.cellGeo.verticesNeedUpdate=!0,this.cellShapeGeo=new THREE.ShapeGeometry(this.cellShape),this._fullCellSize=2*this.cellSize,this._hashDelimeter=".",this._directions=[new n.Cell(1,0,0),new n.Cell(0,-1,0),new n.Cell(-1,0,0),new n.Cell(0,1,0)],this._diagonals=[new n.Cell(-1,-1,0),new n.Cell(-1,1,0),new n.Cell(1,1,0),new n.Cell(1,-1,0)],this._list=[],this._vec3=new THREE.Vector3,this._cel=new n.Cell,this._conversionVec=new THREE.Vector3,this._geoCache=[],this._matCache=[]},n.SqrGrid.prototype={cellToPixel:function(e){return this._vec3.x=e.q*this._fullCellSize,this._vec3.y=e.h,this._vec3.z=e.r*this._fullCellSize,this._vec3},pixelToCell:function(e){var t=Math.round(e.x/this._fullCellSize),n=Math.round(e.z/this._fullCellSize);return this._cel.set(t,n,0)},getCellAt:function(e){var t=Math.round(e.x/this._fullCellSize),n=Math.round(e.z/this._fullCellSize);return this._cel.set(t,n),this.cells[this.cellToHash(this._cel)]},getNeighbors:function(e,t,n){var r,i,a=this._directions.length;for(this._list.length=0,r=0;a>r;r++)this._cel.copy(e),this._cel.add(this._directions[r]),!(i=this.cells[this.cellToHash(this._cel)])||n&&!n(e,i)||this._list.push(i);if(t)for(r=0;a>r;r++)this._cel.copy(e),this._cel.add(this._diagonals[r]),!(i=this.cells[this.cellToHash(this._cel)])||n&&!n(e,i)||this._list.push(i);return this._list},getRandomCell:function(){var e,t=0,r=n.Tools.randomInt(0,this.numCells);for(e in this.cells){if(t===r)return this.cells[e];t++}return this.cells[e]},cellToHash:function(e){return e.q+this._hashDelimeter+e.r},distance:function(e,t){return Math.max(Math.abs(e.q-t.q),Math.abs(e.r-t.r))+(t.h-e.h)},clearPath:function(){var e,t;for(e in this.cells)(t=this.cells[e])._calcCost=0,t._priority=0,t._parent=null,t._visited=!1},traverse:function(e){var t;for(t in this.cells)e(this.cells[t])},generateTile:function(e,t,r){var i=Math.abs(e.h);1>i&&(i=1);var a=this._geoCache[i];a||(this.extrudeSettings.amount=i,a=new THREE.ExtrudeGeometry(this.cellShape,this.extrudeSettings),this._geoCache[i]=a);var o=new n.Tile({size:this.cellSize,scale:t,cell:e,geometry:a,material:r});return e.tile=o,o},generateTiles:function(e){e=e||{};var t,r,i,a=[],o={tileScale:.95,cellSize:this.cellSize,material:null,extrudeSettings:{amount:1,bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:.5,bevelThickness:.5}};for(t in o=n.Tools.merge(o,e),this.cellSize=o.cellSize,this._fullCellSize=2*this.cellSize,this.autogenerated=!0,this.extrudeSettings=o.extrudeSettings,this.cells)i=this.cells[t],(r=this.generateTile(i,o.tileScale,o.material)).position.copy(this.cellToPixel(i)),r.position.y=0,a.push(r);return a},generateTilePoly:function(e){e||(e=new THREE.MeshBasicMaterial({color:2405631}));var t=new THREE.Mesh(this.cellShapeGeo,e);return this._vec3.set(1,0,0),t.rotateOnAxis(this._vec3,n.PI/2),t},generate:function(e){e=e||{},this.size="undefined"==typeof e.size?this.size:e.size;var t,r,i,a=Math.ceil(this.size/2);for(t=-a;a>t;t++)for(r=-a;a>r;r++)i=new n.Cell(t,r+1),this.add(i)},generateOverlay:function(e,t,r){var i,a,o=Math.ceil(e/2);for(i=-o;o>i;i++)for(a=-o;o>a;a++){this._cel.set(i,a);var s=new THREE.Line(this.cellGeo,r);s.position.copy(this.cellToPixel(this._cel)),s.rotation.x=90*n.DEG_TO_RAD,t.add(s)}},add:function(e){var t=this.cellToHash(e);if(!this.cells[t])return this.cells[t]=e,this.numCells++,e},remove:function(e){var t=this.cellToHash(e);this.cells[t]&&(delete this.cells[t],this.numCells--)},dispose:function(){this.cells=null,this.numCells=0,this.cellShape=null,this.cellGeo.dispose(),this.cellGeo=null,this.cellShapeGeo.dispose(),this.cellShapeGeo=null,this._list=null,this._vec3=null,this._conversionVec=null,this._geoCache=null,this._matCache=null},load:function(e,t,r){n.Tools.getJSON({url:e,callback:function(e){this.fromJSON(e),t.call(r||null,e)},cache:!1,scope:this})},fromJSON:function(e){var t,r,i=e.cells;for(this.cells={},this.numCells=0,this.size=e.size,this.cellSize=e.cellSize,this._fullCellSize=2*this.cellSize,this.extrudeSettings=e.extrudeSettings,this.autogenerated=e.autogenerated,t=0;t<i.length;t++)(r=new n.Cell).copy(i[t]),this.add(r)},toJSON:function(){var e,t,n={size:this.size,cellSize:this.cellSize,extrudeSettings:this.extrudeSettings,autogenerated:this.autogenerated},r=[];for(t in this.cells)e=this.cells[t],r.push({q:e.q,r:e.r,s:e.s,h:e.h,walkable:e.walkable,userData:e.userData});return n.cells=r,n}},n.SqrGrid.prototype.constructor=n.SqrGrid,n.Tile=function(e){e=e||{};var t={cell:null,geometry:null,material:null};if(!(t=n.Tools.merge(t,e)).cell||!t.geometry)throw new Error("Missing vg.Tile configuration");this.cell=t.cell,this.cell.tile&&this.cell.tile!==this&&this.cell.tile.dispose(),this.cell.tile=this,this.uniqueID=n.Tools.generateID(),this.geometry=t.geometry,this.material=t.material,this.material||(this.material=new THREE.MeshPhongMaterial({color:n.Tools.randomizeRGB("30, 30, 30",13)})),this.objectType=n.TILE,this.entity=null,this.userData={},this.selected=!1,this.highlight="0x0084cc",this.mesh=new THREE.Mesh(this.geometry,this.material),this.mesh.userData.structure=this,this.position=this.mesh.position,this.rotation=this.mesh.rotation,this.rotation.x=-90*n.DEG_TO_RAD,this.mesh.scale.set(t.scale,t.scale,1),this.material.emissive?this._emissive=this.material.emissive.getHex():this._emissive=null},n.Tile.prototype={select:function(){return this.material.emissive&&this.material.emissive.setHex(this.highlight),this.selected=!0,this},deselect:function(){return null!==this._emissive&&this.material.emissive&&this.material.emissive.setHex(this._emissive),this.selected=!1,this},toggle:function(){return this.selected?this.deselect():this.select(),this},dispose:function(){this.cell&&this.cell.tile&&(this.cell.tile=null),this.cell=null,this.position=null,this.rotation=null,this.mesh.parent&&this.mesh.parent.remove(this.mesh),this.mesh.userData.structure=null,this.mesh=null,this.material=null,this.userData=null,this.entity=null,this.geometry=null,this._emissive=null}},n.Tile.prototype.constructor=n.Tile,function(){var e=function(){this.obj=null,this.next=null,this.prev=null,this.free=!0},t=function(){this.first=null,this.last=null,this.length=0,this.objToNodeMap={},this.uniqueID=Date.now()+""+Math.floor(1e3*Math.random()),this.sortArray=[]};t.generateID=function(){return Math.random().toString(36).slice(2)+Date.now()},(t.prototype={getNode:function(e){return this.objToNodeMap[e.uniqueID]},addNode:function(n){var r=new e;if(!n.uniqueID)try{n.uniqueID=t.generateID()}catch(i){return console.error("[LinkedList.addNode] obj passed is immutable: cannot attach necessary identifier"),null}return r.obj=n,r.free=!1,this.objToNodeMap[n.uniqueID]=r,r},swapObjects:function(e,t){this.objToNodeMap[e.obj.uniqueID]=null,this.objToNodeMap[t.uniqueID]=e,e.obj=t},add:function(e){var t=this.objToNodeMap[e.uniqueID];if(t){if(!1===t.free)return;t.obj=e,t.free=!1,t.next=null,t.prev=null}else t=this.addNode(e);if(this.first){if(!this.last)throw new Error("[LinkedList.add] No last in the list -- that shouldn't happen here");this.last.next=t,t.prev=this.last,this.last=t,t.next=null}else this.first=t,this.last=t,t.next=null,t.prev=null;this.length++,this.showDebug&&this.dump("after add")},has:function(e){return!!this.objToNodeMap[e.uniqueID]},moveUp:function(e){this.dump("before move up");var t=this.getNode(e);if(!t)throw"Oops, trying to move an object that isn't in the list";if(t.prev){var n=t.prev,r=n.prev;t==this.last&&(this.last=n);var i=t.next;r&&(r.next=t),t.next=n,t.prev=n.prev,n.next=i,n.prev=t,this.first==n&&(this.first=t)}},moveDown:function(e){var t=this.getNode(e);if(!t)throw"Oops, trying to move an object that isn't in the list";if(t.next){var n=t.next;this.moveUp(n.obj),this.last==n&&(this.last=t)}},sort:function(e){var t,n,r=this.sortArray,i=this.first;for(r.length=0;i;)r.push(i.obj),i=i.next;for(this.clear(),r.sort(e),n=r.length,t=0;n>t;t++)this.add(r[t])},remove:function(e){var t=this.getNode(e);return!(!t||t.free)&&(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.prev||(this.first=t.next),t.next||(this.last=t.prev),t.free=!0,t.prev=null,t.next=null,this.length--,!0)},shift:function(){var e=this.first;return 0===this.length?null:(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this.first=e.next,e.next||(this.last=null),e.free=!0,e.prev=null,e.next=null,this.length--,e.obj)},pop:function(){var e=this.last;return 0===this.length?null:(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this.last=e.prev,e.prev||(this.first=null),e.free=!0,e.prev=null,e.next=null,this.length--,e.obj)},concat:function(e){for(var t=e.first;t;)this.add(t.obj),t=t.next},clear:function(){for(var e=this.first;e;)e.free=!0,e=e.next;this.first=null,this.length=0},dispose:function(){for(var e=this.first;e;)e.obj=null,e=e.next;this.first=null,this.objToNodeMap=null},dump:function(e){console.log("===================="+e+"=====================");for(var t=this.first;t;)console.log("{"+t.obj.toString()+"} previous="+(t.prev?t.prev.obj:"NULL")),t=t.next();console.log("==================================="),console.log("Last: {"+(this.last?this.last.obj:"NULL")+"} First: {"+(this.first?this.first.obj:"NULL")+"}")}}).constructor=t,n.LinkedList=t}(),function(){var e=function(e,t,n,r,i){this._listener=t,this.isOnce=n,this.context=r,this.signal=e,this._priority=i||0};e.prototype={active:!0,params:null,execute:function(e){var t,n;return this.active&&this._listener&&(n=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,n),this.isOnce&&this.detach()),t},detach:function(){return this.isBound()?this.signal.remove(this._listener,this.context):null},isBound:function(){return!!this.signal&&!!this._listener},_destroy:function(){delete this.signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this.isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},e.prototype.constructor=e;var t=function e(){this._bindings=[],this._prevParams=null;var t=this;this.dispatch=function(){e.prototype.dispatch.apply(t,arguments)}};t.prototype={memorize:!1,_shouldPropagate:!0,active:!0,validateListener:function(e,t){if("function"!=typeof e)throw new Error("Signal: listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))},_registerListener:function(t,n,r,i){var a,o=this._indexOfListener(t,r);if(-1!==o){if((a=this._bindings[o]).isOnce!==n)throw new Error("You cannot add"+(n?"":"Once")+"() then add"+(n?"Once":"")+"() the same listener without removing the relationship first.")}else a=new e(this,t,n,r,i),this._addBinding(a);return this.memorize&&this._prevParams&&a.execute(this._prevParams),a},_addBinding:function(e){var t=this._bindings.length;do{t--}while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var n,r=this._bindings.length;r--;)if((n=this._bindings[r])._listener===e&&n.context===t)return r;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,n){return this.validateListener(e,"add"),this._registerListener(e,!1,t,n)},addOnce:function(e,t,n){return this.validateListener(e,"addOnce"),this._registerListener(e,!0,t,n)},remove:function(e,t){this.validateListener(e,"remove");var n=this._indexOfListener(e,t);return-1!==n&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),e},removeAll:function(e){"undefined"==typeof e&&(e=null);for(var t=this._bindings.length;t--;)e?this._bindings[t].context===e&&(this._bindings[t]._destroy(),this._bindings.splice(t,1)):this._bindings[t]._destroy();e||(this._bindings.length=0)},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active){var e,t=Array.prototype.slice.call(arguments),n=this._bindings.length;if(this.memorize&&(this._prevParams=t),n){e=this._bindings.slice(),this._shouldPropagate=!0;do{n--}while(e[n]&&this._shouldPropagate&&!1!==e[n].execute(t))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}},t.prototype.constructor=t,n.Signal=t}(),n.AStarFinder=function(e){e=e||{};var t={allowDiagonal:!1,heuristicFilter:null};t=n.Tools.merge(t,e),this.allowDiagonal=t.allowDiagonal,this.heuristicFilter=t.heuristicFilter,this.list=new n.LinkedList},n.AStarFinder.prototype={findPath:function(e,t,r,i){var a,o,s,u,l,c;for(r=r||this.heuristicFilter,i.clearPath(),this.list.clear(),this.list.add(e);this.list.length>0;){if(this.list.sort(this.compare),(a=this.list.shift())._visited=!0,a===t)return n.PathUtil.backtrace(t);for(l=0,c=(s=i.getNeighbors(a,this.allowDiagonal,r)).length;c>l;l++)if((u=s[l]).walkable&&(o=a._calcCost+i.distance(a,u),!u._visited||o<u._calcCost)){if(u._visited=!0,u._parent=a,u._calcCost=o,u._priority=o+i.distance(t,u),u===t)return n.PathUtil.backtrace(t);this.list.add(u)}}return null},compare:function(e,t){return e._priority-t._priority}},n.AStarFinder.prototype.constructor=n.AStarFinder,n.PathUtil={backtrace:function(e){for(var t=[e];e._parent;)e=e._parent,t.push(e);return t.reverse()},biBacktrace:function(e,t){var n=this.backtrace(e),r=this.backtrace(t);return n.concat(r.reverse())},pathLength:function(e){var t,n,r,i,a,o=0;for(t=1;t<e.length;++t)n=e[t-1],r=e[t],i=n[0]-r[0],a=n[1]-r[1],o+=Math.sqrt(i*i+a*a);return o},interpolate:function(e,t,n,r){var i,a,o,s,u,l,c=Math.abs,h=[];for(i=n>e?1:-1,a=r>t?1:-1,u=(o=c(n-e))-(s=c(r-t));e!==n||t!==r;)h.push([e,t]),(l=2*u)>-s&&(u-=s,e+=i),o>l&&(u+=o,t+=a);return h},expandPath:function(e){var t,n,r,i,a,o,s=[],u=e.length;if(2>u)return s;for(a=0;u-1>a;++a)for(t=e[a],n=e[a+1],i=(r=this.interpolate(t[0],t[1],n[0],n[1])).length,o=0;i-1>o;++o)s.push(r[o]);return s.push(e[u-1]),s},smoothenPath:function(e,t){var n,r,i,a,o,s,u,l,c,h,d,g,p=t.length,f=t[0][0],m=t[0][1],v=t[p-1][0],y=t[p-1][1];for(o=[[n=f,r=m]],u=2;p>u;++u){for(i=(c=t[u])[0],a=c[1],h=this.interpolate(n,r,i,a),g=!1,l=1;l<h.length;++l)if(d=h[l],!e.isWalkableAt(d[0],d[1])){g=!0;break}g&&(s=t[u-1],o.push(s),n=s[0],r=s[1])}return o.push([v,y]),o},compressPath:function(e){if(e.length<3)return e;var t,n,r,i,a,o,s=[],u=e[0][0],l=e[0][1],c=e[1][0],h=e[1][1],d=c-u,g=h-l;for(d/=a=Math.sqrt(d*d+g*g),g/=a,s.push([u,l]),o=2;o<e.length;o++)t=c,n=h,r=d,i=g,d=(c=e[o][0])-t,g=(h=e[o][1])-n,g/=a=Math.sqrt(d*d+g*g),((d/=a)!==r||g!==i)&&s.push([t,n]);return s.push([c,h]),s}},n.Loader={manager:null,imageLoader:null,crossOrigin:!1,init:function(e){this.crossOrigin=e||!1,this.manager=new THREE.LoadingManager((function(){}),(function(){}),(function(){console.warn("Error loading images")})),this.imageLoader=new THREE.ImageLoader(this.manager),this.imageLoader.crossOrigin=e},loadTexture:function(e,t,n,r){var i=new THREE.Texture(null,t);return this.imageLoader.load(e,(function(e){i.image=e,i.needsUpdate=!0,n&&n(i)}),null,(function(e){r&&r(e)})),i.sourceFile=e,i}},n.MouseCaster=function(e,t,r){this.down=!1,this.rightDown=!1,this.pickedObject=null,this.selectedObject=null,this.allHits=null,this.active=!0,this.shift=!1,this.ctrl=!1,this.wheel=0,this.position=new THREE.Vector3,this.screenPosition=new THREE.Vector2,this.signal=new n.Signal,this.group=e,this._camera=t,this._raycaster=new THREE.Raycaster,this._preventDefault=!1,(r=r||document).addEventListener("mousemove",this._onDocumentMouseMove.bind(this),!1),r.addEventListener("mousedown",this._onDocumentMouseDown.bind(this),!1),r.addEventListener("mouseup",this._onDocumentMouseUp.bind(this),!1),r.addEventListener("mousewheel",this._onMouseWheel.bind(this),!1),r.addEventListener("DOMMouseScroll",this._onMouseWheel.bind(this),!1)},n.MouseCaster.OVER="over",n.MouseCaster.OUT="out",n.MouseCaster.DOWN="down",n.MouseCaster.UP="up",n.MouseCaster.CLICK="click",n.MouseCaster.WHEEL="wheel",n.MouseCaster.prototype={update:function(){if(this.active){this._raycaster.setFromCamera(this.screenPosition,this._camera);var e,t,r=this._raycaster.intersectObject(this.group,!0);r.length>0?(t=(e=r[0]).object.userData.structure,this.pickedObject!=t&&(this.pickedObject&&this.signal.dispatch(n.MouseCaster.OUT,this.pickedObject),this.pickedObject=t,this.selectedObject=null,this.signal.dispatch(n.MouseCaster.OVER,this.pickedObject)),this.position.copy(e.point),this.screenPosition.z=e.distance):(this.pickedObject&&this.signal.dispatch(n.MouseCaster.OUT,this.pickedObject),this.pickedObject=null,this.selectedObject=null),this.allHits=r}},preventDefault:function(){this._preventDefault=!0},_onDocumentMouseDown:function(e){return(e=e||window.event).preventDefault(),this._preventDefault?(this._preventDefault=!1,!1):(this.pickedObject&&(this.selectedObject=this.pickedObject),this.shift=e.shiftKey,this.ctrl=e.ctrlKey,this.down=1===e.which,this.rightDown=3===e.which,void this.signal.dispatch(n.MouseCaster.DOWN,this.pickedObject))},_onDocumentMouseUp:function(e){return e.preventDefault(),this._preventDefault?(this._preventDefault=!1,!1):(this.shift=e.shiftKey,this.ctrl=e.ctrlKey,this.signal.dispatch(n.MouseCaster.UP,this.pickedObject),this.selectedObject&&this.pickedObject&&this.selectedObject.uniqueID===this.pickedObject.uniqueID&&this.signal.dispatch(n.MouseCaster.CLICK,this.pickedObject),this.down=1!==e.which&&this.down,void(this.rightDown=3!==e.which&&this.rightDown))},_onDocumentMouseMove:function(e){e.preventDefault(),this.screenPosition.x=e.clientX/window.innerWidth*2-1,this.screenPosition.y=-e.clientY/window.innerHeight*2+1},_onMouseWheel:function(e){if(this.active){e.preventDefault(),e.stopPropagation();var t=0;void 0!==e.wheelDelta?t=e.wheelDelta:void 0!==e.detail&&(t=-e.detail),t>0?this.wheel++:this.wheel--,this.signal.dispatch(n.MouseCaster.WHEEL,this.wheel)}}},n.MouseCaster.prototype.constructor=n.MouseCaster,n.Scene=function(e,t){var r={element:document.body,alpha:!0,antialias:!0,clearColor:"#fff",sortObjects:!1,fog:null,light:new THREE.DirectionalLight(16777215),lightPosition:null,cameraType:"PerspectiveCamera",cameraPosition:null,orthoZoom:4},i={minDistance:100,maxDistance:1e3,zoomSpeed:2,noZoom:!1};if(r=n.Tools.merge(r,e),"boolean"!=typeof t&&(i=n.Tools.merge(i,t)),this.renderer=new THREE.WebGLRenderer({alpha:r.alpha,antialias:r.antialias}),this.renderer.setClearColor(r.clearColor,0),this.renderer.sortObjects=r.sortObjects,this.width=window.innerWidth,this.height=window.innerHeight,this.orthoZoom=r.orthoZoom,this.container=new THREE.Scene,this.container.fog=r.fog,this.container.add(new THREE.AmbientLight(14540253)),r.lightPosition||r.light.position.set(-1,1,-1).normalize(),this.container.add(r.light),"OrthographicCamera"===r.cameraType){var a=window.innerWidth/this.orthoZoom,o=window.innerHeight/this.orthoZoom;this.camera=new THREE.OrthographicCamera(a/-2,a/2,o/2,o/-2,1,5e3)}else this.camera=new THREE.PerspectiveCamera(50,this.width/this.height,1,5e3);this.contolled=!!t,this.contolled&&(this.controls=new THREE.OrbitControls(this.camera,this.renderer.domElement),this.controls.minDistance=i.minDistance,this.controls.maxDistance=i.maxDistance,this.controls.zoomSpeed=i.zoomSpeed,this.controls.noZoom=i.noZoom),r.cameraPosition&&this.camera.position.copy(r.cameraPosition),window.addEventListener("resize",function(){if(this.width=window.innerWidth,this.height=window.innerHeight,"OrthographicCamera"===this.camera.type){var e=this.width/this.orthoZoom,t=this.height/this.orthoZoom;this.camera.left=e/-2,this.camera.right=e/2,this.camera.top=t/2,this.camera.bottom=t/-2}else this.camera.aspect=this.width/this.height;this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height)}.bind(this),!1),this.attachTo(r.element)},n.Scene.prototype={attachTo:function(e){e.style.width=this.width+"px",e.style.height=this.height+"px",this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.width,this.height),e.appendChild(this.renderer.domElement)},add:function(e){this.container.add(e)},remove:function(e){this.container.remove(e)},render:function(){this.contolled&&this.controls.update(),this.renderer.render(this.container,this.camera)},updateOrthoZoom:function(){if(this.orthoZoom<=0)this.orthoZoom=0;else{var e=this.width/this.orthoZoom,t=this.height/this.orthoZoom;this.camera.left=e/-2,this.camera.right=e/2,this.camera.top=t/2,this.camera.bottom=t/-2,this.camera.updateProjectionMatrix()}},focusOn:function(e){this.camera.lookAt(e.position)}},n.Scene.prototype.constructor=n.Scene,n.SelectionManager=function(e){this.mouse=e,this.onSelect=new n.Signal,this.onDeselect=new n.Signal,this.selected=null,this.toggleSelection=!1,this.mouse.signal.add(this.onMouse,this)},n.SelectionManager.prototype={select:function(e,t){e&&(t=t||!0,this.selected!==e&&this.clearSelection(t),e.selected?this.toggleSelection&&(t&&this.onDeselect.dispatch(e),e.deselect()):e.select(),this.selected=e,t&&this.onSelect.dispatch(e))},clearSelection:function(e){e=e||!0,this.selected&&(e&&this.onDeselect.dispatch(this.selected),this.selected.deselect()),this.selected=null},onMouse:function(e,t){switch(e){case n.MouseCaster.DOWN:t||this.clearSelection();break;case n.MouseCaster.CLICK:this.select(t)}}},n.SelectionManager.prototype.constructor=n.SelectionManager,n.Tools={clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},sign:function(e){return e&&e/Math.abs(e)},random:function(e,t){return 1===arguments.length?Math.random()*e-.5*e:Math.random()*(t-e)+e},randomInt:function(e,t){return 1===arguments.length?Math.random()*e-.5*e|0:Math.random()*(t-e+1)+e|0},normalize:function(e,t,n){return(e-t)/(n-t)},getShortRotation:function(e){return(e%=this.TAU)>this.PI?e-=this.TAU:e<-this.PI&&(e+=this.TAU),e},generateID:function(){return Math.random().toString(36).slice(2)+Date.now()},isPlainObject:function(e){if("object"!=typeof e||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!Object.prototype.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},merge:function(e,t){var n=this,r=Array.isArray(t),i=r&&[]||{};return r?(e=e||[],i=i.concat(e),t.forEach((function(t,r){"undefined"==typeof i[r]?i[r]=t:n.isPlainObject(t)?i[r]=n.merge(e[r],t):-1===e.indexOf(t)&&i.push(t)})),i):(e&&n.isPlainObject(e)&&Object.keys(e).forEach((function(t){i[t]=e[t]})),Object.keys(t).forEach((function(r){t[r]&&n.isPlainObject(t[r])&&e[r]?i[r]=n.merge(e[r],t[r]):i[r]=t[r]})),i)},now:function(){return window.nwf?window.nwf.system.Performance.elapsedTime:window.performance.now()},empty:function(e){for(;e.lastChild;)e.removeChild(e.lastChild)},radixSort:function(e,t,n,r){if(r=r||31,!((t=t||0)>=(n=n||e.length)-1||0>r)){for(var i=t,a=n,o=1<<r;a>i;)if(e[i]&o){--a;var s=e[i];e[i]=e[a],e[a]=s}else++i;this.radixSort(e,t,a,r-1),this.radixSort(e,a,n,r-1)}},randomizeRGB:function(e,t){var n,r,i=e.split(","),a="rgb(";for(t=this.randomInt(t),n=0;3>n;n++)0>(r=parseInt(i[n])+t)?r=0:r>255&&(r=255),a+=r+",";return(a=a.substring(0,a.length-1))+")"},getJSON:function(e){var t=new XMLHttpRequest,n="undefined"!=typeof e.cache&&e.cache?e.url:e.url+"?t="+Math.floor(1e4*Math.random())+Date.now();t.onreadystatechange=function(){if(200!==this.status)0!==this.status&&console.warn("[Tools.getJSON] Error: "+this.status+" ("+this.statusText+") :: "+e.url);else{var t=null;try{t=JSON.parse(this.responseText)}catch(n){return}e.callback.call(e.scope||null,t)}},t.open("GET",n,!0),t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Content-Type","application/json"),t.send("")}}},9332:function(){!function(e){var t="KeyboardEvent"in e;t||(e.KeyboardEvent=function(){throw TypeError("Illegal constructor")}),"DOM_KEY_LOCATION_STANDARD"in e.KeyboardEvent||(e.KeyboardEvent.DOM_KEY_LOCATION_STANDARD=0),"DOM_KEY_LOCATION_LEFT"in e.KeyboardEvent||(e.KeyboardEvent.DOM_KEY_LOCATION_LEFT=1),"DOM_KEY_LOCATION_RIGHT"in e.KeyboardEvent||(e.KeyboardEvent.DOM_KEY_LOCATION_RIGHT=2),"DOM_KEY_LOCATION_NUMPAD"in e.KeyboardEvent||(e.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD=3);var n=window.KeyboardEvent.DOM_KEY_LOCATION_STANDARD,r=window.KeyboardEvent.DOM_KEY_LOCATION_LEFT,i=window.KeyboardEvent.DOM_KEY_LOCATION_RIGHT,a=window.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD;function o(e,t){return-1!==String(e).indexOf(t)}var s=o(navigator.platform,"Win")?"win":o(navigator.platform,"Mac")?"mac":o(navigator.platform,"CrOS")?"cros":o(navigator.platform,"Linux")?"linux":o(navigator.userAgent,"iPad")||o(navigator.platform,"iPod")||o(navigator.platform,"iPhone")?"ios":"",u=o(navigator.userAgent,"Chrome/")?"chrome":o(navigator.vendor,"Apple")?"safari":o(navigator.userAgent,"MSIE")?"ie":o(navigator.userAgent,"Gecko/")?"moz":o(navigator.userAgent,"Opera/")?"opera":"",l=u+"-"+s;function c(e,t,n){l!==t&&u!==t&&s!==t||Object.keys(n).forEach((function(t){e[t]=n[t]}))}var h={3:{code:"Cancel"},6:{code:"Help"},8:{code:"Backspace"},9:{code:"Tab"},12:{code:"Clear"},13:{code:"Enter"},16:{code:"Shift"},17:{code:"Control"},18:{code:"Alt"},19:{code:"Pause"},20:{code:"CapsLock"},21:{code:"KanaMode"},22:{code:"HangulMode"},23:{code:"JunjaMode"},24:{code:"FinalMode"},25:{code:"KanjiMode"},27:{code:"Escape"},28:{code:"Convert"},29:{code:"NonConvert"},30:{code:"Accept"},31:{code:"ModeChange"},32:{code:"Space"},33:{code:"PageUp"},34:{code:"PageDown"},35:{code:"End"},36:{code:"Home"},37:{code:"ArrowLeft"},38:{code:"ArrowUp"},39:{code:"ArrowRight"},40:{code:"ArrowDown"},41:{code:"Select"},42:{code:"Print"},43:{code:"Execute"},44:{code:"PrintScreen"},45:{code:"Insert"},46:{code:"Delete"},47:{code:"Help"},48:{code:"Digit0",keyCap:"0"},49:{code:"Digit1",keyCap:"1"},50:{code:"Digit2",keyCap:"2"},51:{code:"Digit3",keyCap:"3"},52:{code:"Digit4",keyCap:"4"},53:{code:"Digit5",keyCap:"5"},54:{code:"Digit6",keyCap:"6"},55:{code:"Digit7",keyCap:"7"},56:{code:"Digit8",keyCap:"8"},57:{code:"Digit9",keyCap:"9"},65:{code:"KeyA",keyCap:"a"},66:{code:"KeyB",keyCap:"b"},67:{code:"KeyC",keyCap:"c"},68:{code:"KeyD",keyCap:"d"},69:{code:"KeyE",keyCap:"e"},70:{code:"KeyF",keyCap:"f"},71:{code:"KeyG",keyCap:"g"},72:{code:"KeyH",keyCap:"h"},73:{code:"KeyI",keyCap:"i"},74:{code:"KeyJ",keyCap:"j"},75:{code:"KeyK",keyCap:"k"},76:{code:"KeyL",keyCap:"l"},77:{code:"KeyM",keyCap:"m"},78:{code:"KeyN",keyCap:"n"},79:{code:"KeyO",keyCap:"o"},80:{code:"KeyP",keyCap:"p"},81:{code:"KeyQ",keyCap:"q"},82:{code:"KeyR",keyCap:"r"},83:{code:"KeyS",keyCap:"s"},84:{code:"KeyT",keyCap:"t"},85:{code:"KeyU",keyCap:"u"},86:{code:"KeyV",keyCap:"v"},87:{code:"KeyW",keyCap:"w"},88:{code:"KeyX",keyCap:"x"},89:{code:"KeyY",keyCap:"y"},90:{code:"KeyZ",keyCap:"z"},91:{code:"OSLeft",location:r},92:{code:"OSRight",location:i},93:{code:"ContextMenu"},95:{code:"Standby"},96:{code:"Numpad0",keyCap:"0",location:a},97:{code:"Numpad1",keyCap:"1",location:a},98:{code:"Numpad2",keyCap:"2",location:a},99:{code:"Numpad3",keyCap:"3",location:a},100:{code:"Numpad4",keyCap:"4",location:a},101:{code:"Numpad5",keyCap:"5",location:a},102:{code:"Numpad6",keyCap:"6",location:a},103:{code:"Numpad7",keyCap:"7",location:a},104:{code:"Numpad8",keyCap:"8",location:a},105:{code:"Numpad9",keyCap:"9",location:a},106:{code:"NumpadMultiply",keyCap:"*",location:a},107:{code:"NumpadAdd",keyCap:"+",location:a},108:{code:"NumpadComma",keyCap:",",location:a},109:{code:"NumpadSubtract",keyCap:"-",location:a},110:{code:"NumpadDecimal",keyCap:".",location:a},111:{code:"NumpadDivide",keyCap:"/",location:a},112:{code:"F1"},113:{code:"F2"},114:{code:"F3"},115:{code:"F4"},116:{code:"F5"},117:{code:"F6"},118:{code:"F7"},119:{code:"F8"},120:{code:"F9"},121:{code:"F10"},122:{code:"F11"},123:{code:"F12"},124:{code:"F13"},125:{code:"F14"},126:{code:"F15"},127:{code:"F16"},128:{code:"F17"},129:{code:"F18"},130:{code:"F19"},131:{code:"F20"},132:{code:"F21"},133:{code:"F22"},134:{code:"F23"},135:{code:"F24"},144:{code:"NumLock",location:a},145:{code:"ScrollLock"},160:{code:"ShiftLeft",location:r},161:{code:"ShiftRight",location:i},162:{code:"ControlLeft",location:r},163:{code:"ControlRight",location:i},164:{code:"AltLeft",location:r},165:{code:"AltRight",location:i},166:{code:"BrowserBack"},167:{code:"BrowserForward"},168:{code:"BrowserRefresh"},169:{code:"BrowserStop"},170:{code:"BrowserSearch"},171:{code:"BrowserFavorites"},172:{code:"BrowserHome"},173:{code:"VolumeMute"},174:{code:"VolumeDown"},175:{code:"VolumeUp"},176:{code:"MediaTrackNext"},177:{code:"MediaTrackPrevious"},178:{code:"MediaStop"},179:{code:"MediaPlayPause"},180:{code:"LaunchMail"},181:{code:"MediaSelect"},182:{code:"LaunchApp1"},183:{code:"LaunchApp2"},186:{code:"Semicolon",keyCap:";"},187:{code:"Equal",keyCap:"="},188:{code:"Comma",keyCap:","},189:{code:"Minus",keyCap:"-"},190:{code:"Period",keyCap:"."},191:{code:"Slash",keyCap:"/"},192:{code:"Backquote",keyCap:"`"},219:{code:"BracketLeft",keyCap:"["},220:{code:"Backslash",keyCap:"\\"},221:{code:"BracketRight",keyCap:"]"},222:{code:"Quote",keyCap:"'"},226:{code:"IntlBackslash",keyCap:"\\"},229:{code:"Process"},246:{code:"Attn"},247:{code:"CrSel"},248:{code:"ExSel"},249:{code:"EraseEof"},250:{code:"Play"},251:{code:"ZoomToggle"},254:{code:"Clear"}};c(h,"moz",{59:{code:"Semicolon",keyCap:";"},61:{code:"Equal",keyCap:"="},107:{code:"Equal",keyCap:"="},109:{code:"Minus",keyCap:"-"},187:{code:"NumpadAdd",keyCap:"+",location:a},189:{code:"NumpadSubtract",keyCap:"-",location:a}}),c(h,"moz-mac",{12:{code:"NumLock",location:a},173:{code:"Minus",keyCap:"-"}}),c(h,"moz-win",{173:{code:"Minus",keyCap:"-"}}),c(h,"chrome-mac",{93:{code:"OSRight",location:i}}),c(h,"safari",{3:{code:"Enter"},25:{code:"Tab"}}),c(h,"ios",{10:{code:"Enter",location:n}}),c(h,"safari-mac",{91:{code:"OSLeft",location:r},93:{code:"OSRight",location:i},229:{code:"KeyQ",keyCap:"Q"}});var d={};"cros"===s&&(d["U+00A0"]={code:"ShiftLeft",location:r},d["U+00A1"]={code:"ShiftRight",location:i},d["U+00A2"]={code:"ControlLeft",location:r},d["U+00A3"]={code:"ControlRight",location:i},d["U+00A4"]={code:"AltLeft",location:r},d["U+00A5"]={code:"AltRight",location:i}),"chrome-mac"===l&&(d["U+0010"]={code:"ContextMenu"}),"safari-mac"===l&&(d["U+0010"]={code:"ContextMenu"}),"ios"===s&&(d["U+0010"]={code:"Function"},d["U+001C"]={code:"ArrowLeft"},d["U+001D"]={code:"ArrowRight"},d["U+001E"]={code:"ArrowUp"},d["U+001F"]={code:"ArrowDown"},d["U+0001"]={code:"Home"},d["U+0004"]={code:"End"},d["U+000B"]={code:"PageUp"},d["U+000C"]={code:"PageDown"});var g=[];g[r]={16:{code:"ShiftLeft",location:r},17:{code:"ControlLeft",location:r},18:{code:"AltLeft",location:r}},g[i]={16:{code:"ShiftRight",location:i},17:{code:"ControlRight",location:i},18:{code:"AltRight",location:i}},g[a]={13:{code:"NumpadEnter",location:a}},c(g[a],"moz",{109:{code:"NumpadSubtract",location:a},107:{code:"NumpadAdd",location:a}}),c(g[r],"moz-mac",{224:{code:"OSLeft",location:r}}),c(g[i],"moz-mac",{224:{code:"OSRight",location:i}}),c(g[i],"moz-win",{91:{code:"OSRight",location:i}}),c(g[i],"mac",{93:{code:"OSRight",location:i}}),c(g[a],"chrome-mac",{12:{code:"NumLock",location:a}}),c(g[a],"safari-mac",{12:{code:"NumLock",location:a},187:{code:"NumpadAdd",location:a},189:{code:"NumpadSubtract",location:a},190:{code:"NumpadDecimal",location:a},191:{code:"NumpadDivide",location:a}});var p={ShiftLeft:{key:"Shift"},ShiftRight:{key:"Shift"},ControlLeft:{key:"Control"},ControlRight:{key:"Control"},AltLeft:{key:"Alt"},AltRight:{key:"Alt"},OSLeft:{key:"OS"},OSRight:{key:"OS"},NumpadEnter:{key:"Enter"},Space:{key:" "},Digit0:{key:"0",shiftKey:")"},Digit1:{key:"1",shiftKey:"!"},Digit2:{key:"2",shiftKey:"@"},Digit3:{key:"3",shiftKey:"#"},Digit4:{key:"4",shiftKey:"$"},Digit5:{key:"5",shiftKey:"%"},Digit6:{key:"6",shiftKey:"^"},Digit7:{key:"7",shiftKey:"&"},Digit8:{key:"8",shiftKey:"*"},Digit9:{key:"9",shiftKey:"("},KeyA:{key:"a",shiftKey:"A"},KeyB:{key:"b",shiftKey:"B"},KeyC:{key:"c",shiftKey:"C"},KeyD:{key:"d",shiftKey:"D"},KeyE:{key:"e",shiftKey:"E"},KeyF:{key:"f",shiftKey:"F"},KeyG:{key:"g",shiftKey:"G"},KeyH:{key:"h",shiftKey:"H"},KeyI:{key:"i",shiftKey:"I"},KeyJ:{key:"j",shiftKey:"J"},KeyK:{key:"k",shiftKey:"K"},KeyL:{key:"l",shiftKey:"L"},KeyM:{key:"m",shiftKey:"M"},KeyN:{key:"n",shiftKey:"N"},KeyO:{key:"o",shiftKey:"O"},KeyP:{key:"p",shiftKey:"P"},KeyQ:{key:"q",shiftKey:"Q"},KeyR:{key:"r",shiftKey:"R"},KeyS:{key:"s",shiftKey:"S"},KeyT:{key:"t",shiftKey:"T"},KeyU:{key:"u",shiftKey:"U"},KeyV:{key:"v",shiftKey:"V"},KeyW:{key:"w",shiftKey:"W"},KeyX:{key:"x",shiftKey:"X"},KeyY:{key:"y",shiftKey:"Y"},KeyZ:{key:"z",shiftKey:"Z"},Numpad0:{key:"0"},Numpad1:{key:"1"},Numpad2:{key:"2"},Numpad3:{key:"3"},Numpad4:{key:"4"},Numpad5:{key:"5"},Numpad6:{key:"6"},Numpad7:{key:"7"},Numpad8:{key:"8"},Numpad9:{key:"9"},NumpadMultiply:{key:"*"},NumpadAdd:{key:"+"},NumpadComma:{key:","},NumpadSubtract:{key:"-"},NumpadDecimal:{key:"."},NumpadDivide:{key:"/"},Semicolon:{key:";",shiftKey:":"},Equal:{key:"=",shiftKey:"+"},Comma:{key:",",shiftKey:"<"},Minus:{key:"-",shiftKey:"_"},Period:{key:".",shiftKey:">"},Slash:{key:"/",shiftKey:"?"},Backquote:{key:"`",shiftKey:"~"},BracketLeft:{key:"[",shiftKey:"{"},Backslash:{key:"\\",shiftKey:"|"},BracketRight:{key:"]",shiftKey:"}"},Quote:{key:"'",shiftKey:'"'},IntlBackslash:{key:"\\",shiftKey:"|"}};c(p,"mac",{OSLeft:{key:"Meta"},OSRight:{key:"Meta"}});var f={Esc:"Escape",Nonconvert:"NonConvert",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Menu:"ContextMenu",MediaNextTrack:"MediaTrackNext",MediaPreviousTrack:"MediaTrackPrevious",SelectMedia:"MediaSelect",HalfWidth:"Hankaku",FullWidth:"Zenkaku",RomanCharacters:"Romaji",Crsel:"CrSel",Exsel:"ExSel",Zoom:"ZoomToggle"},m=function(e,t){var n={};return Object.keys(e).forEach((function(r){var i=e[r];t in i&&(n[i[t]]=i)})),n}(h,"code");try{var v=t&&"location"in new KeyboardEvent("")}catch(A){}function y(e){var t="keyCode"in e?e.keyCode:"which"in e?e.which:0,n=function(){if(v||"keyLocation"in e){var n=v?e.location:e.keyLocation;if(n&&t in g[n])return g[n][t]}return"keyIdentifier"in e&&e.keyIdentifier in d?d[e.keyIdentifier]:t in h?h[t]:null}();if(!n)return null;var r=function(){var t=p[n.code];return t?e.shiftKey&&"shiftKey"in t?t.shiftKey:t.key:n.code}();return{code:n.code,key:r,location:n.location,keyCap:n.keyCap}}"KeyboardEvent"in e&&"defineProperty"in Object&&function(){function e(e,t,n){t in e||Object.defineProperty(e,t,n)}if(e(KeyboardEvent.prototype,"code",{get:function(){var e=y(this);return e?e.code:""}}),"key"in KeyboardEvent.prototype){var t=Object.getOwnPropertyDescriptor(KeyboardEvent.prototype,"key");Object.defineProperty(KeyboardEvent.prototype,"key",{get:function(){var e=t.get.call(this);return f.hasOwnProperty(e)?f[e]:e}})}e(KeyboardEvent.prototype,"key",{get:function(){var e=y(this);return e&&"key"in e?e.key:"Unidentified"}}),e(KeyboardEvent.prototype,"location",{get:function(){var e=y(this);return e&&"location"in e?e.location:n}}),e(KeyboardEvent.prototype,"locale",{get:function(){return""}})}(),"queryKeyCap"in e.KeyboardEvent||(e.KeyboardEvent.queryKeyCap=function(e,t){if(e=String(e),!m.hasOwnProperty(e))return"Undefined";if(t&&"en-us"!==String(t).toLowerCase())throw Error("Unsupported locale");var n=m[e];return n.keyCap||n.code||"Undefined"}),e.identifyKey=function(e){if(!("code"in e)){var t=y(e);e.code=t?t.code:"",e.key=t&&"key"in t?t.key:"Unidentified",e.location="location"in e?e.location:"keyLocation"in e?e.keyLocation:t&&"location"in t?t.location:n,e.locale=""}}}(window)},9011:function(e){e.exports=AFRAME.registerComponent("checkpoint-controls",{schema:{enabled:{default:!0},mode:{default:"teleport",oneOf:["teleport","animate"]},animateSpeed:{default:3}},init:function(){this.active=!0,this.checkpoint=null,this.isNavMeshConstrained=!1,this.offset=new THREE.Vector3,this.position=new THREE.Vector3,this.targetPosition=new THREE.Vector3},play:function(){this.active=!0},pause:function(){this.active=!1},setCheckpoint:function(e){var t=this.el;this.active&&this.checkpoint!==e&&(this.checkpoint&&t.emit("navigation-end",{checkpoint:this.checkpoint}),this.checkpoint=e,this.sync(),this.position.distanceTo(this.targetPosition)<.1?this.checkpoint=null:(t.emit("navigation-start",{checkpoint:e}),"teleport"===this.data.mode&&(this.el.setAttribute("position",this.targetPosition),this.checkpoint=null,t.emit("navigation-end",{checkpoint:e}),t.components["movement-controls"].updateNavLocation())))},isVelocityActive:function(){return!(!this.active||!this.checkpoint)},getVelocity:function(){if(this.active){var e=this.data,t=this.offset,n=this.position,r=this.targetPosition,i=this.checkpoint;return this.sync(),n.distanceTo(r)<.1?(this.checkpoint=null,this.el.emit("navigation-end",{checkpoint:i}),t.set(0,0,0)):(t.setLength(e.animateSpeed),t)}},sync:function(){var e=this.offset,t=this.position,n=this.targetPosition;t.copy(this.el.getAttribute("position")),this.checkpoint.object3D.getWorldPosition(n),n.add(this.checkpoint.components.checkpoint.getOffset()),e.copy(n).sub(t)}})},5843:function(e,t,n){var r=n(5561),i=n(6994),a=.2,o="left",s="right",u=1,l=2;e.exports=AFRAME.registerComponent("gamepad-controls",{GamepadButton:r,schema:{enabled:{default:!0},camera:{default:"[camera]",type:"selector"},rotationSensitivity:{default:2}},init:function(){var e=this.el.sceneEl;this.system=e.systems["tracked-controls-webxr"]||{controllers:[]},this.prevTime=window.performance.now(),this.buttons={};var t=this.el.object3D.rotation;this.pitch=new THREE.Object3D,this.pitch.rotation.x=THREE.Math.degToRad(t.x),this.yaw=new THREE.Object3D,this.yaw.position.y=10,this.yaw.rotation.y=THREE.Math.degToRad(t.y),this.yaw.add(this.pitch),this._lookVector=new THREE.Vector2,this._moveVector=new THREE.Vector2,this._dpadVector=new THREE.Vector2,e.addBehavior(this)},update:function(){this.tick()},tick:function(e,t){this.updateButtonState(),this.updateRotation(t)},remove:function(){},isVelocityActive:function(){if(!this.data.enabled||!this.isConnected())return!1;var e=this._dpadVector,t=this._moveVector;this.getDpad(e),this.getJoystick(u,t);var n=e.x||t.x,r=e.y||t.y;return Math.abs(n)>a||Math.abs(r)>a},getVelocityDelta:function(){var e=this._dpadVector,t=this._moveVector;this.getDpad(e),this.getJoystick(u,t);var n=e.x||t.x,r=e.y||t.y,i=new THREE.Vector3;return Math.abs(n)>a&&(i.x+=n),Math.abs(r)>a&&(i.z+=r),i},isRotationActive:function(){if(!this.data.enabled||!this.isConnected())return!1;var e=this._lookVector;return this.getJoystick(l,e),Math.abs(e.x)>a||Math.abs(e.y)>a},updateRotation:function(e){if(this.isRotationActive()){var t=this.data,n=this.yaw,r=this.pitch,i=t.camera.components["look-controls"],o=i&&i.pitchObject&&i.yawObject;o&&(r.rotation.copy(i.pitchObject.rotation),n.rotation.copy(i.yawObject.rotation));var s=this._lookVector;this.getJoystick(l,s),Math.abs(s.x)<=a&&(s.x=0),Math.abs(s.y)<=a&&(s.y=0),s.multiplyScalar(t.rotationSensitivity*e/1e3),n.rotation.y-=s.x,r.rotation.x-=s.y,r.rotation.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,r.rotation.x)),t.camera.object3D.rotation.set(r.rotation.x,n.rotation.y,0),o&&(i.pitchObject.rotation.copy(r.rotation),i.yawObject.rotation.copy(n.rotation))}},updateButtonState:function(){var e=this.getGamepad(s);if(this.data.enabled&&e)for(var t=0;t<e.buttons.length;t++)e.buttons[t].pressed&&!this.buttons[t]?this.emit(new i("gamepadbuttondown",t,e.buttons[t])):!e.buttons[t].pressed&&this.buttons[t]&&this.emit(new i("gamepadbuttonup",t,e.buttons[t])),this.buttons[t]=e.buttons[t].pressed;else Object.keys(this.buttons)&&(this.buttons={})},emit:function(e){this.el.emit(e.type,e),this.el.emit(e.type+":"+e.index,new i(e.type,e.index,e))},getGamepad:function(){var e=[],t=[];return function(n){var r=this.el.sceneEl.components["proxy-controls"],i=r&&r.isConnected()&&r.getGamepad(0);if(i)return i;e.length=0;for(var a=0;a<this.system.controllers.length;a++){var o=this.system.controllers[a],s=o?o.gamepad:null;if(e.push(s),s&&s.handedness===n)return s}for(var u=navigator.getGamepads?navigator.getGamepads():t,l=0;l<u.length;l++){var c=u[l];if(c&&c.hand===n)return c}return e[0]||u[0]}}(),getButton:function(e){return this.getGamepad(s).buttons[e]},getAxis:function(e){return this.getGamepad(e>1?s:o).axes[e]},getJoystick:function(e,t){var n=this.getGamepad(e===u?o:s);if("xr-standard"===n.mapping)switch(e){case u:return t.set(n.axes[2],n.axes[3]);case l:return t.set(n.axes[0],n.axes[1])}else switch(e){case u:return t.set(n.axes[0],n.axes[1]);case l:return t.set(n.axes[2],n.axes[3])}throw new Error('Unexpected joystick index "%d".',e)},getDpad:function(e){var t=this.getGamepad(o);return t.buttons[r.DPAD_RIGHT]?e.set((t.buttons[r.DPAD_RIGHT].pressed?1:0)+(t.buttons[r.DPAD_LEFT].pressed?-1:0),(t.buttons[r.DPAD_UP].pressed?-1:0)+(t.buttons[r.DPAD_DOWN].pressed?1:0)):e.set(0,0)},isConnected:function(){var e=this.getGamepad(o);return!(!e||!e.connected)},getID:function(){return this.getGamepad(o).id}})},9652:function(e,t,n){n(9011),n(5843),n(2698),n(6179),n(4622),n(1839)},2698:function(e,t,n){n(9332);var r=window.KeyboardEvent;e.exports=AFRAME.registerComponent("keyboard-controls",{schema:{enabled:{default:!0},debug:{default:!1}},init:function(){this.dVelocity=new THREE.Vector3,this.localKeys={},this.listeners={keydown:this.onKeyDown.bind(this),keyup:this.onKeyUp.bind(this),blur:this.onBlur.bind(this)},this.attachEventListeners()},isVelocityActive:function(){return this.data.enabled&&!!Object.keys(this.getKeys()).length},getVelocityDelta:function(){var e=this.data,t=this.getKeys();return this.dVelocity.set(0,0,0),e.enabled&&((t.KeyW||t.ArrowUp)&&(this.dVelocity.z-=1),(t.KeyA||t.ArrowLeft)&&(this.dVelocity.x-=1),(t.KeyS||t.ArrowDown)&&(this.dVelocity.z+=1),(t.KeyD||t.ArrowRight)&&(this.dVelocity.x+=1)),this.dVelocity.clone()},play:function(){this.attachEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.pause()},attachEventListeners:function(){window.addEventListener("keydown",this.listeners.keydown,!1),window.addEventListener("keyup",this.listeners.keyup,!1),window.addEventListener("blur",this.listeners.blur,!1)},removeEventListeners:function(){window.removeEventListener("keydown",this.listeners.keydown),window.removeEventListener("keyup",this.listeners.keyup),window.removeEventListener("blur",this.listeners.blur)},onKeyDown:function(e){AFRAME.utils.shouldCaptureKeyEvent(e)&&(this.localKeys[e.code]=!0,this.emit(e))},onKeyUp:function(e){AFRAME.utils.shouldCaptureKeyEvent(e)&&(delete this.localKeys[e.code],this.emit(e))},onBlur:function(){for(var e in this.localKeys)this.localKeys.hasOwnProperty(e)&&delete this.localKeys[e]},emit:function(e){"__keyboard-controls-proxy"in e&&this.el.emit(e.type,e),this.el.emit(e.type+":"+e.code,new r(e.type,e)),this.data.debug&&console.log(e.type+":"+e.code)},isPressed:function(e){return e in this.getKeys()},getKeys:function(){return this.isProxied()?this.el.sceneEl.components["proxy-controls"].getKeyboard():this.localKeys},isProxied:function(){var e=this.el.sceneEl.components["proxy-controls"];return e&&e.isConnected()}})},4622:function(e){var t="-controls";e.exports=AFRAME.registerComponent("movement-controls",{dependencies:["rotation"],schema:{enabled:{default:!0},controls:{default:["gamepad","trackpad","keyboard","touch"]},speed:{default:.3,min:0},fly:{default:!1},constrainToNavMesh:{default:!1},camera:{default:"[movement-controls] [camera]",type:"selector"}},init:function(){var e=this.el;this.velocityCtrl=null,this.velocity=new THREE.Vector3,this.heading=new THREE.Quaternion,this.navGroup=null,this.navNode=null,e.sceneEl.hasLoaded?this.injectControls():e.sceneEl.addEventListener("loaded",this.injectControls.bind(this))},update:function(e){var t=this.el,n=this.data,r=t.sceneEl.systems.nav;t.sceneEl.hasLoaded&&this.injectControls(),r&&n.constrainToNavMesh!==e.constrainToNavMesh&&(n.constrainToNavMesh?r.addAgent(this):r.removeAgent(this))},injectControls:function(){for(var e,n=this.data,r=0;r<n.controls.length;r++)e=n.controls[r]+t,this.el.components[e]||this.el.setAttribute(e,"")},updateNavLocation:function(){this.navGroup=null,this.navNode=null},tick:function(){var e=new THREE.Vector3,t=new THREE.Vector3,n=new THREE.Vector3;return function(r,i){if(i){var a=this.el,o=this.data;if(o.enabled){this.updateVelocityCtrl();var s=this.velocityCtrl,u=this.velocity;if(s)if(i/1e3>.2?u.set(0,0,0):this.updateVelocity(i),o.constrainToNavMesh&&!1!==s.isNavMeshConstrained){if(u.lengthSq()<1e-5)return;e.copy(a.object3D.position),t.copy(u).multiplyScalar(i/1e3).add(e);var l=a.sceneEl.systems.nav;this.navGroup=null===this.navGroup?l.getGroup(e):this.navGroup,this.navNode=this.navNode||l.getNode(e,this.navGroup),this.navNode=l.clampStep(e,t,this.navGroup,this.navNode,n),a.object3D.position.copy(n)}else a.hasAttribute("velocity")?a.setAttribute("velocity",u):(a.object3D.position.x+=u.x*i/1e3,a.object3D.position.y+=u.y*i/1e3,a.object3D.position.z+=u.z*i/1e3)}}}}(),updateVelocityCtrl:function(){var e=this.data;if(e.enabled){for(var n=0,r=e.controls.length;n<r;n++){var i=this.el.components[e.controls[n]+t];if(i&&i.isVelocityActive())return void(this.velocityCtrl=i)}this.velocityCtrl=null}},updateVelocity:function(){var e=new THREE.Vector2,t=new THREE.Quaternion;return function(n){var r,i=this.el,a=this.velocityCtrl,o=this.velocity,s=this.data;if(a){if(!a.getVelocityDelta){if(a.getVelocity)return void o.copy(a.getVelocity());if(a.getPositionDelta)return void o.copy(a.getPositionDelta(n).multiplyScalar(1e3/n));throw new Error("Incompatible movement controls: ",a)}r=a.getVelocityDelta(n)}if(i.hasAttribute("velocity")&&!s.constrainToNavMesh&&o.copy(this.el.getAttribute("velocity")),r&&s.enabled){var u=s.camera;t.copy(u.object3D.quaternion),t.premultiply(i.object3D.quaternion),r.applyQuaternion(t);var l=r.length();s.fly?(o.copy(r),o.multiplyScalar(16.66667*this.data.speed)):(e.set(r.x,r.z),e.setLength(l*this.data.speed*16.66667),o.x=e.x,o.z=e.y)}}}()})},6179:function(e){e.exports=AFRAME.registerComponent("touch-controls",{schema:{enabled:{default:!0},reverseEnabled:{default:!0}},init:function(){this.dVelocity=new THREE.Vector3,this.bindMethods(),this.direction=0},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.dVelocity.set(0,0,0)},remove:function(){this.pause()},addEventListeners:function(){var e=this.el.sceneEl,t=e.canvas;t?(t.addEventListener("touchstart",this.onTouchStart),t.addEventListener("touchend",this.onTouchEnd)):e.addEventListener("render-target-loaded",this.addEventListeners.bind(this))},removeEventListeners:function(){var e=this.el.sceneEl&&this.el.sceneEl.canvas;e&&(e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("touchend",this.onTouchEnd))},isVelocityActive:function(){return this.data.enabled&&!!this.direction},getVelocityDelta:function(){return this.dVelocity.z=this.direction,this.dVelocity.clone()},bindMethods:function(){this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this)},onTouchStart:function(e){this.direction=-1,this.data.reverseEnabled&&2===e.touches.length&&(this.direction=1),e.preventDefault()},onTouchEnd:function(e){this.direction=0,e.preventDefault()}})},1839:function(e){e.exports=AFRAME.registerComponent("trackpad-controls",{schema:{enabled:{default:!0},enableNegX:{default:!0},enablePosX:{default:!0},enableNegZ:{default:!0},enablePosZ:{default:!0},mode:{default:"touch",oneOf:["swipe","touch","press"]}},init:function(){this.dVelocity=new THREE.Vector3,this.zVel=0,this.xVel=0,this.bindMethods()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.dVelocity.set(0,0,0)},remove:function(){this.pause()},addEventListeners:function(){var e=this.data,t=this.el.sceneEl;switch(t.addEventListener("axismove",this.onAxisMove),e.mode){case"swipe":case"touch":t.addEventListener("trackpadtouchstart",this.onTouchStart),t.addEventListener("trackpadtouchend",this.onTouchEnd);break;case"press":t.addEventListener("trackpaddown",this.onTouchStart),t.addEventListener("trackpadup",this.onTouchEnd)}},removeEventListeners:function(){var e=this.el.sceneEl;e.removeEventListener("axismove",this.onAxisMove),e.removeEventListener("trackpadtouchstart",this.onTouchStart),e.removeEventListener("trackpadtouchend",this.onTouchEnd),e.removeEventListener("trackpaddown",this.onTouchStart),e.removeEventListener("trackpadup",this.onTouchEnd)},isVelocityActive:function(){return this.data.enabled&&this.isMoving},getVelocityDelta:function(){return this.dVelocity.z=this.isMoving?-this.zVel:1,this.dVelocity.x=this.isMoving?this.xVel:1,this.dVelocity.clone()},bindMethods:function(){this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onAxisMove=this.onAxisMove.bind(this)},onTouchStart:function(e){switch(this.data.mode){case"swipe":this.canRecordAxis=!0,this.startingAxisData=[];break;case"touch":case"press":this.isMoving=!0}e.preventDefault()},onTouchEnd:function(e){"swipe"==this.data.mode&&(this.startingAxisData=[]),this.isMoving=!1,e.preventDefault()},onAxisMove:function(e){switch(this.data.mode){case"swipe":return this.handleSwipeAxis(e);case"touch":case"press":return this.handleTouchAxis(e)}},handleSwipeAxis:function(e){var t=this.data,n=e.detail.axis;if(0===this.startingAxisData.length&&this.canRecordAxis&&(this.canRecordAxis=!1,this.startingAxisData[0]=n[0],this.startingAxisData[1]=n[1]),this.startingAxisData.length>0){var r=0,i=0;t.enableNegX&&n[0]<this.startingAxisData[0]&&(r=-1),t.enablePosX&&n[0]>this.startingAxisData[0]&&(r=1),t.enablePosZ&&n[1]>this.startingAxisData[1]&&(i=-1),t.enableNegZ&&n[1]<this.startingAxisData[1]&&(i=1);var a=Math.abs(this.startingAxisData[1]-n[1]);Math.abs(this.startingAxisData[0]-n[0])>a?(this.zVel=0,this.xVel=r,this.isMoving=!0):(this.xVel=0,this.zVel=i,this.isMoving=!0)}},handleTouchAxis:function(e){var t=this.data,n=e.detail.axis,r=0,i=0;t.enableNegX&&n[0]<0&&(r=-1),t.enablePosX&&n[0]>0&&(r=1),t.enablePosZ&&n[1]>0&&(i=-1),t.enableNegZ&&n[1]<0&&(i=1),Math.abs(n[0])>Math.abs(n[1])?(this.zVel=0,this.xVel=r):(this.xVel=0,this.zVel=i)}})},6490:function(e){var t={once:THREE.LoopOnce,repeat:THREE.LoopRepeat,pingpong:THREE.LoopPingPong};function n(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}e.exports=AFRAME.registerComponent("animation-mixer",{schema:{clip:{default:"*"},duration:{default:0},clampWhenFinished:{default:!1,type:"boolean"},crossFadeDuration:{default:0},loop:{default:"repeat",oneOf:Object.keys(t)},repetitions:{default:1/0,min:0},timeScale:{default:1}},init:function(){var e=this;this.model=null,this.mixer=null,this.activeActions=[];var t=this.el.getObject3D("mesh");t?this.load(t):this.el.addEventListener("model-loaded",(function(t){e.load(t.detail.model)}))},load:function(e){var t=this.el;this.model=e,this.mixer=new THREE.AnimationMixer(e),this.mixer.addEventListener("loop",(function(e){t.emit("animation-loop",{action:e.action,loopDelta:e.loopDelta})})),this.mixer.addEventListener("finished",(function(e){t.emit("animation-finished",{action:e.action,direction:e.direction})})),this.data.clip&&this.update({})},remove:function(){this.mixer&&this.mixer.stopAllAction()},update:function(e){if(e){var n=this.data,r=AFRAME.utils.diff(n,e);if("clip"in r)return this.stopAction(),void(n.clip&&this.playAction());this.activeActions.forEach((function(e){"duration"in r&&n.duration&&e.setDuration(n.duration),"clampWhenFinished"in r&&(e.clampWhenFinished=n.clampWhenFinished),("loop"in r||"repetitions"in r)&&e.setLoop(t[n.loop],n.repetitions),"timeScale"in r&&e.setEffectiveTimeScale(n.timeScale)}))}},stopAction:function(){for(var e=this.data,t=0;t<this.activeActions.length;t++)e.crossFadeDuration?this.activeActions[t].fadeOut(e.crossFadeDuration):this.activeActions[t].stop();this.activeActions.length=0},playAction:function(){if(this.mixer){var e=this.model,r=this.data,i=e.animations||(e.geometry||{}).animations||[];if(i.length)for(var a,o,s=(a=r.clip,new RegExp("^"+a.split(/\*+/).map(n).join(".*")+"$")),u=0;o=i[u];u++)if(o.name.match(s)){var l=this.mixer.clipAction(o,e);l.enabled=!0,l.clampWhenFinished=r.clampWhenFinished,r.duration&&l.setDuration(r.duration),1!==r.timeScale&&l.setEffectiveTimeScale(r.timeScale),l.setLoop(t[r.loop],r.repetitions).fadeIn(r.crossFadeDuration).play(),this.activeActions.push(l)}}},tick:function(e,t){this.mixer&&!isNaN(t)&&this.mixer.update(t/1e3)}})},5877:function(e,t,n){THREE.ColladaLoader=n(93),e.exports.Component=AFRAME.registerComponent("collada-model-legacy",{schema:{type:"asset"},init:function(){this.model=null,this.loader=new THREE.ColladaLoader},update:function(){var e=this,t=this.el,n=this.data,r=this.el.sceneEl.systems.renderer;n&&(this.remove(),this.loader.load(n,(function(n){e.model=n.scene,e.model.traverse((function(e){if(e.isMesh){var t=e.material;t.color&&r.applyColorCorrection(t.color),t.map&&r.applyColorCorrection(t.map),t.emissive&&r.applyColorCorrection(t.emissive),t.emissiveMap&&r.applyColorCorrection(t.emissiveMap)}})),t.setObject3D("mesh",e.model),t.emit("model-loaded",{format:"collada",model:e.model})})))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},5523:function(e,t,n){THREE.FBXLoader=n(6639),e.exports=AFRAME.registerComponent("fbx-model",{schema:{src:{type:"asset"},crossorigin:{default:""}},init:function(){this.model=null},update:function(){var e=this.data;if(e.src){this.remove();var t=new THREE.FBXLoader;e.crossorigin&&t.setCrossOrigin(e.crossorigin),t.load(e.src,this.load.bind(this))}},load:function(e){this.model=e,this.el.setObject3D("mesh",e),this.el.emit("model-loaded",{format:"fbx",model:e})},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},9342:function(e,t,n){var r=n(4730)(),i=function(){var e;return function(){return e=e||r("https://cdn.jsdelivr.net/gh/mrdoob/three.js@r86/examples/js/loaders/GLTFLoader.js")}}();e.exports=AFRAME.registerComponent("gltf-model-legacy",{schema:{type:"model"},init:function(){var e=this;this.model=null,this.loader=null,this.loaderPromise=i().then((function(){e.loader=new THREE.GLTFLoader,e.loader.setCrossOrigin("Anonymous")}))},update:function(){var e=this,t=this,n=this.el,r=this.data;r&&(this.remove(),this.loaderPromise.then((function(){e.loader.load(r,(function(e){t.model=e.scene,t.model.animations=e.animations,n.setObject3D("mesh",t.model),n.emit("model-loaded",{format:"gltf",model:t.model})}))})))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},6802:function(e,t,n){n(6490),n(5877),n(5523),n(9342),n(8506)},8506:function(e){e.exports=AFRAME.registerComponent("object-model",{schema:{src:{type:"asset"},crossorigin:{default:""}},init:function(){this.model=null},update:function(){var e,t=this,n=this.data;n.src&&(this.remove(),e=new THREE.ObjectLoader,n.crossorigin&&e.setCrossOrigin(n.crossorigin),e.load(n.src,(function(e){e.traverse((function(e){e instanceof THREE.SkinnedMesh&&e.material&&(e.material.skinning=!!(e.geometry&&e.geometry.bones||[]).length)})),t.load(e)})))},load:function(e){this.model=e,this.el.setObject3D("mesh",e),this.el.emit("model-loaded",{format:"json",model:e})},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},7393:function(e){e.exports=AFRAME.registerComponent("checkpoint",{schema:{offset:{default:{x:0,y:0,z:0},type:"vec3"}},init:function(){this.active=!1,this.targetEl=null,this.fire=this.fire.bind(this),this.offset=new THREE.Vector3},update:function(){this.offset.copy(this.data.offset)},play:function(){this.el.addEventListener("click",this.fire)},pause:function(){this.el.removeEventListener("click",this.fire)},remove:function(){this.pause()},fire:function(){var e=this.el.sceneEl.querySelector("[checkpoint-controls]");if(!e)throw new Error("No `checkpoint-controls` component found.");e.components["checkpoint-controls"].setCheckpoint(this.el)},getOffset:function(){return this.offset.copy(this.data.offset)}})},1133:function(e){function t(e,t,n,r){e&&(t=t||[],e.traverse((function(e){var i;e.isMesh&&((i=e.material)?Array.isArray(i)?i:i.materials?i.materials:[i]:[]).forEach((function(e){e&&!("envMap"in e)||t.length&&-1===t.indexOf(e.name)||(e.envMap=n,e.reflectivity=r,e.needsUpdate=!0)}))})))}e.exports=AFRAME.registerComponent("cube-env-map",{multiple:!0,schema:{path:{default:""},extension:{default:"jpg",oneOf:["jpg","png"]},format:{default:"RGBFormat",oneOf:["RGBFormat","RGBAFormat"]},enableBackground:{default:!1},reflectivity:{default:1,min:0,max:1},materials:{default:[]}},init:function(){var e=this,n=this.data;this.texture=(new THREE.CubeTextureLoader).load([n.path+"posx."+n.extension,n.path+"negx."+n.extension,n.path+"posy."+n.extension,n.path+"negy."+n.extension,n.path+"posz."+n.extension,n.path+"negz."+n.extension]),this.texture.format=THREE[n.format],this.object3dsetHandler=function(){var n=e.el.getObject3D("mesh"),r=e.data;t(n,r.materials,e.texture,r.reflectivity)},this.el.addEventListener("object3dset",this.object3dsetHandler)},update:function(e){var n=this.data,r=this.el.getObject3D("mesh"),i=[],a=[];if(n.materials.length&&(e.materials?(i=n.materials.filter((function(t){return!e.materials.includes(t)})),a=e.materials.filter((function(e){return!n.materials.includes(e)}))):i=n.materials),i.length&&t(r,i,this.texture,n.reflectivity),a.length&&t(r,a,null,1),e.materials&&n.reflectivity!==e.reflectivity){var o=n.materials.filter((function(t){return e.materials.includes(t)}));o.length&&t(r,o,this.texture,n.reflectivity)}this.data.enableBackground&&!e.enableBackground?this.setBackground(this.texture):!this.data.enableBackground&&e.enableBackground&&this.setBackground(null)},remove:function(){this.el.removeEventListener("object3dset",this.object3dsetHandler);var e=this.el.getObject3D("mesh"),n=this.data;t(e,n.materials,null,1),n.enableBackground&&this.setBackground(null)},setBackground:function(e){this.el.sceneEl.object3D.background=e}})},9753:function(e){e.exports=AFRAME.registerComponent("grab",{init:function(){this.system=this.el.sceneEl.systems.physics,this.GRABBED_STATE="grabbed",this.grabbing=!1,this.hitEl=null,this.physics=this.el.sceneEl.systems.physics,this.constraint=null,this.onHit=this.onHit.bind(this),this.onGripOpen=this.onGripOpen.bind(this),this.onGripClose=this.onGripClose.bind(this)},play:function(){var e=this.el;e.addEventListener("hit",this.onHit),e.addEventListener("gripdown",this.onGripClose),e.addEventListener("gripup",this.onGripOpen),e.addEventListener("trackpaddown",this.onGripClose),e.addEventListener("trackpadup",this.onGripOpen),e.addEventListener("triggerdown",this.onGripClose),e.addEventListener("triggerup",this.onGripOpen)},pause:function(){var e=this.el;e.removeEventListener("hit",this.onHit),e.removeEventListener("gripdown",this.onGripClose),e.removeEventListener("gripup",this.onGripOpen),e.removeEventListener("trackpaddown",this.onGripClose),e.removeEventListener("trackpadup",this.onGripOpen),e.removeEventListener("triggerdown",this.onGripClose),e.removeEventListener("triggerup",this.onGripOpen)},onGripClose:function(){this.grabbing=!0},onGripOpen:function(){var e=this.hitEl;this.grabbing=!1,e&&(e.removeState(this.GRABBED_STATE),this.hitEl=void 0,this.system.removeConstraint(this.constraint),this.constraint=null)},onHit:function(e){var t=e.detail.el;t&&!t.is(this.GRABBED_STATE)&&this.grabbing&&!this.hitEl&&(t.addState(this.GRABBED_STATE),this.hitEl=t,this.constraint=new CANNON.LockConstraint(this.el.body,t.body),this.system.addConstraint(this.constraint))}})},9076:function(e,t,n){n(7393),n(1133),n(9753),n(6896),n(1470),n(8571),n(9845),n(9581)},6896:function(e){e.exports=AFRAME.registerComponent("jump-ability",{dependencies:["velocity"],schema:{on:{default:"keydown:Space gamepadbuttondown:0"},playerHeight:{default:1.764},maxJumps:{default:1},distance:{default:5},debug:{default:!1}},init:function(){this.velocity=0,this.numJumps=0;var e=this.beginJump.bind(this),t=this.data.on.split(" ");this.bindings={};for(var n=0;n<t.length;n++)this.bindings[t[n]]=e,this.el.addEventListener(t[n],e);this.bindings.collide=this.onCollide.bind(this),this.el.addEventListener("collide",this.bindings.collide)},remove:function(){for(var e in this.bindings)this.bindings.hasOwnProperty(e)&&(this.el.removeEventListener(e,this.bindings[e]),delete this.bindings[e]);this.el.removeEventListener("collide",this.bindings.collide),delete this.bindings.collide},beginJump:function(){if(this.numJumps<this.data.maxJumps){var e=this.data,t=Math.sqrt(-2*e.distance*-24.8),n=this.el.getAttribute("velocity");this.el.setAttribute("velocity",{x:n.x,y:t,z:n.z}),this.numJumps++,this.el.emit("jumpstart")}},onCollide:function(){this.numJumps>0&&this.el.emit("jumpend"),this.numJumps=0}})},1470:function(e){var t=1e-6;e.exports=AFRAME.registerComponent("kinematic-body",{dependencies:["velocity"],schema:{mass:{default:5},radius:{default:1.3},linearDamping:{default:.05},enableSlopes:{default:!0},enableJumps:{default:!1}},init:function(){this.system=this.el.sceneEl.systems.physics,this.system.addComponent(this);var e=this.el,t=this.data,n=(new CANNON.Vec3).copy(e.object3D.getWorldPosition(new THREE.Vector3));this.body=new CANNON.Body({material:this.system.getMaterial("staticMaterial"),position:n,mass:t.mass,linearDamping:t.linearDamping,fixedRotation:!0}),this.body.addShape(new CANNON.Sphere(t.radius),new CANNON.Vec3(0,t.radius,0)),this.body.el=this.el,this.el.body=this.body,this.system.addBody(this.body),e.hasAttribute("wasd-controls")&&console.warn("[kinematic-body] Not compatible with wasd-controls, use movement-controls.")},remove:function(){this.system.removeBody(this.body),this.system.removeComponent(this),delete this.el.body},beforeStep:function(e,t){if(t){var n=this.el,r=this.data,i=this.body;r.enableJumps||i.velocity.set(0,0,0),i.position.copy(n.getAttribute("position"))}},step:function(){var e=new THREE.Vector3,n=new THREE.Vector3,r=new THREE.Vector3,i=new THREE.Vector3;return function(a,o){if(o){var s,u,l=this.body,c=this.data,h=-1/0,d=this.system.getContacts();o=Math.min(o,1e3*this.system.data.maxInterval),i.set(0,0,0),e.copy(this.el.getAttribute("velocity")),l.velocity.copy(e);for(var g,p=0;g=d[p];p++)if(g.enabled){if(l.id===g.bi.id)g.ni.negate(r);else{if(l.id!==g.bj.id)continue;r.copy(g.ni)}l.velocity.dot(r)<-t&&r.y<=.5?e.projectOnPlane(r):r.y>.5&&(s=l.id===g.bi.id?Math.abs(g.rj.y+g.bj.position.y):Math.abs(g.ri.y+g.bi.position.y))>h&&(h=s,i.copy(r),u=l.id===g.bi.id?g.bj:g.bi)}n.copy(e).normalize(),u&&(!c.enableJumps||n.y<.5)?(c.enableSlopes?i.y<1-t&&i.copy(this.raycastToGround(u,i)):i.set(0,1,0),e.projectOnPlane(i)):this.system.driver.world&&e.add(this.system.driver.world.gravity.scale(4*o/1e3)),l.velocity.copy(e),this.el.setAttribute("velocity",l.velocity),this.el.setAttribute("position",l.position)}}}(),raycastToGround:function(e,t){var n,r,i=this.body.position,a=this.body.position.clone();return(n=new CANNON.Ray(i,a))._updateDirection(),n.intersectBody(e),n.hasHit?(r=n.result.hitNormalWorld,Math.abs(r.y)>Math.abs(t.y)?r:t):t}})},8571:function(e){e.exports=AFRAME.registerComponent("mesh-smooth",{init:function(){this.el.addEventListener("model-loaded",(function(e){e.detail.model.traverse((function(e){e.isMesh&&e.geometry.computeVertexNormals()}))}))}})},9845:function(e){e.exports=AFRAME.registerComponent("normal-material",{init:function(){this.material=new THREE.MeshNormalMaterial({flatShading:!0}),this.applyMaterial=this.applyMaterial.bind(this),this.el.addEventListener("object3dset",this.applyMaterial)},remove:function(){this.el.removeEventListener("object3dset",this.applyMaterial)},applyMaterial:function(){var e=this;this.el.object3D.traverse((function(t){t.isMesh&&(t.material=e.material)}))}})},9581:function(e){e.exports=AFRAME.registerComponent("sphere-collider",{schema:{objects:{default:""},state:{default:"collided"},radius:{default:.05},watch:{default:!0}},init:function(){this.observer=null,this.els=[],this.collisions=[],this.handleHit=this.handleHit.bind(this),this.handleHitEnd=this.handleHitEnd.bind(this)},remove:function(){this.pause()},play:function(){var e=this.el.sceneEl;this.data.watch&&(this.observer=new MutationObserver(this.update.bind(this,null)),this.observer.observe(e,{childList:!0,subtree:!0}))},pause:function(){this.observer&&(this.observer.disconnect(),this.observer=null)},update:function(){var e,t=this.data;e=t.objects?this.el.sceneEl.querySelectorAll(t.objects):this.el.sceneEl.children,this.els=Array.prototype.slice.call(e)},tick:function(){var e=new THREE.Vector3,t=new THREE.Vector3,n=new THREE.Vector3,r=new THREE.Vector3,i=new THREE.Box3,a=new Map;return function(){var o,s,u=this.el,l=this.data,c=u.getObject3D("mesh"),h=[];c&&(a.clear(),u.object3D.getWorldPosition(e),u.object3D.getWorldScale(n),o=l.radius*(s=n,Math.max.apply(null,s.toArray())),this.els.forEach((function(n){var s,u,l,c;if(!n.isEntity)return;if(u=n.getObject3D("mesh"),!u)return;if(i.setFromObject(u).getSize(r),c=Math.max(r.x,r.y,r.z)/2,s=Math.sqrt(2*c*c),i.getCenter(t),!s)return;(l=e.distanceTo(t))<s+o&&(h.push(n),a.set(n,l))})),h.sort((function(e,t){return a.get(e)>a.get(t)?1:-1})).forEach(this.handleHit),0===h.length&&u.emit("hit",{el:null}),this.collisions.filter((function(e){return!a.has(e)})).forEach(this.handleHitEnd),this.collisions=h)}}(),handleHit:function(e){e.emit("hit"),e.addState(this.data.state),this.el.emit("hit",{el:e})},handleHitEnd:function(e){e.emit("hitend"),e.removeState(this.data.state),this.el.emit("hitend",{el:e})}})},2586:function(e,t,n){n(6270),n(6904),n(7722)},6904:function(e){e.exports=AFRAME.registerComponent("nav-agent",{schema:{destination:{type:"vec3"},active:{default:!1},speed:{default:2}},init:function(){this.system=this.el.sceneEl.systems.nav,this.system.addAgent(this),this.group=null,this.path=[],this.raycaster=new THREE.Raycaster},remove:function(){this.system.removeAgent(this)},update:function(){this.path.length=0},updateNavLocation:function(){this.group=null,this.path=[]},tick:function(){var e=new THREE.Vector3,t=new THREE.Vector3,n=new THREE.Vector3;return function(r,i){var a=this.el,o=this.data,s=this.raycaster,u=o.speed*i/1e3;if(o.active){if(!this.path.length){var l=this.el.object3D.position;this.group=this.group||this.system.getGroup(l),this.path=this.system.getPath(l,e.copy(o.destination),this.group)||[],a.emit("navigation-start")}if(!this.path.length)return console.warn("[nav] Unable to find path to %o.",o.destination),this.el.setAttribute("nav-agent",{active:!1}),void a.emit("navigation-end");var c,h=a.object3D.position,d=this.path[0];if(t.subVectors(d,h),t.length()<u){if(this.path.shift(),!this.path.length)return this.el.setAttribute("nav-agent",{active:!1}),void a.emit("navigation-end");n.copy(h),c=this.path[0]}else n.copy(t.setLength(u)).add(h),c=d;c.y=h.y,a.object3D.lookAt(c),s.ray.origin.copy(n),s.ray.origin.y+=1.5,s.ray.direction.y=-1;var g=s.intersectObject(this.system.getNavMesh());g.length?(t.subVectors(g[0].point,h),h.add(t.setLength(u))):h.copy(n)}}}()})},6270:function(e){e.exports=AFRAME.registerComponent("nav-mesh",{init:function(){this.system=this.el.sceneEl.systems.nav,this.hasLoadedNavMesh=!1,this.el.addEventListener("object3dset",this.loadNavMesh.bind(this))},play:function(){this.hasLoadedNavMesh||this.loadNavMesh()},loadNavMesh:function(){var e,t=this.el.getObject3D("mesh"),n=this.el.sceneEl.object3D;if(t&&(t.traverse((function(t){t.isMesh&&(e=t)})),e)){var r=e.geometry.isBufferGeometry?(new THREE.Geometry).fromBufferGeometry(e.geometry):e.geometry.clone();n.updateMatrixWorld(),r.applyMatrix(e.matrixWorld),this.system.setNavMeshGeometry(r),this.hasLoadedNavMesh=!0}}})},7722:function(e,t,n){var r=n(9215).Pathfinding,i=new r,a="level";e.exports=AFRAME.registerSystem("nav",{init:function(){this.navMesh=null,this.agents=new Set},setNavMeshGeometry:function(e){this.navMesh=new THREE.Mesh(e),i.setZoneData(a,r.createZone(e)),Array.from(this.agents).forEach((function(e){return e.updateNavLocation()}))},getNavMesh:function(){return this.navMesh},addAgent:function(e){this.agents.add(e)},removeAgent:function(e){this.agents.delete(e)},getPath:function(e,t,n){return this.navMesh?i.findPath(e,t,a,n):null},getGroup:function(e){return this.navMesh?i.getGroup(a,e):null},getNode:function(e,t){return this.navMesh?i.getClosestNode(e,a,t,!0):null},clampStep:function(e,t,n,r,o){return this.navMesh?r?i.clampStep(e,t,r,a,n,o):(o.copy(t),this.getNode(t,n)):(o.copy(t),null)}})},8984:function(e){e.exports=AFRAME.registerPrimitive("a-grid",{defaultComponents:{geometry:{primitive:"plane",width:75,height:75},rotation:{x:-90,y:0,z:0},material:{src:"url(https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v1.16.3/assets/grid.png)",repeat:"75 75"}},mappings:{width:"geometry.width",height:"geometry.height",src:"material.src"}})},1313:function(e,t,n){var r=n(4413),i=n(8880);e.exports.Primitive=AFRAME.registerPrimitive("a-hexgrid",{defaultComponents:{hexgrid:{}},mappings:{src:"hexgrid.src"}}),e.exports.Component=AFRAME.registerComponent("hexgrid",{dependencies:["material"],schema:{src:{type:"asset"}},init:function(){var e=this,t=this.data;t.src?fetch(t.src).then((function(e){return e.json()})).then((function(t){return e.addMesh(t)})):this.addMesh(i)},addMesh:function(e){var t=new r.HexGrid;t.fromJSON(e);var n=new r.Board(t);n.generateTilemap(),this.el.setObject3D("mesh",n.group),this.addMaterial()},addMaterial:function(){var e=(this.el.components.material||{}).material;e&&this.el.object3D.traverse((function(t){t.isMesh&&(t.material=e)}))},remove:function(){this.el.removeObject3D("mesh")}})},8808:function(e){e.exports.Primitive=AFRAME.registerPrimitive("a-ocean",{defaultComponents:{ocean:{},rotation:{x:-90,y:0,z:0}},mappings:{width:"ocean.width",depth:"ocean.depth",density:"ocean.density",amplitude:"ocean.amplitude",amplitudeVariance:"ocean.amplitudeVariance",speed:"ocean.speed",speedVariance:"ocean.speedVariance",color:"ocean.color",opacity:"ocean.opacity"}}),e.exports.Component=AFRAME.registerComponent("ocean",{schema:{width:{default:10,min:0},depth:{default:10,min:0},density:{default:10},amplitude:{default:.1},amplitudeVariance:{default:.3},speed:{default:1},speedVariance:{default:2},color:{default:"#7AD2F7",type:"color"},opacity:{default:.8}},play:function(){var e=this.el,t=this.data,n=e.components.material,r=new THREE.PlaneGeometry(t.width,t.depth,t.density,t.density);r.mergeVertices(),this.waves=[];for(var i,a=0,o=r.vertices.length;a<o;a++)i=r.vertices[a],this.waves.push({z:i.z,ang:Math.random()*Math.PI*2,amp:t.amplitude+Math.random()*t.amplitudeVariance,speed:(t.speed+Math.random()*t.speedVariance)/1e3});n||((n={}).material=new THREE.MeshPhongMaterial({color:t.color,transparent:t.opacity<1,opacity:t.opacity,shading:THREE.FlatShading})),this.mesh=new THREE.Mesh(r,n.material),e.setObject3D("mesh",this.mesh)},remove:function(){this.el.removeObject3D("mesh")},tick:function(e,t){if(t){for(var n,r,i=this.mesh.geometry.vertices,a=0;n=i[a];a++)r=this.waves[a],n.z=r.z+Math.sin(r.ang)*r.amp,r.ang+=r.speed*t;this.mesh.geometry.verticesNeedUpdate=!0}}})},5297:function(e){e.exports.Primitive=AFRAME.registerPrimitive("a-tube",{defaultComponents:{tube:{}},mappings:{path:"tube.path",segments:"tube.segments",radius:"tube.radius","radial-segments":"tube.radialSegments",closed:"tube.closed"}}),e.exports.Component=AFRAME.registerComponent("tube",{schema:{path:{default:[]},segments:{default:64},radius:{default:1},radialSegments:{default:8},closed:{default:!1}},init:function(){var e=this.el,t=this.data,n=e.components.material;if(t.path.length){var r=new THREE.CatmullRomCurve3(t.path.map((function(e){return e=e.split(" "),new THREE.Vector3(Number(e[0]),Number(e[1]),Number(e[2]))}))),i=new THREE.TubeGeometry(r,t.segments,t.radius,t.radialSegments,t.closed);n||((n={}).material=new THREE.MeshPhongMaterial),this.mesh=new THREE.Mesh(i,n.material),this.el.setObject3D("mesh",this.mesh)}else console.error("[a-tube] `path` property expected but not found.")},update:function(e){Object.keys(e).length&&(this.remove(),this.init())},remove:function(){this.mesh&&this.el.removeObject3D("mesh")}})},2567:function(e,t,n){n(8984),n(1313),n(8808),n(5297)},1201:function(e,t,n){if("undefined"===typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");var r=n(5233);"default"in r&&(r=r.default);var i=n(94);"default"in i&&(i=i.default);var a=function(e){return"string"===typeof e?JSON.parse(e):e},o=function(e){if("function"===typeof e)return e;var t=eval;try{return t("("+e+")")}catch(n){}return null},s=function(e){return isNaN(parseFloat(e))?o(e)?o(e):e:parseFloat(e)};AFRAME.registerComponent("forcegraph",{schema:{jsonUrl:{type:"string",default:""},nodes:{parse:a,default:[]},links:{parse:a,default:[]},numDimensions:{type:"number",default:3},dagMode:{type:"string",default:""},dagLevelDistance:{type:"number",default:0},dagNodeFilter:{parse:o,default:function(){return!0}},onDagError:{parse:o,default:void 0},nodeRelSize:{type:"number",default:4},nodeId:{type:"string",default:"id"},nodeVal:{parse:s,default:"val"},nodeResolution:{type:"number",default:8},nodeVisibility:{parse:s,default:!0},nodeColor:{parse:s,default:"color"},nodeAutoColorBy:{parse:s,default:""},nodeOpacity:{type:"number",default:.75},nodeThreeObject:{parse:s,default:null},nodeThreeObjectExtend:{parse:s,default:!1},linkSource:{type:"string",default:"source"},linkTarget:{type:"string",default:"target"},linkVisibility:{parse:s,default:!0},linkColor:{parse:s,default:"color"},linkAutoColorBy:{parse:s,default:""},linkOpacity:{type:"number",default:.2},linkWidth:{parse:s,default:0},linkResolution:{type:"number",default:6},linkCurvature:{parse:s,default:0},linkCurveRotation:{parse:s,default:0},linkMaterial:{parse:s,default:null},linkThreeObject:{parse:s,default:null},linkThreeObjectExtend:{parse:s,default:!1},linkPositionUpdate:{parse:o,default:null},linkDirectionalArrowLength:{parse:s,default:0},linkDirectionalArrowColor:{parse:s,default:null},linkDirectionalArrowRelPos:{parse:s,default:.5},linkDirectionalArrowResolution:{type:"number",default:8},linkDirectionalParticles:{parse:s,default:0},linkDirectionalParticleSpeed:{parse:s,default:.01},linkDirectionalParticleWidth:{parse:s,default:.5},linkDirectionalParticleColor:{parse:s,default:null},linkDirectionalParticleResolution:{type:"number",default:4},onNodeHover:{parse:o,default:function(){}},onLinkHover:{parse:o,default:function(){}},onNodeClick:{parse:o,default:function(){}},onLinkClick:{parse:o,default:function(){}},forceEngine:{type:"string",default:"d3"},d3AlphaMin:{type:"number",default:0},d3AlphaDecay:{type:"number",default:.0228},d3VelocityDecay:{type:"number",default:.4},ngraphPhysics:{parse:a,default:null},warmupTicks:{type:"int",default:0},cooldownTicks:{type:"int",default:1e18},cooldownTime:{type:"int",default:15e3},onEngineTick:{parse:o,default:function(){}},onEngineStop:{parse:o,default:function(){}}},getGraphBbox:function(){return this.forceGraph||(this.forceGraph=new i),this.forceGraph.getGraphBbox()},emitParticle:function(){this.forceGraph||(this.forceGraph=new i);var e=this.forceGraph,t=e.emitParticle.apply(e,arguments);return t===e?this:t},d3Force:function(){this.forceGraph||(this.forceGraph=new i);var e=this.forceGraph,t=e.d3Force.apply(e,arguments);return t===e?this:t},d3ReheatSimulation:function(){return this.forceGraph&&this.forceGraph.d3ReheatSimulation(),this},refresh:function(){return this.forceGraph&&this.forceGraph.refresh(),this},init:function(){var e=this,t=this.state={};t.infoEl=document.createElement("a-text"),t.infoEl.setAttribute("position","0 -0.1 -1"),t.infoEl.setAttribute("width",1),t.infoEl.setAttribute("align","center"),t.infoEl.setAttribute("color","lavender");var n=document.querySelector("a-entity[camera], a-camera");n.appendChild(t.infoEl),t.cameraObj=n.object3D.children.filter((function(e){return"PerspectiveCamera"===e.type}))[0],this.el.sceneEl.addEventListener("camera-set-active",(function(e){t.cameraObj=e.detail.cameraEl.components.camera.camera})),this.forceGraph||(this.forceGraph=new i),this.forceGraph.onFinishUpdate((function(){return e.el.setObject3D("forcegraphGroup",e.forceGraph)})).onLoading((function(){return t.infoEl.setAttribute("value","Loading...")})).onFinishLoading((function(){return t.infoEl.setAttribute("value","")})),this.el.addEventListener("raycaster-intersected",(function(e){return t.hoverDetail=e.detail})),this.el.addEventListener("raycaster-intersected-cleared",(function(e){return t.hoverDetail=e.detail})),this.el.addEventListener("click",(function(){return t.hoverObj&&e.data["on"+("node"===t.hoverObj.__graphObjType?"Node":"Link")+"Click"](t.hoverObj.__data)}))},remove:function(){this.state.infoEl.remove(),this.el.removeObject3D("forcegraphGroup")},update:function(e){var t=this,n=this.data,r=AFRAME.utils.diff(n,e);["jsonUrl","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","nodeVal","nodeResolution","nodeVisibility","nodeColor","nodeAutoColorBy","nodeOpacity","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaMin","d3AphaDecay","d3VelocityDecay","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].filter((function(e){return e in r})).forEach((function(e){t.forceGraph[e](""!==n[e]?n[e]:null)})),("nodes"in r||"links"in r)&&t.forceGraph.graphData({nodes:n.nodes,links:n.links})},tick:function(e,t){for(var n=this.state,r=this.data,i=n.hoverDetail?n.hoverDetail.getIntersection?n.hoverDetail.getIntersection(this.el):n.hoverDetail.intersection||void 0:void 0,a=i?i.object:void 0;a&&!a.hasOwnProperty("__graphObjType");)a=a.parent;if(a!==n.hoverObj){var o=n.hoverObj?n.hoverObj.__graphObjType:null,s=n.hoverObj?n.hoverObj.__data:null,u=a?a.__graphObjType:null,l=a?a.__data:null;o&&o!==u&&r["on"+("node"===o?"Node":"Link")+"Hover"](null,s),u&&r["on"+("node"===u?"Node":"Link")+"Hover"](l,o===u?s:null),n.hoverObj=a}this.forceGraph.tickFrame()}})},3344:function(e,t,n){var r,i=n(861).default,a=n(7156).default,o=n(7424).default,s=n(8416).default,u=n(7061).default,l=n(4993).default,c=n(3496).default,h=n(1588).default,d=n(3808).default,g=n(4704).default,p=n(6690).default,f=n(9728).default,m=n(6115).default,v=n(1655).default,y=n(6389).default;self,r=function(){return function(){var e={"./node_modules/@ungap/custom-elements/index.js":function(){!function(){"use strict";var e=function(e,t){var n=function(e){for(var t=0,n=e.length;t<n;t++)r(e[t])},r=function(e){var t=e.target,n=e.attributeName,r=e.oldValue;t.attributeChangedCallback(n,r,t.getAttribute(n))};return function(i,a){var o=i.constructor.observedAttributes;return o&&e(a).then((function(){new t(n).observe(i,{attributes:!0,attributeOldValue:!0,attributeFilter:o});for(var e=0,a=o.length;e<a;e++)i.hasAttribute(o[e])&&r({target:i,attributeName:o[e],oldValue:null})})),i}};function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,n){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,n){if(e){if("string"===typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e))||n&&e&&"number"===typeof e.length){r&&(e=r);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}var r=!0,i=!1,a="querySelectorAll",o="querySelectorAll",s=self,u=s.document,l=s.Element,c=s.MutationObserver,h=s.Set,d=s.WeakMap,g=function(e){return o in e},p=[].filter,f=function(e){var t=new d,s=function(n,r){var i;if(r)for(var a,o=function(e){return e.matches||e.webkitMatchesSelector||e.msMatchesSelector}(n),s=0,u=m.length;s<u;s++)o.call(n,a=m[s])&&(t.has(n)||t.set(n,new h),(i=t.get(n)).has(a)||(i.add(a),e.handle(n,r,a)));else t.has(n)&&(i=t.get(n),t.delete(n),i.forEach((function(t){e.handle(n,r,t)})))},f=function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0,r=e.length;n<r;n++)s(e[n],t)},m=e.query,v=e.root||u,y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:MutationObserver,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["*"],u=function t(i,o,s,u,l,c){var h,d=n(i);try{for(d.s();!(h=d.n()).done;){var g=h.value;(c||a in g)&&(l?s.has(g)||(s.add(g),u.delete(g),e(g,l)):u.has(g)||(u.add(g),s.delete(g),e(g,l)),c||t(g[a](o),o,s,u,l,r))}}catch(p){d.e(p)}finally{d.f()}},l=new o((function(e){if(s.length){var t,a=s.join(","),o=new Set,l=new Set,c=n(e);try{for(c.s();!(t=c.n()).done;){var h=t.value,d=h.addedNodes,g=h.removedNodes;u(g,a,o,l,i,i),u(d,a,o,l,r,i)}}catch(p){c.e(p)}finally{c.f()}}})),c=l.observe;return(l.observe=function(e){return c.call(l,e,{subtree:r,childList:r})})(t),l}(s,v,c,m),A=l.prototype.attachShadow;return A&&(l.prototype.attachShadow=function(e){var t=A.call(this,e);return y.observe(t),t}),m.length&&f(v[o](m)),{drop:function(e){for(var n=0,r=e.length;n<r;n++)t.delete(e[n])},flush:function(){for(var e=y.takeRecords(),t=0,n=e.length;t<n;t++)f(p.call(e[t].removedNodes,g),!1),f(p.call(e[t].addedNodes,g),!0)},observer:y,parse:f}},m=self,v=m.document,y=m.Map,A=m.MutationObserver,b=m.Object,x=m.Set,w=m.WeakMap,E=m.Element,_=m.HTMLElement,C=m.Node,M=m.Error,S=m.TypeError,I=m.Reflect,T=b.defineProperty,k=b.keys,R=b.getOwnPropertyNames,L=b.setPrototypeOf,B=!self.customElements,D=function(e){for(var t=k(e),n=[],r=t.length,i=0;i<r;i++)n[i]=e[t[i]],delete e[t[i]];return function(){for(var i=0;i<r;i++)e[t[i]]=n[i]}};if(B){var P=function(){var e=this.constructor;if(!N.has(e))throw new S("Illegal constructor");var t=N.get(e);if(G)return Q(G,t);var n=O.call(v,t);return Q(L(n,e.prototype),t)},O=v.createElement,N=new y,F=new y,U=new y,z=new y,j=[],H=f({query:j,handle:function(e,t,n){var r=U.get(n);if(t&&!r.isPrototypeOf(e)){var i=D(e);G=L(e,r);try{new r.constructor}finally{G=null,i()}}var a="".concat(t?"":"dis","connectedCallback");a in r&&e[a]()}}).parse,G=null,V=function(e){if(!F.has(e)){var t,n=new Promise((function(e){t=e}));F.set(e,{$:n,_:t})}return F.get(e).$},Q=e(V,A);T(self,"customElements",{configurable:!0,value:{define:function(e,t){if(z.has(e))throw new M('the name "'.concat(e,'" has already been used with this registry'));N.set(t,e),U.set(e,t.prototype),z.set(e,t),j.push(e),V(e).then((function(){H(v.querySelectorAll(e))})),F.get(e)._(t)},get:function(e){return z.get(e)},whenDefined:V}}),T(P.prototype=_.prototype,"constructor",{value:P}),T(self,"HTMLElement",{configurable:!0,value:P}),T(v,"createElement",{configurable:!0,value:function(e,t){var n=t&&t.is,r=n?z.get(n):z.get(e);return r?new r:O.call(v,e)}}),"isConnected"in C.prototype||T(C.prototype,"isConnected",{configurable:!0,get:function(){return!(this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})}else if(B=!self.customElements.get("extends-li"))try{var W=function e(){return self.Reflect.construct(HTMLLIElement,[],e)};W.prototype=HTMLLIElement.prototype;var q="extends-li";self.customElements.define("extends-li",W,{extends:"li"}),B=v.createElement("li",{is:q}).outerHTML.indexOf(q)<0;var K=self.customElements,X=K.get,Z=K.whenDefined;T(self.customElements,"whenDefined",{configurable:!0,value:function(e){var t=this;return Z.call(this,e).then((function(n){return n||X.call(t,e)}))}})}catch(be){}if(B){var Y=function(e){var t=ae.get(e);pe(t.querySelectorAll(this),e.isConnected)},J=self.customElements,$=v.createElement,ee=J.define,te=J.get,ne=J.upgrade,re=I||{construct:function(e){return e.call(this)}},ie=re.construct,ae=new w,oe=new x,se=new y,ue=new y,le=new y,ce=new y,he=[],de=[],ge=function(e){return ce.get(e)||te.call(J,e)},pe=f({query:de,handle:function(e,t,n){var r=le.get(n);if(t&&!r.isPrototypeOf(e)){var i=D(e);Ae=L(e,r);try{new r.constructor}finally{Ae=null,i()}}var a="".concat(t?"":"dis","connectedCallback");a in r&&e[a]()}}).parse,fe=f({query:he,handle:function(e,t){ae.has(e)&&(t?oe.add(e):oe.delete(e),de.length&&Y.call(de,e))}}).parse,me=E.prototype.attachShadow;me&&(E.prototype.attachShadow=function(e){var t=me.call(this,e);return ae.set(this,t),t});var ve=function(e){if(!ue.has(e)){var t,n=new Promise((function(e){t=e}));ue.set(e,{$:n,_:t})}return ue.get(e).$},ye=e(ve,A),Ae=null;R(self).filter((function(e){return/^HTML.*Element$/.test(e)})).forEach((function(e){var t=self[e];function n(){var e=this.constructor;if(!se.has(e))throw new S("Illegal constructor");var n=se.get(e),r=n.is,i=n.tag;if(r){if(Ae)return ye(Ae,r);var a=$.call(v,i);return a.setAttribute("is",r),ye(L(a,e.prototype),r)}return ie.call(this,t,[],e)}T(n.prototype=t.prototype,"constructor",{value:n}),T(self,e,{value:n})})),T(v,"createElement",{configurable:!0,value:function(e,t){var n=t&&t.is;if(n){var r=ce.get(n);if(r&&se.get(r).tag===e)return new r}var i=$.call(v,e);return n&&i.setAttribute("is",n),i}}),T(J,"get",{configurable:!0,value:ge}),T(J,"whenDefined",{configurable:!0,value:ve}),T(J,"upgrade",{configurable:!0,value:function(e){var t=e.getAttribute("is");if(t){var n=ce.get(t);if(n)return void ye(L(e,n.prototype),t)}ne.call(J,e)}}),T(J,"define",{configurable:!0,value:function(e,t,n){if(ge(e))throw new M("'".concat(e,"' has already been defined as a custom element"));var r,i=n&&n.extends;se.set(t,i?{is:e,tag:i}:{is:"",tag:e}),i?(r="".concat(i,'[is="').concat(e,'"]'),le.set(r,t.prototype),ce.set(e,t),de.push(r)):(ee.apply(J,arguments),he.push(r=e)),ve(e).then((function(){i?(pe(v.querySelectorAll(r)),oe.forEach(Y,[r])):fe(v.querySelectorAll(r))})),ue.get(e)._(t)}})}}()},"./node_modules/an-array/index.js":function(e){var t=Object.prototype.toString;e.exports=function(e){return e.BYTES_PER_ELEMENT&&"[object ArrayBuffer]"===t.call(e.buffer)||Array.isArray(e)}},"./node_modules/as-number/index.js":function(e){e.exports=function(e,t){return"number"===typeof e?e:"number"===typeof t?t:0}},"./node_modules/base64-js/index.js":function(e,t){"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,a=s(e),o=a[0],u=a[1],l=new i(function(e,t,n){return 3*(t+n)/4-n}(0,o,u)),c=0,h=u>0?o-4:o;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===u&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[c++]=255&t),1===u&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=16383,s=0,l=r-i;s<l;s+=o)a.push(u(e,s,s+o>l?l:s+o));return 1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),a.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)n[o]=a[o],r[a.charCodeAt(o)]=o;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,r){for(var i,a,o=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},"./node_modules/buffer-equal/index.js":function(e,t,n){var r=n("./node_modules/buffer/index.js").Buffer;e.exports=function(e,t){if(r.isBuffer(e)&&r.isBuffer(t)){if("function"===typeof e.equals)return e.equals(t);if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}}},"./node_modules/buffer/index.js":function(e,t,n){"use strict";var r=n("./node_modules/base64-js/index.js"),i=n("./node_modules/ieee754/index.js"),a="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50;var o=2147483647;function s(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return l(e,t,n)}function l(e,t,n){if("string"===typeof e)return function(e,t){if("string"===typeof t&&""!==t||(t="utf8"),!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|b(e,t),r=s(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(ee(e,Uint8Array)){var t=new Uint8Array(e);return g(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ee(e,ArrayBuffer)||e&&ee(e.buffer,ArrayBuffer))return g(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(ee(e,SharedArrayBuffer)||e&&ee(e.buffer,SharedArrayBuffer)))return g(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return u.from(r,t,n);var i=function(e){if(u.isBuffer(e)){var t=0|A(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!==typeof e.length||te(e.length)?s(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return c(e),s(e<0?0:0|A(e))}function d(e){for(var t=e.length<0?0:0|A(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function g(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,u.prototype),r}function A(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function b(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ee(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(e).length;default:if(i)return r?-1:Y(e).length;t=(""+t).toLowerCase(),i=!0}}function x(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return R(this,t,n);case"ascii":return B(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function w(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function E(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),te(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:_(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,r,i){var a,o=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(a=n;a<s;a++)if(l(e,a)===l(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(n+u>s&&(n=s-u),a=n;a>=0;a--){for(var h=!0,d=0;d<u;d++)if(l(e,a+d)!==l(t,d)){h=!1;break}if(h)return a}return-1}function C(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a,o=t.length;for(r>o/2&&(r=o/2),a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(te(s))return a;e[n+a]=s}return a}function M(e,t,n,r){return $(Y(t,e.length-n),e,n,r)}function S(e,t,n,r){return $(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function I(e,t,n,r){return $(J(t),e,n,r)}function T(e,t,n,r){return $(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function R(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=n){var u=void 0,l=void 0,c=void 0,h=void 0;switch(s){case 1:a<128&&(o=a);break;case 2:128===(192&(u=e[i+1]))&&(h=(31&a)<<6|63&u)>127&&(o=h);break;case 3:u=e[i+1],l=e[i+2],128===(192&u)&&128===(192&l)&&(h=(15&a)<<12|(63&u)<<6|63&l)>2047&&(h<55296||h>57343)&&(o=h);break;case 4:u=e[i+1],l=e[i+2],c=e[i+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(h=(15&a)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&h<1114112&&(o=h)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){var t=e.length;if(t<=L)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=L));return n}(r)}t.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?s(e):void 0!==t?"string"===typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},u.allocUnsafe=function(e){return h(e)},u.allocUnsafeSlow=function(e){return h(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(ee(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),ee(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(ee(a,Uint8Array))i+a.length>r.length?(u.isBuffer(a)||(a=u.from(a)),a.copy(r,i)):Uint8Array.prototype.set.call(r,a,i);else{if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i)}i+=a.length}return r},u.byteLength=b,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)w(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},u.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?R(this,0,e):x.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},a&&(u.prototype[a]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,i){if(ee(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),l=this.slice(r,i),c=e.slice(t,n),h=0;h<s;++h)if(l[h]!==c[h]){a=l[h],o=c[h];break}return a<o?-1:o<a?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return E(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return E(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return C(this,e,t,n);case"utf8":case"utf-8":return M(this,e,t,n);case"ascii":case"latin1":case"binary":return S(this,e,t,n);case"base64":return I(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function B(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=ne[e[a]];return i}function O(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length-1;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function N(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,n,r,i,a){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function U(e,t,n,r,i){q(t,r,i,e,n,7);var a=Number(t&BigInt(4294967295));e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function z(e,t,n,r,i){q(t,r,i,e,n,7);var a=Number(t&BigInt(4294967295));e[n+7]=a,a>>=8,e[n+6]=a,a>>=8,e[n+5]=a,a>>=8,e[n+4]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}function j(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function H(e,t,n,r,a){return t=+t,n>>>=0,a||j(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function G(e,t,n,r,a){return t=+t,n>>>=0,a||j(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=re((function(e){K(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||X(e,this.length-8);var r=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),i=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+n*Math.pow(2,24);return BigInt(r)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=re((function(e){K(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||X(e,this.length-8);var r=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],i=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},u.prototype.readInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=re((function(e){K(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||X(e,this.length-8);var r=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),u.prototype.readBigInt64BE=re((function(e){K(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||X(e,this.length-8);var r=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||F(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||F(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=re((function(e){return U(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=re((function(e){return z(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=re((function(e){return U(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=re((function(e){return z(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,n){return H(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return H(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return G(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return G(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=u.isBuffer(e)?e:u.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var V={};function Q(e,t,n){V[e]=function(n){v(i,n);var r=y(i);function i(){var n;return p(this,i),n=r.call(this),Object.defineProperty(m(n),"message",{value:t.apply(m(n),arguments),writable:!0,configurable:!0}),n.name="".concat(n.name," [").concat(e,"]"),n.stack,delete n.name,n}return f(i,[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}]),i}(n)}function W(e){for(var t="",n=e.length,r="-"===e[0]?1:0;n>=r+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function q(e,t,n,r,i,a){if(e>n||e<t){var o,s="bigint"===typeof t?"n":"";throw o=a>3?0===t||t===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(a+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(a+1)-1).concat(s,") and < 2 ** ")+"".concat(8*(a+1)-1).concat(s):">= ".concat(t).concat(s," and <= ").concat(n).concat(s),new V.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){K(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||X(t,e.length-(n+1))}(r,i,a)}function K(e,t){if("number"!==typeof e)throw new V.ERR_INVALID_ARG_TYPE(t,"number",e)}function X(e,t,n){if(Math.floor(e)!==e)throw K(e,n),new V.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new V.ERR_BUFFER_OUT_OF_BOUNDS;throw new V.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}Q("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),Q("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)}),TypeError),Q("ERR_OUT_OF_RANGE",(function(e,t,n){var r='The value of "'.concat(e,'" is out of range.'),i=n;return Number.isInteger(n)&&Math.abs(n)>Math.pow(2,32)?i=W(String(n)):"bigint"===typeof n&&(i=String(n),(n>Math.pow(BigInt(2),BigInt(32))||n<-Math.pow(BigInt(2),BigInt(32)))&&(i=W(i)),i+="n"),r+=" It must be ".concat(t,". Received ").concat(i)}),RangeError);var Z=/[^+/0-9A-Za-z-_]/g;function Y(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function J(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(Z,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function $(e,t,n,r){var i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function ee(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function te(e){return e!==e}var ne=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}();function re(e){return"undefined"===typeof BigInt?ie:e}function ie(){throw new Error("BigInt not supported")}},"./node_modules/css-loader/dist/runtime/api.js":function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r="undefined"!==typeof t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,a){"string"===typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(o[u]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);r&&o[c[0]]||("undefined"!==typeof a&&("undefined"===typeof c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},"./node_modules/css-loader/dist/runtime/getUrl.js":function(e){"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},"./node_modules/css-loader/dist/runtime/sourceMaps.js":function(e){"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"===typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(i," */");return[t].concat([a]).join("\n")}return[t].join("\n")}},"./node_modules/custom-event-polyfill/polyfill.js":function(){!function(){if("undefined"!==typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(n){var t=function(e,t){var r,i;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(r=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i=r.preventDefault,r.preventDefault=function(){i.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(n){this.defaultPrevented=!0}},r};t.prototype=window.Event.prototype,window.CustomEvent=t}}()},"./node_modules/debug/browser.js":function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(n){}return e}(t=e.exports=n("./node_modules/debug/debug.js")).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" "),!t)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var r=0,i=0;return e[0].replace(/%[a-z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),e.splice(i,0,n),e},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(r())},"./node_modules/debug/debug.js":function(e,t){t=e.exports=function(e){function r(){}function i(){var e=i;null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=t.colors[n++%t.colors.length]);var r=Array.prototype.slice.call(arguments);r[0]=t.coerce(r[0]),"string"!==typeof r[0]&&(r=["%o"].concat(r));var a=0;r[0]=r[0].replace(/%([a-z%])/g,(function(n,i){if("%%"===n)return n;a++;var o=t.formatters[i];if("function"===typeof o){var s=r[a];n=o.call(e,s),r.splice(a,1),a--}return n})),"function"===typeof t.formatArgs&&(r=t.formatArgs.apply(e,r)),(i.log||t.log||console.log.bind(console)).apply(e,r)}r.enabled=!1,i.enabled=!0;var a=t.enabled(e)?i:r;return a.namespace=e,a},t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.names=[],t.skips=[],t.formatters={};var n=0},"./node_modules/deep-assign/index.js":function(e,t,n){"use strict";var r=n("./node_modules/is-obj/index.js"),i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e,t,n){var a=t[n];if(void 0!==a&&null!==a){if(i.call(e,n)&&(void 0===e[n]||null===e[n]))throw new TypeError("Cannot convert undefined or null to object ("+n+")");i.call(e,n)&&r(a)?e[n]=s(Object(e[n]),t[n]):e[n]=a}}function s(e,t){if(e===t)return e;for(var n in t=Object(t))i.call(t,n)&&o(e,t,n);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(t),s=0;s<r.length;s++)a.call(t,r[s])&&o(e,t,r[s]);return e}e.exports=function(e){e=function(e){if(null===e||void 0===e)throw new TypeError("Sources cannot be null or undefined");return Object(e)}(e);for(var t=1;t<arguments.length;t++)s(e,arguments[t]);return e}},"./node_modules/dtype/index.js":function(e){e.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},"./node_modules/flatten-vertex-data/index.js":function(e,t,n){var r=n("./node_modules/dtype/index.js");e.exports=function(e,t,n){if(!e)throw new TypeError("must specify data as first parameter");if(n=0|+(n||0),Array.isArray(e)&&e[0]&&"number"===typeof e[0][0]){var i,a,o,s,u=e[0].length,l=e.length*u;t&&"string"!==typeof t||(t=new(r(t||"float32"))(l+n));var c=t.length-n;if(l!==c)throw new Error("source length "+l+" ("+u+"x"+e.length+") does not match destination length "+c);for(i=0,o=n;i<e.length;i++)for(a=0;a<u;a++)t[o++]=null===e[i][a]?NaN:e[i][a]}else if(t&&"string"!==typeof t)t.set(e,n);else{var h=r(t||"float32");if(Array.isArray(e)||"array"===t)for(i=0,o=n,s=(t=new h(e.length+n)).length;o<s;o++,i++)t[o]=null===e[i]?NaN:e[i];else 0===n?t=new h(e):(t=new h(e.length+n)).set(e,n)}return t}},"./node_modules/global/window.js":function(e,t,n){var r;r="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},e.exports=r},"./node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,d=n?-1:1,g=e[t+h];for(h+=d,a=g&(1<<-c)-1,g>>=-c,c+=s;c>0;a=256*a+e[t+h],h+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+h],h+=d,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(g?-1:1);o+=Math.pow(2,r),a-=l}return(g?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,u,l=8*a-i-1,c=(1<<l)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:a-1,p=r?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+h>=1?d/u:d*Math.pow(2,1-h))*u>=2&&(o++,u/=2),o+h>=c?(s=0,o=c):o+h>=1?(s=(t*u-1)*Math.pow(2,i),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+g]=255&s,g+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+g]=255&o,g+=p,o/=256,l-=8);e[n+g-p]|=128*f}},"./node_modules/inherits/inherits_browser.js":function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},"./node_modules/is-buffer/index.js":function(e){function t(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},"./node_modules/is-function/index.js":function(e){e.exports=function(e){if(!e)return!1;var n=t.call(e);return"[object Function]"===n||"function"===typeof e&&"[object RegExp]"!==n||"undefined"!==typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var t=Object.prototype.toString},"./node_modules/is-obj/index.js":function(e){"use strict";e.exports=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}},"./node_modules/layout-bmfont-text/index.js":function(e,t,n){var r=n("./node_modules/word-wrapper/index.js"),i=n("./node_modules/xtend/immutable.js"),a=n("./node_modules/as-number/index.js"),o=["x","e","a","o","n","s","r","c","u","m","v","w","z"],s=["m","w"],u=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],l="\t".charCodeAt(0),c=" ".charCodeAt(0);function h(e){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(e)}function d(e){return new Function(["return function "+e+"() {","  return this._"+e,"}"].join("\n"))()}function g(e,t){if(!e.chars||0===e.chars.length)return null;var n=f(e.chars,t);return n>=0?e.chars[n]:null}function p(e,t,n){if(!e.kernings||0===e.kernings.length)return 0;for(var r=e.kernings,i=0;i<r.length;i++){var a=r[i];if(a.first===t&&a.second===n)return a.amount}return 0}function f(e,t,n){for(var r=n=n||0;r<e.length;r++)if(e[r].id===t)return r;return-1}e.exports=function(e){return new h(e)},h.prototype.update=function(e){if(e=i({measure:this._measure},e),this._opt=e,this._opt.tabSize=a(this._opt.tabSize,4),!e.font)throw new Error("must provide a valid bitmap font");var t=this.glyphs,n=e.text||"",s=e.font;this._setupSpaceGlyphs(s);var l=r.lines(n,e),c=e.width||0;t.length=0;var h=l.reduce((function(e,t){return Math.max(e,t.width,c)}),0),d=0,g=0,m=a(e.lineHeight,s.common.lineHeight),v=s.common.base,y=m-v,A=e.letterSpacing||0,b=m*l.length-y,x=function(e){return"center"===e?1:"right"===e?2:0}(this._opt.align);g-=b,this._width=h,this._height=b,this._descender=m-v,this._baseline=v,this._xHeight=function(e){for(var t=0;t<o.length;t++){var n=o[t].charCodeAt(0),r=f(e.chars,n);if(r>=0)return e.chars[r].height}return 0}(s),this._capHeight=function(e){for(var t=0;t<u.length;t++){var n=u[t].charCodeAt(0),r=f(e.chars,n);if(r>=0)return e.chars[r].height}return 0}(s),this._lineHeight=m,this._ascender=m-y-this._xHeight;var w=this;l.forEach((function(e,r){for(var i,a=e.start,o=e.end,u=e.width,l=a;l<o;l++){var c=n.charCodeAt(l),f=w.getGlyph(s,c);if(f){i&&(d+=p(s,i.id,f.id));var v=d;1===x?v+=(h-u)/2:2===x&&(v+=h-u),t.push({position:[v,g],data:f,index:l,line:r}),d+=f.xadvance+A,i=f}}g+=m,d=0})),this._linesTotal=l.length},h.prototype._setupSpaceGlyphs=function(e){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,e.chars&&0!==e.chars.length){var t=g(e,c)||function(e){for(var t=0;t<s.length;t++){var n=s[t].charCodeAt(0),r=f(e.chars,n);if(r>=0)return e.chars[r]}return 0}(e)||e.chars[0],n=this._opt.tabSize*t.xadvance;this._fallbackSpaceGlyph=t,this._fallbackTabGlyph=i(t,{x:0,y:0,xadvance:n,id:l,xoffset:0,yoffset:0,width:0,height:0})}},h.prototype.getGlyph=function(e,t){var n=g(e,t);return n||(t===l?this._fallbackTabGlyph:t===c?this._fallbackSpaceGlyph:null)},h.prototype.computeMetrics=function(e,t,n,r){var i,a=this._opt.letterSpacing||0,o=this._opt.font,s=0,u=0,l=0;if(!o.chars||0===o.chars.length)return{start:t,end:t,width:0};n=Math.min(e.length,n);for(var c=t;c<n;c++){var h,d=e.charCodeAt(c);if(h=this.getGlyph(o,d)){h.xoffset;var g=(s+=i?p(o,i.id,h.id):0)+h.xadvance+a,f=s+h.width;if(f>=r||g>=r)break;s=g,u=f,i=h}l++}return i&&(u+=i.xoffset),{start:t,end:t+l,width:u}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach((function(e){Object.defineProperty(h.prototype,e,{get:d(e),configurable:!0})}))},"./node_modules/load-bmfont/browser.js":function(e,t,n){var r=n("./node_modules/buffer/index.js").Buffer,i=n("./node_modules/xhr/index.js"),a=function(){},o=n("./node_modules/parse-bmfont-ascii/index.js"),s=n("./node_modules/parse-bmfont-xml/lib/browser.js"),u=n("./node_modules/parse-bmfont-binary/index.js"),l=n("./node_modules/load-bmfont/lib/is-binary.js"),c=n("./node_modules/xtend/immutable.js"),h=self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;e.exports=function(e,t){t="function"===typeof t?t:a,"string"===typeof e?e={uri:e}:e||(e={}),e.binary&&(e=function(e){if(h)return c(e,{responseType:"arraybuffer"});if("undefined"===typeof self.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var t=new self.XMLHttpRequest;return t.overrideMimeType("text/plain; charset=x-user-defined"),c({xhr:t},e)}(e)),i(e,(function(n,i,c){if(n)return t(n);if(!/^2/.test(i.statusCode))return t(new Error("http status code: "+i.statusCode));if(!c)return t(new Error("no body result"));var h,d,g=!1;if(h=c,"[object ArrayBuffer]"===Object.prototype.toString.call(h)){var p=new Uint8Array(c);c=r.from(p,"binary")}l(c)&&(g=!0,"string"===typeof c&&(c=r.from(c,"binary"))),g||(r.isBuffer(c)&&(c=c.toString(e.encoding)),c=c.trim());try{var f=i.headers["content-type"];d=g?u(c):/json/.test(f)||"{"===c.charAt(0)?JSON.parse(c):/xml/.test(f)||"<"===c.charAt(0)?s(c):o(c)}catch(m){t(new Error("error parsing font "+m.message)),t=a}t(null,d)}))}},"./node_modules/load-bmfont/lib/is-binary.js":function(e,t,n){var r=n("./node_modules/buffer/index.js").Buffer,i=n("./node_modules/buffer-equal/index.js"),a=r.from([66,77,70,3]);e.exports=function(e){return"string"===typeof e?"BMF"===e.substring(0,3):e.length>4&&i(e.slice(0,4),a)}},"./node_modules/object-assign/index.js":function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var a,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var l in a=Object(arguments[u]))n.call(a,l)&&(s[l]=a[l]);if(t){o=t(a);for(var c=0;c<o.length;c++)r.call(a,o[c])&&(s[o[c]]=a[o[c]])}}return s}},"./node_modules/parse-bmfont-ascii/index.js":function(e){function t(e,t){if(!(e=e.replace(/\t+/g," ").trim()))return null;var r=e.indexOf(" ");if(-1===r)throw new Error("no named row at line "+t);var i=e.substring(0,r);e=(e=(e=(e=e.substring(r+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map((function(e){return e.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)}));for(var a=[],o=0;o<e.length;o++){var s=e[o];0===o?a.push({key:s[0],data:""}):o===e.length-1?a[a.length-1].data=n(s[0]):(a[a.length-1].data=n(s[0]),a.push({key:s[1],data:""}))}var u={key:i,data:{}};return a.forEach((function(e){u.data[e.key]=e.data})),u}function n(e){return e&&0!==e.length?0===e.indexOf('"')||0===e.indexOf("'")?e.substring(1,e.length-1):-1!==e.indexOf(",")?function(e){return e.split(",").map((function(e){return parseInt(e,10)}))}(e):parseInt(e,10):""}e.exports=function(e){if(!e)throw new Error("no data provided");var n={pages:[],chars:[],kernings:[]},r=(e=e.toString().trim()).split(/\r\n?|\n/g);if(0===r.length)throw new Error("no data in BMFont file");for(var i=0;i<r.length;i++){var a=t(r[i],i);if(a)if("page"===a.key){if("number"!==typeof a.data.id)throw new Error("malformed file at line "+i+" -- needs page id=N");if("string"!==typeof a.data.file)throw new Error("malformed file at line "+i+' -- needs page file="path"');n.pages[a.data.id]=a.data.file}else"chars"===a.key||"kernings"===a.key||("char"===a.key?n.chars.push(a.data):"kerning"===a.key?n.kernings.push(a.data):n[a.key]=a.data)}return n}},"./node_modules/parse-bmfont-binary/index.js":function(e){var t=[66,77,70];function n(e,t,n){if(n>t.length-1)return 0;var i=t.readUInt8(n++),a=t.readInt32LE(n);switch(n+=4,i){case 1:e.info=function(e,t){var n={};n.size=e.readInt16LE(t);var i=e.readUInt8(t+2);return n.smooth=i>>7&1,n.unicode=i>>6&1,n.italic=i>>5&1,n.bold=i>>4&1,i>>3&1&&(n.fixedHeight=1),n.charset=e.readUInt8(t+3)||"",n.stretchH=e.readUInt16LE(t+4),n.aa=e.readUInt8(t+6),n.padding=[e.readInt8(t+7),e.readInt8(t+8),e.readInt8(t+9),e.readInt8(t+10)],n.spacing=[e.readInt8(t+11),e.readInt8(t+12)],n.outline=e.readUInt8(t+13),n.face=function(e,t){return r(e,t).toString("utf8")}(e,t+14),n}(t,n);break;case 2:e.common=function(e,t){var n={};return n.lineHeight=e.readUInt16LE(t),n.base=e.readUInt16LE(t+2),n.scaleW=e.readUInt16LE(t+4),n.scaleH=e.readUInt16LE(t+6),n.pages=e.readUInt16LE(t+8),e.readUInt8(t+10),n.packed=0,n.alphaChnl=e.readUInt8(t+11),n.redChnl=e.readUInt8(t+12),n.greenChnl=e.readUInt8(t+13),n.blueChnl=e.readUInt8(t+14),n}(t,n);break;case 3:e.pages=function(e,t,n){for(var i=[],a=r(e,t),o=a.length+1,s=n/o,u=0;u<s;u++)i[u]=e.slice(t,t+a.length).toString("utf8"),t+=o;return i}(t,n,a);break;case 4:e.chars=function(e,t,n){for(var r=[],i=n/20,a=0;a<i;a++){var o={},s=20*a;o.id=e.readUInt32LE(t+0+s),o.x=e.readUInt16LE(t+4+s),o.y=e.readUInt16LE(t+6+s),o.width=e.readUInt16LE(t+8+s),o.height=e.readUInt16LE(t+10+s),o.xoffset=e.readInt16LE(t+12+s),o.yoffset=e.readInt16LE(t+14+s),o.xadvance=e.readInt16LE(t+16+s),o.page=e.readUInt8(t+18+s),o.chnl=e.readUInt8(t+19+s),r[a]=o}return r}(t,n,a);break;case 5:e.kernings=function(e,t,n){for(var r=[],i=n/10,a=0;a<i;a++){var o={},s=10*a;o.first=e.readUInt32LE(t+0+s),o.second=e.readUInt32LE(t+4+s),o.amount=e.readInt16LE(t+8+s),r[a]=o}return r}(t,n,a)}return 5+a}function r(e,t){for(var n=t;n<e.length&&0!==e[n];n++);return e.slice(t,n)}e.exports=function(e){if(e.length<6)throw new Error("invalid buffer length for BMFont");var r=t.every((function(t,n){return e.readUInt8(n)===t}));if(!r)throw new Error("BMFont missing BMF byte header");var i=3;if(e.readUInt8(i++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var a={kernings:[],chars:[]},o=0;o<5;o++)i+=n(a,e,i);return a}},"./node_modules/parse-bmfont-xml/lib/browser.js":function(e,t,n){var r=n("./node_modules/parse-bmfont-xml/lib/parse-attribs.js"),i=n("./node_modules/xml-parse-from-string/index.js"),a={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};function o(e){var t=function(e){for(var t=[],n=0;n<e.attributes.length;n++)t.push(e.attributes[n]);return t}(e);return t.reduce((function(e,t){var n;return e[(n=t.nodeName,a[n.toLowerCase()]||n)]=t.nodeValue,e}),{})}e.exports=function(e){e=e.toString();var t=i(e),n={pages:[],chars:[],kernings:[]};["info","common"].forEach((function(e){var i=t.getElementsByTagName(e)[0];i&&(n[e]=r(o(i)))}));var a=t.getElementsByTagName("pages")[0];if(!a)throw new Error("malformed file -- no <pages> element");for(var s=a.getElementsByTagName("page"),u=0;u<s.length;u++){var l=s[u],c=parseInt(l.getAttribute("id"),10),h=l.getAttribute("file");if(isNaN(c))throw new Error('malformed file -- page "id" attribute is NaN');if(!h)throw new Error('malformed file -- needs page "file" attribute');n.pages[parseInt(c,10)]=h}return["chars","kernings"].forEach((function(e){var i=t.getElementsByTagName(e)[0];if(i)for(var a=e.substring(0,e.length-1),s=i.getElementsByTagName(a),u=0;u<s.length;u++){var l=s[u];n[e].push(r(o(l)))}})),n}},"./node_modules/parse-bmfont-xml/lib/parse-attribs.js":function(e){var t="chasrset";e.exports=function(e){for(var n in t in e&&(e.charset=e[t],delete e[t]),e)"face"!==n&&"charset"!==n&&(e[n]="padding"===n||"spacing"===n?e[n].split(",").map((function(e){return parseInt(e,10)})):parseInt(e[n],10));return e}},"./node_modules/parse-headers/parse-headers.js":function(e){var t=function(e){return e.replace(/^\s+|\s+$/g,"")};e.exports=function(e){if(!e)return{};for(var n,r={},i=t(e).split("\n"),a=0;a<i.length;a++){var o=i[a],s=o.indexOf(":"),u=t(o.slice(0,s)).toLowerCase(),l=t(o.slice(s+1));"undefined"===typeof r[u]?r[u]=l:(n=r[u],"[object Array]"===Object.prototype.toString.call(n)?r[u].push(l):r[u]=[r[u],l])}return r}},"./node_modules/present/lib/present-browser.js":function(e,t,n){var r=n.g.performance||{},i=function(){for(var e=["now","webkitNow","msNow","mozNow","oNow"];e.length;){var t=e.shift();if(t in r)return r[t].bind(r)}var n=Date.now||function(){return(new Date).getTime()},i=(r.timing||{}).navigationStart||n();return function(){return n()-i}}();i.performanceNow=r.now,i.noConflict=function(){r.now=i.performanceNow},i.conflict=function(){r.now=i},i.conflict(),e.exports=i},"./node_modules/process/browser.js":function(e){var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"===typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var s,u=[],l=!1,c=-1;function h(){l&&s&&(l=!1,s.length?u=s.concat(u):c=-1,u.length&&d())}function d(){if(!l){var e=o(h);l=!0;for(var t=u.length;t;){for(s=u,u=[];++c<t;)s&&s[c].run();c=-1,t=u.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new g(e,t)),1!==u.length||l||o(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},"./node_modules/promise-polyfill/Promise.js":function(e){!function(t){var n=setTimeout,r="function"===typeof setImmediate&&setImmediate||function(e){n(e,1)};function i(e,t){return function(){e.apply(t,arguments)}}var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],d(e,i(u,this),i(l,this))}function s(e){var t=this;null!==this._state?r((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void e.reject(i)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function u(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===typeof e||"function"===typeof e)){var t=e.then;if("function"===typeof t)return void d(i(t,e),i(u,this),i(l,this))}this._state=!0,this._value=e,c.call(this)}catch(n){l.call(this,n)}}function l(e){this._state=!1,this._value=e,c.call(this)}function c(){for(var e=0,t=this._deferreds.length;e<t;e++)s.call(this,this._deferreds[e]);this._deferreds=null}function h(e,t,n,r){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.resolve=n,this.reject=r}function d(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(i){if(r)return;r=!0,n(i)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=this;return new o((function(r,i){s.call(n,new h(e,t,r,i))}))},o.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&a(arguments[0])?arguments[0]:arguments);return new o((function(t,n){if(0===e.length)return t([]);var r=e.length;function i(a,o){try{if(o&&("object"===typeof o||"function"===typeof o)){var s=o.then;if("function"===typeof s)return void s.call(o,(function(e){i(a,e)}),n)}e[a]=o,0===--r&&t(e)}catch(u){n(u)}}for(var a=0;a<e.length;a++)i(a,e[a])}))},o.resolve=function(e){return e&&"object"===typeof e&&e.constructor===o?e:new o((function(t){t(e)}))},o.reject=function(e){return new o((function(t,n){n(e)}))},o.race=function(e){return new o((function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)}))},o._setImmediateFn=function(e){r=e},e.exports?e.exports=o:t.Promise||(t.Promise=o)}(this)},"./node_modules/quad-indices/index.js":function(e,t,n){var r=n("./node_modules/dtype/index.js"),i=n("./node_modules/an-array/index.js"),a=n("./node_modules/is-buffer/index.js"),o=[0,2,3],s=[2,1,3];e.exports=function(e,t){e&&(i(e)||a(e))||(t=e||{},e=null);for(var n="string"===typeof(t="number"===typeof t?{count:t}:t||{}).type?t.type:"uint16",u="number"===typeof t.count?t.count:1,l=t.start||0,c=!1!==t.clockwise?o:s,h=c[0],d=c[1],g=c[2],p=6*u,f=e||new(r(n))(p),m=0,v=0;m<p;m+=6,v+=4){var y=m+l;f[y+0]=v+0,f[y+1]=v+1,f[y+2]=v+2,f[y+3]=v+h,f[y+4]=v+d,f[y+5]=v+g}return f}},"./node_modules/super-animejs/lib/anime.es.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return we}});var r={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},i={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},a=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],o={CSS:{},springs:{}};function s(e,t,n){return Math.min(Math.max(e,t),n)}function u(e,t){return e.indexOf(t)>-1}function l(e,t){return e.apply(null,t)}var c=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,h=/^rgb/,d=/^hsl/,g={arr:function(e){return Array.isArray(e)},obj:function(e){return u(Object.prototype.toString.call(e),"Object")},pth:function(e){return g.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||g.svg(e)},str:function(e){return"string"===typeof e},fnc:function(e){return"function"===typeof e},und:function(e){return"undefined"===typeof e},hex:function(e){return c.test(e)},rgb:function(e){return h.test(e)},hsl:function(e){return d.test(e)},col:function(e){return g.hex(e)||g.rgb(e)||g.hsl(e)},key:function(e){return!r.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}},p=/\(([^)]+)\)/;function f(e){var t=p.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function m(e,t){var n=f(e),r=s(g.und(n[0])?1:n[0],.1,100),i=s(g.und(n[1])?100:n[1],.1,100),a=s(g.und(n[2])?10:n[2],.1,100),u=s(g.und(n[3])?0:n[3],.1,100),l=Math.sqrt(i/r),c=a/(2*Math.sqrt(i*r)),h=c<1?l*Math.sqrt(1-c*c):0,d=1,p=c<1?(c*l-u)/h:-u+l;function m(e){var n=t?t*e/1e3:e;return n=c<1?Math.exp(-n*c*l)*(d*Math.cos(h*n)+p*Math.sin(h*n)):(d+p*n)*Math.exp(-n*l),0===e||1===e?e:1-n}return t?m:function(){var t=o.springs[e];if(t)return t;for(var n=1/6,r=0,i=0;;)if(1===m(r+=n)){if(++i>=16)break}else i=0;var a=r*n*1e3;return o.springs[e]=a,a}}function v(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=s(e,1,10),r=s(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}function y(e){return void 0===e&&(e=10),function(t){return Math.round(t*e)*(1/e)}}var A=function(){var e=.1;function t(e,t){return 1-3*t+3*e}function n(e,t){return 3*t-6*e}function r(e){return 3*e}function i(e,i,a){return((t(i,a)*e+n(i,a))*e+r(i))*e}function a(e,i,a){return 3*t(i,a)*e*e+2*n(i,a)*e+r(i)}return function(t,n,r,o){if(0<=t&&t<=1&&0<=r&&r<=1){var s=new Float32Array(11);if(t!==n||r!==o)for(var u=0;u<11;++u)s[u]=i(u*e,t,r);return function(e){return t===n&&r===o||0===e||1===e?e:i(l(e),n,o)}}function l(n){for(var o=0,u=1;10!==u&&s[u]<=n;++u)o+=e;--u;var l=o+(n-s[u])/(s[u+1]-s[u])*e,c=a(l,t,r);return c>=.001?function(e,t,n,r){for(var o=0;o<4;++o){var s=a(t,n,r);if(0===s)return t;t-=(i(t,n,r)-e)/s}return t}(n,l,t,r):0===c?l:function(e,t,n,r,a){var o,s,u=0;do{(o=i(s=t+(n-t)/2,r,a)-e)>0?n=s:t=s}while(Math.abs(o)>1e-7&&++u<10);return s}(n,o,o+e,t,r)}}}(),b=function(){var e=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],t={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],v],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,t){return function(n){return 1-v(e,t)(1-n)}}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,t){return function(n){return n<.5?v(e,t)(2*n)/2:1-v(e,t)(-2*n+2)/2}}]},n={linear:[.25,.25,.75,.75]};for(var r in t)for(var i=0,a=t[r].length;i<a;i++)n["ease"+r+e[i]]=t[r][i];return n}();function x(e,t){if(g.fnc(e))return e;var n=e.split("(")[0],r=b[n],i=f(e);switch(n){case"spring":return m(e,t);case"cubicBezier":return l(A,i);case"steps":return l(y,i);default:return g.fnc(r)?l(r,i):l(A,r)}}function w(e){try{return document.querySelectorAll(e)}catch(t){return}}var E=[];function _(e,t){for(var n=E,r=e.length,i=arguments.length>=2?arguments[1]:void 0,a=0;a<r;a++)if(a in e){var o=e[a];t.call(i,o,a,e)&&n.push(o)}return(E=e).length=0,n}function C(e,t){t||(t=[]);for(var n=0,r=e.length;n<r;n++){var i=e[n];Array.isArray(i)?C(i,t):t.push(i)}return t}function M(e){return g.arr(e)?e:(g.str(e)&&(e=w(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function S(e,t){return e.some((function(e){return e===t}))}function I(e){var t={};for(var n in e)t[n]=e[n];return t}function T(e,t){var n=I(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function k(e,t){var n=I(e);for(var r in t)n[r]=g.und(e[r])?t[r]:e[r];return n}var R=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g,L=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,B=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,D=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g,P=/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g;function O(e){return g.rgb(e)?function(e){var t=R.exec(e);return t?"rgba("+t[1]+",1)":e}(e):g.hex(e)?function(e){var t=e.replace(L,(function(e,t,n,r){return t+t+n+n+r+r})),n=B.exec(t);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(e):g.hsl(e)?function(e){var t,n,r,i=D.exec(e)||P.exec(e),a=parseInt(i[1],10)/360,o=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100,u=i[4]||1;function l(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==o)t=n=r=s;else{var c=s<.5?s*(1+o):s+o-s*o,h=2*s-c;t=l(h,c,a+1/3),n=l(h,c,a),r=l(h,c,a-1/3)}return"rgba("+255*t+","+255*n+","+255*r+","+u+")"}(e):void 0}var N=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/;function F(e){var t=N.exec(e);if(t)return t[2]}function U(e,t){return g.fnc(e)?e(t.target,t.id,t.total):e}function z(e,t){return e.getAttribute(t)}function j(e,t,n){if(S([n,"deg","rad","turn"],F(t)))return t;var r=o.CSS[t+n];if(!g.und(r))return r;var i=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(i),i.style.position="absolute",i.style.width=100+n;var s=100/i.offsetWidth;a.removeChild(i);var u=s*parseFloat(t);return o.CSS[t+n]=u,u}function H(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?j(e,i,n):i}}function G(e,t){return g.dom(e)&&!g.inp(e)&&(z(e,t)||g.svg(e)&&e[t])?"attribute":g.dom(e)&&S(a,t)?"transform":g.dom(e)&&"transform"!==t&&H(e,t)?"css":null!=e[t]?"object":void 0}var V=/(\w+)\(([^)]*)\)/g;function Q(e){if(g.dom(e)){for(var t,n=e.style.transform||"",r=new Map;t=V.exec(n);)r.set(t[1],t[2]);return r}}function W(e,t,n,r){var i=u(t,"scale")?1:0+function(e){return u(e,"translate")||"perspective"===e?"px":u(e,"rotate")||u(e,"skew")?"deg":void 0}(t),a=Q(e).get(t)||i;return n&&(n.transforms.list.set(t,a),n.transforms.last=t),r?j(e,a,r):a}function q(e,t,n,r){switch(G(e,t)){case"transform":return W(e,t,r,n);case"css":return H(e,t,n);case"attribute":return z(e,t);default:return e[t]||0}}var K=/^(\*=|\+=|-=)/;function X(e,t){var n=K.exec(e);if(!n)return e;var r=F(e)||0,i=parseFloat(t),a=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return i+a+r;case"-":return i-a+r;case"*":return i*a+r}}var Z=/\s/g;function Y(e,t){if(g.col(e))return O(e);var n=F(e),r=n?e.substr(0,e.length-n.length):e;return t&&!Z.test(e)?r+t:r}function J(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function $(e){for(var t,n=e.points,r=0,i=0;i<n.numberOfItems;i++){var a=n.getItem(i);i>0&&(r+=J(t,a)),t=a}return r}function ee(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*z(e,"r")}(e);case"rect":return function(e){return 2*z(e,"width")+2*z(e,"height")}(e);case"line":return function(e){return J({x:z(e,"x1"),y:z(e,"y1")},{x:z(e,"x2"),y:z(e,"y2")})}(e);case"polyline":return $(e);case"polygon":return function(e){var t=e.points;return $(e)+J(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function te(e,t){var n=t||{},r=n.el||function(e){for(var t=e.parentNode;g.svg(t)&&(t=t.parentNode,g.svg(t.parentNode)););return t}(e),i=r.getBoundingClientRect(),a=z(r,"viewBox"),o=i.width,s=i.height,u=n.viewBox||(a?a.split(" "):[0,0,o,s]);return{el:r,viewBox:u,x:u[0]/1,y:u[1]/1,w:o/u[2],h:s/u[3]}}function ne(e,t){function n(n){void 0===n&&(n=0);var r=t+n>=1?t+n:0;return e.el.getPointAtLength(r)}var r=te(e.el,e.svg),i=n(),a=n(-1),o=n(1);switch(e.property){case"x":return(i.x-r.x)*r.w;case"y":return(i.y-r.y)*r.h;case"angle":return 180*Math.atan2(o.y-a.y,o.x-a.x)/Math.PI}}var re=/-?\d*\.?\d+/g;function ie(e,t){var n=Y(g.pth(e)?e.totalLength:e,t)+"";return{original:n,numbers:n.match(re)?n.match(re).map(Number):[0],strings:g.str(e)||t?n.split(re):[]}}function ae(e){return _(e?C(g.arr(e)?e.map(M):M(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function oe(e){var t=ae(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:Q(e)}}}))}var se=/^spring/;function ue(e,t){var n=I(t);if(se.test(n.easing)&&(n.duration=m(n.easing)),g.arr(e)){var r=e.length;2!==r||g.obj(e[0])?g.fnc(t.duration)||(n.duration=t.duration/r):e={value:e}}var i=g.arr(e)?e:[e];return i.map((function(e,n){var r=g.obj(e)&&!g.pth(e)?e:{value:e};return g.und(r.delay)&&(r.delay=n?0:t.delay),g.und(r.endDelay)&&(r.endDelay=n===i.length-1?t.endDelay:0),r})).map((function(e){return k(e,n)}))}function le(e,t){var n=[],r=t.keyframes;for(var i in r&&(t=k(function(e){for(var t=_(C(e.map((function(e){return Object.keys(e)}))),(function(e){return g.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},r=function(r){var i=t[r];n[i]=e.map((function(e){var t={};for(var n in e)g.key(n)?n==i&&(t.value=e[n]):t[n]=e[n];return t}))},i=0;i<t.length;i++)r(i);return n}(r),t)),t)g.key(i)&&n.push({name:i,tweens:ue(t[i],e)});return n}function ce(e,t){var n;return e.tweens.map((function(r){var i=function(e,t){var n={};for(var r in e){var i=U(e[r],t);g.arr(i)&&1===(i=i.map((function(e){return U(e,t)}))).length&&(i=i[0]),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(r,t),a=i.value,o=g.arr(a)?a[1]:a,s=F(o),u=q(t.target,e.name,s,t),l=n?n.to.original:u,c=g.arr(a)?a[0]:l,h=F(c)||F(u),d=s||h;return g.und(o)&&(o=l),i.from=ie(c,d),i.to=ie(X(o,c),d),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=x(i.easing,i.duration),i.isPath=g.pth(a),i.isColor=g.col(i.from.original),i.isColor&&(i.round=1),n=i,i}))}var he={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,i){if(r.list.set(t,n),t===r.last||i){var a="";r.list.forEach((function(e,t){a+=t+"("+e+") "})),e.style.transform=a}}};function de(e,t){for(var n=oe(e),r=0,i=n.length;r<i;r++){var a=n[r];for(var o in t){var s=U(t[o],a),u=a.target,l=F(s),c=q(u,o,l,a),h=X(Y(s,l||F(c)),c),d=G(u,o);he[d](u,o,h,a.transforms,!0)}}}function ge(e,t){return _(C(e.map((function(e){return t.map((function(t){return function(e,t){var n=G(e.target,t.name);if(n){var r=ce(t,e),i=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}(e,t)}))}))),(function(e){return!g.und(e)}))}function pe(e,t){var n=e.length,r=function(e){return e.timelineOffset?e.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,e.map((function(e){return r(e)+e.duration}))):t.duration,i.delay=n?Math.min.apply(Math,e.map((function(e){return r(e)+e.delay}))):t.delay,i.endDelay=n?i.duration-Math.max.apply(Math,e.map((function(e){return r(e)+e.duration-e.endDelay}))):t.endDelay,i}var fe,me=0,ve=[],ye=[],Ae=function(){function e(){fe=requestAnimationFrame(t)}function t(t){var n=ve.length;if(n){for(var r=0;r<n;){var i=ve[r];if(i.paused){var a=ve.indexOf(i);a>-1&&(ve.splice(a,1),n=ve.length)}else i.tick(t);r++}e()}else fe=cancelAnimationFrame(fe)}return e}();function be(e){void 0===e&&(e={});var t,n=0,a=0,o=0,u=0,l=null;function c(){return window.Promise&&new Promise((function(e){return l=e}))}var h=c(),d=function(e){var t=T(r,e),n=T(i,e),a=le(n,e),o=oe(e.targets),s=ge(o,a),u=pe(s,n),l=me;return me++,k(t,{id:l,children:[],animatables:o,animations:s,duration:u.duration,delay:u.delay,endDelay:u.endDelay})}(e);function g(){d.reversed=!d.reversed;for(var e=0,n=t.length;e<n;e++)t[e].reversed=d.reversed}function p(e){return d.reversed?d.duration-e:e}function f(){n=0,a=p(d.currentTime)*(1/be.speed)}function m(e,t){t&&t.seek(e-t.timelineOffset)}function v(e){for(var t=0,n=d.animations,r=n.length;t<r;){var i=n[t],a=i.animatable,o=i.tweens,u=o.length-1,l=o[u];u&&(l=_(o,(function(t){return e<t.end}))[0]||l);for(var c=s(e-l.start-l.delay,0,l.duration)/l.duration,h=isNaN(c)?1:l.easing(c),g=l.to.strings,p=l.round,f=[],m=l.to.numbers.length,v=void 0,y=0;y<m;y++){var A=void 0,b=l.to.numbers[y],x=l.from.numbers[y]||0;A=l.isPath?ne(l.value,h*b):x+h*(b-x),p&&(l.isColor&&y>2||(A=Math.round(A*p)/p)),f.push(A)}var w=g.length;if(w){v=g[0];for(var E=0;E<w;E++){g[E];var C=g[E+1],M=f[E];isNaN(M)||(v+=C?M+C:M+" ")}}else v=f[0];he[i.type](a.target,i.property,v,a.transforms),i.currentValue=v,t++}}function y(e){d[e]&&!d.passThrough&&d[e](d)}function A(e){var r=d.duration,i=d.delay,f=r-d.endDelay,A=p(e);d.progress=s(A/r*100,0,100),d.reversePlayback=A<d.currentTime,t&&function(e){if(d.reversePlayback)for(var n=u;n--;)m(e,t[n]);else for(var r=0;r<u;r++)m(e,t[r])}(A),!d.began&&d.currentTime>0&&(d.began=!0,y("begin"),y("loopBegin")),A<=i&&0!==d.currentTime&&v(0),(A>=f&&d.currentTime!==r||!r)&&v(r),A>i&&A<f?(d.changeBegan||(d.changeBegan=!0,d.changeCompleted=!1,y("changeBegin")),y("change"),v(A)):d.changeBegan&&(d.changeCompleted=!0,d.changeBegan=!1,y("changeComplete")),d.currentTime=s(A,0,r),d.began&&y("update"),e>=r&&(a=0,d.remaining&&!0!==d.remaining&&d.remaining--,d.remaining?(n=o,y("loopComplete"),y("loopBegin"),"alternate"===d.direction&&g()):(d.paused=!0,d.completed||(d.completed=!0,y("loopComplete"),y("complete"),"Promise"in window&&(l(),h=c()))))}return d.reset=function(){var e=d.direction;d.passThrough=!1,d.currentTime=0,d.progress=0,d.paused=!0,d.began=!1,d.changeBegan=!1,d.completed=!1,d.changeCompleted=!1,d.reversePlayback=!1,d.reversed="reverse"===e,d.remaining=d.loop,t=d.children;for(var n=u=t.length;n--;)d.children[n].reset();(d.reversed&&!0!==d.loop||"alternate"===e&&1===d.loop)&&d.remaining++,v(0)},d.set=function(e,t){return de(e,t),d},d.tick=function(e){o=e,n||(n=o),A((o+(a-n))*be.speed)},d.seek=function(e){A(p(e))},d.pause=function(){d.paused=!0,f()},d.play=function(){d.paused&&(d.paused=!1,ve.push(d),f(),fe||Ae())},d.reverse=function(){g(),f()},d.restart=function(){d.reset(),d.play()},d.finished=h,d.reset(),d.autoplay&&d.play(),d}function xe(e,t){for(var n=t.length;n--;)S(e,t[n].animatable.target)&&t.splice(n,1)}document.addEventListener("visibilitychange",(function(){if(document.hidden){for(var e=0,t=ve.length;e<t;e++)activeInstance[e].pause();ye=ve.slice(0),ve=[]}else for(var n=0,r=ye.length;n<r;n++)ye[n].play()})),be.version="3.0.0",be.speed=1,be.running=ve,be.remove=function(e){for(var t=ae(e),n=ve.length;n--;){var r=ve[n],i=r.animations,a=r.children;xe(t,i);for(var o=a.length;o--;){var s=a[o],u=s.animations;xe(t,u),u.length||s.children.length||a.splice(o,1)}i.length||a.length||r.pause()}},be.get=q,be.set=de,be.convertPx=j,be.path=function(e,t){var n=g.str(e)?w(e)[0]:e,r=t||100;return function(e){return{property:e,el:n,svg:te(n),totalLength:ee(n)*(r/100)}}},be.setDashoffset=function(e){var t=ee(e);return e.setAttribute("stroke-dasharray",t),t},be.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",r=t.easing?x(t.easing):null,i=t.grid,a=t.axis,o=t.from||0,s="first"===o,u="center"===o,l="last"===o,c=g.arr(e),h=c?parseFloat(e[0]):parseFloat(e),d=c?parseFloat(e[1]):0,p=F(c?e[1]:e)||0,f=t.start||0+(c?h:0),m=[],v=0;return function(e,t,g){if(s&&(o=0),u&&(o=(g-1)/2),l&&(o=g-1),!m.length){for(var y=0;y<g;y++){if(i){var A=u?(i[0]-1)/2:o%i[0],b=u?(i[1]-1)/2:Math.floor(o/i[0]),x=A-y%i[0],w=b-Math.floor(y/i[0]),E=Math.sqrt(x*x+w*w);"x"===a&&(E=-x),"y"===a&&(E=-w),m.push(E)}else m.push(Math.abs(o-y));v=Math.max.apply(Math,m)}r&&(m=m.map((function(e){return r(e/v)*v}))),"reverse"===n&&(m=m.map((function(e){return a?e<0?-1*e:-e:Math.abs(v-e)})))}return f+(c?(d-h)/v:h)*(Math.round(100*m[t])/100)+p}},be.timeline=function(e){void 0===e&&(e={});var t=be(e);return t.duration=0,t.add=function(n,r){var a=ve.indexOf(t),o=t.children;function s(e){e.passThrough=!0}a>-1&&ve.splice(a,1);for(var u=0;u<o.length;u++)s(o[u]);var l=k(n,T(i,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=g.und(r)?c:X(r,c),s(t),t.seek(l.timelineOffset);var h=be(l);s(h),o.push(h);var d=pe(o,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},be.easing=x,be.penner=b,be.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var we=be},"./node_modules/three-bmfont-text/index.js":function(e,t,n){var r=n("./node_modules/layout-bmfont-text/index.js"),i=(n("./node_modules/inherits/inherits_browser.js"),n("./node_modules/quad-indices/index.js")),a=n("./node_modules/three-buffer-vertex-data/index.js"),o=n("./node_modules/object-assign/index.js"),s=n("./node_modules/three-bmfont-text/lib/vertices.js"),u=n("./node_modules/three-bmfont-text/lib/utils.js");e.exports=function(e){return new l(e)};var l=function(e){"use strict";v(n,e);var t=y(n);function n(e){var r;return p(this,n),"string"===typeof e&&(e={text:e}),(r=t.call(this))._opt=o({},e),e&&r.update(e),r}return f(n,[{key:"update",value:function(e){if("string"===typeof e&&(e={text:e}),!(e=o({},this._opt,e)).font)throw new TypeError("must specify a { font } in options");this.layout=r(e);var t=!1!==e.flipY,n=e.font,u=n.common.scaleW,l=n.common.scaleH,c=this.layout.glyphs.filter((function(e){var t=e.data;return t.width*t.height>0}));this.visibleGlyphs=c;var h=s.positions(c),d=s.uvs(c,u,l,t),g=i({clockwise:!0,type:"uint16",count:c.length});if(a.index(this,g,1,"uint16"),a.attr(this,"position",h,2),a.attr(this,"uv",d,2),!e.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(e.multipage){var p=s.pages(c);a.attr(this,"page",p,1)}}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var e=this.attributes.position.array,t=this.attributes.position.itemSize;if(!e||!t||e.length<2)return this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0);u.computeSphere(e,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var e=this.boundingBox,t=this.attributes.position.array,n=this.attributes.position.itemSize;!t||!n||t.length<2?e.makeEmpty():u.computeBox(t,e)}}]),n}(THREE.BufferGeometry)},"./node_modules/three-bmfont-text/lib/utils.js":function(e){var t={min:[0,0],max:[0,0]};function n(e){var n=e.length/2;t.min[0]=e[0],t.min[1]=e[1],t.max[0]=e[0],t.max[1]=e[1];for(var r=0;r<n;r++){var i=e[2*r+0],a=e[2*r+1];t.min[0]=Math.min(i,t.min[0]),t.min[1]=Math.min(a,t.min[1]),t.max[0]=Math.max(i,t.max[0]),t.max[1]=Math.max(a,t.max[1])}}e.exports.computeBox=function(e,r){n(e),r.min.set(t.min[0],t.min[1],0),r.max.set(t.max[0],t.max[1],0)},e.exports.computeSphere=function(e,r){n(e);var i=t.min[0],a=t.min[1],o=t.max[0]-i,s=t.max[1]-a,u=Math.sqrt(o*o+s*s);r.center.set(i+o/2,a+s/2,0),r.radius=u/2}},"./node_modules/three-bmfont-text/lib/vertices.js":function(e){e.exports.pages=function(e){var t=new Float32Array(4*e.length*1),n=0;return e.forEach((function(e){var r=e.data.page||0;t[n++]=r,t[n++]=r,t[n++]=r,t[n++]=r})),t},e.exports.uvs=function(e,t,n,r){var i=new Float32Array(4*e.length*2),a=0;return e.forEach((function(e){var o=e.data,s=o.x+o.width,u=o.y+o.height,l=o.x/t,c=o.y/n,h=s/t,d=u/n;r&&(c=(n-o.y)/n,d=(n-u)/n),i[a++]=l,i[a++]=c,i[a++]=l,i[a++]=d,i[a++]=h,i[a++]=d,i[a++]=h,i[a++]=c})),i},e.exports.positions=function(e){var t=new Float32Array(4*e.length*2),n=0;return e.forEach((function(e){var r=e.data,i=e.position[0]+r.xoffset,a=e.position[1]+r.yoffset,o=r.width,s=r.height;t[n++]=i,t[n++]=a,t[n++]=i,t[n++]=a+s,t[n++]=i+o,t[n++]=a+s,t[n++]=i+o,t[n++]=a})),t}},"./node_modules/three-buffer-vertex-data/index.js":function(e,t,n){var r=n("./node_modules/flatten-vertex-data/index.js");function i(e,t,n,i){return t=r(t=t||[],i),(e=new THREE.BufferAttribute(t,n)).itemSize=n,e.needsUpdate=!0,e}e.exports.attr=function(e,t,n,r,a){if("number"!==typeof r&&(r=3),"string"!==typeof a&&(a="float32"),Array.isArray(n)&&Array.isArray(n[0])&&n[0].length!==r)throw new Error("Nested vertex array has unexpected size; expected "+r+" but found "+n[0].length);var o=i(e.getAttribute(t),n,r,a);e.setAttribute(t,o)},e.exports.index=function(e,t,n,r){"number"!==typeof n&&(n=1),"string"!==typeof r&&(r="uint16");var a=!e.index&&"function"!==typeof e.setIndex,o=i(a?e.getAttribute("index"):e.index,t,n,r);o&&(a?e.addAttribute("index",o):e.index=o)}},"./node_modules/webvr-polyfill/build/webvr-polyfill.js":function(e,t,n){e.exports=function(){"use strict";var e="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t){return e(t={exports:{}},t.exports),t.exports}var i=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},a=function(e,t){for(var n=0,r=e.length;n<r;n++)t[n]=e[n]},o=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},s=r((function(t,n){!function(e,n){t.exports=n()}(0,(function(){var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=.001,a=1,o=function(e,t){return"data:"+e+","+encodeURIComponent(t)},s=function(e,t,n){return e+(t-e)*n},u=function(){var e=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return e}}(),l=function(){var e=-1!==navigator.userAgent.indexOf("Version")&&-1!==navigator.userAgent.indexOf("Android")&&-1!==navigator.userAgent.indexOf("Chrome");return function(){return e}}(),c=function(){var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return function(){return e}}(),h=function(){var e=-1!==navigator.userAgent.indexOf("Firefox")&&-1!==navigator.userAgent.indexOf("Android");return function(){return e}}(),d=function(){var e=navigator.userAgent.match(/.*Chrome\/([0-9]+)/),t=e?parseInt(e[1],10):null;return function(){return t}}(),g=function(){var e=!1;return e=u()&&c()&&-1!==navigator.userAgent.indexOf("13_4"),function(){return e}}(),p=function(){var e=!1;if(65===d()){var t=navigator.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(t){var n=t[1].split("."),i=r(n,4),a=(i[0],i[1],i[2]),o=i[3];e=3325===parseInt(a,10)&&parseInt(o,10)<148}}return function(){return e}}(),f=function(){var e=-1!==navigator.userAgent.indexOf("R7 Build");return function(){return e}}(),m=function(){var e=90==window.orientation||-90==window.orientation;return f()?!e:e},v=function(e){return!isNaN(e)&&!(e<=i)&&!(e>a)},y=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},A=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},b=function(e){if(l())return!1;if(e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},x=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},w=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},E=function(e,t,n,r){var i=e.createShader(e.VERTEX_SHADER);e.shaderSource(i,t),e.compileShader(i);var a=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(a,n),e.compileShader(a);var o=e.createProgram();for(var s in e.attachShader(o,i),e.attachShader(o,a),r)e.bindAttribLocation(o,r[s],s);return e.linkProgram(o),e.deleteShader(i),e.deleteShader(a),o},_=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i="",a=0;a<r;a++)n[i=e.getActiveUniform(t,a).name.replace("[0]","")]=e.getUniformLocation(t,i);return n},C=function(e,t,n,r,i,a,o){var s=1/(t-n),u=1/(r-i),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(o+a)*l,e[15]=1,e},M=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},S=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},I=function(e){if(u()){var t=e.style.width,n=e.style.height;e.style.width=parseInt(t)+1+"px",e.style.height=parseInt(n)+"px",setTimeout((function(){e.style.width=t,e.style.height=n}),100)}window.canvas=e},T=function(){var e=Math.PI/180,t=.25*Math.PI;function n(n,r,i,a){var o=Math.tan(r?r.upDegrees*e:t),s=Math.tan(r?r.downDegrees*e:t),u=Math.tan(r?r.leftDegrees*e:t),l=Math.tan(r?r.rightDegrees*e:t),c=2/(u+l),h=2/(o+s);return n[0]=c,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=h,n[6]=0,n[7]=0,n[8]=-(u-l)*c*.5,n[9]=(o-s)*h*.5,n[10]=a/(i-a),n[11]=-1,n[12]=0,n[13]=0,n[14]=a*i/(i-a),n[15]=0,n}function r(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=r+r,u=i+i,l=a+a,c=r*s,h=r*u,d=r*l,g=i*u,p=i*l,f=a*l,m=o*s,v=o*u,y=o*l;return e[0]=1-(g+f),e[1]=h+y,e[2]=d-v,e[3]=0,e[4]=h-y,e[5]=1-(c+f),e[6]=p+m,e[7]=0,e[8]=d+v,e[9]=p-m,e[10]=1-(c+g),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function i(e,t,n){var r,i,a,o,s,u,l,c,h,d,g,p,f=n[0],m=n[1],v=n[2];return t===e?(e[12]=t[0]*f+t[4]*m+t[8]*v+t[12],e[13]=t[1]*f+t[5]*m+t[9]*v+t[13],e[14]=t[2]*f+t[6]*m+t[10]*v+t[14],e[15]=t[3]*f+t[7]*m+t[11]*v+t[15]):(r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],h=t[8],d=t[9],g=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=h,e[9]=d,e[10]=g,e[11]=p,e[12]=r*f+s*m+h*v+t[12],e[13]=i*f+u*m+d*v+t[13],e[14]=a*f+l*m+g*v+t[14],e[15]=o*f+c*m+p*v+t[15]),e}function a(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],h=t[9],d=t[10],g=t[11],p=t[12],f=t[13],m=t[14],v=t[15],y=n*s-r*o,A=n*u-i*o,b=n*l-a*o,x=r*u-i*s,w=r*l-a*s,E=i*l-a*u,_=c*f-h*p,C=c*m-d*p,M=c*v-g*p,S=h*m-d*f,I=h*v-g*f,T=d*v-g*m,k=y*T-A*I+b*S+x*M-w*C+E*_;return k?(k=1/k,e[0]=(s*T-u*I+l*S)*k,e[1]=(i*I-r*T-a*S)*k,e[2]=(f*E-m*w+v*x)*k,e[3]=(d*w-h*E-g*x)*k,e[4]=(u*M-o*T-l*C)*k,e[5]=(n*T-i*M+a*C)*k,e[6]=(m*b-p*E-v*A)*k,e[7]=(c*E-d*b+g*A)*k,e[8]=(o*I-s*M+l*_)*k,e[9]=(r*M-n*I-a*_)*k,e[10]=(p*w-f*b+v*y)*k,e[11]=(h*b-c*w-g*y)*k,e[12]=(s*C-o*S-u*_)*k,e[13]=(n*S-r*C+i*_)*k,e[14]=(f*A-p*x-m*y)*k,e[15]=(c*x-h*A+d*y)*k,e):null}var o=new Float32Array([0,0,0,1]),s=new Float32Array([0,0,0]);function u(e,t,u,l,c,h){n(e,l||null,h.depthNear,h.depthFar),r(t,u.orientation||o,u.position||s),c&&i(t,t,c),a(t,t)}return function(e,t,n){return!(!e||!t)&&(e.pose=t,e.timestamp=t.timestamp,u(e.leftProjectionMatrix,e.leftViewMatrix,t,n._getFieldOfView("left"),n._getEyeOffset("left"),n),u(e.rightProjectionMatrix,e.rightViewMatrix,t,n._getFieldOfView("right"),n._getEyeOffset("right"),n),!0)}}(),k=function(){var e=window.self!==window.top,t=R(document.referrer),n=R(window.location.href);return e&&t!==n},R=function(e){var t,n=e.indexOf("://");t=-1!==n?n+3:0;var r=e.indexOf("/",t);return-1===r&&(r=e.length),e.substring(0,r)},L=function(e){return e.w>1?(console.warn("getQuaternionAngle: w > 1"),0):2*Math.acos(e.w)},B=function(){var e={};return function(t,n){void 0===e[t]&&(console.warn("webvr-polyfill: "+n),e[t]=!0)}}(),D=function(e,t){B(e,e+" has been deprecated. This may not work on native WebVR displays. "+(t?"Please use "+t+" instead.":""))};function P(e,t,n){if(t){for(var r=[],i=null,a=0;a<t.length;++a)switch(o=t[a]){case e.TEXTURE_BINDING_2D:case e.TEXTURE_BINDING_CUBE_MAP:if((u=t[++a])<e.TEXTURE0||u>e.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),r.push(null,null);break}i||(i=e.getParameter(e.ACTIVE_TEXTURE)),e.activeTexture(u),r.push(e.getParameter(o),null);break;case e.ACTIVE_TEXTURE:i=e.getParameter(e.ACTIVE_TEXTURE),r.push(null);break;default:r.push(e.getParameter(o))}for(n(e),a=0;a<t.length;++a){var o=t[a],s=r[a];switch(o){case e.ACTIVE_TEXTURE:break;case e.ARRAY_BUFFER_BINDING:e.bindBuffer(e.ARRAY_BUFFER,s);break;case e.COLOR_CLEAR_VALUE:e.clearColor(s[0],s[1],s[2],s[3]);break;case e.COLOR_WRITEMASK:e.colorMask(s[0],s[1],s[2],s[3]);break;case e.CURRENT_PROGRAM:e.useProgram(s);break;case e.ELEMENT_ARRAY_BUFFER_BINDING:e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,s);break;case e.FRAMEBUFFER_BINDING:e.bindFramebuffer(e.FRAMEBUFFER,s);break;case e.RENDERBUFFER_BINDING:e.bindRenderbuffer(e.RENDERBUFFER,s);break;case e.TEXTURE_BINDING_2D:if((u=t[++a])<e.TEXTURE0||u>e.TEXTURE31)break;e.activeTexture(u),e.bindTexture(e.TEXTURE_2D,s);break;case e.TEXTURE_BINDING_CUBE_MAP:var u;if((u=t[++a])<e.TEXTURE0||u>e.TEXTURE31)break;e.activeTexture(u),e.bindTexture(e.TEXTURE_CUBE_MAP,s);break;case e.VIEWPORT:e.viewport(s[0],s[1],s[2],s[3]);break;case e.BLEND:case e.CULL_FACE:case e.DEPTH_TEST:case e.SCISSOR_TEST:case e.STENCIL_TEST:s?e.enable(o):e.disable(o);break;default:console.log("No GL restore behavior for 0x"+o.toString(16))}i&&e.activeTexture(i)}}else n(e)}var O=P,N=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),F=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");function U(e,t,n,r){this.gl=e,this.cardboardUI=t,this.bufferScale=n,this.dirtySubmitFrameBindings=r,this.ctxAttribs=e.getContextAttributes(),this.instanceExt=e.getExtension("ANGLE_instanced_arrays"),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=e.drawingBufferWidth,this.bufferHeight=e.drawingBufferHeight,this.realBindFramebuffer=e.bindFramebuffer,this.realEnable=e.enable,this.realDisable=e.disable,this.realColorMask=e.colorMask,this.realClearColor=e.clearColor,this.realViewport=e.viewport,u()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=E(e,N,F,this.attribs),this.uniforms=_(e,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.indexCount=0,this.renderTarget=e.createTexture(),this.framebuffer=e.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=e.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=e.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=e.createRenderbuffer()),this.patch(),this.onResize()}U.prototype.destroy=function(){var e=this.gl;this.unpatch(),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer),e.deleteTexture(this.renderTarget),e.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&e.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&e.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&e.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},U.prototype.onResize=function(){var e=this.gl,t=this,n=[e.RENDERBUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0];O(e,n,(function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.framebuffer),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.texImage2D(e.TEXTURE_2D,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,t.bufferWidth,t.bufferHeight,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.renderTarget,0),t.ctxAttribs.depth&&t.ctxAttribs.stencil?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthStencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t.depthStencilBuffer)):t.ctxAttribs.depth?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t.depthBuffer)):t.ctxAttribs.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,t.stencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.STENCIL_INDEX8,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.STENCIL_ATTACHMENT,e.RENDERBUFFER,t.stencilBuffer)),!e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),t.realClearColor.apply(e,t.clearColor)})),this.cardboardUI&&this.cardboardUI.onResize()},U.prototype.patch=function(){if(!this.isPatched){var e=this,t=this.gl.canvas,n=this.gl;u()||(t.width=y()*this.bufferScale,t.height=A()*this.bufferScale,Object.defineProperty(t,"width",{configurable:!0,enumerable:!0,get:function(){return e.bufferWidth},set:function(n){e.bufferWidth=n,e.realCanvasWidth.set.call(t,n),e.onResize()}}),Object.defineProperty(t,"height",{configurable:!0,enumerable:!0,get:function(){return e.bufferHeight},set:function(n){e.bufferHeight=n,e.realCanvasHeight.set.call(t,n),e.onResize()}})),this.lastBoundFramebuffer=n.getParameter(n.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(t,r){e.lastBoundFramebuffer=r||e.framebuffer,e.realBindFramebuffer.call(n,t,e.lastBoundFramebuffer)},this.cullFace=n.getParameter(n.CULL_FACE),this.depthTest=n.getParameter(n.DEPTH_TEST),this.blend=n.getParameter(n.BLEND),this.scissorTest=n.getParameter(n.SCISSOR_TEST),this.stencilTest=n.getParameter(n.STENCIL_TEST),n.enable=function(t){switch(t){case n.CULL_FACE:e.cullFace=!0;break;case n.DEPTH_TEST:e.depthTest=!0;break;case n.BLEND:e.blend=!0;break;case n.SCISSOR_TEST:e.scissorTest=!0;break;case n.STENCIL_TEST:e.stencilTest=!0}e.realEnable.call(n,t)},n.disable=function(t){switch(t){case n.CULL_FACE:e.cullFace=!1;break;case n.DEPTH_TEST:e.depthTest=!1;break;case n.BLEND:e.blend=!1;break;case n.SCISSOR_TEST:e.scissorTest=!1;break;case n.STENCIL_TEST:e.stencilTest=!1}e.realDisable.call(n,t)},this.colorMask=n.getParameter(n.COLOR_WRITEMASK),n.colorMask=function(t,r,i,a){e.colorMask[0]=t,e.colorMask[1]=r,e.colorMask[2]=i,e.colorMask[3]=a,e.realColorMask.call(n,t,r,i,a)},this.clearColor=n.getParameter(n.COLOR_CLEAR_VALUE),n.clearColor=function(t,r,i,a){e.clearColor[0]=t,e.clearColor[1]=r,e.clearColor[2]=i,e.clearColor[3]=a,e.realClearColor.call(n,t,r,i,a)},this.viewport=n.getParameter(n.VIEWPORT),n.viewport=function(t,r,i,a){e.viewport[0]=t,e.viewport[1]=r,e.viewport[2]=i,e.viewport[3]=a,e.realViewport.call(n,t,r,i,a)},this.isPatched=!0,I(t)}},U.prototype.unpatch=function(){if(this.isPatched){var e=this.gl,t=this.gl.canvas;u()||(Object.defineProperty(t,"width",this.realCanvasWidth),Object.defineProperty(t,"height",this.realCanvasHeight)),t.width=this.bufferWidth,t.height=this.bufferHeight,e.bindFramebuffer=this.realBindFramebuffer,e.enable=this.realEnable,e.disable=this.realDisable,e.colorMask=this.realColorMask,e.clearColor=this.realClearColor,e.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&e.bindFramebuffer(e.FRAMEBUFFER,null),this.isPatched=!1,setTimeout((function(){I(t)}),1)}},U.prototype.setTextureBounds=function(e,t){e||(e=[0,0,.5,1]),t||(t=[.5,0,.5,1]),this.viewportOffsetScale[0]=e[0],this.viewportOffsetScale[1]=e[1],this.viewportOffsetScale[2]=e[2],this.viewportOffsetScale[3]=e[3],this.viewportOffsetScale[4]=t[0],this.viewportOffsetScale[5]=t[1],this.viewportOffsetScale[6]=t[2],this.viewportOffsetScale[7]=t[3]},U.prototype.submitFrame=function(){var e=this.gl,t=this,n=[];if(this.dirtySubmitFrameBindings||n.push(e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING,e.ELEMENT_ARRAY_BUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0),O(e,n,(function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null);var n=0,r=0;t.instanceExt&&(n=e.getVertexAttrib(t.attribs.position,t.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE),r=e.getVertexAttrib(t.attribs.texCoord,t.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE)),t.cullFace&&t.realDisable.call(e,e.CULL_FACE),t.depthTest&&t.realDisable.call(e,e.DEPTH_TEST),t.blend&&t.realDisable.call(e,e.BLEND),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realDisable.call(e,e.STENCIL_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),(t.ctxAttribs.alpha||u())&&(t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)),e.useProgram(t.program),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.indexBuffer),e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.enableVertexAttribArray(t.attribs.position),e.enableVertexAttribArray(t.attribs.texCoord),e.vertexAttribPointer(t.attribs.position,2,e.FLOAT,!1,20,0),e.vertexAttribPointer(t.attribs.texCoord,3,e.FLOAT,!1,20,8),t.instanceExt&&(0!=n&&t.instanceExt.vertexAttribDivisorANGLE(t.attribs.position,0),0!=r&&t.instanceExt.vertexAttribDivisorANGLE(t.attribs.texCoord,0)),e.activeTexture(e.TEXTURE0),e.uniform1i(t.uniforms.diffuse,0),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.uniform4fv(t.uniforms.viewportOffsetScale,t.viewportOffsetScale),e.drawElements(e.TRIANGLES,t.indexCount,e.UNSIGNED_SHORT,0),t.cardboardUI&&t.cardboardUI.renderNoState(),t.realBindFramebuffer.call(t.gl,e.FRAMEBUFFER,t.framebuffer),t.ctxAttribs.preserveDrawingBuffer||(t.realClearColor.call(e,0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)),t.dirtySubmitFrameBindings||t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.cullFace&&t.realEnable.call(e,e.CULL_FACE),t.depthTest&&t.realEnable.call(e,e.DEPTH_TEST),t.blend&&t.realEnable.call(e,e.BLEND),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realEnable.call(e,e.STENCIL_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),!t.ctxAttribs.alpha&&t.ctxAttribs.preserveDrawingBuffer||t.realClearColor.apply(e,t.clearColor),t.instanceExt&&(0!=n&&t.instanceExt.vertexAttribDivisorANGLE(t.attribs.position,n),0!=r&&t.instanceExt.vertexAttribDivisorANGLE(t.attribs.texCoord,r))})),u()){var r=e.canvas;r.width==t.bufferWidth&&r.height==t.bufferHeight||(t.bufferWidth=r.width,t.bufferHeight=r.height,t.onResize())}},U.prototype.updateDeviceInfo=function(e){var t=this.gl,n=this,r=[t.ARRAY_BUFFER_BINDING,t.ELEMENT_ARRAY_BUFFER_BINDING];O(t,r,(function(t){var r=n.computeMeshVertices_(n.meshWidth,n.meshHeight,e);if(t.bindBuffer(t.ARRAY_BUFFER,n.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW),!n.indexCount){var i=n.computeMeshIndices_(n.meshWidth,n.meshHeight);t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,i,t.STATIC_DRAW),n.indexCount=i.length}}))},U.prototype.computeMeshVertices_=function(e,t,n){for(var r=new Float32Array(2*e*t*5),i=n.getLeftEyeVisibleTanAngles(),a=n.getLeftEyeNoLensTanAngles(),o=n.getLeftEyeVisibleScreenRect(a),u=0,l=0;l<2;l++){for(var c=0;c<t;c++)for(var h=0;h<e;h++,u++){var d=h/(e-1),g=c/(t-1),p=d,f=g,m=s(i[0],i[2],d),v=s(i[3],i[1],g),y=Math.sqrt(m*m+v*v),A=n.distortion.distortInverse(y),b=v*A/y;d=(m*A/y-a[0])/(a[2]-a[0]),g=(b-a[3])/(a[1]-a[3]),d=2*(o.x+d*o.width-.5),g=2*(o.y+g*o.height-.5),r[5*u+0]=d,r[5*u+1]=g,r[5*u+2]=p,r[5*u+3]=f,r[5*u+4]=l}var x=i[2]-i[0];i[0]=-(x+i[0]),i[2]=x-i[2],x=a[2]-a[0],a[0]=-(x+a[0]),a[2]=x-a[2],o.x=1-(o.x+o.width)}return r},U.prototype.computeMeshIndices_=function(e,t){for(var n=new Uint16Array(2*(e-1)*(t-1)*6),r=e/2,i=t/2,a=0,o=0,s=0;s<2;s++)for(var u=0;u<t;u++)for(var l=0;l<e;l++,a++)0!=l&&0!=u&&(l<=r==u<=i?(n[o++]=a,n[o++]=a-e-1,n[o++]=a-e,n[o++]=a-e-1,n[o++]=a,n[o++]=a-1):(n[o++]=a-1,n[o++]=a-e,n[o++]=a,n[o++]=a-e,n[o++]=a-1,n[o++]=a-e-1));return n},U.prototype.getOwnPropertyDescriptor_=function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return void 0!==n.get&&void 0!==n.set||(n.configurable=!0,n.enumerable=!0,n.get=function(){return this.getAttribute(t)},n.set=function(e){this.setAttribute(t,e)}),n};var z=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),j=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),H=Math.PI/180,G=60,V=12,Q=20,W=1,q=.75,K=.3125,X=4,Z=28,Y=1.5;function J(e){this.gl=e,this.attribs={position:0},this.program=E(e,z,j,this.attribs),this.uniforms=_(e,this.program),this.vertexBuffer=e.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}function $(e){this.coefficients=e}J.prototype.destroy=function(){var e=this.gl;this.listener&&e.canvas.removeEventListener("click",this.listener,!1),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer)},J.prototype.listen=function(e,t){var n=this.gl.canvas;this.listener=function(r){var i=n.clientWidth/2,a=Z*Y;r.clientX>i-a&&r.clientX<i+a&&r.clientY>n.clientHeight-a?e(r):r.clientX<a&&r.clientY<a&&t(r)},n.addEventListener("click",this.listener,!1)},J.prototype.onResize=function(){var e=this.gl,t=this,n=[e.ARRAY_BUFFER_BINDING];O(e,n,(function(e){var n=[],r=e.drawingBufferWidth/2,i=Math.max(screen.width,screen.height)*window.devicePixelRatio,a=e.drawingBufferWidth/i*window.devicePixelRatio,o=X*a/2,s=Z*Y*a,u=Z*a/2,l=(Z*Y-Z)*a;function c(e,t){var i=(90-e)*H,a=Math.cos(i),o=Math.sin(i);n.push(K*a*u+r,K*o*u+u),n.push(t*a*u+r,t*o*u+u)}n.push(r-o,s),n.push(r-o,e.drawingBufferHeight),n.push(r+o,s),n.push(r+o,e.drawingBufferHeight),t.gearOffset=n.length/2;for(var h=0;h<=6;h++){var d=h*G;c(d,W),c(d+V,W),c(d+Q,q),c(d+(G-Q),q),c(d+(G-V),W)}function g(t,r){n.push(l+t,e.drawingBufferHeight-l-r)}t.gearVertexCount=n.length/2-t.gearOffset,t.arrowOffset=n.length/2;var p=o/Math.sin(45*H);g(0,u),g(u,0),g(u+p,p),g(p,u+p),g(p,u-p),g(0,u),g(u,2*u),g(u+p,2*u-p),g(p,u-p),g(0,u),g(p,u-o),g(Z*a,u-o),g(p,u+o),g(Z*a,u+o),t.arrowVertexCount=n.length/2-t.arrowOffset,e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW)}))},J.prototype.render=function(){var e=this.gl,t=this,n=[e.CULL_FACE,e.DEPTH_TEST,e.BLEND,e.SCISSOR_TEST,e.STENCIL_TEST,e.COLOR_WRITEMASK,e.VIEWPORT,e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING];O(e,n,(function(e){e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.BLEND),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.colorMask(!0,!0,!0,!0),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.renderNoState()}))},J.prototype.renderNoState=function(){var e=this.gl;e.useProgram(this.program),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.enableVertexAttribArray(this.attribs.position),e.vertexAttribPointer(this.attribs.position,2,e.FLOAT,!1,8,0),e.uniform4f(this.uniforms.color,1,1,1,1),C(this.projMat,0,e.drawingBufferWidth,0,e.drawingBufferHeight,.1,1024),e.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.drawArrays(e.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),e.drawArrays(e.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},$.prototype.distortInverse=function(e){for(var t=0,n=1,r=e-this.distort(t);Math.abs(n-t)>1e-4;){var i=e-this.distort(n),a=n-i*((n-t)/(i-r));t=n,n=a,r=i}return n},$.prototype.distort=function(e){for(var t=e*e,n=0,r=0;r<this.coefficients.length;r++)n=t*(n+this.coefficients[r]);return(n+1)*e};var ee=Math.PI/180,te=180/Math.PI,ne=function(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0};ne.prototype={constructor:ne,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var e=this.length();if(0!==e){var t=1/e;this.multiplyScalar(t)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(e){this.x*=e,this.y*=e,this.z*=e},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,u=s*t+a*r-o*n,l=s*n+o*t-i*r,c=s*r+i*n-a*t,h=-i*t-a*n-o*r;return this.x=u*s+h*-i+l*-o-c*-a,this.y=l*s+h*-a+c*-i-u*-o,this.z=c*s+h*-o+u*-a-l*-i,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}};var re=function(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1};function ie(e){this.width=e.width||y(),this.height=e.height||A(),this.widthMeters=e.widthMeters,this.heightMeters=e.heightMeters,this.bevelMeters=e.bevelMeters}re.prototype={constructor:re,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},setFromEulerXYZ:function(e,t,n){var r=Math.cos(e/2),i=Math.cos(t/2),a=Math.cos(n/2),o=Math.sin(e/2),s=Math.sin(t/2),u=Math.sin(n/2);return this.x=o*i*a+r*s*u,this.y=r*s*a-o*i*u,this.z=r*i*u+o*s*a,this.w=r*i*a-o*s*u,this},setFromEulerYXZ:function(e,t,n){var r=Math.cos(e/2),i=Math.cos(t/2),a=Math.cos(n/2),o=Math.sin(e/2),s=Math.sin(t/2),u=Math.sin(n/2);return this.x=o*i*a+r*s*u,this.y=r*s*a-o*i*u,this.z=r*i*u-o*s*a,this.w=r*i*a+o*s*u,this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this.x=e.x*r,this.y=e.y*r,this.z=e.z*r,this.w=Math.cos(n),this},multiply:function(e){return this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var n=e.x,r=e.y,i=e.z,a=e.w,o=t.x,s=t.y,u=t.z,l=t.w;return this.x=n*l+a*o+r*u-i*s,this.y=r*l+a*s+i*o-n*u,this.z=i*l+a*u+n*s-r*o,this.w=a*l-n*o-r*s-i*u,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this.x,r=this.y,i=this.z,a=this.w,o=a*e.w+n*e.x+r*e.y+i*e.z;if(o<0?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,o=-o):this.copy(e),o>=1)return this.w=a,this.x=n,this.y=r,this.z=i,this;var s=Math.acos(o),u=Math.sqrt(1-o*o);if(Math.abs(u)<.001)return this.w=.5*(a+this.w),this.x=.5*(n+this.x),this.y=.5*(r+this.y),this.z=.5*(i+this.z),this;var l=Math.sin((1-t)*s)/u,c=Math.sin(t*s)/u;return this.w=a*l+this.w*c,this.x=n*l+this.x*c,this.y=r*l+this.y*c,this.z=i*l+this.z*c,this},setFromUnitVectors:function(){var e,t,n=1e-6;return function(r,i){return void 0===e&&(e=new ne),(t=r.dot(i)+1)<n?(t=0,Math.abs(r.x)>Math.abs(r.z)?e.set(-r.y,r.x,0):e.set(0,-r.z,r.y)):e.crossVectors(r,i),this.x=e.x,this.y=e.y,this.z=e.z,this.w=t,this.normalize(),this}}()};var ae=new ie({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),oe=new ie({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),se={CardboardV1:new le({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new le({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function ue(e,t){this.viewer=se.CardboardV2,this.updateDeviceParams(e),this.distortion=new $(this.viewer.distortionCoefficients);for(var n=0;n<t.length;n++){var r=t[n];se[r.id]=new le(r)}}function le(e){this.id=e.id,this.label=e.label,this.fov=e.fov,this.interLensDistance=e.interLensDistance,this.baselineLensDistance=e.baselineLensDistance,this.screenLensDistance=e.screenLensDistance,this.distortionCoefficients=e.distortionCoefficients,this.inverseCoefficients=e.inverseCoefficients}ue.prototype.updateDeviceParams=function(e){this.device=this.determineDevice_(e)||this.device},ue.prototype.getDevice=function(){return this.device},ue.prototype.setViewer=function(e){this.viewer=e,this.distortion=new $(this.viewer.distortionCoefficients)},ue.prototype.determineDevice_=function(e){if(!e)return u()?(console.warn("Using fallback iOS device measurements."),oe):(console.warn("Using fallback Android device measurements."),ae);var t=.0254,n=t/e.xdpi,r=t/e.ydpi;return new ie({widthMeters:n*y(),heightMeters:r*A(),bevelMeters:.001*e.bevelMm})},ue.prototype.getDistortedFieldOfViewLeftEye=function(){var e=this.viewer,t=this.device,n=this.distortion,r=e.screenLensDistance,i=(t.widthMeters-e.interLensDistance)/2,a=e.interLensDistance/2,o=e.baselineLensDistance-t.bevelMeters,s=t.heightMeters-o,u=te*Math.atan(n.distort(i/r)),l=te*Math.atan(n.distort(a/r)),c=te*Math.atan(n.distort(o/r)),h=te*Math.atan(n.distort(s/r));return{leftDegrees:Math.min(u,e.fov),rightDegrees:Math.min(l,e.fov),downDegrees:Math.min(c,e.fov),upDegrees:Math.min(h,e.fov)}},ue.prototype.getLeftEyeVisibleTanAngles=function(){var e=this.viewer,t=this.device,n=this.distortion,r=Math.tan(-ee*e.fov),i=Math.tan(ee*e.fov),a=Math.tan(ee*e.fov),o=Math.tan(-ee*e.fov),s=t.widthMeters/4,u=t.heightMeters/2,l=e.baselineLensDistance-t.bevelMeters-u,c=e.interLensDistance/2-s,h=-l,d=e.screenLensDistance,g=n.distort((c-s)/d),p=n.distort((h+u)/d),f=n.distort((c+s)/d),m=n.distort((h-u)/d),v=new Float32Array(4);return v[0]=Math.max(r,g),v[1]=Math.min(i,p),v[2]=Math.min(a,f),v[3]=Math.max(o,m),v},ue.prototype.getLeftEyeNoLensTanAngles=function(){var e=this.viewer,t=this.device,n=this.distortion,r=new Float32Array(4),i=n.distortInverse(Math.tan(-ee*e.fov)),a=n.distortInverse(Math.tan(ee*e.fov)),o=n.distortInverse(Math.tan(ee*e.fov)),s=n.distortInverse(Math.tan(-ee*e.fov)),u=t.widthMeters/4,l=t.heightMeters/2,c=e.baselineLensDistance-t.bevelMeters-l,h=e.interLensDistance/2-u,d=-c,g=e.screenLensDistance,p=(h-u)/g,f=(d+l)/g,m=(h+u)/g,v=(d-l)/g;return r[0]=Math.max(i,p),r[1]=Math.min(a,f),r[2]=Math.min(o,m),r[3]=Math.max(s,v),r},ue.prototype.getLeftEyeVisibleScreenRect=function(e){var t=this.viewer,n=this.device,r=t.screenLensDistance,i=(n.widthMeters-t.interLensDistance)/2,a=t.baselineLensDistance-n.bevelMeters,o=(e[0]*r+i)/n.widthMeters,s=(e[1]*r+a)/n.heightMeters,u=(e[2]*r+i)/n.widthMeters,l=(e[3]*r+a)/n.heightMeters;return{x:o,y:l,width:u-o,height:s-l}},ue.prototype.getFieldOfViewLeftEye=function(e){return e?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},ue.prototype.getFieldOfViewRightEye=function(e){var t=this.getFieldOfViewLeftEye(e);return{leftDegrees:t.rightDegrees,rightDegrees:t.leftDegrees,upDegrees:t.upDegrees,downDegrees:t.downDegrees}},ue.prototype.getUndistortedFieldOfViewLeftEye=function(){var e=this.getUndistortedParams_();return{leftDegrees:te*Math.atan(e.outerDist),rightDegrees:te*Math.atan(e.innerDist),downDegrees:te*Math.atan(e.bottomDist),upDegrees:te*Math.atan(e.topDist)}},ue.prototype.getUndistortedViewportLeftEye=function(){var e=this.getUndistortedParams_(),t=this.viewer,n=this.device,r=t.screenLensDistance,i=n.widthMeters/r,a=n.heightMeters/r,o=n.width/i,s=n.height/a,u=Math.round((e.eyePosX-e.outerDist)*o),l=Math.round((e.eyePosY-e.bottomDist)*s);return{x:u,y:l,width:Math.round((e.eyePosX+e.innerDist)*o)-u,height:Math.round((e.eyePosY+e.topDist)*s)-l}},ue.prototype.getUndistortedParams_=function(){var e=this.viewer,t=this.device,n=this.distortion,r=e.screenLensDistance,i=e.interLensDistance/2/r,a=t.widthMeters/r,o=t.heightMeters/r,s=a/2-i,u=(e.baselineLensDistance-t.bevelMeters)/r,l=e.fov,c=n.distortInverse(Math.tan(ee*l)),h=Math.min(s,c),d=Math.min(i,c),g=Math.min(u,c);return{outerDist:h,innerDist:d,topDist:Math.min(o-u,c),bottomDist:g,eyePosX:s,eyePosY:u}},ue.Viewers=se;var ce={format:1,last_updated:"2019-11-09T17:36:14Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X00PD/*"},{ua:"ASUS_X00PD"}],dpi:245,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X008D/*"},{ua:"ASUS_X008D"}],dpi:282,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2 XL/*"},{ua:"Pixel 2 XL"}],dpi:537.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3 XL/*"},{ua:"Pixel 3 XL"}],dpi:[558.5,553.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3/*"},{ua:"Pixel 3"}],dpi:442.4,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2/*"},{ua:"Pixel 2"}],dpi:441,bw:3,ac:500},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/BLN-L24/*"},{ua:"HONORBLN-L24"}],dpi:480,bw:4,ac:500},{type:"android",rules:[{mdmh:"Huawei/*/BKL-L09/*"},{ua:"BKL-L09"}],dpi:403,bw:3.47,ac:500},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1001/*"},{ua:"ONE E1001"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1003/*"},{ua:"ONE E1003"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2001/*"},{ua:"ONE A2001"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2003/*"},{ua:"ONE A2003"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3000/*"},{ua:"ONEPLUS A3000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3003/*"},{ua:"ONEPLUS A3003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3010/*"},{ua:"ONEPLUS A3010"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6000/*"},{ua:"ONEPLUS A6000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6003/*"},{ua:"ONEPLUS A6003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6010/*"},{ua:"ONEPLUS A6010"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6013/*"},{ua:"ONEPLUS A6013"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955F/*"},{ua:"SM-G955F"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G960F/*"},{ua:"SM-G960F"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9600/*"},{ua:"SM-G9600"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960T/*"},{ua:"SM-G960T"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960N/*"},{ua:"SM-G960N"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960U/*"},{ua:"SM-G960U"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9608/*"},{ua:"SM-G9608"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960FD/*"},{ua:"SM-G960FD"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960W/*"},{ua:"SM-G960W"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G965F/*"},{ua:"SM-G965F"}],dpi:529,bw:2,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/EML-L29/*"},{ua:"EML-L29"}],dpi:428,bw:3.45,ac:500},{type:"android",rules:[{mdmh:"Nokia/*/Nokia 7.1/*"},{ua:"Nokia 7.1"}],dpi:[432,431.9],bw:3,ac:500},{type:"ios",rules:[{res:[1242,2688]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G570M/*"},{ua:"SM-G570M"}],dpi:320,bw:3.684,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G970F/*"},{ua:"SM-G970F"}],dpi:438,bw:2.281,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G973F/*"},{ua:"SM-G973F"}],dpi:550,bw:2.002,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G975F/*"},{ua:"SM-G975F"}],dpi:522,bw:2.054,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G977F/*"},{ua:"SM-G977F"}],dpi:505,bw:2.334,ac:500},{type:"ios",rules:[{res:[828,1792]}],dpi:326,bw:5,ac:500}]};function he(e,t){if(this.dpdb=ce,this.recalculateDeviceParams_(),e){this.onDeviceParamsUpdated=t;var n=new XMLHttpRequest,r=this;n.open("GET",e,!0),n.addEventListener("load",(function(){r.loading=!1,n.status>=200&&n.status<=299?(r.dpdb=JSON.parse(n.response),r.recalculateDeviceParams_()):console.error("Error loading online DPDB!")})),n.send()}}function de(e){this.xdpi=e.xdpi,this.ydpi=e.ydpi,this.bevelMm=e.bevelMm}function ge(e,t){this.set(e,t)}function pe(e,t){this.kFilter=e,this.isDebug=t,this.currentAccelMeasurement=new ge,this.currentGyroMeasurement=new ge,this.previousGyroMeasurement=new ge,u()?this.filterQ=new re(-1,0,0,1):this.filterQ=new re(1,0,0,1),this.previousFilterQ=new re,this.previousFilterQ.copy(this.filterQ),this.accelQ=new re,this.isOrientationInitialized=!1,this.estimatedGravity=new ne,this.measuredGravity=new ne,this.gyroIntegralQ=new re}function fe(e,t){this.predictionTimeS=e,this.isDebug=t,this.previousQ=new re,this.previousTimestampS=null,this.deltaQ=new re,this.outQ=new re}function me(e,t,n,r){this.yawOnly=n,this.accelerometer=new ne,this.gyroscope=new ne,this.filter=new pe(e,r),this.posePredictor=new fe(t,r),this.isFirefoxAndroid=h(),this.isIOS=u();var i=d();this.isDeviceMotionInRadians=!this.isIOS&&i&&i<66,this.isWithoutDeviceMotion=p()||g(),this.filterToWorldQ=new re,u()?this.filterToWorldQ.setFromAxisAngle(new ne(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new ne(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new re,this.worldToScreenQ=new re,this.originalPoseAdjustQ=new re,this.originalPoseAdjustQ.setFromAxisAngle(new ne(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),m()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new re,this.orientationOut_=new Float32Array(4),this.start()}he.prototype.getDeviceParams=function(){return this.deviceParams},he.prototype.recalculateDeviceParams_=function(){var e=this.calcDeviceParams_();e?(this.deviceParams=e,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},he.prototype.calcDeviceParams_=function(){var e=this.dpdb;if(!e)return console.error("DPDB not available."),null;if(1!=e.format)return console.error("DPDB has unexpected format version."),null;if(!e.devices||!e.devices.length)return console.error("DPDB does not have a devices section."),null;var t=navigator.userAgent||navigator.vendor||window.opera,n=y(),r=A();if(!e.devices)return console.error("DPDB has no devices section."),null;for(var i=0;i<e.devices.length;i++){var a=e.devices[i];if(a.rules)if("ios"==a.type||"android"==a.type){if(u()==("ios"==a.type)){for(var o=!1,s=0;s<a.rules.length;s++){var l=a.rules[s];if(this.ruleMatches_(l,t,n,r)){o=!0;break}}if(o)return new de({xdpi:a.dpi[0]||a.dpi,ydpi:a.dpi[1]||a.dpi,bevelMm:a.bw})}}else console.warn("Device["+i+"] has invalid type.");else console.warn("Device["+i+"] has no rules section.")}return console.warn("No DPDB device match."),null},he.prototype.ruleMatches_=function(e,t,n,r){if(!e.ua&&!e.res)return!1;if(e.ua&&"SM"===e.ua.substring(0,2)&&(e.ua=e.ua.substring(0,7)),e.ua&&t.indexOf(e.ua)<0)return!1;if(e.res){if(!e.res[0]||!e.res[1])return!1;var i=e.res[0],a=e.res[1];if(Math.min(n,r)!=Math.min(i,a)||Math.max(n,r)!=Math.max(i,a))return!1}return!0},ge.prototype.set=function(e,t){this.sample=e,this.timestampS=t},ge.prototype.copy=function(e){this.set(e.sample,e.timestampS)},pe.prototype.addAccelMeasurement=function(e,t){this.currentAccelMeasurement.set(e,t)},pe.prototype.addGyroMeasurement=function(e,t){this.currentGyroMeasurement.set(e,t);var n=t-this.previousGyroMeasurement.timestampS;v(n)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},pe.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var e=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,t=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,e);this.gyroIntegralQ.multiply(t),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(t);var n=new re;n.copy(this.filterQ),n.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(n),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var r=new re;r.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),r.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",te*L(r),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var i=new re;i.copy(this.filterQ),i.multiply(r),this.filterQ.slerp(i,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},pe.prototype.getOrientation=function(){return this.filterQ},pe.prototype.accelToQuaternion_=function(e){var t=new ne;t.copy(e),t.normalize();var n=new re;return n.setFromUnitVectors(new ne(0,0,-1),t),n.inverse(),n},pe.prototype.gyroToQuaternionDelta_=function(e,t){var n=new re,r=new ne;return r.copy(e),r.normalize(),n.setFromAxisAngle(r,e.length()*t),n},fe.prototype.getPrediction=function(e,t,n){if(!this.previousTimestampS)return this.previousQ.copy(e),this.previousTimestampS=n,e;var r=new ne;r.copy(t),r.normalize();var i=t.length();if(i<20*ee)return this.isDebug&&console.log("Moving slowly, at %s deg/s: no prediction",(te*i).toFixed(1)),this.outQ.copy(e),this.previousQ.copy(e),this.outQ;var a=i*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(r,a),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(e),this.previousTimestampS=n,this.outQ},me.prototype.getPosition=function(){return null},me.prototype.getOrientation=function(){var e=void 0;if(this.isWithoutDeviceMotion&&this._deviceOrientationQ)return this.deviceOrientationFixQ=this.deviceOrientationFixQ||function(){var e=(new re).setFromAxisAngle(new ne(0,0,-1),0),t=new re;return-90===window.orientation?t.setFromAxisAngle(new ne(0,1,0),Math.PI/-2):t.setFromAxisAngle(new ne(0,1,0),Math.PI/2),e.multiply(t)}(),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||function(){var e=new re;return e.setFromAxisAngle(new ne(1,0,0),-Math.PI/2),e}(),e=this._deviceOrientationQ,(t=new re).copy(e),t.multiply(this.deviceOrientationFilterToWorldQ),t.multiply(this.resetQ),t.multiply(this.worldToScreenQ),t.multiplyQuaternions(this.deviceOrientationFixQ,t),this.yawOnly&&(t.x=0,t.z=0,t.normalize()),this.orientationOut_[0]=t.x,this.orientationOut_[1]=t.y,this.orientationOut_[2]=t.z,this.orientationOut_[3]=t.w,this.orientationOut_;var t,n=this.filter.getOrientation();return e=this.posePredictor.getPrediction(n,this.gyroscope,this.previousTimestampS),(t=new re).copy(this.filterToWorldQ),t.multiply(this.resetQ),t.multiply(e),t.multiply(this.worldToScreenQ),this.yawOnly&&(t.x=0,t.z=0,t.normalize()),this.orientationOut_[0]=t.x,this.orientationOut_[1]=t.y,this.orientationOut_[2]=t.z,this.orientationOut_[3]=t.w,this.orientationOut_},me.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),m()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},me.prototype.onDeviceOrientation_=function(e){this._deviceOrientationQ=this._deviceOrientationQ||new re;var t=e.alpha,n=e.beta,r=e.gamma;t=(t||0)*Math.PI/180,n=(n||0)*Math.PI/180,r=(r||0)*Math.PI/180,this._deviceOrientationQ.setFromEulerYXZ(n,t,-r)},me.prototype.onDeviceMotion_=function(e){this.updateDeviceMotion_(e)},me.prototype.updateDeviceMotion_=function(e){var t=e.accelerationIncludingGravity,n=e.rotationRate,r=e.timeStamp/1e3,o=r-this.previousTimestampS;return o<0?(B("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),void(this.previousTimestampS=r)):o<=i||o>a?(B("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),void(this.previousTimestampS=r)):(this.accelerometer.set(-t.x,-t.y,-t.z),n&&(f()?this.gyroscope.set(-n.beta,n.alpha,n.gamma):this.gyroscope.set(n.alpha,n.beta,n.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addGyroMeasurement(this.gyroscope,r)),this.filter.addAccelMeasurement(this.accelerometer,r),void(this.previousTimestampS=r))},me.prototype.onOrientationChange_=function(e){this.setScreenTransform_()},me.prototype.onMessage_=function(e){var t=e.data;t&&t.type&&"devicemotion"===t.type.toLowerCase()&&this.updateDeviceMotion_(t.deviceMotionEvent)},me.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new ne(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new ne(0,0,1),Math.PI/2)}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},me.prototype.start=function(){this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),this.onDeviceOrientationCallback_=this.onDeviceOrientation_.bind(this),u()&&k()&&window.addEventListener("message",this.onMessageCallback_),window.addEventListener("orientationchange",this.onOrientationChangeCallback_),this.isWithoutDeviceMotion?window.addEventListener("deviceorientation",this.onDeviceOrientationCallback_):window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},me.prototype.stop=function(){window.removeEventListener("devicemotion",this.onDeviceMotionCallback_),window.removeEventListener("deviceorientation",this.onDeviceOrientationCallback_),window.removeEventListener("orientationchange",this.onOrientationChangeCallback_),window.removeEventListener("message",this.onMessageCallback_)};var ve=60,ye=new ne(1,0,0),Ae=new ne(0,0,1),be=new re;be.setFromAxisAngle(ye,-Math.PI/2),be.multiply((new re).setFromAxisAngle(Ae,Math.PI/2));var xe=function(){function e(n){t(this,e),this.config=n,this.sensor=null,this.fusionSensor=null,this._out=new Float32Array(4),this.api=null,this.errors=[],this._sensorQ=new re,this._outQ=new re,this._onSensorRead=this._onSensorRead.bind(this),this._onSensorError=this._onSensorError.bind(this),this.init()}return n(e,[{key:"init",value:function(){var e=null;try{(e=new RelativeOrientationSensor({frequency:ve,referenceFrame:"screen"})).addEventListener("error",this._onSensorError)}catch(t){this.errors.push(t),"SecurityError"===t.name?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):"ReferenceError"===t.name?this.useDeviceMotion():console.error(t)}e&&(this.api="sensor",this.sensor=e,this.sensor.addEventListener("reading",this._onSensorRead),this.sensor.start())}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new me(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG),this.sensor&&(this.sensor.removeEventListener("reading",this._onSensorRead),this.sensor.removeEventListener("error",this._onSensorError),this.sensor=null)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this._out[0]=this._out[1]=this._out[2]=0,this._out[3]=1,this._out;var e=this.sensor.quaternion;this._sensorQ.set(e[0],e[1],e[2],e[3]);var t=this._outQ;return t.copy(be),t.multiply(this._sensorQ),this.config.YAW_ONLY&&(t.x=t.z=0,t.normalize()),this._out[0]=t.x,this._out[1]=t.y,this._out[2]=t.z,this._out[3]=t.w,this._out}},{key:"_onSensorError",value:function(e){this.errors.push(e.error),"NotAllowedError"===e.error.name?console.error("Permission to access sensor was denied"):"NotReadableError"===e.error.name?console.error("Sensor could not be read"):console.error(e.error),this.useDeviceMotion()}},{key:"_onSensorRead",value:function(){}}]),e}(),we="<svg width='198' height='240' viewBox='0 0 198 240' xmlns='http://www.w3.org/2000/svg'><g fill='none' fill-rule='evenodd'><path d='M149.625 109.527l6.737 3.891v.886c0 .177.013.36.038.549.01.081.02.162.027.242.14 1.415.974 2.998 2.105 3.999l5.72 5.062.081-.09s4.382-2.53 5.235-3.024l25.97 14.993v54.001c0 .771-.386 1.217-.948 1.217-.233 0-.495-.076-.772-.236l-23.967-13.838-.014.024-27.322 15.775-.85-1.323c-4.731-1.529-9.748-2.74-14.951-3.61a.27.27 0 0 0-.007.024l-5.067 16.961-7.891 4.556-.037-.063v27.59c0 .772-.386 1.217-.948 1.217-.232 0-.495-.076-.772-.236l-42.473-24.522c-.95-.549-1.72-1.877-1.72-2.967v-1.035l-.021.047a5.111 5.111 0 0 0-1.816-.399 5.682 5.682 0 0 0-.546.001 13.724 13.724 0 0 1-1.918-.041c-1.655-.153-3.2-.6-4.404-1.296l-46.576-26.89.005.012-10.278-18.75c-1.001-1.827-.241-4.216 1.698-5.336l56.011-32.345a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.659 3.227 1.853l.005-.003.227.413-.006.004a9.63 9.63 0 0 0 1.477 2.018l.277.27c1.914 1.85 4.468 2.801 7.113 2.801 1.949 0 3.948-.517 5.775-1.572.013 0 7.319-4.219 7.319-4.219a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.658 3.226 1.853l3.25 5.928.022-.018 6.785 3.917-.105-.182 46.881-26.965m0-1.635c-.282 0-.563.073-.815.218l-46.169 26.556-5.41-3.124-3.005-5.481c-.913-1.667-2.699-2.702-4.66-2.703-1.011 0-2.02.274-2.917.792a3825 3825 0 0 1-7.275 4.195l-.044.024a9.937 9.937 0 0 1-4.957 1.353c-2.292 0-4.414-.832-5.976-2.342l-.252-.245a7.992 7.992 0 0 1-1.139-1.534 1.379 1.379 0 0 0-.06-.122l-.227-.414a1.718 1.718 0 0 0-.095-.154c-.938-1.574-2.673-2.545-4.571-2.545-1.011 0-2.02.274-2.917.792L3.125 155.502c-2.699 1.559-3.738 4.94-2.314 7.538l10.278 18.75c.177.323.448.563.761.704l46.426 26.804c1.403.81 3.157 1.332 5.072 1.508a15.661 15.661 0 0 0 2.146.046 4.766 4.766 0 0 1 .396 0c.096.004.19.011.283.022.109 1.593 1.159 3.323 2.529 4.114l42.472 24.522c.524.302 1.058.455 1.59.455 1.497 0 2.583-1.2 2.583-2.852v-26.562l7.111-4.105a1.64 1.64 0 0 0 .749-.948l4.658-15.593c4.414.797 8.692 1.848 12.742 3.128l.533.829a1.634 1.634 0 0 0 2.193.531l26.532-15.317L193 192.433c.523.302 1.058.455 1.59.455 1.497 0 2.583-1.199 2.583-2.852v-54.001c0-.584-.312-1.124-.818-1.416l-25.97-14.993a1.633 1.633 0 0 0-1.636.001c-.606.351-2.993 1.73-4.325 2.498l-4.809-4.255c-.819-.725-1.461-1.933-1.561-2.936a7.776 7.776 0 0 0-.033-.294 2.487 2.487 0 0 1-.023-.336v-.886c0-.584-.312-1.123-.817-1.416l-6.739-3.891a1.633 1.633 0 0 0-.817-.219' fill='#455A64'/><path d='M96.027 132.636l46.576 26.891c1.204.695 1.979 1.587 2.242 2.541l-.01.007-81.374 46.982h-.001c-1.654-.152-3.199-.6-4.403-1.295l-46.576-26.891 83.546-48.235' fill='#FAFAFA'/><path d='M63.461 209.174c-.008 0-.015 0-.022-.002-1.693-.156-3.228-.609-4.441-1.309l-46.576-26.89a.118.118 0 0 1 0-.203l83.546-48.235a.117.117 0 0 1 .117 0l46.576 26.891c1.227.708 2.021 1.612 2.296 2.611a.116.116 0 0 1-.042.124l-.021.016-81.375 46.981a.11.11 0 0 1-.058.016zm-50.747-28.303l46.401 26.79c1.178.68 2.671 1.121 4.32 1.276l81.272-46.922c-.279-.907-1.025-1.73-2.163-2.387l-46.517-26.857-83.313 48.1z' fill='#607D8B'/><path d='M148.327 165.471a5.85 5.85 0 0 1-.546.001c-1.894-.083-3.302-1.038-3.145-2.132a2.693 2.693 0 0 0-.072-1.105l-81.103 46.822c.628.058 1.272.073 1.918.042.182-.009.364-.009.546-.001 1.894.083 3.302 1.038 3.145 2.132l79.257-45.759' fill='#FFF'/><path d='M69.07 211.347a.118.118 0 0 1-.115-.134c.045-.317-.057-.637-.297-.925-.505-.61-1.555-1.022-2.738-1.074a5.966 5.966 0 0 0-.535.001 14.03 14.03 0 0 1-1.935-.041.117.117 0 0 1-.103-.092.116.116 0 0 1 .055-.126l81.104-46.822a.117.117 0 0 1 .171.07c.104.381.129.768.074 1.153-.045.316.057.637.296.925.506.61 1.555 1.021 2.739 1.073.178.008.357.008.535-.001a.117.117 0 0 1 .064.218l-79.256 45.759a.114.114 0 0 1-.059.016zm-3.405-2.372c.089 0 .177.002.265.006 1.266.056 2.353.488 2.908 1.158.227.274.35.575.36.882l78.685-45.429c-.036 0-.072-.001-.107-.003-1.267-.056-2.354-.489-2.909-1.158-.282-.34-.402-.724-.347-1.107a2.604 2.604 0 0 0-.032-.91L63.846 208.97a13.91 13.91 0 0 0 1.528.012c.097-.005.194-.007.291-.007z' fill='#607D8B'/><path d='M2.208 162.134c-1.001-1.827-.241-4.217 1.698-5.337l56.011-32.344c1.939-1.12 4.324-.546 5.326 1.281l.232.41a9.344 9.344 0 0 0 1.47 2.021l.278.27c3.325 3.214 8.583 3.716 12.888 1.23l7.319-4.22c1.94-1.119 4.324-.546 5.325 1.282l3.25 5.928-83.519 48.229-10.278-18.75z' fill='#FAFAFA'/><path d='M12.486 181.001a.112.112 0 0 1-.031-.005.114.114 0 0 1-.071-.056L2.106 162.19c-1.031-1.88-.249-4.345 1.742-5.494l56.01-32.344a4.328 4.328 0 0 1 2.158-.588c1.415 0 2.65.702 3.311 1.882.01.008.018.017.024.028l.227.414a.122.122 0 0 1 .013.038 9.508 9.508 0 0 0 1.439 1.959l.275.266c1.846 1.786 4.344 2.769 7.031 2.769 1.977 0 3.954-.538 5.717-1.557a.148.148 0 0 1 .035-.013l7.284-4.206a4.321 4.321 0 0 1 2.157-.588c1.427 0 2.672.716 3.329 1.914l3.249 5.929a.116.116 0 0 1-.044.157l-83.518 48.229a.116.116 0 0 1-.059.016zm49.53-57.004c-.704 0-1.41.193-2.041.557l-56.01 32.345c-1.882 1.086-2.624 3.409-1.655 5.179l10.221 18.645 83.317-48.112-3.195-5.829c-.615-1.122-1.783-1.792-3.124-1.792a4.08 4.08 0 0 0-2.04.557l-7.317 4.225a.148.148 0 0 1-.035.013 11.7 11.7 0 0 1-5.801 1.569c-2.748 0-5.303-1.007-7.194-2.835l-.278-.27a9.716 9.716 0 0 1-1.497-2.046.096.096 0 0 1-.013-.037l-.191-.347a.11.11 0 0 1-.023-.029c-.615-1.123-1.783-1.793-3.124-1.793z' fill='#607D8B'/><path d='M42.434 155.808c-2.51-.001-4.697-1.258-5.852-3.365-1.811-3.304-.438-7.634 3.059-9.654l12.291-7.098a7.599 7.599 0 0 1 3.789-1.033c2.51 0 4.697 1.258 5.852 3.365 1.811 3.304.439 7.634-3.059 9.654l-12.291 7.098a7.606 7.606 0 0 1-3.789 1.033zm13.287-20.683a7.128 7.128 0 0 0-3.555.971l-12.291 7.098c-3.279 1.893-4.573 5.942-2.883 9.024 1.071 1.955 3.106 3.122 5.442 3.122a7.13 7.13 0 0 0 3.556-.97l12.291-7.098c3.279-1.893 4.572-5.942 2.883-9.024-1.072-1.955-3.106-3.123-5.443-3.123z' fill='#607D8B'/><path d='M149.588 109.407l6.737 3.89v.887c0 .176.013.36.037.549.011.081.02.161.028.242.14 1.415.973 2.998 2.105 3.999l7.396 6.545c.177.156.358.295.541.415 1.579 1.04 2.95.466 3.062-1.282.049-.784.057-1.595.023-2.429l-.003-.16v-1.151l25.987 15.003v54c0 1.09-.77 1.53-1.72.982l-42.473-24.523c-.95-.548-1.72-1.877-1.72-2.966v-34.033' fill='#FAFAFA'/><path d='M194.553 191.25c-.257 0-.54-.085-.831-.253l-42.472-24.521c-.981-.567-1.779-1.943-1.779-3.068v-34.033h.234v34.033c0 1.051.745 2.336 1.661 2.866l42.473 24.521c.424.245.816.288 1.103.122.285-.164.442-.52.442-1.002v-53.933l-25.753-14.868.003 1.106c.034.832.026 1.654-.024 2.439-.054.844-.396 1.464-.963 1.746-.619.309-1.45.173-2.28-.373a5.023 5.023 0 0 1-.553-.426l-7.397-6.544c-1.158-1.026-1.999-2.625-2.143-4.076a9.624 9.624 0 0 0-.027-.238 4.241 4.241 0 0 1-.038-.564v-.82l-6.68-3.856.117-.202 6.738 3.89.058.034v.954c0 .171.012.351.036.533.011.083.021.165.029.246.138 1.395.948 2.935 2.065 3.923l7.397 6.545c.173.153.35.289.527.406.758.499 1.504.63 2.047.359.49-.243.786-.795.834-1.551.05-.778.057-1.591.024-2.417l-.004-.163v-1.355l.175.1 25.987 15.004.059.033v54.068c0 .569-.198.996-.559 1.204a1.002 1.002 0 0 1-.506.131' fill='#607D8B'/><path d='M145.685 163.161l24.115 13.922-25.978 14.998-1.462-.307c-6.534-2.17-13.628-3.728-21.019-4.616-4.365-.524-8.663 1.096-9.598 3.62a2.746 2.746 0 0 0-.011 1.928c1.538 4.267 4.236 8.363 7.995 12.135l.532.845-25.977 14.997-24.115-13.922 75.518-43.6' fill='#FFF'/><path d='M94.282 220.818l-.059-.033-24.29-14.024.175-.101 75.577-43.634.058.033 24.29 14.024-26.191 15.122-.045-.01-1.461-.307c-6.549-2.174-13.613-3.725-21.009-4.614a13.744 13.744 0 0 0-1.638-.097c-3.758 0-7.054 1.531-7.837 3.642a2.62 2.62 0 0 0-.01 1.848c1.535 4.258 4.216 8.326 7.968 12.091l.016.021.526.835.006.01.064.102-.105.061-25.977 14.998-.058.033zm-23.881-14.057l23.881 13.788 24.802-14.32c.546-.315.846-.489 1.017-.575l-.466-.74c-3.771-3.787-6.467-7.881-8.013-12.168a2.851 2.851 0 0 1 .011-2.008c.815-2.199 4.203-3.795 8.056-3.795.557 0 1.117.033 1.666.099 7.412.891 14.491 2.445 21.041 4.621.836.175 1.215.254 1.39.304l25.78-14.884-23.881-13.788-75.284 43.466z' fill='#607D8B'/><path d='M167.23 125.979v50.871l-27.321 15.773-6.461-14.167c-.91-1.996-3.428-1.738-5.624.574a10.238 10.238 0 0 0-2.33 4.018l-6.46 21.628-27.322 15.774v-50.871l75.518-43.6' fill='#FFF'/><path d='M91.712 220.567a.127.127 0 0 1-.059-.016.118.118 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.519-43.6a.117.117 0 0 1 .175.101v50.871c0 .041-.023.08-.059.1l-27.321 15.775a.118.118 0 0 1-.094.01.12.12 0 0 1-.071-.063l-6.46-14.168c-.375-.822-1.062-1.275-1.934-1.275-1.089 0-2.364.686-3.5 1.881a10.206 10.206 0 0 0-2.302 3.972l-6.46 21.627a.118.118 0 0 1-.054.068L91.77 220.551a.12.12 0 0 1-.058.016zm.117-50.92v50.601l27.106-15.65 6.447-21.583a10.286 10.286 0 0 1 2.357-4.065c1.18-1.242 2.517-1.954 3.669-1.954.969 0 1.731.501 2.146 1.411l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M168.543 126.213v50.87l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.624.574a10.248 10.248 0 0 0-2.33 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6' fill='#FFF'/><path d='M93.025 220.8a.123.123 0 0 1-.059-.015.12.12 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.518-43.6a.112.112 0 0 1 .117 0c.036.02.059.059.059.1v50.871a.116.116 0 0 1-.059.101l-27.321 15.774a.111.111 0 0 1-.094.01.115.115 0 0 1-.071-.062l-6.46-14.168c-.375-.823-1.062-1.275-1.935-1.275-1.088 0-2.363.685-3.499 1.881a10.19 10.19 0 0 0-2.302 3.971l-6.461 21.628a.108.108 0 0 1-.053.067l-27.322 15.775a.12.12 0 0 1-.058.015zm.117-50.919v50.6l27.106-15.649 6.447-21.584a10.293 10.293 0 0 1 2.357-4.065c1.179-1.241 2.516-1.954 3.668-1.954.969 0 1.732.502 2.147 1.412l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M169.8 177.083l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.625.574a10.246 10.246 0 0 0-2.329 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6v50.87z' fill='#FAFAFA'/><path d='M94.282 220.917a.234.234 0 0 1-.234-.233v-50.871c0-.083.045-.161.117-.202l75.518-43.601a.234.234 0 1 1 .35.202v50.871a.233.233 0 0 1-.116.202l-27.322 15.775a.232.232 0 0 1-.329-.106l-6.461-14.168c-.36-.789-.992-1.206-1.828-1.206-1.056 0-2.301.672-3.415 1.844a10.099 10.099 0 0 0-2.275 3.924l-6.46 21.628a.235.235 0 0 1-.107.136l-27.322 15.774a.23.23 0 0 1-.116.031zm.233-50.969v50.331l26.891-15.525 6.434-21.539a10.41 10.41 0 0 1 2.384-4.112c1.201-1.265 2.569-1.991 3.753-1.991 1.018 0 1.818.526 2.253 1.48l6.354 13.934 26.982-15.578v-50.331l-75.051 43.331z' fill='#607D8B'/><path d='M109.894 199.943c-1.774 0-3.241-.725-4.244-2.12a.224.224 0 0 1 .023-.294.233.233 0 0 1 .301-.023c.78.547 1.705.827 2.75.827 1.323 0 2.754-.439 4.256-1.306 5.311-3.067 9.631-10.518 9.631-16.611 0-1.927-.442-3.56-1.278-4.724a.232.232 0 0 1 .323-.327c1.671 1.172 2.591 3.381 2.591 6.219 0 6.242-4.426 13.863-9.865 17.003-1.574.908-3.084 1.356-4.488 1.356zm-2.969-1.542c.813.651 1.82.877 2.968.877h.001c1.321 0 2.753-.327 4.254-1.194 5.311-3.067 9.632-10.463 9.632-16.556 0-1.979-.463-3.599-1.326-4.761.411 1.035.625 2.275.625 3.635 0 6.243-4.426 13.883-9.865 17.023-1.574.909-3.084 1.317-4.49 1.317-.641 0-1.243-.149-1.799-.341z' fill='#607D8B'/><path d='M113.097 197.23c5.384-3.108 9.748-10.636 9.748-16.814 0-2.051-.483-3.692-1.323-4.86-1.784-1.252-4.374-1.194-7.257.47-5.384 3.108-9.748 10.636-9.748 16.814 0 2.051.483 3.692 1.323 4.86 1.784 1.252 4.374 1.194 7.257-.47' fill='#FAFAFA'/><path d='M108.724 198.614c-1.142 0-2.158-.213-3.019-.817-.021-.014-.04.014-.055-.007-.894-1.244-1.367-2.948-1.367-4.973 0-6.242 4.426-13.864 9.865-17.005 1.574-.908 3.084-1.363 4.49-1.363 1.142 0 2.158.309 3.018.913a.23.23 0 0 1 .056.056c.894 1.244 1.367 2.972 1.367 4.997 0 6.243-4.426 13.783-9.865 16.923-1.574.909-3.084 1.276-4.49 1.276zm-2.718-1.109c.774.532 1.688.776 2.718.776 1.323 0 2.754-.413 4.256-1.28 5.311-3.066 9.631-10.505 9.631-16.598 0-1.909-.434-3.523-1.255-4.685-.774-.533-1.688-.799-2.718-.799-1.323 0-2.755.441-4.256 1.308-5.311 3.066-9.631 10.506-9.631 16.599 0 1.909.434 3.517 1.255 4.679z' fill='#607D8B'/><path d='M149.318 114.262l-9.984 8.878 15.893 11.031 5.589-6.112-11.498-13.797' fill='#FAFAFA'/><path d='M169.676 120.84l-9.748 5.627c-3.642 2.103-9.528 2.113-13.147.024-3.62-2.089-3.601-5.488.041-7.591l9.495-5.608-6.729-3.885-81.836 47.071 45.923 26.514 3.081-1.779c.631-.365.869-.898.618-1.39-2.357-4.632-2.593-9.546-.683-14.262 5.638-13.92 24.509-24.815 48.618-28.07 8.169-1.103 16.68-.967 24.704.394.852.145 1.776.008 2.407-.357l3.081-1.778-25.825-14.91' fill='#FAFAFA'/><path d='M113.675 183.459a.47.47 0 0 1-.233-.062l-45.924-26.515a.468.468 0 0 1 .001-.809l81.836-47.071a.467.467 0 0 1 .466 0l6.729 3.885a.467.467 0 0 1-.467.809l-6.496-3.75-80.9 46.533 44.988 25.973 2.848-1.644c.192-.111.62-.409.435-.773-2.416-4.748-2.658-9.814-.7-14.65 2.806-6.927 8.885-13.242 17.582-18.263 8.657-4.998 19.518-8.489 31.407-10.094 8.198-1.107 16.79-.97 24.844.397.739.125 1.561.007 2.095-.301l2.381-1.374-25.125-14.506a.467.467 0 0 1 .467-.809l25.825 14.91a.467.467 0 0 1 0 .809l-3.081 1.779c-.721.417-1.763.575-2.718.413-7.963-1.351-16.457-1.486-24.563-.392-11.77 1.589-22.512 5.039-31.065 9.977-8.514 4.916-14.456 11.073-17.183 17.805-1.854 4.578-1.623 9.376.666 13.875.37.725.055 1.513-.8 2.006l-3.081 1.78a.476.476 0 0 1-.234.062' fill='#455A64'/><path d='M153.316 128.279c-2.413 0-4.821-.528-6.652-1.586-1.818-1.049-2.82-2.461-2.82-3.975 0-1.527 1.016-2.955 2.861-4.02l9.493-5.607a.233.233 0 1 1 .238.402l-9.496 5.609c-1.696.979-2.628 2.263-2.628 3.616 0 1.34.918 2.608 2.585 3.571 3.549 2.049 9.343 2.038 12.914-.024l9.748-5.628a.234.234 0 0 1 .234.405l-9.748 5.628c-1.858 1.072-4.296 1.609-6.729 1.609' fill='#607D8B'/><path d='M113.675 182.992l-45.913-26.508M113.675 183.342a.346.346 0 0 1-.175-.047l-45.913-26.508a.35.35 0 1 1 .35-.607l45.913 26.508a.35.35 0 0 1-.175.654' fill='#455A64'/><path d='M67.762 156.484v54.001c0 1.09.77 2.418 1.72 2.967l42.473 24.521c.95.549 1.72.11 1.72-.98v-54.001' fill='#FAFAFA'/><path d='M112.727 238.561c-.297 0-.62-.095-.947-.285l-42.473-24.521c-1.063-.613-1.895-2.05-1.895-3.27v-54.001a.35.35 0 1 1 .701 0v54.001c0 .96.707 2.18 1.544 2.663l42.473 24.522c.344.198.661.243.87.122.206-.119.325-.411.325-.799v-54.001a.35.35 0 1 1 .7 0v54.001c0 .655-.239 1.154-.675 1.406a1.235 1.235 0 0 1-.623.162' fill='#455A64'/><path d='M112.86 147.512h-.001c-2.318 0-4.499-.522-6.142-1.471-1.705-.984-2.643-2.315-2.643-3.749 0-1.445.952-2.791 2.68-3.788l12.041-6.953c1.668-.962 3.874-1.493 6.212-1.493 2.318 0 4.499.523 6.143 1.472 1.704.984 2.643 2.315 2.643 3.748 0 1.446-.952 2.791-2.68 3.789l-12.042 6.952c-1.668.963-3.874 1.493-6.211 1.493zm12.147-16.753c-2.217 0-4.298.497-5.861 1.399l-12.042 6.952c-1.502.868-2.33 1.998-2.33 3.182 0 1.173.815 2.289 2.293 3.142 1.538.889 3.596 1.378 5.792 1.378h.001c2.216 0 4.298-.497 5.861-1.399l12.041-6.953c1.502-.867 2.33-1.997 2.33-3.182 0-1.172-.814-2.288-2.292-3.142-1.539-.888-3.596-1.377-5.793-1.377z' fill='#607D8B'/><path d='M165.63 123.219l-5.734 3.311c-3.167 1.828-8.286 1.837-11.433.02-3.147-1.817-3.131-4.772.036-6.601l5.734-3.31 11.397 6.58' fill='#FAFAFA'/><path d='M154.233 117.448l9.995 5.771-4.682 2.704c-1.434.827-3.352 1.283-5.399 1.283-2.029 0-3.923-.449-5.333-1.263-1.29-.744-2-1.694-2-2.674 0-.991.723-1.955 2.036-2.713l5.383-3.108m0-.809l-5.734 3.31c-3.167 1.829-3.183 4.784-.036 6.601 1.568.905 3.623 1.357 5.684 1.357 2.077 0 4.159-.46 5.749-1.377l5.734-3.311-11.397-6.58M145.445 179.667c-1.773 0-3.241-.85-4.243-2.245-.067-.092-.057-.275.023-.356.08-.081.207-.12.3-.055.781.548 1.706.812 2.751.811 1.322 0 2.754-.446 4.256-1.313 5.31-3.066 9.631-10.522 9.631-16.615 0-1.927-.442-3.562-1.279-4.726a.235.235 0 0 1 .024-.301.232.232 0 0 1 .3-.027c1.67 1.172 2.59 3.38 2.59 6.219 0 6.242-4.425 13.987-9.865 17.127-1.573.908-3.083 1.481-4.488 1.481zM142.476 178c.814.651 1.82 1.002 2.969 1.002 1.322 0 2.753-.452 4.255-1.32 5.31-3.065 9.631-10.523 9.631-16.617 0-1.98-.463-3.63-1.325-4.793.411 1.035.624 2.26.624 3.62 0 6.242-4.425 13.875-9.865 17.015-1.573.909-3.084 1.376-4.489 1.376a5.49 5.49 0 0 1-1.8-.283z' fill='#607D8B'/><path d='M148.648 176.704c5.384-3.108 9.748-10.636 9.748-16.813 0-2.052-.483-3.693-1.322-4.861-1.785-1.252-4.375-1.194-7.258.471-5.383 3.108-9.748 10.636-9.748 16.813 0 2.051.484 3.692 1.323 4.86 1.785 1.253 4.374 1.195 7.257-.47' fill='#FAFAFA'/><path d='M144.276 178.276c-1.143 0-2.158-.307-3.019-.911a.217.217 0 0 1-.055-.054c-.895-1.244-1.367-2.972-1.367-4.997 0-6.241 4.425-13.875 9.865-17.016 1.573-.908 3.084-1.369 4.489-1.369 1.143 0 2.158.307 3.019.91a.24.24 0 0 1 .055.055c.894 1.244 1.367 2.971 1.367 4.997 0 6.241-4.425 13.875-9.865 17.016-1.573.908-3.084 1.369-4.489 1.369zm-2.718-1.172c.773.533 1.687.901 2.718.901 1.322 0 2.754-.538 4.256-1.405 5.31-3.066 9.631-10.567 9.631-16.661 0-1.908-.434-3.554-1.256-4.716-.774-.532-1.688-.814-2.718-.814-1.322 0-2.754.433-4.256 1.3-5.31 3.066-9.631 10.564-9.631 16.657 0 1.91.434 3.576 1.256 4.738z' fill='#607D8B'/><path d='M150.72 172.361l-.363-.295a24.105 24.105 0 0 0 2.148-3.128 24.05 24.05 0 0 0 1.977-4.375l.443.149a24.54 24.54 0 0 1-2.015 4.46 24.61 24.61 0 0 1-2.19 3.189M115.917 191.514l-.363-.294a24.174 24.174 0 0 0 2.148-3.128 24.038 24.038 0 0 0 1.976-4.375l.443.148a24.48 24.48 0 0 1-2.015 4.461 24.662 24.662 0 0 1-2.189 3.188M114 237.476V182.584 237.476' fill='#607D8B'/><g><path d='M81.822 37.474c.017-.135-.075-.28-.267-.392-.327-.188-.826-.21-1.109-.045l-6.012 3.471c-.131.076-.194.178-.191.285.002.132.002.461.002.578v.043l-.007.128-6.591 3.779c-.001 0-2.077 1.046-2.787 5.192 0 0-.912 6.961-.898 19.745.015 12.57.606 17.07 1.167 21.351.22 1.684 3.001 2.125 3.001 2.125.331.04.698-.027 1.08-.248l75.273-43.551c1.808-1.069 2.667-3.719 3.056-6.284 1.213-7.99 1.675-32.978-.275-39.878-.196-.693-.51-1.083-.868-1.282l-2.086-.79c-.727.028-1.416.467-1.534.535L82.032 37.072l-.21.402' fill='#FFF'/><path d='M144.311 1.701l2.085.79c.358.199.672.589.868 1.282 1.949 6.9 1.487 31.887.275 39.878-.39 2.565-1.249 5.215-3.056 6.284L69.21 93.486a1.78 1.78 0 0 1-.896.258l-.183-.011c0 .001-2.782-.44-3.003-2.124-.56-4.282-1.151-8.781-1.165-21.351-.015-12.784.897-19.745.897-19.745.71-4.146 2.787-5.192 2.787-5.192l6.591-3.779.007-.128v-.043c0-.117 0-.446-.002-.578-.003-.107.059-.21.191-.285l6.012-3.472a.98.98 0 0 1 .481-.11c.218 0 .449.053.627.156.193.112.285.258.268.392l.211-.402 60.744-34.836c.117-.068.806-.507 1.534-.535m0-.997l-.039.001c-.618.023-1.283.244-1.974.656l-.021.012-60.519 34.706a2.358 2.358 0 0 0-.831-.15c-.365 0-.704.084-.98.244l-6.012 3.471c-.442.255-.699.69-.689 1.166l.001.15-6.08 3.487c-.373.199-2.542 1.531-3.29 5.898l-.006.039c-.009.07-.92 7.173-.906 19.875.014 12.62.603 17.116 1.172 21.465l.002.015c.308 2.355 3.475 2.923 3.836 2.98l.034.004c.101.013.204.019.305.019a2.77 2.77 0 0 0 1.396-.392l75.273-43.552c1.811-1.071 2.999-3.423 3.542-6.997 1.186-7.814 1.734-33.096-.301-40.299-.253-.893-.704-1.527-1.343-1.882l-.132-.062-2.085-.789a.973.973 0 0 0-.353-.065' fill='#455A64'/><path d='M128.267 11.565l1.495.434-56.339 32.326' fill='#FFF'/><path d='M74.202 90.545a.5.5 0 0 1-.25-.931l18.437-10.645a.499.499 0 1 1 .499.864L74.451 90.478l-.249.067M75.764 42.654l-.108-.062.046-.171 5.135-2.964.17.045-.045.171-5.135 2.964-.063.017M70.52 90.375V46.421l.063-.036L137.84 7.554v43.954l-.062.036L70.52 90.375zm.25-43.811v43.38l66.821-38.579V7.985L70.77 46.564z' fill='#607D8B'/><path d='M86.986 83.182c-.23.149-.612.384-.849.523l-11.505 6.701c-.237.139-.206.252.068.252h.565c.275 0 .693-.113.93-.252L87.7 83.705c.237-.139.428-.253.425-.256a11.29 11.29 0 0 1-.006-.503c0-.274-.188-.377-.418-.227l-.715.463' fill='#607D8B'/><path d='M75.266 90.782H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.236-.138.615-.371.844-.519l.715-.464a.488.488 0 0 1 .266-.089c.172 0 .345.13.345.421 0 .214.001.363.003.437l.006.004-.004.069c-.003.075-.003.075-.486.356l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.108.866-.234l11.505-6.702c.168-.098.294-.173.361-.214-.004-.084-.004-.218-.004-.437l-.095-.171-.131.049-.714.463c-.232.15-.616.386-.854.525l-11.505 6.702-.029.018z' fill='#607D8B'/><path d='M75.266 89.871H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.258-.151.694-.268.993-.268h.565c.2 0 .316.056.346.166.03.11-.043.217-.215.317l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.107.866-.234l11.505-6.702.03-.018-.035-.001h-.565c-.252 0-.649.108-.867.234l-11.505 6.702-.029.018zM74.37 90.801v-1.247 1.247' fill='#607D8B'/><path d='M68.13 93.901c-.751-.093-1.314-.737-1.439-1.376-.831-4.238-1.151-8.782-1.165-21.352-.015-12.784.897-19.745.897-19.745.711-4.146 2.787-5.192 2.787-5.192l74.859-43.219c.223-.129 2.487-1.584 3.195.923 1.95 6.9 1.488 31.887.275 39.878-.389 2.565-1.248 5.215-3.056 6.283L69.21 93.653c-.382.221-.749.288-1.08.248 0 0-2.781-.441-3.001-2.125-.561-4.281-1.152-8.781-1.167-21.351-.014-12.784.898-19.745.898-19.745.71-4.146 2.787-5.191 2.787-5.191l6.598-3.81.871-.119 6.599-3.83.046-.461L68.13 93.901' fill='#FAFAFA'/><path d='M68.317 94.161l-.215-.013h-.001l-.244-.047c-.719-.156-2.772-.736-2.976-2.292-.568-4.34-1.154-8.813-1.168-21.384-.014-12.654.891-19.707.9-19.777.725-4.231 2.832-5.338 2.922-5.382l6.628-3.827.87-.119 6.446-3.742.034-.334a.248.248 0 0 1 .273-.223.248.248 0 0 1 .223.272l-.059.589-6.752 3.919-.87.118-6.556 3.785c-.031.016-1.99 1.068-2.666 5.018-.007.06-.908 7.086-.894 19.702.014 12.539.597 16.996 1.161 21.305.091.691.689 1.154 1.309 1.452a1.95 1.95 0 0 1-.236-.609c-.781-3.984-1.155-8.202-1.17-21.399-.014-12.653.891-19.707.9-19.777.725-4.231 2.832-5.337 2.922-5.382-.004.001 74.444-42.98 74.846-43.212l.028-.017c.904-.538 1.72-.688 2.36-.433.555.221.949.733 1.172 1.52 2.014 7.128 1.46 32.219.281 39.983-.507 3.341-1.575 5.515-3.175 6.462L69.335 93.869a2.023 2.023 0 0 1-1.018.292zm-.147-.507c.293.036.604-.037.915-.217l75.273-43.551c1.823-1.078 2.602-3.915 2.934-6.106 1.174-7.731 1.731-32.695-.268-39.772-.178-.631-.473-1.032-.876-1.192-.484-.193-1.166-.052-1.921.397l-.034.021-74.858 43.218c-.031.017-1.989 1.069-2.666 5.019-.007.059-.908 7.085-.894 19.702.015 13.155.386 17.351 1.161 21.303.09.461.476.983 1.037 1.139.114.025.185.037.196.039h.001z' fill='#455A64'/><path d='M69.317 68.982c.489-.281.885-.056.885.505 0 .56-.396 1.243-.885 1.525-.488.282-.884.057-.884-.504 0-.56.396-1.243.884-1.526' fill='#FFF'/><path d='M68.92 71.133c-.289 0-.487-.228-.487-.625 0-.56.396-1.243.884-1.526a.812.812 0 0 1 .397-.121c.289 0 .488.229.488.626 0 .56-.396 1.243-.885 1.525a.812.812 0 0 1-.397.121m.794-2.459a.976.976 0 0 0-.49.147c-.548.317-.978 1.058-.978 1.687 0 .486.271.812.674.812a.985.985 0 0 0 .491-.146c.548-.317.978-1.057.978-1.687 0-.486-.272-.813-.675-.813' fill='#8097A2'/><path d='M68.92 70.947c-.271 0-.299-.307-.299-.439 0-.491.361-1.116.79-1.363a.632.632 0 0 1 .303-.096c.272 0 .301.306.301.438 0 .491-.363 1.116-.791 1.364a.629.629 0 0 1-.304.096m.794-2.086a.812.812 0 0 0-.397.121c-.488.283-.884.966-.884 1.526 0 .397.198.625.487.625a.812.812 0 0 0 .397-.121c.489-.282.885-.965.885-1.525 0-.397-.199-.626-.488-.626' fill='#8097A2'/><path d='M69.444 85.35c.264-.152.477-.031.477.272 0 .303-.213.67-.477.822-.263.153-.477.031-.477-.271 0-.302.214-.671.477-.823' fill='#FFF'/><path d='M69.23 86.51c-.156 0-.263-.123-.263-.337 0-.302.214-.671.477-.823a.431.431 0 0 1 .214-.066c.156 0 .263.124.263.338 0 .303-.213.67-.477.822a.431.431 0 0 1-.214.066m.428-1.412c-.1 0-.203.029-.307.09-.32.185-.57.618-.57.985 0 .309.185.524.449.524a.63.63 0 0 0 .308-.09c.32-.185.57-.618.57-.985 0-.309-.185-.524-.45-.524' fill='#8097A2'/><path d='M69.23 86.322l-.076-.149c0-.235.179-.544.384-.661l.12-.041.076.151c0 .234-.179.542-.383.66l-.121.04m.428-1.038a.431.431 0 0 0-.214.066c-.263.152-.477.521-.477.823 0 .214.107.337.263.337a.431.431 0 0 0 .214-.066c.264-.152.477-.519.477-.822 0-.214-.107-.338-.263-.338' fill='#8097A2'/><path d='M139.278 7.769v43.667L72.208 90.16V46.493l67.07-38.724' fill='#455A64'/><path d='M72.083 90.375V46.421l.063-.036 67.257-38.831v43.954l-.062.036-67.258 38.831zm.25-43.811v43.38l66.821-38.579V7.985L72.333 46.564z' fill='#607D8B'/></g><path d='M125.737 88.647l-7.639 3.334V84l-11.459 4.713v8.269L99 100.315l13.369 3.646 13.368-15.314' fill='#455A64'/></g></svg>";function Ee(){this.loadIcon_();var e=document.createElement("div");(a=e.style).position="fixed",a.top=0,a.right=0,a.bottom=0,a.left=0,a.backgroundColor="gray",a.fontFamily="sans-serif",a.zIndex=1e6;var t=document.createElement("img");t.src=this.icon,(a=t.style).marginLeft="25%",a.marginTop="25%",a.width="50%",e.appendChild(t);var n=document.createElement("div");(a=n.style).textAlign="center",a.fontSize="16px",a.lineHeight="24px",a.margin="24px 25%",a.width="50%",n.innerHTML="Place your phone into your Cardboard viewer.",e.appendChild(n);var r=document.createElement("div");(a=r.style).backgroundColor="#CFD8DC",a.position="fixed",a.bottom=0,a.width="100%",a.height="48px",a.padding="14px 24px",a.boxSizing="border-box",a.color="#656A6B",e.appendChild(r);var i=document.createElement("div");i.style.float="left",i.innerHTML="No Cardboard viewer?";var a,o=document.createElement("a");o.href="https://www.google.com/get/cardboard/get-cardboard/",o.innerHTML="get one",o.target="_blank",(a=o.style).float="right",a.fontWeight=600,a.textTransform="uppercase",a.borderLeft="1px solid gray",a.paddingLeft="24px",a.textDecoration="none",a.color="#656A6B",r.appendChild(i),r.appendChild(o),this.overlay=e,this.text=n,this.hide()}Ee.prototype.show=function(e){e||this.overlay.parentElement?e&&(this.overlay.parentElement&&this.overlay.parentElement!=e&&this.overlay.parentElement.removeChild(this.overlay),e.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display="block";var t=this.overlay.querySelector("img").style;m()?(t.width="20%",t.marginLeft="40%",t.marginTop="3%"):(t.width="50%",t.marginLeft="25%",t.marginTop="25%")},Ee.prototype.hide=function(){this.overlay.style.display="none"},Ee.prototype.showTemporarily=function(e,t){this.show(t),this.timer=setTimeout(this.hide.bind(this),e)},Ee.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},Ee.prototype.update=function(){this.disableShowTemporarily(),!m()&&M()?this.show():this.hide()},Ee.prototype.loadIcon_=function(){this.icon=o("image/svg+xml",we)};var _e="CardboardV1",Ce="WEBVR_CARDBOARD_VIEWER",Me="webvr-polyfill-viewer-selector";function Se(e){try{this.selectedKey=localStorage.getItem(Ce)}catch(t){console.error("Failed to load viewer profile: %s",t)}this.selectedKey||(this.selectedKey=e||_e),this.dialog=this.createDialog_(ue.Viewers),this.root=null,this.onChangeCallbacks_=[]}function Ie(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Te(e,t){return e(t={exports:{}},t.exports),t.exports}Se.prototype.show=function(e){this.root=e,e.appendChild(this.dialog),this.dialog.querySelector("#"+this.selectedKey).checked=!0,this.dialog.style.display="block"},Se.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},Se.prototype.getCurrentViewer=function(){return ue.Viewers[this.selectedKey]},Se.prototype.getSelectedKey_=function(){var e=this.dialog.querySelector("input[name=field]:checked");return e?e.id:null},Se.prototype.onChange=function(e){this.onChangeCallbacks_.push(e)},Se.prototype.fireOnChange_=function(e){for(var t=0;t<this.onChangeCallbacks_.length;t++)this.onChangeCallbacks_[t](e)},Se.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),this.selectedKey&&ue.Viewers[this.selectedKey]){this.fireOnChange_(ue.Viewers[this.selectedKey]);try{localStorage.setItem(Ce,this.selectedKey)}catch(e){console.error("Failed to save viewer profile: %s",e)}this.hide()}else console.error("ViewerSelector.onSave_: this should never happen!")},Se.prototype.createDialog_=function(e){var t=document.createElement("div");t.classList.add(Me),t.style.display="none";var n=document.createElement("div");(a=n.style).position="fixed",a.left=0,a.top=0,a.width="100%",a.height="100%",a.background="rgba(0, 0, 0, 0.3)",n.addEventListener("click",this.hide.bind(this));var r=280,i=document.createElement("div"),a=i.style;for(var o in a.boxSizing="border-box",a.position="fixed",a.top="24px",a.left="50%",a.marginLeft=-r/2+"px",a.width=r+"px",a.padding="24px",a.overflow="hidden",a.background="#fafafa",a.fontFamily="'Roboto', sans-serif",a.boxShadow="0px 5px 20px #666",i.appendChild(this.createH1_("Select your viewer")),e)i.appendChild(this.createChoice_(o,e[o].label));return i.appendChild(this.createButton_("Save",this.onSave_.bind(this))),t.appendChild(n),t.appendChild(i),t},Se.prototype.createH1_=function(e){var t=document.createElement("h1"),n=t.style;return n.color="black",n.fontSize="20px",n.fontWeight="bold",n.marginTop=0,n.marginBottom="24px",t.innerHTML=e,t},Se.prototype.createChoice_=function(e,t){var n=document.createElement("div");n.style.marginTop="8px",n.style.color="black";var r=document.createElement("input");r.style.fontSize="30px",r.setAttribute("id",e),r.setAttribute("type","radio"),r.setAttribute("value",e),r.setAttribute("name","field");var i=document.createElement("label");return i.style.marginLeft="4px",i.setAttribute("for",e),i.innerHTML=t,n.appendChild(r),n.appendChild(i),n},Se.prototype.createButton_=function(e,t){var n=document.createElement("button");n.innerHTML=e;var r=n.style;return r.float="right",r.textTransform="uppercase",r.color="#1094f7",r.fontSize="14px",r.letterSpacing=0,r.border=0,r.background="none",r.marginTop="16px",n.addEventListener("click",t),n},"undefined"!==typeof window?window:"undefined"!==typeof e||"undefined"!==typeof self&&self;var ke=Te((function(e,t){!function(t,n){e.exports=n()}(0,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(1),o="undefined"!==typeof navigator&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,s=function(){function e(){i(this,e),o?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",a),this.noSleepVideo.addEventListener("timeupdate",function(e){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())}.bind(this)))}return r(e,[{key:"enable",value:function(){o?(this.disable(),this.noSleepTimer=window.setInterval((function(){window.location.href="/",window.setTimeout(window.stop,0)}),15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){o?this.noSleepTimer&&(window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),e}();e.exports=s},function(e,t,n){e.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])}))})),Re=Ie(ke),Le=1e3,Be=[0,0,.5,1],De=[.5,0,.5,1],Pe=window.requestAnimationFrame,Oe=window.cancelAnimationFrame;function Ne(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null}function Fe(e){Object.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:e.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:e.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:e.canPresent},maxLayers:{writable:!1,enumerable:!0,value:e.maxLayers},hasOrientation:{enumerable:!0,get:function(){return D("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),e.hasOrientation}}})}function Ue(e){var t=!("wakelock"in(e=e||{}))||e.wakelock;this.isPolyfilled=!0,this.displayId=Le++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,Object.defineProperty(this,"isConnected",{get:function(){return D("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new Fe({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.originalParent_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,t&&M()&&(this.wakelock_=new Re)}Ue.prototype.getFrameData=function(e){return T(e,this._getPose(),this)},Ue.prototype.getPose=function(){return D("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this._getPose()},Ue.prototype.resetPose=function(){return D("VRDisplay.prototype.resetPose"),this._resetPose()},Ue.prototype.getImmediatePose=function(){return D("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this._getPose()},Ue.prototype.requestAnimationFrame=function(e){return Pe(e)},Ue.prototype.cancelAnimationFrame=function(e){return Oe(e)},Ue.prototype.wrapForFullscreen=function(e){if(u())return e;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var t=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",t.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==e)return this.fullscreenWrapper_;if(this.fullscreenElement_&&(this.originalParent_?this.originalParent_.appendChild(this.fullscreenElement_):this.fullscreenElement_.parentElement.removeChild(this.fullscreenElement_)),this.fullscreenElement_=e,this.originalParent_=e.parentElement,this.originalParent_||document.body.appendChild(e),!this.fullscreenWrapper_.parentElement){var n=this.fullscreenElement_.parentElement;n.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),n.removeChild(this.fullscreenElement_)}this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var r=this;function i(){if(r.fullscreenElement_){var e=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];r.fullscreenElement_.setAttribute("style",e.join("; ")+";")}}return i(),this.fullscreenWrapper_},Ue.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var e=this.fullscreenElement_;this.fullscreenElementCachedStyle_?e.setAttribute("style",this.fullscreenElementCachedStyle_):e.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var t=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(e),this.originalParent_===t?t.insertBefore(e,this.fullscreenWrapper_):this.originalParent_&&this.originalParent_.appendChild(e),t.removeChild(this.fullscreenWrapper_),e}},Ue.prototype.requestPresent=function(e){var t=this.isPresenting,n=this;return e instanceof Array||(D("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),e=[e]),new Promise((function(r,i){if(n.capabilities.canPresent)if(0==e.length||e.length>n.capabilities.maxLayers)i(new Error("Invalid number of layers."));else{var a=e[0];if(a.source){var o=a.leftBounds||Be,s=a.rightBounds||De;if(t){var c=n.layer_;c.source!==a.source&&(c.source=a.source);for(var h=0;h<4;h++)c.leftBounds[h]=o[h],c.rightBounds[h]=s[h];return n.wrapForFullscreen(n.layer_.source),n.updatePresent_(),void r()}if(n.layer_={predistorted:a.predistorted,source:a.source,leftBounds:o.slice(0),rightBounds:s.slice(0)},n.waitingForPresent_=!1,n.layer_&&n.layer_.source){var d=n.wrapForFullscreen(n.layer_.source),g=function(){var e=w();n.isPresenting=d===e,n.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch((function(e){console.error("screen.orientation.lock() failed due to",e.message)})),n.waitingForPresent_=!1,n.beginPresent_(),r()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),n.removeFullscreenWrapper(),n.disableWakeLock(),n.endPresent_(),n.removeFullscreenListeners_()),n.fireVRDisplayPresentChange_()},p=function(){n.waitingForPresent_&&(n.removeFullscreenWrapper(),n.removeFullscreenListeners_(),n.disableWakeLock(),n.waitingForPresent_=!1,n.isPresenting=!1,i(new Error("Unable to present.")))};n.addFullscreenListeners_(d,g,p),b(d)?(n.enableWakeLock(),n.waitingForPresent_=!0):(u()||l())&&(n.enableWakeLock(),n.isPresenting=!0,n.beginPresent_(),n.fireVRDisplayPresentChange_(),r())}n.waitingForPresent_||u()||(x(),i(new Error("Unable to present.")))}else r()}else i(new Error("VRDisplay is not capable of presenting."))}))},Ue.prototype.exitPresent=function(){var e=this.isPresenting,t=this;return this.isPresenting=!1,this.layer_=null,this.disableWakeLock(),new Promise((function(n,r){e?(!x()&&u()&&(t.endPresent_(),t.fireVRDisplayPresentChange_()),l()&&(t.removeFullscreenWrapper(),t.removeFullscreenListeners_(),t.endPresent_(),t.fireVRDisplayPresentChange_()),n()):r(new Error("Was not presenting to VRDisplay."))}))},Ue.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},Ue.prototype.fireVRDisplayPresentChange_=function(){var e=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(e)},Ue.prototype.fireVRDisplayConnect_=function(){var e=new CustomEvent("vrdisplayconnect",{detail:{display:this}});window.dispatchEvent(e)},Ue.prototype.addFullscreenListeners_=function(e,t,n){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=e,this.fullscreenChangeHandler_=t,this.fullscreenErrorHandler_=n,t&&(document.fullscreenEnabled?e.addEventListener("fullscreenchange",t,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenchange",t,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",t,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenchange",t,!1)),n&&(document.fullscreenEnabled?e.addEventListener("fullscreenerror",n,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenerror",n,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",n,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenerror",n,!1))},Ue.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var e=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var t=this.fullscreenChangeHandler_;e.removeEventListener("fullscreenchange",t,!1),e.removeEventListener("webkitfullscreenchange",t,!1),document.removeEventListener("mozfullscreenchange",t,!1),e.removeEventListener("msfullscreenchange",t,!1)}if(this.fullscreenErrorHandler_){var n=this.fullscreenErrorHandler_;e.removeEventListener("fullscreenerror",n,!1),e.removeEventListener("webkitfullscreenerror",n,!1),document.removeEventListener("mozfullscreenerror",n,!1),e.removeEventListener("msfullscreenerror",n,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},Ue.prototype.enableWakeLock=function(){this.wakelock_&&this.wakelock_.enable()},Ue.prototype.disableWakeLock=function(){this.wakelock_&&this.wakelock_.disable()},Ue.prototype.beginPresent_=function(){},Ue.prototype.endPresent_=function(){},Ue.prototype.submitFrame=function(e){},Ue.prototype.getEyeParameters=function(e){return null};var ze={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},je={LEFT:"left",RIGHT:"right"};function He(e){var t=S({},ze);e=S(t,e||{}),Ue.call(this,{wakelock:e.MOBILE_WAKE_LOCK}),this.config=e,this.displayName="Cardboard VRDisplay",this.capabilities=new Fe({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.bufferScale_=this.config.BUFFER_SCALE,this.poseSensor_=new xe(this.config),this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new he(this.config.DPDB_URL,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new ue(this.dpdb_.getDeviceParams(),e.ADDITIONAL_VIEWERS),this.viewerSelector_=new Se(e.DEFAULT_VIEWER),this.viewerSelector_.onChange(this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new Ee),u()&&window.addEventListener("resize",this.onResize_.bind(this))}return He.prototype=Object.create(Ue.prototype),He.prototype._getPose=function(){return{position:null,orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},He.prototype._resetPose=function(){this.poseSensor_.resetPose&&this.poseSensor_.resetPose()},He.prototype._getFieldOfView=function(e){var t;if(e==je.LEFT)t=this.deviceInfo_.getFieldOfViewLeftEye();else{if(e!=je.RIGHT)return console.error("Invalid eye provided: %s",e),null;t=this.deviceInfo_.getFieldOfViewRightEye()}return t},He.prototype._getEyeOffset=function(e){var t;if(e==je.LEFT)t=[.5*-this.deviceInfo_.viewer.interLensDistance,0,0];else{if(e!=je.RIGHT)return console.error("Invalid eye provided: %s",e),null;t=[.5*this.deviceInfo_.viewer.interLensDistance,0,0]}return t},He.prototype.getEyeParameters=function(e){var t=this._getEyeOffset(e),n=this._getFieldOfView(e),r={offset:t,renderWidth:.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_};return Object.defineProperty(r,"fieldOfView",{enumerable:!0,get:function(){return D("VRFieldOfView","VRFrameData's projection matrices"),n}}),r},He.prototype.onDeviceParamsUpdated_=function(e){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},He.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},He.prototype.beginPresent_=function(){var e=this.layer_.source.getContext("webgl");e||(e=this.layer_.source.getContext("experimental-webgl")),e||(e=this.layer_.source.getContext("webgl2")),e&&(this.layer_.predistorted?this.config.CARDBOARD_UI_DISABLED||(e.canvas.width=y()*this.bufferScale_,e.canvas.height=A()*this.bufferScale_,this.cardboardUI_=new J(e)):(this.config.CARDBOARD_UI_DISABLED||(this.cardboardUI_=new J(e)),this.distorter_=new U(e,this.cardboardUI_,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.distorter_.updateDeviceInfo(this.deviceInfo_)),this.cardboardUI_&&this.cardboardUI_.listen(function(e){this.viewerSelector_.show(this.layer_.source.parentElement),e.stopPropagation(),e.preventDefault()}.bind(this),function(e){this.exitPresent(),e.stopPropagation(),e.preventDefault()}.bind(this)),this.rotateInstructions_&&(m()&&M()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},He.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},He.prototype.updatePresent_=function(){this.endPresent_(),this.beginPresent_()},He.prototype.submitFrame=function(e){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var t=this.layer_.source.getContext("webgl");t||(t=this.layer_.source.getContext("experimental-webgl")),t||(t=this.layer_.source.getContext("webgl2"));var n=t.canvas;n.width==this.lastWidth&&n.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=n.width,this.lastHeight=n.height,this.cardboardUI_.render()}},He.prototype.onOrientationChange_=function(e){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},He.prototype.onResize_=function(e){if(this.layer_){var t=this.layer_.source.getContext("webgl");t||(t=this.layer_.source.getContext("experimental-webgl")),t||(t=this.layer_.source.getContext("webgl2"));var n=["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"];t.canvas.setAttribute("style",n.join("; ")+";"),I(t.canvas)}},He.prototype.onViewerChanged_=function(e){this.deviceInfo_.setViewer(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},He.prototype.fireVRDisplayDeviceParamsChange_=function(){var e=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(e)},He.VRFrameData=Ne,He.VRDisplay=Ue,He}))})),u=t(s),l="0.10.12",c={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",PROVIDE_MOBILE_VRDISPLAY:!0,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};function h(e){this.config=o(o({},c),e),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in navigator,this.native={},this.native.getVRDisplays=navigator.getVRDisplays,this.native.VRFrameData=window.VRFrameData,this.native.VRDisplay=window.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&i())&&(this.enable(),this.getVRDisplays().then((function(e){e&&e[0]&&e[0].fireVRDisplayConnect_&&e[0].fireVRDisplayConnect_()})))}h.prototype.getPolyfillDisplays=function(){if(this._polyfillDisplaysPopulated)return this.polyfillDisplays;if(i()){var e=new u({ADDITIONAL_VIEWERS:this.config.ADDITIONAL_VIEWERS,DEFAULT_VIEWER:this.config.DEFAULT_VIEWER,MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(e)}return this._polyfillDisplaysPopulated=!0,this.polyfillDisplays},h.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var e=this.native.VRFrameData,t=new this.native.VRFrameData,n=this.native.VRDisplay.prototype.getFrameData;window.VRDisplay.prototype.getFrameData=function(r){r instanceof e?n.call(this,r):(n.call(this,t),r.pose=t.pose,a(t.leftProjectionMatrix,r.leftProjectionMatrix),a(t.rightProjectionMatrix,r.rightProjectionMatrix),a(t.leftViewMatrix,r.leftViewMatrix),a(t.rightViewMatrix,r.rightViewMatrix))}}navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=u.VRDisplay,window.VRFrameData=u.VRFrameData},h.prototype.getVRDisplays=function(){var e=this;return this.config,this.hasNative?this.native.getVRDisplays.call(navigator).then((function(t){return t.length>0?t:e.getPolyfillDisplays()})):Promise.resolve(this.getPolyfillDisplays())},h.version=l,h.VRFrameData=u.VRFrameData,h.VRDisplay=u.VRDisplay;var d=Object.freeze({default:h}),g=d&&h||d;return"undefined"!==typeof e&&e.window&&(e.document||(e.document=e.window.document),e.navigator||(e.navigator=e.window.navigator)),g}()},"./node_modules/word-wrapper/index.js":function(e){var t=/\n/,n="\n",r=/\s/;function i(e,t,n,r){var i=e.indexOf(t,n);return-1===i||i>r?r:i}function a(e){return r.test(e)}function o(e,t,n,r){return{start:t,end:t+Math.min(r,n-t)}}e.exports=function(t,n){return e.exports.lines(t,n).map((function(e){return t.substring(e.start,e.end)})).join("\n")},e.exports.lines=function(e,r){if(0===(r=r||{}).width&&"nowrap"!==r.mode)return[];e=e||"";var s="number"===typeof r.width?r.width:Number.MAX_VALUE,u=Math.max(0,r.start||0),l="number"===typeof r.end?r.end:e.length,c=r.mode,h=r.measure||o;return"pre"===c?function(e,n,r,i,a){for(var o=[],s=r,u=r;u<i&&u<n.length;u++){var l=n.charAt(u),c=t.test(l);if(c||u===i-1){var h=e(n,s,c?u:u+1,a);o.push(h),s=u+1}}return o}(h,e,u,l,s):function(e,t,r,o,s,u){var l=[],c=s;for("nowrap"===u&&(c=Number.MAX_VALUE);r<o&&r<t.length;){for(var h=i(t,n,r,o);r<h&&a(t.charAt(r));)r++;var d=e(t,r,h,c),g=r+(d.end-d.start),p=g+1;if(g<h){for(;g>r&&!a(t.charAt(g));)g--;if(g===r)p>r+1&&p--,g=p;else for(p=g;g>r&&a(t.charAt(g-1));)g--}if(g>=r){var f=e(t,r,g,c);l.push(f)}r=p}return l}(h,e,u,l,s,c)}},"./node_modules/xhr/index.js":function(e,t,n){"use strict";var r=n("./node_modules/global/window.js"),i=n("./node_modules/is-function/index.js"),a=n("./node_modules/parse-headers/parse-headers.js"),o=n("./node_modules/xtend/immutable.js");function s(e,t,n){var r=e;return i(t)?(n=t,"string"===typeof e&&(r={uri:e})):r=o(t,{uri:e}),r.callback=n,r}function u(e,t,n){return l(t=s(e,t,n))}function l(e){if("undefined"===typeof e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,r,i){t||(t=!0,e.callback(n,r,i))};function r(){var e=void 0;if(e=c.response?c.response:c.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(n){}return null}(c),v)try{e=JSON.parse(e)}catch(t){}return e}function i(e){return clearTimeout(h),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,y)}function o(){if(!l){var t;clearTimeout(h),t=e.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var i=y,o=null;return 0!==t?(i={body:r(),statusCode:t,method:g,headers:{},url:d,rawRequest:c},c.getAllResponseHeaders&&(i.headers=a(c.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),n(o,i,i.body)}}var s,l,c=e.xhr||null;c||(c=e.cors||e.useXDR?new u.XDomainRequest:new u.XMLHttpRequest);var h,d=c.url=e.uri||e.url,g=c.method=e.method||"GET",p=e.body||e.data,f=c.headers=e.headers||{},m=!!e.sync,v=!1,y={body:void 0,headers:{},statusCode:0,method:g,url:d,rawRequest:c};if("json"in e&&!1!==e.json&&(v=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),p=JSON.stringify(!0===e.json?p:e.json))),c.onreadystatechange=function(){4===c.readyState&&setTimeout(o,0)},c.onload=o,c.onerror=i,c.onprogress=function(){},c.onabort=function(){l=!0},c.ontimeout=i,c.open(g,d,!m,e.username,e.password),m||(c.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(h=setTimeout((function(){if(!l){l=!0,c.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)}}),e.timeout)),c.setRequestHeader)for(s in f)f.hasOwnProperty(s)&&c.setRequestHeader(s,f[s]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(c.responseType=e.responseType),"beforeSend"in e&&"function"===typeof e.beforeSend&&e.beforeSend(c),c.send(p||null),c}e.exports=u,e.exports.default=u,u.XMLHttpRequest=r.XMLHttpRequest||function(){},u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:r.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){u["delete"===e?"del":e]=function(t,n,r){return(n=s(t,n,r)).method=e.toUpperCase(),l(n)}}))},"./node_modules/xml-parse-from-string/index.js":function(e){e.exports="undefined"!==typeof self.DOMParser?function(e){return(new self.DOMParser).parseFromString(e,"application/xml")}:"undefined"!==typeof self.ActiveXObject&&new self.ActiveXObject("Microsoft.XMLDOM")?function(e){var t=new self.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}:function(e){var t=document.createElement("div");return t.innerHTML=e,t}},"./node_modules/xtend/immutable.js":function(e){e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var r=arguments[n];for(var i in r)t.call(r,i)&&(e[i]=r[i])}return e};var t=Object.prototype.hasOwnProperty},"./src/components/animation.js":function(e,t,n){var r=n("./node_modules/super-animejs/lib/anime.es.js").default,i=n("./src/core/component.js").components,a=n("./src/core/component.js").registerComponent,o=n("./src/lib/three.js"),s=n("./src/utils/index.js"),u=new o.Color,l=new o.Color,c=s.entity.getComponentProperty,h=s.entity.setComponentProperty,d={},g="color",p="rotation",f="scale",m="components";function v(e){e.x=o.MathUtils.degToRad(e.x),e.y=o.MathUtils.degToRad(e.y),e.z=o.MathUtils.degToRad(e.z)}function y(e,t,n){var r;for(r=0;r<t.length;r++)e.addEventListener(t[r],n)}function A(e,t,n){var r;for(r=0;r<t.length;r++)e.removeEventListener(t[r],n)}function b(e,t){var n,r,i;for(r=w(t),i=e,n=0;n<r.length;n++)i=i[r[n]];if(void 0===i)throw console.log(e),new Error("[animation] property ("+t+") could not be found");return i}function x(e,t,n,r){var i,a,s,u;for(t.startsWith("object3D.rotation")&&(n=o.MathUtils.degToRad(n)),a=w(t),u=e,i=0;i<a.length-1;i++)u=u[a[i]];s=a[a.length-1],r!==g?u[s]=n:"r"in u[s]?(u[s].r=n.r,u[s].g=n.g,u[s].b=n.b):(u[s].x=n.r,u[s].y=n.g,u[s].z=n.b)}function w(e){return e in d||(d[e]=e.split(".")),d[e]}function E(e){return e.isRawProperty||e.property.startsWith(m)||e.property.startsWith("object3D")}e.exports.Component=a("animation",{schema:{autoplay:{default:!0},delay:{default:0},dir:{default:""},dur:{default:1e3},easing:{default:"easeInQuad"},elasticity:{default:400},enabled:{default:!0},from:{default:""},loop:{default:0,parse:function(e){return!0===e||"true"===e||!1!==e&&"false"!==e&&parseInt(e,10)}},property:{default:""},startEvents:{type:"array"},pauseEvents:{type:"array"},resumeEvents:{type:"array"},round:{default:!1},to:{default:""},type:{default:""},isRawProperty:{default:!1}},multiple:!0,init:function(){var e=this;this.eventDetail={name:this.attrName},this.time=0,this.animation=null,this.animationIsPlaying=!1,this.onStartEvent=this.onStartEvent.bind(this),this.beginAnimation=this.beginAnimation.bind(this),this.pauseAnimation=this.pauseAnimation.bind(this),this.resumeAnimation=this.resumeAnimation.bind(this),this.fromColor={},this.toColor={},this.targets={},this.targetsArray=[],this.updateConfigForDefault=this.updateConfigForDefault.bind(this),this.updateConfigForRawColor=this.updateConfigForRawColor.bind(this),this.config={complete:function(){e.animationIsPlaying=!1,e.el.emit("animationcomplete",e.eventDetail,!1),e.id&&e.el.emit("animationcomplete__"+e.id,e.eventDetail,!1)}}},update:function(e){var t=this.config,n=this.data;this.animationIsPlaying=!1,this.data.enabled&&n.property&&(t.autoplay=!1,t.direction=n.dir,t.duration=n.dur,t.easing=n.easing,t.elasticity=n.elasticity,t.loop=n.loop,t.round=n.round,this.createAndStartAnimation())},tick:function(e,t){this.animationIsPlaying&&(this.time+=t,this.animation.tick(this.time))},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.paused=!0,this.pausedWasPlaying=this.animationIsPlaying,this.pauseAnimation(),this.removeEventListeners()},play:function(){this.paused&&(this.paused=!1,this.addEventListeners(),this.pausedWasPlaying&&(this.resumeAnimation(),this.pausedWasPlaying=!1))},createAndStartAnimation:function(){var e=this.data;this.updateConfig(),this.animationIsPlaying=!1,this.animation=r(this.config),this.animation.began=!0,this.removeEventListeners(),this.addEventListeners(),!e.autoplay||e.startEvents&&e.startEvents.length||(e.delay?setTimeout(this.beginAnimation,e.delay):this.beginAnimation())},beginAnimation:function(){this.updateConfig(),this.animation.began=!0,this.time=0,this.animationIsPlaying=!0,this.stopRelatedAnimations(),this.el.emit("animationbegin",this.eventDetail,!1)},pauseAnimation:function(){this.animationIsPlaying=!1},resumeAnimation:function(){this.animationIsPlaying=!0},onStartEvent:function(){this.data.enabled&&(this.updateConfig(),this.animation&&this.animation.pause(),this.animation=r(this.config),this.data.delay?setTimeout(this.beginAnimation,this.data.delay):this.beginAnimation())},updateConfigForRawColor:function(){var e,t,n,r=this.config,i=this.data,a=this.el;if(!this.waitComponentInitRawProperty(this.updateConfigForRawColor)){for(t in e=""===i.from?b(a,i.property):i.from,n=i.to,this.setColorConfig(e,n),e=this.fromColor,n=this.toColor,this.targetsArray.length=0,this.targetsArray.push(e),r.targets=this.targetsArray,n)r[t]=n[t];r.update=function(){var e={};return function(t){var n;(n=t.animatables[0].target).r===e.r&&n.g===e.g&&n.b===e.b||x(a,i.property,n,i.type)}}()}},updateConfigForDefault:function(){var e,t,n,r=this.config,i=this.data,a=this.el;this.waitComponentInitRawProperty(this.updateConfigForDefault)||(e=""===i.from?E(i)?b(a,i.property):c(a,i.property):i.from,n=i.to,isNaN(e||n)?(e=e?e.toString():e,n=n?n.toString():n):(e=parseFloat(e),n=parseFloat(n)),(t="true"===i.to||"false"===i.to||!0===i.to||!1===i.to)&&(e="true"===i.from||!0===i.from?1:0,n="true"===i.to||!0===i.to?1:0),this.targets.aframeProperty=e,r.targets=this.targets,r.aframeProperty=n,r.update=function(){var e;return function(n){var r;(r=n.animatables[0].target.aframeProperty)!==e&&(e=r,t&&(r=r>=1),E(i)?x(a,i.property,r,i.type):h(a,i.property,r))}}())},updateConfigForVector:function(){var e,t,n,r=this.config,i=this.data,a=this.el;for(e in t=""!==i.from?s.coordinates.parse(i.from):c(a,i.property),n=s.coordinates.parse(i.to),i.property===p&&(v(t),v(n)),this.targetsArray.length=0,this.targetsArray.push(t),r.targets=this.targetsArray,n)r[e]=n[e];"position"!==i.property&&i.property!==p&&i.property!==f?r.update=function(){var e={};return function(t){var n=t.animatables[0].target;n.x===e.x&&n.y===e.y&&n.z===e.z||(e.x=n.x,e.y=n.y,e.z=n.z,h(a,i.property,n))}}():r.update=function(){var e={};return function(t){var n=t.animatables[0].target;i.property===f&&(n.x=Math.max(1e-4,n.x),n.y=Math.max(1e-4,n.y),n.z=Math.max(1e-4,n.z)),n.x===e.x&&n.y===e.y&&n.z===e.z||(e.x=n.x,e.y=n.y,e.z=n.z,a.object3D[i.property].set(n.x,n.y,n.z))}}()},updateConfig:function(){var e;e=function(e,t){var n,r,a,o;return a=t.split("."),r=a[0],o=a[1],(n=e.components[r]||i[r])?o&&!n.schema[o]?null:o?n.schema[o].type:n.schema.type:null}(this.el,this.data.property),E(this.data)&&this.data.type===g?this.updateConfigForRawColor():"vec2"===e||"vec3"===e||"vec4"===e?this.updateConfigForVector():this.updateConfigForDefault()},waitComponentInitRawProperty:function(e){var t,n=this.data,i=this.el,a=this;return""===n.from&&!!n.property.startsWith(m)&&(t=w(n.property)[1],!i.components[t]&&(i.addEventListener("componentinitialized",(function n(o){o.detail.name===t&&(e(),a.animation=r(a.config),i.removeEventListener("componentinitialized",n))})),!0))},stopRelatedAnimations:function(){var e,t;for(t in this.el.components)e=this.el.components[t],t!==this.attrName&&"animation"===e.name&&e.animationIsPlaying&&e.data.property===this.data.property&&(e.animationIsPlaying=!1)},addEventListeners:function(){var e=this.data,t=this.el;y(t,e.startEvents,this.onStartEvent),y(t,e.pauseEvents,this.pauseAnimation),y(t,e.resumeEvents,this.resumeAnimation)},removeEventListeners:function(){var e=this.data,t=this.el;A(t,e.startEvents,this.onStartEvent),A(t,e.pauseEvents,this.pauseAnimation),A(t,e.resumeEvents,this.resumeAnimation)},setColorConfig:function(e,t){u.set(e),l.set(t),e=this.fromColor,t=this.toColor,e.r=u.r,e.g=u.g,e.b=u.b,t.r=l.r,t.g=l.g,t.b=l.b}})},"./src/components/camera.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/lib/three.js");e.exports.Component=r("camera",{schema:{active:{default:!0},far:{default:1e4},fov:{default:80,min:0},near:{default:.005,min:0},spectator:{default:!1},zoom:{default:1,min:0}},init:function(){var e,t=this.el;e=this.camera=new i.PerspectiveCamera,t.setObject3D("camera",e)},update:function(e){var t=this.data,n=this.camera;n.aspect=t.aspect||window.innerWidth/window.innerHeight,n.far=t.far,n.fov=t.fov,n.near=t.near,n.zoom=t.zoom,n.updateProjectionMatrix(),this.updateActiveCamera(e),this.updateSpectatorCamera(e)},updateActiveCamera:function(e){var t=this.data,n=this.el,r=this.system;e&&e.active===t.active||t.spectator||(t.active&&r.activeCameraEl!==n?r.setActiveCamera(n):t.active||r.activeCameraEl!==n||r.disableActiveCamera())},updateSpectatorCamera:function(e){var t=this.data,n=this.el,r=this.system;e&&e.spectator===t.spectator||(t.spectator&&r.spectatorCameraEl!==n?r.setSpectatorCamera(n):t.spectator||r.spectatorCameraEl!==n||r.disableSpectatorCamera())},remove:function(){this.el.removeObject3D("camera")}})},"./src/components/cursor.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/utils/index.js"),a=i.bind,o="click",s="fusing",u="mouseenter",l="mousedown",c="mouseleave",h="mouseup",d="cursor-fusing",g="cursor-hovering",p="cursor-hovered",f={DOWN:["mousedown","touchstart"],UP:["mouseup","touchend"]},m={DOWN:["selectstart"],UP:["selectend"]},v="a-mouse-cursor-hover";e.exports.Component=r("cursor",{dependencies:["raycaster"],schema:{downEvents:{default:[]},fuse:{default:i.device.isMobile()},fuseTimeout:{default:1500,min:0},mouseCursorStylesEnabled:{default:!0},upEvents:{default:[]},rayOrigin:{default:"entity",oneOf:["mouse","entity","xrselect"]}},multiple:!0,init:function(){var e=this;this.fuseTimeout=void 0,this.cursorDownEl=null,this.intersectedEl=null,this.canvasBounds=document.body.getBoundingClientRect(),this.isCursorDown=!1,this.activeXRInput=null,this.updateCanvasBounds=i.debounce((function(){e.canvasBounds=e.el.sceneEl.canvas.getBoundingClientRect()}),500),this.eventDetail={},this.intersectedEventDetail={cursorEl:this.el},this.onCursorDown=a(this.onCursorDown,this),this.onCursorUp=a(this.onCursorUp,this),this.onIntersection=a(this.onIntersection,this),this.onIntersectionCleared=a(this.onIntersectionCleared,this),this.onMouseMove=a(this.onMouseMove,this),this.onEnterVR=a(this.onEnterVR,this)},update:function(e){this.data.rayOrigin!==e.rayOrigin&&this.updateMouseEventListeners()},tick:function(){var e=this.el.sceneEl.frame,t=this.activeXRInput;"xrselect"===this.data.rayOrigin&&e&&t&&this.onMouseMove({frame:e,inputSource:t,type:"fakeselectevent"})},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){var e=this.el;e.removeState(g),e.removeState(d),clearTimeout(this.fuseTimeout),this.intersectedEl&&this.intersectedEl.removeState(p),this.removeEventListeners()},addEventListeners:function(){var e,t=this.data,n=this.el,r=this;function i(){e=n.sceneEl.canvas,t.downEvents.length||t.upEvents.length||(f.DOWN.forEach((function(t){e.addEventListener(t,r.onCursorDown)})),f.UP.forEach((function(t){e.addEventListener(t,r.onCursorUp)})))}(e=n.sceneEl.canvas)?i():n.sceneEl.addEventListener("render-target-loaded",i),t.downEvents.forEach((function(e){n.addEventListener(e,r.onCursorDown)})),t.upEvents.forEach((function(e){n.addEventListener(e,r.onCursorUp)})),n.addEventListener("raycaster-intersection",this.onIntersection),n.addEventListener("raycaster-closest-entity-changed",this.onIntersection),n.addEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),n.sceneEl.addEventListener("rendererresize",this.updateCanvasBounds),n.sceneEl.addEventListener("enter-vr",this.onEnterVR),window.addEventListener("resize",this.updateCanvasBounds),window.addEventListener("scroll",this.updateCanvasBounds),this.updateMouseEventListeners()},removeEventListeners:function(){var e,t=this.data,n=this.el,r=this;!(e=n.sceneEl.canvas)||t.downEvents.length||t.upEvents.length||(f.DOWN.forEach((function(t){e.removeEventListener(t,r.onCursorDown)})),f.UP.forEach((function(t){e.removeEventListener(t,r.onCursorUp)}))),t.downEvents.forEach((function(e){n.removeEventListener(e,r.onCursorDown)})),t.upEvents.forEach((function(e){n.removeEventListener(e,r.onCursorUp)})),n.removeEventListener("raycaster-intersection",this.onIntersection),n.removeEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("touchstart",this.onMouseMove),e.removeEventListener("touchmove",this.onMouseMove),n.sceneEl.removeEventListener("rendererresize",this.updateCanvasBounds),n.sceneEl.removeEventListener("enter-vr",this.onEnterVR),window.removeEventListener("resize",this.updateCanvasBounds),window.removeEventListener("scroll",this.updateCanvasBounds)},updateMouseEventListeners:function(){var e,t=this.el;(e=t.sceneEl.canvas).removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("touchmove",this.onMouseMove),t.setAttribute("raycaster","useWorldCoordinates",!1),"mouse"===this.data.rayOrigin&&(e.addEventListener("mousemove",this.onMouseMove,!1),e.addEventListener("touchmove",this.onMouseMove,!1),t.setAttribute("raycaster","useWorldCoordinates",!0),this.updateCanvasBounds())},onMouseMove:function(){var e=new THREE.Vector3,t=new THREE.Vector2,n=new THREE.Vector3,r={origin:n,direction:e};return function(i){var a,o,s,u,l,c,h,d=this.canvasBounds,g=this.el.sceneEl.camera;g.parent.updateMatrixWorld(),a=(o="touchmove"===i.type||"touchstart"===i.type?i.touches.item(0):i).clientX-d.left,s=o.clientY-d.top,t.x=a/d.width*2-1,t.y=-s/d.height*2+1,"xrselect"!==this.data.rayOrigin||"selectstart"!==i.type&&"fakeselectevent"!==i.type?"fakeselectout"===i.type?(e.set(0,1,0),n.set(0,9999,0)):g&&g.isPerspectiveCamera?(n.setFromMatrixPosition(g.matrixWorld),e.set(t.x,t.y,.5).unproject(g).sub(n).normalize()):g&&g.isOrthographicCamera?(n.set(t.x,t.y,(g.near+g.far)/(g.near-g.far)).unproject(g),e.set(0,0,-1).transformDirection(g.matrixWorld)):console.error("AFRAME.Raycaster: Unsupported camera type: "+g.type):(u=i.frame,l=i.inputSource,c=this.el.renderer.xr.getReferenceSpace(),h=u.getPose(l.targetRaySpace,c).transform,e.set(0,0,-1),e.applyQuaternion(h.orientation),n.copy(h.position)),this.el.setAttribute("raycaster",r),"touchmove"===i.type&&i.preventDefault()}}(),onCursorDown:function(e){this.isCursorDown=!0,"mouse"===this.data.rayOrigin&&"touchstart"===e.type&&(this.onMouseMove(e),this.el.components.raycaster.checkIntersections(),e.preventDefault()),"xrselect"===this.data.rayOrigin&&"selectstart"===e.type&&(this.activeXRInput=e.inputSource,this.onMouseMove(e),this.el.components.raycaster.checkIntersections(),this.el.components.raycaster.intersectedEls.length&&void 0!==this.el.sceneEl.components["ar-hit-test"]&&this.el.sceneEl.getAttribute("ar-hit-test").enabled&&(this.el.sceneEl.setAttribute("ar-hit-test","enabled",!1),this.reenableARHitTest=!0)),this.twoWayEmit(l,e),this.cursorDownEl=this.intersectedEl},onCursorUp:function(e){if(this.isCursorDown){this.isCursorDown=!1;var t=this.data;this.twoWayEmit(h,e),!0===this.reenableARHitTest&&(this.el.sceneEl.setAttribute("ar-hit-test","enabled",!0),this.reenableARHitTest=void 0),this.cursorDownEl&&this.cursorDownEl!==this.intersectedEl&&(this.intersectedEventDetail.intersection=null,this.cursorDownEl.emit(h,this.intersectedEventDetail)),t.fuse&&"mouse"!==t.rayOrigin&&"xrselect"!==t.rayOrigin||!this.intersectedEl||this.cursorDownEl!==this.intersectedEl||this.twoWayEmit(o,e),"xrselect"===t.rayOrigin&&this.activeXRInput===e.inputSource&&this.onMouseMove({type:"fakeselectout"}),this.activeXRInput=null,this.cursorDownEl=null,"touchend"===e.type&&e.preventDefault()}},onIntersection:function(e){var t,n,r,i,a=this.el;n=e.detail.els[0]===a?1:0,i=e.detail.intersections[n],(r=e.detail.els[n])&&this.intersectedEl!==r&&(this.intersectedEl&&(t=this.el.components.raycaster.getIntersection(this.intersectedEl))&&t.distance<=i.distance||(this.clearCurrentIntersection(!0),this.setIntersection(r,i)))},onIntersectionCleared:function(e){-1!==e.detail.clearedEls.indexOf(this.intersectedEl)&&this.clearCurrentIntersection()},onEnterVR:function(){this.clearCurrentIntersection(!0);var e=this.el.sceneEl.xrSession,t=this;e&&"mouse"!==this.data.rayOrigin&&(m.DOWN.forEach((function(n){e.addEventListener(n,t.onCursorDown)})),m.UP.forEach((function(n){e.addEventListener(n,t.onCursorUp)})))},setIntersection:function(e,t){var n=this.el,r=this.data,i=this;this.intersectedEl!==e&&(this.intersectedEl=e,n.addState(g),e.addState(p),this.twoWayEmit(u),this.data.mouseCursorStylesEnabled&&"mouse"===this.data.rayOrigin&&this.el.sceneEl.canvas.classList.add(v),0!==r.fuseTimeout&&r.fuse&&"xrselect"!==r.rayOrigin&&"mouse"!==r.rayOrigin&&(n.addState(d),this.twoWayEmit(s),this.fuseTimeout=setTimeout((function(){n.removeState(d),i.twoWayEmit(o)}),r.fuseTimeout)))},clearCurrentIntersection:function(e){var t,n,r=this.el;this.intersectedEl&&(this.intersectedEl.removeState(p),r.removeState(g),r.removeState(d),this.twoWayEmit(c),this.data.mouseCursorStylesEnabled&&"mouse"===this.data.rayOrigin&&this.el.sceneEl.canvas.classList.remove(v),this.intersectedEl=null,clearTimeout(this.fuseTimeout),!0!==e&&0!==(n=this.el.components.raycaster.intersections).length&&(t=n[n[0].object.el===r?1:0])&&this.setIntersection(t.object.el,t))},twoWayEmit:function(e,t){var n,r=this.el,i=this.intersectedEl;function a(e,n){t instanceof MouseEvent?e.mouseEvent=t:"undefined"!==typeof TouchEvent&&t instanceof TouchEvent&&(e.touchEvent=t)}n=this.el.components.raycaster.getIntersection(i),this.eventDetail.intersectedEl=i,this.eventDetail.intersection=n,a(this.eventDetail),r.emit(e,this.eventDetail),i&&(this.intersectedEventDetail.intersection=n,a(this.intersectedEventDetail),i.emit(e,this.intersectedEventDetail))}})},"./src/components/daydream-controls.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/utils/bind.js"),a=n("./src/utils/tracked-controls.js"),o=a.checkControllerPresentAndSetup,s=a.emitIfAxesChanged,u=a.onButtonEvent,l="https://cdn.aframe.io/controllers/google/",c=l+"vr_controller_daydream.obj",h=l+"vr_controller_daydream.mtl",d=n("./src/utils/index.js").device.isWebXRAvailable,g=d?"google-daydream":"Daydream Controller",p=d?{axes:{touchpad:[0,1]},buttons:["none","none","touchpad","menu","system"]}:{axes:{trackpad:[0,1]},buttons:["trackpad","menu","system"]};e.exports.Component=r("daydream-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#000000"},buttonTouchedColor:{type:"color",default:"#777777"},buttonHighlightColor:{type:"color",default:"#FFFFFF"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:p,bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var e=this;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(t){u(t.detail.id,"down",e)},this.onButtonUp=function(t){u(t.detail.id,"up",e)},this.onButtonTouchStart=function(t){u(t.detail.id,"touchstart",e)},this.onButtonTouchEnd=function(t){u(t.detail.id,"touchend",e)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){o(this,g,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{armModel:t.armModel,hand:t.hand,idPrefix:g,id:g,orientationOffset:t.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:c,mtl:h})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(e){var t,n=e.detail.model;this.data.model&&((t=this.buttonMeshes={}).menu=n.getObjectByName("AppButton_AppButton_Cylinder.004"),t.system=n.getObjectByName("HomeButton_HomeButton_Cylinder.005"),t.trackpad=n.getObjectByName("TouchPad_TouchPad_Cylinder.003"),t.touchpad=n.getObjectByName("TouchPad_TouchPad_Cylinder.003"),n.position.set(0,0,-.04))},onAxisMoved:function(e){s(this,this.mapping.axes,e)},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&this.el.emit(t+"changed",e.detail.state)},updateModel:function(e,t){this.data.model&&this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var n=this.buttonMeshes;if(n&&n[e]){var r;switch(t){case"down":r=this.data.buttonHighlightColor;break;case"touchstart":r=this.data.buttonTouchedColor;break;default:r=this.data.buttonColor}n[e].material.color.set(r)}}})},"./src/components/gearvr-controls.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/utils/bind.js"),a=n("./src/utils/tracked-controls.js"),o=a.checkControllerPresentAndSetup,s=a.emitIfAxesChanged,u=a.onButtonEvent,l=n("./src/utils/index.js").device.isWebXRAvailable,c="https://cdn.aframe.io/controllers/samsung/",h=c+"gear_vr_controller.obj",d=c+"gear_vr_controller.mtl",g=l?"samsung-gearvr":"Gear VR",p=l?{axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad","none","menu"]}:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]};e.exports.Component=r("gearvr-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#000000"},buttonTouchedColor:{type:"color",default:"#777777"},buttonHighlightColor:{type:"color",default:"#FFFFFF"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:p,bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var e=this;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(t){u(t.detail.id,"down",e)},this.onButtonUp=function(t){u(t.detail.id,"up",e)},this.onButtonTouchStart=function(t){u(t.detail.id,"touchstart",e)},this.onButtonTouchEnd=function(t){u(t.detail.id,"touchend",e)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){o(this,g,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{armModel:t.armModel,hand:t.hand,idPrefix:g,id:g,orientationOffset:t.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:h,mtl:d})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(e){var t,n=e.detail.model;this.data.model&&((t=this.buttonMeshes={}).trigger=n.children[2],t.trackpad=n.children[1],t.touchpad=n.children[1])},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&this.el.emit(t+"changed",e.detail.state)},onAxisMoved:function(e){s(this,this.mapping.axes,e)},updateModel:function(e,t){this.data.model&&this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var n=this.buttonMeshes;if(n&&n[e]){var r;switch(t){case"down":r=this.data.buttonHighlightColor;break;case"touchstart":r=this.data.buttonTouchedColor;break;default:r=this.data.buttonColor}n[e].material.color.set(r)}}})},"./src/components/generic-tracked-controller-controls.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/utils/bind.js"),a=n("./src/utils/tracked-controls.js"),o=a.checkControllerPresentAndSetup,s=a.emitIfAxesChanged,u=a.onButtonEvent,l="generic";e.exports.Component=r("generic-tracked-controller-controls",{schema:{hand:{default:""},defaultModel:{default:!0},defaultModelColor:{default:"gray"},orientationOffset:{type:"vec3"},disabled:{default:!1}},mapping:{axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick"]},bindMethods:function(){this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var e=this;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(t){u(t.detail.id,"down",e)},this.onButtonUp=function(t){u(t.detail.id,"up",e)},this.onButtonTouchStart=function(t){u(t.detail.id,"touchstart",e)},this.onButtonTouchEnd=function(t){u(t.detail.id,"touchend",e)},this.controllerPresent=!1,this.wasControllerConnected=!1,this.lastControllerCheck=0,this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods(),this.el.addEventListener("controllerconnected",(function(t){t.detail.name!==e.name&&(e.wasControllerConnected=!0,e.removeEventListeners(),e.removeControllersUpdateListener())}))},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var e=this.data,t=e.hand?e.hand:void 0;o(this,l,{hand:t,iterateControllerProfiles:!0})},play:function(){this.wasControllerConnected||(this.checkIfControllerPresent(),this.addControllersUpdateListener())},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var e=this.el,t=this.data;this.el.components["tracked-controls"]?this.removeEventListeners():(e.setAttribute("tracked-controls",{hand:t.hand,idPrefix:l,orientationOffset:t.orientationOffset,iterateControllerProfiles:!0}),this.data.defaultModel&&this.initDefaultModel())},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&this.el.emit(t+"changed",e.detail.state)},onAxisMoved:function(e){s(this,this.mapping.axes,e)},initDefaultModel:function(){var e=this.modelEl=document.createElement("a-entity");e.setAttribute("geometry",{primitive:"sphere",radius:.03}),e.setAttribute("material",{color:this.data.color}),this.el.appendChild(e)}})},"./src/components/geometry.js":function(e,t,n){var r=n("./src/core/geometry.js").geometries,i=n("./src/core/geometry.js").geometryNames,a=n("./src/core/component.js").registerComponent,o=n("./src/lib/three.js"),s=new o.BufferGeometry;e.exports.Component=a("geometry",{schema:{buffer:{default:!0},primitive:{default:"box",oneOf:i,schemaChange:!0},skipCache:{default:!1}},init:function(){this.geometry=null},update:function(e){var t,n=this.data,r=this.el,i=this.system;this.geometry&&(i.unuseGeometry(e),this.geometry=null),this.geometry=i.getOrCreateGeometry(n),(t=r.getObject3D("mesh"))?t.geometry=this.geometry:((t=new o.Mesh).geometry=this.geometry,this.el.getAttribute("material")||(t.material=new o.MeshStandardMaterial({color:16777215*Math.random(),metalness:0,roughness:.5})),r.setObject3D("mesh",t))},remove:function(){this.system.unuseGeometry(this.data),this.el.getObject3D("mesh").geometry=s,this.geometry=null},updateSchema:function(e){var t=this.oldData&&this.oldData.primitive,n=e.primitive,i=r[n]&&r[n].schema;if(!i)throw new Error("Unknown geometry schema `"+n+"`");t&&t===n||this.extendSchema(i)}})},"./src/components/gltf-model.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/lib/three.js"),a=n("./src/utils/index.js").debug("components:gltf-model:warn");e.exports.Component=r("gltf-model",{schema:{type:"model"},init:function(){var e=this,t=this.system.getDRACOLoader(),n=this.system.getMeshoptDecoder(),r=this.system.getKTX2Loader();this.model=null,this.loader=new i.GLTFLoader,t&&this.loader.setDRACOLoader(t),this.ready=n?n.then((function(t){e.loader.setMeshoptDecoder(t)})):Promise.resolve(),r&&this.loader.setKTX2Loader(r)},update:function(){var e=this,t=this.el,n=this.data;n&&(this.remove(),this.ready.then((function(){e.loader.load(n,(function(n){e.model=n.scene||n.scenes[0],e.model.animations=n.animations,t.setObject3D("mesh",e.model),t.emit("model-loaded",{format:"gltf",model:e.model})}),void 0,(function(e){var r=e&&e.message?e.message:"Failed to load glTF model";a(r),t.emit("model-error",{format:"gltf",src:n})}))})))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},"./src/components/hand-controls.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i={toonLeft:"https://cdn.aframe.io/controllers/hands/leftHand.glb",toonRight:"https://cdn.aframe.io/controllers/hands/rightHand.glb",lowPolyLeft:"https://cdn.aframe.io/controllers/hands/leftHandLow.glb",lowPolyRight:"https://cdn.aframe.io/controllers/hands/rightHandLow.glb",highPolyLeft:"https://cdn.aframe.io/controllers/hands/leftHandHigh.glb",highPolyRight:"https://cdn.aframe.io/controllers/hands/rightHandHigh.glb"},a="Open",o="Point",s="Point + Thumb",u="Fist",l="Hold",c="Thumb Up",h={};function d(e,t){var n;if(e)return"grip"===(n=h[e])?n+(t?"close":"open"):"point"===n?n+(t?"up":"down"):"pointing"===n||"pistol"===n?n+(t?"start":"end"):void 0}h[u]="grip",h[c]="pistol",h[o]="pointing",e.exports.Component=r("hand-controls",{schema:{color:{default:"white",type:"color"},hand:{default:"left"},handModelStyle:{default:"lowPoly",oneOf:["lowPoly","highPoly","toon"]}},init:function(){var e=this,t=this.el;this.gesture=a,this.pressedButtons={},this.touchedButtons={},this.loader=new THREE.GLTFLoader,this.loader.setCrossOrigin("anonymous"),this.onGripDown=function(){e.handleButton("grip","down")},this.onGripUp=function(){e.handleButton("grip","up")},this.onTrackpadDown=function(){e.handleButton("trackpad","down")},this.onTrackpadUp=function(){e.handleButton("trackpad","up")},this.onTrackpadTouchStart=function(){e.handleButton("trackpad","touchstart")},this.onTrackpadTouchEnd=function(){e.handleButton("trackpad","touchend")},this.onTriggerDown=function(){e.handleButton("trigger","down")},this.onTriggerUp=function(){e.handleButton("trigger","up")},this.onTriggerTouchStart=function(){e.handleButton("trigger","touchstart")},this.onTriggerTouchEnd=function(){e.handleButton("trigger","touchend")},this.onGripTouchStart=function(){e.handleButton("grip","touchstart")},this.onGripTouchEnd=function(){e.handleButton("grip","touchend")},this.onThumbstickDown=function(){e.handleButton("thumbstick","down")},this.onThumbstickUp=function(){e.handleButton("thumbstick","up")},this.onAorXTouchStart=function(){e.handleButton("AorX","touchstart")},this.onAorXTouchEnd=function(){e.handleButton("AorX","touchend")},this.onBorYTouchStart=function(){e.handleButton("BorY","touchstart")},this.onBorYTouchEnd=function(){e.handleButton("BorY","touchend")},this.onSurfaceTouchStart=function(){e.handleButton("surface","touchstart")},this.onSurfaceTouchEnd=function(){e.handleButton("surface","touchend")},this.onControllerConnected=this.onControllerConnected.bind(this),this.onControllerDisconnected=this.onControllerDisconnected.bind(this),t.addEventListener("controllerconnected",this.onControllerConnected),t.addEventListener("controllerdisconnected",this.onControllerDisconnected),t.object3D.visible=!1},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},tick:function(e,t){var n=this.el.getObject3D("mesh");n&&n.mixer&&n.mixer.update(t/1e3)},onControllerConnected:function(){this.el.object3D.visible=!0},onControllerDisconnected:function(){this.el.object3D.visible=!1},addEventListeners:function(){var e=this.el;e.addEventListener("gripdown",this.onGripDown),e.addEventListener("gripup",this.onGripUp),e.addEventListener("trackpaddown",this.onTrackpadDown),e.addEventListener("trackpadup",this.onTrackpadUp),e.addEventListener("trackpadtouchstart",this.onTrackpadTouchStart),e.addEventListener("trackpadtouchend",this.onTrackpadTouchEnd),e.addEventListener("triggerdown",this.onTriggerDown),e.addEventListener("triggerup",this.onTriggerUp),e.addEventListener("triggertouchstart",this.onTriggerTouchStart),e.addEventListener("triggertouchend",this.onTriggerTouchEnd),e.addEventListener("griptouchstart",this.onGripTouchStart),e.addEventListener("griptouchend",this.onGripTouchEnd),e.addEventListener("thumbstickdown",this.onThumbstickDown),e.addEventListener("thumbstickup",this.onThumbstickUp),e.addEventListener("abuttontouchstart",this.onAorXTouchStart),e.addEventListener("abuttontouchend",this.onAorXTouchEnd),e.addEventListener("bbuttontouchstart",this.onBorYTouchStart),e.addEventListener("bbuttontouchend",this.onBorYTouchEnd),e.addEventListener("xbuttontouchstart",this.onAorXTouchStart),e.addEventListener("xbuttontouchend",this.onAorXTouchEnd),e.addEventListener("ybuttontouchstart",this.onBorYTouchStart),e.addEventListener("ybuttontouchend",this.onBorYTouchEnd),e.addEventListener("surfacetouchstart",this.onSurfaceTouchStart),e.addEventListener("surfacetouchend",this.onSurfaceTouchEnd)},removeEventListeners:function(){var e=this.el;e.removeEventListener("gripdown",this.onGripDown),e.removeEventListener("gripup",this.onGripUp),e.removeEventListener("trackpaddown",this.onTrackpadDown),e.removeEventListener("trackpadup",this.onTrackpadUp),e.removeEventListener("trackpadtouchstart",this.onTrackpadTouchStart),e.removeEventListener("trackpadtouchend",this.onTrackpadTouchEnd),e.removeEventListener("triggerdown",this.onTriggerDown),e.removeEventListener("triggerup",this.onTriggerUp),e.removeEventListener("triggertouchstart",this.onTriggerTouchStart),e.removeEventListener("triggertouchend",this.onTriggerTouchEnd),e.removeEventListener("griptouchstart",this.onGripTouchStart),e.removeEventListener("griptouchend",this.onGripTouchEnd),e.removeEventListener("thumbstickdown",this.onThumbstickDown),e.removeEventListener("thumbstickup",this.onThumbstickUp),e.removeEventListener("abuttontouchstart",this.onAorXTouchStart),e.removeEventListener("abuttontouchend",this.onAorXTouchEnd),e.removeEventListener("bbuttontouchstart",this.onBorYTouchStart),e.removeEventListener("bbuttontouchend",this.onBorYTouchEnd),e.removeEventListener("xbuttontouchstart",this.onAorXTouchStart),e.removeEventListener("xbuttontouchend",this.onAorXTouchEnd),e.removeEventListener("ybuttontouchstart",this.onBorYTouchStart),e.removeEventListener("ybuttontouchend",this.onBorYTouchEnd),e.removeEventListener("surfacetouchstart",this.onSurfaceTouchStart),e.removeEventListener("surfacetouchend",this.onSurfaceTouchEnd)},update:function(e){var t,n=this.el,r=this.data.hand,a=this.data.handModelStyle,o=this.data.color,s=this;if(t={hand:r,model:!1},r!==e){var u=i[a+r.charAt(0).toUpperCase()+r.slice(1)];this.loader.load(u,(function(e){var i=e.scene.children[0],a="left"===r?Math.PI/2:-Math.PI/2,u=n.sceneEl.hasWebXR?-Math.PI/2:0;i.mixer=new THREE.AnimationMixer(i),s.clips=e.animations,n.setObject3D("mesh",i),i.children[1].material.color=new THREE.Color(o),i.position.set(0,0,0),i.rotation.set(u,0,a),n.setAttribute("magicleap-controls",t),n.setAttribute("vive-controls",t),n.setAttribute("oculus-touch-controls",t),n.setAttribute("windows-motion-controls",t),n.setAttribute("hp-mixed-reality-controls",t)}))}},remove:function(){this.el.removeObject3D("mesh")},handleButton:function(e,t){var n,r="down"===t,i="touchstart"===t;if(0===t.indexOf("touch")){if(i===this.touchedButtons[e])return;this.touchedButtons[e]=i}else{if(r===this.pressedButtons[e])return;this.pressedButtons[e]=r}n=this.gesture,this.gesture=this.determineGesture(),this.gesture!==n&&(this.animateGesture(this.gesture,n),this.emitGestureEvents(this.gesture,n))},determineGesture:function(){var e,t=this.pressedButtons.grip,n=this.pressedButtons.surface||this.touchedButtons.surface,r=this.pressedButtons.trackpad||this.touchedButtons.trackpad,i=this.pressedButtons.trigger||this.touchedButtons.trigger,a=this.touchedButtons.AorX||this.touchedButtons.BorY;return function(e){var t=e&&e.controller,n=t&&(t.id&&0===t.id.indexOf("OpenVR ")||t.profiles&&t.profiles[0]&&"htc-vive"===t.profiles[0]);return n}(this.el.components["tracked-controls"])?t||i?e=u:r&&(e=o):t?e=n||a||r?i?u:o:i?c:s:i&&(e=l),e},getClip:function(e){var t,n;for(n=0;n<this.clips.length;n++)if((t=this.clips[n]).name===e)return t},animateGesture:function(e,t){e?this.playAnimation(e||a,t,!1):this.playAnimation(t,t,!0)},emitGestureEvents:function(e,t){var n,r=this.el;t!==e&&((n=d(t,!1))&&r.emit(n),(n=d(e,!0))&&r.emit(n))},playAnimation:function(e,t,n){var r,i,a,o=this.el.getObject3D("mesh");if(o){if(o.mixer.stopAllAction(),r=this.getClip(e),(a=o.mixer.clipAction(r)).clampWhenFinished=!0,a.loop=THREE.LoopRepeat,a.repetitions=0,a.timeScale=n?-1:1,a.time=n?r.duration:0,a.weight=1,!t||e===t)return o.mixer.stopAllAction(),void a.play();r=this.getClip(t),(i=o.mixer.clipAction(r)).weight=.15,i.play(),a.play(),i.crossFadeTo(a,.15,!0)}}})},"./src/components/hand-tracking-controls.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/utils/bind.js"),a=n("./src/utils/tracked-controls.js").checkControllerPresentAndSetup,o=["wrist","thumb-metacarpal","thumb-phalanx-proximal","thumb-phalanx-distal","thumb-tip","index-finger-metacarpal","index-finger-phalanx-proximal","index-finger-phalanx-intermediate","index-finger-phalanx-distal","index-finger-tip","middle-finger-metacarpal","middle-finger-phalanx-proximal","middle-finger-phalanx-intermediate","middle-finger-phalanx-distal","middle-finger-tip","ring-finger-metacarpal","ring-finger-phalanx-proximal","ring-finger-phalanx-intermediate","ring-finger-phalanx-distal","ring-finger-tip","pinky-finger-metacarpal","pinky-finger-phalanx-proximal","pinky-finger-phalanx-intermediate","pinky-finger-phalanx-distal","pinky-finger-tip"];e.exports.Component=r("hand-tracking-controls",{schema:{hand:{default:"right",oneOf:["left","right"]},modelStyle:{default:"mesh",oneOf:["dots","mesh"]},modelColor:{default:"white"}},bindMethods:function(){this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this)},addEventListeners:function(){this.el.addEventListener("model-loaded",this.onModelLoaded);for(var e=0;e<this.jointEls.length;++e)this.jointEls[e].object3D.visible=!0},removeEventListeners:function(){this.el.removeEventListener("model-loaded",this.onModelLoaded);for(var e=0;e<this.jointEls.length;++e)this.jointEls[e].object3D.visible=!1},init:function(){var e=this.el.sceneEl,t=e.getAttribute("webxr").optionalFeatures;t.push("hand-tracking"),e.setAttribute("webxr",{optionalFeatures:t}),this.onModelLoaded=this.onModelLoaded.bind(this),this.jointEls=[],this.controllerPresent=!1,this.isPinched=!1,this.pinchEventDetail={position:new THREE.Vector3},this.indexTipPosition=new THREE.Vector3,this.bindMethods(),this.updateReferenceSpace=this.updateReferenceSpace.bind(this),this.el.sceneEl.addEventListener("enter-vr",this.updateReferenceSpace),this.el.sceneEl.addEventListener("exit-vr",this.updateReferenceSpace)},updateReferenceSpace:function(){var e=this,t=this.el.sceneEl.xrSession;if(this.referenceSpace=void 0,t){var n=e.el.sceneEl.systems.webxr.sessionReferenceSpaceType;t.requestReferenceSpace(n).then((function(t){e.referenceSpace=t.getOffsetReferenceSpace(new XRRigidTransform({x:0,y:1.5,z:0}))})).catch((function(t){throw e.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(n,"tracked-controls-webxr uses reference space "+n),t}))}},checkIfControllerPresent:function(){var e=this.data,t=e.hand?e.hand:void 0;a(this,"",{hand:t,iterateControllerProfiles:!0,handTracking:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},tick:function(){var e=this.el.sceneEl,t=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,n=e.frame,r=this.el.components["tracked-controls-webxr"];t&&n&&r&&t.hand&&(this.el.object3D.position.set(0,0,0),this.el.object3D.rotation.set(0,0,0),n.getJointPose&&this.updateHandModel(),this.detectGesture())},updateHandModel:function(){"dots"===this.data.modelStyle&&this.updateHandDotsModel(),"mesh"===this.data.modelStyle&&this.updateHandMeshModel()},getBone:function(e){for(var t=this.bones,n=0;n<t.length;n++)if(t[n].name===e)return t[n];return null},updateHandMeshModel:function(){var e=this.el.sceneEl.frame,t=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,n=this.referenceSpace;if(t&&this.mesh&&n){this.mesh.visible=!1;var r,i=g(t.hand.values());try{for(i.s();!(r=i.n()).done;){var a,o,s,u=r.value;o=e.getJointPose(u,n),null!=(a=this.getBone(u.jointName))&&o&&(s=o.transform,this.mesh.visible=!0,a.position.copy(s.position),a.quaternion.copy(s.orientation))}}catch(l){i.e(l)}finally{i.f()}}},updateHandDotsModel:function(){var e,t,n,r,i=this.el.sceneEl.frame,a=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,o=this.el.components["tracked-controls-webxr"].system.referenceSpace,s=0,u=g(a.hand.values());try{for(u.s();!(r=u.n()).done;){var l=r.value;t=(e=this.jointEls[s++]).object3D,n=i.getJointPose(l,o),e.object3D.visible=!!n,n&&(t.matrix.elements=n.transform.matrix,t.matrix.decompose(t.position,t.rotation,t.scale),e.setAttribute("scale",{x:n.radius,y:n.radius,z:n.radius}))}}catch(c){u.e(c)}finally{u.f()}},detectGesture:function(){this.detectPinch()},detectPinch:function(){var e=new THREE.Vector3;return function(){var t=this.el.sceneEl.frame,n=this.indexTipPosition,r=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,i=this.el.components["tracked-controls-webxr"],a=this.referenceSpace||i.system.referenceSpace,o=r.hand.get("index-finger-tip"),s=r.hand.get("thumb-tip");if(o&&s){var u=t.getJointPose(o,a),l=t.getJointPose(s,a);if(u&&l){e.copy(l.transform.position),n.copy(u.transform.position);var c=n.distanceTo(e);c<.015&&!1===this.isPinched&&(this.isPinched=!0,this.pinchEventDetail.position.copy(n).lerp(e,.5),this.pinchEventDetail.position.y+=1.5,this.el.emit("pinchstarted",this.pinchEventDetail)),c>.03&&!0===this.isPinched&&(this.isPinched=!1,this.pinchEventDetail.position.copy(n).lerp(e,.5),this.pinchEventDetail.position.y+=1.5,this.el.emit("pinchended",this.pinchEventDetail)),this.isPinched&&(this.pinchEventDetail.position.copy(n).lerp(e,.5),this.pinchEventDetail.position.y+=1.5,this.el.emit("pinchmoved",this.pinchEventDetail)),n.y+=1.5}}}}(),pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{hand:t.hand,iterateControllerProfiles:!0,handTrackingEnabled:!0}),this.initDefaultModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){var e;this.checkIfControllerPresent(),e=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,this.el.getObject3D("mesh")&&(e&&e.hand&&e.hand[0]||(this.el.getObject3D("mesh").visible=!1))},initDefaultModel:function(){this.el.getObject3D("mesh")||("dots"===this.data.modelStyle&&this.initDotsModel(),"mesh"===this.data.modelStyle&&this.initMeshHandModel())},initDotsModel:function(){if(0===this.jointEls.length)for(var e=0;e<o.length;++e){var t=this.jointEl=document.createElement("a-entity");t.setAttribute("geometry",{primitive:"sphere",radius:1}),t.setAttribute("material",{color:this.data.modelColor}),t.object3D.visible=!1,this.el.appendChild(t),this.jointEls.push(t)}},initMeshHandModel:function(){var e="left"===this.data.hand?"https://cdn.aframe.io/controllers/oculus-hands/v4/left.glb":"https://cdn.aframe.io/controllers/oculus-hands/v4/right.glb";this.el.setAttribute("gltf-model",e)},onModelLoaded:function(){var e=this.mesh=this.el.getObject3D("mesh").children[0],t=this.skinnedMesh=e.getObjectByProperty("type","SkinnedMesh");this.skinnedMesh&&(this.bones=t.skeleton.bones,this.el.removeObject3D("mesh"),e.position.set(0,1.5,0),e.rotation.set(0,0,0),t.frustumCulled=!1,t.material=new THREE.MeshStandardMaterial({skinning:!0,color:this.data.modelColor}),this.el.setObject3D("mesh",e))}})},"./src/components/hide-on-enter-ar.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent;e.exports.Component=r("hide-on-enter-ar",{init:function(){var e=this;this.el.sceneEl.addEventListener("enter-vr",(function(){e.el.sceneEl.is("ar-mode")&&(e.el.object3D.visible=!1)})),this.el.sceneEl.addEventListener("exit-vr",(function(){e.el.object3D.visible=!0}))}})},"./src/components/hp-mixed-reality-controls.js":function(e,t,n){var r=n("./src/utils/bind.js"),i=n("./src/core/component.js").registerComponent,a=n("./src/lib/three.js"),o=n("./src/utils/tracked-controls.js"),s=o.checkControllerPresentAndSetup,u=o.emitIfAxesChanged,l=o.onButtonEvent,c="hp-mixed-reality",h={x:0,y:0,z:.06},d={_x:Math.PI/4,_y:0,_z:0,_order:"XYZ"};e.exports.Component=i("hp-mixed-reality-controls",{schema:{hand:{default:"none"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:{left:{axes:{touchpad:[2,3]},buttons:["trigger","grip","none","thumbstick","xbutton","ybutton"]},right:{axes:{touchpad:[2,3]},buttons:["trigger","grip","none","thumbstick","abutton","bbutton"]}},init:function(){var e=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=r(this.onButtonChanged,this),this.onButtonDown=function(t){l(t.detail.id,"down",e,e.data.hand)},this.onButtonUp=function(t){l(t.detail.id,"up",e,e.data.hand)},this.onButtonTouchEnd=function(t){l(t.detail.id,"touchend",e,e.data.hand)},this.onButtonTouchStart=function(t){l(t.detail.id,"touchstart",e,e.data.hand)},this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},update:function(){var e=this.data;this.controllerIndex="right"===e.hand?0:"left"===e.hand?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=r(this.onModelLoaded,this),this.onControllersUpdate=r(this.onControllersUpdate,this),this.checkIfControllerPresent=r(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=r(this.removeControllersUpdateListener,this),this.onAxisMoved=r(this.onAxisMoved,this)},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("axismove",this.onAxisMoved),e.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("axismove",this.onAxisMoved),e.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var e=this.data;s(this,c,{index:this.controllerIndex,hand:e.hand})},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{idPrefix:c,hand:t.hand,controller:this.controllerIndex,orientationOffset:t.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model","https://cdn.aframe.io/controllers/hp/mixed-reality/"+this.data.hand+".glb")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(e){var t,n=this.mapping[this.data.hand].buttons[e.detail.id];n&&("trigger"===n&&(t=e.detail.state.value,console.log("analog value of trigger press: "+t)),this.el.emit(n+"changed",e.detail.state))},onModelLoaded:function(e){var t=e.detail.model;this.data.model&&(t.position.copy(h),t.rotation.copy(d),this.el.emit("controllermodelready",{name:"hp-mixed-reality-controls",model:this.data.model,rayOrigin:new a.Vector3(0,0,0)}))},onAxisMoved:function(e){u(this,this.mapping.axes,e)}})},"./src/components/index.js":function(e,t,n){n("./src/components/animation.js"),n("./src/components/camera.js"),n("./src/components/cursor.js"),n("./src/components/daydream-controls.js"),n("./src/components/gearvr-controls.js"),n("./src/components/geometry.js"),n("./src/components/generic-tracked-controller-controls.js"),n("./src/components/gltf-model.js"),n("./src/components/hand-tracking-controls.js"),n("./src/components/hand-controls.js"),n("./src/components/hide-on-enter-ar.js"),n("./src/components/hp-mixed-reality-controls.js"),n("./src/components/layer.js"),n("./src/components/laser-controls.js"),n("./src/components/light.js"),n("./src/components/line.js"),n("./src/components/link.js"),n("./src/components/look-controls.js"),n("./src/components/magicleap-controls.js"),n("./src/components/material.js"),n("./src/components/obj-model.js"),n("./src/components/oculus-go-controls.js"),n("./src/components/oculus-touch-controls.js"),n("./src/components/position.js"),n("./src/components/raycaster.js"),n("./src/components/rotation.js"),n("./src/components/scale.js"),n("./src/components/shadow.js"),n("./src/components/sound.js"),n("./src/components/text.js"),n("./src/components/tracked-controls.js"),n("./src/components/tracked-controls-webvr.js"),n("./src/components/tracked-controls-webxr.js"),n("./src/components/visible.js"),n("./src/components/valve-index-controls.js"),n("./src/components/vive-controls.js"),n("./src/components/vive-focus-controls.js"),n("./src/components/wasd-controls.js"),n("./src/components/windows-motion-controls.js"),n("./src/components/scene/ar-hit-test.js"),n("./src/components/scene/background.js"),n("./src/components/scene/debug.js"),n("./src/components/scene/device-orientation-permission-ui.js"),n("./src/components/scene/embedded.js"),n("./src/components/scene/inspector.js"),n("./src/components/scene/fog.js"),n("./src/components/scene/keyboard-shortcuts.js"),n("./src/components/scene/pool.js"),n("./src/components/scene/reflection.js"),n("./src/components/scene/screenshot.js"),n("./src/components/scene/stats.js"),n("./src/components/scene/vr-mode-ui.js")},"./src/components/laser-controls.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/utils/index.js");r("laser-controls",{schema:{hand:{default:"right"},model:{default:!0},defaultModelColor:{type:"color",default:"grey"}},init:function(){var e=this.config,t=this.data,n=this.el,r=this,a={hand:t.hand,model:t.model};function o(t){var a=e[t.detail.name];if(a){var o=i.extend({showLine:!0},a.raycaster||{});t.detail.rayOrigin&&(o.origin=t.detail.rayOrigin.origin,o.direction=t.detail.rayOrigin.direction,o.showLine=!0),t.detail.rayOrigin||!r.modelReady?n.setAttribute("raycaster",o):n.setAttribute("raycaster","showLine",!0),n.setAttribute("cursor",i.extend({fuse:!1},a.cursor))}}n.setAttribute("daydream-controls",a),n.setAttribute("gearvr-controls",a),n.setAttribute("hp-mixed-reality-controls",a),n.setAttribute("magicleap-controls",a),n.setAttribute("oculus-go-controls",a),n.setAttribute("oculus-touch-controls",a),n.setAttribute("valve-index-controls",a),n.setAttribute("vive-controls",a),n.setAttribute("vive-focus-controls",a),n.setAttribute("windows-motion-controls",a),n.setAttribute("generic-tracked-controller-controls",{hand:a.hand}),n.addEventListener("controllerconnected",o),n.addEventListener("controllerdisconnected",(function(){n.setAttribute("raycaster","showLine",!1)})),n.addEventListener("controllermodelready",(function(e){o(e),r.modelReady=!0}))},config:{"daydream-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"gearvr-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:.001,z:0}}},"generic-tracked-controller-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"hp-mixed-reality-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"magicleap-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"oculus-go-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:5e-4,z:0}}},"oculus-touch-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"valve-index-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-focus-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"windows-motion-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{showLine:!1}}}})},"./src/components/layer.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/utils/index.js").debug("components:layer:warn");e.exports.Component=r("layer",{schema:{type:{default:"quad",oneOf:["quad","monocubemap","stereocubemap"]},src:{type:"map"},rotateCubemap:{default:!1},width:{default:0},height:{default:0}},init:function(){var e=this.el.sceneEl.renderer.getContext();this.quaternion=new THREE.Quaternion,this.position=new THREE.Vector3,this.bindMethods(),this.needsRedraw=!1,this.frameBuffer=e.createFramebuffer();var t=this.el.sceneEl.getAttribute("webxr").requiredFeatures;t.push("layers"),this.el.sceneEl.getAttribute("webxr","requiredFeatures",t),this.el.sceneEl.addEventListener("enter-vr",this.onEnterVR),this.el.sceneEl.addEventListener("exit-vr",this.onExitVR)},bindMethods:function(){this.onRequestedReferenceSpace=this.onRequestedReferenceSpace.bind(this),this.onEnterVR=this.onEnterVR.bind(this),this.onExitVR=this.onExitVR.bind(this)},update:function(e){this.data.src!==e.src&&this.updateSrc()},updateSrc:function(){var e=this.data.type;this.texture=void 0,"quad"!==e?"monocubemap"!==e&&"stereocubemap"!==e||this.loadCubeMapImages():this.loadQuadImage()},loadCubeMapImages:function(){var e,t=this.xrGLFactory,n=this.el.sceneEl.frame,r=this.data.src,i=this.data.type;this.visibilityChanged=!1,this.layer&&("monocubemap"!==i&&"stereocubemap"!==i||(r.complete?this.pendingCubeMapUpdate=!1:this.pendingCubeMapUpdate=!0,this.loadingScreen?this.loadingScreen=!1:this.loadingScreen=!0,"monocubemap"===i?(e=t.getSubImage(this.layer,n),this.loadCubeMapImage(e.colorTexture,r,0)):(e=t.getSubImage(this.layer,n,"left"),this.loadCubeMapImage(e.colorTexture,r,0),e=t.getSubImage(this.layer,n,"right"),this.loadCubeMapImage(e.colorTexture,r,6))))},loadQuadImage:function(){var e=this.data.src,t=this;this.el.sceneEl.systems.material.loadTexture(e,{src:e},(function(n){t.el.sceneEl.renderer.initTexture(n),t.texture=n,"VIDEO"===e.tagName&&setTimeout((function(){t.textureIsVideo=!0}),1e3),t.layer&&(t.layer.height=t.data.height/2||t.texture.image.height/1e3,t.layer.width=t.data.width/2||t.texture.image.width/1e3,t.needsRedraw=!0),t.updateQuadPanel()}))},preGenerateCubeMapTextures:function(e,t){"monocubemap"===this.data.type?this.generateCubeMapTextures(e,0,t):(this.generateCubeMapTextures(e,0,t),this.generateCubeMapTextures(e,6,t))},generateCubeMapTextures:function(e,t,n){for(var r,i,a=this.data,o=this.cubeFaceSize,s=Math.min(e.width,e.height),u=[],l=0;l<6;l++){var c=document.createElement("CANVAS");c.width=c.height=o;var h=c.getContext("2d");a.rotateCubemap&&(2!==l&&3!==l||(h.save(),h.translate(o,o),h.rotate(Math.PI))),h.drawImage(e,(l+t)*s,0,s,s,0,0,o,o),h.restore(),n&&n(),u.push(c)}return a.rotateCubemap&&(r=u[0],i=u[1],u[0]=i,u[1]=r,r=u[4],i=u[5],u[4]=i,u[5]=r),n&&n(),u},loadCubeMapImage:function(e,t,n){var r,i=this.el.sceneEl.renderer.getContext();i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!1),i.bindTexture(i.TEXTURE_CUBE_MAP,e),r=!t.complete||this.loadingScreen?this.loadingScreenImages:this.generateCubeMapTextures(t,n);var a=0;r.forEach((function(e,t){i.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,i.RGBA,i.UNSIGNED_BYTE,e),a=i.getError()})),0!==a&&console.log("renderingError, WebGL Error Code: "+a),i.bindTexture(i.TEXTURE_CUBE_MAP,null)},tick:function(){this.el.sceneEl.xrSession&&(!this.layer&&this.el.sceneEl.is("vr-mode")&&this.initLayer(),this.updateTransform(),this.data.src.complete&&(this.pendingCubeMapUpdate||this.loadingScreen||this.visibilityChanged)&&this.loadCubeMapImages(),(this.needsRedraw||this.layer.needsRedraw||this.textureIsVideo)&&("quad"===this.data.type&&this.draw(),this.needsRedraw=!1))},initLayer:function(){var e=this,t=this.data.type;this.el.sceneEl.xrSession.onvisibilitychange=function(t){e.visibilityChanged="hidden"!==t.session.visibilityState},"quad"!==t?"monocubemap"!==t&&"stereocubemap"!==t||this.initCubeMapLayer():this.initQuadLayer()},initQuadLayer:function(){var e=this.el.sceneEl,t=e.renderer.getContext(),n=this.xrGLFactory=new XRWebGLBinding(e.xrSession,t);this.texture&&(this.layer=n.createQuadLayer({space:this.referenceSpace,viewPixelHeight:2048,viewPixelWidth:2048,height:this.data.height/2||this.texture.image.height/1e3,width:this.data.width/2||this.texture.image.width/1e3}),this.initLoadingScreenImages(),e.renderer.xr.addLayer(this.layer))},initCubeMapLayer:function(){var e=this.data.src,t=this.el.sceneEl,n=t.renderer.getContext(),r=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),i=this.cubeFaceSize=Math.min(r,Math.min(e.width,e.height)),a=this.xrGLFactory=new XRWebGLBinding(t.xrSession,n);this.layer=a.createCubeLayer({space:this.referenceSpace,viewPixelWidth:i,viewPixelHeight:i,layout:"monocubemap"===this.data.type?"mono":"stereo",isStatic:!1}),this.initLoadingScreenImages(),this.loadCubeMapImages(),t.renderer.xr.addLayer(this.layer)},initLoadingScreenImages:function(){for(var e=this.cubeFaceSize,t=this.loadingScreenImages=[],n=0;n<6;n++){var r=document.createElement("CANVAS");r.width=r.height=e;var i=r.getContext("2d");r.width=r.height=e,i.fillStyle="black",i.fillRect(0,0,e,e),2!==n&&3!==n&&(i.translate(e,0),i.scale(-1,1),i.fillStyle="white",i.font="30px Arial",i.fillText("Loading",e/2,e/2)),t.push(r)}},destroyLayer:function(){this.layer&&(this.el.sceneEl.renderer.xr.removeLayer(this.layer),this.layer.destroy(),this.layer=void 0)},toggleCompositorLayer:function(){this.enableCompositorLayer(!this.layerEnabled)},enableCompositorLayer:function(e){this.layerEnabled=e,this.quadPanelEl.object3D.visible=!this.layerEnabled},updateQuadPanel:function(){var e=this.quadPanelEl;this.quadPanelEl||(e=this.quadPanelEl=document.createElement("a-entity"),this.el.appendChild(e)),e.setAttribute("material",{shader:"flat",src:this.data.src,transparent:!0}),e.setAttribute("geometry",{primitive:"plane",height:this.data.height||this.texture.image.height/1e3,width:this.data.width||this.texture.image.height/1e3})},draw:function(){var e=this.el.sceneEl,t=this.el.sceneEl.renderer.getContext(),n=this.xrGLFactory.getSubImage(this.layer,e.frame),r=e.renderer.properties.get(this.texture).__webglTexture,i=t.getParameter(t.FRAMEBUFFER_BINDING);t.viewport(n.viewport.x,n.viewport.y,n.viewport.width,n.viewport.height),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n.colorTexture,0),function(e,t,n,r){var i=e.createFramebuffer(),a=n.viewport.x,o=n.viewport.y,s=n.viewport.x+n.viewport.width,u=n.viewport.y+n.viewport.height;"VIDEO"===r.tagName&&(e.bindTexture(e.TEXTURE_2D,t),e.texSubImage2D(e.TEXTURE_2D,0,0,0,r.width,r.height,e.RGB,e.UNSIGNED_BYTE,r)),e.bindFramebuffer(e.READ_FRAMEBUFFER,i),e.framebufferTexture2D(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),e.readBuffer(e.COLOR_ATTACHMENT0),e.blitFramebuffer(0,0,r.width,r.height,a,o,s,u,e.COLOR_BUFFER_BIT,e.NEAREST),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.deleteFramebuffer(i)}(t,r,n,this.data.src),t.bindFramebuffer(t.FRAMEBUFFER,i)},updateTransform:function(){var e=this.el,t=this.position,n=this.quaternion;e.object3D.updateMatrixWorld(),t.setFromMatrixPosition(e.object3D.matrixWorld),n.setFromRotationMatrix(e.object3D.matrixWorld),this.layerEnabled||t.set(0,0,1e8),this.layer.transform=new XRRigidTransform(t,n)},onEnterVR:function(){var e=this.el.sceneEl,t=e.xrSession;e.hasWebXR&&XRWebGLBinding&&t?(t.requestReferenceSpace("local-floor").then(this.onRequestedReferenceSpace),this.needsRedraw=!0,this.layerEnabled=!0,this.quadPanelEl&&(this.quadPanelEl.object3D.visible=!1),this.data.src.play&&this.data.src.play()):i("The layer component requires WebXR and the layers API enabled")},onExitVR:function(){this.quadPanelEl&&(this.quadPanelEl.object3D.visible=!0),this.destroyLayer()},onRequestedReferenceSpace:function(e){this.referenceSpace=e}})},"./src/components/light.js":function(e,t,n){var r=n("./src/utils/bind.js"),i=n("./src/utils/index.js"),a=i.diff,o=n("./src/utils/debug.js"),s=n("./src/core/component.js").registerComponent,u=n("./src/lib/three.js"),l=n("./src/utils/math.js"),c=u.MathUtils.degToRad,h=o("components:light:warn"),d=new u.CubeTextureLoader,g={};e.exports.Component=s("light",{schema:{angle:{default:60,if:{type:["spot"]}},color:{type:"color",if:{type:["ambient","directional","hemisphere","point","spot"]}},envMap:{default:"",if:{type:["probe"]}},groundColor:{type:"color",if:{type:["hemisphere"]}},decay:{default:1,if:{type:["point","spot"]}},distance:{default:0,min:0,if:{type:["point","spot"]}},intensity:{default:1,min:0,if:{type:["ambient","directional","hemisphere","point","spot","probe"]}},penumbra:{default:0,min:0,max:1,if:{type:["spot"]}},type:{default:"directional",oneOf:["ambient","directional","hemisphere","point","spot","probe"],schemaChange:!0},target:{type:"selector",if:{type:["spot","directional"]}},castShadow:{default:!1,if:{type:["point","spot","directional"]}},shadowBias:{default:0,if:{castShadow:!0}},shadowCameraFar:{default:500,if:{castShadow:!0}},shadowCameraFov:{default:90,if:{castShadow:!0}},shadowCameraNear:{default:.5,if:{castShadow:!0}},shadowCameraTop:{default:5,if:{castShadow:!0}},shadowCameraRight:{default:5,if:{castShadow:!0}},shadowCameraBottom:{default:-5,if:{castShadow:!0}},shadowCameraLeft:{default:-5,if:{castShadow:!0}},shadowCameraVisible:{default:!1,if:{castShadow:!0}},shadowCameraAutomatic:{default:"",if:{type:["directional"]}},shadowMapHeight:{default:512,if:{castShadow:!0}},shadowMapWidth:{default:512,if:{castShadow:!0}},shadowRadius:{default:1,if:{castShadow:!0}}},init:function(){var e=this.el;this.light=null,this.defaultTarget=null,this.rendererSystem=this.el.sceneEl.systems.renderer,this.system.registerLight(e)},update:function(e){var t=this.data,n=a(t,e),i=this.light,o=this.rendererSystem,s=this;if(!i||"type"in n)this.setLight(this.data),this.updateShadow();else{var u=!1;Object.keys(n).forEach((function(e){var n=t[e];switch(e){case"color":i.color.set(n),o.applyColorCorrection(i.color);break;case"groundColor":i.groundColor.set(n),o.applyColorCorrection(i.groundColor);break;case"angle":i.angle=c(n);break;case"target":null===n?"spot"!==t.type&&"directional"!==t.type||(i.target=s.defaultTarget):n.hasLoaded?s.onSetTarget(n,i):n.addEventListener("loaded",r(s.onSetTarget,s,n,i));break;case"envMap":s.updateProbeMap(t,i);break;case"castShadow":case"shadowBias":case"shadowCameraFar":case"shadowCameraFov":case"shadowCameraNear":case"shadowCameraTop":case"shadowCameraRight":case"shadowCameraBottom":case"shadowCameraLeft":case"shadowCameraVisible":case"shadowMapHeight":case"shadowMapWidth":case"shadowRadius":u||(s.updateShadow(),u=!0);break;case"shadowCameraAutomatic":t.shadowCameraAutomatic?s.shadowCameraAutomaticEls=Array.from(document.querySelectorAll(t.shadowCameraAutomatic)):s.shadowCameraAutomaticEls=[];break;default:i[e]=n}}))}},tick:function(){var e=new u.Box3,t=new u.Vector3,n=new u.Vector3,r=new u.Matrix4,i=new u.Sphere,a=new u.Vector3;return function(){if("directional"===this.data.type&&this.light.shadow&&this.light.shadow.camera instanceof u.OrthographicCamera&&this.shadowCameraAutomaticEls.length){var o=this.light.shadow.camera;o.getWorldDirection(t),o.getWorldPosition(n),r.copy(o.matrixWorld),r.invert(),o.near=1,o.left=1e5,o.right=-1e5,o.top=-1e5,o.bottom=1e5,this.shadowCameraAutomaticEls.forEach((function(s){e.setFromObject(s.object3D),e.getBoundingSphere(i);var u=l.distanceOfPointFromPlane(n,t,i.center),c=l.nearestPointInPlane(n,t,i.center,a).applyMatrix4(r);o.near=Math.min(-u-i.radius-1,o.near),o.left=Math.min(-i.radius+c.x,o.left),o.right=Math.max(i.radius+c.x,o.right),o.top=Math.max(i.radius+c.y,o.top),o.bottom=Math.min(-i.radius+c.y,o.bottom)})),o.updateProjectionMatrix()}}}(),setLight:function(e){var t=this.el,n=this.getLight(e);n&&(this.light&&t.removeObject3D("light"),this.light=n,this.light.el=t,t.setObject3D("light",this.light),"spot"!==e.type&&"directional"!==e.type&&"hemisphere"!==e.type||t.getObject3D("light").translateY(-1),"spot"===e.type&&(t.setObject3D("light-target",this.defaultTarget),t.getObject3D("light-target").position.set(0,0,-1)),e.shadowCameraAutomatic?this.shadowCameraAutomaticEls=Array.from(document.querySelectorAll(e.shadowCameraAutomatic)):this.shadowCameraAutomaticEls=[])},updateShadow:function(){var e=this.el,t=this.data,n=this.light;n.castShadow=t.castShadow;var r=e.getObject3D("cameraHelper");if(t.shadowCameraVisible&&!r?e.setObject3D("cameraHelper",new u.CameraHelper(n.shadow.camera)):!t.shadowCameraVisible&&r&&e.removeObject3D("cameraHelper"),!t.castShadow)return n;n.shadow.bias=t.shadowBias,n.shadow.radius=t.shadowRadius,n.shadow.mapSize.height=t.shadowMapHeight,n.shadow.mapSize.width=t.shadowMapWidth,n.shadow.camera.near=t.shadowCameraNear,n.shadow.camera.far=t.shadowCameraFar,n.shadow.camera instanceof u.OrthographicCamera?(n.shadow.camera.top=t.shadowCameraTop,n.shadow.camera.right=t.shadowCameraRight,n.shadow.camera.bottom=t.shadowCameraBottom,n.shadow.camera.left=t.shadowCameraLeft):n.shadow.camera.fov=t.shadowCameraFov,n.shadow.camera.updateProjectionMatrix(),r&&r.update()},getLight:function(e){var t=e.angle,n=new u.Color(e.color);this.rendererSystem.applyColorCorrection(n),n=n.getHex();var i=e.decay,a=e.distance,o=new u.Color(e.groundColor);this.rendererSystem.applyColorCorrection(o),o=o.getHex();var s=e.intensity,l=e.type,d=e.target,g=null;switch(l.toLowerCase()){case"ambient":return new u.AmbientLight(n,s);case"directional":return g=new u.DirectionalLight(n,s),this.defaultTarget=g.target,d&&(d.hasLoaded?this.onSetTarget(d,g):d.addEventListener("loaded",r(this.onSetTarget,this,d,g))),g;case"hemisphere":return new u.HemisphereLight(n,o,s);case"point":return new u.PointLight(n,s,a,i);case"spot":return g=new u.SpotLight(n,s,a,c(t),e.penumbra,i),this.defaultTarget=g.target,d&&(d.hasLoaded?this.onSetTarget(d,g):d.addEventListener("loaded",r(this.onSetTarget,this,d,g))),g;case"probe":return g=new u.LightProbe,this.updateProbeMap(e,g),g;default:h("%s is not a valid light type. Choose from ambient, directional, hemisphere, point, spot.",l)}},updateProbeMap:function(e,t){e.envMap||t.copy(new u.LightProbe),g[e.envMap]instanceof window.Promise&&g[e.envMap].then((function(e){t.copy(e)})),g[e.envMap]instanceof u.LightProbe&&t.copy(g[e.envMap]),g[e.envMap]=new window.Promise((function(n){i.srcLoader.validateCubemapSrc(e.envMap,(function(n){d.load(n,(function(n){var r=u.LightProbeGenerator.fromCubeTexture(n);g[e.envMap]=r,t.copy(r)}))}))}))},onSetTarget:function(e,t){t.target=e.object3D},remove:function(){var e=this.el;e.removeObject3D("light"),e.getObject3D("cameraHelper")&&e.removeObject3D("cameraHelper")}})},"./src/components/line.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent;function i(e,t){return!(!e||!t)&&e.x===t.x&&e.y===t.y&&e.z===t.z}e.exports.Component=r("line",{schema:{start:{type:"vec3",default:{x:0,y:0,z:0}},end:{type:"vec3",default:{x:0,y:0,z:0}},color:{type:"color",default:"#74BEC1"},opacity:{type:"number",default:1},visible:{default:!0}},multiple:!0,init:function(){var e,t,n=this.data;this.rendererSystem=this.el.sceneEl.systems.renderer,t=this.material=new THREE.LineBasicMaterial({color:n.color,opacity:n.opacity,transparent:n.opacity<1,visible:n.visible}),(e=this.geometry=new THREE.BufferGeometry).setAttribute("position",new THREE.BufferAttribute(new Float32Array(6),3)),this.rendererSystem.applyColorCorrection(t.color),this.line=new THREE.Line(e,t),this.el.setObject3D(this.attrName,this.line)},update:function(e){var t=this.data,n=this.geometry,r=!1,a=this.material,o=n.attributes.position.array;i(t.start,e.start)||(o[0]=t.start.x,o[1]=t.start.y,o[2]=t.start.z,r=!0),i(t.end,e.end)||(o[3]=t.end.x,o[4]=t.end.y,o[5]=t.end.z,r=!0),r&&(n.attributes.position.needsUpdate=!0,n.computeBoundingSphere()),a.color.setStyle(t.color),this.rendererSystem.applyColorCorrection(a.color),a.opacity=t.opacity,a.transparent=t.opacity<1,a.visible=t.visible},remove:function(){this.el.removeObject3D(this.attrName,this.line)}})},"./src/components/link.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/core/shader.js").registerShader,a=n("./src/lib/three.js");e.exports.Component=r("link",{schema:{backgroundColor:{default:"red",type:"color"},borderColor:{default:"white",type:"color"},highlighted:{default:!1},highlightedColor:{default:"#24CAFF",type:"color"},href:{default:""},image:{type:"asset"},on:{default:"click"},peekMode:{default:!1},title:{default:""},titleColor:{default:"white",type:"color"},visualAspectEnabled:{default:!1}},init:function(){this.navigate=this.navigate.bind(this),this.previousQuaternion=void 0,this.quaternionClone=new a.Quaternion,this.hiddenEls=[]},update:function(e){var t,n,r=this.data,i=this.el;r.visualAspectEnabled&&(this.initVisualAspect(),t=r.highlighted?r.highlightedColor:r.backgroundColor,n=r.highlighted?r.highlightedColor:r.borderColor,i.setAttribute("material","backgroundColor",t),i.setAttribute("material","strokeColor",n),r.on!==e.on&&this.updateEventListener(),void 0!==e.peekMode&&r.peekMode!==e.peekMode&&this.updatePeekMode(),r.image&&e.image!==r.image&&i.setAttribute("material","pano","string"===typeof r.image?r.image:r.image.src))},updatePeekMode:function(){var e=this.el,t=this.sphereEl;this.data.peekMode?(this.hideAll(),e.getObject3D("mesh").visible=!1,t.setAttribute("visible",!0)):(this.showAll(),e.getObject3D("mesh").visible=!0,t.setAttribute("visible",!1))},play:function(){this.updateEventListener()},pause:function(){this.removeEventListener()},updateEventListener:function(){var e=this.el;e.isPlaying&&(this.removeEventListener(),e.addEventListener(this.data.on,this.navigate))},removeEventListener:function(){var e=this.data.on;e&&this.el.removeEventListener(e,this.navigate)},initVisualAspect:function(){var e,t,n,r=this.el;this.data.visualAspectEnabled&&!this.visualAspectInitialized&&(n=this.textEl=this.textEl||document.createElement("a-entity"),t=this.sphereEl=this.sphereEl||document.createElement("a-entity"),e=this.semiSphereEl=this.semiSphereEl||document.createElement("a-entity"),r.setAttribute("geometry",{primitive:"circle",radius:1,segments:64}),r.setAttribute("material",{shader:"portal",pano:this.data.image,side:"double"}),n.setAttribute("text",{color:this.data.titleColor,align:"center",font:"kelsonsans",value:this.data.title||this.data.href,width:4}),n.setAttribute("position","0 1.5 0"),r.appendChild(n),e.setAttribute("geometry",{primitive:"sphere",radius:1,phiStart:0,segmentsWidth:64,segmentsHeight:64,phiLength:180,thetaStart:0,thetaLength:360}),e.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),e.setAttribute("rotation","0 180 0"),e.setAttribute("position","0 0 0"),e.setAttribute("visible",!1),r.appendChild(e),t.setAttribute("geometry",{primitive:"sphere",radius:10,segmentsWidth:64,segmentsHeight:64}),t.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),t.setAttribute("visible",!1),r.appendChild(t),this.visualAspectInitialized=!0)},navigate:function(){window.location=this.data.href},tick:function(){var e=new a.Vector3,t=new a.Vector3,n=new a.Quaternion,r=new a.Vector3;return function(){var i,a,o=this.el,s=o.object3D,u=o.sceneEl.camera,l=this.textEl;if(this.data.visualAspectEnabled)if(s.updateMatrixWorld(),u.parent.updateMatrixWorld(),u.updateMatrixWorld(),s.matrix.decompose(t,n,r),t.setFromMatrixPosition(s.matrixWorld),e.setFromMatrixPosition(u.matrixWorld),(a=t.distanceTo(e))>20)this.previousQuaternion||(this.quaternionClone.copy(n),this.previousQuaternion=this.quaternionClone),s.lookAt(e);else{if(i=this.calculateCameraPortalOrientation(),a<.5){if(!0===this.semiSphereEl.getAttribute("visible"))return;l.setAttribute("text","width",1.5),i<=0?(l.setAttribute("position","0 0 0.75"),l.setAttribute("rotation","0 180 0"),this.semiSphereEl.setAttribute("rotation","0 0 0")):(l.setAttribute("position","0 0 -0.75"),l.setAttribute("rotation","0 0 0"),this.semiSphereEl.setAttribute("rotation","0 180 0")),o.getObject3D("mesh").visible=!1,this.semiSphereEl.setAttribute("visible",!0),this.peekCameraPortalOrientation=i}else i<=0?l.setAttribute("rotation","0 180 0"):l.setAttribute("rotation","0 0 0"),l.setAttribute("text","width",5),l.setAttribute("position","0 1.5 0"),o.getObject3D("mesh").visible=!0,this.semiSphereEl.setAttribute("visible",!1),this.peekCameraPortalOrientation=void 0;this.previousQuaternion&&(s.quaternion.copy(this.previousQuaternion),this.previousQuaternion=void 0)}}}(),hideAll:function(){var e=this.el,t=this.hiddenEls,n=this;t.length>0||e.sceneEl.object3D.traverse((function(r){r&&r.el&&r.el.hasAttribute("link-controls")||r.el&&r!==e.sceneEl.object3D&&r.el!==e&&r.el!==n.sphereEl&&r.el!==e.sceneEl.cameraEl&&!1!==r.el.getAttribute("visible")&&r.el!==n.textEl&&r.el!==n.semiSphereEl&&(r.el.setAttribute("visible",!1),t.push(r.el))}))},showAll:function(){this.hiddenEls.forEach((function(e){e.setAttribute("visible",!0)})),this.hiddenEls=[]},calculateCameraPortalOrientation:function(){var e=new a.Matrix4,t=new a.Vector3,n=new a.Vector3(0,0,1),r=new a.Vector3(0,0,0);return function(){var i=this.el,a=i.sceneEl.camera;return t.set(0,0,0),n.set(0,0,1),r.set(0,0,0),i.object3D.matrixWorld.extractRotation(e),n.applyMatrix4(e),i.object3D.updateMatrixWorld(),i.object3D.localToWorld(r),a.parent.parent.updateMatrixWorld(),a.parent.updateMatrixWorld(),a.updateMatrixWorld(),a.localToWorld(t),t.sub(r).normalize(),n.normalize(),Math.sign(n.dot(t))}}(),remove:function(){this.removeEventListener()}}),i("portal",{schema:{borderEnabled:{default:1,type:"int",is:"uniform"},backgroundColor:{default:"red",type:"color",is:"uniform"},pano:{type:"map",is:"uniform"},strokeColor:{default:"white",type:"color",is:"uniform"}},vertexShader:["vec3 portalPosition;","varying vec3 vWorldPosition;","varying float vDistanceToCenter;","varying float vDistance;","void main() {","vDistanceToCenter = clamp(length(position - vec3(0.0, 0.0, 0.0)), 0.0, 1.0);","portalPosition = (modelMatrix * vec4(0.0, 0.0, 0.0, 1.0)).xyz;","vDistance = length(portalPosition - cameraPosition);","vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;","gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI2 0.15915494","uniform sampler2D pano;","uniform vec3 strokeColor;","uniform vec3 backgroundColor;","uniform float borderEnabled;","varying float vDistanceToCenter;","varying float vDistance;","varying vec3 vWorldPosition;","void main() {","vec3 direction = normalize(vWorldPosition - cameraPosition);","vec2 sampleUV;","float borderThickness = clamp(exp(-vDistance / 50.0), 0.6, 0.95);","sampleUV.y = clamp(direction.y * 0.5  + 0.5, 0.0, 1.0);","sampleUV.x = atan(direction.z, -direction.x) * -RECIPROCAL_PI2 + 0.5;","if (vDistanceToCenter > borderThickness && borderEnabled == 1.0) {","gl_FragColor = vec4(strokeColor, 1.0);","} else {","gl_FragColor = mix(texture2D(pano, sampleUV), vec4(backgroundColor, 1.0), clamp(pow((vDistance / 15.0), 2.0), 0.0, 1.0));","}","}"].join("\n")})},"./src/components/look-controls.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/lib/three.js"),a=n("./src/utils/index.js"),o=a.bind,s=Math.PI/2;e.exports.Component=r("look-controls",{dependencies:["position","rotation"],schema:{enabled:{default:!0},magicWindowTrackingEnabled:{default:!0},pointerLockEnabled:{default:!1},reverseMouseDrag:{default:!1},reverseTouchDrag:{default:!1},touchEnabled:{default:!0},mouseEnabled:{default:!0}},init:function(){this.deltaYaw=0,this.previousHMDPosition=new i.Vector3,this.hmdQuaternion=new i.Quaternion,this.magicWindowAbsoluteEuler=new i.Euler,this.magicWindowDeltaEuler=new i.Euler,this.position=new i.Vector3,this.magicWindowObject=new i.Object3D,this.rotation={},this.deltaRotation={},this.savedPose=null,this.pointerLocked=!1,this.setupMouseControls(),this.bindMethods(),this.previousMouseEvent={},this.setupMagicWindowControls(),this.savedPose={position:new i.Vector3,rotation:new i.Euler},(this.el.sceneEl.is("vr-mode")||this.el.sceneEl.is("ar-mode"))&&this.onEnterVR()},setupMagicWindowControls:function(){var e,t=this.data;(a.device.isMobile()||a.device.isMobileDeviceRequestingDesktopSite())&&(e=this.magicWindowControls=new i.DeviceOrientationControls(this.magicWindowObject),"undefined"!==typeof DeviceOrientationEvent&&DeviceOrientationEvent.requestPermission&&(e.enabled=!1,this.el.sceneEl.components["device-orientation-permission-ui"].permissionGranted?e.enabled=t.magicWindowTrackingEnabled:this.el.sceneEl.addEventListener("deviceorientationpermissiongranted",(function(){e.enabled=t.magicWindowTrackingEnabled}))))},update:function(e){var t=this.data;t.enabled!==e.enabled&&this.updateGrabCursor(t.enabled),e&&!t.magicWindowTrackingEnabled&&e.magicWindowTrackingEnabled&&(this.magicWindowAbsoluteEuler.set(0,0,0),this.magicWindowDeltaEuler.set(0,0,0)),this.magicWindowControls&&(this.magicWindowControls.enabled=t.magicWindowTrackingEnabled),e&&!t.pointerLockEnabled!==e.pointerLockEnabled&&(this.removeEventListeners(),this.addEventListeners(),this.pointerLocked&&this.exitPointerLock())},tick:function(e){this.data.enabled&&this.updateOrientation()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},remove:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},bindMethods:function(){this.onMouseDown=o(this.onMouseDown,this),this.onMouseMove=o(this.onMouseMove,this),this.onMouseUp=o(this.onMouseUp,this),this.onTouchStart=o(this.onTouchStart,this),this.onTouchMove=o(this.onTouchMove,this),this.onTouchEnd=o(this.onTouchEnd,this),this.onEnterVR=o(this.onEnterVR,this),this.onExitVR=o(this.onExitVR,this),this.onPointerLockChange=o(this.onPointerLockChange,this),this.onPointerLockError=o(this.onPointerLockError,this)},setupMouseControls:function(){this.mouseDown=!1,this.pitchObject=new i.Object3D,this.yawObject=new i.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},addEventListeners:function(){var e=this.el.sceneEl,t=e.canvas;t?(t.addEventListener("mousedown",this.onMouseDown,!1),window.addEventListener("mousemove",this.onMouseMove,!1),window.addEventListener("mouseup",this.onMouseUp,!1),t.addEventListener("touchstart",this.onTouchStart),window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd),e.addEventListener("enter-vr",this.onEnterVR),e.addEventListener("exit-vr",this.onExitVR),this.data.pointerLockEnabled&&(document.addEventListener("pointerlockchange",this.onPointerLockChange,!1),document.addEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.addEventListener("pointerlockerror",this.onPointerLockError,!1))):e.addEventListener("render-target-loaded",o(this.addEventListeners,this))},removeEventListeners:function(){var e=this.el.sceneEl,t=e&&e.canvas;t&&(t.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),e.removeEventListener("enter-vr",this.onEnterVR),e.removeEventListener("exit-vr",this.onExitVR),document.removeEventListener("pointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("pointerlockerror",this.onPointerLockError,!1))},updateOrientation:function(){var e=this.el.object3D,t=this.pitchObject,n=this.yawObject,r=this.el.sceneEl;(r.is("vr-mode")||r.is("ar-mode"))&&r.checkHeadsetConnected()||(this.updateMagicWindowOrientation(),e.rotation.x=this.magicWindowDeltaEuler.x+t.rotation.x,e.rotation.y=this.magicWindowDeltaEuler.y+n.rotation.y,e.rotation.z=this.magicWindowDeltaEuler.z)},updateMagicWindowOrientation:function(){var e=this.magicWindowAbsoluteEuler,t=this.magicWindowDeltaEuler;this.magicWindowControls&&this.magicWindowControls.enabled&&(this.magicWindowControls.update(),e.setFromQuaternion(this.magicWindowObject.quaternion,"YXZ"),this.previousMagicWindowYaw||0===e.y||(this.previousMagicWindowYaw=e.y),this.previousMagicWindowYaw&&(t.x=e.x,t.y+=e.y-this.previousMagicWindowYaw,t.z=e.z,this.previousMagicWindowYaw=e.y))},onMouseMove:function(e){var t,n,r,i=this.pitchObject,a=this.previousMouseEvent,o=this.yawObject;this.data.enabled&&(this.mouseDown||this.pointerLocked)&&(this.pointerLocked?(n=e.movementX||e.mozMovementX||0,r=e.movementY||e.mozMovementY||0):(n=e.screenX-a.screenX,r=e.screenY-a.screenY),this.previousMouseEvent.screenX=e.screenX,this.previousMouseEvent.screenY=e.screenY,t=this.data.reverseMouseDrag?1:-1,o.rotation.y+=.002*n*t,i.rotation.x+=.002*r*t,i.rotation.x=Math.max(-s,Math.min(s,i.rotation.x)))},onMouseDown:function(e){var t=this.el.sceneEl;if(this.data.enabled&&this.data.mouseEnabled&&(!t.is("vr-mode")&&!t.is("ar-mode")||!t.checkHeadsetConnected())&&0===e.button){var n=t&&t.canvas;this.mouseDown=!0,this.previousMouseEvent.screenX=e.screenX,this.previousMouseEvent.screenY=e.screenY,this.showGrabbingCursor(),this.data.pointerLockEnabled&&!this.pointerLocked&&(n.requestPointerLock?n.requestPointerLock():n.mozRequestPointerLock&&n.mozRequestPointerLock())}},showGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor="grabbing"},hideGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor=""},onMouseUp:function(){this.mouseDown=!1,this.hideGrabbingCursor()},onTouchStart:function(e){1!==e.touches.length||!this.data.touchEnabled||this.el.sceneEl.is("vr-mode")||this.el.sceneEl.is("ar-mode")||(this.touchStart={x:e.touches[0].pageX,y:e.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(e){var t,n,r=this.el.sceneEl.canvas,i=this.yawObject;this.touchStarted&&this.data.touchEnabled&&(n=2*Math.PI*(e.touches[0].pageX-this.touchStart.x)/r.clientWidth,t=this.data.reverseTouchDrag?1:-1,i.rotation.y-=.5*n*t,this.touchStart={x:e.touches[0].pageX,y:e.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1},onEnterVR:function(){var e=this.el.sceneEl;e.checkHeadsetConnected()&&(this.saveCameraPose(),this.el.object3D.position.set(0,0,0),this.el.object3D.rotation.set(0,0,0),e.hasWebXR&&(this.el.object3D.matrixAutoUpdate=!1,this.el.object3D.updateMatrix()))},onExitVR:function(){this.el.sceneEl.checkHeadsetConnected()&&(this.restoreCameraPose(),this.previousHMDPosition.set(0,0,0),this.el.object3D.matrixAutoUpdate=!0)},onPointerLockChange:function(){this.pointerLocked=!(!document.pointerLockElement&&!document.mozPointerLockElement)},onPointerLockError:function(){this.pointerLocked=!1},exitPointerLock:function(){document.exitPointerLock(),this.pointerLocked=!1},updateGrabCursor:function(e){var t=this.el.sceneEl;function n(){t.canvas.classList.add("a-grab-cursor")}function r(){t.canvas.classList.remove("a-grab-cursor")}t.canvas?e?n():r():e?t.addEventListener("render-target-loaded",n):t.addEventListener("render-target-loaded",r)},saveCameraPose:function(){var e=this.el;this.savedPose.position.copy(e.object3D.position),this.savedPose.rotation.copy(e.object3D.rotation),this.hasSavedPose=!0},restoreCameraPose:function(){var e=this.el,t=this.savedPose;this.hasSavedPose&&(e.object3D.position.copy(t.position),e.object3D.rotation.copy(t.rotation),this.hasSavedPose=!1)}})},"./src/components/magicleap-controls.js":function(e,t,n){var r=n("./src/utils/bind.js"),i=n("./src/core/component.js").registerComponent,a=n("./src/utils/tracked-controls.js"),o=a.checkControllerPresentAndSetup,s=a.emitIfAxesChanged,u=a.onButtonEvent,l="magicleap-one";e.exports.Component=i("magicleap-controls",{schema:{hand:{default:"none"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:{axes:{touchpad:[0,1]},buttons:["trigger","grip","touchpad","menu"]},init:function(){var e=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=r(this.onButtonChanged,this),this.onButtonDown=function(t){u(t.detail.id,"down",e)},this.onButtonUp=function(t){u(t.detail.id,"up",e)},this.onButtonTouchEnd=function(t){u(t.detail.id,"touchend",e)},this.onButtonTouchStart=function(t){u(t.detail.id,"touchstart",e)},this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},update:function(){var e=this.data;this.controllerIndex="right"===e.hand?0:"left"===e.hand?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=r(this.onModelLoaded,this),this.onControllersUpdate=r(this.onControllersUpdate,this),this.checkIfControllerPresent=r(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=r(this.removeControllersUpdateListener,this),this.onAxisMoved=r(this.onAxisMoved,this)},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("axismove",this.onAxisMoved),e.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("axismove",this.onAxisMoved),e.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var e=this.data;o(this,l,{index:this.controllerIndex,hand:e.hand})},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{idPrefix:l,hand:t.hand,controller:this.controllerIndex,orientationOffset:t.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model","https://cdn.aframe.io/controllers/magicleap/magicleap-one-controller.glb")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(e){var t,n=this.mapping.buttons[e.detail.id];n&&("trigger"===n&&(t=e.detail.state.value,console.log("analog value of trigger press: "+t)),this.el.emit(n+"changed",e.detail.state))},onModelLoaded:function(e){e.detail.model.scale.set(.01,.01,.01)},onAxisMoved:function(e){s(this,this.mapping.axes,e)},updateModel:function(e,t){},setButtonColor:function(e,t){}})},"./src/components/material.js":function(e,t,n){var r=n("./src/utils/index.js"),i=n("./src/core/component.js"),a=n("./src/lib/three.js"),o=n("./src/core/shader.js"),s=r.debug("components:material:error"),u=i.registerComponent,l=o.shaders,c=o.shaderNames;function h(e,t){e.dispose(),t.unregisterMaterial(e)}e.exports.Component=u("material",{schema:{alphaTest:{default:0,min:0,max:1},depthTest:{default:!0},depthWrite:{default:!0},flatShading:{default:!1},npot:{default:!1},offset:{type:"vec2",default:{x:0,y:0}},opacity:{default:1,min:0,max:1},repeat:{type:"vec2",default:{x:1,y:1}},shader:{default:"standard",oneOf:c,schemaChange:!0},side:{default:"front",oneOf:["front","back","double"]},transparent:{default:!1},vertexColorsEnabled:{default:!1},visible:{default:!0},blending:{default:"normal",oneOf:["none","normal","additive","subtractive","multiply"]},dithering:{default:!0}},init:function(){this.material=null},update:function(e){var t=this.data;this.shader&&t.shader===e.shader||this.updateShader(t.shader),this.shader.update(this.data),this.updateMaterial(e)},updateSchema:function(e){var t,n,r,i;n=e&&e.shader,t=this.oldData&&this.oldData.shader,(r=l[i=n||t]&&l[i].schema)||s("Unknown shader schema "+i),t&&n===t||(this.extendSchema(r),this.updateBehavior())},updateBehavior:function(){var e,t,n=this.el.sceneEl,r=this.schema,i=this;function a(e,n){var r;for(r in t)t[r]=e;i.shader.update(t)}for(e in this.tick=void 0,t={},r)"time"===r[e].type&&(this.tick=a,t[e]=!0);n&&(this.tick?n.addBehavior(this):n.removeBehavior(this))},updateShader:function(e){var t,n=this.data,r=l[e]&&l[e].Shader;if(!r)throw new Error("Unknown shader "+e);(t=this.shader=new r).el=this.el,t.init(n),this.setMaterial(t.material),this.updateSchema(n)},updateMaterial:function(e){var t,n=this.data,r=this.material;for(t in r.alphaTest=n.alphaTest,r.depthTest=!1!==n.depthTest,r.depthWrite=!1!==n.depthWrite,r.opacity=n.opacity,r.flatShading=n.flatShading,r.side=function(e){switch(e){case"back":return a.BackSide;case"double":return a.DoubleSide;default:return a.FrontSide}}(n.side),r.transparent=!1!==n.transparent||n.opacity<1,r.vertexColors=n.vertexColorsEnabled,r.visible=n.visible,r.blending=function(e){switch(e){case"none":return a.NoBlending;case"additive":return a.AdditiveBlending;case"subtractive":return a.SubtractiveBlending;case"multiply":return a.MultiplyBlending;default:return a.NormalBlending}}(n.blending),r.dithering=n.dithering,e)break;!t||e.alphaTest===n.alphaTest&&e.side===n.side&&e.vertexColorsEnabled===n.vertexColorsEnabled||(r.needsUpdate=!0)},remove:function(){var e=new a.MeshBasicMaterial,t=this.material,n=this.el.getObject3D("mesh");n&&(n.material=e),h(t,this.system)},setMaterial:function(e){var t,n=this.el,r=this.system;this.material&&h(this.material,r),this.material=e,r.registerMaterial(e),(t=n.getObject3D("mesh"))?t.material=e:n.addEventListener("object3dset",(function t(r){"mesh"===r.detail.type&&r.target===n&&(n.getObject3D("mesh").material=e,n.removeEventListener("object3dset",t))}))}})},"./src/components/obj-model.js":function(e,t,n){var r=n("./src/utils/debug.js"),i=n("./src/core/component.js").registerComponent,a=n("./src/lib/three.js"),o=r("components:obj-model:warn");e.exports.Component=i("obj-model",{schema:{mtl:{type:"model"},obj:{type:"model"}},init:function(){var e=this;this.model=null,this.objLoader=new a.OBJLoader,this.mtlLoader=new a.MTLLoader(this.objLoader.manager),this.mtlLoader.crossOrigin="",this.el.addEventListener("componentinitialized",(function(t){e.model&&"material"===t.detail.name&&e.applyMaterial()}))},update:function(){var e=this.data;e.obj&&(this.resetMesh(),this.loadObj(e.obj,e.mtl))},remove:function(){this.model&&this.resetMesh()},resetMesh:function(){this.el.removeObject3D("mesh")},loadObj:function(e,t){var n=this,r=this.el,i=this.mtlLoader,a=this.objLoader,s=this.el.sceneEl.systems.renderer,u=t.substr(0,t.lastIndexOf("/")+1);if(t)return r.hasAttribute("material")&&o("Material component properties are ignored when a .MTL is provided"),i.setResourcePath(u),void i.load(t,(function(t){t.preload(),a.setMaterials(t),a.load(e,(function(e){n.model=e,n.model.traverse((function(e){if(e.isMesh){var t=e.material;t.color&&s.applyColorCorrection(t.color),t.map&&s.applyColorCorrection(t.map),t.emissive&&s.applyColorCorrection(t.emissive),t.emissiveMap&&s.applyColorCorrection(t.emissiveMap)}})),r.setObject3D("mesh",e),r.emit("model-loaded",{format:"obj",model:e})}))}));a.load(e,(function(e){n.model=e,n.applyMaterial(),r.setObject3D("mesh",e),r.emit("model-loaded",{format:"obj",model:e})}))},applyMaterial:function(){var e=this.el.components.material;e&&this.model.traverse((function(t){t instanceof a.Mesh&&(t.material=e.material)}))}})},"./src/components/oculus-go-controls.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/utils/bind.js"),a=n("./src/utils/tracked-controls.js"),o=a.checkControllerPresentAndSetup,s=a.emitIfAxesChanged,u=a.onButtonEvent,l=n("./src/utils/index.js").device.isWebXRAvailable,c=l?"oculus-go":"Oculus Go",h=l?{axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad"]}:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]};e.exports.Component=r("oculus-go-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#FFFFFF"},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:h,bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var e=this;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(t){u(t.detail.id,"down",e)},this.onButtonUp=function(t){u(t.detail.id,"up",e)},this.onButtonTouchStart=function(t){u(t.detail.id,"touchstart",e)},this.onButtonTouchEnd=function(t){u(t.detail.id,"touchend",e)},this.controllerPresent=!1,this.lastControllerCheck=0,this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){o(this,c,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{armModel:t.armModel,hand:t.hand,idPrefix:c,orientationOffset:t.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model","https://cdn.aframe.io/controllers/oculus/go/oculus-go-controller.gltf")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(e){var t,n=e.detail.model;this.data.model&&((t=this.buttonMeshes={}).trigger=n.getObjectByName("oculus_go_button_trigger"),t.trackpad=n.getObjectByName("oculus_go_touchpad"),t.touchpad=n.getObjectByName("oculus_go_touchpad"))},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&this.el.emit(t+"changed",e.detail.state)},onAxisMoved:function(e){s(this,this.mapping.axes,e)},updateModel:function(e,t){this.data.model&&this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var n=this.buttonMeshes;if(n&&n[e]){var r,i;switch(t){case"down":r=this.data.buttonHighlightColor;break;case"touchstart":r=this.data.buttonTouchedColor;break;default:r=this.data.buttonColor}(i=n[e]).material.color.set(r),this.rendererSystem.applyColorCorrection(i.material.color)}}})},"./src/components/oculus-touch-controls.js":function(e,t,n){var r=n("./src/utils/bind.js"),i=n("./src/core/component.js").registerComponent,a=n("./src/lib/three.js"),o=n("./src/utils/tracked-controls.js"),s=o.checkControllerPresentAndSetup,u=o.emitIfAxesChanged,l=o.onButtonEvent,c=n("./src/utils/index.js").device.isWebXRAvailable,h="oculus-touch",d=c?h:"Oculus Touch",g="https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-",p="https://cdn.aframe.io/controllers/meta/",f={left:{modelUrl:g+"left.gltf",rayOrigin:{origin:{x:.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new a.Vector3(-.005,.003,-.055),modelPivotRotation:new a.Euler(0,0,0)},right:{modelUrl:g+"right.gltf",rayOrigin:{origin:{x:-.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new a.Vector3(.005,.003,-.055),modelPivotRotation:new a.Euler(0,0,0)}},m={left:{modelUrl:g+"left.gltf",rayOrigin:{origin:{x:.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new a.Vector3(-.005,.036,-.037),modelPivotRotation:new a.Euler(Math.PI/4.5,0,0)},right:{modelUrl:g+"right.gltf",rayOrigin:{origin:{x:-.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new a.Vector3(.005,.036,-.037),modelPivotRotation:new a.Euler(Math.PI/4.5,0,0)}},v="oculus-touch",y={"oculus-touch":c?m:f,"oculus-touch-v2":{left:{modelUrl:g+"gen2-left.gltf",rayOrigin:{origin:{x:-.006,y:-.03,z:-.04},direction:{x:0,y:-.9,z:-1}},modelPivotOffset:new a.Vector3(0,-.007,-.021),modelPivotRotation:new a.Euler(-Math.PI/4,0,0)},right:{modelUrl:g+"gen2-right.gltf",rayOrigin:{origin:{x:.006,y:-.03,z:-.04},direction:{x:0,y:-.9,z:-1}},modelPivotOffset:new a.Vector3(0,-.007,-.021),modelPivotRotation:new a.Euler(-Math.PI/4,0,0)}},"oculus-touch-v3":{left:{modelUrl:g+"v3-left.glb",rayOrigin:{origin:{x:.0065,y:-.0186,z:-.05},direction:{x:.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new a.Vector3(0,0,0),modelPivotRotation:new a.Euler(0,0,0)},right:{modelUrl:g+"v3-right.glb",rayOrigin:{origin:{x:-.0065,y:-.0186,z:-.05},direction:{x:-.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new a.Vector3(0,0,0),modelPivotRotation:new a.Euler(0,0,0)}},"meta-quest-touch-pro":{left:{modelUrl:p+"quest-touch-pro-left.glb",rayOrigin:{origin:{x:.0065,y:-.0186,z:-.05},direction:{x:.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new a.Vector3(0,0,0),modelPivotRotation:new a.Euler(0,0,0)},right:{modelUrl:p+"quest-touch-pro-right.glb",rayOrigin:{origin:{x:-.0065,y:-.0186,z:-.05},direction:{x:-.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new a.Vector3(0,0,0),modelPivotRotation:new a.Euler(0,0,0)}}},A=c?{left:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","abutton","bbutton","surface"]}}:{left:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","abutton","bbutton","surface"]}};function b(e){e.traverse((function(t){var n;"Mesh"===t.type&&(n=t.material.clone(),e.originalColor=t.material.color,t.material.dispose(),t.material=n)}))}e.exports.Component=i("oculus-touch-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#999"},buttonTouchColor:{type:"color",default:"#8AB"},buttonHighlightColor:{type:"color",default:"#2DF"},model:{default:!0},controllerType:{default:"auto",oneOf:["auto","oculus-touch","oculus-touch-v2","oculus-touch-v3"]},orientationOffset:{type:"vec3",default:{x:43,y:0,z:0}}},mapping:A,bindMethods:function(){this.onButtonChanged=r(this.onButtonChanged,this),this.onThumbstickMoved=r(this.onThumbstickMoved,this),this.onModelLoaded=r(this.onModelLoaded,this),this.onControllersUpdate=r(this.onControllersUpdate,this),this.checkIfControllerPresent=r(this.checkIfControllerPresent,this),this.onAxisMoved=r(this.onAxisMoved,this)},init:function(){var e=this;this.onButtonDown=function(t){l(t.detail.id,"down",e,e.data.hand)},this.onButtonUp=function(t){l(t.detail.id,"up",e,e.data.hand)},this.onButtonTouchStart=function(t){l(t.detail.id,"touchstart",e,e.data.hand)},this.onButtonTouchEnd=function(t){l(t.detail.id,"touchend",e,e.data.hand)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods(),this.triggerEuler=new a.Euler},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("axismove",this.onAxisMoved),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("thumbstickmoved",this.onThumbstickMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("axismove",this.onAxisMoved),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("thumbstickmoved",this.onThumbstickMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){s(this,d,{hand:this.data.hand,iterateControllerProfiles:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},loadModel:function(e){var t,n=this.data;if(n.model){if(this.displayModel=y[n.controllerType]||y[v],"auto"===n.controllerType){var r=this.el.sceneEl.systems["tracked-controls-webvr"];if(r&&r.vrDisplay){var i=r.vrDisplay.displayName;/^Oculus Quest$/.test(i)&&(this.displayModel=y["oculus-touch-v2"])}else{t=v;for(var a=Object.keys(y),o=0;o<e.profiles.length;o++)if(-1!==a.indexOf(e.profiles[o])){t=e.profiles[o];break}this.displayModel=y[t]}}var s=this.displayModel[n.hand].modelUrl;this.isOculusTouchV3=this.displayModel===y["oculus-touch-v3"],this.el.setAttribute("gltf-model",s)}},injectTrackedControls:function(e){var t=this.data,n=h,r="right"===t.hand?"Oculus Touch (Right)":"Oculus Touch (Left)",i=c?n:r;this.el.setAttribute("tracked-controls",{id:i,hand:t.hand,orientationOffset:t.orientationOffset,handTrackingEnabled:!1,iterateControllerProfiles:!0,space:"gripSpace"}),this.loadModel(e)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(e){var t=this.mapping[this.data.hand].buttons[e.detail.id];if(t){if(this.isOculusTouchV3)this.onButtonChangedV3(e);else{var n,r=this.buttonMeshes;"trigger"!==t&&"grip"!==t||(n=e.detail.state.value),r&&("trigger"===t&&r.trigger&&(r.trigger.rotation.x=this.originalXRotationTrigger-n*(Math.PI/26)),"grip"===t&&r.grip&&(n*="left"===this.data.hand?-1:1,r.grip.position.x=this.originalXPositionGrip+.004*n))}this.el.emit(t+"changed",e.detail.state)}},clickButtons:["xbutton","ybutton","abutton","bbutton","thumbstick"],onButtonChangedV3:function(e){var t,n=this.mapping[this.data.hand].buttons[e.detail.id],r=this.buttonObjects;r&&(t=e.detail.state.value,t*="left"===this.data.hand?-1:1,"trigger"===n?(this.triggerEuler.copy(this.buttonRanges.trigger.min.rotation),this.triggerEuler.x+=t*this.buttonRanges.trigger.diff.x,this.triggerEuler.y+=t*this.buttonRanges.trigger.diff.y,this.triggerEuler.z+=t*this.buttonRanges.trigger.diff.z,r.trigger.setRotationFromEuler(this.triggerEuler)):"grip"===n?r.grip.position.x=r.grip.minX+.004*t:this.clickButtons.includes(n)&&(r[n].position.y=0===t?this.buttonRanges[n].unpressedY:this.buttonRanges[n].pressedY))},onModelLoaded:function(e){if(this.data.model){if(this.isOculusTouchV3)this.onOculusTouchV3ModelLoaded(e);else{var t,n=this.controllerObject3D=e.detail.model;(t=this.buttonMeshes={}).grip=n.getObjectByName("buttonHand"),this.originalXPositionGrip=t.grip&&t.grip.position.x,t.trigger=n.getObjectByName("buttonTrigger"),this.originalXRotationTrigger=t.trigger&&t.trigger.rotation.x,t.thumbstick=n.getObjectByName("stick"),t.xbutton=n.getObjectByName("buttonX"),t.abutton=n.getObjectByName("buttonA"),t.ybutton=n.getObjectByName("buttonY"),t.bbutton=n.getObjectByName("buttonB")}for(var r in this.buttonMeshes)this.buttonMeshes[r]&&b(this.buttonMeshes[r]);this.applyOffset(e.detail.model),this.el.emit("controllermodelready",{name:"oculus-touch-controls",model:this.data.model,rayOrigin:this.displayModel[this.data.hand].rayOrigin})}},applyOffset:function(e){e.position.copy(this.displayModel[this.data.hand].modelPivotOffset),e.rotation.copy(this.displayModel[this.data.hand].modelPivotRotation)},onOculusTouchV3ModelLoaded:function(e){var t=this.controllerObject3D=e.detail.model,n=this.buttonObjects={},r=this.buttonMeshes={},i=this.buttonRanges={};r.grip=t.getObjectByName("squeeze"),n.grip=t.getObjectByName("xr_standard_squeeze_pressed_value"),i.grip={min:t.getObjectByName("xr_standard_squeeze_pressed_min"),max:t.getObjectByName("xr_standard_squeeze_pressed_max")},n.grip.minX=n.grip.position.x,r.thumbstick=t.getObjectByName("thumbstick"),n.thumbstick=t.getObjectByName("xr_standard_thumbstick_pressed_value"),i.thumbstick={min:t.getObjectByName("xr_standard_thumbstick_pressed_min"),max:t.getObjectByName("xr_standard_thumbstick_pressed_max"),originalRotation:this.buttonObjects.thumbstick.rotation.clone()},i.thumbstick.pressedY=n.thumbstick.position.y,i.thumbstick.unpressedY=i.thumbstick.pressedY+Math.abs(i.thumbstick.max.position.y)-Math.abs(i.thumbstick.min.position.y),r.trigger=t.getObjectByName("trigger"),n.trigger=t.getObjectByName("xr_standard_trigger_pressed_value"),i.trigger={min:t.getObjectByName("xr_standard_trigger_pressed_min"),max:t.getObjectByName("xr_standard_trigger_pressed_max")},i.trigger.diff={x:Math.abs(i.trigger.max.rotation.x)-Math.abs(i.trigger.min.rotation.x),y:Math.abs(i.trigger.max.rotation.y)-Math.abs(i.trigger.min.rotation.y),z:Math.abs(i.trigger.max.rotation.z)-Math.abs(i.trigger.min.rotation.z)};var a="left"===this.data.hand?"x":"a",o="left"===this.data.hand?"y":"b",s=a+"button",u=o+"button";r[s]=t.getObjectByName(a+"_button"),n[s]=t.getObjectByName(a+"_button_pressed_value"),i[s]={min:t.getObjectByName(a+"_button_pressed_min"),max:t.getObjectByName(a+"_button_pressed_max")},r[u]=t.getObjectByName(o+"_button"),n[u]=t.getObjectByName(o+"_button_pressed_value"),i[u]={min:t.getObjectByName(o+"_button_pressed_min"),max:t.getObjectByName(o+"_button_pressed_max")},i[s].unpressedY=n[s].position.y,i[s].pressedY=i[s].unpressedY+Math.abs(i[s].max.position.y)-Math.abs(i[s].min.position.y),i[u].unpressedY=n[u].position.y,i[u].pressedY=i[u].unpressedY-Math.abs(i[u].max.position.y)+Math.abs(i[u].min.position.y)},onAxisMoved:function(e){u(this,this.mapping[this.data.hand].axes,e)},onThumbstickMoved:function(e){if(this.isOculusTouchV3&&this.buttonMeshes&&this.buttonMeshes.thumbstick)for(var t in e.detail)this.buttonObjects.thumbstick.rotation[this.axisMap[t]]=this.buttonRanges.thumbstick.originalRotation[this.axisMap[t]]-Math.PI/8*e.detail[t]*("y"===t||"right"===this.data.hand?-1:1)},axisMap:{y:"x",x:"z"},updateModel:function(e,t){this.data.model&&this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var n,r,i=this.buttonMeshes;i&&i[e]&&(r="up"===t||"touchend"===t?i[e].originalColor||this.data.buttonColor:"touchstart"===t?this.data.buttonTouchColor:this.data.buttonHighlightColor,(n=i[e]).material.color.set(r),this.rendererSystem.applyColorCorrection(n.material.color))}})},"./src/components/position.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent;e.exports.Component=r("position",{schema:{type:"vec3"},update:function(){var e=this.el.object3D,t=this.data;e.position.set(t.x,t.y,t.z)},remove:function(){this.el.object3D.position.set(0,0,0)}})},"./src/components/raycaster.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/lib/three.js"),a=n("./src/utils/index.js").debug("components:raycaster:warn"),o=/^[\w\s-.,[\]#]*$/,s={childList:!0,attributes:!0,subtree:!0},u="raycaster-intersected",l="raycaster-intersection",c="raycaster-intersected-cleared",h="raycaster-intersection-cleared",d="raycaster-closest-entity-changed";function g(e,t){var n;for(e.length=t.length,n=0;n<t.length;n++)e[n]=t[n]}e.exports.Component=r("raycaster",{schema:{autoRefresh:{default:!0},direction:{type:"vec3",default:{x:0,y:0,z:-1}},enabled:{default:!0},far:{default:1e3},interval:{default:0},near:{default:0},objects:{default:""},origin:{type:"vec3"},showLine:{default:!1},lineColor:{default:"white"},lineOpacity:{default:1},useWorldCoordinates:{default:!1}},multiple:!0,init:function(){this.clearedIntersectedEls=[],this.unitLineEndVec3=new i.Vector3,this.intersectedEls=[],this.intersections=[],this.newIntersectedEls=[],this.newIntersections=[],this.objects=[],this.prevCheckTime=void 0,this.prevIntersectedEls=[],this.rawIntersections=[],this.raycaster=new i.Raycaster,this.updateOriginDirection(),this.setDirty=this.setDirty.bind(this),this.updateLine=this.updateLine.bind(this),this.observer=new MutationObserver(this.setDirty),this.dirty=!0,this.lineEndVec3=new i.Vector3,this.otherLineEndVec3=new i.Vector3,this.lineData={end:this.lineEndVec3},this.getIntersection=this.getIntersection.bind(this),this.intersectedDetail={el:this.el,getIntersection:this.getIntersection},this.intersectedClearedDetail={el:this.el},this.intersectionClearedDetail={clearedEls:this.clearedIntersectedEls},this.intersectionDetail={}},update:function(e){var t=this.data,n=this.el,r=this.raycaster;r.far=t.far,r.near=t.near,!t.showLine||t.far===e.far&&t.origin===e.origin&&t.direction===e.direction&&e.showLine||(this.unitLineEndVec3.copy(t.direction).normalize(),this.drawLine()),!t.showLine&&e.showLine&&n.removeAttribute("line"),t.objects===e.objects||o.test(t.objects)||a('[raycaster] Selector "'+t.objects+'" may not update automatically with DOM changes.'),t.objects||a('[raycaster] For performance, please define raycaster.objects when using raycaster or cursor components to whitelist which entities to intersect with. e.g., raycaster="objects: [data-raycastable]".'),t.autoRefresh!==e.autoRefresh&&n.isPlaying&&(t.autoRefresh?this.addEventListeners():this.removeEventListeners()),e.enabled&&!t.enabled&&this.clearAllIntersections(),this.setDirty()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.data.showLine&&this.el.removeAttribute("line"),this.clearAllIntersections()},addEventListeners:function(){this.data.autoRefresh&&(this.observer.observe(this.el.sceneEl,s),this.el.sceneEl.addEventListener("object3dset",this.setDirty),this.el.sceneEl.addEventListener("object3dremove",this.setDirty))},removeEventListeners:function(){this.observer.disconnect(),this.el.sceneEl.removeEventListener("object3dset",this.setDirty),this.el.sceneEl.removeEventListener("object3dremove",this.setDirty)},setDirty:function(){this.dirty=!0},refreshObjects:function(){var e,t=this.data;e=t.objects?this.el.sceneEl.querySelectorAll(t.objects):this.el.sceneEl.querySelectorAll("*"),this.objects=this.flattenObject3DMaps(e),this.dirty=!1},tock:function(e){var t=this.data,n=this.prevCheckTime;t.enabled&&(n&&e-n<t.interval||(this.prevCheckTime=e,this.checkIntersections()))},checkIntersections:function(){var e,t,n=this.clearedIntersectedEls,r=this.el,i=this.data,a=this.intersectedEls,o=this.intersections,s=this.newIntersectedEls,p=this.newIntersections,f=this.prevIntersectedEls,m=this.rawIntersections;for(this.dirty&&this.refreshObjects(),g(this.prevIntersectedEls,this.intersectedEls),this.updateOriginDirection(),m.length=0,this.raycaster.intersectObjects(this.objects,!0,m),o.length=0,a.length=0,e=0;e<m.length;e++)t=m[e],i.showLine&&t.object===r.getObject3D("line")||t.object.el&&(o.push(t),a.push(t.object.el));for(p.length=0,s.length=0,e=0;e<o.length;e++)-1===f.indexOf(o[e].object.el)&&(p.push(o[e]),s.push(o[e].object.el));for(n.length=0,e=0;e<f.length;e++)-1===a.indexOf(f[e])&&(f[e].emit(c,this.intersectedClearedDetail),n.push(f[e]));for(n.length&&r.emit(h,this.intersectionClearedDetail),e=0;e<s.length;e++)s[e].emit(u,this.intersectedDetail);p.length&&(this.intersectionDetail.els=s,this.intersectionDetail.intersections=p,r.emit(l,this.intersectionDetail)),(0===f.length&&o.length>0||f.length>0&&0===o.length||f.length&&o.length&&f[0]!==o[0].object.el)&&(this.intersectionDetail.els=this.intersectedEls,this.intersectionDetail.intersections=o,r.emit(d,this.intersectionDetail)),i.showLine&&setTimeout(this.updateLine)},updateLine:function(){var e,t=this.el,n=this.intersections;n.length&&(e=n[0].object.el===t&&n[1]?n[1].distance:n[0].distance),this.drawLine(e)},getIntersection:function(e){var t,n;for(t=0;t<this.intersections.length;t++)if((n=this.intersections[t]).object.el===e)return n;return null},updateOriginDirection:function(){var e=new i.Vector3,t=new i.Vector3;return function(){var n=this.el,r=this.data;r.useWorldCoordinates?this.raycaster.set(r.origin,r.direction):(n.object3D.updateMatrixWorld(),t.setFromMatrixPosition(n.object3D.matrixWorld),0===r.origin.x&&0===r.origin.y&&0===r.origin.z||(t=n.object3D.localToWorld(t.copy(r.origin))),e.copy(r.direction).transformDirection(n.object3D.matrixWorld).normalize(),this.raycaster.set(t,e))}}(),drawLine:function(e){var t,n=this.data,r=this.el;t=this.lineData.end===this.lineEndVec3?this.otherLineEndVec3:this.lineEndVec3,void 0===e&&(e=n.far===1/0?1e3:n.far),this.lineData.start=n.origin,this.lineData.end=t.copy(this.unitLineEndVec3).multiplyScalar(e).add(n.origin),this.lineData.color=n.lineColor,this.lineData.opacity=n.lineOpacity,r.setAttribute("line",this.lineData)},flattenObject3DMaps:function(e){var t,n,r=this.objects,i=this.el.sceneEl.object3D;function a(e){return e.parent?a(e.parent):e===i}for(r.length=0,n=0;n<e.length;n++){var o=e[n];if(o.isEntity&&o.object3D&&a(o.object3D))for(t in o.object3DMap)r.push(o.getObject3D(t))}return r},clearAllIntersections:function(){var e;for(e=0;e<this.intersectedEls.length;e++)this.intersectedEls[e].emit(c,this.intersectedClearedDetail);g(this.clearedIntersectedEls,this.intersectedEls),this.intersectedEls.length=0,this.intersections.length=0,this.el.emit(h,this.intersectionClearedDetail)}})},"./src/components/rotation.js":function(e,t,n){var r=n("./src/lib/three.js").MathUtils.degToRad,i=n("./src/core/component.js").registerComponent;e.exports.Component=i("rotation",{schema:{type:"vec3"},update:function(){var e=this.data,t=this.el.object3D;t.rotation.set(r(e.x),r(e.y),r(e.z)),t.rotation.order="YXZ"},remove:function(){this.el.object3D.rotation.set(0,0,0)}})},"./src/components/scale.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=1e-5;e.exports.Component=r("scale",{schema:{type:"vec3",default:{x:1,y:1,z:1}},update:function(){var e=this.data,t=this.el.object3D,n=0===e.x?i:e.x,r=0===e.y?i:e.y,a=0===e.z?i:e.z;t.scale.set(n,r,a)},remove:function(){this.el.object3D.scale.set(1,1,1)}})},"./src/components/scene/ar-hit-test.js":function(e,t,n){var r,i=n("./src/core/component.js").registerComponent,a=n("./src/lib/three.js"),o=function(){var e=new a.Quaternion,t=new a.Vector3;return function(n,r,i){r.position.copy(n.transform.position),r.quaternion.copy(n.transform.orientation),t.copy(i),e.copy(n.transform.orientation),t.applyQuaternion(e),r.position.sub(t)}}();function s(e,t){this.renderer=e,this.xrHitTestSource=null,e.xr.addEventListener("sessionend",function(){this.xrHitTestSource=null}.bind(this)),e.xr.addEventListener("sessionstart",function(){this.sessionStart(t)}.bind(this)),this.renderer.xr.isPresenting&&this.sessionStart(t)}function u(e){console.warn(e.message),console.warn('Cannot requestHitTestSource Are you missing: webxr="optionalFeatures: hit-test;" from <a-scene>?')}o.tempFakePose={transform:{orientation:new a.Quaternion,position:new a.Vector3}},s.prototype.previousFrameAnchors=new Set,s.prototype.anchorToObject3D=new Map,s.prototype.sessionStart=function(e){this.session=this.renderer.xr.getSession(),"requestHitTestSource"in this.session?e.space?this.session.requestHitTestSource(e).then(function(e){this.xrHitTestSource=e}.bind(this)).catch(u):e.profile&&this.session.requestHitTestSourceForTransientInput(e).then(function(e){this.xrHitTestSource=e,this.transient=!0}.bind(this)).catch(u):u({message:"No requestHitTestSource on the session."})},s.prototype.anchorFromLastHitTestResult=function(e,t){var n=this.lastHitTest;if(n){var r={object3D:e,offset:t};Array.from(this.anchorToObject3D.entries()).forEach(function(t){var n=t[1].object3D,r=t[0];n===e&&(this.anchorToObject3D.delete(r),r.delete())}.bind(this)),n.createAnchor&&n.createAnchor().then(function(e){this.anchorToObject3D.set(e,r)}.bind(this)).catch((function(e){console.warn(e.message),console.warn('Cannot create anchor, are you missing: webxr="optionalFeatures: anchors;" from <a-scene>?')}))}},s.prototype.doHit=function(e){if(this.renderer.xr.isPresenting){var t,n,r=this.renderer.xr.getReferenceSpace(),i=e.getViewerPose(r);return this.xrHitTestSource&&i?this.transient?(t=e.getHitTestResultsForTransientInput(this.xrHitTestSource)).length>0&&(n=t[0].results).length>0&&(this.lastHitTest=n[0],n[0].getPose(r)):(t=e.getHitTestResults(this.xrHitTestSource)).length>0&&(this.lastHitTest=t[0],t[0].getPose(r)):void 0}},s.updateAnchorPoses=function(e,t){var n=e.trackedAnchors||s.prototype.previousFrameAnchors;s.prototype.previousFrameAnchors.forEach((function(e){n.has(e)||s.prototype.anchorToObject3D.delete(e)})),n.forEach((function(n){var r,i,a,u;try{r=e.getPose(n.anchorSpace,t)}catch(l){}r&&(a=(i=s.prototype.anchorToObject3D.get(n)).offset,u=i.object3D,o(r,u,a))}))},e.exports.Component=i("ar-hit-test",{schema:{target:{type:"selector"},enabled:{default:!0},src:{default:"data:image/webp;base64,UklGRkQHAABXRUJQVlA4WAoAAAAQAAAA/wEA/wEAQUxQSL0DAAARDzD/ERGCjrY9sYYFfgo6aa1kJ7K0w9Lo3AadLSVeFxevQwj5kuM8RfR/Atw/C0+ozB/oUBrloFZs6ElSW88j1KA4yExNWQaqRZquIDF0JYmlq0hAuUDTFu66tng3teW7pa3cQf1V1edvur54M/Slm6Wv3Gx9zw0MXlQLntcsBN6wkHjTQuYtC4W3LTw8mGRVG57TbAROtxHfZNhInGkjc5aNwtk2Hg6Mvki14k+NkZzCwQgCxalcAv3kddRTPI1DcUrXId1FLf1uHpzaQz4tquhZVLlKesbVpqKeTj0n0F5PpXDlFN9UqmhalL/ImuZFo6KmToWLoKlddMprqlS8cKovBvHo2kTiFV2LN4msaxKZl3QNiair8xYRdDWivIvXVXmbcMqJ51UebZuFXxZt6xd4laxtciqRtA3Cv0nU1t+kEUFbI8JvCa+tvkm3FDlO/W+OR99+kWEp/YYo+tYfTVnf/K8cE/F///3vv//993eeL+a+uvjawLcX3xjYvJotBFY3kVjTRGFtE+BU2AiMbiQyhpHMWEYeBozAH5qNBYRDB5KBCaTDBKKBAZTDBoKBDjwHAN5ABeCJBsAZcAAC0YHHxAYSMYBiYgGZWEA2MYFCbCCZGAAIANFEB+AnYgMQTDQAYSJ2AN5EBZAm4gDgTDgAeSIu4DGygTIRN1CMLOCZiACykQlg4jsAycgA8AO+BxCNdJyDkcbwRirDGXGnx8w+FDPrkM3MQ9JQZMYhiiwV/RDMtIM3U1/DmXHUo+IR2kSR2ToWkQ1NIn2qf2J8LCqJKiDUiSADHY3whirhdHgZ94HKaR97PhE+twEUJUFoAcgyTct8hfSxSkShASDKdMJ/ritKHwgyQ0sD4D/miCxU5SbhOOUDTnZpccCjYP/i0bZ/8bAgtVGEoGapWIQXyzKVKLwgNJFk2rtMIgoNRJlOZF7SNSSyUEeQmbxBFKEmtYjEe8S8zOZ1AkJVCmS88FJOtF40Ksg4oUaFiygk3C8qlTVNyl8UTevCUdAE2t14PfVqU1FPp57TopKeQZWromddTQp6QOfTOEQt/ZDuipZ11w/wOiqO8dRORcc6BQEkDQMClaHcn5wV9yLbxsNZNgpn2sicYSNxuo34Js1G4FQbnuNsOPa28PCWhcKbFjJvWEi8ZiHwqgXPcxbc5db33Cx95WboSzddX7yp+vyN0+eul7ZyN7Xlu64t3jVt4c5pc4JLV5EYupJE0xUknC4nOjVlmaYpyLit53HCQ0+ScnqceNcS5dzUkd0/CwMAVlA4IGADAAAQXwCdASoAAgACP8ne6Wy/tjCpqJ/IA/A5CWlu4XYBG/Pz8AfwD8APz//f3v8E1fuHZnxKYACtfuHZnxKYACrYTb5mOslhxu843ecbvON3nG7zjd3a0VCn7G1MABVxwH/Xd25gAK1+4dmfEpe2+PHhQaj75++riG6FuYACtfuHZnxKYACRrK3q9xO8Ss3uWKnMhs/rDF1hi6wxdYYusMXWGI5QRcCFDZog5OgqNlse1NDuz/UoFa/cOzPiUwAEsAOK4/nu5eZHK2tlXxJfNYlMABWv3Dsz4bvNJ5YA/LtxJ38SmAArX7h2Z8Sk5vdZUYv7mZPiUwAFa/cOzPh21s5OgZxf1mfEpemRyFr/rM+JS9noA/LtxJ38SmAAlUJIotzAASn6TjdhK+D3Dsz4dyvB7h2Z8O2tnJ0DOL+sz4lL2nKLT4lL/+iSLOocxq639w7M34MNZdm55uJ8v8ra2cpVZnxKTq2F3PN/cNksAfl24k7+JTAASqrD37h2Z7b1W+VtbOUqsz4lJ1bC7nm/uGyWAPy7cSd/EpgAJVVh79w7M9t6rfK2tnKVWZ8Sk6thdzzf3DZLAH5duJO/iUwAEqqw9+4dme29VvlbWzlKrM+JSdWwu55v7hslgD8u3EnfxKYACVVYe/cOzPbeq3ytrZylVme0kYJ8557FLerqFrzIbPrrf3DZLAH5duJO/iUvaVMS9BoaF4p7pSDFTP1XMyfElelrM0DOL+sz4eBJ13nV1OppBGPuKb4YzXQgq9uH19uS/0+JS9t9fr6ZUlQBelDG6GMgq97otb5QMPJwtKyBTbFp8Sl7b6/X0ykkawEOsgdiE6Fi0vb/Eve6xkwsmug0Z4nGNHQO8839bpTsjpz7SWIJxKagvd1QWMa6FYT1KEw3j4XDT6vJ9Xk+nyfT5Pq8n1eEmk5dinMM/9Fcfz4Z3Dsz3KD2dw7LxBRxKrqUUGQPH/7zxr1KIfNpLEJ0MZB2ITM/0Z2EFoh12NlXnEcpYcbvON3nG7zjd5xu84vfcNIAAP7+y8ceyzbVxkakPYY4lcr72fqOnDwipv+yxC71wAADBrjKnAAAAAAAAAAAAAAw7oNGHttqWONcoFN/2WIDc2pa6WVFtFYROlsaMaTXdcOjXHz93+YxAglKa4AAAAA=",type:"map"},type:{default:"footprint",oneOf:["footprint","map"]},footprintDepth:{default:.1},mapSize:{type:"vec2",default:{x:.5,y:.5}}},init:function(){this.hitTest=null,this.imageDataArray=new Uint8ClampedArray(1048576),this.imageData=new ImageData(this.imageDataArray,512,512),this.textureCache=new Map,this.orthoCam=new a.OrthographicCamera,this.orthoCam.layers.set(21),this.textureTarget=new a.WebGLRenderTarget(512,512,{}),this.basicMaterial=new a.MeshBasicMaterial({color:0,side:a.DoubleSide}),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.context.imageSmoothingEnabled=!1,this.canvas.width=512,this.canvas.height=512,this.canvasTexture=new a.CanvasTexture(this.canvas,{alpha:!0}),this.canvasTexture.flipY=!1;var e=this.el.getAttribute("webxr"),t=e.optionalFeatures;t.includes("hit-test")&&t.includes("anchors")||(t.push("hit-test"),t.push("anchors"),this.el.setAttribute("webxr",e)),this.el.sceneEl.renderer.xr.addEventListener("sessionend",function(){this.hitTest=null}.bind(this)),this.el.sceneEl.renderer.xr.addEventListener("sessionstart",function(){if(this.el.is("ar-mode")){var e=this.el.sceneEl.renderer,t=this.session=e.xr.getSession();this.hasPosedOnce=!1,this.bboxMesh.visible=!1,r||(r=new Map),t.requestReferenceSpace("viewer").then(function(t){this.hitTest=new s(e,{space:t}),r.set(t,this.hitTest),this.el.emit("ar-hit-test-start")}.bind(this));var n="generic-touchscreen",i=new s(e,{profile:n});t.addEventListener("selectstart",function(t){if(!0===this.data.enabled){var a=t.inputSource;this.bboxMesh.visible=!0,!0===this.hasPosedOnce&&(this.el.emit("ar-hit-test-select-start",{inputSource:a,position:this.bboxMesh.position,orientation:this.bboxMesh.quaternion}),a.profiles[0]===n?this.hitTest=i:(this.hitTest=r.get(a)||new s(e,{space:a.targetRaySpace}),r.set(a,this.hitTest)))}}.bind(this)),t.addEventListener("selectend",function(e){if(this.hitTest&&!0===this.data.enabled){var t,n=e.inputSource;!0===this.hasPosedOnce&&(this.bboxMesh.visible=!1,this.data.target&&(t=this.data.target.object3D)&&(o.tempFakePose.transform.position.copy(this.bboxMesh.position),o.tempFakePose.transform.orientation.copy(this.bboxMesh.quaternion),o(o.tempFakePose,t,this.bboxOffset),t.visible=!0,this.hitTest.anchorFromLastHitTestResult(t,this.bboxOffset)),this.el.emit("ar-hit-test-select",{inputSource:n,position:this.bboxMesh.position,orientation:this.bboxMesh.quaternion})),this.hitTest=null}else this.hitTest=null}.bind(this))}}.bind(this)),this.bboxOffset=new a.Vector3,this.update=this.update.bind(this),this.makeBBox()},update:function(){!1===this.data.enabled&&(this.hitTest=null,this.bboxMesh.visible=!1),this.data.target&&(this.data.target.object3D?(this.data.target.addEventListener("model-loaded",this.update),this.data.target.object3D.layers.enable(21),this.data.target.object3D.traverse((function(e){e.layers.enable(21)}))):this.data.target.addEventListener("loaded",this.update,{once:!0})),this.bboxNeedsUpdate=!0},makeBBox:function(){var e=new a.PlaneGeometry(1,1),t=new a.MeshBasicMaterial({transparent:!0,color:16777215});e.rotateX(-Math.PI/2),e.rotateY(-Math.PI/2),this.bbox=new a.Box3,this.bboxMesh=new a.Mesh(e,t),this.el.setObject3D("ar-hit-test",this.bboxMesh),this.bboxMesh.visible=!1},updateFootprint:function(){var e,t,n,r=this.el.sceneEl.renderer,i=r.xr.enabled;this.bboxMesh.material.map=this.canvasTexture,this.bboxMesh.material.needsUpdate=!0,this.orthoCam.rotation.set(-Math.PI/2,0,-Math.PI/2),this.orthoCam.position.copy(this.bboxMesh.position),this.orthoCam.position.y-=this.bboxMesh.scale.y/2,this.orthoCam.near=.1,this.orthoCam.far=this.orthoCam.near+this.data.footprintDepth*this.bboxMesh.scale.y,this.orthoCam.position.y+=this.orthoCam.far,this.orthoCam.right=this.bboxMesh.scale.z/2,this.orthoCam.left=-this.bboxMesh.scale.z/2,this.orthoCam.top=this.bboxMesh.scale.x/2,this.orthoCam.bottom=-this.bboxMesh.scale.x/2,this.orthoCam.updateProjectionMatrix(),t=r.getRenderTarget(),r.setRenderTarget(this.textureTarget),r.xr.enabled=!1,n=this.el.object3D.background,this.el.object3D.overrideMaterial=this.basicMaterial,this.el.object3D.background=null,r.render(this.el.object3D,this.orthoCam),this.el.object3D.background=n,this.el.object3D.overrideMaterial=null,r.xr.enabled=i,r.setRenderTarget(t),r.readRenderTargetPixels(this.textureTarget,0,0,512,512,this.imageDataArray),this.context.putImageData(this.imageData,0,0),this.context.shadowColor="white",this.context.shadowBlur=10,this.context.drawImage(this.canvas,0,0),e=this.context.getImageData(0,0,512,512);for(var a=0;a<262144;a++)0!==e.data[4*a+3]&&255!==e.data[4*a+3]&&(e.data[4*a+3]=128);this.context.putImageData(e,0,0),this.canvasTexture.needsUpdate=!0},tick:function(){var e,t,n=this.el.sceneEl.frame,r=this.el.sceneEl.renderer;(n&&s.updateAnchorPoses(n,r.xr.getReferenceSpace()),this.bboxNeedsUpdate)&&(this.bboxNeedsUpdate=!1,this.data.target&&"map"!==this.data.type||(this.textureCache.has(this.data.src)?t=this.textureCache.get(this.data.src):(t=(new a.TextureLoader).load(this.data.src),this.textureCache.set(this.data.src,t)),this.bboxMesh.material.map=t,this.bboxMesh.material.needsUpdate=!0),this.data.target&&this.data.target.object3D?(this.bbox.setFromObject(this.data.target.object3D),this.bbox.getCenter(this.bboxMesh.position),this.bbox.getSize(this.bboxMesh.scale),"footprint"===this.data.type&&(this.bboxMesh.scale.x*=1.04,this.bboxMesh.scale.z*=1.04,this.updateFootprint()),this.bboxMesh.position.y-=this.bboxMesh.scale.y/2,this.bboxOffset.copy(this.bboxMesh.position),this.bboxOffset.sub(this.data.target.object3D.position)):this.bboxMesh.scale.set(this.data.mapSize.x,1,this.data.mapSize.y));this.hitTest&&(e=this.hitTest.doHit(n))&&(!0!==this.hasPosedOnce&&(this.hasPosedOnce=!0,this.el.emit("ar-hit-test-achieved")),this.bboxMesh.visible=!0,this.bboxMesh.position.copy(e.transform.position),this.bboxMesh.quaternion.copy(e.transform.orientation))}})},"./src/components/scene/background.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/core/component.js").components;e.exports.Component=r("background",{schema:{color:{type:"color",default:"black"},transparent:{default:!1}},update:function(){var e=this.data,t=this.el.object3D;e.transparent?t.background=null:t.background=new THREE.Color(e.color)},remove:function(){var e=this.data,t=this.el.object3D;e.transparent?t.background=null:t.background=i[this.name].schema.color.default}})},"./src/components/scene/debug.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent;e.exports.Component=r("debug",{schema:{default:!0}})},"./src/components/scene/device-orientation-permission-ui.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/utils/index.js").bind,a=n("./src/constants/index.js"),o="a-modal",s="a-dialog",u="a-dialog-text",l="a-dialog-text-container",c="a-dialog-buttons-container",h="a-dialog-button",d="a-dialog-allow-button",g="a-dialog-deny-button",p="a-dialog-ok-button";function f(e,t){var n,r,i,c;return(n=document.createElement("div")).classList.add(o),n.setAttribute(a.AFRAME_INJECTED,""),(r=document.createElement("div")).className=s,r.setAttribute(a.AFRAME_INJECTED,""),n.appendChild(r),(i=document.createElement("div")).classList.add(l),r.appendChild(i),(c=document.createElement("div")).classList.add(u),c.innerHTML=e,i.appendChild(c),r.appendChild(t),n}e.exports.Component=r("device-orientation-permission-ui",{schema:{enabled:{default:!0},deviceMotionMessage:{default:"This immersive website requires access to your device motion sensors."},httpsMessage:{default:"Access this site over HTTPS to enter VR mode and grant access to the device sensors."},denyButtonText:{default:"Deny"},allowButtonText:{default:"Allow"},cancelButtonText:{default:"Cancel"}},init:function(){var e=this;this.data.enabled&&("localhost"!==location.hostname&&"127.0.0.1"!==location.hostname&&"http:"===location.protocol&&this.showHTTPAlert(),"undefined"!==typeof DeviceOrientationEvent&&DeviceOrientationEvent.requestPermission?(this.onDeviceMotionDialogAllowClicked=i(this.onDeviceMotionDialogAllowClicked,this),this.onDeviceMotionDialogDenyClicked=i(this.onDeviceMotionDialogDenyClicked,this),DeviceOrientationEvent.requestPermission().then((function(){e.el.emit("deviceorientationpermissiongranted"),e.permissionGranted=!0})).catch((function(){e.devicePermissionDialogEl=function(e,t,n,r,i){var o,s,u;return(o=document.createElement("div")).classList.add(c),(s=document.createElement("button")).classList.add(h,g),s.setAttribute(a.AFRAME_INJECTED,""),s.innerHTML=e,o.appendChild(s),(u=document.createElement("button")).classList.add(h,d),u.setAttribute(a.AFRAME_INJECTED,""),u.innerHTML=t,o.appendChild(u),u.addEventListener("click",(function(e){e.stopPropagation(),r()})),s.addEventListener("click",(function(e){e.stopPropagation(),i()})),f(n,o)}(e.data.denyButtonText,e.data.allowButtonText,e.data.deviceMotionMessage,e.onDeviceMotionDialogAllowClicked,e.onDeviceMotionDialogDenyClicked),e.el.appendChild(e.devicePermissionDialogEl)}))):this.permissionGranted=!0)},remove:function(){this.devicePermissionDialogEl&&this.el.removeChild(this.devicePermissionDialogEl)},onDeviceMotionDialogDenyClicked:function(){this.remove()},showHTTPAlert:function(){var e=this,t=function(e,t,n){var r,i;return(r=document.createElement("div")).classList.add(c),(i=document.createElement("button")).classList.add(h,p),i.setAttribute(a.AFRAME_INJECTED,""),i.innerHTML=e,r.appendChild(i),i.addEventListener("click",(function(e){e.stopPropagation(),n()})),f(t,r)}(e.data.cancelButtonText,e.data.httpsMessage,(function(){e.el.removeChild(t)}));this.el.appendChild(t)},onDeviceMotionDialogAllowClicked:function(){var e=this;this.el.emit("deviceorientationpermissionrequested"),DeviceOrientationEvent.requestPermission().then((function(t){"granted"===t?(e.el.emit("deviceorientationpermissiongranted"),e.permissionGranted=!0):e.el.emit("deviceorientationpermissionrejected"),e.remove()})).catch(console.error)}})},"./src/components/scene/embedded.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent;e.exports.Component=r("embedded",{dependencies:["vr-mode-ui"],schema:{default:!0},update:function(){var e=this.el,t=e.querySelector(".a-enter-vr");!0===this.data?(t&&t.classList.add("embedded"),e.removeFullScreenStyles()):(t&&t.classList.remove("embedded"),e.addFullScreenStyles())}})},"./src/components/scene/fog.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/lib/three.js"),a=n("./src/utils/debug.js")("components:fog:warn");e.exports.Component=r("fog",{schema:{color:{type:"color",default:"#000"},density:{default:25e-5},far:{default:1e3,min:0},near:{default:1,min:0},type:{default:"linear",oneOf:["linear","exponential"]}},update:function(){var e=this.data,t=this.el,n=this.el.object3D.fog;if(t.isScene)return n&&e.type===n.name?void Object.keys(this.schema).forEach((function(t){var r=e[t];"color"===t&&(r=new i.Color(r)),n[t]=r})):(t.object3D.fog=function(e){var t;return(t="exponential"===e.type?new i.FogExp2(e.color,e.density):new i.Fog(e.color,e.near,e.far)).name=e.type,t}(e),void t.systems.material.updateMaterials());a("Fog component can only be applied to <a-scene>")},remove:function(){var e=this.el.object3D.fog;e&&(e.far=0,e.near=.1)}})},"./src/components/scene/inspector.js":function(e,t,n){var r=n("./src/constants/index.js").AFRAME_INJECTED,i=n("./package.json"),a=n("./src/core/component.js").registerComponent,o=n("./src/utils/index.js"),s="https://unpkg.com/aframe-inspector@"+function(e){var t=e.split(".");return t[2]="x",t.join(".")}(i.version)+"/dist/aframe-inspector.min.js";e.exports.Component=a("inspector",{schema:{url:{default:s}},init:function(){this.firstPlay=!0,this.onKeydown=this.onKeydown.bind(this),this.onMessage=this.onMessage.bind(this),this.initOverlay(),window.addEventListener("keydown",this.onKeydown),window.addEventListener("message",this.onMessage)},play:function(){var e;this.firstPlay&&"false"!==(e=o.getUrlParameter("inspector"))&&e&&(this.openInspector(),this.firstPlay=!1)},initOverlay:function(){this.loadingMessageEl=document.createElement("div"),this.loadingMessageEl.classList.add("a-inspector-loader"),this.loadingMessageEl.innerHTML='Loading Inspector<span class="dots"><span>.</span><span>.</span><span>.</span></span>'},remove:function(){this.removeEventListeners()},onKeydown:function(e){73===e.keyCode&&(e.ctrlKey&&e.altKey||e.getModifierState("AltGraph"))&&this.openInspector()},showLoader:function(){document.body.appendChild(this.loadingMessageEl)},hideLoader:function(){document.body.removeChild(this.loadingMessageEl)},onMessage:function(e){"INJECT_AFRAME_INSPECTOR"===e.data&&this.openInspector()},openInspector:function(e){var t,n=this;AFRAME.INSPECTOR||AFRAME.inspectorInjected?AFRAME.INSPECTOR.open(e):(this.showLoader(),(t=document.createElement("script")).src=this.data.url,t.setAttribute("data-name","aframe-inspector"),t.setAttribute(r,""),t.onload=function(){AFRAME.INSPECTOR.open(e),n.hideLoader(),n.removeEventListeners()},t.onerror=function(){n.loadingMessageEl.innerHTML="Error loading Inspector"},document.head.appendChild(t),AFRAME.inspectorInjected=!0)},removeEventListeners:function(){window.removeEventListener("keydown",this.onKeydown),window.removeEventListener("message",this.onMessage)}})},"./src/components/scene/keyboard-shortcuts.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/utils/index.js").shouldCaptureKeyEvent;e.exports.Component=r("keyboard-shortcuts",{schema:{enterVR:{default:!0},exitVR:{default:!0}},init:function(){this.onKeyup=this.onKeyup.bind(this)},update:function(e){var t=this.data;this.enterVREnabled=t.enterVR},play:function(){window.addEventListener("keyup",this.onKeyup,!1)},pause:function(){window.removeEventListener("keyup",this.onKeyup)},onKeyup:function(e){var t=this.el;i(e)&&(this.enterVREnabled&&70===e.keyCode&&t.enterVR(),this.enterVREnabled&&27===e.keyCode&&t.exitVR())}})},"./src/components/scene/pool.js":function(e,t,n){var r=n("./src/utils/debug.js"),i=n("./src/core/component.js").registerComponent,a=r("components:pool:warn");e.exports.Component=i("pool",{schema:{container:{default:""},mixin:{default:""},size:{default:0},dynamic:{default:!1}},multiple:!0,initPool:function(){var e;for(this.availableEls=[],this.usedEls=[],this.data.mixin||a("No mixin provided for pool component."),this.data.container&&(this.container=document.querySelector(this.data.container),this.container||a("Container "+this.data.container+" not found.")),this.container=this.container||this.el,e=0;e<this.data.size;++e)this.createEntity()},update:function(e){var t=this.data;e.mixin===t.mixin&&e.size===t.size||this.initPool()},createEntity:function(){var e;(e=document.createElement("a-entity")).play=this.wrapPlay(e.play),e.setAttribute("mixin",this.data.mixin),e.object3D.visible=!1,e.pause(),this.container.appendChild(e),this.availableEls.push(e);var t=this.usedEls;e.addEventListener("loaded",(function(){-1===t.indexOf(e)&&(e.object3DParent=e.object3D.parent,e.object3D.parent.remove(e.object3D))}))},wrapPlay:function(e){var t=this.usedEls;return function(){-1!==t.indexOf(this)&&e.call(this)}},requestEntity:function(){var e;if(0===this.availableEls.length){if(!1===this.data.dynamic)return void a("Requested entity from empty pool: "+this.attrName);a("Requested entity from empty pool. This pool is dynamic and will resize automatically. You might want to increase its initial size: "+this.attrName),this.createEntity()}return e=this.availableEls.shift(),this.usedEls.push(e),e.object3DParent&&(e.object3DParent.add(e.object3D),this.updateRaycasters()),e.object3D.visible=!0,e},returnEntity:function(e){var t=this.usedEls.indexOf(e);if(-1!==t)return this.usedEls.splice(t,1),this.availableEls.push(e),e.object3DParent=e.object3D.parent,e.object3D.parent.remove(e.object3D),this.updateRaycasters(),e.object3D.visible=!1,e.pause(),e;a("The returned entity was not previously pooled from "+this.attrName)},updateRaycasters:function(){document.querySelectorAll("[raycaster]").forEach((function(e){e.components.raycaster.setDirty()}))}})},"./src/components/scene/reflection.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent;e.exports.Component=r("reflection",{schema:{directionalLight:{type:"selector"}},init:function(){var e=this;this.cubeRenderTarget=new THREE.WebGLCubeRenderTarget(16),this.cubeCamera=new THREE.CubeCamera(.1,1e3,this.cubeRenderTarget),this.lightingEstimationTexture=new THREE.WebGLCubeRenderTarget(16).texture,this.needsVREnvironmentUpdate=!0;var t=this.el.getAttribute("webxr"),n=t.optionalFeatures;n.includes("light-estimation")||(n.push("light-estimation"),this.el.setAttribute("webxr",t)),this.el.addEventListener("enter-vr",(function(){e.el.renderer.xr.getSession().requestLightProbe&&e.el.is("ar-mode")&&e.startLightProbe()})),this.el.addEventListener("exit-vr",(function(){e.stopLightProbe()})),this.el.object3D.environment=this.cubeRenderTarget.texture},stopLightProbe:function(){this.xrLightProbe=null,this.probeLight&&(this.probeLight.components.light.light.intensity=0),this.needsVREnvironmentUpdate=!0,this.el.object3D.environment=this.cubeRenderTarget.texture},startLightProbe:function(){this.needsLightProbeUpdate=!0},setupLightProbe:function(){var e=this.el.renderer,t=e.xr.getSession(),n=this,r=e.getContext();if(!this.probeLight){var i=document.createElement("a-light");i.setAttribute("type","probe"),i.setAttribute("intensity",0),this.el.appendChild(i),this.probeLight=i}switch(t.preferredReflectionFormat){case"srgba8":r.getExtension("EXT_sRGB");break;case"rgba16f":r.getExtension("OES_texture_half_float")}this.glBinding=new XRWebGLBinding(t,r),r.getExtension("EXT_sRGB"),r.getExtension("OES_texture_half_float"),t.requestLightProbe().then((function(e){n.xrLightProbe=e,e.addEventListener("reflectionchange",n.updateXRCubeMap.bind(n))})).catch((function(e){console.warn("Lighting estimation not supported: "+e.message),console.warn('Are you missing: webxr="optionalFeatures: light-estimation;" from <a-scene>?')}))},updateXRCubeMap:function(){var e=this.el.renderer,t=this.glBinding.getReflectionCubeMap(this.xrLightProbe);t&&(e.properties.get(this.lightingEstimationTexture).__webglTexture=t,this.lightingEstimationTexture.needsPMREMUpdate=!0,this.el.object3D.environment=this.lightingEstimationTexture)},tick:function(){var e=this.el.object3D,t=this.el.renderer,n=this.el.frame;if(n&&this.xrLightProbe){var r=n.getLightEstimate(this.xrLightProbe);r&&function(e,t,n,r){var i=Math.max(e.primaryLightIntensity.x,Math.max(e.primaryLightIntensity.y,e.primaryLightIntensity.z));t.sh.fromArray(e.sphericalHarmonicsCoefficients),t.intensity=1,n&&(n.color.setRGB(e.primaryLightIntensity.x/i,e.primaryLightIntensity.y/i,e.primaryLightIntensity.z/i),n.intensity=i,r.copy(e.primaryLightDirection))}(r,this.probeLight.components.light.light,this.data.directionalLight&&this.data.directionalLight.components.light.light,this.data.directionalLight&&this.data.directionalLight.object3D.position)}this.needsVREnvironmentUpdate&&(e.environment=null,this.needsVREnvironmentUpdate=!1,this.cubeCamera.position.set(0,1.6,0),this.cubeCamera.update(t,e),e.environment=this.cubeRenderTarget.texture),this.needsLightProbeUpdate&&n&&(this.setupLightProbe(),this.needsLightProbeUpdate=!1)},remove:function(){this.el.object3D.environment=null,this.probeLight&&this.el.removeChild(this.probeLight)}})},"./src/components/scene/screenshot.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/lib/three.js"),a=["attribute vec3 position;","attribute vec2 uv;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUv;","void main()  {","  vUv = vec2( 1.- uv.x, uv.y );","  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),o=["precision mediump float;","uniform samplerCube map;","varying vec2 vUv;","#define M_PI 3.141592653589793238462643383279","void main() {","  vec2 uv = vUv;","  float longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;","  float latitude = uv.y * M_PI;","  vec3 dir = vec3(","    - sin( longitude ) * sin( latitude ),","    cos( latitude ),","    - cos( longitude ) * sin( latitude )","  );","  normalize( dir );","  gl_FragColor = vec4( textureCube( map, dir ).rgb, 1.0 );","}"].join("\n");e.exports.Component=r("screenshot",{schema:{width:{default:4096},height:{default:2048},camera:{type:"selector"}},init:function(){var e=this.el,t=this;function n(){var n=e.renderer.getContext();n&&(t.cubeMapSize=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),t.material=new i.RawShaderMaterial({uniforms:{map:{type:"t",value:null}},vertexShader:a,fragmentShader:o,side:i.DoubleSide}),t.quad=new i.Mesh(new i.PlaneGeometry(1,1),t.material),t.quad.visible=!1,t.camera=new i.OrthographicCamera(-.5,.5,.5,-.5,-1e4,1e4),t.canvas=document.createElement("canvas"),t.ctx=t.canvas.getContext("2d"),e.object3D.add(t.quad),t.onKeyDown=t.onKeyDown.bind(t))}e.renderer?n():e.addEventListener("render-target-loaded",n)},getRenderTarget:function(e,t){return new i.WebGLRenderTarget(e,t,{encoding:this.el.sceneEl.renderer.outputEncoding,minFilter:i.LinearFilter,magFilter:i.LinearFilter,wrapS:i.ClampToEdgeWrapping,wrapT:i.ClampToEdgeWrapping,format:i.RGBAFormat,type:i.UnsignedByteType})},resize:function(e,t){this.quad.scale.set(e,t,1),this.camera.left=-1*e/2,this.camera.right=e/2,this.camera.top=t/2,this.camera.bottom=-1*t/2,this.camera.updateProjectionMatrix(),this.canvas.width=e,this.canvas.height=t},play:function(){window.addEventListener("keydown",this.onKeyDown)},onKeyDown:function(e){var t=83===e.keyCode&&e.ctrlKey&&e.altKey;if(this.data&&t){var n=e.shiftKey?"equirectangular":"perspective";this.capture(n)}},setCapture:function(e){var t,n,r,a,o=this.el;return"perspective"===e?(this.quad.visible=!1,n=this.data.camera&&this.data.camera.components.camera.camera||o.camera,t={width:this.data.width,height:this.data.height}):(n=this.camera,a=new i.WebGLCubeRenderTarget(Math.min(this.cubeMapSize,2048),{format:i.RGBFormat,generateMipmaps:!0,minFilter:i.LinearMipmapLinearFilter,encoding:i.sRGBEncoding}),r=new i.CubeCamera(o.camera.near,o.camera.far,a),o.camera.getWorldPosition(r.position),o.camera.getWorldQuaternion(r.quaternion),r.update(o.renderer,o.object3D),this.quad.material.uniforms.map.value=r.renderTarget.texture,t={width:this.data.width,height:this.data.height},this.quad.visible=!0),{camera:n,size:t,projection:e}},capture:function(e){var t,n=this.el.renderer.xr.enabled,r=this.el.renderer;r.xr.enabled=!1,t=this.setCapture(e),this.renderCapture(t.camera,t.size,t.projection),this.saveCapture(),r.xr.enabled=n},getCanvas:function(e){var t=this.el.renderer.xr.enabled,n=this.el.renderer,r=this.setCapture(e);return n.xr.enabled=!1,this.renderCapture(r.camera,r.size,r.projection),n.xr.enabled=t,this.canvas},renderCapture:function(e,t,n){var r,i,a,o=this.el.renderer.autoClear,s=this.el,u=s.renderer;i=this.getRenderTarget(t.width,t.height),a=new Uint8Array(4*t.width*t.height),this.resize(t.width,t.height),u.autoClear=!0,u.clear(),u.setRenderTarget(i),u.render(s.object3D,e),u.autoClear=o,u.readRenderTargetPixels(i,0,0,t.width,t.height,a),u.setRenderTarget(null),"perspective"===n&&(a=this.flipPixelsVertically(a,t.width,t.height)),r=new ImageData(new Uint8ClampedArray(a),t.width,t.height),this.quad.visible=!1,this.ctx.putImageData(r,0,0)},flipPixelsVertically:function(e,t,n){for(var r=e.slice(0),i=0;i<t;++i)for(var a=0;a<n;++a)r[4*i+a*t*4]=e[4*i+(n-a)*t*4],r[4*i+1+a*t*4]=e[4*i+1+(n-a)*t*4],r[4*i+2+a*t*4]=e[4*i+2+(n-a)*t*4],r[4*i+3+a*t*4]=e[4*i+3+(n-a)*t*4];return r},saveCapture:function(){this.canvas.toBlob((function(e){var t="screenshot-"+document.title.toLowerCase()+"-"+Date.now()+".png",n=document.createElement("a"),r=URL.createObjectURL(e);n.href=r,n.setAttribute("download",t),n.innerHTML="downloading...",n.style.display="none",document.body.appendChild(n),setTimeout((function(){n.click(),document.body.removeChild(n)}),1)}),"image/png")}})},"./src/components/scene/stats.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./vendor/rStats.js"),a=n("./src/utils/index.js");n("./vendor/rStats.extras.js"),n("./src/lib/rStatsAframe.js");var o=window.aframeStats,s=a.bind,u="a-hidden",l=window.threeStats;e.exports.Component=r("stats",{schema:{default:!0},init:function(){var e=this.el;"false"!==a.getUrlParameter("stats")&&(this.stats=function(e){var t=new l(e.renderer),n=new o(e),r=e.isMobile?[]:[t,n];return new i({css:[],values:{fps:{caption:"fps",below:30}},groups:[{caption:"Framerate",values:["fps","raf"]}],plugins:r})}(e),this.statsEl=document.querySelector(".rs-base"),this.hideBound=s(this.hide,this),this.showBound=s(this.show,this),e.addEventListener("enter-vr",this.hideBound),e.addEventListener("exit-vr",this.showBound))},update:function(){if(this.stats)return this.data?this.show():this.hide()},remove:function(){this.el.removeEventListener("enter-vr",this.hideBound),this.el.removeEventListener("exit-vr",this.showBound),this.statsEl&&this.statsEl.parentNode.removeChild(this.statsEl)},tick:function(){var e=this.stats;e&&(e("rAF").tick(),e("FPS").frame(),e().update())},hide:function(){this.statsEl.classList.add(u)},show:function(){this.statsEl.classList.remove(u)}})},"./src/components/scene/vr-mode-ui.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/constants/index.js"),a=n("./src/utils/index.js"),o=a.bind,s="a-enter-vr",u="a-enter-ar",l="a-enter-vr-button",c="a-enter-ar-button",h="a-hidden",d="a-orientation-modal";function g(e){e.addEventListener("touchstart",(function(){e.classList.remove("resethover")})),e.addEventListener("touchend",(function(){e.classList.add("resethover")}))}e.exports.Component=r("vr-mode-ui",{dependencies:["canvas"],schema:{enabled:{default:!0},cardboardModeEnabled:{default:!1},enterVRButton:{default:""},enterARButton:{default:""}},init:function(){var e=this,t=this.el;"false"!==a.getUrlParameter("ui")&&(this.insideLoader=!1,this.enterVREl=null,this.enterAREl=null,this.orientationModalEl=null,this.bindMethods(),t.addEventListener("enter-vr",this.updateEnterInterfaces),t.addEventListener("exit-vr",this.updateEnterInterfaces),t.addEventListener("update-vr-devices",this.updateEnterInterfaces),window.addEventListener("message",(function(t){"loaderReady"===t.data.type&&(e.insideLoader=!0,e.remove())})),window.addEventListener("orientationchange",this.toggleOrientationModalIfNeeded))},bindMethods:function(){this.onEnterVRButtonClick=o(this.onEnterVRButtonClick,this),this.onEnterARButtonClick=o(this.onEnterARButtonClick,this),this.onModalClick=o(this.onModalClick,this),this.toggleOrientationModalIfNeeded=o(this.toggleOrientationModalIfNeeded,this),this.updateEnterInterfaces=o(this.updateEnterInterfaces,this)},onModalClick:function(){this.el.exitVR()},onEnterVRButtonClick:function(){this.el.enterVR()},onEnterARButtonClick:function(){this.el.enterAR()},update:function(){var e=this.data,t=this.el;if(!e.enabled||this.insideLoader||"false"===a.getUrlParameter("ui"))return this.remove();this.enterVREl||this.enterAREl||this.orientationModalEl||(e.enterVRButton?(this.enterVREl=document.querySelector(e.enterVRButton),this.enterVREl.addEventListener("click",this.onEnterVRButtonClick)):(this.enterVREl=function(e){var t,n;return(n=document.createElement("div")).classList.add(s),n.setAttribute(i.AFRAME_INJECTED,""),(t=document.createElement("button")).className=l,t.setAttribute("title","Enter VR mode with a headset or fullscreen without"),t.setAttribute(i.AFRAME_INJECTED,""),a.device.isMobile()&&g(t),n.appendChild(t),t.addEventListener("click",(function(t){e(),t.stopPropagation()})),n}(this.onEnterVRButtonClick),t.appendChild(this.enterVREl)),e.enterARButton?(this.enterAREl=document.querySelector(e.enterARButton),this.enterAREl.addEventListener("click",this.onEnterARButtonClick)):(this.enterAREl=function(e){var t,n;return(n=document.createElement("div")).classList.add(u),n.setAttribute(i.AFRAME_INJECTED,""),(t=document.createElement("button")).className=c,t.setAttribute("title","Enter AR mode with a headset or handheld device."),t.setAttribute(i.AFRAME_INJECTED,""),a.device.isMobile()&&g(t),n.appendChild(t),t.addEventListener("click",(function(t){e(),t.stopPropagation()})),n}(this.onEnterARButtonClick),t.appendChild(this.enterAREl)),this.orientationModalEl=function(e){var t=document.createElement("div");t.className=d,t.classList.add(h),t.setAttribute(i.AFRAME_INJECTED,"");var n=document.createElement("button");return n.setAttribute(i.AFRAME_INJECTED,""),n.innerHTML="Exit VR",n.addEventListener("click",e),t.appendChild(n),t}(this.onModalClick),t.appendChild(this.orientationModalEl),this.updateEnterInterfaces())},remove:function(){[this.enterVREl,this.enterAREl,this.orientationModalEl].forEach((function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})),this.enterVREl=void 0,this.enterAREl=void 0,this.orientationModalEl=void 0},updateEnterInterfaces:function(){this.toggleEnterVRButtonIfNeeded(),this.toggleEnterARButtonIfNeeded(),this.toggleOrientationModalIfNeeded()},toggleEnterVRButtonIfNeeded:function(){var e=this.el;this.enterVREl&&(e.is("vr-mode")||(e.isMobile||a.device.isMobileDeviceRequestingDesktopSite())&&!this.data.cardboardModeEnabled&&!a.device.checkVRSupport()?this.enterVREl.classList.add(h):(a.device.checkVRSupport()||this.enterVREl.classList.add("fullscreen"),this.enterVREl.classList.remove(h)))},toggleEnterARButtonIfNeeded:function(){var e=this.el;this.enterAREl&&(e.is("vr-mode")||!a.device.checkARSupport()?this.enterAREl.classList.add(h):this.enterAREl.classList.remove(h))},toggleOrientationModalIfNeeded:function(){var e=this.el,t=this.orientationModalEl;t&&e.isMobile&&(!a.device.isLandscape()&&e.is("vr-mode")?t.classList.remove(h):t.classList.add(h))}})},"./src/components/shadow.js":function(e,t,n){var r=n("./src/core/component.js"),i=n("./src/lib/three.js"),a=n("./src/utils/bind.js"),o=r.registerComponent;e.exports.Component=o("shadow",{schema:{cast:{default:!0},receive:{default:!0}},init:function(){this.onMeshChanged=a(this.update,this),this.el.addEventListener("object3dset",this.onMeshChanged),this.system.setShadowMapEnabled(!0)},update:function(){var e=this.data;this.updateDescendants(e.cast,e.receive)},remove:function(){this.el.removeEventListener("object3dset",this.onMeshChanged),this.updateDescendants(!1,!1)},updateDescendants:function(e,t){var n=this.el.sceneEl;this.el.object3D.traverse((function(r){if(r instanceof i.Mesh&&(r.castShadow=e,r.receiveShadow=t,n.hasLoaded&&r.material))for(var a=Array.isArray(r.material)?r.material:[r.material],o=0;o<a.length;o++)a[o].needsUpdate=!0}))}})},"./src/components/sound.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/utils/debug.js"),a=n("./src/lib/three.js"),o=i("components:sound:warn");e.exports.Component=r("sound",{schema:{autoplay:{default:!1},distanceModel:{default:"inverse",oneOf:["linear","inverse","exponential"]},loop:{default:!1},maxDistance:{default:1e4},on:{default:""},poolSize:{default:1},positional:{default:!0},refDistance:{default:1},rolloffFactor:{default:1},src:{type:"audio"},volume:{default:1}},multiple:!0,init:function(){var e=this;this.listener=null,this.audioLoader=new a.AudioLoader,this.pool=new a.Group,this.loaded=!1,this.mustPlay=!1,this.playSoundBound=function(){e.playSound()}},update:function(e){var t,n,r=this.data,i=r.src!==e.src;if(i){if(!r.src)return;this.setupSound()}for(t=0;t<this.pool.children.length;t++)n=this.pool.children[t],r.positional&&(n.setDistanceModel(r.distanceModel),n.setMaxDistance(r.maxDistance),n.setRefDistance(r.refDistance),n.setRolloffFactor(r.rolloffFactor)),n.setLoop(r.loop),n.setVolume(r.volume),n.isPaused=!1;if(r.on!==e.on&&this.updateEventListener(e.on),i){var o=this;this.loaded=!1,this.audioLoader.load(r.src,(function(e){for(t=0;t<o.pool.children.length;t++)(n=o.pool.children[t]).setBuffer(e);o.loaded=!0,a.Cache.remove(r.src),(o.data.autoplay||o.mustPlay)&&o.playSound(),o.el.emit("sound-loaded",o.evtDetail,!1)}))}},pause:function(){this.stopSound(),this.removeEventListener()},play:function(){this.data.autoplay&&this.playSound(),this.updateEventListener()},remove:function(){var e;this.removeEventListener(),this.el.getObject3D(this.attrName)&&this.el.removeObject3D(this.attrName);try{for(e=0;e<this.pool.children.length;e++)this.pool.children[e].disconnect()}catch(t){o("Audio source not properly disconnected")}},updateEventListener:function(e){var t=this.el;e&&t.removeEventListener(e,this.playSoundBound),t.addEventListener(this.data.on,this.playSoundBound)},removeEventListener:function(){this.el.removeEventListener(this.data.on,this.playSoundBound)},setupSound:function(){var e,t,n=this.el,r=n.sceneEl,i=this;this.pool.children.length>0&&(this.stopSound(),n.removeObject3D("sound"));var o=this.listener=r.audioListener||new a.AudioListener;for(r.audioListener=o,r.camera&&r.camera.add(o),r.addEventListener("camera-set-active",(function(e){e.detail.cameraEl.getObject3D("camera").add(o)})),this.pool=new a.Group,e=0;e<this.data.poolSize;e++)t=this.data.positional?new a.PositionalAudio(o):new a.Audio(o),this.pool.add(t);for(n.setObject3D(this.attrName,this.pool),e=0;e<this.pool.children.length;e++)(t=this.pool.children[e]).onEnded=function(){this.isPlaying=!1,i.el.emit("sound-ended",i.evtDetail,!1)}},pauseSound:function(){var e,t;for(this.isPlaying=!1,e=0;e<this.pool.children.length;e++)(t=this.pool.children[e]).source&&t.source.buffer&&t.isPlaying&&!t.isPaused&&(t.isPaused=!0,t.pause())},playSound:function(e){var t,n,r;if(!this.loaded)return o("Sound not loaded yet. It will be played once it finished loading"),void(this.mustPlay=!0);for(t=!1,this.isPlaying=!0,n=0;n<this.pool.children.length;n++)(r=this.pool.children[n]).isPlaying||!r.buffer||t||(e&&e(r),r.play(),r.isPaused=!1,t=!0);t?this.mustPlay=!1:o("All the sounds are playing. If you need to play more sounds simultaneously consider increasing the size of pool with the `poolSize` attribute.",this.el)},stopSound:function(){var e,t;for(this.isPlaying=!1,e=0;e<this.pool.children.length;e++){if(!(t=this.pool.children[e]).source||!t.source.buffer)return;t.stop()}}})},"./src/components/text.js":function(e,t,n){var r=n("./node_modules/three-bmfont-text/index.js"),i=n("./node_modules/load-bmfont/browser.js"),a=n("./src/core/component.js").registerComponent,o=n("./src/core/shader.js"),s=n("./src/lib/three.js"),u=n("./src/utils/index.js"),l=u.debug("components:text:error"),c=o.shaders,h=u.debug("components:text:warn"),d="https://cdn.aframe.io/fonts/",g={aileronsemibold:d+"Aileron-Semibold.fnt",dejavu:d+"DejaVu-sdf.fnt",exo2bold:d+"Exo2Bold.fnt",exo2semibold:d+"Exo2SemiBold.fnt",kelsonsans:d+"KelsonSans.fnt",monoid:d+"Monoid.fnt",mozillavr:d+"mozillavr.fnt",roboto:d+"Roboto-msdf.json",sourcecodepro:d+"SourceCodePro.fnt"},p=["roboto"],f="roboto";e.exports.FONTS=g;var m=new function(){var e=this.cache={};this.get=function(t,n){return t in e||(e[t]=n()),e[t]}},v={},y={},A=/^\w+:/;function b(e,t,n){return e||(.5+t)*n}e.exports.Component=a("text",{multiple:!0,schema:{align:{type:"string",default:"left",oneOf:["left","right","center"]},alphaTest:{default:.5},anchor:{default:"center",oneOf:["left","right","center","align"]},baseline:{default:"center",oneOf:["top","center","bottom"]},color:{type:"color",default:"#FFF"},font:{type:"string",default:f},fontImage:{type:"string"},height:{type:"number"},letterSpacing:{type:"number",default:0},lineHeight:{type:"number"},negate:{type:"boolean",default:!0},opacity:{type:"number",default:1},shader:{default:"sdf",oneOf:c},side:{default:"front",oneOf:["front","back","double"]},tabSize:{default:4},transparent:{default:!0},value:{type:"string"},whiteSpace:{default:"normal",oneOf:["normal","pre","nowrap"]},width:{type:"number"},wrapCount:{type:"number",default:40},wrapPixels:{type:"number"},xOffset:{type:"number",default:0},yOffset:{type:"number",default:0},zOffset:{type:"number",default:.001}},init:function(){this.shaderData={},this.geometry=r(),this.createOrUpdateMaterial()},update:function(e){var t=this.data,n=this.currentFont;y[t.font]?this.texture=y[t.font]:(this.texture=y[t.font]=new s.Texture,this.texture.anisotropy=16),this.createOrUpdateMaterial(),e.font===t.font?n&&(this.updateGeometry(this.geometry,n),this.updateLayout()):this.updateFont()},remove:function(){this.geometry.dispose(),this.geometry=null,this.el.removeObject3D(this.attrName),this.material.dispose(),this.material=null,this.texture.dispose(),this.texture=null,this.shaderObject&&delete this.shaderObject},createOrUpdateMaterial:function(){var e,t,n,r=this.data,i=this.material,a=this.shaderData;if(n=r.shader,-1!==p.indexOf(r.font)||r.font.indexOf("-msdf.")>=0?n="msdf":r.font in g&&-1===p.indexOf(r.font)&&(n="sdf"),e=(this.shaderObject&&this.shaderObject.name)!==n,a.alphaTest=r.alphaTest,a.color=r.color,a.map=this.texture,a.opacity=r.opacity,a.side=function(e){switch(e){case"back":return s.FrontSide;case"double":return s.DoubleSide;default:return s.BackSide}}(r.side),a.transparent=r.transparent,a.negate=r.negate,!e)return this.shaderObject.update(a),i.transparent=a.transparent,void(i.side=a.side);t=function(e,t,n){var r,i;return(i=new c[t].Shader).el=e,i.init(n),i.update(n),(r=i.material).transparent=n.transparent,{material:r,shader:i}}(this.el,n,a),this.material=t.material,this.shaderObject=t.shader,this.material.side=a.side,this.mesh&&(this.mesh.material=this.material)},updateFont:function(){var e,t=this.data,n=this.el,r=this.geometry,a=this;t.font||h("No font specified. Using the default font."),this.mesh&&(this.mesh.visible=!1),e=this.lookupFont(t.font||f)||t.font,m.get(e,(function(){return n=e,r=t.yOffset,new Promise((function(e,t){i(n,(function(i,a){if(i)return l("Error loading font",n),void t(i);n.indexOf("/Roboto-msdf.json")>=0&&(r=30),r&&a.chars.map((function(e){e.yoffset+=r})),e(a)}))}));var n,r})).then((function(i){var o;if(1!==i.pages.length)throw new Error("Currently only single-page bitmap fonts are supported.");v[e]||(i.widthFactor=v[i]=function(e){var t=0,n=0,r=0;return e.chars.map((function(e){t+=e.xadvance,e.id>=48&&e.id<=57&&(r++,n+=e.xadvance)})),r?n/r:t/e.chars.length}(i)),a.currentFont=i,o=a.getFontImageSrc(),m.get(o,(function(){return e=o,new Promise((function(t,n){(new s.ImageLoader).load(e,(function(e){t(e)}),void 0,(function(){l("Error loading font image",e),n(null)}))}));var e})).then((function(e){var o=a.texture;o&&(o.image=e,o.needsUpdate=!0,y[t.font]=o,a.texture=o,a.initMesh(),a.currentFont=i,a.updateGeometry(r,i),a.updateLayout(),a.mesh.visible=!0,n.emit("textfontset",{font:t.font,fontObj:i}))})).catch((function(e){l(e.message),l(e.stack)}))})).catch((function(e){l(e.message),l(e.stack)}))},initMesh:function(){this.mesh||(this.mesh=new s.Mesh(this.geometry,this.material),this.el.setObject3D(this.attrName,this.mesh))},getFontImageSrc:function(){if(this.data.fontImage)return this.data.fontImage;var e=this.lookupFont(this.data.font||f)||this.data.font,t=this.currentFont.pages[0];return t.match(A)&&0!==t.indexOf("http")?e.replace(/(\.fnt)|(\.json)/,".png"):s.LoaderUtils.extractUrlBase(e)+t},updateLayout:function(){var e,t,n,r,i,a,o,s,u,l=this.el,c=this.data,h=this.geometry,d=this.mesh;if(d&&h.layout){if(n=l.getAttribute("geometry"),r=(a=(o=c.width||n&&n.width||1)/b(c.wrapPixels,c.wrapCount,this.currentFont.widthFactor))*((i=h.layout).height+i.descender),n&&"plane"===n.primitive&&(n.width||l.setAttribute("geometry","width",o),n.height||l.setAttribute("geometry","height",r)),"left"===(e="align"===c.anchor?c.align:c.anchor))s=0;else if("right"===e)s=-1*i.width;else{if("center"!==e)throw new TypeError("Invalid text.anchor property value",e);s=-1*i.width/2}if("bottom"===(t=c.baseline))u=0;else if("top"===t)u=-1*i.height+i.ascender;else{if("center"!==t)throw new TypeError("Invalid text.baseline property value",t);u=-1*i.height/2}d.position.x=s*a+c.xOffset,d.position.y=u*a,d.position.z=c.zOffset,d.scale.set(a,-1*a,a)}},lookupFont:function(e){return g[e]},updateGeometry:function(){var e={},t={},n=/\\n/g,r=/\\t/g;return function(i,a){var o=this.data;t.font=a,t.lineHeight=o.lineHeight&&isFinite(o.lineHeight)?o.lineHeight:a.common.lineHeight,t.text=o.value.toString().replace(n,"\n").replace(r,"\t"),t.width=b(o.wrapPixels,o.wrapCount,a.widthFactor),i.update(u.extend(e,o,t))}}()})},"./src/components/tracked-controls-webvr.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/utils/tracked-controls.js"),a=n("./src/constants/index.js").DEFAULT_CAMERA_HEIGHT,o=n("./src/lib/three.js"),s=n("./src/constants/index.js").DEFAULT_HANDEDNESS,u=.175,l=-.3,c=-.03,h=0,d=0,g=-.175,p={touches:[]},f="axismove",m="buttonchanged",v="buttondown",y="buttonup",A="touchstart",b="touchend";e.exports.Component=r("tracked-controls-webvr",{schema:{autoHide:{default:!0},controller:{default:0},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},orientationOffset:{type:"vec3"},armModel:{default:!1},headElement:{type:"selector"}},init:function(){this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.changedAxes=[],this.targetControllerNumber=this.data.controller,this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes},this.deltaControllerPosition=new o.Vector3,this.controllerQuaternion=new o.Quaternion,this.controllerEuler=new o.Euler,this.updateGamepad(),this.buttonEventDetails={}},tick:function(e,t){var n=this.el.getObject3D("mesh");n&&n.update&&n.update(t/1e3),this.updateGamepad(),this.updatePose(),this.updateButtons()},defaultUserHeight:function(){return a},getHeadElement:function(){return this.data.headElement||this.el.sceneEl.camera.el},updateGamepad:function(){var e=this.data,t=i.findMatchingControllerWebVR(this.system.controllers,e.id,e.idPrefix,e.hand,e.controller);this.controller=t,this.el.components["tracked-controls"].controller=t,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},applyArmModel:function(e){var t,n,r,i,a=this.controller,o=this.controllerEuler,p=this.controllerQuaternion,f=this.deltaControllerPosition;n=this.getHeadElement().object3D,i=this.defaultUserHeight(),r=a.pose,t=(a?a.hand:void 0)||s,e.copy(n.position),f.set(u*("left"===t?-1:"right"===t?1:0),l,c),f.multiplyScalar(i),f.applyAxisAngle(n.up,n.rotation.y),e.add(f),f.set(h,d,g),f.multiplyScalar(i),r.orientation?p.fromArray(r.orientation):p.copy(n.quaternion),o.setFromQuaternion(p),o.set(o.x,o.y,0),f.applyEuler(o),e.add(f)},updatePose:function(){var e,t,n=this.controller,r=this.data,i=this.el.object3D,a=this.system.vrDisplay;n&&((e=n.pose).position?i.position.fromArray(e.position):r.armModel&&this.applyArmModel(i.position),e.orientation&&i.quaternion.fromArray(e.orientation),a&&e.position&&(t=this.el.sceneEl.renderer.xr.getStandingMatrix(),i.matrix.compose(i.position,i.quaternion,i.scale),i.matrix.multiplyMatrices(t,i.matrix),i.matrix.decompose(i.position,i.quaternion,i.scale)),i.rotateX(this.data.orientationOffset.x*o.MathUtils.DEG2RAD),i.rotateY(this.data.orientationOffset.y*o.MathUtils.DEG2RAD),i.rotateZ(this.data.orientationOffset.z*o.MathUtils.DEG2RAD))},updateButtons:function(){var e,t,n=this.controller;if(n){for(t=0;t<n.buttons.length;++t)this.buttonStates[t]||(this.buttonStates[t]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[t]||(this.buttonEventDetails[t]={id:t,state:this.buttonStates[t]}),e=n.buttons[t],this.handleButton(t,e);this.handleAxes()}},handleButton:function(e,t){return!!(this.handlePress(e,t)|this.handleTouch(e,t)|this.handleValue(e,t))&&(this.el.emit(m,this.buttonEventDetails[e],!1),!0)},handleAxes:function(){var e,t=!1,n=this.controller.axes,r=this.axis,i=this.changedAxes;for(this.changedAxes.splice(0,this.changedAxes.length),e=0;e<n.length;++e)i.push(r[e]!==n[e]),i[e]&&(t=!0);if(!t)return!1;for(this.axis.splice(0,this.axis.length),e=0;e<n.length;e++)this.axis.push(n[e]);return this.el.emit(f,this.axisMoveEventDetail,!1),!0},handlePress:function(e,t){var n,r=this.buttonStates[e];return t.pressed!==r.pressed&&(n=t.pressed?v:y,this.el.emit(n,this.buttonEventDetails[e],!1),r.pressed=t.pressed,!0)},handleTouch:function(e,t){var n,r=this.buttonStates[e];return t.touched!==r.touched&&(n=t.touched?A:b,this.el.emit(n,this.buttonEventDetails[e],!1,p),r.touched=t.touched,!0)},handleValue:function(e,t){var n=this.buttonStates[e];return t.value!==n.value&&(n.value=t.value,!0)}})},"./src/components/tracked-controls-webxr.js":function(e,t,n){var r=n("./src/utils/tracked-controls.js"),i=n("./src/core/component.js").registerComponent,a="axismove",o="buttonchanged",s="buttondown",u="buttonup",l="touchstart",c="touchend";e.exports.Component=i("tracked-controls-webxr",{schema:{id:{type:"string",default:""},hand:{type:"string",default:""},handTrackingEnabled:{default:!1},index:{type:"int",default:-1},iterateControllerProfiles:{default:!1},space:{type:"string",oneOf:["targetRaySpace","gripSpace"],default:"gripSpace"}},init:function(){this.updateController=this.updateController.bind(this),this.buttonEventDetails={},this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.changedAxes=[],this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes}},update:function(){this.updateController()},play:function(){var e=this.el.sceneEl;this.updateController(),e.addEventListener("controllersupdated",this.updateController)},pause:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.updateController)},isControllerPresent:function(e){return!(!this.controller||this.controller.gamepad)&&("none"===e.inputSource.handedness||e.inputSource.handedness===this.data.hand)},updateController:function(){this.controller=r.findMatchingControllerWebXR(this.system.controllers,this.data.id,this.data.hand,this.data.index,this.data.iterateControllerProfiles,this.data.handTrackingEnabled),this.el.components["tracked-controls"].controller=this.controller,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},tick:function(){var e=this.el.sceneEl,t=this.controller,n=e.frame;t&&e.frame&&this.system.referenceSpace&&(t.hand||(this.pose=n.getPose(t[this.data.space],this.system.referenceSpace),this.updatePose(),this.updateButtons()))},updatePose:function(){var e=this.el.object3D,t=this.pose;t&&(e.matrix.elements=t.transform.matrix,e.matrix.decompose(e.position,e.rotation,e.scale))},updateButtons:function(){var e,t,n,r=this.controller;if(r&&r.gamepad){for(n=r.gamepad,t=0;t<n.buttons.length;++t)this.buttonStates[t]||(this.buttonStates[t]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[t]||(this.buttonEventDetails[t]={id:t,state:this.buttonStates[t]}),e=n.buttons[t],this.handleButton(t,e);this.handleAxes()}},handleButton:function(e,t){return!!(this.handlePress(e,t)|this.handleTouch(e,t)|this.handleValue(e,t))&&(this.el.emit(o,this.buttonEventDetails[e],!1),!0)},handleAxes:function(){var e,t=!1,n=this.controller.gamepad.axes,r=this.axis,i=this.changedAxes;for(this.changedAxes.splice(0,this.changedAxes.length),e=0;e<n.length;++e)i.push(r[e]!==n[e]),i[e]&&(t=!0);if(!t)return!1;for(this.axis.splice(0,this.axis.length),e=0;e<n.length;e++)this.axis.push(n[e]);return this.el.emit(a,this.axisMoveEventDetail,!1),!0},handlePress:function(e,t){var n,r=this.buttonStates[e];return t.pressed!==r.pressed&&(n=t.pressed?s:u,this.el.emit(n,this.buttonEventDetails[e],!1),r.pressed=t.pressed,!0)},handleTouch:function(e,t){var n,r=this.buttonStates[e];return t.touched!==r.touched&&(n=t.touched?l:c,this.el.emit(n,this.buttonEventDetails[e],!1),r.touched=t.touched,!0)},handleValue:function(e,t){var n=this.buttonStates[e];return t.value!==n.value&&(n.value=t.value,!0)}})},"./src/components/tracked-controls.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent;e.exports.Component=r("tracked-controls",{schema:{autoHide:{default:!0},controller:{default:-1},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},handTrackingEnabled:{default:!1},orientationOffset:{type:"vec3"},armModel:{default:!1},headElement:{type:"selector"},iterateControllerProfiles:{default:!1},space:{type:"string",oneOf:["targetRaySpace","gripSpace"],default:"targetRaySpace"}},update:function(){var e=this.data,t=this.el;t.sceneEl.hasWebXR?t.setAttribute("tracked-controls-webxr",{id:e.id,hand:e.hand,index:e.controller,iterateControllerProfiles:e.iterateControllerProfiles,handTrackingEnabled:e.handTrackingEnabled,space:e.space}):t.setAttribute("tracked-controls-webvr",e)}})},"./src/components/valve-index-controls.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/utils/bind.js"),a=n("./src/lib/three.js"),o=n("./src/utils/tracked-controls.js"),s=o.checkControllerPresentAndSetup,u=o.emitIfAxesChanged,l=o.onButtonEvent,c="https://cdn.aframe.io/controllers/valve/index/valve-index-",h={left:c+"left.glb",right:c+"right.glb"},d="valve",g=n("./src/utils/index.js").device.isWebXRAvailable,p={left:{_x:Math.PI/3,_y:0,_z:0,_order:"XYZ"},right:{_x:Math.PI/3,_y:0,_z:0,_order:"XYZ"}},f=g?p:{left:{_x:.692295102620542,_y:-.0627618864318427,_z:-.06265893149611756,_order:"XYZ"},right:{_x:.6484021229942998,_y:-.032563619881892894,_z:-.1327973171917482,_order:"XYZ"}},m=g?{left:{x:0,y:-.05,z:.06},right:{x:0,y:-.05,z:.06}}:{left:{x:-.00023692678902063457,y:.04724540367838371,z:-.061959880395271096},right:{x:.002471558599671131,y:.055765208987076195,z:-.061068168708348844}};e.exports.Component=r("valve-index-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:{axes:{trackpad:[0,1],thumbstick:[2,3]},buttons:["trigger","grip","trackpad","thumbstick","abutton"]},init:function(){var e=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(t){l(t.detail.id,"down",e)},this.onButtonUp=function(t){l(t.detail.id,"up",e)},this.onButtonTouchEnd=function(t){l(t.detail.id,"touchend",e)},this.onButtonTouchStart=function(t){l(t.detail.id,"touchstart",e)},this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var e=this.data,t="right"===e.hand?0:"left"===e.hand?1:2;s(this,d,{index:t,iterateControllerProfiles:!0,hand:e.hand})},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{idPrefix:d,controller:"right"===t.hand?1:"left"===t.hand?0:2,hand:t.hand,orientationOffset:t.orientationOffset}),this.loadModel()},loadModel:function(){var e=this.data;e.model&&this.el.setAttribute("gltf-model",""+h[e.hand])},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(e){var t,n=this.mapping.buttons[e.detail.id],r=this.buttonMeshes;n&&("trigger"===n&&(t=e.detail.state.value,r&&r.trigger&&(r.trigger.rotation.x=this.triggerOriginalRotationX-t*(Math.PI/40))),this.el.emit(n+"changed",e.detail.state))},onModelLoaded:function(e){var t,n=e.detail.model,r=this;this.data.model&&((t=this.buttonMeshes={}).grip={left:n.getObjectByName("leftgrip"),right:n.getObjectByName("rightgrip")},t.menu=n.getObjectByName("menubutton"),t.system=n.getObjectByName("systembutton"),t.trackpad=n.getObjectByName("touchpad"),t.trigger=n.getObjectByName("trigger"),this.triggerOriginalRotationX=t.trigger.rotation.x,Object.keys(t).forEach((function(e){r.setButtonColor(e,r.data.buttonColor)})),n.position.copy(m[this.data.hand]),n.rotation.copy(f[this.data.hand]),this.el.emit("controllermodelready",{name:"valve-index-controlls",model:this.data.model,rayOrigin:new a.Vector3(0,0,0)}))},onAxisMoved:function(e){u(this,this.mapping.axes,e)},updateModel:function(e,t){var n;this.data.model&&(-1!==t.indexOf("touch")||(n="up"===t?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(e,n)))},setButtonColor:function(e,t){}})},"./src/components/visible.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent;e.exports.Component=r("visible",{schema:{default:!0},update:function(){this.el.object3D.visible=this.data}})},"./src/components/vive-controls.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/utils/bind.js"),a=n("./src/utils/tracked-controls.js"),o=a.checkControllerPresentAndSetup,s=a.emitIfAxesChanged,u=a.onButtonEvent,l=n("./src/utils/index.js").device.isWebXRAvailable,c=l?"htc-vive":"OpenVR ",h=l?{axes:{thumbstick:[0,1]},buttons:["trigger","grip","trackpad","none","menu"]}:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger","grip","menu","system"]};e.exports.Component=r("vive-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:h,init:function(){var e=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(t){u(t.detail.id,"down",e)},this.onButtonUp=function(t){u(t.detail.id,"up",e)},this.onButtonTouchEnd=function(t){u(t.detail.id,"touchend",e)},this.onButtonTouchStart=function(t){u(t.detail.id,"touchstart",e)},this.previousButtonValues={},this.rendererSystem=this.el.sceneEl.systems.renderer,this.bindMethods()},update:function(){var e=this.data;this.controllerIndex="right"===e.hand?0:"left"===e.hand?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var e=this.data;o(this,c,{index:this.controllerIndex,hand:e.hand})},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{idPrefix:c,hand:t.hand,controller:this.controllerIndex,orientationOffset:t.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:"https://cdn.aframe.io/controllers/vive/vr_controller_vive.obj",mtl:"https://cdn.aframe.io/controllers/vive/vr_controller_vive.mtl"})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(e){var t,n=this.mapping.buttons[e.detail.id],r=this.buttonMeshes;n&&("trigger"===n&&(t=e.detail.state.value,r&&r.trigger&&(r.trigger.rotation.x=-t*(Math.PI/12))),this.el.emit(n+"changed",e.detail.state))},onModelLoaded:function(e){var t,n=e.detail.model,r=this;this.data.model&&((t=this.buttonMeshes={}).grip={left:n.getObjectByName("leftgrip"),right:n.getObjectByName("rightgrip")},t.menu=n.getObjectByName("menubutton"),t.system=n.getObjectByName("systembutton"),t.trackpad=n.getObjectByName("touchpad"),t.trigger=n.getObjectByName("trigger"),Object.keys(t).forEach((function(e){r.setButtonColor(e,r.data.buttonColor)})),n.position.set(0,-.015,.04))},onAxisMoved:function(e){s(this,this.mapping.axes,e)},updateModel:function(e,t){var n;this.data.model&&(-1!==t.indexOf("touch")||(n="up"===t?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(e,n)))},setButtonColor:function(e,t){var n=this.buttonMeshes,r=this.rendererSystem;if(n){if("grip"===e)return n.grip.left.material.color.set(t),n.grip.right.material.color.set(t),r.applyColorCorrection(n.grip.left.material.color),void r.applyColorCorrection(n.grip.right.material.color);n[e].material.color.set(t),r.applyColorCorrection(n[e].material.color)}}})},"./src/components/vive-focus-controls.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/utils/bind.js"),a=n("./src/utils/tracked-controls.js"),o=a.checkControllerPresentAndSetup,s=a.emitIfAxesChanged,u=a.onButtonEvent,l="HTC Vive Focus";e.exports.Component=r("vive-focus-controls",{schema:{hand:{default:""},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:{axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var e=this;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(t){u(t.detail.id,"down",e)},this.onButtonUp=function(t){u(t.detail.id,"up",e)},this.onButtonTouchStart=function(t){u(t.detail.id,"touchstart",e)},this.onButtonTouchEnd=function(t){u(t.detail.id,"touchend",e)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0,this.addControllersUpdateListener()},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1,this.removeControllersUpdateListener()},checkIfControllerPresent:function(){o(this,l,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{armModel:t.armModel,idPrefix:l,orientationOffset:t.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model","https://cdn.aframe.io/controllers/vive/focus-controller/focus-controller.gltf")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(e){var t,n=e.detail.model;this.data.model&&((t=this.buttonMeshes={}).trigger=n.getObjectByName("BumperKey"),t.triggerPressed=n.getObjectByName("BumperKey_Press"),t.triggerPressed&&(t.triggerPressed.visible=!1),t.trackpad=n.getObjectByName("TouchPad"),t.trackpadPressed=n.getObjectByName("TouchPad_Press"),t.trackpadPressed&&(t.trackpadPressed.visible=!1))},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&this.el.emit(t+"changed",e.detail.state)},onAxisMoved:function(e){s(this,this.mapping.axes,e)},updateModel:function(e,t){this.data.model&&this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var n=this.buttonMeshes,r=e+"Pressed";if(n&&n[e]&&n[r]){var i;switch(t){case"down":i=this.data.buttonHighlightColor;break;case"touchstart":i=this.data.buttonTouchedColor}i&&n[r].material.color.set(i),n[r].visible=!!i,n[e].visible=!i}}})},"./src/components/wasd-controls.js":function(e,t,n){var r=n("./src/constants/index.js").keyboardevent.KEYCODE_TO_CODE,i=n("./src/core/component.js").registerComponent,a=n("./src/lib/three.js"),o=n("./src/utils/index.js"),s=o.bind,u=o.shouldCaptureKeyEvent,l=1e-5,c=["KeyW","KeyA","KeyS","KeyD","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"];e.exports.Component=i("wasd-controls",{schema:{acceleration:{default:65},adAxis:{default:"x",oneOf:["x","y","z"]},adEnabled:{default:!0},adInverted:{default:!1},enabled:{default:!0},fly:{default:!1},wsAxis:{default:"z",oneOf:["x","y","z"]},wsEnabled:{default:!0},wsInverted:{default:!1}},init:function(){this.keys={},this.easing=1.1,this.velocity=new a.Vector3,this.onBlur=s(this.onBlur,this),this.onContextMenu=s(this.onContextMenu,this),this.onFocus=s(this.onFocus,this),this.onKeyDown=s(this.onKeyDown,this),this.onKeyUp=s(this.onKeyUp,this),this.onVisibilityChange=s(this.onVisibilityChange,this),this.attachVisibilityEventListeners()},tick:function(e,t){var n=this.data,r=this.el,i=this.velocity;(i[n.adAxis]||i[n.wsAxis]||!function(e){var t;for(t in e)return!1;return!0}(this.keys))&&(t/=1e3,this.updateVelocity(t),(i[n.adAxis]||i[n.wsAxis])&&r.object3D.position.add(this.getMovementVector(t)))},update:function(e){e.adAxis!==this.data.adAxis&&(this.velocity[e.adAxis]=0),e.wsAxis!==this.data.wsAxis&&(this.velocity[e.wsAxis]=0)},remove:function(){this.removeKeyEventListeners(),this.removeVisibilityEventListeners()},play:function(){this.attachKeyEventListeners()},pause:function(){this.keys={},this.removeKeyEventListeners()},updateVelocity:function(e){var t,n,r,i,a,o=this.data,s=this.keys,u=this.velocity;if(n=o.adAxis,i=o.wsAxis,e>.2)return u[n]=0,void(u[i]=0);var c=Math.pow(1/this.easing,60*e);0!==u[n]&&(u[n]=u[n]*c),0!==u[i]&&(u[i]=u[i]*c),Math.abs(u[n])<l&&(u[n]=0),Math.abs(u[i])<l&&(u[i]=0),o.enabled&&(t=o.acceleration,o.adEnabled&&(r=o.adInverted?-1:1,(s.KeyA||s.ArrowLeft)&&(u[n]-=r*t*e),(s.KeyD||s.ArrowRight)&&(u[n]+=r*t*e)),o.wsEnabled&&(a=o.wsInverted?-1:1,(s.KeyW||s.ArrowUp)&&(u[i]-=a*t*e),(s.KeyS||s.ArrowDown)&&(u[i]+=a*t*e)))},getMovementVector:function(){var e=new a.Vector3(0,0,0),t=new a.Euler(0,0,0,"YXZ");return function(n){var r,i=this.el.getAttribute("rotation"),o=this.velocity;return e.copy(o),e.multiplyScalar(n),i?(r=this.data.fly?i.x:0,t.set(a.MathUtils.degToRad(r),a.MathUtils.degToRad(i.y),0),e.applyEuler(t),e):e}}(),attachVisibilityEventListeners:function(){window.oncontextmenu=this.onContextMenu,window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus),document.addEventListener("visibilitychange",this.onVisibilityChange)},removeVisibilityEventListeners:function(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),document.removeEventListener("visibilitychange",this.onVisibilityChange)},attachKeyEventListeners:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},removeKeyEventListeners:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},onContextMenu:function(){for(var e=Object.keys(this.keys),t=0;t<e.length;t++)delete this.keys[e[t]]},onBlur:function(){this.pause()},onFocus:function(){this.play()},onVisibilityChange:function(){document.hidden?this.onBlur():this.onFocus()},onKeyDown:function(e){var t;u(e)&&(t=e.code||r[e.keyCode],-1!==c.indexOf(t)&&(this.keys[t]=!0))},onKeyUp:function(e){var t;t=e.code||r[e.keyCode],delete this.keys[t]}})},"./src/components/windows-motion-controls.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/utils/bind.js"),a=n("./src/utils/tracked-controls.js"),o=a.checkControllerPresentAndSetup,s=a.emitIfAxesChanged,u=a.onButtonEvent,l=n("./src/utils/index.js"),c=l.debug("components:windows-motion-controls:debug"),h=l.debug("components:windows-motion-controls:warn"),d=n("./src/constants/index.js").DEFAULT_HANDEDNESS,g={left:"left.glb",right:"right.glb",default:"universal.glb"},p=n("./src/utils/index.js").device.isWebXRAvailable,f=/([0-9a-zA-Z]+-[0-9a-zA-Z]+)$/,m=p?"windows-mixed-reality":"Spatial Controller (Spatial Interaction Source) ",v=p?{axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick","menu"],axisMeshNames:["TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_X","THUMBSTICK_X","THUMBSTICK_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",squeeze:"GRASP",thumbstick:"THUMBSTICK_PRESS",touchpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"}:{axes:{thumbstick:[0,1],trackpad:[2,3]},buttons:["thumbstick","trigger","grip","menu","trackpad"],axisMeshNames:["THUMBSTICK_X","THUMBSTICK_Y","TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",grip:"GRASP",thumbstick:"THUMBSTICK_PRESS",trackpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"};e.exports.Component=r("windows-motion-controls",{schema:{hand:{default:d},pair:{default:0},model:{default:!0},hideDisconnected:{default:!0}},mapping:v,bindMethods:function(){this.onModelError=i(this.onModelError,this),this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.onAxisMoved=i(this.onAxisMoved,this)},init:function(){var e=this,t=this.el;this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(t){u(t.detail.id,"down",e)},this.onButtonUp=function(t){u(t.detail.id,"up",e)},this.onButtonTouchStart=function(t){u(t.detail.id,"touchstart",e)},this.onButtonTouchEnd=function(t){u(t.detail.id,"touchend",e)},this.onControllerConnected=function(){e.setModelVisibility(!0)},this.onControllerDisconnected=function(){e.setModelVisibility(!1)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.loadedMeshInfo={buttonMeshes:null,axisMeshes:null},this.rayOrigin={origin:new THREE.Vector3,direction:new THREE.Vector3(0,0,-1),createdFromMesh:!1},t.addEventListener("controllerconnected",this.onControllerConnected),t.addEventListener("controllerdisconnected",this.onControllerDisconnected)},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("axismove",this.onAxisMoved),e.addEventListener("model-error",this.onModelError),e.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("axismove",this.onAxisMoved),e.removeEventListener("model-error",this.onModelError),e.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){o(this,m,{hand:this.data.hand,index:this.data.pair,iterateControllerProfiles:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},updateControllerModel:function(){if(this.data.model&&!this.rayOrigin.createdFromMesh){var e=this.createControllerModelUrl();this.loadModel(e)}else this.modelReady()},createControllerModelUrl:function(e){var t=this.el.components["tracked-controls"],n=t?t.controller:null,r="default",i=this.data.hand;if(n&&!window.hasNativeWebXRImplementation&&(i=n.hand,!e)){var a=n.id.match(f);r=a&&a[0]||r}return"https://cdn.aframe.io/controllers/microsoft/"+r+"/"+(g[i]||g.default)},injectTrackedControls:function(){var e=this.data;this.el.setAttribute("tracked-controls",{idPrefix:m,controller:e.pair,hand:e.hand,armModel:!1}),this.updateControllerModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelError:function(e){var t=this.createControllerModelUrl(!0);e.detail.src!==t?(h("Failed to load controller model for device, attempting to load default."),this.loadModel(t)):h("Failed to load default controller model.")},loadModel:function(e){this.el.setAttribute("gltf-model","url("+e+")")},onModelLoaded:function(e){var t,n,r,i,a=this.controllerModel=e.detail.model,o=this.loadedMeshInfo;if(c("Processing model"),o.buttonMeshes={},o.axisMeshes={},a){for(t=0;t<this.mapping.buttons.length;t++)(n=this.mapping.buttonMeshNames[this.mapping.buttons[t]])?(r=a.getObjectByName(n))?(i={index:t,value:s(r,"VALUE"),pressed:s(r,"PRESSED"),unpressed:s(r,"UNPRESSED")}).value&&i.pressed&&i.unpressed?o.buttonMeshes[this.mapping.buttons[t]]=i:h("Missing button submesh under mesh with name: "+n+"(VALUE: "+!!i.value+", PRESSED: "+!!i.pressed+", UNPRESSED:"+!!i.unpressed+")"):h("Missing button mesh with name: "+n):c("Skipping unknown button at index: "+t+" with mapped name: "+this.mapping.buttons[t]);for(t=0;t<this.mapping.axisMeshNames.length;t++)(n=this.mapping.axisMeshNames[t])?(r=a.getObjectByName(n))?(i={index:t,value:s(r,"VALUE"),min:s(r,"MIN"),max:s(r,"MAX")}).value&&i.min&&i.max?o.axisMeshes[t]=i:h("Missing axis submesh under mesh with name: "+n+"(VALUE: "+!!i.value+", MIN: "+!!i.min+", MAX:"+!!i.max+")"):h("Missing axis mesh with name: "+n):c("Skipping unknown axis at index: "+t);this.calculateRayOriginFromMesh(a),this.setModelVisibility()}function s(e,t){for(var n=0,r=e.children.length;n<r;n++){var i=e.children[n];if(i&&i.name===t)return i}}c("Model load complete.")},calculateRayOriginFromMesh:function(){var e=new THREE.Quaternion;return function(t){var n;if(this.rayOrigin.origin.set(0,0,0),this.rayOrigin.direction.set(0,0,-1),this.rayOrigin.createdFromMesh=!0,n=t.getObjectByName(this.mapping.pointingPoseMeshName)){var r=t.parent;r&&(t.parent=null,t.updateMatrixWorld(!0),t.parent=r),n.getWorldPosition(this.rayOrigin.origin),n.getWorldQuaternion(e),this.rayOrigin.direction.applyQuaternion(e),r&&t.updateMatrixWorld(!0)}else c("Mesh does not contain pointing origin data, defaulting to none.");this.modelReady()}}(),lerpAxisTransform:function(){var e=new THREE.Quaternion;return function(t,n){var r=this.loadedMeshInfo.axisMeshes[t];if(r){var i=r.min,a=r.max,o=r.value,s=.5*n+.5;o.setRotationFromQuaternion(e.copy(i.quaternion).slerp(a.quaternion,s)),o.position.lerpVectors(i.position,a.position,s)}}}(),lerpButtonTransform:function(){var e=new THREE.Quaternion;return function(t,n){var r=this.loadedMeshInfo.buttonMeshes[t];if(r){var i=r.unpressed,a=r.pressed,o=r.value;o.setRotationFromQuaternion(e.copy(i.quaternion).slerp(a.quaternion,n)),o.position.lerpVectors(i.position,a.position,n)}}}(),modelReady:function(){this.el.emit("controllermodelready",{name:"windows-motion-controls",model:this.data.model,rayOrigin:this.rayOrigin})},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&(this.loadedMeshInfo&&this.loadedMeshInfo.buttonMeshes&&this.lerpButtonTransform(t,e.detail.state.value),this.el.emit(t+"changed",e.detail.state))},onAxisMoved:function(e){var t=this.mapping.axisMeshNames.length;if(this.loadedMeshInfo&&this.loadedMeshInfo.axisMeshes)for(var n=0;n<t;n++)this.lerpAxisTransform(n,e.detail.axis[n]||0);s(this,this.mapping.axes,e)},setModelVisibility:function(e){var t=this.el.getObject3D("mesh");e=void 0!==e?e:this.modelVisible,this.modelVisible=e,t&&(t.visible=e)}})},"./src/constants/index.js":function(e,t,n){e.exports={AFRAME_INJECTED:"aframe-injected",DEFAULT_CAMERA_HEIGHT:1.6,DEFAULT_HANDEDNESS:"right",keyboardevent:n("./src/constants/keyboardevent.js")}},"./src/constants/keyboardevent.js":function(e){e.exports={KEYCODE_TO_CODE:{38:"ArrowUp",37:"ArrowLeft",40:"ArrowDown",39:"ArrowRight",87:"KeyW",65:"KeyA",83:"KeyS",68:"KeyD"}}},"./src/core/a-assets.js":function(e,t,n){var r=n("./src/core/a-node.js").ANode,i=n("./src/utils/bind.js"),a=n("./src/utils/debug.js"),o=n("./src/lib/three.js"),s=new o.FileLoader,u=a("core:a-assets:warn"),l=function(e){"use strict";v(n,e);var t=y(n);function n(){var e;return p(this,n),(e=t.call(this)).isAssets=!0,e.fileLoader=s,e.timeout=null,e}return f(n,[{key:"connectedCallback",value:function(){"complete"===document.readyState?this.doConnectedCallback():document.addEventListener("readystatechange",this.onReadyStateChange.bind(this))}},{key:"doConnectedCallback",value:function(){var e,t,r,a,s,l,c=this,p=[];if(h(d(n.prototype),"connectedCallback",this).call(this),!this.parentNode.isScene)throw new Error("<a-assets> must be a child of a <a-scene>.");for(s=this.querySelectorAll("img"),e=0;e<s.length;e++)a=m(s[e]),p.push(new Promise((function(t,n){o.Cache.add(s[e].getAttribute("src"),a),a.complete?t():(a.onload=t,a.onerror=n)})));for(r=this.querySelectorAll("audio, video"),e=0;e<r.length;e++)(t=m(r[e])).src||t.srcObject||u("Audio/video asset has neither `src` nor `srcObject` attributes."),p.push(g(t));Promise.allSettled(p).then(i(this.load,this)),l=parseInt(this.getAttribute("timeout"),10)||3e3,this.timeout=setTimeout((function(){c.hasLoaded||(u("Asset loading timed out in ",l,"ms"),c.emit("timeout"),c.load())}),l)}},{key:"disconnectedCallback",value:function(){h(d(n.prototype),"disconnectedCallback",this).call(this),this.timeout&&clearTimeout(this.timeout)}},{key:"load",value:function(){h(d(n.prototype),"load",this).call(this,null,(function(e){return e.isAssetItem&&e.hasAttribute("src")}))}}]),n}(r);customElements.define("a-assets",l);var c=function(e){"use strict";v(n,e);var t=y(n);function n(){var e;return p(this,n),(e=t.call(this)).data=null,e.isAssetItem=!0,e}return f(n,[{key:"connectedCallback",value:function(){var e=this,t=this.getAttribute("src");s.setResponseType(this.getAttribute("response-type")||A(t)),s.load(t,(function(t){e.data=t,setTimeout((function(){r.prototype.load.call(e)}))}),(function(t){e.emit("progress",{loadedBytes:t.loaded,totalBytes:t.total,xhr:t})}),(function(t){e.emit("error",{xhr:t})}))}}]),n}(r);function g(e){if(e.hasAttribute("autoplay")||"auto"===e.getAttribute("preload"))return new Promise((function(t,n){if(4===e.readyState)return t();if(e.error)return n();function r(){for(var n=0,r=0;r<e.buffered.length;r++)n+=e.buffered.end(r)-e.buffered.start(r);n>=e.duration&&("VIDEO"===e.tagName&&o.Cache.add(e.getAttribute("src"),e),t())}e.addEventListener("loadeddata",r,!1),e.addEventListener("progress",r,!1),e.addEventListener("error",n,!1)}))}function m(e){var t=function(e){var t;if(e.hasAttribute("crossorigin"))return e;if(null!==(t=e.getAttribute("src"))){if(-1===t.indexOf("://"))return e;if(function(e){var t=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0];return t.substring(0,t.indexOf(":"))}(t)===window.location.host)return e}return u('Cross-origin element (e.g., <img>) was requested without `crossorigin` set. A-Frame will re-request the asset with `crossorigin` attribute set. Please set `crossorigin` on the element (e.g., <img crossorigin="anonymous">)',t),e.crossOrigin="anonymous",e.cloneNode(!0)}(e);return t.tagName&&"video"===t.tagName.toLowerCase()&&(t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline","")),t!==e&&(e.parentNode.appendChild(t),e.parentNode.removeChild(e)),t}function A(e){var t=b(e),n=t.lastIndexOf(".");return n>=0&&".glb"===t.slice(n,e.search(/\?|#|$/))?"arraybuffer":"text"}function b(e){var t=document.createElement("a");t.href=e;var n=t.search.replace(/^\?/,""),r=e.replace(n,"").replace("?","");return r.substring(r.lastIndexOf("/")+1)}customElements.define("a-asset-item",c),e.exports.inferResponseType=A,e.exports.getFileNameFromURL=b},"./src/core/a-cubemap.js":function(e,t,n){var r=n("./src/utils/debug.js")("core:cubemap:warn"),i=function(e){"use strict";v(n,e);var t=y(n);function n(e){var r;return p(this,n),e=r=t.call(this,e),l(r,e)}return f(n,[{key:"onReadyStateChange",value:function(){"complete"===document.readyState&&this.doConnectedCallback()}},{key:"connectedCallback",value:function(){"complete"===document.readyState?n.prototype.doConnectedCallback.call(this):document.addEventListener("readystatechange",this.onReadyStateChange.bind(this))}},{key:"doConnectedCallback",value:function(){this.srcs=this.validate()}},{key:"validate",value:function(){var e,t=this.querySelectorAll("[src]"),n=[];if(6===t.length){for(e=0;e<t.length;e++)n.push(t[e].getAttribute("src"));return n}r("<a-cubemap> did not contain exactly six elements each with a `src` attribute.")}}]),n}(c(HTMLElement));customElements.define("a-cubemap",i)},"./src/core/a-entity.js":function(e,t,n){var r=n("./src/core/a-node.js").ANode,i=n("./src/core/component.js").components,a=n("./src/lib/three.js"),o=n("./src/utils/index.js"),s=o.debug("core:a-entity:debug"),u=o.debug("core:a-entity:warn"),l="__",c=["position","rotation","scale","visible"],g={once:!0},A=function(e){"use strict";v(n,e);var t=y(n);function n(){var e;return p(this,n),(e=t.call(this)).components={},e.initializingComponents={},e.componentsToUpdate={},e.isEntity=!0,e.isPlaying=!1,e.object3D=new a.Group,e.object3D.el=m(e),e.object3DMap={},e.parentEl=null,e.rotationObj={},e.states=[],e}return f(n,[{key:"attributeChangedCallback",value:function(e,t,r){var i=this.components[e];h(d(n.prototype),"attributeChangedCallback",this).call(this),i&&i.justInitialized&&""===r?delete i.justInitialized:(i||null!==r)&&this.setEntityAttribute(e,t,r)}},{key:"connectedCallback",value:function(){"complete"===document.readyState?n.prototype.doConnectedCallback.call(this):document.addEventListener("readystatechange",this.onReadyStateChange.bind(this))}},{key:"doConnectedCallback",value:function(){var e,t,r=this;h(d(n.prototype),"connectedCallback",this).call(this),t=this.sceneEl,this.addToParent(),this.isScene||(t?!(e=t.querySelector("a-assets"))||e.hasLoaded?this.load():e.addEventListener("loaded",(function(){r.load()})):this.load())}},{key:"disconnectedCallback",value:function(){var e;if(this.parentEl){for(e in this.components)this.removeComponent(e,!1);this.isScene||(this.removeFromParent(),h(d(n.prototype),"disconnectedCallback",this).call(this),this.object3D.el=null)}}},{key:"getObject3D",value:function(e){return this.object3DMap[e]}},{key:"setObject3D",value:function(e,t){var n,r=this;if(!(t instanceof a.Object3D))throw new Error("`Entity.setObject3D` was called with an object that was not an instance of THREE.Object3D.");(n=this.getObject3D(e))&&this.object3D.remove(n),t.el=this,t.children.length&&t.traverse((function(e){e.el=r})),this.object3D.add(t),this.object3DMap[e]=t,this.emit("object3dset",{object:t,type:e})}},{key:"removeObject3D",value:function(e){var t=this.getObject3D(e);t?(this.object3D.remove(t),delete this.object3DMap[e],this.emit("object3dremove",{type:e})):u("Tried to remove `Object3D` of type:",e,"which was not defined.")}},{key:"getOrCreateObject3D",value:function(e,t){var n=this.getObject3D(e);return!n&&t&&(n=new t,this.setObject3D(e,n)),u("`getOrCreateObject3D` has been deprecated. Use `setObject3D()` and `object3dset` event instead."),n}},{key:"add",value:function(e){if(!e.object3D)throw new Error("Trying to add an element that doesn't have an `object3D`");this.object3D.add(e.object3D),this.emit("child-attached",{el:e})}},{key:"addToParent",value:function(){var e=this.parentEl=this.parentNode;e&&e.add&&!this.attachedToParent&&(e.add(this),this.attachedToParent=!0)}},{key:"removeFromParent",value:function(){var e=this.parentEl;this.parentEl.remove(this),this.attachedToParent=!1,this.parentEl=null,e.emit("child-detached",{el:this})}},{key:"load",value:function(){var e=this;!this.hasLoaded&&this.parentEl&&h(d(n.prototype),"load",this).call(this,(function(){e.parentEl&&(e.updateComponents(),(e.isScene||e.parentEl.isPlaying)&&e.play())}))}},{key:"remove",value:function(e){e?this.object3D.remove(e.object3D):this.parentNode.removeChild(this)}},{key:"getChildEntities",value:function(){for(var e=this.children,t=[],r=0;r<e.length;r++){var i=e[r];i instanceof n&&t.push(i)}return t}},{key:"initComponent",value:function(e,t,n){var r,a,u,c;if(c=(u=o.split(e,l))[0],a=u.length>2?u.slice(1).join("__"):u[1],i[c]&&(b(this,e)||void 0!==t||n)&&!(e in this.components)){if(this.initComponentDependencies(c),a&&!i[c].multiple)throw new Error("Trying to initialize multiple components of type `"+c+"`. There can only be one component of this type per entity.");r=new i[c].Component(this,t,a),this.isPlaying&&r.play(),this.hasAttribute(e)||(r.justInitialized=!0,window.HTMLElement.prototype.setAttribute.call(this,e,"")),s("Component initialized: %s",e)}}},{key:"initComponentDependencies",value:function(e){var t,n;if(i[e]&&(t=i[e].dependencies))for(n=0;n<t.length;n++)this.initComponent(t[n],window.HTMLElement.prototype.getAttribute.call(this,t[n])||void 0,!0)}},{key:"removeComponent",value:function(e,t){var n;(n=this.components[e])&&(n.initialized?(n.pause(),n.remove(),t&&(n.destroy(),delete this.components[e]),this.emit("componentremoved",n.evtDetail,!1)):this.addEventListener("componentinitialized",(function n(r){r.detail.name===e&&(this.removeComponent(e,t),this.removeEventListener("componentinitialized",n))})))}},{key:"updateComponents",value:function(){var e,t,n,r,i,a,s=this.componentsToUpdate;if(this.hasLoaded){for(n=0;n<this.mixinEls.length;n++)for(r in this.mixinEls[n].componentCache)x(r)&&(s[r]=!0);if(this.getExtraComponents)for(r in t=this.getExtraComponents())x(r)&&(s[r]=!0);for(n=0;n<this.attributes.length;++n)r=this.attributes[n].name,-1===c.indexOf(r)&&x(r)&&(s[r]=!0);for(n=0;n<c.length;n++)r=c[n],this.hasAttribute(r)&&this.updateComponent(r,this.getDOMAttribute(r));for(r in s)i=this.getDOMAttribute(r),a=t&&t[r],e=a?a.constructor===Object?o.extend(a,o.styleParser.parse(i||{})):i||a:i,this.updateComponent(r,e),delete s[r]}}},{key:"updateComponent",value:function(e,t,n){var r=this.components[e];if(r)return null!==t||b(this,e)?void r.updateProperties(t,n):void this.removeComponent(e,!0);this.initComponent(e,t,!1)}},{key:"removeAttribute",value:function(e,t){var n=this.components[e];n&&void 0===t&&this.removeComponent(e,!0),n&&void 0!==t?n.resetProperty(t):("mixin"===e&&this.mixinUpdate(""),window.HTMLElement.prototype.removeAttribute.call(this,e))}},{key:"play",value:function(){var e,t,n;if(!this.isPlaying&&this.hasLoaded){for(n in this.isPlaying=!0,this.components)this.components[n].play();for(e=this.getChildEntities(),t=0;t<e.length;t++)e[t].play();this.emit("play")}}},{key:"pause",value:function(){var e,t,n;if(this.isPlaying){for(n in this.isPlaying=!1,this.components)this.components[n].pause();for(e=this.getChildEntities(),t=0;t<e.length;t++)e[t].pause();this.emit("pause")}}},{key:"setEntityAttribute",value:function(e,t,n){if(i[e]||this.components[e])this.updateComponent(e,n);else if("mixin"===e){if(n===this.computedMixinStr)return;this.mixinUpdate(n,t)}}},{key:"mixinUpdate",value:function(e,t){var r,i,a,o,s=n.componentsUpdated,u=this;if(this.hasLoaded){for(t=t||this.getAttribute("mixin"),a=this.updateMixins(e,t),s.length=0,o=0;o<this.mixinEls.length;o++)for(r in this.mixinEls[o].componentCache)-1===s.indexOf(r)&&(this.components[r]?this.components[r].handleMixinUpdate():this.initComponent(r,null),s.push(r));for(o=0;o<a.oldMixinIds.length;o++)if(i=document.getElementById(a.oldMixinIds[o]))for(r in i.componentCache)-1===s.indexOf(r)&&this.components[r]&&(this.getDOMAttribute(r)?this.components[r].handleMixinUpdate():this.removeComponent(r,!0))}else this.addEventListener("loaded",(function(){u.mixinUpdate(e,t)}),g)}},{key:"setAttribute",value:function(e,t,r){var a,s,u,c,g,p=n.singlePropUpdate;if(u=(c=e.indexOf(l))>0?e.substring(0,c):e,!i[u])return"mixin"===e&&this.mixinUpdate(t),void h(d(n.prototype),"setAttribute",this).call(this,e,t);if(!this.components[e]&&this.hasAttribute(e)&&this.updateComponent(e,window.HTMLElement.prototype.getAttribute.call(this,e)),"undefined"!==typeof r&&"string"===typeof t&&t.length>0&&"string"===typeof o.styleParser.parse(t)){for(g in p)delete p[g];(a=p)[t]=r,s=!1}else a=t,s=!0===r;this.updateComponent(e,a,s),this.sceneEl&&this.sceneEl.getAttribute("debug")&&this.components[e].flushToDOM()}},{key:"flushToDOM",value:function(e){var t,n,r,i=this.components,a=this.children;for(r in i)i[r].flushToDOM();if(e)for(n=0;n<a.length;++n)(t=a[n]).flushToDOM&&t.flushToDOM(e)}},{key:"getAttribute",value:function(e){var t;return"position"===e?this.object3D.position:"rotation"===e?function(e){var t=a.MathUtils.radToDeg,n=e.object3D.rotation,r=e.rotationObj;return r.x=t(n.x),r.y=t(n.y),r.z=t(n.z),r}(this):"scale"===e?this.object3D.scale:"visible"===e?this.object3D.visible:(t=this.components[e])?t.data:window.HTMLElement.prototype.getAttribute.call(this,e)}},{key:"getDOMAttribute",value:function(e){var t=this.components[e];return t?t.attrValue:window.HTMLElement.prototype.getAttribute.call(this,e)}},{key:"addState",value:function(e){this.is(e)||(this.states.push(e),this.emit("stateadded",e))}},{key:"removeState",value:function(e){var t=this.states.indexOf(e);-1!==t&&(this.states.splice(t,1),this.emit("stateremoved",e))}},{key:"is",value:function(e){return-1!==this.states.indexOf(e)}},{key:"inspect",value:function(){this.sceneEl.components.inspector.openInspector(this)}},{key:"destroy",value:function(){var e;if(this.parentNode)u("Entity can only be destroyed if detached from scenegraph.");else for(e in this.components)this.components[e].destroy()}}]),n}(r);function b(e,t){return!(!e.components[t]||!e.components[t].attrValue)||function(e,t){var n,r=!1;for(n=0;n<t.length&&!(r=t[n].hasAttribute(e));++n);return r}(t,e.mixinEls)}function x(e){return-1!==e.indexOf(l)&&(e=o.split(e,l)[0]),!!i[e]}A.componentsUpdated=[],A.singlePropUpdate={},customElements.define("a-entity",A),e.exports.AEntity=A},"./src/core/a-mixin.js":function(e,t,n){var r=n("./src/core/a-node.js").ANode,i=n("./src/core/component.js").components,a=n("./src/utils/index.js"),o=function(e){"use strict";v(n,e);var t=y(n);function n(){var e;return p(this,n),(e=t.call(this)).componentCache={},e.isMixin=!0,e}return f(n,[{key:"connectedCallback",value:function(){"complete"===document.readyState?this.doConnectedCallback():document.addEventListener("readystatechange",this.onReadyStateChange.bind(this))}},{key:"doConnectedCallback",value:function(){h(d(n.prototype),"connectedCallback",this).call(this),this.sceneEl=this.closestScene(),this.id=this.getAttribute("id"),this.cacheAttributes(),this.updateEntities(),this.load()}},{key:"attributeChangedCallback",value:function(e,t,r){h(d(n.prototype),"attributeChangedCallback",this).call(this),this.cacheAttribute(e,r),this.updateEntities()}},{key:"setAttribute",value:function(e,t){window.HTMLElement.prototype.setAttribute.call(this,e,t),this.cacheAttribute(e,t)}},{key:"cacheAttribute",value:function(e,t){var n,r;r=a.split(e,"__")[0],(n=i[r])&&(void 0===t&&(t=window.HTMLElement.prototype.getAttribute.call(this,e)),this.componentCache[e]=n.parseAttrValueForCache(t))}},{key:"getAttribute",value:function(e){return this.componentCache[e]||window.HTMLElement.prototype.getAttribute.call(this,e)}},{key:"cacheAttributes",value:function(){var e,t,n=this.attributes;for(t=0;t<n.length;t++)e=n[t].name,this.cacheAttribute(e)}},{key:"updateEntities",value:function(){var e,t,n;if(this.sceneEl)for(t=this.sceneEl.querySelectorAll("[mixin~="+this.id+"]"),n=0;n<t.length;n++)(e=t[n]).hasLoaded&&!e.isMixin&&e.mixinUpdate(this.id)}}]),n}(r);customElements.define("a-mixin",o)},"./src/core/a-node.js":function(e,t,n){var r=n("./src/utils/index.js"),i=r.debug("core:a-node:warn"),a={"a-scene":!0,"a-assets":!0,"a-assets-items":!0,"a-cubemap":!0,"a-mixin":!0,"a-node":!0,"a-entity":!0};function o(e){return e.tagName.toLowerCase()in a||e.isNode}var s=function(e){"use strict";v(n,e);var t=y(n);function n(){var e;return p(this,n),(e=t.call(this)).computedMixinStr="",e.hasLoaded=!1,e.isNode=!0,e.mixinEls=[],e}return f(n,[{key:"onReadyStateChange",value:function(){"complete"===document.readyState&&this.doConnectedCallback()}},{key:"connectedCallback",value:function(){"complete"===document.readyState?n.prototype.doConnectedCallback.call(this):document.addEventListener("readystatechange",this.onReadyStateChange.bind(this))}},{key:"doConnectedCallback",value:function(){var e;this.sceneEl=this.closestScene(),this.sceneEl||i("You are attempting to attach <"+this.tagName+"> outside of an A-Frame scene. Append this element to `<a-scene>` instead."),this.hasLoaded=!1,this.emit("nodeready",void 0,!1),this.isMixin||(e=this.getAttribute("mixin"))&&this.updateMixins(e)}},{key:"attributeChangedCallback",value:function(e,t,n){n!==this.computedMixinStr&&("mixin"!==e||this.isMixin||this.updateMixins(n,t))}},{key:"closestScene",value:function(){for(var e=this;e&&!e.isScene;)e=e.parentElement;return e}},{key:"closest",value:function(e){for(var t=this.matches||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector,n=this;n&&!t.call(n,e);)n=n.parentElement;return n}},{key:"disconnectedCallback",value:function(){this.hasLoaded=!1}},{key:"load",value:function(e,t){var n,r=this;this.hasLoaded||(t=t||o,n=this.getChildren().filter(t).map((function(e){return new Promise((function(t,n){if(e.hasLoaded)return t();e.addEventListener("loaded",t),e.addEventListener("error",n)}))})),Promise.allSettled(n).then((function(t){t.forEach((function(e){"rejected"===e.status&&i("Rendering scene with errors on node: ",e.reason.target)})),r.hasLoaded=!0,r.setupMutationObserver(),e&&e(),r.emit("loaded",void 0,!1)})))}},{key:"setupMutationObserver",value:function(){var e=this;new MutationObserver((function(t){var n;for(n=0;n<t.length;n++)if("attributes"===t[n].type){var r=t[n].attributeName,i=window.HTMLElement.prototype.getAttribute.call(e,r),a=t[n].oldValue;e.attributeChangedCallback(r,a,i)}})).observe(this,{attributes:!0,attributeOldValue:!0})}},{key:"getChildren",value:function(){return Array.prototype.slice.call(this.children,0)}},{key:"updateMixins",value:function(e,t){var i,a,o,s=n.newMixinIdArray,u=n.oldMixinIdArray,l=n.mixinIds;for(s.length=0,u.length=0,a=e?r.split(e.trim(),/\s+/):s,o=t?r.split(t.trim(),/\s+/):u,l.newMixinIds=a,l.oldMixinIds=o,i=0;i<o.length;i++)-1===a.indexOf(o[i])&&this.unregisterMixin(o[i]);for(this.computedMixinStr="",this.mixinEls.length=0,i=0;i<a.length;i++)this.registerMixin(document.getElementById(a[i]));return this.computedMixinStr&&(this.computedMixinStr=this.computedMixinStr.trim(),window.HTMLElement.prototype.setAttribute.call(this,"mixin",this.computedMixinStr)),l}},{key:"registerMixin",value:function(e){var t,n,i;if(e){if(i=e.getAttribute("mixin"))for(t=r.split(i.trim(),/\s+/),n=0;n<t.length;n++)this.registerMixin(document.getElementById(t[n]));this.computedMixinStr=this.computedMixinStr+" "+e.id,this.mixinEls.push(e)}}},{key:"setAttribute",value:function(e,t){"mixin"===e&&this.updateMixins(t),window.HTMLElement.prototype.setAttribute.call(this,e,t)}},{key:"unregisterMixin",value:function(e){var t,n=this.mixinEls;for(t=0;t<n.length;++t)if(e===n[t].id){n.splice(t,1);break}}},{key:"emit",value:function(e,t,i,a){var o=n.evtData;void 0===i&&(i=!0),o.bubbles=!!i,o.detail=t,a&&(o=r.extend({},a,o)),this.dispatchEvent(new CustomEvent(e,o))}}]),n}(c(HTMLElement));s.evtData={},s.newMixinIdArray=[],s.oldMixinIdArray=[],s.mixinIds={},customElements.define("a-node",s),e.exports.ANode=s,e.exports.knownTags=a},"./src/core/component.js":function(e,t,n){var r=n("./src/core/schema.js"),i=n("./src/core/scene/scenes.js"),a=n("./src/core/system.js"),o=n("./src/utils/index.js"),s=e.exports.components={},u=r.parseProperties,l=r.parseProperty,c=r.process,h=r.isSingleProperty,d=r.stringifyProperties,g=r.stringifyProperty,p=o.styleParser,f=o.debug("core:component:warn"),m=document.currentScript,v=new RegExp("[A-Z]+"),y={},A=e.exports.Component=function(e,t,n){var r=this;this.el=e,this.id=n,this.attrName=this.name+(n?"__"+n:""),this.evtDetail={id:this.id,name:this.name},this.initialized=!1,this.el.components[this.attrName]=this,this.objectPool=y[this.name];var i=this.events;this.events={},function(e,t){var n;for(n in t)e.events[n]=t[n].bind(e)}(this,i),this.attrValue=void 0,this.isObjectBased?(this.nextData=this.objectPool.use(),o.objectPool.removeUnusedKeys(this.nextData,this.schema),this.oldData=this.objectPool.use(),o.objectPool.removeUnusedKeys(this.oldData,this.schema),this.previousOldData=this.objectPool.use(),o.objectPool.removeUnusedKeys(this.previousOldData,this.schema),this.parsingAttrValue=this.objectPool.use(),o.objectPool.removeUnusedKeys(this.parsingAttrValue,this.schema)):(this.nextData=void 0,this.oldData=void 0,this.previousOldData=void 0,this.parsingAttrValue=void 0),this.throttledEmitComponentChanged=o.throttleLeadingAndTrailing((function(){e.emit("componentchanged",r.evtDetail,!1)}),200),this.updateProperties(t)};if(A.prototype={schema:{},init:function(){},events:{},update:function(e){},updateSchema:void 0,tick:void 0,tock:void 0,play:function(){},pause:function(){},remove:function(){},parse:function(e,t){var n=this.schema;return this.isSingleProperty?l(e,n):u(p.parse(e),n,!0,this.name,t)},stringify:function(e){var t=this.schema;return"string"===typeof e?e:this.isSingleProperty?g(e,t):(e=d(e,t),p.stringify(e))},updateCachedAttrValue:function(e,t){var n,r,i;if(void 0!==e){if(null===e)return this.isObjectBased&&this.attrValue&&this.objectPool.recycle(this.attrValue),void(this.attrValue=void 0);if(e instanceof Object&&!(e instanceof window.HTMLElement)?(r=this.objectPool.use(),n=o.extend(r,e)):n=this.parseAttrValueForCache(e),this.isObjectBased&&!t&&this.attrValue)for(i in this.attrValue)void 0===n[i]&&(n[i]=this.attrValue[i]);this.isObjectBased&&!this.attrValue&&(this.attrValue=this.objectPool.use()),o.objectPool.clearObject(this.attrValue),this.attrValue=w(this.attrValue,n,this.isObjectBased),o.objectPool.clearObject(r)}},parseAttrValueForCache:function(e){var t;return"string"!==typeof e?e:(this.isSingleProperty?"string"===typeof(t=this.schema.parse(e))&&(t=e):(o.objectPool.clearObject(this.parsingAttrValue),t=p.parse(e,this.parsingAttrValue)),t)},flushToDOM:function(e){var t=e?this.data:this.attrValue;null!==t&&void 0!==t&&window.HTMLElement.prototype.setAttribute.call(this.el,this.attrName,this.stringify(t))},updateProperties:function(e,t){this.el.hasLoaded?(null!==e&&(e=this.parseAttrValueForCache(e)),this.updateCachedAttrValue(e,t),this.initialized?(this.updateComponent(e,t),this.callUpdateHandler()):this.initComponent()):this.updateCachedAttrValue(e)},initComponent:function(){var e,t=this.el;this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!1,!0)),this.data=this.buildData(this.attrValue),t.initializingComponents[this.name]||(t.initializingComponents[this.name]=!0,this.init(),this.initialized=!0,delete t.initializingComponents[this.name],this.oldData=w(this.oldData,this.data,this.isObjectBased),e=this.isObjectBased?this.objectPool.use():void 0,this.update(e),this.isObjectBased&&this.objectPool.recycle(e),t.isPlaying&&this.play(),t.emit("componentinitialized",this.evtDetail,!1))},updateComponent:function(e,t){var n,r;if(t)return this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!0,!0)),void(this.data=this.buildData(this.attrValue,!0,!1));if(this.isSingleProperty)return this.isObjectBased&&l(e,this.schema),void(this.data=e);if(u(e,this.schema,!0,this.name),this.schemaChangeKeys.length)for(n in e)if(this.schema[n].schemaChange){r=!0;break}if(r)return this.updateSchema&&this.updateSchema(this.buildData(this.attrValue,!0,!0)),void(this.data=this.buildData(this.attrValue,!0,!1));for(n in e)void 0!==e[n]&&(this.data[n]=e[n])},callUpdateHandler:function(){var e;this.previousOldData instanceof Object&&o.objectPool.clearObject(this.previousOldData),this.isObjectBased?x(this.previousOldData,this.oldData):this.previousOldData=this.oldData,e=!o.deepEqual(this.oldData,this.data),(this.isPositionRotationScale||e)&&(this.oldData instanceof Object&&o.objectPool.clearObject(this.oldData),this.oldData=w(this.oldData,this.data,this.isObjectBased),this.update(this.previousOldData),this.throttledEmitComponentChanged())},handleMixinUpdate:function(){this.data=this.buildData(this.attrValue),this.callUpdateHandler()},resetProperty:function(e){if(this.isObjectBased){if(!(e in this.attrValue))return;delete this.attrValue[e],this.data[e]=this.schema[e].default}else this.attrValue=this.schema.default,this.data=this.schema.default;this.updateProperties(this.attrValue)},extendSchema:function(e){var t;t=o.extend({},s[this.name].schema),o.extend(t,e),this.schema=c(t),this.el.emit("schemachanged",this.evtDetail)},buildData:function(e,t,n){var r,i,a,s,c,h,d,g=this.nextData,p=this.schema,f=this.el.mixinEls;if(r=e&&e.constructor===Array?e.length:void 0!==e&&null!==e,this.isObjectBased&&o.objectPool.clearObject(g),this.isSingleProperty)i=this.isObjectBased?x(g,p.default):C(p.default)?o.clone(p.default):p.default;else for(s in i=(d=!t&&this.attrValue)instanceof Object?x(g,d):g,p)a=p[s].default,void 0===i[s]&&(i[s]=C(a)?o.clone(a):a);for(h=0;h<f.length;h++)(c=f[h].getAttribute(this.attrName))&&(i=w(i,c,this.isObjectBased));if(r){if(this.isSingleProperty)return _(e)?(x(this.parsingAttrValue,e),l(this.parsingAttrValue,p)):l(e,p);i=w(i,e,this.isObjectBased)}else if(this.isSingleProperty)return l(i,p);return u(i,p,void 0,this.name,n)},eventsAttach:function(){var e;for(e in this.eventsDetach(),this.events)this.el.addEventListener(e,this.events[e])},eventsDetach:function(){var e;for(e in this.events)this.el.removeEventListener(e,this.events[e])},destroy:function(){this.objectPool.recycle(this.attrValue),this.objectPool.recycle(this.oldData),this.objectPool.recycle(this.parsingAttrValue),this.attrValue=this.oldData=this.parsingAttrValue=void 0}},window.debug)var b=e.exports.registrationOrderWarnings={};function x(e,t){var n,r;for(r in t)void 0!==t[r]&&(n=t[r],e[r]=C(n)?o.clone(n):n);return e}function w(e,t,n){var r;if(n&&t.constructor===Object){for(r in t)void 0!==t[r]&&(t[r]&&t[r].constructor===Object?e[r]=o.clone(t[r]):e[r]=t[r]);return e}return t}function E(e){return e.tick||e.tock}function _(e){return e&&e.constructor===Object&&!(e instanceof window.HTMLElement)}function C(e){return e&&(e.constructor===Object||e.constructor===Array)&&!(e instanceof window.HTMLElement)}e.exports.registerComponent=function(e,t){var n,r,u,d,g,p,x,w={};if(document.currentScript&&document.currentScript!==m&&i.forEach((function(t){t.hasLoaded||document.currentScript.compareDocumentPosition(t)!==Node.DOCUMENT_POSITION_FOLLOWING&&(f("The component `"+e+"` was registered in a <script> tag after the scene. Component <script> tags in an HTML file should be declared *before* the scene such that the component is available to entities during scene initialization."),window.debug&&(b[e]=!0))})),!0===v.test(e)&&f("The component name `"+e+"` contains uppercase characters, but HTML will ignore the capitalization of attribute names. Change the name to be lowercase: `"+e.toLowerCase()+"`"),-1!==e.indexOf("__"))throw new Error("The component name `"+e+"` is not allowed. The sequence __ (double underscore) is reserved to specify an id for multiple components of the same type");if(Object.keys(t).forEach((function(e){w[e]={value:t[e],writable:!0}})),s[e])throw new Error("The component `"+e+"` has been already registered. Check that you are not loading two versions of the same component or two different components of the same name.");if(((n=function(e,t,n){A.call(this,e,t,n)}).prototype=Object.create(A.prototype,w)).name=e,n.prototype.isPositionRotationScale="position"===e||"rotation"===e||"scale"===e,n.prototype.constructor=n,n.prototype.system=a&&a.systems[e],n.prototype.play=(p=n.prototype.play,function(){var e=this.el.sceneEl,t=this.el.isPlaying&&!this.isPlaying;this.initialized&&t&&(p.call(this),this.isPlaying=!0,this.eventsAttach(),E(this)&&e.addBehavior(this))}),n.prototype.pause=(x=n.prototype.pause,function(){var e=this.el.sceneEl;this.isPlaying&&(x.call(this),this.isPlaying=!1,this.eventsDetach(),E(this)&&e.removeBehavior(this))}),u=o.extend(c(n.prototype.schema,n.prototype.name)),n.prototype.isSingleProperty=d=h(n.prototype.schema),n.prototype.isSinglePropertyObject=g=d&&_(l(void 0,u))&&!(u.default instanceof window.HTMLElement),n.prototype.isObjectBased=!d||g,!d)for(r in n.prototype.schemaChangeKeys=[],u)u[r].schemaChange&&n.prototype.schemaChangeKeys.push(r);return y[e]=o.objectPool.createPool(),s[e]={Component:n,dependencies:n.prototype.dependencies,isSingleProperty:n.prototype.isSingleProperty,isSinglePropertyObject:n.prototype.isSinglePropertyObject,isObjectBased:n.prototype.isObjectBased,multiple:n.prototype.multiple,name:e,parse:n.prototype.parse,parseAttrValueForCache:n.prototype.parseAttrValueForCache,schema:u,stringify:n.prototype.stringify,type:n.prototype.type},n}},"./src/core/geometry.js":function(e,t,n){var r=n("./src/core/schema.js").process,i=e.exports.geometries={},a=e.exports.geometryNames=[],o=n("./src/lib/three.js"),s=e.exports.Geometry=function(){};s.prototype={schema:{},init:function(e){return this.geometry=new o.BufferGeometry,this.geometry},update:function(e){}},e.exports.registerGeometry=function(e,t){var n,o={};if(Object.keys(t).forEach((function(e){o[e]={value:t[e],writable:!0}})),i[e])throw new Error("The geometry `"+e+"` has been already registered");return((n=function(){s.call(this)}).prototype=Object.create(s.prototype,o)).name=e,n.prototype.constructor=n,i[e]={Geometry:n,schema:r(n.prototype.schema)},a.push(e),n}},"./src/core/propertyTypes.js":function(e,t,n){var r=n("./src/utils/coordinates.js"),i=n("./node_modules/debug/browser.js"),a=i("core:propertyTypes:warn"),o=i("core:propertyTypes:warn"),s=e.exports.propertyTypes={},u=/[,> .[\]:]/,l=/\url\((.+)\)/;function c(e,t,n,r){"type"in s?a("Property type "+e+" is already registered."):s[e]={default:t,parse:n||d,stringify:r||g}}function h(e){var t,n;return"string"!==typeof e?e:(n=e.match(l))?n[1]:"#"===e.charAt(0)?(t=document.getElementById(e.substring(1)))?"CANVAS"===t.tagName||"VIDEO"===t.tagName||"IMG"===t.tagName?t:t.getAttribute("src"):void o('"'+e+'" asset not found.'):e}function d(e){return e}function g(e){return null===e?"null":e.toString()}function p(e){return parseInt(e,10)}function f(e){return r.parse(e,this.default)}function m(e,t){if(null===e)return!0;if("object"!==typeof e)return!1;if(Object.keys(e).length!==t)return!1;var n=e.x,r=e.y,i=e.z,a=e.w;return"number"===typeof n&&"number"===typeof r&&!(t>2&&"number"!==typeof i)&&!(t>3&&"number"!==typeof a)}c("audio","",h),c("array",[],(function(e){return Array.isArray(e)?e:e&&"string"===typeof e?e.split(",").map((function(e){return e.trim()})):[]}),(function(e){return e.join(", ")})),c("asset","",h),c("boolean",!1,(function(e){return"false"!==e&&!1!==e})),c("color","#FFF",d,g),c("int",0,p),c("number",0,(function(e){return parseFloat(e,10)})),c("map","",h),c("model","",h),c("selector",null,(function(e){return e?"string"!==typeof e?e:"#"!==e[0]||u.test(e)?document.querySelector(e):document.getElementById(e.substring(1)):null}),(function(e){return e.getAttribute?"#"+e.getAttribute("id"):g(e)})),c("selectorAll",null,(function(e){return e?"string"!==typeof e?e:Array.prototype.slice.call(document.querySelectorAll(e),0):null}),(function(e){return e instanceof Array?e.map((function(e){return"#"+e.getAttribute("id")})).join(", "):g(e)})),c("src","",(function(e){return o("`src` property type is deprecated. Use `asset` instead."),h(e)})),c("string","",d,g),c("time",0,p),c("vec2",{x:0,y:0},f,r.stringify),c("vec3",{x:0,y:0,z:0},f,r.stringify),c("vec4",{x:0,y:0,z:0,w:1},f,r.stringify),e.exports.registerPropertyType=c,e.exports.isValidDefaultValue=function(e,t){return("audio"!==e||"string"===typeof t)&&!("array"===e&&!Array.isArray(t))&&("asset"!==e||"string"===typeof t)&&("boolean"!==e||"boolean"===typeof t)&&("color"!==e||"string"===typeof t)&&("int"!==e||"number"===typeof t)&&("number"!==e||"number"===typeof t)&&("map"!==e||"string"===typeof t)&&("model"!==e||"string"===typeof t)&&("selector"!==e||"string"===typeof t||null===t)&&("selectorAll"!==e||"string"===typeof t||null===t)&&("src"!==e||"string"===typeof t)&&("string"!==e||"string"===typeof t)&&("time"!==e||"number"===typeof t)&&("vec2"===e?m(t,2):"vec3"===e?m(t,3):"vec4"!==e||m(t,4))},e.exports.isValidDefaultCoordinate=m},"./src/core/scene/a-scene.js":function(e,t,n){var r=n("./src/core/scene/metaTags.js").inject,i=n("./src/core/scene/wakelock.js"),a=n("./src/core/scene/loadingScreen.js"),o=n("./src/core/scene/scenes.js"),s=n("./src/core/system.js").systems,u=n("./src/lib/three.js"),l=n("./src/utils/index.js"),c=n("./src/core/a-entity.js").AEntity,g=n("./src/core/a-node.js").ANode,A=n("./src/core/scene/postMessage.js"),b=l.bind,x=l.device.isIOS(),w=l.device.isMobile(),E=l.device.isWebXRAvailable,_=l.debug("core:a-scene:warn");x&&n("./src/utils/ios-orientationchange-blank-bug.js");var C=function(e){"use strict";v(n,e);var t=y(n);function n(){var e,r;return p(this,n),e=t.call(this),(r=m(e)).clock=new u.Clock,r.isIOS=x,r.isMobile=w,r.hasWebXR=E,r.isAR=!1,r.isScene=!0,r.object3D=new u.Scene,r.object3D.onAfterRender=function(e,t,n){r.isPlaying&&r.tock(r.time,r.delta,n)},r.resize=b(r.resize,r),r.render=b(r.render,r),r.systems={},r.systemNames=[],r.time=r.delta=0,r.behaviors={tick:[],tock:[]},r.hasLoaded=!1,r.isPlaying=!1,r.originalHTML=r.innerHTML,e}return f(n,[{key:"addFullScreenStyles",value:function(){document.documentElement.classList.add("a-fullscreen")}},{key:"removeFullScreenStyles",value:function(){document.documentElement.classList.remove("a-fullscreen")}},{key:"connectedCallback",value:function(){"complete"===document.readyState?this.doConnectedCallback():document.addEventListener("readystatechange",this.onReadyStateChange.bind(this))}},{key:"doConnectedCallback",value:function(){var e=this,t=this.hasAttribute("embedded");this.setAttribute("inspector",""),this.setAttribute("keyboard-shortcuts",""),this.setAttribute("screenshot",""),this.setAttribute("vr-mode-ui",""),this.setAttribute("device-orientation-permission-ui",""),h(d(n.prototype),"connectedCallback",this).call(this),I(this),this.setupRenderer(),a.setup(this,S),this.resize(),t||this.addFullScreenStyles(),A(this),r(this),i(this),this.onVRPresentChangeBound=b(this.onVRPresentChange,this),window.addEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),this.enterVRBound=function(){e.enterVR()},this.exitVRBound=function(){e.exitVR()},this.exitVRTrueBound=function(){e.exitVR(!0)},this.pointerRestrictedBound=function(){e.pointerRestricted()},this.pointerUnrestrictedBound=function(){e.pointerUnrestricted()},e.hasWebXR||(window.addEventListener("vrdisplaydeactivate",this.exitVRBound),window.addEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.addEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.addEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound)),window.addEventListener("sessionend",this.resize),this.addEventListener("cameraready",(function(){e.attachedCallbackPostCamera()})),this.initSystems(),this.hasWebXR&&navigator.xr&&navigator.xr.addEventListener&&navigator.xr.addEventListener("sessiongranted",(function(){e.enterVR()}))}},{key:"attachedCallbackPostCamera",value:function(){var e=this;window.addEventListener("load",void 0),window.addEventListener("resize",(function(){e.isIOS?setTimeout(e.resize,100):e.resize()})),this.play(),o.push(this)}},{key:"initSystems",value:function(){var e;for(e in this.initSystem("camera"),s)"camera"!==e&&this.initSystem(e)}},{key:"initSystem",value:function(e){this.systems[e]||(this.systems[e]=new s[e](this),this.systemNames.push(e))}},{key:"disconnectedCallback",value:function(){var e=o.indexOf(this);h(d(n.prototype),"disconnectedCallback",this).call(this),o.splice(e,1),window.removeEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),window.removeEventListener("vrdisplayactivate",this.enterVRBound),window.removeEventListener("vrdisplaydeactivate",this.exitVRBound),window.removeEventListener("vrdisplayconnect",this.enterVRBound),window.removeEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.removeEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.removeEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound),window.removeEventListener("sessionend",this.resize),this.renderer.dispose()}},{key:"addBehavior",value:function(e){var t,n,r=this.behaviors;for(n in r)e[n]&&-1===(t=this.behaviors[n]).indexOf(e)&&t.push(e)}},{key:"getPointerLockElement",value:function(){return document.pointerLockElement}},{key:"checkHeadsetConnected",value:function(){return l.device.checkHeadsetConnected()}},{key:"enterAR",value:function(){var e;if(!this.hasWebXR)throw e="Failed to enter AR mode, WebXR not supported.",new Error(e);if(!l.device.checkARSupport())throw e="Failed to enter AR, WebXR immersive-ar mode not supported in your browser or device.",new Error(e);return this.enterVR(!0)}},{key:"enterVR",value:function(e){var t,n,r=this,i=r.renderer.xr;if(this.is("vr-mode"))return Promise.resolve("Already in VR.");if(this.checkHeadsetConnected()||this.isMobile){var a=r.getAttribute("renderer");if(i.enabled=!0,this.hasWebXR){this.xrSession&&this.xrSession.removeEventListener("end",this.exitVRBound);var o=this.sceneEl.systems.webxr.sessionReferenceSpaceType;i.setReferenceSpaceType(o);var s=e?"immersive-ar":"immersive-vr";return n=this.sceneEl.systems.webxr.sessionConfiguration,new Promise((function(e,t){navigator.xr.requestSession(s,n).then((function(t){r.xrSession=t,i.layersEnabled=-1!==n.requiredFeatures.indexOf("layers"),i.setSession(t).then((function(){i.setFoveation(a.foveationLevel)})),r.systems.renderer.setWebXRFrameRate(t),t.addEventListener("end",r.exitVRBound),c(e)}),(function(e){throw new Error("Failed to enter "+("immersive-ar"===s?"AR":"VR")+" mode (`requestSession`) "+e)}))}))}if(t=l.device.getVRDisplay(),i.setDevice(t),t.isPresenting&&!window.hasNativeWebVRImplementation)return c(),Promise.resolve();var u={highRefreshRate:a.highRefreshRate};return t.requestPresent([{source:this.canvas,attributes:u}]).then(c,(function(e){throw r.removeState("vr-mode"),e&&e.message?new Error("Failed to enter VR mode (`requestPresent`): "+e.message):new Error("Failed to enter VR mode (`requestPresent`).")}))}return c(),Promise.resolve();function c(t){var n;window.hasNativeWebVRImplementation&&!window.hasNativeWebXRImplementation&&(n=new CustomEvent("vrdisplaypresentchange",{detail:{display:l.device.getVRDisplay()}}),window.dispatchEvent(n)),e?r.addState("ar-mode"):r.addState("vr-mode"),r.emit("enter-vr",{target:r}),!r.hasWebXR&&r.isMobile&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape"),r.addFullScreenStyles(),r.isMobile||r.checkHeadsetConnected()||function(e){var t=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen;t.apply(e,[{navigationUI:"hide"}])}(r.canvas),r.resize(),t&&t()}}},{key:"exitVR",value:function(){var e,t=this,n=this.renderer.xr;if(!this.is("vr-mode")&&!this.is("ar-mode"))return Promise.resolve("Not in immersive mode.");if(this.checkHeadsetConnected()||this.isMobile){if(n.enabled=!1,e=l.device.getVRDisplay(),this.hasWebXR)this.xrSession.removeEventListener("end",this.exitVRBound),this.xrSession.end().then((function(){}),(function(){})),this.xrSession=void 0;else if(e.isPresenting)return e.exitPresent().then(r,(function(e){throw e&&e.message?new Error("Failed to exit VR mode (`exitPresent`): "+e.message):new Error("Failed to exit VR mode (`exitPresent`).")}))}else(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen());return r(),Promise.resolve();function r(){t.removeState("vr-mode"),t.removeState("ar-mode"),t.isMobile&&screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),t.hasAttribute("embedded")&&t.removeFullScreenStyles(),t.resize(),t.isIOS&&l.forceCanvasResizeSafariMobile(t.canvas),t.renderer.setPixelRatio(window.devicePixelRatio),t.emit("exit-vr",{target:t})}}},{key:"pointerRestricted",value:function(){if(this.canvas){var e=this.getPointerLockElement();e&&e!==this.canvas&&document.exitPointerLock&&document.exitPointerLock(),this.canvas.requestPointerLock&&this.canvas.requestPointerLock()}}},{key:"pointerUnrestricted",value:function(){var e=this.getPointerLockElement();e&&e===this.canvas&&document.exitPointerLock&&document.exitPointerLock()}},{key:"onVRPresentChange",value:function(e){var t=e.display||e.detail.display;t&&t.isPresenting?this.enterVR():this.exitVR()}},{key:"getAttribute",value:function(e){var t=this.systems[e];return t?t.data:c.prototype.getAttribute.call(this,e)}},{key:"getComputedAttribut",value:function(e){_("`getComputedAttribute` is deprecated. Use `getAttribute` instead."),this.getAttribute(e)}},{key:"getDOMAttribute",value:function(e){var t=this.systems[e];return t?t.data:c.prototype.getDOMAttribute.call(this,e)}},{key:"setAttribute",value:function(e,t,n){var r=this.systems[e];if(r)return g.prototype.setAttribute.call(this,e,t),void r.updateProperties(t);c.prototype.setAttribute.call(this,e,t,n)}},{key:"removeBehavior",value:function(e){var t,n,r,i=this.behaviors;for(n in i)e[n]&&-1!==(r=(t=this.behaviors[n]).indexOf(e))&&t.splice(r,1)}},{key:"resize",value:function(){var e,t,n=this.camera,r=this.canvas,i=this.renderer.xr.isPresenting;e=this.renderer.xr.enabled&&i,!n||!r||this.is("vr-mode")&&(this.isMobile||e)||(t=S(r,this.getAttribute("embedded")&&!this.is("vr-mode"),this.maxCanvasSize,this.is("vr-mode")),n.aspect=t.width/t.height,n.updateProjectionMatrix(),this.renderer.setSize(t.width,t.height,!1),this.emit("rendererresize",null,!1))}},{key:"setupRenderer",value:function(){var e,t,n,r,i=this;r={alpha:!0,antialias:!w,canvas:this.canvas,logarithmicDepthBuffer:!1,powerPreference:"high-performance"},this.maxCanvasSize={height:1920,width:1920},this.hasAttribute("renderer")&&(n=this.getAttribute("renderer"),(t=l.styleParser.parse(n)).precision&&(r.precision=t.precision+"p"),t.antialias&&"auto"!==t.antialias&&(r.antialias="true"===t.antialias),t.logarithmicDepthBuffer&&"auto"!==t.logarithmicDepthBuffer&&(r.logarithmicDepthBuffer="true"===t.logarithmicDepthBuffer),t.alpha&&(r.alpha="true"===t.alpha),this.maxCanvasSize={width:t.maxCanvasWidth?parseInt(t.maxCanvasWidth):this.maxCanvasSize.width,height:t.maxCanvasHeight?parseInt(t.maxCanvasHeight):this.maxCanvasSize.height}),(e=this.renderer=new u.WebGLRenderer(r)).setPixelRatio(window.devicePixelRatio),e.sortObjects=!1,this.camera&&e.xr.setPoseTarget(this.camera.el.object3D),this.addEventListener("camera-set-active",(function(){e.xr.setPoseTarget(i.camera.el.object3D)}))}},{key:"play",value:function(){var e=this,t=this;this.renderStarted?c.prototype.play.call(this):(this.addEventListener("loaded",(function(){var e,n=this.renderer,r=this.renderer.xr;c.prototype.play.call(this),t.renderStarted||(t.resize(),t.renderer&&(window.performance&&window.performance.mark("render-started"),a.remove(),(e=l.device.getVRDisplay())&&e.isPresenting&&(r.setDevice(e),r.enabled=!0,t.enterVR()),n.setAnimationLoop(this.render),t.renderStarted=!0,t.emit("renderstart")))})),setTimeout((function(){c.prototype.load.call(e)})))}},{key:"updateComponent",value:function(e){e in s||c.prototype.updateComponent.apply(this,arguments)}},{key:"tick",value:function(e,t){var n,r=this.systems;for(n=0;n<this.behaviors.tick.length;n++)this.behaviors.tick[n].el.isPlaying&&this.behaviors.tick[n].tick(e,t);for(n=0;n<this.systemNames.length;n++)r[this.systemNames[n]].tick&&r[this.systemNames[n]].tick(e,t)}},{key:"tock",value:function(e,t,n){var r,i=this.systems;for(r=0;r<this.behaviors.tock.length;r++)this.behaviors.tock[r].el.isPlaying&&this.behaviors.tock[r].tock(e,t,n);for(r=0;r<this.systemNames.length;r++)i[this.systemNames[r]].tock&&i[this.systemNames[r]].tock(e,t,n)}},{key:"render",value:function(e,t){var n=this.renderer;this.frame=t,this.delta=1e3*this.clock.getDelta(),this.time=1e3*this.clock.elapsedTime,this.isPlaying&&this.tick(this.time,this.delta);var r=null;this.is("ar-mode")&&(r=this.object3D.background,this.object3D.background=null),n.render(this.object3D,this.camera),r&&(this.object3D.background=r)}}]),n}(c);function M(e,t){var n,r=window.devicePixelRatio;return!t||-1===t.width&&-1===t.height||e.width*r<t.width&&e.height*r<t.height||(n=e.width/e.height,e.width*r>t.width&&-1!==t.width&&(e.width=Math.round(t.width/r),e.height=Math.round(t.width/n/r)),e.height*r>t.height&&-1!==t.height&&(e.height=Math.round(t.height/r),e.width=Math.round(t.height*n/r))),e}function S(e,t,n,r){return e.parentElement?t?M({height:e.parentElement.offsetHeight,width:e.parentElement.offsetWidth},n):function(e,t){var n;return n={height:document.body.offsetHeight,width:document.body.offsetWidth},t?n:M(n,e)}(n,r):{height:0,width:0}}function I(e){var t;function n(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||e.exitVR(),document.activeElement.blur(),document.body.focus()}(t=document.createElement("canvas")).classList.add("a-canvas"),t.dataset.aframeCanvas=!0,e.appendChild(t),document.addEventListener("fullscreenchange",n),document.addEventListener("mozfullscreenchange",n),document.addEventListener("webkitfullscreenchange",n),document.addEventListener("MSFullscreenChange",n),t.addEventListener("touchmove",(function(e){e.preventDefault()})),e.canvas=t,e.emit("render-target-loaded",{target:t}),setTimeout(b(e.resize,e),0)}window.customElements.define("a-scene",C),e.exports.setupCanvas=I,e.exports.AScene=C},"./src/core/scene/loadingScreen.js":function(e,t,n){var r,i,a,o=n("./src/utils/index.js").styleParser,s="loading-screen",u="a-loader-title";function l(e){var t=r.hasAttribute("embedded"),n=a(r.canvas,t,r.maxCanvasSize,r.is("vr-mode"));e.aspect=n.width/n.height,e.updateProjectionMatrix(),r.renderer.setSize(n.width,n.height,!1)}e.exports.setup=function(e,t){a=t;var n,c,h,d,g,p,f,m,v,y,A=(r=e).hasAttribute(s)?o.parse(r.getAttribute(s)):void 0,b=A&&A.dotsColor||"white",x=A&&A.backgroundColor||"#24CAFF";(void 0===A||"true"===A.enabled||void 0===A.enabled)&&(n=new THREE.Scene,c=new THREE.SphereGeometry(.2,36,18,0,2*Math.PI,0,Math.PI),h=new THREE.MeshBasicMaterial({color:b}),d=new THREE.Mesh(c,h),g=d.clone(),p=d.clone(),f=new THREE.PerspectiveCamera(80,window.innerWidth/window.innerHeight,5e-4,1e4),m=new THREE.Clock,v=0,y=function(){r.renderer.render(n,f),v=m.getElapsedTime()%4,d.visible=v>=1,g.visible=v>=2,p.visible=v>=3},n.background=new THREE.Color(x),n.add(f),d.position.set(-1,0,-15),g.position.set(0,0,-15),p.position.set(1,0,-15),f.add(d),f.add(g),f.add(p),(i=document.createElement("div")).className=u,i.innerHTML=document.title,i.style.display="none",r.appendChild(i),setTimeout((function(){r.hasLoaded||(l(f),i.style.display="block",window.addEventListener("resize",(function(){l(f)})),r.renderer.setAnimationLoop(y))}),200))},e.exports.remove=function(){window.removeEventListener("resize",l),i&&(i.style.display="none")}},"./src/core/scene/metaTags.js":function(e,t,n){var r,i=n("./src/constants/index.js"),a=n("./src/utils/index.js").extend,o=e.exports.MOBILE_HEAD_TAGS=[u({name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui,viewport-fit=cover"}),u({name:"mobile-web-app-capable",content:"yes"}),u({name:"theme-color",content:"black"})],s=[u({name:"apple-mobile-web-app-capable",content:"yes"}),u({name:"apple-mobile-web-app-status-bar-style",content:"black"}),(r={rel:"apple-touch-icon",href:"https://aframe.io/images/aframe-logo-152.png"},{tagName:"link",attributes:r,exists:function(){return document.querySelector('link[rel="'+r.rel+'"]')}})];function u(e){return{tagName:"meta",attributes:e,exists:function(){return document.querySelector('meta[name="'+e.name+'"]')}}}e.exports.inject=function(e){var t,n=document.head,r=n.querySelector("script"),u=[];return o.forEach(l),e.isIOS&&s.forEach(l),u;function l(e){e&&!e.exists()&&(t=function(e){if(e&&e.tagName){var t=document.createElement(e.tagName);return t.setAttribute(i.AFRAME_INJECTED,""),a(t,e.attributes)}}(e),t&&(r?r.parentNode.insertBefore(t,r):n.appendChild(t),u.push(t)))}}},"./src/core/scene/postMessage.js":function(e,t,n){var r=n("./src/utils/bind.js"),i=n("./src/utils/index.js").isIframed;function a(e){if(e.data&&"vr"===e.data.type)switch(e.data.data){case"enter":this.enterVR();break;case"exit":this.exitVR()}}e.exports=function(e){i()&&window.addEventListener("message",r(a,e))}},"./src/core/scene/scenes.js":function(e){e.exports=[]},"./src/core/scene/wakelock.js":function(e,t,n){var r=n("./vendor/wakelock/wakelock.js");e.exports=function(e){if(e.isMobile){var t=e.wakelock=new r;e.addEventListener("enter-vr",(function(){t.request()})),e.addEventListener("exit-vr",(function(){t.release()}))}}},"./src/core/schema.js":function(e,t,n){var r=n("./src/utils/index.js"),i=n("./src/core/propertyTypes.js"),a=r.debug,o=i.isValidDefaultValue,s=i.propertyTypes,u=a("core:schema:warn");function l(e){return"type"in e?"string"===typeof e.type:"default"in e}function c(e,t){var n,r,i=e.default,a=e.type;return e.type?"bool"===e.type?a="boolean":"float"===e.type&&(a="number"):a=void 0===i||"boolean"!==typeof i&&"number"!==typeof i?Array.isArray(i)?"array":"string":typeof i,(r=s[a])||u("Unknown property type for component `"+t+"`: "+a),n=!!e.parse,e.parse=e.parse||r.parse,e.stringify=e.stringify||r.stringify,e.type=a,"default"in e?n||o(a,i)||u("Default value `"+i+"` does not match type `"+a+"` in component `"+t+"`"):e.default=r.default,e}function h(e,t){return void 0!==e&&null!==e&&""!==e||(e=t.default,Array.isArray(e)&&(e=e.slice())),t.parse(e,t.default)}function d(e,t){return"object"!==typeof e?e:t&&null!==e?t.stringify(e):JSON.stringify(e)}e.exports.isSingleProperty=l,e.exports.process=function(e,t){var n;if(l(e))return c(e,t);for(n in e)e[n]=c(e[n],t);return e},e.exports.processPropertyDefinition=c,e.exports.parseProperties=function(){var e=[];return function(t,n,r,i,a){var o,s,l,c;for(s in e.length=0,r?t:n)r&&void 0===t[s]||e.push(s);if(null===t||"object"!==typeof t)return t;for(s in t)void 0===t[s]||n[s]||a||u("Unknown property `"+s+"` for component/system `"+i+"`.");for(o=0;o<e.length;o++){if(l=n[s=e[o]],c=t[s],!n[s])return;t[s]=h(c,l)}return t}}(),e.exports.parseProperty=h,e.exports.stringifyProperties=function(e,t){var n,r,i,a,o={};for(n in e)r=t[n],"object"===typeof(a=i=e[n])&&(a=d(i,r),r||u("Unknown component property: "+n)),o[n]=a;return o},e.exports.stringifyProperty=d},"./src/core/shader.js":function(e,t,n){var r=n("./src/core/schema.js").process,i=e.exports.shaders={},a=e.exports.shaderNames=[],o=n("./src/lib/three.js"),s=n("./src/utils/index.js"),u={array:"v3",color:"v3",int:"i",number:"f",map:"t",time:"f",vec2:"v2",vec3:"v3",vec4:"v4"},l=e.exports.Shader=function(){};l.prototype={schema:{},vertexShader:"void main() {gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);}",fragmentShader:"void main() {gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);}",init:function(e){return this.attributes=this.initVariables(e,"attribute"),this.uniforms=this.initVariables(e,"uniform"),this.material=new(this.raw?o.RawShaderMaterial:o.ShaderMaterial)({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),this.material},initVariables:function(e,t){var n,r,i=this.schema,a={};for(n in i)i[n].is===t&&(r=u[i[n].type],a[n]={type:r,value:void 0});return a},update:function(e){this.updateVariables(e,"attribute"),this.updateVariables(e,"uniform")},updateVariables:function(e,t){var n,r,i,a=this.schema;for(n in i="uniform"===t?this.uniforms:this.attributes,e)if(a[n]&&a[n].is===t)if("map"!==a[n].type)i[n].value=this.parseValue(a[n].type,e[n]),i[n].needsUpdate=!0;else{if(!i[n]||i[n].value===e[n])continue;r="_texture_"+n,this.setMapOnTextureLoad(i,n,r),s.material.updateMapMaterialFromData(r,n,this,e)}},parseValue:function(e,t){var n;switch(e){case"vec2":return new o.Vector2(t.x,t.y);case"vec3":return new o.Vector3(t.x,t.y,t.z);case"vec4":return new o.Vector4(t.x,t.y,t.z,t.w);case"color":return n=new o.Color(t),new o.Vector3(n.r,n.g,n.b);case"map":return o.ImageUtils.loadTexture(t);default:return t}},setMapOnTextureLoad:function(e,t,n){var r=this;this.el.addEventListener("materialtextureloaded",(function(){e[t].value=r.material[n],e[t].needsUpdate=!0}))}},e.exports.registerShader=function(e,t){var n,o={};if(Object.keys(t).forEach((function(e){o[e]={value:t[e],writable:!0}})),i[e])throw new Error("The shader "+e+" has been already registered");return((n=function(){l.call(this)}).prototype=Object.create(l.prototype,o)).name=e,n.prototype.constructor=n,i[e]={Shader:n,schema:r(n.prototype.schema)},a.push(e),n}},"./src/core/system.js":function(e,t,n){var r=n("./src/core/component.js"),i=n("./src/core/schema.js"),a=n("./src/utils/index.js"),o=i.parseProperties,s=i.parseProperty,u=i.process,l=i.isSingleProperty,c=a.styleParser,h=e.exports.systems={},d=e.exports.System=function(e){var t=r&&r.components[this.name];this.el=e,this.sceneEl=e,t&&(t.Component.prototype.system=this),this.buildData(),this.init(),this.update({})};d.prototype={schema:{},init:function(){},update:function(e){},updateProperties:function(e){var t=this.data;Object.keys(i).length&&(this.buildData(e),this.update(t))},buildData:function(e){var t=this.schema;Object.keys(t).length&&(e=e||window.HTMLElement.prototype.getAttribute.call(this.sceneEl,this.name),l(t)?this.data=s(e,t):this.data=o(c.parse(e)||{},t))},tick:void 0,tock:void 0,play:function(){},pause:function(){}},e.exports.registerSystem=function(e,t){var n,r,i={},o=a.findAllScenes(document);if(Object.keys(t).forEach((function(e){i[e]={value:t[e],writable:!0}})),h[e])throw new Error("The system `"+e+"` has been already registered. Check that you are not loading two versions of the same system or two different systems of the same name.");for(((r=function(e){d.call(this,e)}).prototype=Object.create(d.prototype,i)).name=e,r.prototype.constructor=r,r.prototype.schema=a.extend(u(r.prototype.schema)),h[e]=r,n=0;n<o.length;n++)o[n].initSystem(e)}},"./src/extras/components/index.js":function(e,t,n){n("./src/extras/components/pivot.js")},"./src/extras/components/pivot.js":function(e,t,n){var r=n("./src/core/component.js").registerComponent,i=n("./src/lib/three.js"),a=new i.Vector3,o=new i.Vector3;r("pivot",{dependencies:["position"],schema:{type:"vec3"},init:function(){var e=this.data,t=this.el,n=t.object3D.parent,r=t.object3D,s=new i.Group;a.copy(r.position),o.copy(r.rotation),n.remove(r),s.add(r),n.add(s),t.object3D=s,r.position.set(-1*e.x,-1*e.y,-1*e.z),s.position.set(e.x+a.x,e.y+a.y,e.z+a.z),s.rotation.copy(r.rotation),r.rotation.set(0,0,0)}})},"./src/extras/primitives/getMeshMixin.js":function(e,t,n){var r=n("./src/core/component.js").components,i=n("./src/core/shader.js").shaders,a=n("./src/utils/index.js"),o={};function s(e){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();"fog"===e&&(t="material-fog"),"visible"===e&&(t="material-visible"),o[t]="material."+e}Object.keys(r.material.schema).forEach(s),Object.keys(i.standard.schema).forEach(s),e.exports=function(){return{defaultComponents:{material:{}},mappings:a.extend({},o)}}},"./src/extras/primitives/index.js":function(e,t,n){n("./src/extras/primitives/primitives/a-camera.js"),n("./src/extras/primitives/primitives/a-cursor.js"),n("./src/extras/primitives/primitives/a-curvedimage.js"),n("./src/extras/primitives/primitives/a-gltf-model.js"),n("./src/extras/primitives/primitives/a-image.js"),n("./src/extras/primitives/primitives/a-light.js"),n("./src/extras/primitives/primitives/a-link.js"),n("./src/extras/primitives/primitives/a-obj-model.js"),n("./src/extras/primitives/primitives/a-sky.js"),n("./src/extras/primitives/primitives/a-sound.js"),n("./src/extras/primitives/primitives/a-text.js"),n("./src/extras/primitives/primitives/a-video.js"),n("./src/extras/primitives/primitives/a-videosphere.js"),n("./src/extras/primitives/primitives/meshPrimitives.js")},"./src/extras/primitives/primitives.js":function(e,t,n){var r=n("./src/core/a-node.js").knownTags,i=n("./src/core/a-entity.js").AEntity,a=n("./src/core/component.js").components,o=n("./src/utils/index.js"),s=o.debug,u=o.entity.setComponentProperty,l=s("extras:primitives:debug"),c=s("extras:primitives:warn"),g=s("extras:primitives:error"),m=e.exports.primitives={};e.exports.registerPrimitive=function(e,t){if(e=e.toLowerCase(),!r[e]){r[e]=!0,l("Registering <%s>",e),t.defaultAttributes&&c("The 'defaultAttributes' object is deprecated. Use 'defaultComponents' instead.");var n=t.mappings||{},s=function(e){"use strict";v(i,e);var r=y(i);function i(){var e;return p(this,i),(e=r.call(this)).defaultComponentsFromPrimitive=t.defaultComponents||t.defaultAttributes||{},e.deprecated=t.deprecated||null,e.deprecatedMappings=t.deprecatedMappings||{},e.mappings=n,t.deprecated&&console.warn(t.deprecated),e.resolveMappingCollisions(),e}return f(i,[{key:"resolveMappingCollisions",value:function(){var e=this.mappings,t=this;Object.keys(e).forEach((function(n){var r;n!==n.toLowerCase()&&c("Mapping keys should be specified in lower case. The mapping key "+n+" may not be recognized"),a[n]&&(r=e[n].replace(".","-"),e[r]=e[n],delete e[n],console.warn("The primitive "+t.tagName.toLowerCase()+" has a mapping collision. The attribute "+n+" has the same name as a registered component and has been renamed to "+r))}))}},{key:"getExtraComponents",value:function(){var e,t,n,r,i,a,s=this;for(t=o.clone(this.defaultComponentsFromPrimitive),(i=this.getAttribute("mixin"))&&(i=i.trim().split(" ")).forEach((function(e){var n=s.sceneEl.querySelector("#"+e).componentCache;Object.keys(n).forEach((function(e){var r,i;t[e]=(r=t[e],i=n[e],u(r)?l(i):u(i)?l(r):c(r)&&c(i)?o.extendDeep(r,i):l(i))}))})),n=0;n<this.attributes.length;n++)e=this.attributes[n],(r=this.mappings[e.name])&&((a=o.entity.getComponentPropertyPath(r)).constructor===Array?(t[a[0]]=t[a[0]]||{},t[a[0]][a[1]]=e.value.trim()):t[a]=e.value.trim());return t;function u(e){return"undefined"===typeof e}function l(e){return c(e)?o.extendDeep({},e):e}function c(e){return null!==e&&e.constructor===Object}}},{key:"attributeChangedCallback",value:function(e,t,n){var r=this.mappings[e];e in this.deprecatedMappings&&console.warn(this.deprecatedMappings[e]),e&&r?u(this,r,n):h(d(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}}]),i}(i);return customElements.define(e,s),s.mappings=n,m[e]=s,s}g("Trying to register primitive "+e+" that has been already previously registered")},e.exports.definePrimitive=function(t,n,r){r=r||{},Object.keys(n).map((function(e){!function(e,t){var n=a[e].schema;Object.keys(n).map((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();void 0!==t[r]&&(r=e+"-"+n),t[r]=e+"."+n}))}(e,r)})),e.exports.registerPrimitive(t,o.extendDeep({},null,{defaultComponents:n,mappings:r}))}},"./src/extras/primitives/primitives/a-camera.js":function(e,t,n){(0,n("./src/extras/primitives/primitives.js").registerPrimitive)("a-camera",{defaultComponents:{camera:{},"look-controls":{},"wasd-controls":{},position:{x:0,y:1.6,z:0}},mappings:{active:"camera.active",far:"camera.far",fov:"camera.fov","look-controls-enabled":"look-controls.enabled",near:"camera.near","pointer-lock-enabled":"look-controls.pointerLockEnabled","wasd-controls-enabled":"wasd-controls.enabled","reverse-mouse-drag":"look-controls.reverseMouseDrag",zoom:"camera.zoom"}})},"./src/extras/primitives/primitives/a-cursor.js":function(e,t,n){var r=n("./src/extras/primitives/getMeshMixin.js");(0,n("./src/extras/primitives/primitives.js").registerPrimitive)("a-cursor",n("./src/utils/index.js").extendDeep({},r(),{defaultComponents:{cursor:{},geometry:{primitive:"ring",radiusOuter:.016,radiusInner:.01,segmentsTheta:32},material:{color:"#000",shader:"flat",opacity:.8},position:{x:0,y:0,z:-1}},mappings:{far:"raycaster.far",fuse:"cursor.fuse","fuse-timeout":"cursor.fuseTimeout",interval:"raycaster.interval",objects:"raycaster.objects"}}))},"./src/extras/primitives/primitives/a-curvedimage.js":function(e,t,n){var r=n("./src/extras/primitives/getMeshMixin.js");(0,n("./src/extras/primitives/primitives.js").registerPrimitive)("a-curvedimage",n("./src/utils/index.js").extendDeep({},r(),{defaultComponents:{geometry:{height:1,primitive:"cylinder",radius:2,segmentsRadial:48,thetaLength:270,openEnded:!0,thetaStart:0},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0,repeat:"-1 1"}},mappings:{height:"geometry.height","open-ended":"geometry.openEnded",radius:"geometry.radius",segments:"geometry.segmentsRadial",start:"geometry.thetaStart","theta-length":"geometry.thetaLength","theta-start":"geometry.thetaStart",width:"geometry.thetaLength"}}))},"./src/extras/primitives/primitives/a-gltf-model.js":function(e,t,n){(0,n("./src/extras/primitives/primitives.js").registerPrimitive)("a-gltf-model",{mappings:{src:"gltf-model"}})},"./src/extras/primitives/primitives/a-image.js":function(e,t,n){var r=n("./src/extras/primitives/getMeshMixin.js");(0,n("./src/extras/primitives/primitives.js").registerPrimitive)("a-image",n("./src/utils/index.js").extendDeep({},r(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},"./src/extras/primitives/primitives/a-light.js":function(e,t,n){(0,n("./src/extras/primitives/primitives.js").registerPrimitive)("a-light",{defaultComponents:{light:{}},mappings:{angle:"light.angle",color:"light.color","ground-color":"light.groundColor",decay:"light.decay",distance:"light.distance",intensity:"light.intensity",penumbra:"light.penumbra",type:"light.type",target:"light.target",envmap:"light.envMap","shadow-camera-automatic":"light.shadowCameraAutomatic"}})},"./src/extras/primitives/primitives/a-link.js":function(e,t,n){(0,n("./src/extras/primitives/primitives.js").registerPrimitive)("a-link",{defaultComponents:{link:{visualAspectEnabled:!0}},mappings:{href:"link.href",image:"link.image",title:"link.title"}})},"./src/extras/primitives/primitives/a-obj-model.js":function(e,t,n){var r=n("./src/extras/primitives/getMeshMixin.js")();(0,n("./src/extras/primitives/primitives.js").registerPrimitive)("a-obj-model",n("./src/utils/index.js").extendDeep({},r,{defaultComponents:{"obj-model":{}},mappings:{src:"obj-model.obj",mtl:"obj-model.mtl"}}))},"./src/extras/primitives/primitives/a-sky.js":function(e,t,n){var r=n("./src/extras/primitives/getMeshMixin.js"),i=n("./src/extras/primitives/primitives.js").registerPrimitive,a=n("./src/utils/index.js"),o=n("./src/extras/primitives/primitives/meshPrimitives.js");i("a-sky",a.extendDeep({},r(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",side:"back",shader:"flat",npot:!0},scale:"-1 1 1"},mappings:a.extendDeep({},o["a-sphere"].mappings)}))},"./src/extras/primitives/primitives/a-sound.js":function(e,t,n){(0,n("./src/extras/primitives/primitives.js").registerPrimitive)("a-sound",{defaultComponents:{sound:{}},mappings:{src:"sound.src",on:"sound.on",autoplay:"sound.autoplay",loop:"sound.loop",volume:"sound.volume"}})},"./src/extras/primitives/primitives/a-text.js":function(e,t,n){(0,n("./src/extras/primitives/primitives.js").definePrimitive)("a-text",{text:{anchor:"align",width:5}})},"./src/extras/primitives/primitives/a-video.js":function(e,t,n){var r=n("./src/extras/primitives/getMeshMixin.js");(0,n("./src/extras/primitives/primitives.js").registerPrimitive)("a-video",n("./src/utils/index.js").extendDeep({},r(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},"./src/extras/primitives/primitives/a-videosphere.js":function(e,t,n){var r=n("./src/extras/primitives/getMeshMixin.js");(0,n("./src/extras/primitives/primitives.js").registerPrimitive)("a-videosphere",n("./src/utils/index.js").extendDeep({},r(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",shader:"flat",side:"back",npot:!0},scale:"-1 1 1"},mappings:{radius:"geometry.radius","segments-height":"geometry.segmentsHeight","segments-width":"geometry.segmentsWidth"}}))},"./src/extras/primitives/primitives/meshPrimitives.js":function(e,t,n){var r=n("./src/extras/primitives/getMeshMixin.js"),i=n("./src/core/geometry.js").geometries,a=n("./src/core/geometry.js").geometryNames,o=n("./src/extras/primitives/primitives.js").registerPrimitive,s=n("./src/utils/index.js"),u=e.exports={};function l(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}a.forEach((function(e){var t=i[e],n=l(e),a={};Object.keys(t.schema).forEach((function(e){a[l(e)]="geometry."+e}));var c="a-"+n,h=o(c,s.extendDeep({},r(),{defaultComponents:{geometry:{primitive:e}},mappings:a}));u[c]=h}))},"./src/geometries/box.js":function(e,t,n){var r=n("./src/core/geometry.js").registerGeometry,i=n("./src/lib/three.js");r("box",{schema:{depth:{default:1,min:0},height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"},segmentsDepth:{default:1,min:1,max:20,type:"int"}},init:function(e){this.geometry=new i.BoxGeometry(e.width,e.height,e.depth,e.segmentsWidth,e.segmentsHeight,e.segmentsDepth)}})},"./src/geometries/circle.js":function(e,t,n){var r=n("./src/core/geometry.js").registerGeometry,i=n("./src/lib/three.js"),a=i.MathUtils.degToRad;r("circle",{schema:{radius:{default:1,min:0},segments:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new i.CircleGeometry(e.radius,e.segments,a(e.thetaStart),a(e.thetaLength))}})},"./src/geometries/cone.js":function(e,t,n){var r=n("./src/core/geometry.js").registerGeometry,i=n("./src/lib/three.js"),a=i.MathUtils.degToRad;r("cone",{schema:{height:{default:1,min:0},openEnded:{default:!1},radiusBottom:{default:1,min:0},radiusTop:{default:.01,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new i.CylinderGeometry(e.radiusTop,e.radiusBottom,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,a(e.thetaStart),a(e.thetaLength))}})},"./src/geometries/cylinder.js":function(e,t,n){var r=n("./src/core/geometry.js").registerGeometry,i=n("./src/lib/three.js"),a=i.MathUtils.degToRad;r("cylinder",{schema:{height:{default:1,min:0},openEnded:{default:!1},radius:{default:1,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new i.CylinderGeometry(e.radius,e.radius,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,a(e.thetaStart),a(e.thetaLength))}})},"./src/geometries/dodecahedron.js":function(e,t,n){var r=n("./src/core/geometry.js").registerGeometry,i=n("./src/lib/three.js");r("dodecahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new i.DodecahedronGeometry(e.radius,e.detail)}})},"./src/geometries/icosahedron.js":function(e,t,n){var r=n("./src/core/geometry.js").registerGeometry,i=n("./src/lib/three.js");r("icosahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new i.IcosahedronGeometry(e.radius,e.detail)}})},"./src/geometries/index.js":function(e,t,n){n("./src/geometries/box.js"),n("./src/geometries/circle.js"),n("./src/geometries/cone.js"),n("./src/geometries/cylinder.js"),n("./src/geometries/dodecahedron.js"),n("./src/geometries/icosahedron.js"),n("./src/geometries/octahedron.js"),n("./src/geometries/plane.js"),n("./src/geometries/ring.js"),n("./src/geometries/sphere.js"),n("./src/geometries/tetrahedron.js"),n("./src/geometries/torus.js"),n("./src/geometries/torusKnot.js"),n("./src/geometries/triangle.js")},"./src/geometries/octahedron.js":function(e,t,n){var r=n("./src/core/geometry.js").registerGeometry,i=n("./src/lib/three.js");r("octahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new i.OctahedronGeometry(e.radius,e.detail)}})},"./src/geometries/plane.js":function(e,t,n){var r=n("./src/core/geometry.js").registerGeometry,i=n("./src/lib/three.js");r("plane",{schema:{height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"}},init:function(e){this.geometry=new i.PlaneGeometry(e.width,e.height,e.segmentsWidth,e.segmentsHeight)}})},"./src/geometries/ring.js":function(e,t,n){var r=n("./src/core/geometry.js").registerGeometry,i=n("./src/lib/three.js"),a=i.MathUtils.degToRad;r("ring",{schema:{radiusInner:{default:.8,min:0},radiusOuter:{default:1.2,min:0},segmentsPhi:{default:10,min:1,type:"int"},segmentsTheta:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new i.RingGeometry(e.radiusInner,e.radiusOuter,e.segmentsTheta,e.segmentsPhi,a(e.thetaStart),a(e.thetaLength))}})},"./src/geometries/sphere.js":function(e,t,n){var r=n("./src/core/geometry.js").registerGeometry,i=n("./src/lib/three.js"),a=i.MathUtils.degToRad;r("sphere",{schema:{radius:{default:1,min:0},phiLength:{default:360},phiStart:{default:0,min:0},thetaLength:{default:180,min:0},thetaStart:{default:0},segmentsHeight:{default:18,min:2,type:"int"},segmentsWidth:{default:36,min:3,type:"int"}},init:function(e){this.geometry=new i.SphereGeometry(e.radius,e.segmentsWidth,e.segmentsHeight,a(e.phiStart),a(e.phiLength),a(e.thetaStart),a(e.thetaLength))}})},"./src/geometries/tetrahedron.js":function(e,t,n){var r=n("./src/core/geometry.js").registerGeometry,i=n("./src/lib/three.js");r("tetrahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new i.TetrahedronGeometry(e.radius,e.detail)}})},"./src/geometries/torus.js":function(e,t,n){var r=n("./src/core/geometry.js").registerGeometry,i=n("./src/lib/three.js"),a=i.MathUtils.degToRad;r("torus",{schema:{arc:{default:360},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:36,min:2,type:"int"},segmentsTubular:{default:32,min:3,type:"int"}},init:function(e){this.geometry=new i.TorusGeometry(e.radius,2*e.radiusTubular,e.segmentsRadial,e.segmentsTubular,a(e.arc))}})},"./src/geometries/torusKnot.js":function(e,t,n){var r=n("./src/core/geometry.js").registerGeometry,i=n("./src/lib/three.js");r("torusKnot",{schema:{p:{default:2,min:1},q:{default:3,min:1},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:8,min:3,type:"int"},segmentsTubular:{default:100,min:3,type:"int"}},init:function(e){this.geometry=new i.TorusKnotGeometry(e.radius,2*e.radiusTubular,e.segmentsTubular,e.segmentsRadial,e.p,e.q)}})},"./src/geometries/triangle.js":function(e,t,n){var r=n("./src/core/geometry.js").registerGeometry,i=n("./src/lib/three.js"),a=new i.Quaternion,o=new i.Vector3(0,0,1),s=new i.Vector2,u=new i.Vector2,l=new i.Vector2;r("triangle",{schema:{vertexA:{type:"vec3",default:{x:0,y:.5,z:0}},vertexB:{type:"vec3",default:{x:-.5,y:-.5,z:0}},vertexC:{type:"vec3",default:{x:.5,y:-.5,z:0}}},init:function(e){var t,n,r,c,h,d,g,p,f;(r=new i.Triangle).a.set(e.vertexA.x,e.vertexA.y,e.vertexA.z),r.b.set(e.vertexB.x,e.vertexB.y,e.vertexB.z),r.c.set(e.vertexC.x,e.vertexC.y,e.vertexC.z),n=r.getNormal(new i.Vector3),a.setFromUnitVectors(n,o),c=r.a.clone().applyQuaternion(a),h=r.b.clone().applyQuaternion(a),d=r.c.clone().applyQuaternion(a),s.set(Math.min(c.x,h.x,d.x),Math.min(c.y,h.y,d.y)),u.set(Math.max(c.x,h.x,d.x),Math.max(c.y,h.y,d.y)),l.set(0,0).subVectors(u,s),c=(new i.Vector2).subVectors(c,s).divide(l),h=(new i.Vector2).subVectors(h,s).divide(l),d=(new i.Vector2).subVectors(d,s).divide(l),t=this.geometry=new i.BufferGeometry,g=[r.a.x,r.a.y,r.a.z,r.b.x,r.b.y,r.b.z,r.c.x,r.c.y,r.c.z],p=[n.x,n.y,n.z,n.x,n.y,n.z,n.x,n.y,n.z],f=[c.x,c.y,h.x,h.y,d.x,d.y],t.setAttribute("position",new i.Float32BufferAttribute(g,3)),t.setAttribute("normal",new i.Float32BufferAttribute(p,3)),t.setAttribute("uv",new i.Float32BufferAttribute(f,2))}})},"./src/index.js":function(e,t,n){if(window.Promise=window.Promise||n("./node_modules/promise-polyfill/Promise.js"),n("./node_modules/@ungap/custom-elements/index.js"),window.hasNativeWebVRImplementation=!!window.navigator.getVRDisplays||!!window.navigator.getVRDevices,window.hasNativeWebXRImplementation=void 0!==navigator.xr,!window.hasNativeWebXRImplementation&&!window.hasNativeWebVRImplementation){var r=n("./src/utils/isIOSOlderThan10.js")(window.navigator.userAgent)?1/window.devicePixelRatio:1,i=n("./node_modules/webvr-polyfill/build/webvr-polyfill.js"),a={BUFFER_SCALE:r,CARDBOARD_UI_DISABLED:!0,ROTATE_INSTRUCTIONS_DISABLED:!0,MOBILE_WAKE_LOCK:!!window.cordova};window.webvrpolyfill=new i(a)}var o=n("./src/utils/index.js"),s=o.debug;o.isIE11&&(n("./node_modules/custom-event-polyfill/polyfill.js"),n("./vendor/starts-with-polyfill.js"));var u=s("A-Frame:error"),l=s("A-Frame:warn");window.document.currentScript&&window.document.currentScript.parentNode!==window.document.head&&!window.debug&&l("Put the A-Frame <script> tag in the <head> of the HTML *before* the scene to ensure everything for A-Frame is properly registered before they are used from HTML."),window.cordova||"file:"!==window.location.protocol||u("This HTML file is currently being served via the file:// protocol. Assets, textures, and models WILL NOT WORK due to cross-origin policy! Please use a local or hosted server: https://aframe.io/docs/0.5.0/introduction/getting-started.html#using-a-local-server."),n("./node_modules/present/lib/present-browser.js"),o.device.isBrowserEnvironment&&(n("./src/style/aframe.css"),n("./src/style/rStats.css"));var c=n("./src/core/scene/a-scene.js").AScene,h=n("./src/core/component.js").components,d=n("./src/core/component.js").registerComponent,g=n("./src/core/geometry.js").registerGeometry,p=n("./src/extras/primitives/primitives.js").registerPrimitive,f=n("./src/core/shader.js").registerShader,m=n("./src/core/system.js").registerSystem,v=n("./src/core/shader.js").shaders,y=n("./src/core/system.js").systems,A=window.THREE=n("./src/lib/three.js"),b=n("./package.json");n("./src/components/index.js"),n("./src/geometries/index.js"),n("./src/shaders/index.js"),n("./src/systems/index.js");var x=n("./src/core/a-node.js").ANode,w=n("./src/core/a-entity.js").AEntity;n("./src/core/a-assets.js"),n("./src/core/a-cubemap.js"),n("./src/core/a-mixin.js"),n("./src/extras/components/index.js"),n("./src/extras/primitives/index.js"),console.log("A-Frame Version: 1.4.2 (Date 2023-04-22, Commit #4e521f1f)"),console.log("THREE Version (https://github.com/supermedium/three.js):",b.dependencies["super-three"]),console.log("WebVR Polyfill Version:",b.dependencies["webvr-polyfill"]),e.exports=window.AFRAME={AComponent:n("./src/core/component.js").Component,AEntity:w,ANode:x,ANIME:n("./node_modules/super-animejs/lib/anime.es.js").default,AScene:c,components:h,coreComponents:Object.keys(h),geometries:n("./src/core/geometry.js").geometries,registerComponent:d,registerGeometry:g,registerPrimitive:p,registerShader:f,registerSystem:m,primitives:{getMeshMixin:n("./src/extras/primitives/getMeshMixin.js"),primitives:n("./src/extras/primitives/primitives.js").primitives},scenes:n("./src/core/scene/scenes.js"),schema:n("./src/core/schema.js"),shaders:v,systems:y,THREE:A,utils:o,version:b.version}},"./src/lib/rStatsAframe.js":function(e){window.aframeStats=function(e){var t=null,n=e;return{update:function(){t("te").set(function(){var e=n.querySelectorAll("*");return Array.prototype.slice.call(e).filter((function(e){return e.isEntity})),e.length}()),window.performance.getEntriesByName&&t("lt").set(window.performance.getEntriesByName("render-started")[0].startTime.toFixed(0))},start:function(){},end:function(){},attach:function(e){t=e},values:{te:{caption:"Entities"},lt:{caption:"Load Time"}},groups:[{caption:"A-Frame",values:["te","lt"]}],fractions:[]}},e.exports={aframeStats:window.aframeStats}},"./src/lib/three.js":function(e,t,n){var r=n("./src/lib/three.module.js").default;r.TextureLoader&&(r.TextureLoader.prototype.crossOrigin="anonymous"),r.ImageLoader&&(r.ImageLoader.prototype.crossOrigin="anonymous"),r.Cache&&(r.Cache.enabled=!0),r.DRACOLoader.prototype.crossOrigin="anonymous",r.GLTFLoader.prototype.crossOrigin="anonymous",r.KTX2Loader.prototype.crossOrigin="anonymous",r.MTLLoader.prototype.crossOrigin="anonymous",r.OBJLoader.prototype.crossOrigin="anonymous",e.exports=r},"./src/lib/three.module.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n("./node_modules/super-three/build/three.module.js"),i=n("./node_modules/super-three/examples/jsm/loaders/DRACOLoader.js"),a=n("./node_modules/super-three/examples/jsm/loaders/GLTFLoader.js"),o=n("./node_modules/super-three/examples/jsm/loaders/KTX2Loader.js"),s=n("./node_modules/super-three/examples/jsm/loaders/OBJLoader.js"),u=n("./node_modules/super-three/examples/jsm/loaders/MTLLoader.js"),l=n("./node_modules/super-three/examples/jsm/utils/BufferGeometryUtils.js"),c=n("./node_modules/super-three/examples/jsm/lights/LightProbeGenerator.js"),h=n("./node_modules/object-assign/index.js"),d=window.THREE=h({},r);n("./vendor/DeviceOrientationControls.js"),d.DRACOLoader=i.DRACOLoader,d.GLTFLoader=a.GLTFLoader,d.KTX2Loader=o.KTX2Loader,d.OBJLoader=s.OBJLoader,d.MTLLoader=u.MTLLoader,d.BufferGeometryUtils=l,d.LightProbeGenerator=c.LightProbeGenerator;var g=d},"./src/shaders/flat.js":function(e,t,n){var r=n("./src/core/shader.js").registerShader,i=n("./src/lib/three.js"),a=n("./src/utils/index.js");function o(e,t){return t.color.set(e.color),t.fog=e.fog,t.wireframe=e.wireframe,t.toneMapped=e.toneMapped,t.wireframeLinewidth=e.wireframeLinewidth,t}e.exports.Shader=r("flat",{schema:{color:{type:"color"},fog:{default:!0},height:{default:256},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2},toneMapped:{default:!0}},init:function(e){this.rendererSystem=this.el.sceneEl.systems.renderer,this.materialData={color:new i.Color},this.textureSrc=null,o(e,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.material=new i.MeshBasicMaterial(this.materialData)},update:function(e){this.updateMaterial(e),a.material.updateMap(this,e)},updateMaterial:function(e){var t;for(t in o(e,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.materialData)this.material[t]=this.materialData[t]}})},"./src/shaders/index.js":function(e,t,n){n("./src/shaders/flat.js"),n("./src/shaders/standard.js"),n("./src/shaders/phong.js"),n("./src/shaders/sdf.js"),n("./src/shaders/msdf.js"),n("./src/shaders/ios10hls.js"),n("./src/shaders/shadow.js")},"./src/shaders/ios10hls.js":function(e,t,n){var r=n("./src/core/shader.js").registerShader;e.exports.Shader=r("ios10hls",{schema:{src:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},vertexShader:["varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["uniform sampler2D src;","uniform float opacity;","varying vec2 vUV;","void main() {","  vec2 offset = vec2(0, 0);","  vec2 repeat = vec2(1, 1);","  vec4 color = texture2D(src, vec2(vUV.x / repeat.x + offset.x, (1.0 - vUV.y) / repeat.y + offset.y)).bgra;","  gl_FragColor = vec4(color.rgb, opacity);","}"].join("\n")})},"./src/shaders/msdf.js":function(e,t,n){var r=n("./src/core/shader.js").registerShader,i=!!document.createElement("canvas").getContext("webgl2"),a=["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),o=["#version 300 es","in vec2 uv;","in vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","out vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),s=i?o:a,u=["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","uniform bool negate;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","varying vec2 vUV;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec3 sampleColor = texture2D(map, vUV).rgb;","  if (negate) { sampleColor = 1.0 - sampleColor; }","  float sigDist = median(sampleColor.r, sampleColor.g, sampleColor.b) - 0.5;","  float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  // Do modified alpha test.","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);","  }","  // Do modified alpha test.","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  gl_FragColor = vec4(color.xyz, alpha * opacity);","}"].join("\n"),l=["#version 300 es","precision highp float;","uniform bool negate;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","in vec2 vUV;","out vec4 fragColor;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec3 sampleColor = texture(map, vUV).rgb;","  if (negate) { sampleColor = 1.0 - sampleColor; }","  float sigDist = median(sampleColor.r, sampleColor.g, sampleColor.b) - 0.5;","  float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  // Do modified alpha test.","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);","  }","  // Do modified alpha test.","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  fragColor = vec4(color.xyz, alpha * opacity);","}"].join("\n"),c=i?l:u;e.exports.Shader=r("msdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},negate:{type:"boolean",is:"uniform",default:!0},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:s,fragmentShader:c})},"./src/shaders/phong.js":function(e,t,n){var r=n("./src/core/shader.js").registerShader,i=n("./src/lib/three.js"),a=n("./src/utils/index.js"),o=new i.CubeTextureLoader,s={};function u(e,t){switch(t.color.set(e.color),t.specular.set(e.emissive),t.emissive.set(e.emissive),t.emissiveIntensity=e.emissiveIntensity,t.fog=e.fog,t.transparent=e.transparent,t.wireframe=e.wireframe,t.wireframeLinewidth=e.wireframeLinewidth,t.shininess=e.shininess,t.flatShading=e.flatShading,t.wireframe=e.wireframe,t.wireframeLinewidth=e.wireframeLinewidth,t.reflectivity=e.reflectivity,t.refractionRatio=e.refractionRatio,e.combine){case"mix":t.combine=i.MixOperation;break;case"multiply":t.combine=i.MultiplyOperation;break;case"add":t.combine=i.AddOperation}return e.normalMap&&(t.normalScale=e.normalScale),e.ambientOcclusionMap&&(t.aoMapIntensity=e.ambientOcclusionMapIntensity),e.bumpMap&&(t.aoMapIntensity=e.bumpMapScale),e.displacementMap&&(t.displacementScale=e.displacementScale,t.displacementBias=e.displacementBias),t}e.exports.Shader=r("phong",{schema:{color:{type:"color"},emissive:{type:"color",default:"black"},emissiveIntensity:{default:1},specular:{type:"color",default:"#111111"},transparent:{default:!1},fog:{default:!0},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},envMap:{default:""},sphericalEnvMap:{type:"map"},shininess:{default:30},flatShading:{default:!1},wireframe:{default:!1},wireframeLinewidth:{default:2},combine:{oneOF:["multiply","mix","add"],default:"mix"},reflectivity:{default:.9},refractionRatio:{default:.98},refract:{default:!1},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},bumpMap:{type:"map"},bumpMapScale:{default:1},bumpTextureOffset:{type:"vec2"},bumpTextureRepeat:{type:"vec2",default:{x:1,y:1}}},init:function(e){this.rendererSystem=this.el.sceneEl.systems.renderer,this.materialData={color:new i.Color,specular:new i.Color,emissive:new i.Color},this.textureSrc=null,u(e,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.material=new i.MeshPhongMaterial(this.materialData),a.material.updateMap(this,e)},update:function(e){this.updateMaterial(e),a.material.updateMap(this,e),e.normalMap&&a.material.updateDistortionMap("normal",this,e),e.displacementMap&&a.material.updateDistortionMap("displacement",this,e),e.ambientOcclusionMap&&a.material.updateDistortionMap("ambientOcclusion",this,e),e.bump&&a.material.updateDistortionMap("bump",this,e),this.updateEnvMap(e)},updateMaterial:function(e){var t;for(t in u(e,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.materialData)this.material[t]=this.materialData[t]},updateEnvMap:function(e){var t=this,n=this.material,r=e.envMap,u=e.sphericalEnvMap,l=e.refract,c=this.el.sceneEl;if(!r&&!u||this.isLoadingEnvMap)return Object.defineProperty(n,"envMap",{get:function(){return c.object3D.environment},set:function(e){delete this.envMap,this.envMap=e}}),void(n.needsUpdate=!0);this.isLoadingEnvMap=!0,delete n.envMap,u?this.el.sceneEl.systems.material.loadTexture(u,{src:u},(function(e){t.isLoadingEnvMap=!1,e.mapping=l?i.EquirectangularRefractionMapping:i.EquirectangularReflectionMapping,n.envMap=e,a.material.handleTextureEvents(t.el,e),n.needsUpdate=!0})):s[r]?s[r].then((function(e){t.isLoadingEnvMap=!1,n.envMap=e,a.material.handleTextureEvents(t.el,e),n.needsUpdate=!0})):s[r]=new Promise((function(e){a.srcLoader.validateCubemapSrc(r,(function(r){o.load(r,(function(r){t.isLoadingEnvMap=!1,n.envMap=r,r.mapping=l?i.CubeRefractionMapping:i.CubeReflectionMapping,a.material.handleTextureEvents(t.el,r),e(r)}))}))}))}})},"./src/shaders/sdf.js":function(e,t,n){var r=n("./src/core/shader.js").registerShader,i=!!document.createElement("canvas").getContext("webgl2"),a=["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),o=["#version 300 es","in vec2 uv;","in vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","out vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),s=i?o:a,u=["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","varying vec2 vUV;","#ifdef GL_OES_standard_derivatives","  float contour(float width, float value) {","    return smoothstep(0.5 - value, 0.5 + value, width);","  }","#else","  float aastep(float value, float afwidth) {","    return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);","  }","#endif","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","#define ALL_SMOOTH 0.4","#define ALL_ROUGH 0.02","#define DISCARD_ALPHA (alphaTest / (2.2 - 1.2 * ratio))","void main() {","  #ifdef GL_OES_standard_derivatives","    vec2 uv = vUV;","    vec4 texColor = texture2D(map, uv);","    float dist = texColor.a;","    float width = fwidth(dist);","    float alpha = contour(dist, width);","    float dscale = 0.353505;","    vec2 duv = dscale * (dFdx(uv) + dFdy(uv));","    float isBigEnough = max(abs(duv.x), abs(duv.y));","    if (isBigEnough > BIG_ENOUGH) {","      float ratio = BIG_ENOUGH / isBigEnough;","      alpha = ratio * alpha + (1.0 - ratio) * dist;","    }","    if (isBigEnough <= BIG_ENOUGH) {","      vec4 box = vec4 (uv - duv, uv + duv);","      alpha = (alpha + 0.5 * (","        contour(texture2D(map, box.xy).a, width)","        + contour(texture2D(map, box.zw).a, width)","        + contour(texture2D(map, box.xw).a, width)","        + contour(texture2D(map, box.zy).a, width)","      )) / 3.0;","    }","    if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  #else","    vec4 texColor = texture2D(map, vUV);","    float value = texColor.a;","    float afwidth = (1.0 / 32.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));","    float alpha = aastep(value, afwidth);","    float ratio = (gl_FragCoord.w >= ALL_SMOOTH) ? 1.0 : (gl_FragCoord.w < ALL_ROUGH) ? 0.0 : (gl_FragCoord.w - ALL_ROUGH) / (ALL_SMOOTH - ALL_ROUGH);","    if (alpha < alphaTest) { if (ratio >= 1.0) { discard; return; } alpha = 0.0; }","    alpha = alpha * ratio + (1.0 - ratio) * value;","    if (ratio < 1.0 && alpha <= DISCARD_ALPHA) { discard; return; }","  #endif","  gl_FragColor = vec4(color, opacity * alpha);","}"].join("\n"),l=["#version 300 es","precision highp float;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","in vec2 vUV;","out vec4 fragColor;","#ifdef GL_OES_standard_derivatives","  float contour(float width, float value) {","    return smoothstep(0.5 - value, 0.5 + value, width);","  }","#else","  float aastep(float value, float afwidth) {","    return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);","  }","#endif","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","#define ALL_SMOOTH 0.4","#define ALL_ROUGH 0.02","#define DISCARD_ALPHA (alphaTest / (2.2 - 1.2 * ratio))","void main() {","  #ifdef GL_OES_standard_derivatives","    vec2 uv = vUV;","    vec4 texColor = texture(map, uv);","    float dist = texColor.a;","    float width = fwidth(dist);","    float alpha = contour(dist, width);","    float dscale = 0.353505;","    vec2 duv = dscale * (dFdx(uv) + dFdy(uv));","    float isBigEnough = max(abs(duv.x), abs(duv.y));","    if (isBigEnough > BIG_ENOUGH) {","      float ratio = BIG_ENOUGH / isBigEnough;","      alpha = ratio * alpha + (1.0 - ratio) * dist;","    }","    if (isBigEnough <= BIG_ENOUGH) {","      vec4 box = vec4 (uv - duv, uv + duv);","      alpha = (alpha + 0.5 * (","        contour(texture(map, box.xy).a, width)","        + contour(texture(map, box.zw).a, width)","        + contour(texture(map, box.xw).a, width)","        + contour(texture(map, box.zy).a, width)","      )) / 3.0;","    }","    if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  #else","    vec4 texColor = texture(map, vUV);","    float value = texColor.a;","    float afwidth = (1.0 / 32.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));","    float alpha = aastep(value, afwidth);","    float ratio = (gl_FragCoord.w >= ALL_SMOOTH) ? 1.0 : (gl_FragCoord.w < ALL_ROUGH) ? 0.0 : (gl_FragCoord.w - ALL_ROUGH) / (ALL_SMOOTH - ALL_ROUGH);","    if (alpha < alphaTest) { if (ratio >= 1.0) { discard; return; } alpha = 0.0; }","    alpha = alpha * ratio + (1.0 - ratio) * value;","    if (ratio < 1.0 && alpha <= DISCARD_ALPHA) { discard; return; }","  #endif","  fragColor = vec4(color, opacity * alpha);","}"].join("\n"),c=i?l:u;e.exports.Shader=r("sdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:s,fragmentShader:c})},"./src/shaders/shadow.js":function(e,t,n){var r=n("./src/core/shader.js").registerShader,i=n("./src/lib/three.js");e.exports.Shader=r("shadow",{schema:{opacity:{default:.5},transparent:{default:!0},alphaToCoverage:{default:!0}},init:function(e){this.rendererSystem=this.el.sceneEl.systems.renderer,this.material=new i.ShadowMaterial},update:function(e){this.material.opacity=e.opacity,this.material.alphaToCoverage=e.alphaToCoverage,this.material.transparent=e.transparent}})},"./src/shaders/standard.js":function(e,t,n){var r=n("./src/core/shader.js").registerShader,i=n("./src/lib/three.js"),a=n("./src/utils/index.js"),o=new i.CubeTextureLoader,s={};function u(e,t){return t.color.set(e.color),t.emissive.set(e.emissive),t.emissiveIntensity=e.emissiveIntensity,t.fog=e.fog,t.metalness=e.metalness,t.roughness=e.roughness,t.wireframe=e.wireframe,t.wireframeLinewidth=e.wireframeLinewidth,e.normalMap&&(t.normalScale=e.normalScale),e.ambientOcclusionMap&&(t.aoMapIntensity=e.ambientOcclusionMapIntensity),e.displacementMap&&(t.displacementScale=e.displacementScale,t.displacementBias=e.displacementBias),t}e.exports.Shader=r("standard",{schema:{ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},ambientOcclusionTextureOffset:{type:"vec2"},ambientOcclusionTextureRepeat:{type:"vec2",default:{x:1,y:1}},color:{type:"color"},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},emissive:{type:"color",default:"#000"},emissiveIntensity:{default:1},envMap:{default:""},fog:{default:!0},height:{default:256},metalness:{default:0,min:0,max:1},metalnessMap:{type:"map"},metalnessTextureOffset:{type:"vec2"},metalnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},roughness:{default:.5,min:0,max:1},roughnessMap:{type:"map"},roughnessTextureOffset:{type:"vec2"},roughnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},sphericalEnvMap:{type:"map"},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(e){this.rendererSystem=this.el.sceneEl.systems.renderer,this.materialData={color:new i.Color,emissive:new i.Color},u(e,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.rendererSystem.applyColorCorrection(this.materialData.emissive),this.material=new i.MeshStandardMaterial(this.materialData)},update:function(e){this.updateMaterial(e),a.material.updateMap(this,e),e.normalMap&&a.material.updateDistortionMap("normal",this,e),e.displacementMap&&a.material.updateDistortionMap("displacement",this,e),e.ambientOcclusionMap&&a.material.updateDistortionMap("ambientOcclusion",this,e),e.metalnessMap&&a.material.updateDistortionMap("metalness",this,e),e.roughnessMap&&a.material.updateDistortionMap("roughness",this,e),this.updateEnvMap(e)},updateMaterial:function(e){var t,n=this.material;for(t in u(e,this.materialData),this.rendererSystem.applyColorCorrection(this.materialData.color),this.rendererSystem.applyColorCorrection(this.materialData.emissive),this.materialData)n[t]=this.materialData[t]},updateEnvMap:function(e){var t=this,n=this.material,r=e.envMap,u=e.sphericalEnvMap;if(!r&&!u||this.isLoadingEnvMap)return n.envMap=null,void(n.needsUpdate=!0);this.isLoadingEnvMap=!0,u?this.el.sceneEl.systems.material.loadTexture(u,{src:u},(function(e){t.isLoadingEnvMap=!1,e.mapping=i.EquirectangularReflectionMapping,n.envMap=e,a.material.handleTextureEvents(t.el,e),n.needsUpdate=!0})):s[r]?s[r].then((function(e){t.isLoadingEnvMap=!1,n.envMap=e,a.material.handleTextureEvents(t.el,e),n.needsUpdate=!0})):s[r]=new Promise((function(e){a.srcLoader.validateCubemapSrc(r,(function(r){o.load(r,(function(r){t.isLoadingEnvMap=!1,n.envMap=r,a.material.handleTextureEvents(t.el,r),e(r)}))}))}))}})},"./src/systems/camera.js":function(e,t,n){var r=n("./src/constants/index.js"),i=n("./src/core/system.js").registerSystem,a="data-aframe-default-camera";e.exports.System=i("camera",{init:function(){this.activeCameraEl=null,this.render=this.render.bind(this),this.unwrapRender=this.unwrapRender.bind(this),this.wrapRender=this.wrapRender.bind(this),this.initialCameraFound=!1,this.numUserCameras=0,this.numUserCamerasChecked=0,this.setupInitialCamera()},setupInitialCamera:function(){var e,t,n=this.sceneEl,r=this;if(!n.camera||n.camera.el.getAttribute("camera").spectator)if((e=n.querySelectorAll("a-camera, :not(a-mixin)[camera]")).length)for(this.numUserCameras=e.length,t=0;t<e.length;t++)e[t].addEventListener("object3dset",(function(e){"camera"===e.detail.type&&r.checkUserCamera(this)})),e[t].isNode?e[t].load():e[t].addEventListener("nodeready",(function(){this.load()}));else this.createDefaultCamera();else n.emit("cameraready",{cameraEl:n.camera.el})},checkUserCamera:function(e){var t,n=this.el.sceneEl;this.numUserCamerasChecked++,this.initialCameraFound||((t=e.getAttribute("camera")).active&&!t.spectator?(this.initialCameraFound=!0,n.camera=e.getObject3D("camera"),n.emit("cameraready",{cameraEl:e})):this.numUserCamerasChecked===this.numUserCameras&&this.createDefaultCamera())},createDefaultCamera:function(){var e,t=this.sceneEl;(e=document.createElement("a-entity")).setAttribute("camera",{active:!0}),e.setAttribute("position",{x:0,y:r.DEFAULT_CAMERA_HEIGHT,z:0}),e.setAttribute("wasd-controls",""),e.setAttribute("look-controls",""),e.setAttribute(r.AFRAME_INJECTED,""),e.addEventListener("object3dset",(function(n){"camera"===n.detail.type&&(t.camera=n.detail.object,t.emit("cameraready",{cameraEl:e}))})),t.appendChild(e)},disableActiveCamera:function(){var e;(e=this.sceneEl.querySelectorAll(":not(a-mixin)[camera]"))[e.length-1].setAttribute("camera","active",!0)},setActiveCamera:function(e){var t,n,r,i,o=this.activeCameraEl,s=this.sceneEl;if((i=e.getObject3D("camera"))&&e!==this.activeCameraEl){var u=s.querySelector("["+a+"]");for(e!==(u&&u.querySelector(":not(a-mixin)[camera]"))&&function(e){var t,n=e.camera;n&&(t=e.querySelector("["+a+"]"))&&e.removeChild(t)}(s),this.activeCameraEl=e,this.activeCameraEl.play(),s.camera=i,o&&o.setAttribute("camera","active",!1),n=s.querySelectorAll(":not(a-mixin)[camera]"),r=0;r<n.length;r++)(t=n[r]).isEntity&&e!==t&&(t.setAttribute("camera","active",!1),t.pause());s.emit("camera-set-active",{cameraEl:e})}},setSpectatorCamera:function(e){var t,n=this.spectatorCameraEl,r=this.sceneEl;e.getObject3D("camera")&&e!==this.spectatorCameraEl&&(n&&n.setAttribute("camera","spectator",!1),t=this.spectatorCameraEl=e,r.addEventListener("enter-vr",this.wrapRender),r.addEventListener("exit-vr",this.unwrapRender),t.setAttribute("camera","active",!1),t.play(),r.emit("camera-set-spectator",{cameraEl:e}))},disableSpectatorCamera:function(){this.spectatorCameraEl=void 0},wrapRender:function(){this.spectatorCameraEl&&!this.originalRender&&(this.originalRender=this.sceneEl.renderer.render,this.sceneEl.renderer.render=this.render)},unwrapRender:function(){this.originalRender&&(this.sceneEl.renderer.render=this.originalRender,this.originalRender=void 0)},render:function(e,t){var n,r,i=this.sceneEl;n=i.renderer.xr.enabled,this.originalRender.call(i.renderer,e,t),this.spectatorCameraEl&&!i.isMobile&&n&&(r=this.spectatorCameraEl.components.camera.camera,i.renderer.xr.enabled=!1,this.originalRender.call(i.renderer,e,r),i.renderer.xr.enabled=n)}})},"./src/systems/geometry.js":function(e,t,n){var r=n("./src/core/geometry.js").geometries,i=n("./src/core/system.js").registerSystem;function a(e){var t=e.primitive,n=r[t]&&r[t].Geometry,i=new n;if(!n)throw new Error("Unknown geometry `"+t+"`");return i.init(e),i.geometry}e.exports.System=i("geometry",{init:function(){this.cache={},this.cacheCount={}},clearCache:function(){this.cache={},this.cacheCount={}},getOrCreateGeometry:function(e){var t,n,r=this.cache;return e.skipCache?a(e):(t=r[n=this.hash(e)],function(e,t){e[t]=void 0===e[t]?1:e[t]+1}(this.cacheCount,n),t||(t=a(e),r[n]=t,t))},unuseGeometry:function(e){var t,n=this.cache,r=this.cacheCount;e.skipCache||n[t=this.hash(e)]&&(function(e,t){e[t]--}(r,t),r[t]>0||(n[t].dispose(),delete n[t],delete r[t]))},hash:function(e){return JSON.stringify(e)}})},"./src/systems/gltf-model.js":function(e,t,n){var r=n("./src/core/system.js").registerSystem,i=n("./src/lib/three.js");e.exports.System=r("gltf-model",{schema:{dracoDecoderPath:{default:"https://www.gstatic.com/draco/versioned/decoders/1.5.6/"},basisTranscoderPath:{default:""},meshoptDecoderPath:{default:""}},init:function(){this.update()},update:function(){var e,t=this.data.dracoDecoderPath,n=this.data.basisTranscoderPath,r=this.data.meshoptDecoderPath;!this.dracoLoader&&t&&(this.dracoLoader=new i.DRACOLoader,this.dracoLoader.setDecoderPath(t)),!this.ktx2Loader&&n&&(this.ktx2Loader=new i.KTX2Loader,this.ktx2Loader.setTranscoderPath(n).detectSupport(this.el.renderer)),!this.meshoptDecoder&&r&&(this.meshoptDecoder=(e=r,new Promise((function(t,n){var r=document.createElement("script");document.body.appendChild(r),r.onload=t,r.onerror=n,r.async=!0,r.src=e}))).then((function(){return window.MeshoptDecoder.ready})).then((function(){return window.MeshoptDecoder})))},getDRACOLoader:function(){return this.dracoLoader},getKTX2Loader:function(){return this.ktx2Loader},getMeshoptDecoder:function(){return this.meshoptDecoder}})},"./src/systems/index.js":function(e,t,n){n("./src/systems/camera.js"),n("./src/systems/geometry.js"),n("./src/systems/gltf-model.js"),n("./src/systems/light.js"),n("./src/systems/material.js"),n("./src/systems/renderer.js"),n("./src/systems/shadow.js"),n("./src/systems/tracked-controls-webvr.js"),n("./src/systems/tracked-controls-webxr.js"),n("./src/systems/webxr.js")},"./src/systems/light.js":function(e,t,n){var r=n("./src/core/system.js").registerSystem,i=n("./src/utils/bind.js"),a=n("./src/constants/index.js"),o="data-aframe-default-light";e.exports.System=r("light",{schema:{defaultLightsEnabled:{default:!0}},init:function(){this.defaultLights=!1,this.userDefinedLights=!1,this.sceneEl.addEventListener("loaded",i(this.setupDefaultLights,this))},registerLight:function(e){e.hasAttribute(o)||(this.removeDefaultLights(),this.userDefinedLights=!0)},removeDefaultLights:function(){var e,t=this.sceneEl;if(this.defaultLights){e=document.querySelectorAll("["+o+"]");for(var n=0;n<e.length;n++)t.removeChild(e[n]);this.defaultLights=!1}},setupDefaultLights:function(){var e,t,n=this.sceneEl;this.userDefinedLights||this.defaultLights||!this.data.defaultLightsEnabled||((e=document.createElement("a-entity")).setAttribute("light",{color:"#BBB",type:"ambient"}),e.setAttribute(o,""),e.setAttribute(a.AFRAME_INJECTED,""),n.appendChild(e),(t=document.createElement("a-entity")).setAttribute("light",{color:"#FFF",intensity:.6,castShadow:!0}),t.setAttribute("position",{x:-.5,y:1,z:1}),t.setAttribute(o,""),t.setAttribute(a.AFRAME_INJECTED,""),n.appendChild(t),this.defaultLights=!0)}})},"./src/systems/material.js":function(e,t,n){var r=n("./src/core/system.js").registerSystem,i=n("./src/lib/three.js"),a=n("./src/utils/index.js"),o=n("./src/utils/material.js").isHLS,s=n("./src/utils/material.js").setTextureProperties,u=a.bind,l=a.debug,c=l("components:texture:error"),h=new i.TextureLoader,d=l("components:texture:warn");h.setCrossOrigin("anonymous"),e.exports.System=r("material",{init:function(){this.materials={},this.textureCounts={},this.textureCache={},this.sceneEl.addEventListener("materialtextureloaded",u(this.onMaterialTextureLoaded,this))},clearTextureCache:function(){this.textureCache={}},loadTexture:function(e,t,n){var r=this;if("CANVAS"!==e.tagName){if("VIDEO"===e.tagName)return e.src||e.srcObject||e.childElementCount||d("Video element was defined with neither `source` elements nor `src` / `srcObject` attributes."),void this.loadVideo(e,t,n);a.srcLoader.validateSrc(e,(function(e){r.loadImage(e,t,n)}),(function(e){r.loadVideo(e,t,n)}))}else this.loadCanvas(e,t,n)},loadImage:function(e,t,n){var r=this.hash(t),a=this.textureCache;a[r]||(a[r]=function(e,t){return new Promise(n);function n(n,r){function a(e){s(e,t),e.needsUpdate=!0,n(e)}"string"!==typeof e?a(new i.Texture(e)):h.load(e,a,(function(){}),(function(e){c("`$s` could not be fetched (Error code: %s; Response: %s)",e.status,e.statusText)}))}}(e,t)),a[r].then(n)},loadCanvas:function(e,t,n){var r;r=new i.CanvasTexture(e),s(r,t),n(r)},loadVideo:function(e,t,n){var r,a,u,l,c=this.textureCache;function h(e){e.texture.needsUpdate=!0,n(e.texture,e.videoEl)}if("string"!==typeof e){if(u=e,c[r=this.hashVideo(t,u)])return void c[r].then(h);!function(e){e.autoplay=e.hasAttribute("autoplay")&&"false"!==e.getAttribute("autoplay"),e.controls=e.hasAttribute("controls")&&"false"!==e.getAttribute("controls"),"false"===e.getAttribute("loop")&&e.removeAttribute("loop"),"false"===e.getAttribute("preload")&&(e.preload="none"),e.crossOrigin=e.crossOrigin||"anonymous",e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline","")}(u)}u=u||function(e,t,n){var r=document.createElement("video");return r.width=t,r.height=n,r.setAttribute("playsinline",""),r.setAttribute("webkit-playsinline",""),r.autoplay=!0,r.loop=!0,r.crossOrigin="anonymous",r.addEventListener("error",(function(){d("`$s` is not a valid video",e)}),!0),r.src=e,r}(e,t.width,t.height),c[r=this.hashVideo(t,u)]?c[r].then(h):((a=new i.VideoTexture(u)).minFilter=i.LinearFilter,s(a,t),this.sceneEl.isIOS&&o(u.src||u.getAttribute("src"),u.type||u.getAttribute("type"))&&(a.format=i.RGBAFormat,a.needsCorrectionBGRA=!0,a.flipY=!1,a.needsCorrectionFlipY=!0),l={texture:a,videoEl:u},c[r]=Promise.resolve(l),h(l))},hash:function(e){return e.src.tagName&&((e=a.extendDeep({},e)).src=e.src.src),JSON.stringify(e)},hashVideo:function(e,t){return function(e,t){var n,r,i,a=t.getAttribute("id");if(a)return a;for(r="",i=e||{},n=0;n<t.attributes.length;n++)i[t.attributes[n].name]=t.attributes[n].value;return Object.keys(i).sort().forEach((function(e){r+=e+":"+i[e]+";"})),r}(e,t)},registerMaterial:function(e){this.materials[e.uuid]=e},unregisterMaterial:function(e){delete this.materials[e.uuid];var t=this.textureCounts;Object.keys(e).filter((function(t){return e[t]&&e[t].isTexture})).forEach((function(n){t[e[n].uuid]--,t[e[n].uuid]<=0&&e[n].dispose()}))},updateMaterials:function(e){var t=this.materials;Object.keys(t).forEach((function(e){t[e].needsUpdate=!0}))},onMaterialTextureLoaded:function(e){this.textureCounts[e.detail.texture.uuid]||(this.textureCounts[e.detail.texture.uuid]=0),this.textureCounts[e.detail.texture.uuid]++}})},"./src/systems/renderer.js":function(e,t,n){var r=n("./src/core/system.js").registerSystem,i=n("./src/utils/index.js"),a=n("./src/lib/three.js"),o=(0,i.debug)("components:renderer:warn");e.exports.System=r("renderer",{schema:{antialias:{default:"auto",oneOf:["true","false","auto"]},highRefreshRate:{default:i.device.isOculusBrowser()},logarithmicDepthBuffer:{default:"auto",oneOf:["true","false","auto"]},maxCanvasWidth:{default:1920},maxCanvasHeight:{default:1920},physicallyCorrectLights:{default:!1},exposure:{default:1,if:{toneMapping:["ACESFilmic","linear","reinhard","cineon"]}},toneMapping:{default:"no",oneOf:["no","ACESFilmic","linear","reinhard","cineon"]},precision:{default:"high",oneOf:["high","medium","low"]},sortObjects:{default:!1},colorManagement:{default:!1},gammaOutput:{default:!1},alpha:{default:!0},foveationLevel:{default:1}},init:function(){var e=this.data,t=this.el,n=this.data.toneMapping.charAt(0).toUpperCase()+this.data.toneMapping.slice(1),r=t.renderer;r.sortObjects=e.sortObjects,r.physicallyCorrectLights=e.physicallyCorrectLights,r.toneMapping=a[n+"ToneMapping"],(e.colorManagement||e.gammaOutput)&&(r.outputEncoding=a.sRGBEncoding,e.gammaOutput&&o('Property `gammaOutput` is deprecated. Use `renderer="colorManagement: true;"` instead.')),t.hasAttribute("antialias")&&o('Component `antialias` is deprecated. Use `renderer="antialias: true"` instead.'),t.hasAttribute("logarithmicDepthBuffer")&&o('Component `logarithmicDepthBuffer` is deprecated. Use `renderer="logarithmicDepthBuffer: true"` instead.')},update:function(){var e=this.data,t=this.el.renderer,n=this.data.toneMapping.charAt(0).toUpperCase()+this.data.toneMapping.slice(1);t.toneMapping=a[n+"ToneMapping"],t.toneMappingExposure=e.exposure,t.xr.setFoveation(e.foveationLevel)},applyColorCorrection:function(e){this.data.colorManagement&&e&&(e.isColor?e.convertSRGBToLinear():e.isTexture&&(e.encoding=a.sRGBEncoding))},setWebXRFrameRate:function(e){var t,n=this.data,r=e.supportedFrameRates;r&&e.updateTargetFrameRate&&(t=r.includes(90)?n.highRefreshRate?90:72:n.highRefreshRate?72:60,e.updateTargetFrameRate(t).catch((function(e){console.warn("failed to set target frame rate of "+t+". Error info: "+e)})))}})},"./src/systems/shadow.js":function(e,t,n){var r=n("./src/core/system.js").registerSystem,i=n("./src/lib/three.js"),a={basic:i.BasicShadowMap,pcf:i.PCFShadowMap,pcfsoft:i.PCFSoftShadowMap};e.exports.System=r("shadow",{schema:{enabled:{default:!0},autoUpdate:{default:!0},type:{default:"pcf",oneOf:["basic","pcf","pcfsoft"]}},init:function(){var e=this.sceneEl,t=this.data;this.shadowMapEnabled=!1,e.renderer&&(e.renderer.shadowMap.type=a[t.type],e.renderer.shadowMap.autoUpdate=t.autoUpdate,this.setShadowMapEnabled(this.shadowMapEnabled))},update:function(e){e.enabled!==this.data.enabled&&this.setShadowMapEnabled(this.data.enabled)},setShadowMapEnabled:function(e){var t=this.sceneEl.renderer;this.shadowMapEnabled=this.data.enabled&&e,t&&(t.shadowMap.enabled=this.shadowMapEnabled)}})},"./src/systems/tracked-controls-webvr.js":function(e,t,n){var r=n("./src/core/system.js").registerSystem,i=n("./src/utils/index.js"),a=i.device.isWebXRAvailable;e.exports.System=r("tracked-controls-webvr",{init:function(){var e=this;this.controllers=[],this.isChrome=-1!==navigator.userAgent.indexOf("Chrome"),this.updateControllerList(),this.throttledUpdateControllerList=i.throttle(this.updateControllerList,500,this),a||navigator.getVRDisplays&&this.sceneEl.addEventListener("enter-vr",(function(){navigator.getVRDisplays().then((function(t){t.length&&(e.vrDisplay=t[0])}))}))},tick:function(){this.isChrome?this.updateControllerList():this.throttledUpdateControllerList()},updateControllerList:function(){var e,t,n,r,i=this.controllers;if(t=navigator.getGamepads&&navigator.getGamepads()){for(r=i.length,i.length=0,n=0;n<t.length;++n)(e=t[n])&&e.pose&&i.push(e);i.length!==r&&this.el.emit("controllersupdated",void 0,!1)}}})},"./src/systems/tracked-controls-webxr.js":function(e,t,n){var r=n("./src/core/system.js").registerSystem,i=n("./src/utils/index.js");e.exports.System=r("tracked-controls-webxr",{init:function(){this.controllers=[],this.oldControllers=[],this.oldControllersLength=0,this.throttledUpdateControllerList=i.throttle(this.updateControllerList,500,this),this.updateReferenceSpace=this.updateReferenceSpace.bind(this),this.el.addEventListener("enter-vr",this.updateReferenceSpace),this.el.addEventListener("exit-vr",this.updateReferenceSpace)},tick:function(){this.throttledUpdateControllerList()},updateReferenceSpace:function(){var e=this,t=this.el.xrSession;if(!t)return this.referenceSpace=void 0,this.controllers=[],void(this.oldControllersLength>0&&(this.oldControllersLength=0,this.el.emit("controllersupdated",void 0,!1)));var n=e.el.sceneEl.systems.webxr.sessionReferenceSpaceType;t.requestReferenceSpace(n).then((function(t){e.referenceSpace=t})).catch((function(t){throw e.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(n,'tracked-controls-webxr uses reference space "'+n+'".'),t}))},updateControllerList:function(){var e,t=this.el.xrSession,n=this.oldControllers;if(!t){if(0===this.oldControllersLength)return;return this.oldControllersLength=0,this.controllers=[],void this.el.emit("controllersupdated",void 0,!1)}if(t.inputSources){if(this.controllers=t.inputSources,this.oldControllersLength===this.controllers.length){var r=!0;for(e=0;e<this.controllers.length;++e)if(this.controllers[e]!==n[e]||this.controllers[e].gamepad!==n[e].gamepad){r=!1;break}if(r)return}for(n.length=0,e=0;e<this.controllers.length;e++)n.push(this.controllers[e]);this.oldControllersLength=this.controllers.length,this.el.emit("controllersupdated",void 0,!1)}}})},"./src/systems/webxr.js":function(e,t,n){var r=n("./src/core/system.js").registerSystem,i=n("./src/utils/index.js").debug("systems:webxr:warn");e.exports.System=r("webxr",{schema:{referenceSpaceType:{type:"string",default:"local-floor"},requiredFeatures:{type:"array",default:["local-floor"]},optionalFeatures:{type:"array",default:["bounded-floor"]},overlayElement:{type:"selector"}},update:function(){var e=this.data;this.sessionConfiguration={requiredFeatures:e.requiredFeatures,optionalFeatures:e.optionalFeatures},this.sessionReferenceSpaceType=e.referenceSpaceType,e.overlayElement&&(e.overlayElement.classList.remove("a-dom-overlay"),e.optionalFeatures.includes("dom-overlay")||(e.optionalFeatures.push("dom-overlay"),this.el.setAttribute("webxr",e)),this.warnIfFeatureNotRequested("dom-overlay"),this.sessionConfiguration.domOverlay={root:e.overlayElement},e.overlayElement.classList.add("a-dom-overlay"))},wasFeatureRequested:function(e){return"viewer"===e||"local"===e||!(!this.sessionConfiguration.requiredFeatures.includes(e)&&!this.sessionConfiguration.optionalFeatures.includes(e))},warnIfFeatureNotRequested:function(e,t){this.wasFeatureRequested(e)||i((t?t+" ":"")+'Please add the feature "'+e+"\" to a-scene's webxr system options in requiredFeatures/optionalFeatures.")}})},"./src/utils/bind.js":function(e){e.exports=function(e,t){return n=Array.prototype.slice.call(arguments,2),function(){var r=n.concat(Array.prototype.slice.call(arguments,0));return e.apply(t,r)};var n}},"./src/utils/coordinates.js":function(e,t,n){var r=n("./src/utils/debug.js"),i=n("./node_modules/object-assign/index.js"),a=r("utils:coordinates:warn"),o=["x","y","z","w"],s=/^\s*((-?\d*\.{0,1}\d+(e-?\d+)?)\s+){2,3}(-?\d*\.{0,1}\d+(e-?\d+)?)\s*$/;e.exports.regex=s;var u="object",l=/\s+/g;function c(e){return s.test(e)}function h(e){return null!==e&&void 0!==e&&e.constructor===String?parseFloat(e,10):e}e.exports.parse=function(e,t){var n,r,a,s,c,d,g,p,f;if(e&&e instanceof Object)return d=void 0===e.x?t&&t.x:e.x,g=void 0===e.y?t&&t.y:e.y,p=void 0===e.z?t&&t.z:e.z,f=void 0===e.w?t&&t.w:e.w,void 0!==d&&null!==d&&(e.x=h(d)),void 0!==g&&null!==g&&(e.y=h(g)),void 0!==p&&null!==p&&(e.z=h(p)),void 0!==f&&null!==f&&(e.w=h(f)),e;if(null===e||void 0===e)return typeof t===u?i({},t):t;for(n=e.trim().split(l),c={},s=0;s<o.length;s++)if(a=o[s],n[s])c[a]=parseFloat(n[s],10);else{if(void 0===(r=t&&t[a]))continue;c[a]=h(r)}return c},e.exports.stringify=function(e){var t;return typeof e!==u?e:(t=e.x+" "+e.y,null!=e.z&&(t+=" "+e.z),null!=e.w&&(t+=" "+e.w),t)},e.exports.isCoordinates=c,e.exports.isCoordinate=function(e){return a("`AFRAME.utils.isCoordinate` has been renamed to `AFRAME.utils.isCoordinates`"),c(e)},e.exports.toVector3=function(e){return new THREE.Vector3(e.x,e.y,e.z)}},"./src/utils/debug.js":function(e,t,n){var r=n("./node_modules/process/browser.js"),i=n("./node_modules/debug/browser.js"),a=n("./node_modules/object-assign/index.js"),o={colors:{debug:"gray",error:"red",info:"gray",warn:"orange"}},s=function(e){var t=i(e);return t.color=function(e){var t=function(e){var t=e.split(":");return t[t.length-1]}(e);return o.colors&&o.colors[t]||null}(e),t};a(s,i);var u=function(){try{return window.localStorage}catch(e){}}();u&&(parseInt(u.logs,10)||"true"===u.logs)?s.enable("*"):s.enable("*:error,*:info,*:warn"),r.browser&&(window.logs=s),e.exports=s},"./src/utils/device.js":function(e,t,n){var r,i=n("./node_modules/process/browser.js"),a=n("./node_modules/debug/browser.js")("device:error"),o=!1,s=!1,u=e.exports.isWebXRAvailable=!window.debug&&void 0!==navigator.xr;if(window.addEventListener("vrdisplayactivate",(function(e){var t;u||(t=document.createElement("canvas"),r=e.display,t.getContext("webgl",{}),r.requestPresent([{source:t}]).then((function(){}),(function(){})))})),u){var l=function e(){var t=document.querySelector("a-scene");t?t.hasLoaded?t.components["vr-mode-ui"].updateEnterInterfaces():t.addEventListener("loaded",e):window.addEventListener("DOMContentLoaded",e)},c=function(e){a("WebXR session support error: "+e.message)};navigator.xr.isSessionSupported?(navigator.xr.isSessionSupported("immersive-vr").then((function(e){o=e,l()})).catch(c),navigator.xr.isSessionSupported("immersive-ar").then((function(e){s=e,l()})).catch((function(){}))):navigator.xr.supportsSession?(navigator.xr.supportsSession("immersive-vr").then((function(){o=!0,l()})).catch(c),navigator.xr.supportsSession("immersive-ar").then((function(){s=!0,l()})).catch((function(){}))):a("WebXR has neither isSessionSupported or supportsSession?!")}else navigator.getVRDisplays&&navigator.getVRDisplays().then((function(e){var t=document.querySelector("a-scene");r=e.length&&e[0],t&&t.emit("displayconnected",{vrDisplay:r})}));function h(){return r}e.exports.getVRDisplay=h,e.exports.checkHeadsetConnected=function(){return o||s||!!h()},e.exports.checkARSupport=function(){return s},e.exports.checkVRSupport=function(){return o};var d=function(){var e,t=!1;return e=window.navigator.userAgent||window.navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),(p()||g()||y())&&(t=!0),v()&&(t=!1),function(){return t}}();function g(e){var t=e||window.navigator.userAgent;return/ipad|Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(t)}function p(){return/iPad|iPhone|iPod/.test(window.navigator.platform)}function f(){return/(OculusBrowser)/i.test(window.navigator.userAgent)}function m(){return/(Mobile VR)/i.test(window.navigator.userAgent)}function v(){return f()||m()}function y(){return/R7 Build/.test(window.navigator.userAgent)}e.exports.isMobile=d,e.exports.isTablet=g,e.exports.isIOS=p,e.exports.isMobileDeviceRequestingDesktopSite=function(){return!d()&&!v()&&void 0!==window.orientation},e.exports.isOculusBrowser=f,e.exports.isFirefoxReality=m,e.exports.isMobileVR=v,e.exports.isR7=y,e.exports.isLandscape=function(){var e=window.orientation;return y()&&(e+=90),90===e||-90===e},e.exports.isBrowserEnvironment=!(i&&!i.browser),e.exports.isNodeEnvironment=!e.exports.isBrowserEnvironment},"./src/utils/entity.js":function(e){var t={};function n(e,n){return t[n=n||"."]||(t[n]={}),-1!==e.indexOf(n)?t[n][e]=e.split(n):t[n][e]=e,t[n][e]}e.exports.getComponentPropertyPath=n,e.exports.propertyPathCache=t,e.exports.getComponentProperty=function(e,t,r){var i;return r=r||".",-1!==t.indexOf(r)?(i=n(t,r)).constructor===String?e.getAttribute(i):e.getAttribute(i[0])[i[1]]:e.getAttribute(t)},e.exports.setComponentProperty=function(e,t,r,i){var a;i=i||".",-1===t.indexOf(i)?e.setAttribute(t,r):(a=n(t,i)).constructor===String?e.setAttribute(a,r):e.setAttribute(a[0],a[1],r)}},"./src/utils/forceCanvasResizeSafariMobile.js":function(e){e.exports=function(e){var t=e.style.width,n=e.style.height;e.style.width=parseInt(t,10)+1+"px",e.style.height=parseInt(n,10)+1+"px",setTimeout((function(){e.style.width=t,e.style.height=n}),200)}},"./src/utils/index.js":function(e,t,n){var r=n("./src/utils/debug.js"),i=n("./node_modules/deep-assign/index.js"),a=n("./src/utils/device.js"),o=n("./node_modules/object-assign/index.js"),s=n("./src/utils/object-pool.js"),u=r("utils:warn");e.exports.bind=n("./src/utils/bind.js"),e.exports.coordinates=n("./src/utils/coordinates.js"),e.exports.debug=r,e.exports.device=a,e.exports.entity=n("./src/utils/entity.js"),e.exports.forceCanvasResizeSafariMobile=n("./src/utils/forceCanvasResizeSafariMobile.js"),e.exports.isIE11=n("./src/utils/is-ie11.js"),e.exports.material=n("./src/utils/material.js"),e.exports.objectPool=s,e.exports.split=n("./src/utils/split.js").split,e.exports.styleParser=n("./src/utils/styleParser.js"),e.exports.trackedControls=n("./src/utils/tracked-controls.js"),e.exports.checkHeadsetConnected=function(){return u("`utils.checkHeadsetConnected` has moved to `utils.device.checkHeadsetConnected`"),a.checkHeadsetConnected(arguments)},e.exports.isGearVR=e.exports.device.isGearVR=function(){u("`utils.isGearVR` has been deprecated, use `utils.device.isMobileVR`")},e.exports.isIOS=function(){return u("`utils.isIOS` has moved to `utils.device.isIOS`"),a.isIOS(arguments)},e.exports.isOculusGo=e.exports.device.isOculusGo=function(){u("`utils.isOculusGo` has been deprecated, use `utils.device.isMobileVR`")},e.exports.isMobile=function(){return u("`utils.isMobile has moved to `utils.device.isMobile`"),a.isMobile(arguments)},e.exports.throttle=function(t,n,r){var i;return r&&(t=e.exports.bind(t,r)),function(){var e=Date.now();("undefined"===typeof i||("undefined"===typeof i?n:e-i)>=n)&&(i=e,t.apply(null,arguments))}},e.exports.throttleLeadingAndTrailing=function(t,n,r){var i,a;return r&&(t=e.exports.bind(t,r)),function(){var e=Date.now(),r="undefined"===typeof i?n:e-i,o=arguments;"undefined"===typeof i||r>=n?(clearTimeout(a),i=e,t.apply(null,o)):(clearTimeout(a),a=setTimeout((function(){i=Date.now(),t.apply(this,o)}),n-r))}},e.exports.throttleTick=function(t,n,r){var i;return r&&(t=e.exports.bind(t,r)),function(e,r){var a="undefined"===typeof i?r:e-i;("undefined"===typeof i||a>=n)&&(i=e,t(e,a))}},e.exports.debounce=function(e,t,n){var r;return function(){var i=this,a=arguments,o=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||e.apply(i,a)}),t),o&&e.apply(i,a)}},e.exports.extend=o,e.exports.extendDeep=i,e.exports.clone=function(e){return JSON.parse(JSON.stringify(e))};var l=function(){var e=s.createPool((function(){return[]}));return function(t,n){var r,i,a,o,s,u;if(void 0===t||void 0===n||null===t||null===n||!(t&&n&&t.constructor===Object&&n.constructor===Object||t.constructor===Array&&n.constructor===Array))return t===n;for(r in i=e.use(),a=e.use(),i.length=0,a.length=0,t)i.push(r);for(r in n)a.push(r);if(i.length!==a.length)return e.recycle(i),e.recycle(a),!1;for(o=0;o<i.length;++o)if(s=t[i[o]],u=n[i[o]],"object"===typeof s||"object"===typeof u||Array.isArray(s)&&Array.isArray(u)){if(s===u)continue;if(!l(s,u))return e.recycle(i),e.recycle(a),!1}else if(s!==u)return e.recycle(i),e.recycle(a),!1;return e.recycle(i),e.recycle(a),!0}}();e.exports.deepEqual=l,e.exports.diff=function(){var e=[];return function(t,n,r){var i,a,o,s,u,c,h;for(u in s=r||{},e.length=0,t)e.push(u);if(!n)return s;for(o in n)-1===e.indexOf(o)&&e.push(o);for(c=0;c<e.length;c++)i=t[u=e[c]],a=n[u],((h=i&&a&&i.constructor===Object&&a.constructor===Object)&&!l(i,a)||!h&&i!==a)&&(s[u]=a);return s}}(),e.exports.shouldCaptureKeyEvent=function(e){return!e.metaKey&&document.activeElement===document.body},e.exports.splitString=function(e,t){"undefined"===typeof t&&(t=" ");var n=new RegExp(t,"g");return(e=(e||"").replace(n,t)).split(t)},e.exports.getElData=function(e,t){t=t||{};var n={};return Object.keys(t).forEach((function(t){e.hasAttribute(t)&&(n[t]=e.getAttribute(t))})),n},e.exports.getUrlParameter=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},e.exports.isIframed=function(){return window.top!==window.self},e.exports.findAllScenes=function(e){for(var t=[],n=e.getElementsByTagName("*"),r=0,i=n.length;r<i;r++)n[r].isScene&&t.push(n[r]);return t},e.exports.srcLoader=n("./src/utils/src-loader.js")},"./src/utils/ios-orientationchange-blank-bug.js":function(){window.addEventListener("orientationchange",(function(){document.documentElement.style.height="initial",setTimeout((function(){document.documentElement.style.height="100%",setTimeout((function(){window.scrollTo(0,1)}),500)}),500)}))},"./src/utils/is-ie11.js":function(e){e.exports=11===function(){var e=-1,t=navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName?null!=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1)):"Netscape"===navigator.appName&&null!=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1)),e}()},"./src/utils/isIOSOlderThan10.js":function(e){e.exports=function(e){return/(iphone|ipod|ipad).*os.(7_|8_|9_)/i.test(e)}},"./src/utils/material.js":function(e,t,n){var r=n("./src/lib/three.js"),i=["application/x-mpegurl","application/vnd.apple.mpegurl"],a=new Set(["emissiveMap","envMap","map","specularMap"]);function o(e,t){var n=t.offset||{x:0,y:0},i=t.repeat||{x:1,y:1};!!t.npot&&(e.wrapS=r.ClampToEdgeWrapping,e.wrapT=r.ClampToEdgeWrapping,e.magFilter=r.LinearFilter,e.minFilter=r.LinearFilter),1===i.x&&1===i.y||(e.wrapS=r.RepeatWrapping,e.wrapT=r.RepeatWrapping,e.repeat.set(i.x,i.y)),0===n.x&&0===n.y||e.offset.set(n.x,n.y)}function s(e,t){t&&(e.emit("materialtextureloaded",{src:t.image,texture:t}),t.image&&"VIDEO"===t.image.tagName&&(t.image.addEventListener("loadeddata",(function(){e.components&&e.components.material&&(t.needsCorrectionBGRA&&t.needsCorrectionFlipY&&-1!==["standard","flat"].indexOf(e.components.material.data.shader)&&e.setAttribute("material","shader","ios10hls"),e.emit("materialvideoloadeddata",{src:t.image,texture:t}))})),t.image.addEventListener("ended",(function(){e.emit("materialvideoended",{src:t.image,texture:t})}))))}e.exports.setTextureProperties=o,e.exports.updateMapMaterialFromData=function(e,t,n,i){var u=n.el,l=n.material,c=u.sceneEl.systems.renderer,h=i[t];if(n.materialSrcs||(n.materialSrcs={}),!h)return delete n.materialSrcs[e],void d(null);function d(t){l[e]=t,t&&a.has(e)&&c.applyColorCorrection(t),l.needsUpdate=!0,s(u,t)}h===n.materialSrcs[e]&&l[e]?o(l[e],i):(n.materialSrcs[e]=h,h instanceof r.Texture?d(h):u.sceneEl.systems.material.loadTexture(h,{src:h,repeat:i.repeat,offset:i.offset,npot:i.npot},(function(t){n.materialSrcs[e]===h&&d(t)})))},e.exports.updateMap=function(t,n){return e.exports.updateMapMaterialFromData("map","src",t,n)},e.exports.updateDistortionMap=function(e,t,n){var r=e;"ambientOcclusion"===e&&(r="ao");var i=t.el,u=t.material,l=i.sceneEl.systems.renderer,c=n[e+"Map"],h={};if(h.src=c,h.offset=n[e+"TextureOffset"],h.repeat=n[e+"TextureRepeat"],h.wrap=n[e+"TextureWrap"],c){if(c===t[e+"TextureSrc"])return;return t[e+"TextureSrc"]=c,void i.sceneEl.systems.material.loadTexture(c,h,d)}function d(e){var t=r+"Map";u[t]=e,e&&a.has(t)&&l.applyColorCorrection(e),e&&o(e,n),u.needsUpdate=!0,s(i,e)}u.map&&d(null)},e.exports.handleTextureEvents=s,e.exports.isHLS=function(e,t){return!(!t||!i.includes(t.toLowerCase()))||!!(e&&e.toLowerCase().indexOf(".m3u8")>0)}},"./src/utils/math.js":function(e){function t(e,t,n){return(t.dot(e)-t.dot(n))/t.length()}e.exports.distanceOfPointFromPlane=t,e.exports.nearestPointInPlane=function(e,n,r,i){var a=t(e,n,r);return i.copy(n),i.multiplyScalar(a),i.add(r),i}},"./src/utils/object-pool.js":function(e){var t=Object.freeze(Object.create(null));function n(){return{}}function r(e){var t;if(e&&e.constructor===Object)for(t in e)e[t]=void 0}e.exports.createPool=function(e){var i=[],a=null;function o(t){var n,r;if((t=void 0===t?i.length:t)>0&&null==a&&(a=0),t>0)for(n=i.length,i.length+=Number(t),r=n;r<i.length;r++)i[r]=e();return i.length}return e=e||n,{grow:o,pool:i,recycle:function(e){e instanceof Object&&(null!==a&&-1!==a?i[--a]=e:i[i.length]=e)},size:function(){return i.length},use:function(){var e;return null!==a&&a!==i.length||o(i.length||5),e=i[a],i[a++]=t,r(e),e}}},e.exports.clearObject=r,e.exports.removeUnusedKeys=function(e,t){var n;if(e&&e.constructor===Object)for(n in e)n in t||delete e[n]}},"./src/utils/split.js":function(e){e.exports.split=function(){var e={};return function(t,n){return n in e||(e[n]={}),t in e[n]||(e[n][t]=t.split(n)),e[n][t]}}()},"./src/utils/src-loader.js":function(e,t,n){var r=n("./src/utils/debug.js")("utils:src-loader:warn");function i(e,t,n){!function(e,t){var n;e.tagName?t("IMG"===e.tagName):((n=new XMLHttpRequest).open("HEAD",e),n.addEventListener("load",(function(r){var i;n.status>=200&&n.status<300?null==(i=n.getResponseHeader("Content-Type"))?o(e,t):i.startsWith("image")?t(!0):t(!1):o(e,t),n.abort()})),n.send())}(e,(function(r){r?t(e):n(e)}))}function a(e){var t=e.match(/\url\((.+)\)/);if(t)return t[1]}function o(e,t){var n=new Image;n.addEventListener("load",(function(){t(!0)})),n.addEventListener("error",(function(){t(!1)})),n.src=e}e.exports={parseUrl:a,validateSrc:i,validateCubemapSrc:function(e,t){var n,o,s,u="",l=[];for(o=0;o<5;o++)u+="(url\\((?:[^\\)]+)\\),\\s*)";function c(e){l.push(e),6===l.length&&t(l)}if(u+="(url\\((?:[^\\)]+)\\)\\s*)",s=e.match(new RegExp(u)))for(o=1;o<7;o++)i(a(s[o]),c);else if(n=function(e){try{var t=document.querySelector(e);return t||r('No element was found matching the selector: "%s"',e),t}catch(n){return void r('"%s" is not a valid selector',e)}}(e))return"A-CUBEMAP"===n.tagName&&n.srcs?t(n.srcs):void r('Selector "%s" does not point to <a-cubemap>',e)}}},"./src/utils/styleParser.js":function(e){var t=/-([a-z])/g;function n(e){return e.replace(t,a)}function r(e){var t,r;for(r in e)r!==(t=n(r))&&(e[t]=e[r],delete e[r]);return e}e.exports.parse=function(e,t){var n;return"string"!==typeof e?e:(n=function(e,t){var n,r,a,o,s,u;for(t=t||{},n=i(e),r=0;r<n.length;r++)(a=n[r])&&(o=a.indexOf(":"),s=a.substr(0,o).trim(),u=a.substr(o+1).trim(),t[s]=u);return t}(e,t),n[""]?e:r(n))},e.exports.stringify=function(e){return"string"===typeof e?e:function(e){var t,n=0,r=0,i="";for(t in e)n++;for(t in e)i+=t+": "+e[t],r<n-1&&(i+="; "),r++;return i}(e)},e.exports.toCamelCase=n,e.exports.transformKeysToCamelCase=r;var i=function(){var e=[],t=/url\([^)]+$/;return function(n){var r,i="",a=0;for(e.length=0;a<n.length;)-1===(r=n.indexOf(";",a))&&(r=n.length),i+=n.substring(a,r),t.test(i)?(i+=";",a=r+1):(e.push(i.trim()),i="",a=r+1);return e}}();function a(e){return e[1].toUpperCase()}},"./src/utils/tracked-controls.js":function(e,t,n){var r=n("./src/constants/index.js").DEFAULT_HANDEDNESS,i=["x","y","z","w"],a=2;function o(e,t,n){var r,i,a=e.el.sceneEl,o=n.index||0;return!!t&&!!(i=a&&a.systems["tracked-controls-webvr"])&&!!(r=i.controllers).length&&!!u(r,null,t,n.hand,o)}function s(e,t,n){var r,i=e.el.sceneEl,a=i&&i.systems["tracked-controls-webxr"];return!!a&&!(!(r=a.controllers)||!r.length)&&l(r,t,n.hand,n.index,n.iterateControllerProfiles,n.handTracking)}function u(e,t,n,i,o){var s,u,l=0;for(u=0;u<e.length;u++)if(s=e[u],(!n||s.id.startsWith(n))&&(n||s.id===t)&&(!i||!s.hand||i===s.hand)){if(!i||s.hand)return s;if(l===a*o+(i===r?0:1))return s;++l}}function l(e,t,n,r,i,a){var o,s,u,l,c=!1;for(o=0;o<e.length;o++){if(l=(u=e[o]).profiles,a)c=u.hand;else if(i)for(s=0;s<l.length&&!(c=l[s].startsWith(t));s++);else c=l.length>0&&l[0].startsWith(t);if(c)if("right"===u.handedness||"left"===u.handedness){if(u.handedness===n)return e[o]}else if(o===r)return e[o]}}e.exports.checkControllerPresentAndSetup=function(e,t,n){var r,i,a=e.el,u=a.sceneEl.hasWebXR;if(i=!!(r=(u?s:o)(e,t,n)),!e.controllerPresent||e.controllerEventsActive||u||e.addEventListeners(),i===e.controllerPresent)return i;e.controllerPresent=i,i?(e.addEventListeners(),e.injectTrackedControls(r),a.emit("controllerconnected",{name:e.name,component:e})):(e.removeEventListeners(),a.emit("controllerdisconnected",{name:e.name,component:e}))},e.exports.isControllerPresentWebVR=o,e.exports.isControllerPresentWebXR=s,e.exports.findMatchingControllerWebVR=u,e.exports.findMatchingControllerWebXR=l,e.exports.emitIfAxesChanged=function(e,t,n){var r,a,o,s,u;for(a in t){for(r=t[a],o=!1,u=0;u<r.length;u++)n.detail.changed[r[u]]&&(o=!0);if(o){for(s={},u=0;u<r.length;u++)s[i[u]]=n.detail.axis[r[u]];e.el.emit(a+"moved",s)}}},e.exports.onButtonEvent=function(e,t,n,r){var i=(r?n.mapping[r]:n.mapping).buttons[e];n.el.emit(i+t),n.updateModel&&n.updateModel(i,t)}},"./vendor/DeviceOrientationControls.js":function(){THREE.DeviceOrientationControls=function(e){var t=this;this.object=e,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alphaOffset=0;var n=function(e){t.deviceOrientation=e},r=function(){t.screenOrientation=window.orientation||0},i=function(){var e=new THREE.Vector3(0,0,1),t=new THREE.Euler,n=new THREE.Quaternion,r=new THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5));return function(i,a,o,s,u){t.set(o,a,-s,"YXZ"),i.setFromEuler(t),i.multiply(r),i.multiply(n.setFromAxisAngle(e,-u))}}();this.connect=function(){r(),window.addEventListener("orientationchange",r,!1),window.addEventListener("deviceorientation",n,!1),t.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",r,!1),window.removeEventListener("deviceorientation",n,!1),t.enabled=!1},this.update=function(){if(!1!==t.enabled){var e=t.deviceOrientation;if(e){var n=e.alpha?THREE.MathUtils.degToRad(e.alpha)+t.alphaOffset:0,r=e.beta?THREE.MathUtils.degToRad(e.beta):0,a=e.gamma?THREE.MathUtils.degToRad(e.gamma):0,o=t.screenOrientation?THREE.MathUtils.degToRad(t.screenOrientation):0;i(t.object.quaternion,n,r,a,o)}}},this.dispose=function(){t.disconnect()},this.connect()}},"./vendor/rStats.extras.js":function(e){window.glStats=function(){var e=null,t=0,n=0,r=0,i=0,a=0,o=0,s=0;function u(e,t){return function(){t.apply(this,arguments),e.apply(this,arguments)}}return WebGLRenderingContext.prototype.drawArrays=u(WebGLRenderingContext.prototype.drawArrays,(function(){t++,arguments[0]==this.POINTS?o+=arguments[2]:a+=arguments[2]})),WebGLRenderingContext.prototype.drawElements=u(WebGLRenderingContext.prototype.drawElements,(function(){n++,i+=arguments[1]/3,a+=arguments[1]})),WebGLRenderingContext.prototype.useProgram=u(WebGLRenderingContext.prototype.useProgram,(function(){r++})),WebGLRenderingContext.prototype.bindTexture=u(WebGLRenderingContext.prototype.bindTexture,(function(){s++})),{update:function(){e("allcalls").set(t+n),e("drawElements").set(n),e("drawArrays").set(t),e("bindTexture").set(s),e("useProgram").set(r),e("glfaces").set(i),e("glvertices").set(a),e("glpoints").set(o)},start:function(){t=0,n=0,r=0,i=0,a=0,o=0,s=0},end:function(){},attach:function(t){e=t},values:{allcalls:{over:3e3,caption:"Calls (hook)"},drawelements:{caption:"drawElements (hook)"},drawarrays:{caption:"drawArrays (hook)"}},groups:[{caption:"WebGL",values:["allcalls","drawelements","drawarrays","useprogram","bindtexture","glfaces","glvertices","glpoints"]}],fractions:[{base:"allcalls",steps:["drawelements","drawarrays"]}]}},window.threeStats=function(e){var t=null;return{update:function(){t("renderer.info.memory.geometries").set(e.info.memory.geometries),t("renderer.info.programs").set(e.info.programs.length),t("renderer.info.memory.textures").set(e.info.memory.textures),t("renderer.info.render.calls").set(e.info.render.calls),t("renderer.info.render.triangles").set(e.info.render.triangles),t("renderer.info.render.points").set(e.info.render.points)},start:function(){},end:function(){},attach:function(e){t=e},values:{"renderer.info.memory.geometries":{caption:"Geometries"},"renderer.info.memory.textures":{caption:"Textures"},"renderer.info.programs":{caption:"Programs"},"renderer.info.render.calls":{caption:"Calls"},"renderer.info.render.triangles":{caption:"Triangles",over:1e3},"renderer.info.render.points":{caption:"Points"}},groups:[{caption:"Three.js - Memory",values:["renderer.info.memory.geometries","renderer.info.programs","renderer.info.memory.textures"]},{caption:"Three.js - Render",values:["renderer.info.render.calls","renderer.info.render.triangles","renderer.info.render.points"]}],fractions:[]}},window.BrowserStats=function(){var e=null,t=0,n=0;window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0,totalJSHeapSize:0}),0===performance.memory.totalJSHeapSize&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var r=Math.log(1024);function i(e){var t=Math.floor(Math.log(e)/r);return Math.round(100*e/Math.pow(1024,t))/100}return{update:function(){t=i(performance.memory.usedJSHeapSize),n=i(performance.memory.totalJSHeapSize),e("memory").set(t),e("total").set(n)},start:function(){t=0},end:function(){},attach:function(t){e=t},values:{memory:{caption:"Used Memory",average:!0,avgMs:1e3,over:22},total:{caption:"Total Memory"}},groups:[{caption:"Browser",values:["memory","total"]}],fractions:[{base:"total",steps:["memory"]}]}},e.exports={glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats}},"./vendor/rStats.js":function(e){"use strict";!function(){"performance"in window==0&&(window.performance={});var e=window.performance;if("now"in e==0){var t=Date.now();e.timing&&e.timing.navigationStart&&(t=e.timing.navigationStart),e.now=function(){return Date.now()-t}}e.mark||(e.mark=function(){}),e.measure||(e.measure=function(){})}(),window.rStats=function(e){function t(e,t){for(var n=Object.keys(e),r=0,i=n.length;r<i;r++)t(n[r])}var n=e||{},r=n.colours||["#850700","#c74900","#fcb300","#284280","#4c7c0c"],i=(n.CSSPath?n.CSSPath:"")+"rStats.css";(n.css||["https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300",i]).forEach((function(e){!function(e){var t=document.createElement("link");t.href=e,t.rel="stylesheet",t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t)}(e)})),n.values||(n.values={});var a,o,s=10,u=200,l={};function c(e,t,n){var r=n||{},i=document.createElement("canvas"),a=i.getContext("2d"),o=0,l=0,c=r.color?r.color:"#666666",h=document.createElement("canvas"),d=h.getContext("2d");h.width=1,h.height=2*s,d.fillStyle="#444444",d.fillRect(0,0,1,2*s),d.fillStyle=c,d.fillRect(0,s,1,s),d.fillStyle="#ffffff",d.globalAlpha=.5,d.fillRect(0,s,1,1),d.globalAlpha=1;var g=document.createElement("canvas"),p=g.getContext("2d");return g.width=1,g.height=2*s,p.fillStyle="#444444",p.fillRect(0,0,1,2*s),p.fillStyle="#b70000",p.fillRect(0,s,1,s),p.globalAlpha=.5,p.fillStyle="#ffffff",p.fillRect(0,s,1,1),p.globalAlpha=1,i.width=u,i.height=s,i.style.width=i.width+"px",i.style.height=i.height+"px",i.className="rs-canvas",e.appendChild(i),a.fillStyle="#444444",a.fillRect(0,0,i.width,i.height),{draw:function(e,t){(l+=.1*(e-l))>(o*=.99)&&(o=l),a.drawImage(i,1,0,i.width-1,i.height,0,0,i.width-1,i.height),t?a.drawImage(g,i.width-1,i.height-l*i.height/o-s):a.drawImage(h,i.width-1,i.height-l*i.height/o-s)}}}function h(e,n){var i=document.createElement("canvas"),a=i.getContext("2d");return i.width=u,i.height=s*n,i.style.width=i.width+"px",i.style.height=i.height+"px",i.className="rs-canvas",e.appendChild(i),a.fillStyle="#444444",a.fillRect(0,0,i.width,i.height),{draw:function(e){a.drawImage(i,1,0,i.width-1,i.height,0,0,i.width-1,i.height);var n=0;t(e,(function(t){var o=e[t]*i.height;a.fillStyle=r[t],a.fillRect(i.width-1,n,1,o),n+=o}))}}}function d(e,t){var r,i=e,a=0,s=0,u=0,l=0,h=performance.now(),d=0,g=document.createElement("div"),p=document.createElement("span"),f=document.createElement("div"),m=document.createTextNode(""),v=n?n.values[i.toLowerCase()]:null,y=new c(g,i,v),A=!1;function b(e){if(v&&v.average){l+=e,d++;var t=performance.now();t-h>=(v.avgMs||1e3)&&(u=l/d,l=0,h=t,d=0)}}function x(){r=performance.now(),n.userTimingAPI&&performance.mark(i+"-start"),A=!0}function w(){a=performance.now()-r,n.userTimingAPI&&(performance.mark(i+"-end"),A&&performance.measure(i,i+"-start",i+"-end")),b(a)}return p.className="rs-counter-id",p.textContent=v&&v.caption?v.caption:i,f.className="rs-counter-value",f.appendChild(m),g.appendChild(p),g.appendChild(f),t?t.div.appendChild(g):o.appendChild(g),r=performance.now(),{set:function(e){b(a=e)},start:x,tick:function(){w(),x()},end:w,frame:function(){var e=performance.now(),t=e-r;s++,t>1e3&&(a=v&&!1===v.interpolate?s:1e3*s/t,s=0,r=e,b(a))},value:function(){return a},draw:function(){var e=v&&v.average?u:a;m.nodeValue=Math.round(100*e)/100;var t=v&&(v.below&&a<v.below||v.over&&a>v.over);y.draw(a,t),g.className=t?"rs-counter-base alarm":"rs-counter-base"}}}function g(e){var r=e.toLowerCase();if(void 0===r&&(r="default"),l[r])return l[r];var i=null;n&&n.groups&&t(n.groups,(function(e){var t=n.groups[parseInt(e,10)];i||-1===t.values.indexOf(r.toLowerCase())||(i=t)}));var a=new d(r,i);return l[r]=a,a}function p(){t(n.plugins,(function(e){n.plugins[e].update()})),t(l,(function(e){l[e].draw()})),n&&n.fractions&&t(n.fractions,(function(e){var r=n.fractions[parseInt(e,10)],i=[],a=l[r.base.toLowerCase()];a&&(a=a.value(),t(n.fractions[e].steps,(function(t){var r=n.fractions[e].steps[parseInt(t,10)].toLowerCase(),o=l[r];o&&i.push(o.value()/a)}))),r.graph.draw(i)}))}return function(){if(n.plugins){n.values||(n.values={}),n.groups||(n.groups=[]),n.fractions||(n.fractions=[]);for(var e=0;e<n.plugins.length;e++)n.plugins[e].attach(g),t(n.plugins[e].values,(function(t){n.values[t]=n.plugins[e].values[t]})),n.groups=n.groups.concat(n.plugins[e].groups),n.fractions=n.fractions.concat(n.plugins[e].fractions)}else n.plugins={};(a=document.createElement("div")).className="rs-base",(o=document.createElement("div")).className="rs-container",o.style.height="auto",a.appendChild(o),document.body.appendChild(a),n&&(n.groups&&t(n.groups,(function(e){var t=n.groups[parseInt(e,10)],r=document.createElement("div");r.className="rs-group",t.div=r;var i=document.createElement("h1");i.textContent=t.caption,i.addEventListener("click",function(e){this.classList.toggle("hidden"),e.preventDefault()}.bind(r)),o.appendChild(i),o.appendChild(r)})),n.fractions&&t(n.fractions,(function(e){var i=n.fractions[parseInt(e,10)],a=document.createElement("div");a.className="rs-fraction";var u=document.createElement("div");u.className="rs-legend";var l=0;t(n.fractions[e].steps,(function(t){var i=document.createElement("p");i.textContent=n.fractions[e].steps[t],i.style.color=r[l],u.appendChild(i),l++})),a.appendChild(u),a.style.height=l*s+"px",i.div=a;var c=new h(a,l);i.graph=c,o.appendChild(a)})))}(),function(e){return e?g(e):{element:a,update:p}}},e.exports=window.rStats},"./vendor/starts-with-polyfill.js":function(){String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e})},"./vendor/wakelock/util.js":function(e){var t={base64:function(e,t){return"data:"+e+";base64,"+t},isMobile:function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},isIOS:function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},isIFrame:function(){try{return window.self!==window.top}catch(e){return!0}},appendQueryParameter:function(e,t,n){var r=e.indexOf("?")<0?"?":"&";return e+=r+t+"="+n},getQueryParameter:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},isLandscapeMode:function(){return 90==window.orientation||-90==window.orientation}};e.exports=t},"./vendor/wakelock/wakelock.js":function(e,t,n){var r=n("./vendor/wakelock/util.js");function i(){var e=document.createElement("video");e.addEventListener("ended",(function(){e.play()})),this.request=function(){e.paused&&(e.src=r.base64("video/webm","GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw=="),e.play())},this.release=function(){e.pause(),e.src=""}}function a(){var e=null;this.request=function(){e||(e=setInterval((function(){window.location.href="/",setTimeout(window.stop,0)}),15e3))},this.release=function(){e&&(clearInterval(e),e=null)}}e.exports=function(){var e=navigator.userAgent||navigator.vendor||window.opera;return e.match(/iPhone/i)||e.match(/iPod/i)?a:i}()},"./node_modules/css-loader/dist/cjs.js!./src/style/aframe.css":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n("./node_modules/css-loader/dist/runtime/sourceMaps.js"),i=n.n(r),a=n("./node_modules/css-loader/dist/runtime/api.js"),o=n.n(a),s=n("./node_modules/css-loader/dist/runtime/getUrl.js"),u=n.n(s),l=new URL(n("data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"),n.b),c=new URL(n("data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"),n.b),h=new URL(n("data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E"),n.b),d=new URL(n("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E"),n.b),g=new URL(n("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E"),n.b),p=o()(i()),f=u()(l),m=u()(c),v=u()(h),y=u()(d),A=u()(g);p.push([e.id,"/* .a-fullscreen means not embedded. */\nhtml.a-fullscreen {\n  bottom: 0;\n  left: 0;\n  position: fixed;\n  right: 0;\n  top: 0;\n}\n\nhtml.a-fullscreen body {\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n  padding: 0;\n  width: 100%;\n}\n\n/* Class is removed when doing <a-scene embedded>. */\nhtml.a-fullscreen .a-canvas {\n  width: 100% !important;\n  height: 100% !important;\n  top: 0 !important;\n  left: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  position: fixed !important;\n}\n\nhtml:not(.a-fullscreen) .a-enter-vr,\nhtml:not(.a-fullscreen) .a-enter-ar {\n  right: 5px;\n  bottom: 5px;\n}\n\nhtml:not(.a-fullscreen) .a-enter-ar {\n  right: 60px;\n}\n\n/* In chrome mobile the user agent stylesheet set it to white  */\n:-webkit-full-screen {\n  background-color: transparent;\n}\n\n.a-hidden {\n  display: none !important;\n}\n\n.a-canvas {\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n\n.a-canvas.a-grab-cursor:hover {\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n\ncanvas.a-canvas.a-mouse-cursor-hover:hover {\n  cursor: pointer;\n}\n\n.a-inspector-loader {\n  background-color: #ed3160;\n  position: fixed;\n  left: 3px;\n  top: 3px;\n  padding: 6px 10px;\n  color: #fff;\n  text-decoration: none;\n  font-size: 12px;\n  font-family: Roboto,sans-serif;\n  text-align: center;\n  z-index: 99999;\n  width: 204px;\n}\n\n/* Inspector loader animation */\n@keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }\n@keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }\n@keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }\n@-webkit-keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }\n@-webkit-keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }\n@-webkit-keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }\n\n.a-inspector-loader .dots span {\n  animation: dots-1 2s infinite steps(1);\n  -webkit-animation: dots-1 2s infinite steps(1);\n}\n\n.a-inspector-loader .dots span:first-child + span {\n  animation-name: dots-2;\n  -webkit-animation-name: dots-2;\n}\n\n.a-inspector-loader .dots span:first-child + span + span {\n  animation-name: dots-3;\n  -webkit-animation-name: dots-3;\n}\n\na-scene {\n  display: block;\n  position: relative;\n  height: 100%;\n  width: 100%;\n}\n\na-assets,\na-scene video,\na-scene img,\na-scene audio {\n  display: none;\n}\n\n.a-enter-vr-modal,\n.a-orientation-modal {\n  font-family: Consolas, Andale Mono, Courier New, monospace;\n}\n\n.a-enter-vr-modal a {\n  border-bottom: 1px solid #fff;\n  padding: 2px 0;\n  text-decoration: none;\n  transition: .1s color ease-in;\n}\n\n.a-enter-vr-modal a:hover {\n  background-color: #fff;\n  color: #111;\n  padding: 2px 4px;\n  position: relative;\n  left: -4px;\n}\n\n.a-enter-vr,\n.a-enter-ar {\n  font-family: sans-serif, monospace;\n  font-size: 13px;\n  width: 100%;\n  font-weight: 200;\n  line-height: 16px;\n  position: absolute;\n  right: 20px;\n  bottom: 20px;\n}\n\n.a-enter-ar {\n  right: 80px;\n}\n\n.a-enter-vr-button,\n.a-enter-vr-modal,\n.a-enter-vr-modal a {\n  color: #fff;\n  user-select: none;\n  outline: none;\n}\n\n.a-enter-vr-button {\n  background: rgba(0, 0, 0, 0.35) url("+f+") 50% 50% no-repeat;\n}\n\n.a-enter-ar-button {\n  background: rgba(0, 0, 0, 0.20) url("+m+") 50% 50% no-repeat;\n}\n\n.a-enter-vr.fullscreen .a-enter-vr-button {\n  background-image: url("+v+");\n}\n\n.a-enter-vr-button,\n.a-enter-ar-button {\n  background-size: 90% 90%;\n  border: 0;\n  bottom: 0;\n  cursor: pointer;\n  min-width: 58px;\n  min-height: 34px;\n  /* 1.74418604651 */\n  /*\n    In order to keep the aspect ratio when resizing\n    padding-top percentages are relative to the containing block's width.\n    http://stackoverflow.com/questions/12121090/responsively-change-div-size-keeping-aspect-ratio\n  */\n  padding-right: 0;\n  padding-top: 0;\n  position: absolute;\n  right: 0;\n  transition: background-color .05s ease;\n  -webkit-transition: background-color .05s ease;\n  z-index: 9999;\n  border-radius: 8px;\n  touch-action: manipulation; /* Prevent iOS double tap zoom on the button */\n}\n\n.a-enter-ar-button {\n  background-size: 100% 90%;\n  margin-right: 10px;\n  border-radius: 7px;\n}\n\n.a-enter-ar-button:active,\n.a-enter-ar-button:hover,\n.a-enter-vr-button:active,\n.a-enter-vr-button:hover {\n  background-color: #ef2d5e;\n}\n\n.a-enter-vr-button.resethover {\n  background-color: rgba(0, 0, 0, 0.35);\n}\n\n\n.a-enter-vr-modal {\n  background-color: #666;\n  border-radius: 0;\n  display: none;\n  min-height: 32px;\n  margin-right: 70px;\n  padding: 9px;\n  width: 280px;\n  right: 2%;\n  position: absolute;\n}\n\n.a-enter-vr-modal:after {\n  border-bottom: 10px solid transparent;\n  border-left: 10px solid #666;\n  border-top: 10px solid transparent;\n  display: inline-block;\n  content: '';\n  position: absolute;\n  right: -5px;\n  top: 5px;\n  width: 0;\n  height: 0;\n}\n\n.a-enter-vr-modal p,\n.a-enter-vr-modal a {\n  display: inline;\n}\n\n.a-enter-vr-modal p {\n  margin: 0;\n}\n\n.a-enter-vr-modal p:after {\n  content: ' ';\n}\n\n.a-orientation-modal {\n  background: rgba(244, 244, 244, 1) url("+y+') center no-repeat;\n  background-size: 50% 50%;\n  bottom: 0;\n  font-size: 14px;\n  font-weight: 600;\n  left: 0;\n  line-height: 20px;\n  right: 0;\n  position: fixed;\n  top: 0;\n  z-index: 9999999;\n}\n\n.a-orientation-modal:after {\n  color: #666;\n  content: "Insert phone into Cardboard holder.";\n  display: block;\n  position: absolute;\n  text-align: center;\n  top: 70%;\n  transform: translateY(-70%);\n  width: 100%;\n}\n\n.a-orientation-modal button {\n  background: url('+A+") no-repeat;\n  border: none;\n  height: 50px;\n  text-indent: -9999px;\n  width: 50px;\n}\n\n.a-loader-title {\n  background-color: rgba(0, 0, 0, 0.6);\n  font-family: sans-serif, monospace;\n  text-align: center;\n  font-size: 20px;\n  height: 50px;\n  font-weight: 300;\n  line-height: 50px;\n  position: absolute;\n  right: 0px;\n  left: 0px;\n  top: 0px;\n  color: white;\n}\n\n.a-modal {\n  position: absolute;\n  background: rgba(0, 0, 0, 0.60);\n  background-size: 50% 50%;\n  bottom: 0;\n  font-size: 14px;\n  font-weight: 600;\n  left: 0;\n  line-height: 20px;\n  right: 0;\n  position: fixed;\n  top: 0;\n  z-index: 9999999;\n}\n\n.a-dialog {\n  position: relative;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 199995;\n  width: 300px;\n  height: 200px;\n  background-size: contain;\n  background-color: white;\n  font-family: sans-serif, monospace;\n  font-size: 20px;\n  border-radius: 3px;\n  padding: 6px;\n}\n\n.a-dialog-text-container {\n  width: 100%;\n  height: 70%;\n  align-self: flex-start;\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  flex-direction: column;\n}\n\n.a-dialog-text {\n  display: inline-block;\n  font-weight: normal;\n  font-size: 14pt;\n  margin: 8px;\n}\n\n.a-dialog-buttons-container {\n  display: inline-flex;\n  align-self: flex-end;\n  width: 100%;\n  height: 30%;\n}\n\n.a-dialog-button {\n  cursor: pointer;\n  align-self: center;\n  opacity: 0.9;\n  height: 80%;\n  width: 50%;\n  font-size: 12pt;\n  margin: 4px;\n  border-radius: 2px;\n  text-align:center;\n  border: none;\n  display: inline-block;\n  -webkit-transition: all 0.25s ease-in-out;\n  transition: all 0.25s ease-in-out;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.10), 0 1px 2px rgba(0, 0, 0, 0.20);\n  user-select: none;\n}\n\n.a-dialog-permission-button:hover {\n  box-shadow: 0 7px 14px rgba(0,0,0,0.20), 0 2px 2px rgba(0,0,0,0.20);\n}\n\n.a-dialog-allow-button {\n  background-color: #00ceff;\n}\n\n.a-dialog-deny-button {\n  background-color: #ff005b;\n}\n\n.a-dialog-ok-button {\n  background-color: #00ceff;\n  width: 100%;\n}\n\n.a-dom-overlay:not(.a-no-style) {\n  overflow: hidden;\n  position: absolute;\n  pointer-events: none;\n  box-sizing: border-box;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  top: 0;\n  padding: 1em;\n}\n\n.a-dom-overlay:not(.a-no-style)>* {\n  pointer-events: auto;\n}\n","",{version:3,sources:["webpack://./src/style/aframe.css"],names:[],mappings:"AAAA,sCAAsC;AACtC;EACE,SAAS;EACT,OAAO;EACP,eAAe;EACf,QAAQ;EACR,MAAM;AACR;;AAEA;EACE,YAAY;EACZ,SAAS;EACT,gBAAgB;EAChB,UAAU;EACV,WAAW;AACb;;AAEA,oDAAoD;AACpD;EACE,sBAAsB;EACtB,uBAAuB;EACvB,iBAAiB;EACjB,kBAAkB;EAClB,mBAAmB;EACnB,oBAAoB;EACpB,0BAA0B;AAC5B;;AAEA;;EAEE,UAAU;EACV,WAAW;AACb;;AAEA;EACE,WAAW;AACb;;AAEA,gEAAgE;AAChE;EACE,6BAA6B;AAC/B;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,YAAY;EACZ,OAAO;EACP,kBAAkB;EAClB,MAAM;EACN,WAAW;AACb;;AAEA;EACE,YAAY;EACZ,iBAAiB;EACjB,oBAAoB;AACtB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,yBAAyB;EACzB,eAAe;EACf,SAAS;EACT,QAAQ;EACR,iBAAiB;EACjB,WAAW;EACX,qBAAqB;EACrB,eAAe;EACf,8BAA8B;EAC9B,kBAAkB;EAClB,cAAc;EACd,YAAY;AACd;;AAEA,+BAA+B;AAC/B,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AACrE,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AACrE,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;;AAErE;EACE,sCAAsC;EACtC,8CAA8C;AAChD;;AAEA;EACE,sBAAsB;EACtB,8BAA8B;AAChC;;AAEA;EACE,sBAAsB;EACtB,8BAA8B;AAChC;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,YAAY;EACZ,WAAW;AACb;;AAEA;;;;EAIE,aAAa;AACf;;AAEA;;EAEE,0DAA0D;AAC5D;;AAEA;EACE,6BAA6B;EAC7B,cAAc;EACd,qBAAqB;EACrB,6BAA6B;AAC/B;;AAEA;EACE,sBAAsB;EACtB,WAAW;EACX,gBAAgB;EAChB,kBAAkB;EAClB,UAAU;AACZ;;AAEA;;EAEE,kCAAkC;EAClC,eAAe;EACf,WAAW;EACX,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,WAAW;EACX,YAAY;AACd;;AAEA;EACE,WAAW;AACb;;AAEA;;;EAGE,WAAW;EACX,iBAAiB;EACjB,aAAa;AACf;;AAEA;EACE,yFAA4qB;AAC9qB;;AAEA;EACE,yFAAkzB;AACpzB;;AAEA;EACE,yDAA2qK;AAC7qK;;AAEA;;EAEE,wBAAwB;EACxB,SAAS;EACT,SAAS;EACT,eAAe;EACf,eAAe;EACf,gBAAgB;EAChB,kBAAkB;EAClB;;;;GAIC;EACD,gBAAgB;EAChB,cAAc;EACd,kBAAkB;EAClB,QAAQ;EACR,sCAAsC;EACtC,8CAA8C;EAC9C,aAAa;EACb,kBAAkB;EAClB,0BAA0B,EAAE,8CAA8C;AAC5E;;AAEA;EACE,yBAAyB;EACzB,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;;;;EAIE,yBAAyB;AAC3B;;AAEA;EACE,qCAAqC;AACvC;;;AAGA;EACE,sBAAsB;EACtB,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,kBAAkB;EAClB,YAAY;EACZ,YAAY;EACZ,SAAS;EACT,kBAAkB;AACpB;;AAEA;EACE,qCAAqC;EACrC,4BAA4B;EAC5B,kCAAkC;EAClC,qBAAqB;EACrB,WAAW;EACX,kBAAkB;EAClB,WAAW;EACX,QAAQ;EACR,QAAQ;EACR,SAAS;AACX;;AAEA;;EAEE,eAAe;AACjB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,2FAAivF;EACjvF,wBAAwB;EACxB,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,OAAO;EACP,iBAAiB;EACjB,QAAQ;EACR,eAAe;EACf,MAAM;EACN,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,8CAA8C;EAC9C,cAAc;EACd,kBAAkB;EAClB,kBAAkB;EAClB,QAAQ;EACR,2BAA2B;EAC3B,WAAW;AACb;;AAEA;EACE,6DAA25B;EAC35B,YAAY;EACZ,YAAY;EACZ,oBAAoB;EACpB,WAAW;AACb;;AAEA;EACE,oCAAoC;EACpC,kCAAkC;EAClC,kBAAkB;EAClB,eAAe;EACf,YAAY;EACZ,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,UAAU;EACV,SAAS;EACT,QAAQ;EACR,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,+BAA+B;EAC/B,wBAAwB;EACxB,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,OAAO;EACP,iBAAiB;EACjB,QAAQ;EACR,eAAe;EACf,MAAM;EACN,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,QAAQ;EACR,gCAAgC;EAChC,eAAe;EACf,YAAY;EACZ,aAAa;EACb,wBAAwB;EACxB,uBAAuB;EACvB,kCAAkC;EAClC,eAAe;EACf,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,WAAW;EACX,WAAW;EACX,sBAAsB;EACtB,aAAa;EACb,uBAAuB;EACvB,qBAAqB;EACrB,sBAAsB;AACxB;;AAEA;EACE,qBAAqB;EACrB,mBAAmB;EACnB,eAAe;EACf,WAAW;AACb;;AAEA;EACE,oBAAoB;EACpB,oBAAoB;EACpB,WAAW;EACX,WAAW;AACb;;AAEA;EACE,eAAe;EACf,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,UAAU;EACV,eAAe;EACf,WAAW;EACX,kBAAkB;EAClB,iBAAiB;EACjB,YAAY;EACZ,qBAAqB;EACrB,yCAAyC;EACzC,iCAAiC;EACjC,wEAAwE;EACxE,iBAAiB;AACnB;;AAEA;EACE,mEAAmE;AACrE;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;EACzB,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,kBAAkB;EAClB,oBAAoB;EACpB,sBAAsB;EACtB,SAAS;EACT,OAAO;EACP,QAAQ;EACR,MAAM;EACN,YAAY;AACd;;AAEA;EACE,oBAAoB;AACtB",sourcesContent:["/* .a-fullscreen means not embedded. */\nhtml.a-fullscreen {\n  bottom: 0;\n  left: 0;\n  position: fixed;\n  right: 0;\n  top: 0;\n}\n\nhtml.a-fullscreen body {\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n  padding: 0;\n  width: 100%;\n}\n\n/* Class is removed when doing <a-scene embedded>. */\nhtml.a-fullscreen .a-canvas {\n  width: 100% !important;\n  height: 100% !important;\n  top: 0 !important;\n  left: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  position: fixed !important;\n}\n\nhtml:not(.a-fullscreen) .a-enter-vr,\nhtml:not(.a-fullscreen) .a-enter-ar {\n  right: 5px;\n  bottom: 5px;\n}\n\nhtml:not(.a-fullscreen) .a-enter-ar {\n  right: 60px;\n}\n\n/* In chrome mobile the user agent stylesheet set it to white  */\n:-webkit-full-screen {\n  background-color: transparent;\n}\n\n.a-hidden {\n  display: none !important;\n}\n\n.a-canvas {\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n\n.a-canvas.a-grab-cursor:hover {\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n\ncanvas.a-canvas.a-mouse-cursor-hover:hover {\n  cursor: pointer;\n}\n\n.a-inspector-loader {\n  background-color: #ed3160;\n  position: fixed;\n  left: 3px;\n  top: 3px;\n  padding: 6px 10px;\n  color: #fff;\n  text-decoration: none;\n  font-size: 12px;\n  font-family: Roboto,sans-serif;\n  text-align: center;\n  z-index: 99999;\n  width: 204px;\n}\n\n/* Inspector loader animation */\n@keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }\n@keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }\n@keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }\n@-webkit-keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }\n@-webkit-keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }\n@-webkit-keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }\n\n.a-inspector-loader .dots span {\n  animation: dots-1 2s infinite steps(1);\n  -webkit-animation: dots-1 2s infinite steps(1);\n}\n\n.a-inspector-loader .dots span:first-child + span {\n  animation-name: dots-2;\n  -webkit-animation-name: dots-2;\n}\n\n.a-inspector-loader .dots span:first-child + span + span {\n  animation-name: dots-3;\n  -webkit-animation-name: dots-3;\n}\n\na-scene {\n  display: block;\n  position: relative;\n  height: 100%;\n  width: 100%;\n}\n\na-assets,\na-scene video,\na-scene img,\na-scene audio {\n  display: none;\n}\n\n.a-enter-vr-modal,\n.a-orientation-modal {\n  font-family: Consolas, Andale Mono, Courier New, monospace;\n}\n\n.a-enter-vr-modal a {\n  border-bottom: 1px solid #fff;\n  padding: 2px 0;\n  text-decoration: none;\n  transition: .1s color ease-in;\n}\n\n.a-enter-vr-modal a:hover {\n  background-color: #fff;\n  color: #111;\n  padding: 2px 4px;\n  position: relative;\n  left: -4px;\n}\n\n.a-enter-vr,\n.a-enter-ar {\n  font-family: sans-serif, monospace;\n  font-size: 13px;\n  width: 100%;\n  font-weight: 200;\n  line-height: 16px;\n  position: absolute;\n  right: 20px;\n  bottom: 20px;\n}\n\n.a-enter-ar {\n  right: 80px;\n}\n\n.a-enter-vr-button,\n.a-enter-vr-modal,\n.a-enter-vr-modal a {\n  color: #fff;\n  user-select: none;\n  outline: none;\n}\n\n.a-enter-vr-button {\n  background: rgba(0, 0, 0, 0.35) url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z' fill='%23fff'/%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z' fill='%23fff'/%3E%3C/svg%3E\") 50% 50% no-repeat;\n}\n\n.a-enter-ar-button {\n  background: rgba(0, 0, 0, 0.20) url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z' fill='%23fff'/%3E%3Cpath d='M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z' fill='%23fff'/%3E%3Cpath d='M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z' fill='%23fff'/%3E%3C/svg%3E\") 50% 50% no-repeat;\n}\n\n.a-enter-vr.fullscreen .a-enter-vr-button {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8' standalone='no'%3F%3E%3Csvg width='108' height='62' viewBox='0 0 108 62' version='1.1' id='svg320' sodipodi:docname='fullscreen-aframe.svg' xml:space='preserve' inkscape:version='1.2.1 (9c6d41e  2022-07-14)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3E%3Cdefs id='defs324' /%3E%3Csodipodi:namedview id='namedview322' pagecolor='%23ffffff' bordercolor='%23000000' borderopacity='0.25' inkscape:showpageshadow='2' inkscape:pageopacity='0.0' inkscape:pagecheckerboard='0' inkscape:deskcolor='%23d1d1d1' showgrid='false' inkscape:zoom='3.8064516' inkscape:cx='91.423729' inkscape:cy='-1.4449153' inkscape:window-width='1440' inkscape:window-height='847' inkscape:window-x='32' inkscape:window-y='25' inkscape:window-maximized='0' inkscape:current-layer='svg320' /%3E%3Ctitle id='title312'%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z' fill='%23fff' id='path314' style='fill:%23ffffff' /%3E%3Cg id='g356' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g358' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g360' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g362' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g364' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g366' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g368' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g370' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g372' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g374' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g376' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g378' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g380' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g382' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g384' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cmetadata id='metadata561'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d='m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4' id='path596' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4' id='path598' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4' id='path600' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616' id='path602' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3C/svg%3E\");\n}\n\n.a-enter-vr-button,\n.a-enter-ar-button {\n  background-size: 90% 90%;\n  border: 0;\n  bottom: 0;\n  cursor: pointer;\n  min-width: 58px;\n  min-height: 34px;\n  /* 1.74418604651 */\n  /*\n    In order to keep the aspect ratio when resizing\n    padding-top percentages are relative to the containing block's width.\n    http://stackoverflow.com/questions/12121090/responsively-change-div-size-keeping-aspect-ratio\n  */\n  padding-right: 0;\n  padding-top: 0;\n  position: absolute;\n  right: 0;\n  transition: background-color .05s ease;\n  -webkit-transition: background-color .05s ease;\n  z-index: 9999;\n  border-radius: 8px;\n  touch-action: manipulation; /* Prevent iOS double tap zoom on the button */\n}\n\n.a-enter-ar-button {\n  background-size: 100% 90%;\n  margin-right: 10px;\n  border-radius: 7px;\n}\n\n.a-enter-ar-button:active,\n.a-enter-ar-button:hover,\n.a-enter-vr-button:active,\n.a-enter-vr-button:hover {\n  background-color: #ef2d5e;\n}\n\n.a-enter-vr-button.resethover {\n  background-color: rgba(0, 0, 0, 0.35);\n}\n\n\n.a-enter-vr-modal {\n  background-color: #666;\n  border-radius: 0;\n  display: none;\n  min-height: 32px;\n  margin-right: 70px;\n  padding: 9px;\n  width: 280px;\n  right: 2%;\n  position: absolute;\n}\n\n.a-enter-vr-modal:after {\n  border-bottom: 10px solid transparent;\n  border-left: 10px solid #666;\n  border-top: 10px solid transparent;\n  display: inline-block;\n  content: '';\n  position: absolute;\n  right: -5px;\n  top: 5px;\n  width: 0;\n  height: 0;\n}\n\n.a-enter-vr-modal p,\n.a-enter-vr-modal a {\n  display: inline;\n}\n\n.a-enter-vr-modal p {\n  margin: 0;\n}\n\n.a-enter-vr-modal p:after {\n  content: ' ';\n}\n\n.a-orientation-modal {\n  background: rgba(244, 244, 244, 1) url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center no-repeat;\n  background-size: 50% 50%;\n  bottom: 0;\n  font-size: 14px;\n  font-weight: 600;\n  left: 0;\n  line-height: 20px;\n  right: 0;\n  position: fixed;\n  top: 0;\n  z-index: 9999999;\n}\n\n.a-orientation-modal:after {\n  color: #666;\n  content: \"Insert phone into Cardboard holder.\";\n  display: block;\n  position: absolute;\n  text-align: center;\n  top: 70%;\n  transform: translateY(-70%);\n  width: 100%;\n}\n\n.a-orientation-modal button {\n  background: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E) no-repeat;\n  border: none;\n  height: 50px;\n  text-indent: -9999px;\n  width: 50px;\n}\n\n.a-loader-title {\n  background-color: rgba(0, 0, 0, 0.6);\n  font-family: sans-serif, monospace;\n  text-align: center;\n  font-size: 20px;\n  height: 50px;\n  font-weight: 300;\n  line-height: 50px;\n  position: absolute;\n  right: 0px;\n  left: 0px;\n  top: 0px;\n  color: white;\n}\n\n.a-modal {\n  position: absolute;\n  background: rgba(0, 0, 0, 0.60);\n  background-size: 50% 50%;\n  bottom: 0;\n  font-size: 14px;\n  font-weight: 600;\n  left: 0;\n  line-height: 20px;\n  right: 0;\n  position: fixed;\n  top: 0;\n  z-index: 9999999;\n}\n\n.a-dialog {\n  position: relative;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 199995;\n  width: 300px;\n  height: 200px;\n  background-size: contain;\n  background-color: white;\n  font-family: sans-serif, monospace;\n  font-size: 20px;\n  border-radius: 3px;\n  padding: 6px;\n}\n\n.a-dialog-text-container {\n  width: 100%;\n  height: 70%;\n  align-self: flex-start;\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  flex-direction: column;\n}\n\n.a-dialog-text {\n  display: inline-block;\n  font-weight: normal;\n  font-size: 14pt;\n  margin: 8px;\n}\n\n.a-dialog-buttons-container {\n  display: inline-flex;\n  align-self: flex-end;\n  width: 100%;\n  height: 30%;\n}\n\n.a-dialog-button {\n  cursor: pointer;\n  align-self: center;\n  opacity: 0.9;\n  height: 80%;\n  width: 50%;\n  font-size: 12pt;\n  margin: 4px;\n  border-radius: 2px;\n  text-align:center;\n  border: none;\n  display: inline-block;\n  -webkit-transition: all 0.25s ease-in-out;\n  transition: all 0.25s ease-in-out;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.10), 0 1px 2px rgba(0, 0, 0, 0.20);\n  user-select: none;\n}\n\n.a-dialog-permission-button:hover {\n  box-shadow: 0 7px 14px rgba(0,0,0,0.20), 0 2px 2px rgba(0,0,0,0.20);\n}\n\n.a-dialog-allow-button {\n  background-color: #00ceff;\n}\n\n.a-dialog-deny-button {\n  background-color: #ff005b;\n}\n\n.a-dialog-ok-button {\n  background-color: #00ceff;\n  width: 100%;\n}\n\n.a-dom-overlay:not(.a-no-style) {\n  overflow: hidden;\n  position: absolute;\n  pointer-events: none;\n  box-sizing: border-box;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  top: 0;\n  padding: 1em;\n}\n\n.a-dom-overlay:not(.a-no-style)>* {\n  pointer-events: auto;\n}\n"],sourceRoot:""}]);var b=p},"./node_modules/css-loader/dist/cjs.js!./src/style/rStats.css":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n("./node_modules/css-loader/dist/runtime/sourceMaps.js"),i=n.n(r),a=n("./node_modules/css-loader/dist/runtime/api.js"),o=n.n(a)()(i());o.push([e.id,".rs-base {\n  background-color: #333;\n  color: #fafafa;\n  border-radius: 0;\n  font: 10px monospace;\n  left: 5px;\n  line-height: 1em;\n  opacity: 0.85;\n  overflow: hidden;\n  padding: 10px;\n  position: fixed;\n  top: 5px;\n  width: 300px;\n  z-index: 10000;\n}\n\n.rs-base div.hidden {\n  display: none;\n}\n\n.rs-base h1 {\n  color: #fff;\n  cursor: pointer;\n  font-size: 1.4em;\n  font-weight: 300;\n  margin: 0 0 5px;\n  padding: 0;\n}\n\n.rs-group {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-direction: column-reverse;\n  flex-direction: column-reverse;\n  margin-bottom: 5px;\n}\n\n.rs-group:last-child {\n  margin-bottom: 0;\n}\n\n.rs-counter-base {\n  align-items: center;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  height: 10px;\n  -webkit-justify-content: space-between;\n  justify-content: space-between;\n  margin: 2px 0;\n}\n\n.rs-counter-base.alarm {\n  color: #b70000;\n  text-shadow: 0 0 0 #b70000,\n               0 0 1px #fff,\n               0 0 1px #fff,\n               0 0 2px #fff,\n               0 0 2px #fff,\n               0 0 3px #fff,\n               0 0 3px #fff,\n               0 0 4px #fff,\n               0 0 4px #fff;\n}\n\n.rs-counter-id {\n  font-weight: 300;\n  -webkit-box-ordinal-group: 0;\n  -webkit-order: 0;\n  order: 0;\n  width: 54px;\n}\n\n.rs-counter-value {\n  font-weight: 300;\n  -webkit-box-ordinal-group: 1;\n  -webkit-order: 1;\n  order: 1;\n  text-align: right;\n  width: 35px;\n}\n\n.rs-canvas {\n  -webkit-box-ordinal-group: 2;\n  -webkit-order: 2;\n  order: 2;\n}\n\n@media (min-width: 480px) {\n  .rs-base {\n    left: 20px;\n    top: 20px;\n  }\n}\n","",{version:3,sources:["webpack://./src/style/rStats.css"],names:[],mappings:"AAAA;EACE,sBAAsB;EACtB,cAAc;EACd,gBAAgB;EAChB,oBAAoB;EACpB,SAAS;EACT,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,aAAa;EACb,eAAe;EACf,QAAQ;EACR,YAAY;EACZ,cAAc;AAChB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,WAAW;EACX,eAAe;EACf,gBAAgB;EAChB,gBAAgB;EAChB,eAAe;EACf,UAAU;AACZ;;AAEA;EACE,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,sCAAsC;EACtC,8BAA8B;EAC9B,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,mBAAmB;EACnB,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,YAAY;EACZ,sCAAsC;EACtC,8BAA8B;EAC9B,aAAa;AACf;;AAEA;EACE,cAAc;EACd;;;;;;;;2BAQyB;AAC3B;;AAEA;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;EACR,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;EACR,iBAAiB;EACjB,WAAW;AACb;;AAEA;EACE,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;AACV;;AAEA;EACE;IACE,UAAU;IACV,SAAS;EACX;AACF",sourcesContent:[".rs-base {\n  background-color: #333;\n  color: #fafafa;\n  border-radius: 0;\n  font: 10px monospace;\n  left: 5px;\n  line-height: 1em;\n  opacity: 0.85;\n  overflow: hidden;\n  padding: 10px;\n  position: fixed;\n  top: 5px;\n  width: 300px;\n  z-index: 10000;\n}\n\n.rs-base div.hidden {\n  display: none;\n}\n\n.rs-base h1 {\n  color: #fff;\n  cursor: pointer;\n  font-size: 1.4em;\n  font-weight: 300;\n  margin: 0 0 5px;\n  padding: 0;\n}\n\n.rs-group {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-direction: column-reverse;\n  flex-direction: column-reverse;\n  margin-bottom: 5px;\n}\n\n.rs-group:last-child {\n  margin-bottom: 0;\n}\n\n.rs-counter-base {\n  align-items: center;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  height: 10px;\n  -webkit-justify-content: space-between;\n  justify-content: space-between;\n  margin: 2px 0;\n}\n\n.rs-counter-base.alarm {\n  color: #b70000;\n  text-shadow: 0 0 0 #b70000,\n               0 0 1px #fff,\n               0 0 1px #fff,\n               0 0 2px #fff,\n               0 0 2px #fff,\n               0 0 3px #fff,\n               0 0 3px #fff,\n               0 0 4px #fff,\n               0 0 4px #fff;\n}\n\n.rs-counter-id {\n  font-weight: 300;\n  -webkit-box-ordinal-group: 0;\n  -webkit-order: 0;\n  order: 0;\n  width: 54px;\n}\n\n.rs-counter-value {\n  font-weight: 300;\n  -webkit-box-ordinal-group: 1;\n  -webkit-order: 1;\n  order: 1;\n  text-align: right;\n  width: 35px;\n}\n\n.rs-canvas {\n  -webkit-box-ordinal-group: 2;\n  -webkit-order: 2;\n  order: 2;\n}\n\n@media (min-width: 480px) {\n  .rs-base {\n    left: 20px;\n    top: 20px;\n  }\n}\n"],sourceRoot:""}]);var s=o},"./src/style/aframe.css":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n.n(r),a=n("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),o=n.n(a),s=n("./node_modules/style-loader/dist/runtime/insertBySelector.js"),u=n.n(s),l=n("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),c=n.n(l),h=n("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),d=n.n(h),g=n("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),p=n.n(g),f=n("./node_modules/css-loader/dist/cjs.js!./src/style/aframe.css"),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=u().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=d(),i()(f.default,m);var v=f.default&&f.default.locals?f.default.locals:void 0},"./src/style/rStats.css":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n.n(r),a=n("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),o=n.n(a),s=n("./node_modules/style-loader/dist/runtime/insertBySelector.js"),u=n.n(s),l=n("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),c=n.n(l),h=n("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),d=n.n(h),g=n("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),p=n.n(g),f=n("./node_modules/css-loader/dist/cjs.js!./src/style/rStats.css"),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=u().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=d(),i()(f.default,m);var v=f.default&&f.default.locals?f.default.locals:void 0},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":function(e){"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},o=[],s=0;s<e.length;s++){var u=e[s],l=r.base?u[0]+r.base:u[0],c=a[l]||0,h="".concat(l," ").concat(c);a[l]=c+1;var d=n(h),g={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==d)t[d].references++,t[d].updater(g);else{var p=i(g,r);r.byIndex=s,t.splice(s,0,{identifier:h,updater:p,references:1})}o.push(h)}return o}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var a=r(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<a.length;o++){var s=n(a[o]);t[s].references--}for(var u=r(e,i),l=0;l<a.length;l++){var c=n(a[l]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}a=u}}},"./node_modules/style-loader/dist/runtime/insertBySelector.js":function(e){"use strict";var t={};e.exports=function(e,n){var r=function(e){if("undefined"===typeof t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(r){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},"./node_modules/style-loader/dist/runtime/insertStyleElement.js":function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":function(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},"./node_modules/style-loader/dist/runtime/styleDomAPI.js":function(e){"use strict";e.exports=function(e){if("undefined"===typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i="undefined"!==typeof n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!==typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},"./node_modules/style-loader/dist/runtime/styleTagTransform.js":function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},"data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E":function(e){"use strict";e.exports="data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E":function(e){"use strict";e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E":function(e){"use strict";e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E":function(e){"use strict";e.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E":function(e){"use strict";e.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E"},"./node_modules/super-three/build/three.module.js":function(e,t,n){"use strict";var r;n.r(t),n.d(t,{ACESFilmicToneMapping:function(){return fe},AddEquation:function(){return F},AddOperation:function(){return ce},AdditiveAnimationBlendMode:function(){return jt},AdditiveBlending:function(){return D},AlphaFormat:function(){return qe},AlwaysDepth:function(){return te},AlwaysStencilFunc:function(){return mn},AmbientLight:function(){return fd},AmbientLightProbe:function(){return Rd},AnimationClip:function(){return Fh},AnimationLoader:function(){return Kh},AnimationMixer:function(){return ug},AnimationObjectGroup:function(){return ag},AnimationUtils:function(){return Ch},ArcCurve:function(){return Hl},ArrayCamera:function(){return mu},ArrowHelper:function(){return $g},Audio:function(){return Gd},AudioAnalyser:function(){return Xd},AudioContext:function(){return Id},AudioListener:function(){return Hd},AudioLoader:function(){return Td},AxesHelper:function(){return ep},BackSide:function(){return k},BasicDepthPacking:function(){return qt},BasicShadowMap:function(){return C},Bone:function(){return al},BooleanKeyframeTrack:function(){return Rh},Box2:function(){return bg},Box3:function(){return Cr},Box3Helper:function(){return Zg},BoxBufferGeometry:function(){return lp},BoxGeometry:function(){return _a},BoxHelper:function(){return Xg},BufferAttribute:function(){return zi},BufferGeometry:function(){return ia},BufferGeometryLoader:function(){return wd},ByteType:function(){return Ne},Cache:function(){return jh},Camera:function(){return ka},CameraHelper:function(){return Vg},CanvasTexture:function(){return Ul},CapsuleBufferGeometry:function(){return cp},CapsuleGeometry:function(){return lc},CatmullRomCurve3:function(){return Kl},CineonToneMapping:function(){return pe},CircleBufferGeometry:function(){return hp},CircleGeometry:function(){return cc},ClampToEdgeWrapping:function(){return _e},Clock:function(){return Od},Color:function(){return ur},ColorKeyframeTrack:function(){return Lh},ColorManagement:function(){return er},CompressedArrayTexture:function(){return Fl},CompressedTexture:function(){return Nl},CompressedTextureLoader:function(){return Xh},ConeBufferGeometry:function(){return dp},ConeGeometry:function(){return dc},CubeCamera:function(){return Ba},CubeReflectionMapping:function(){return ye},CubeRefractionMapping:function(){return Ae},CubeTexture:function(){return Da},CubeTextureLoader:function(){return Yh},CubeUVReflectionMapping:function(){return we},CubicBezierCurve:function(){return Jl},CubicBezierCurve3:function(){return $l},CubicInterpolant:function(){return Sh},CullFaceBack:function(){return w},CullFaceFront:function(){return E},CullFaceFrontBack:function(){return _},CullFaceNone:function(){return x},Curve:function(){return zl},CurvePath:function(){return oc},CustomBlending:function(){return N},CustomToneMapping:function(){return me},CylinderBufferGeometry:function(){return gp},CylinderGeometry:function(){return hc},Cylindrical:function(){return yg},Data3DTexture:function(){return yr},DataArrayTexture:function(){return mr},DataTexture:function(){return ol},DataTexture2DArray:function(){return sp},DataTexture3D:function(){return up},DataTextureLoader:function(){return Jh},DataUtils:function(){return ip},DecrementStencilOp:function(){return an},DecrementWrapStencilOp:function(){return sn},DefaultLoadingManager:function(){return Gh},DepthFormat:function(){return Je},DepthStencilFormat:function(){return $e},DepthTexture:function(){return wu},DirectionalLight:function(){return pd},DirectionalLightHelper:function(){return jg},DiscreteInterpolant:function(){return Th},DodecahedronBufferGeometry:function(){return pp},DodecahedronGeometry:function(){return pc},DoubleSide:function(){return R},DstAlphaFactor:function(){return X},DstColorFactor:function(){return Y},DynamicCopyUsage:function(){return _n},DynamicDrawUsage:function(){return yn},DynamicReadUsage:function(){return xn},EdgesGeometry:function(){return Ac},EllipseCurve:function(){return jl},EqualDepth:function(){return ie},EqualStencilFunc:function(){return hn},EquirectangularReflectionMapping:function(){return be},EquirectangularRefractionMapping:function(){return xe},Euler:function(){return ui},EventDispatcher:function(){return Tn},ExtrudeBufferGeometry:function(){return fp},ExtrudeGeometry:function(){return Xc},FileLoader:function(){return qh},Float16BufferAttribute:function(){return Ki},Float32BufferAttribute:function(){return Xi},Float64BufferAttribute:function(){return Zi},FloatType:function(){return He},Fog:function(){return ku},FogExp2:function(){return Tu},FramebufferTexture:function(){return Ol},FrontSide:function(){return T},Frustum:function(){return Ha},GLBufferAttribute:function(){return gg},GLSL1:function(){return Mn},GLSL3:function(){return Sn},GreaterDepth:function(){return oe},GreaterEqualDepth:function(){return ae},GreaterEqualStencilFunc:function(){return fn},GreaterStencilFunc:function(){return gn},GridHelper:function(){return Og},Group:function(){return fu},HalfFloatType:function(){return Ge},HemisphereLight:function(){return td},HemisphereLightHelper:function(){return Pg},HemisphereLightProbe:function(){return kd},IcosahedronBufferGeometry:function(){return mp},IcosahedronGeometry:function(){return Yc},ImageBitmapLoader:function(){return Sd},ImageLoader:function(){return Zh},ImageUtils:function(){return lr},ImmediateRenderObject:function(){return ap},IncrementStencilOp:function(){return rn},IncrementWrapStencilOp:function(){return on},InstancedBufferAttribute:function(){return cl},InstancedBufferGeometry:function(){return xd},InstancedInterleavedBuffer:function(){return dg},InstancedMesh:function(){return ml},Int16BufferAttribute:function(){return Vi},Int32BufferAttribute:function(){return Wi},Int8BufferAttribute:function(){return ji},IntType:function(){return ze},InterleavedBuffer:function(){return Lu},InterleavedBufferAttribute:function(){return Du},Interpolant:function(){return Mh},InterpolateDiscrete:function(){return Dt},InterpolateLinear:function(){return Pt},InterpolateSmooth:function(){return Ot},InvertStencilOp:function(){return un},KeepStencilOp:function(){return tn},KeyframeTrack:function(){return kh},LOD:function(){return Ju},LatheBufferGeometry:function(){return vp},LatheGeometry:function(){return uc},Layers:function(){return li},LessDepth:function(){return ne},LessEqualDepth:function(){return re},LessEqualStencilFunc:function(){return dn},LessStencilFunc:function(){return cn},Light:function(){return ed},LightProbe:function(){return yd},Line:function(){return El},Line3:function(){return Eg},LineBasicMaterial:function(){return vl},LineCurve:function(){return ec},LineCurve3:function(){return tc},LineDashedMaterial:function(){return yh},LineLoop:function(){return Sl},LineSegments:function(){return Ml},LinearEncoding:function(){return Qt},LinearFilter:function(){return Re},LinearInterpolant:function(){return Ih},LinearMipMapLinearFilter:function(){return Pe},LinearMipMapNearestFilter:function(){return Be},LinearMipmapLinearFilter:function(){return De},LinearMipmapNearestFilter:function(){return Le},LinearSRGBColorSpace:function(){return $t},LinearToneMapping:function(){return de},Loader:function(){return Vh},LoaderUtils:function(){return bd},LoadingManager:function(){return Hh},LoopOnce:function(){return Rt},LoopPingPong:function(){return Bt},LoopRepeat:function(){return Lt},LuminanceAlphaFormat:function(){return Ye},LuminanceFormat:function(){return Ze},MOUSE:function(){return A},Material:function(){return Oi},MaterialLoader:function(){return Ad},MathUtils:function(){return Gn},Matrix3:function(){return Qn},Matrix4:function(){return Jr},MaxEquation:function(){return H},Mesh:function(){return wa},MeshBasicMaterial:function(){return Ni},MeshDepthMaterial:function(){return su},MeshDistanceMaterial:function(){return uu},MeshLambertMaterial:function(){return mh},MeshMatcapMaterial:function(){return vh},MeshNormalMaterial:function(){return fh},MeshPhongMaterial:function(){return gh},MeshPhysicalMaterial:function(){return dh},MeshStandardMaterial:function(){return hh},MeshToonMaterial:function(){return ph},MinEquation:function(){return j},MirroredRepeatWrapping:function(){return Ce},MixOperation:function(){return le},MultiplyBlending:function(){return O},MultiplyOperation:function(){return ue},NearestFilter:function(){return Me},NearestMipMapLinearFilter:function(){return ke},NearestMipMapNearestFilter:function(){return Ie},NearestMipmapLinearFilter:function(){return Te},NearestMipmapNearestFilter:function(){return Se},NeverDepth:function(){return ee},NeverStencilFunc:function(){return ln},NoBlending:function(){return L},NoColorSpace:function(){return Yt},NoToneMapping:function(){return he},NormalAnimationBlendMode:function(){return zt},NormalBlending:function(){return B},NotEqualDepth:function(){return se},NotEqualStencilFunc:function(){return pn},NumberKeyframeTrack:function(){return Bh},Object3D:function(){return Ei},ObjectLoader:function(){return Ed},ObjectSpaceNormalMap:function(){return Zt},OctahedronBufferGeometry:function(){return yp},OctahedronGeometry:function(){return Jc},OneFactor:function(){return V},OneMinusDstAlphaFactor:function(){return Z},OneMinusDstColorFactor:function(){return J},OneMinusSrcAlphaFactor:function(){return K},OneMinusSrcColorFactor:function(){return W},OrthographicCamera:function(){return no},PCFShadowMap:function(){return M},PCFSoftShadowMap:function(){return S},PMREMGenerator:function(){return ho},Path:function(){return sc},PerspectiveCamera:function(){return Ra},Plane:function(){return Ua},PlaneBufferGeometry:function(){return Ap},PlaneGeometry:function(){return Qa},PlaneHelper:function(){return Yg},PointLight:function(){return dd},PointLightHelper:function(){return Rg},Points:function(){return Bl},PointsMaterial:function(){return Il},PolarGridHelper:function(){return Ng},PolyhedronBufferGeometry:function(){return bp},PolyhedronGeometry:function(){return gc},PositionalAudio:function(){return Kd},PropertyBinding:function(){return ig},PropertyMixer:function(){return Zd},QuadraticBezierCurve:function(){return nc},QuadraticBezierCurve3:function(){return rc},Quaternion:function(){return xr},QuaternionKeyframeTrack:function(){return Ph},QuaternionLinearInterpolant:function(){return Dh},REVISION:function(){return l},RGBADepthPacking:function(){return Kt},RGBAFormat:function(){return Xe},RGBAIntegerFormat:function(){return it},RGBA_ASTC_10x10_Format:function(){return St},RGBA_ASTC_10x5_Format:function(){return _t},RGBA_ASTC_10x6_Format:function(){return Ct},RGBA_ASTC_10x8_Format:function(){return Mt},RGBA_ASTC_12x10_Format:function(){return It},RGBA_ASTC_12x12_Format:function(){return Tt},RGBA_ASTC_4x4_Format:function(){return mt},RGBA_ASTC_5x4_Format:function(){return vt},RGBA_ASTC_5x5_Format:function(){return yt},RGBA_ASTC_6x5_Format:function(){return At},RGBA_ASTC_6x6_Format:function(){return bt},RGBA_ASTC_8x5_Format:function(){return xt},RGBA_ASTC_8x6_Format:function(){return wt},RGBA_ASTC_8x8_Format:function(){return Et},RGBA_BPTC_Format:function(){return kt},RGBA_ETC2_EAC_Format:function(){return ft},RGBA_PVRTC_2BPPV1_Format:function(){return dt},RGBA_PVRTC_4BPPV1_Format:function(){return ht},RGBA_S3TC_DXT1_Format:function(){return ot},RGBA_S3TC_DXT3_Format:function(){return st},RGBA_S3TC_DXT5_Format:function(){return ut},RGBFormat:function(){return Ke},RGB_ETC1_Format:function(){return gt},RGB_ETC2_Format:function(){return pt},RGB_PVRTC_2BPPV1_Format:function(){return ct},RGB_PVRTC_4BPPV1_Format:function(){return lt},RGB_S3TC_DXT1_Format:function(){return at},RGFormat:function(){return nt},RGIntegerFormat:function(){return rt},RawShaderMaterial:function(){return ch},Ray:function(){return Yr},Raycaster:function(){return pg},RectAreaLight:function(){return md},RedFormat:function(){return et},RedIntegerFormat:function(){return tt},ReinhardToneMapping:function(){return ge},RepeatWrapping:function(){return Ee},ReplaceStencilOp:function(){return nn},ReverseSubtractEquation:function(){return z},RingBufferGeometry:function(){return xp},RingGeometry:function(){return $c},SRGBColorSpace:function(){return Jt},Scene:function(){return Ru},ShaderChunk:function(){return Wa},ShaderLib:function(){return Ka},ShaderMaterial:function(){return Ta},ShadowMaterial:function(){return lh},Shape:function(){return bc},ShapeBufferGeometry:function(){return wp},ShapeGeometry:function(){return eh},ShapePath:function(){return tp},ShapeUtils:function(){return Wc},ShortType:function(){return Fe},Skeleton:function(){return ll},SkeletonHelper:function(){return Tg},SkinnedMesh:function(){return il},Source:function(){return cr},Sphere:function(){return Gr},SphereBufferGeometry:function(){return Ep},SphereGeometry:function(){return th},Spherical:function(){return vg},SphericalHarmonics3:function(){return vd},SplineCurve:function(){return ic},SpotLight:function(){return sd},SpotLightHelper:function(){return Cg},Sprite:function(){return Ku},SpriteMaterial:function(){return Pu},SrcAlphaFactor:function(){return q},SrcAlphaSaturateFactor:function(){return $},SrcColorFactor:function(){return Q},StaticCopyUsage:function(){return En},StaticDrawUsage:function(){return vn},StaticReadUsage:function(){return bn},StereoCamera:function(){return Pd},StreamCopyUsage:function(){return Cn},StreamDrawUsage:function(){return An},StreamReadUsage:function(){return wn},StringKeyframeTrack:function(){return Oh},SubtractEquation:function(){return U},SubtractiveBlending:function(){return P},TOUCH:function(){return b},TangentSpaceNormalMap:function(){return Xt},TetrahedronBufferGeometry:function(){return _p},TetrahedronGeometry:function(){return nh},Texture:function(){return gr},TextureLoader:function(){return $h},TorusBufferGeometry:function(){return Cp},TorusGeometry:function(){return rh},TorusKnotBufferGeometry:function(){return Mp},TorusKnotGeometry:function(){return ih},Triangle:function(){return Di},TriangleFanDrawMode:function(){return Vt},TriangleStripDrawMode:function(){return Gt},TrianglesDrawMode:function(){return Ht},TubeBufferGeometry:function(){return Sp},TubeGeometry:function(){return ah},UVMapping:function(){return ve},Uint16BufferAttribute:function(){return Qi},Uint32BufferAttribute:function(){return qi},Uint8BufferAttribute:function(){return Hi},Uint8ClampedBufferAttribute:function(){return Gi},Uniform:function(){return lg},UniformsGroup:function(){return hg},UniformsLib:function(){return qa},UniformsUtils:function(){return Ia},UnsignedByteType:function(){return Oe},UnsignedInt248Type:function(){return We},UnsignedIntType:function(){return je},UnsignedShort4444Type:function(){return Ve},UnsignedShort5551Type:function(){return Qe},UnsignedShortType:function(){return Ue},VSMShadowMap:function(){return I},Vector2:function(){return Vn},Vector3:function(){return wr},Vector4:function(){return pr},VectorKeyframeTrack:function(){return Nh},VideoTexture:function(){return Pl},WebGL1Renderer:function(){return Su},WebGL3DRenderTarget:function(){return Ar},WebGLArrayRenderTarget:function(){return vr},WebGLCubeRenderTarget:function(){return Pa},WebGLMultipleRenderTargets:function(){return br},WebGLMultisampleRenderTarget:function(){return op},WebGLRenderTarget:function(){return fr},WebGLRenderer:function(){return Mu},WebGLUtils:function(){return pu},WireframeGeometry:function(){return oh},WrapAroundEnding:function(){return Ut},ZeroCurvatureEnding:function(){return Nt},ZeroFactor:function(){return G},ZeroSlopeEnding:function(){return Ft},ZeroStencilOp:function(){return en},_SRGBAFormat:function(){return In},sRGBEncoding:function(){return Wt}});var l="147",A={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},b={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},x=0,w=1,E=2,_=3,C=0,M=1,S=2,I=3,T=0,k=1,R=2,L=0,B=1,D=2,P=3,O=4,N=5,F=100,U=101,z=102,j=103,H=104,G=200,V=201,Q=202,W=203,q=204,K=205,X=206,Z=207,Y=208,J=209,$=210,ee=0,te=1,ne=2,re=3,ie=4,ae=5,oe=6,se=7,ue=0,le=1,ce=2,he=0,de=1,ge=2,pe=3,fe=4,me=5,ve=300,ye=301,Ae=302,be=303,xe=304,we=306,Ee=1e3,_e=1001,Ce=1002,Me=1003,Se=1004,Ie=1004,Te=1005,ke=1005,Re=1006,Le=1007,Be=1007,De=1008,Pe=1008,Oe=1009,Ne=1010,Fe=1011,Ue=1012,ze=1013,je=1014,He=1015,Ge=1016,Ve=1017,Qe=1018,We=1020,qe=1021,Ke=1022,Xe=1023,Ze=1024,Ye=1025,Je=1026,$e=1027,et=1028,tt=1029,nt=1030,rt=1031,it=1033,at=33776,ot=33777,st=33778,ut=33779,lt=35840,ct=35841,ht=35842,dt=35843,gt=36196,pt=37492,ft=37496,mt=37808,vt=37809,yt=37810,At=37811,bt=37812,xt=37813,wt=37814,Et=37815,_t=37816,Ct=37817,Mt=37818,St=37819,It=37820,Tt=37821,kt=36492,Rt=2200,Lt=2201,Bt=2202,Dt=2300,Pt=2301,Ot=2302,Nt=2400,Ft=2401,Ut=2402,zt=2500,jt=2501,Ht=0,Gt=1,Vt=2,Qt=3e3,Wt=3001,qt=3200,Kt=3201,Xt=0,Zt=1,Yt="",Jt="srgb",$t="srgb-linear",en=0,tn=7680,nn=7681,rn=7682,an=7683,on=34055,sn=34056,un=5386,ln=512,cn=513,hn=514,dn=515,gn=516,pn=517,fn=518,mn=519,vn=35044,yn=35048,An=35040,bn=35045,xn=35049,wn=35041,En=35046,_n=35050,Cn=35042,Mn="100",Sn="300 es",In=1035,Tn=function(){function e(){p(this,e)}return f(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),kn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Rn=1234567,Ln=Math.PI/180,Bn=180/Math.PI;function Dn(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(kn[255&e]+kn[e>>8&255]+kn[e>>16&255]+kn[e>>24&255]+"-"+kn[255&t]+kn[t>>8&255]+"-"+kn[t>>16&15|64]+kn[t>>24&255]+"-"+kn[63&n|128]+kn[n>>8&255]+"-"+kn[n>>16&255]+kn[n>>24&255]+kn[255&r]+kn[r>>8&255]+kn[r>>16&255]+kn[r>>24&255]).toLowerCase()}function Pn(e,t,n){return Math.max(t,Math.min(n,e))}function On(e,t){return(e%t+t)%t}function Nn(e,t,n){return(1-n)*e+n*t}function Fn(e){return 0===(e&e-1)&&0!==e}function Un(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function zn(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function jn(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Hn(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var Gn=Object.freeze({__proto__:null,DEG2RAD:Ln,RAD2DEG:Bn,generateUUID:Dn,clamp:Pn,euclideanModulo:On,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Nn,damp:function(e,t,n,r){return Nn(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(On(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Rn=e);var t=Rn+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Ln},radToDeg:function(e){return e*Bn},isPowerOfTwo:Fn,ceilPowerOfTwo:Un,floorPowerOfTwo:zn,setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2),u=o(n/2),l=a((t+r)/2),c=o((t+r)/2),h=a((t-r)/2),d=o((t-r)/2),g=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*c,u*h,u*d,s*l);break;case"YZY":e.set(u*d,s*c,u*h,s*l);break;case"ZXZ":e.set(u*h,u*d,s*c,s*l);break;case"XZX":e.set(s*c,u*p,u*g,s*l);break;case"YXY":e.set(u*g,s*c,u*p,s*l);break;case"ZYZ":e.set(u*p,u*g,s*c,s*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:Hn,denormalize:jn}),Vn=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n}return f(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:e,value:u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),Qn=function(){function e(){p(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}return f(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u){var l=this.elements;return l[0]=e,l[1]=r,l[2]=o,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=a,l[8]=u,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],u=n[1],l=n[4],c=n[7],h=n[2],d=n[5],g=n[8],p=r[0],f=r[3],m=r[6],v=r[1],y=r[4],A=r[7],b=r[2],x=r[5],w=r[8];return i[0]=a*p+o*v+s*b,i[3]=a*f+o*y+s*x,i[6]=a*m+o*A+s*w,i[1]=u*p+l*v+c*b,i[4]=u*f+l*y+c*x,i[7]=u*m+l*A+c*w,i[2]=h*p+d*v+g*b,i[5]=h*f+d*y+g*x,i[8]=h*m+d*A+g*w,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*a*l-t*o*u-n*i*l+n*o*s+r*i*u-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=l*a-o*u,h=o*s-l*i,d=u*i-a*s,g=t*c+n*h+r*d;if(0===g)return this.set(0,0,0,0,0,0,0,0,0);var p=1/g;return e[0]=c*p,e[1]=(r*u-l*n)*p,e[2]=(o*n-r*a)*p,e[3]=h*p,e[4]=(l*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=d*p,e[7]=(n*s-u*t)*p,e[8]=(a*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),u=Math.sin(i);return this.set(n*s,n*u,-n*(s*a+u*o)+a+e,-r*u,r*s,-r*(-u*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(Wn.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(Wn.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(Wn.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}(),Wn=new Qn;function qn(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var Kn={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Xn(e,t){return new Kn[e](t)}function Zn(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Yn(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Jn(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var $n=(s(r={},Jt,s({},$t,Yn)),s(r,$t,s({},Jt,Jn)),r),er={legacyMode:!0,get workingColorSpace(){return $t},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(this.legacyMode||t===n||!t||!n)return e;if($n[t]&&void 0!==$n[t][n]){var r=$n[t][n];return e.r=r(e.r),e.g=r(e.g),e.b=r(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},tr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},nr={r:0,g:0,b:0},rr={h:0,s:0,l:0},ir={h:0,s:0,l:0};function ar(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function or(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var sr,ur=function(e){function t(e,n,r){return p(this,t),this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===n&&void 0===r?this.set(e):this.setRGB(e,n,r)}return f(t,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jt;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,er.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:er.workingColorSpace;return this.r=e,this.g=t,this.b=n,er.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:er.workingColorSpace;if(e=On(e,1),t=Pn(t,0,1),n=Pn(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,a=2*n-i;this.r=ar(a,i,e+1/3),this.g=ar(a,i,e),this.b=ar(a,i,e-1/3)}return er.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jt;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var i,a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,er.toWorkingColorSpace(this,n),r(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,er.toWorkingColorSpace(this,n),r(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){var s=parseFloat(i[1])/360,u=parseFloat(i[2])/100,l=parseFloat(i[3])/100;return r(i[4]),this.setHSL(s,u,l,n)}}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var c=t[1],h=c.length;if(3===h)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,er.toWorkingColorSpace(this,n),this;if(6===h)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,er.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jt,n=tr[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=Yn(e.r),this.g=Yn(e.g),this.b=Yn(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=Jn(e.r),this.g=Jn(e.g),this.b=Jn(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt;return er.fromWorkingColorSpace(or(this,nr),e),Pn(255*nr.r,0,255)<<16^Pn(255*nr.g,0,255)<<8^Pn(255*nr.b,0,255)<<0}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:er.workingColorSpace;er.fromWorkingColorSpace(or(this,nr),t);var n,r,i=nr.r,a=nr.g,o=nr.b,s=Math.max(i,a,o),u=Math.min(i,a,o),l=(u+s)/2;if(u===s)n=0,r=0;else{var c=s-u;switch(r=l<=.5?c/(s+u):c/(2-s-u),s){case i:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-i)/c+2;break;case o:n=(i-a)/c+4}n/=6}return e.h=n,e.s=r,e.l=l,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:er.workingColorSpace;return er.fromWorkingColorSpace(or(this,nr),t),e.r=nr.r,e.g=nr.g,e.b=nr.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt;return er.fromWorkingColorSpace(or(this,nr),e),e!==Jt?"color(".concat(e," ").concat(nr.r," ").concat(nr.g," ").concat(nr.b,")"):"rgb(".concat(255*nr.r|0,",").concat(255*nr.g|0,",").concat(255*nr.b|0,")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(rr),rr.h+=e,rr.s+=t,rr.l+=n,this.setHSL(rr.h,rr.s,rr.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(rr),e.getHSL(ir);var n=Nn(rr.h,ir.h,t),r=Nn(rr.s,ir.s,t),i=Nn(rr.l,ir.l,t);return this.setHSL(n,r,i),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:e,value:u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator);ur.NAMES=tr;var lr=function(){function e(){p(this,e)}return f(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===sr&&(sr=Zn("canvas")),sr.width=e.width,sr.height=e.height;var n=sr.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=sr}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=Zn("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,a=0;a<i.length;a++)i[a]=255*Yn(i[a]/255);return n.putImageData(r,0,0),t}if(e.data){for(var o=e.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*Yn(o[s]/255)):o[s]=Yn(o[s]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),cr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;p(this,e),this.isSource=!0,this.uuid=Dn(),this.data=t,this.version=0}return f(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(hr(r[a].image)):i.push(hr(r[a]))}else i=hr(r);n.url=i}return t||(e.images[this.uuid]=n),n}}]),e}();function hr(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?lr.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var dr=0,gr=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_e,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_e,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Re,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:De,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Xe,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Oe,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.DEFAULT_ANISOTROPY,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Qt;return p(this,n),(e=t.call(this)).isTexture=!0,Object.defineProperty(m(e),"id",{value:dr++}),e.uuid=Dn(),e.name="",e.source=new cr(r),e.mipmaps=[],e.mapping=i,e.wrapS=a,e.wrapT=o,e.magFilter=s,e.minFilter=u,e.anisotropy=h,e.format=l,e.internalFormat=null,e.type=c,e.offset=new Vn(0,0),e.repeat=new Vn(1,1),e.center=new Vn(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new Qn,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=d,e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return f(n,[{key:"image",get:function(){return this.source.data},set:function(e){this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(this.mapping!==ve)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ee:e.x=e.x-Math.floor(e.x);break;case _e:e.x=e.x<0?0:1;break;case Ce:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Ee:e.y=e.y-Math.floor(e.y);break;case _e:e.y=e.y<0?0:1;break;case Ce:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}]),n}(Tn);gr.DEFAULT_IMAGE=null,gr.DEFAULT_MAPPING=ve,gr.DEFAULT_ANISOTROPY=1;var pr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;p(this,t),t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}return f(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=.01,o=.1,s=e.elements,u=s[0],l=s[4],c=s[8],h=s[1],d=s[5],g=s[9],p=s[2],f=s[6],m=s[10];if(Math.abs(l-h)<a&&Math.abs(c-p)<a&&Math.abs(g-f)<a){if(Math.abs(l+h)<o&&Math.abs(c+p)<o&&Math.abs(g+f)<o&&Math.abs(u+d+m-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var v=(u+1)/2,y=(d+1)/2,A=(m+1)/2,b=(l+h)/4,x=(c+p)/4,w=(g+f)/4;return v>y&&v>A?v<a?(n=0,r=.707106781,i=.707106781):(r=b/(n=Math.sqrt(v)),i=x/n):y>A?y<a?(n=.707106781,r=0,i=.707106781):(n=b/(r=Math.sqrt(y)),i=w/r):A<a?(n=.707106781,r=.707106781,i=0):(n=x/(i=Math.sqrt(A)),r=w/i),this.set(n,r,i,t),this}var E=Math.sqrt((f-g)*(f-g)+(c-p)*(c-p)+(h-l)*(h-l));return Math.abs(E)<.001&&(E=1),this.x=(f-g)/E,this.y=(c-p)/E,this.z=(h-l)/E,this.w=Math.acos((u+d+m-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:e,value:u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),fr=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p(this,n),(e=t.call(this)).isWebGLRenderTarget=!0,e.width=r,e.height=i,e.depth=1,e.scissor=new pr(0,0,r,i),e.scissorTest=!1,e.viewport=new pr(0,0,r,i);var o={width:r,height:i,depth:1};return e.texture=new gr(o,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),e.texture.isRenderTargetTexture=!0,e.texture.flipY=!1,e.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,e.texture.internalFormat=void 0!==a.internalFormat?a.internalFormat:null,e.texture.minFilter=void 0!==a.minFilter?a.minFilter:Re,e.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,e.stencilBuffer=void 0!==a.stencilBuffer&&a.stencilBuffer,e.depthTexture=void 0!==a.depthTexture?a.depthTexture:null,e.samples=void 0!==a.samples?a.samples:0,e}return f(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;var t=Object.assign({},e.texture.image);return this.texture.source=new cr(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Tn),mr=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return p(this,n),(e=t.call(this,null)).isDataArrayTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=Me,e.minFilter=Me,e.wrapR=_e,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return f(n)}(gr),vr=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return p(this,n),(e=t.call(this,r,i)).isWebGLArrayRenderTarget=!0,e.depth=a,e.texture=new mr(null,r,i,a),e.texture.isRenderTargetTexture=!0,e}return f(n)}(fr),yr=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return p(this,n),(e=t.call(this,null)).isData3DTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=Me,e.minFilter=Me,e.wrapR=_e,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return f(n)}(gr),Ar=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return p(this,n),(e=t.call(this,r,i)).isWebGL3DRenderTarget=!0,e.depth=a,e.texture=new yr(null,r,i,a),e.texture.isRenderTargetTexture=!0,e}return f(n)}(fr),br=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};p(this,n),(e=t.call(this,r,i,o)).isWebGLMultipleRenderTargets=!0;var s=e.texture;e.texture=[];for(var u=0;u<a;u++)e.texture[u]=s.clone(),e.texture[u].isRenderTargetTexture=!0;return e}return f(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(var r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}},{key:"copy",value:function(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(var t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}]),n}(fr),xr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;p(this,t),this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}return f(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,u=o(n/2),l=o(r/2),c=o(i/2),h=s(n/2),d=s(r/2),g=s(i/2);switch(a){case"XYZ":this._x=h*l*c+u*d*g,this._y=u*d*c-h*l*g,this._z=u*l*g+h*d*c,this._w=u*l*c-h*d*g;break;case"YXZ":this._x=h*l*c+u*d*g,this._y=u*d*c-h*l*g,this._z=u*l*g-h*d*c,this._w=u*l*c+h*d*g;break;case"ZXY":this._x=h*l*c-u*d*g,this._y=u*d*c+h*l*g,this._z=u*l*g+h*d*c,this._w=u*l*c-h*d*g;break;case"ZYX":this._x=h*l*c-u*d*g,this._y=u*d*c+h*l*g,this._z=u*l*g-h*d*c,this._w=u*l*c+h*d*g;break;case"YZX":this._x=h*l*c+u*d*g,this._y=u*d*c+h*l*g,this._z=u*l*g-h*d*c,this._w=u*l*c-h*d*g;break;case"XZY":this._x=h*l*c-u*d*g,this._y=u*d*c-h*l*g,this._z=u*l*g+h*d*c,this._w=u*l*c+h*d*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],u=t[2],l=t[6],c=t[10],h=n+o+c;if(h>0){var d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(l-s)*d,this._y=(i-u)*d,this._z=(a-r)*d}else if(n>o&&n>c){var g=2*Math.sqrt(1+n-o-c);this._w=(l-s)/g,this._x=.25*g,this._y=(r+a)/g,this._z=(i+u)/g}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(i-u)/p,this._x=(r+a)/p,this._y=.25*p,this._z=(s+l)/p}else{var f=2*Math.sqrt(1+c-n-o);this._w=(a-r)/f,this._x=(i+u)/f,this._y=(s+l)/f,this._z=.25*f}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(Pn(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,u=t._z,l=t._w;return this._x=n*l+a*o+r*u-i*s,this._y=r*l+a*s+i*o-n*u,this._z=i*l+a*u+n*s-r*o,this._w=a*l-n*o-r*s-i*u,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var u=1-t;return this._w=u*a+t*this._w,this._x=u*n+t*this._x,this._y=u*r+t*this._y,this._z=u*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),c=Math.atan2(l,o),h=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=a*h+this._w*d,this._x=n*h+this._x*d,this._y=r*h+this._y*d,this._z=i*h+this._z*d,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:e,value:u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],u=n[r+1],l=n[r+2],c=n[r+3],h=i[a+0],d=i[a+1],g=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=u,e[t+2]=l,void(e[t+3]=c);if(1===o)return e[t+0]=h,e[t+1]=d,e[t+2]=g,void(e[t+3]=p);if(c!==p||s!==h||u!==d||l!==g){var f=1-o,m=s*h+u*d+l*g+c*p,v=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var A=Math.sqrt(y),b=Math.atan2(A,m*v);f=Math.sin(f*b)/A,o=Math.sin(o*b)/A}var x=o*v;if(s=s*f+h*x,u=u*f+d*x,l=l*f+g*x,c=c*f+p*x,f===1-o){var w=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=w,u*=w,l*=w,c*=w}}e[t]=s,e[t+1]=u,e[t+2]=l,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],u=n[r+2],l=n[r+3],c=i[a],h=i[a+1],d=i[a+2],g=i[a+3];return e[t]=o*g+l*c+s*d-u*h,e[t+1]=s*g+l*h+u*c-o*d,e[t+2]=u*g+l*d+o*h-s*c,e[t+3]=l*g-o*c-s*h-u*d,e}}]),t}(Symbol.iterator),wr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;p(this,t),t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}return f(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(_r.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(_r.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,u=s*t+a*r-o*n,l=s*n+o*t-i*r,c=s*r+i*n-a*t,h=-i*t-a*n-o*r;return this.x=u*s+h*-i+l*-o-c*-a,this.y=l*s+h*-a+c*-i-u*-o,this.z=c*s+h*-o+u*-a-l*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return Er.copy(this).projectOnVector(e),this.sub(Er)}},{key:"reflect",value:function(e){return this.sub(Er.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Pn(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:e,value:u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),Er=new wr,_r=new xr,Cr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wr(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wr(-1/0,-1/0,-1/0);p(this,e),this.isBox3=!0,this.min=t,this.max=n}return f(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,u=e.length;s<u;s+=3){var l=e[s],c=e[s+1],h=e[s+2];l<t&&(t=l),c<n&&(n=c),h<r&&(r=h),l>i&&(i=l),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,u=e.count;s<u;s++){var l=e.getX(s),c=e.getY(s),h=e.getZ(s);l<t&&(t=l),c<n&&(n=c),h<r&&(r=h),l>i&&(i=l),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Sr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);var n=e.geometry;if(void 0!==n)if(t&&void 0!=n.attributes&&void 0!==n.attributes.position)for(var r=n.attributes.position,i=0,a=r.count;i<a;i++)Sr.fromBufferAttribute(r,i).applyMatrix4(e.matrixWorld),this.expandByPoint(Sr);else null===n.boundingBox&&n.computeBoundingBox(),Ir.copy(n.boundingBox),Ir.applyMatrix4(e.matrixWorld),this.union(Ir);for(var o=e.children,s=0,u=o.length;s<u;s++)this.expandByObject(o[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,Sr),Sr.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(Pr),Or.subVectors(this.max,Pr),Tr.subVectors(e.a,Pr),kr.subVectors(e.b,Pr),Rr.subVectors(e.c,Pr),Lr.subVectors(kr,Tr),Br.subVectors(Rr,kr),Dr.subVectors(Tr,Rr);var t=[0,-Lr.z,Lr.y,0,-Br.z,Br.y,0,-Dr.z,Dr.y,Lr.z,0,-Lr.x,Br.z,0,-Br.x,Dr.z,0,-Dr.x,-Lr.y,Lr.x,0,-Br.y,Br.x,0,-Dr.y,Dr.x,0];return!!Ur(t,Tr,kr,Rr,Or)&&!!Ur(t=[1,0,0,0,1,0,0,0,1],Tr,kr,Rr,Or)&&(Nr.crossVectors(Lr,Br),Ur(t=[Nr.x,Nr.y,Nr.z],Tr,kr,Rr,Or))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return Sr.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(Sr).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(Mr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Mr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Mr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Mr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Mr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Mr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Mr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Mr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Mr)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),Mr=[new wr,new wr,new wr,new wr,new wr,new wr,new wr,new wr],Sr=new wr,Ir=new Cr,Tr=new wr,kr=new wr,Rr=new wr,Lr=new wr,Br=new wr,Dr=new wr,Pr=new wr,Or=new wr,Nr=new wr,Fr=new wr;function Ur(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){Fr.fromArray(e,a);var s=i.x*Math.abs(Fr.x)+i.y*Math.abs(Fr.y)+i.z*Math.abs(Fr.z),u=t.dot(Fr),l=n.dot(Fr),c=r.dot(Fr);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>s)return!1}return!0}var zr=new Cr,jr=new wr,Hr=new wr,Gr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;p(this,e),this.center=t,this.radius=n}return f(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):zr.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;jr.subVectors(e,this.center);var t=jr.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.addScaledVector(jr,r/n),this.radius+=r}return this}},{key:"union",value:function(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Hr.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(jr.copy(e.center).add(Hr)),this.expandByPoint(jr.copy(e.center).sub(Hr))),this)}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Vr=new wr,Qr=new wr,Wr=new wr,qr=new wr,Kr=new wr,Xr=new wr,Zr=new wr,Yr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wr(0,0,-1);p(this,e),this.origin=t,this.direction=n}return f(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,Vr)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=Vr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Vr.copy(this.direction).multiplyScalar(t).add(this.origin),Vr.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){Qr.copy(e).add(t).multiplyScalar(.5),Wr.copy(t).sub(e).normalize(),qr.copy(this.origin).sub(Qr);var i,a,o,s,u=.5*e.distanceTo(t),l=-this.direction.dot(Wr),c=qr.dot(this.direction),h=-qr.dot(Wr),d=qr.lengthSq(),g=Math.abs(1-l*l);if(g>0)if(a=l*c-h,s=u*g,(i=l*h-c)>=0)if(a>=-s)if(a<=s){var p=1/g;o=(i*=p)*(i+l*(a*=p)+2*c)+a*(l*i+a+2*h)+d}else a=u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*h)+d;else a=-u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*h)+d;else a<=-s?o=-(i=Math.max(0,-(-l*u+c)))*i+(a=i>0?-u:Math.min(Math.max(-u,-h),u))*(a+2*h)+d:a<=s?(i=0,o=(a=Math.min(Math.max(-u,-h),u))*(a+2*h)+d):o=-(i=Math.max(0,-(l*u+c)))*i+(a=i>0?u:Math.min(Math.max(-u,-h),u))*(a+2*h)+d;else a=l>0?-u:u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*h)+d;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(Wr).multiplyScalar(a).add(Qr),o}},{key:"intersectSphere",value:function(e,t){Vr.subVectors(e.center,this.origin);var n=Vr.dot(this.direction),r=Vr.dot(Vr)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,h=this.origin;return u>=0?(n=(e.min.x-h.x)*u,r=(e.max.x-h.x)*u):(n=(e.max.x-h.x)*u,r=(e.min.x-h.x)*u),l>=0?(i=(e.min.y-h.y)*l,a=(e.max.y-h.y)*l):(i=(e.max.y-h.y)*l,a=(e.min.y-h.y)*l),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),c>=0?(o=(e.min.z-h.z)*c,s=(e.max.z-h.z)*c):(o=(e.max.z-h.z)*c,s=(e.min.z-h.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,Vr)}},{key:"intersectTriangle",value:function(e,t,n,r,i){Kr.subVectors(t,e),Xr.subVectors(n,e),Zr.crossVectors(Kr,Xr);var a,o=this.direction.dot(Zr);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}qr.subVectors(this.origin,e);var s=a*this.direction.dot(Xr.crossVectors(qr,Xr));if(s<0)return null;var u=a*this.direction.dot(Kr.cross(qr));if(u<0)return null;if(s+u>o)return null;var l=-a*qr.dot(Zr);return l<0?null:this.at(l/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Jr=function(){function e(){p(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}return f(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u,l,c,h,d,g,p,f){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=o,m[13]=s,m[2]=u,m[6]=l,m[10]=c,m[14]=h,m[3]=d,m[7]=g,m[11]=p,m[15]=f,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/$r.setFromMatrixColumn(e,0).length(),i=1/$r.setFromMatrixColumn(e,1).length(),a=1/$r.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),u=Math.sin(r),l=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var h=a*l,d=a*c,g=o*l,p=o*c;t[0]=s*l,t[4]=-s*c,t[8]=u,t[1]=d+g*u,t[5]=h-p*u,t[9]=-o*s,t[2]=p-h*u,t[6]=g+d*u,t[10]=a*s}else if("YXZ"===e.order){var f=s*l,m=s*c,v=u*l,y=u*c;t[0]=f+y*o,t[4]=v*o-m,t[8]=a*u,t[1]=a*c,t[5]=a*l,t[9]=-o,t[2]=m*o-v,t[6]=y+f*o,t[10]=a*s}else if("ZXY"===e.order){var A=s*l,b=s*c,x=u*l,w=u*c;t[0]=A-w*o,t[4]=-a*c,t[8]=x+b*o,t[1]=b+x*o,t[5]=a*l,t[9]=w-A*o,t[2]=-a*u,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var E=a*l,_=a*c,C=o*l,M=o*c;t[0]=s*l,t[4]=C*u-_,t[8]=E*u+M,t[1]=s*c,t[5]=M*u+E,t[9]=_*u-C,t[2]=-u,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var S=a*s,I=a*u,T=o*s,k=o*u;t[0]=s*l,t[4]=k-S*c,t[8]=T*c+I,t[1]=c,t[5]=a*l,t[9]=-o*l,t[2]=-u*l,t[6]=I*c+T,t[10]=S-k*c}else if("XZY"===e.order){var R=a*s,L=a*u,B=o*s,D=o*u;t[0]=s*l,t[4]=-c,t[8]=u*l,t[1]=R*c+D,t[5]=a*l,t[9]=L*c-B,t[2]=B*c-L,t[6]=o*l,t[10]=D*c+R}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(ti,e,ni)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return ai.subVectors(e,t),0===ai.lengthSq()&&(ai.z=1),ai.normalize(),ri.crossVectors(n,ai),0===ri.lengthSq()&&(1===Math.abs(n.z)?ai.x+=1e-4:ai.z+=1e-4,ai.normalize(),ri.crossVectors(n,ai)),ri.normalize(),ii.crossVectors(ai,ri),r[0]=ri.x,r[4]=ii.x,r[8]=ai.x,r[1]=ri.y,r[5]=ii.y,r[9]=ai.y,r[2]=ri.z,r[6]=ii.z,r[10]=ai.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],u=n[12],l=n[1],c=n[5],h=n[9],d=n[13],g=n[2],p=n[6],f=n[10],m=n[14],v=n[3],y=n[7],A=n[11],b=n[15],x=r[0],w=r[4],E=r[8],_=r[12],C=r[1],M=r[5],S=r[9],I=r[13],T=r[2],k=r[6],R=r[10],L=r[14],B=r[3],D=r[7],P=r[11],O=r[15];return i[0]=a*x+o*C+s*T+u*B,i[4]=a*w+o*M+s*k+u*D,i[8]=a*E+o*S+s*R+u*P,i[12]=a*_+o*I+s*L+u*O,i[1]=l*x+c*C+h*T+d*B,i[5]=l*w+c*M+h*k+d*D,i[9]=l*E+c*S+h*R+d*P,i[13]=l*_+c*I+h*L+d*O,i[2]=g*x+p*C+f*T+m*B,i[6]=g*w+p*M+f*k+m*D,i[10]=g*E+p*S+f*R+m*P,i[14]=g*_+p*I+f*L+m*O,i[3]=v*x+y*C+A*T+b*B,i[7]=v*w+y*M+A*k+b*D,i[11]=v*E+y*S+A*R+b*P,i[15]=v*_+y*I+A*L+b*O,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],u=e[13],l=e[2],c=e[6],h=e[10],d=e[14];return e[3]*(+i*s*c-r*u*c-i*o*h+n*u*h+r*o*d-n*s*d)+e[7]*(+t*s*d-t*u*h+i*a*h-r*a*d+r*u*l-i*s*l)+e[11]*(+t*u*c-t*o*d-i*a*c+n*a*d+i*o*l-n*u*l)+e[15]*(-r*o*l-t*s*c+t*o*h+r*a*c-n*a*h+n*s*l)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],d=e[11],g=e[12],p=e[13],f=e[14],m=e[15],v=c*f*u-p*h*u+p*s*d-o*f*d-c*s*m+o*h*m,y=g*h*u-l*f*u-g*s*d+a*f*d+l*s*m-a*h*m,A=l*p*u-g*c*u+g*o*d-a*p*d-l*o*m+a*c*m,b=g*c*s-l*p*s-g*o*h+a*p*h+l*o*f-a*c*f,x=t*v+n*y+r*A+i*b;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var w=1/x;return e[0]=v*w,e[1]=(p*h*i-c*f*i-p*r*d+n*f*d+c*r*m-n*h*m)*w,e[2]=(o*f*i-p*s*i+p*r*u-n*f*u-o*r*m+n*s*m)*w,e[3]=(c*s*i-o*h*i-c*r*u+n*h*u+o*r*d-n*s*d)*w,e[4]=y*w,e[5]=(l*f*i-g*h*i+g*r*d-t*f*d-l*r*m+t*h*m)*w,e[6]=(g*s*i-a*f*i-g*r*u+t*f*u+a*r*m-t*s*m)*w,e[7]=(a*h*i-l*s*i+l*r*u-t*h*u-a*r*d+t*s*d)*w,e[8]=A*w,e[9]=(g*c*i-l*p*i-g*n*d+t*p*d+l*n*m-t*c*m)*w,e[10]=(a*p*i-g*o*i+g*n*u-t*p*u-a*n*m+t*o*m)*w,e[11]=(l*o*i-a*c*i-l*n*u+t*c*u+a*n*d-t*o*d)*w,e[12]=b*w,e[13]=(l*p*r-g*c*r+g*n*h-t*p*h-l*n*f+t*c*f)*w,e[14]=(g*o*r-a*p*r-g*n*s+t*p*s+a*n*f-t*o*f)*w,e[15]=(a*c*r-l*o*r+l*n*s-t*c*s-a*n*h+t*o*h)*w,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,u=i*a,l=i*o;return this.set(u*a+n,u*o-r*s,u*s+r*o,0,u*o+r*s,l*o+n,l*s-r*a,0,u*s-r*o,l*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,u=i+i,l=a+a,c=o+o,h=i*u,d=i*l,g=i*c,p=a*l,f=a*c,m=o*c,v=s*u,y=s*l,A=s*c,b=n.x,x=n.y,w=n.z;return r[0]=(1-(p+m))*b,r[1]=(d+A)*b,r[2]=(g-y)*b,r[3]=0,r[4]=(d-A)*x,r[5]=(1-(h+m))*x,r[6]=(f+v)*x,r[7]=0,r[8]=(g+y)*w,r[9]=(f-v)*w,r[10]=(1-(h+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=$r.set(r[0],r[1],r[2]).length(),a=$r.set(r[4],r[5],r[6]).length(),o=$r.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],ei.copy(this);var s=1/i,u=1/a,l=1/o;return ei.elements[0]*=s,ei.elements[1]*=s,ei.elements[2]*=s,ei.elements[4]*=u,ei.elements[5]*=u,ei.elements[6]*=u,ei.elements[8]*=l,ei.elements[9]*=l,ei.elements[10]*=l,t.setFromRotationMatrix(ei),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){var o=this.elements,s=2*i/(t-e),u=2*i/(n-r),l=(t+e)/(t-e),c=(n+r)/(n-r),h=-(a+i)/(a-i),d=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=u,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o=this.elements,s=1/(t-e),u=1/(n-r),l=1/(a-i),c=(t+e)*s,h=(n+r)*u,d=(a+i)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),$r=new wr,ei=new Jr,ti=new wr(0,0,0),ni=new wr(1,1,1),ri=new wr,ii=new wr,ai=new wr,oi=new Jr,si=new xr,ui=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DefaultOrder;p(this,t),this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}return f(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],u=r[5],l=r[9],c=r[2],h=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(Pn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Pn(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(s,u)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(Pn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Pn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Pn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-Pn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-l,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return oi.makeRotationFromQuaternion(e),this.setFromRotationMatrix(oi,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return si.setFromEuler(this),this.setFromQuaternion(si,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:e,value:u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))},{key:"toVector3",value:function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}]),t}(Symbol.iterator);ui.DefaultOrder="XYZ",ui.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var li=function(){function e(){p(this,e),this.mask=1}return f(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),ci=0,hi=new wr,di=new xr,gi=new Jr,pi=new wr,fi=new wr,mi=new wr,vi=new xr,yi=new wr(1,0,0),Ai=new wr(0,1,0),bi=new wr(0,0,1),xi={type:"added"},wi={type:"removed"},Ei=function(e){v(n,e);var t=y(n);function n(){var e;p(this,n),(e=t.call(this)).isObject3D=!0,Object.defineProperty(m(e),"id",{value:ci++}),e.uuid=Dn(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DefaultUp.clone();var r=new wr,i=new ui,a=new xr,o=new wr(1,1,1);return i._onChange((function(){a.setFromEuler(i,!1)})),a._onChange((function(){i.setFromQuaternion(a,void 0,!1)})),Object.defineProperties(m(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Jr},normalMatrix:{value:new Qn}}),e.matrix=new Jr,e.matrixWorld=new Jr,e.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,e.matrixWorldNeedsUpdate=!1,e.matrixWorldAutoUpdate=n.DefaultMatrixWorldAutoUpdate,e.layers=new li,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return f(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return di.setFromAxisAngle(e,t),this.quaternion.multiply(di),this}},{key:"rotateOnWorldAxis",value:function(e,t){return di.setFromAxisAngle(e,t),this.quaternion.premultiply(di),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(yi,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(Ai,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(bi,e)}},{key:"translateOnAxis",value:function(e,t){return hi.copy(e).applyQuaternion(this.quaternion),this.position.add(hi.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(yi,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(Ai,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(bi,e)}},{key:"localToWorld",value:function(e){return e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return e.applyMatrix4(gi.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?pi.copy(e):pi.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),fi.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?gi.lookAt(fi,pi,this.up):gi.lookAt(pi,fi,this.up),this.quaternion.setFromRotationMatrix(gi),r&&(gi.extractRotation(r.matrixWorld),di.setFromRotationMatrix(gi),this.quaternion.premultiply(di.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(xi)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(wi)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(wi)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),gi.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),gi.multiply(e.parent.matrixWorld)),e.applyMatrix4(gi),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(fi,e,mi),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(fi,vi,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++){var i=t[n];!0!==i.matrixWorldAutoUpdate&&!0!==e||i.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++){var o=r[i];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];i(e.shapes,l)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],h=0,d=this.material.length;h<d;h++)c.push(i(e.materials,this.material[h]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var g=0;g<this.children.length;g++)r.children.push(this.children[g].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var f=this.animations[p];r.animations.push(i(e.animations,f))}}if(t){var m=_(e.geometries),v=_(e.materials),y=_(e.textures),A=_(e.images),b=_(e.shapes),x=_(e.skeletons),w=_(e.animations),E=_(e.nodes);m.length>0&&(n.geometries=m),v.length>0&&(n.materials=v),y.length>0&&(n.textures=y),A.length>0&&(n.images=A),b.length>0&&(n.shapes=b),x.length>0&&(n.skeletons=x),w.length>0&&(n.animations=w),E.length>0&&(n.nodes=E)}return n.object=r,n;function _(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(Tn);Ei.DefaultUp=new wr(0,1,0),Ei.DefaultMatrixAutoUpdate=!0,Ei.DefaultMatrixWorldAutoUpdate=!0;var _i=new wr,Ci=new wr,Mi=new wr,Si=new wr,Ii=new wr,Ti=new wr,ki=new wr,Ri=new wr,Li=new wr,Bi=new wr,Di=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wr,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new wr;p(this,e),this.a=t,this.b=n,this.c=r}return f(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return _i.subVectors(this.c,this.b),Ci.subVectors(this.a,this.b),.5*_i.cross(Ci).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,a){return e.getUV(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,a=this.b,o=this.c;Ii.subVectors(a,i),Ti.subVectors(o,i),Ri.subVectors(e,i);var s=Ii.dot(Ri),u=Ti.dot(Ri);if(s<=0&&u<=0)return t.copy(i);Li.subVectors(e,a);var l=Ii.dot(Li),c=Ti.dot(Li);if(l>=0&&c<=l)return t.copy(a);var h=s*c-l*u;if(h<=0&&s>=0&&l<=0)return n=s/(s-l),t.copy(i).addScaledVector(Ii,n);Bi.subVectors(e,o);var d=Ii.dot(Bi),g=Ti.dot(Bi);if(g>=0&&d<=g)return t.copy(o);var p=d*u-s*g;if(p<=0&&u>=0&&g<=0)return r=u/(u-g),t.copy(i).addScaledVector(Ti,r);var f=l*g-d*c;if(f<=0&&c-l>=0&&d-g>=0)return ki.subVectors(o,a),r=(c-l)/(c-l+(d-g)),t.copy(a).addScaledVector(ki,r);var m=1/(f+p+h);return n=p*m,r=h*m,t.copy(i).addScaledVector(Ii,n).addScaledVector(Ti,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),_i.subVectors(e,t),r.cross(_i);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){_i.subVectors(r,t),Ci.subVectors(n,t),Mi.subVectors(e,t);var a=_i.dot(_i),o=_i.dot(Ci),s=_i.dot(Mi),u=Ci.dot(Ci),l=Ci.dot(Mi),c=a*u-o*o;if(0===c)return i.set(-2,-1,-1);var h=1/c,d=(u*s-o*l)*h,g=(a*l-o*s)*h;return i.set(1-d-g,g,d)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,Si),Si.x>=0&&Si.y>=0&&Si.x+Si.y<=1}},{key:"getUV",value:function(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,Si),s.set(0,0),s.addScaledVector(i,Si.x),s.addScaledVector(a,Si.y),s.addScaledVector(o,Si.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return _i.subVectors(n,t),Ci.subVectors(e,t),_i.cross(Ci).dot(r)<0}}]),e}(),Pi=0,Oi=function(e){v(n,e);var t=y(n);function n(){var e;return p(this,n),(e=t.call(this)).isMaterial=!0,Object.defineProperty(m(e),"id",{value:Pi++}),e.uuid=Dn(),e.name="",e.type="Material",e.blending=B,e.side=T,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.blendSrc=q,e.blendDst=K,e.blendEquation=F,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=re,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=mn,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=tn,e.stencilZFail=tn,e.stencilZPass=tn,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return f(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==B&&(n.blending=this.blending),this.side!==T&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(Tn),Ni=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this)).isMeshBasicMaterial=!0,r.type="MeshBasicMaterial",r.color=new ur(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=ue,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return f(n,[{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(Oi),Fi=new wr,Ui=new Vn,zi=function(){function e(t,n,r){if(p(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=!0===r,this.usage=vn,this.updateRange={offset:0,count:-1},this.version=0}return f(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)Ui.fromBufferAttribute(this,t),Ui.applyMatrix3(e),this.setXY(t,Ui.x,Ui.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)Fi.fromBufferAttribute(this,r),Fi.applyMatrix3(e),this.setXYZ(r,Fi.x,Fi.y,Fi.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)Fi.fromBufferAttribute(this,t),Fi.applyMatrix4(e),this.setXYZ(t,Fi.x,Fi.y,Fi.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Fi.fromBufferAttribute(this,t),Fi.applyNormalMatrix(e),this.setXYZ(t,Fi.x,Fi.y,Fi.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Fi.fromBufferAttribute(this,t),Fi.transformDirection(e),this.setXYZ(t,Fi.x,Fi.y,Fi.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=jn(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=Hn(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=jn(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=Hn(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=jn(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=Hn(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=jn(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=Hn(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=Hn(t,this.array),n=Hn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Hn(t,this.array),n=Hn(n,this.array),r=Hn(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Hn(t,this.array),n=Hn(n,this.array),r=Hn(r,this.array),i=Hn(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==vn&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}},{key:"copyColorsArray",value:function(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}},{key:"copyVector2sArray",value:function(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}},{key:"copyVector3sArray",value:function(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}},{key:"copyVector4sArray",value:function(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}]),e}(),ji=function(e){v(n,e);var t=y(n);function n(e,r,i){return p(this,n),t.call(this,new Int8Array(e),r,i)}return f(n)}(zi),Hi=function(e){v(n,e);var t=y(n);function n(e,r,i){return p(this,n),t.call(this,new Uint8Array(e),r,i)}return f(n)}(zi),Gi=function(e){v(n,e);var t=y(n);function n(e,r,i){return p(this,n),t.call(this,new Uint8ClampedArray(e),r,i)}return f(n)}(zi),Vi=function(e){v(n,e);var t=y(n);function n(e,r,i){return p(this,n),t.call(this,new Int16Array(e),r,i)}return f(n)}(zi),Qi=function(e){v(n,e);var t=y(n);function n(e,r,i){return p(this,n),t.call(this,new Uint16Array(e),r,i)}return f(n)}(zi),Wi=function(e){v(n,e);var t=y(n);function n(e,r,i){return p(this,n),t.call(this,new Int32Array(e),r,i)}return f(n)}(zi),qi=function(e){v(n,e);var t=y(n);function n(e,r,i){return p(this,n),t.call(this,new Uint32Array(e),r,i)}return f(n)}(zi),Ki=function(e){v(n,e);var t=y(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,new Uint16Array(e),r,i)).isFloat16BufferAttribute=!0,a}return f(n)}(zi),Xi=function(e){v(n,e);var t=y(n);function n(e,r,i){return p(this,n),t.call(this,new Float32Array(e),r,i)}return f(n)}(zi),Zi=function(e){v(n,e);var t=y(n);function n(e,r,i){return p(this,n),t.call(this,new Float64Array(e),r,i)}return f(n)}(zi),Yi=0,Ji=new Jr,$i=new Ei,ea=new wr,ta=new Cr,na=new Cr,ra=new wr,ia=function(e){v(n,e);var t=y(n);function n(){var e;return p(this,n),(e=t.call(this)).isBufferGeometry=!0,Object.defineProperty(m(e),"id",{value:Yi++}),e.uuid=Dn(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return f(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(qn(e)?qi:Qi)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new Qn).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return Ji.makeRotationFromQuaternion(e),this.applyMatrix4(Ji),this}},{key:"rotateX",value:function(e){return Ji.makeRotationX(e),this.applyMatrix4(Ji),this}},{key:"rotateY",value:function(e){return Ji.makeRotationY(e),this.applyMatrix4(Ji),this}},{key:"rotateZ",value:function(e){return Ji.makeRotationZ(e),this.applyMatrix4(Ji),this}},{key:"translate",value:function(e,t,n){return Ji.makeTranslation(e,t,n),this.applyMatrix4(Ji),this}},{key:"scale",value:function(e,t,n){return Ji.makeScale(e,t,n),this.applyMatrix4(Ji),this}},{key:"lookAt",value:function(e){return $i.lookAt(e),$i.updateMatrix(),this.applyMatrix4($i.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(ea).negate(),this.translate(ea.x,ea.y,ea.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Xi(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Cr);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new wr(-1/0,-1/0,-1/0),new wr(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];ta.setFromBufferAttribute(i),this.morphTargetsRelative?(ra.addVectors(this.boundingBox.min,ta.min),this.boundingBox.expandByPoint(ra),ra.addVectors(this.boundingBox.max,ta.max),this.boundingBox.expandByPoint(ra)):(this.boundingBox.expandByPoint(ta.min),this.boundingBox.expandByPoint(ta.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new Gr);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new wr,1/0);if(e){var n=this.boundingSphere.center;if(ta.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];na.setFromBufferAttribute(a),this.morphTargetsRelative?(ra.addVectors(ta.min,na.min),ta.expandByPoint(ra),ra.addVectors(ta.max,na.max),ta.expandByPoint(ra)):(ta.expandByPoint(na.min),ta.expandByPoint(na.max))}ta.getCenter(n);for(var o=0,s=0,u=e.count;s<u;s++)ra.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(ra));if(t)for(var l=0,c=t.length;l<c;l++)for(var h=t[l],d=this.morphTargetsRelative,g=0,p=h.count;g<p;g++)ra.fromBufferAttribute(h,g),d&&(ea.fromBufferAttribute(e,g),ra.add(ea)),o=Math.max(o,n.distanceToSquared(ra));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new zi(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,u=[],l=[],c=0;c<o;c++)u[c]=new wr,l[c]=new wr;var h=new wr,d=new wr,g=new wr,p=new Vn,f=new Vn,m=new Vn,v=new wr,y=new wr,A=this.groups;0===A.length&&(A=[{start:0,count:n.length}]);for(var b=0,x=A.length;b<x;++b)for(var w=A[b],E=w.start,_=E,C=E+w.count;_<C;_+=3)O(n[_+0],n[_+1],n[_+2]);for(var M=new wr,S=new wr,I=new wr,T=new wr,k=0,R=A.length;k<R;++k)for(var L=A[k],B=L.start,D=B,P=B+L.count;D<P;D+=3)N(n[D+0]),N(n[D+1]),N(n[D+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function O(e,t,n){h.fromArray(r,3*e),d.fromArray(r,3*t),g.fromArray(r,3*n),p.fromArray(a,2*e),f.fromArray(a,2*t),m.fromArray(a,2*n),d.sub(h),g.sub(h),f.sub(p),m.sub(p);var i=1/(f.x*m.y-m.x*f.y);isFinite(i)&&(v.copy(d).multiplyScalar(m.y).addScaledVector(g,-f.y).multiplyScalar(i),y.copy(g).multiplyScalar(f.x).addScaledVector(d,-m.x).multiplyScalar(i),u[e].add(v),u[t].add(v),u[n].add(v),l[e].add(y),l[t].add(y),l[n].add(y))}function N(e){I.fromArray(i,3*e),T.copy(I);var t=u[e];M.copy(t),M.sub(I.multiplyScalar(I.dot(t))).normalize(),S.crossVectors(T,t);var n=S.dot(l[e])<0?-1:1;s[4*e]=M.x,s[4*e+1]=M.y,s[4*e+2]=M.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new zi(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new wr,o=new wr,s=new wr,u=new wr,l=new wr,c=new wr,h=new wr,d=new wr;if(e)for(var g=0,p=e.count;g<p;g+=3){var f=e.getX(g+0),m=e.getX(g+1),v=e.getX(g+2);a.fromBufferAttribute(t,f),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,v),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),u.fromBufferAttribute(n,f),l.fromBufferAttribute(n,m),c.fromBufferAttribute(n,v),u.add(h),l.add(h),c.add(h),n.setXYZ(f,u.x,u.y,u.z),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(v,c.x,c.y,c.z)}else for(var y=0,A=t.count;y<A;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),n.setXYZ(y+0,h.x,h.y,h.z),n.setXYZ(y+1,h.x,h.y,h.z),n.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)ra.fromBufferAttribute(e,t),ra.normalize(),e.setXYZ(t,ra.x,ra.y,ra.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,u=0,l=t.length;u<l;u++){o=e.isInterleavedBufferAttribute?t[u]*e.data.stride+e.offset:t[u]*r;for(var c=0;c<r;c++)a[s++]=n[o++]}return new zi(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,i=this.attributes;for(var a in i){var o=e(i[a],r);t.setAttribute(a,o)}var s=this.morphAttributes;for(var u in s){for(var l=[],c=s[u],h=0,d=c.length;h<d;h++){var g=e(c[h],r);l.push(g)}t.morphAttributes[u]=l}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,f=0,m=p.length;f<m;f++){var v=p[f];t.addGroup(v.start,v.count,v.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a];e.data.attributes[a]=o.toJSON(e.data)}var s={},u=!1;for(var l in this.morphAttributes){for(var c=this.morphAttributes[l],h=[],d=0,g=c.length;d<g;d++){var p=c[d];h.push(p.toJSON(e.data))}h.length>0&&(s[l]=h,u=!0)}u&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var f=this.groups;f.length>0&&(e.data.groups=JSON.parse(JSON.stringify(f)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var u=[],l=o[s],c=0,h=l.length;c<h;c++)u.push(l[c].clone(t));this.morphAttributes[s]=u}this.morphTargetsRelative=e.morphTargetsRelative;for(var d=e.groups,g=0,p=d.length;g<p;g++){var f=d[g];this.addGroup(f.start,f.count,f.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var v=e.boundingSphere;return null!==v&&(this.boundingSphere=v.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Tn),aa=new Jr,oa=new Yr,sa=new Gr,ua=new wr,la=new wr,ca=new wr,ha=new wr,da=new wr,ga=new wr,pa=new wr,fa=new wr,ma=new wr,va=new Vn,ya=new Vn,Aa=new Vn,ba=new wr,xa=new wr,wa=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ia,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ni;return p(this,n),(e=t.call(this)).isMesh=!0,e.type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return f(n,[{key:"copy",value:function(e,t){return h(d(n.prototype),"copy",this).call(this,e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r&&(null===n.boundingSphere&&n.computeBoundingSphere(),sa.copy(n.boundingSphere),sa.applyMatrix4(i),!1!==e.ray.intersectsSphere(sa)&&(aa.copy(i).invert(),oa.copy(e.ray).applyMatrix4(aa),null===n.boundingBox||!1!==oa.intersectsBox(n.boundingBox)))){var a,o=n.index,s=n.attributes.position,u=n.morphAttributes.position,l=n.morphTargetsRelative,c=n.attributes.uv,h=n.attributes.uv2,d=n.groups,g=n.drawRange;if(null!==o)if(Array.isArray(r))for(var p=0,f=d.length;p<f;p++)for(var m=d[p],v=r[m.materialIndex],y=Math.max(m.start,g.start),A=Math.min(o.count,Math.min(m.start+m.count,g.start+g.count));y<A;y+=3){var b=o.getX(y),x=o.getX(y+1),w=o.getX(y+2);(a=Ea(this,v,e,oa,s,u,l,c,h,b,x,w))&&(a.faceIndex=Math.floor(y/3),a.face.materialIndex=m.materialIndex,t.push(a))}else for(var E=Math.max(0,g.start),_=Math.min(o.count,g.start+g.count);E<_;E+=3){var C=o.getX(E),M=o.getX(E+1),S=o.getX(E+2);(a=Ea(this,r,e,oa,s,u,l,c,h,C,M,S))&&(a.faceIndex=Math.floor(E/3),t.push(a))}else if(void 0!==s)if(Array.isArray(r))for(var I=0,T=d.length;I<T;I++)for(var k=d[I],R=r[k.materialIndex],L=Math.max(k.start,g.start),B=Math.min(s.count,Math.min(k.start+k.count,g.start+g.count));L<B;L+=3)(a=Ea(this,R,e,oa,s,u,l,c,h,L,L+1,L+2))&&(a.faceIndex=Math.floor(L/3),a.face.materialIndex=k.materialIndex,t.push(a));else for(var D=Math.max(0,g.start),P=Math.min(s.count,g.start+g.count);D<P;D+=3)(a=Ea(this,r,e,oa,s,u,l,c,h,D,D+1,D+2))&&(a.faceIndex=Math.floor(D/3),t.push(a))}}}]),n}(Ei);function Ea(e,t,n,r,i,a,o,s,u,l,c,h){ua.fromBufferAttribute(i,l),la.fromBufferAttribute(i,c),ca.fromBufferAttribute(i,h);var d=e.morphTargetInfluences;if(a&&d){pa.set(0,0,0),fa.set(0,0,0),ma.set(0,0,0);for(var g=0,p=a.length;g<p;g++){var f=d[g],m=a[g];0!==f&&(ha.fromBufferAttribute(m,l),da.fromBufferAttribute(m,c),ga.fromBufferAttribute(m,h),o?(pa.addScaledVector(ha,f),fa.addScaledVector(da,f),ma.addScaledVector(ga,f)):(pa.addScaledVector(ha.sub(ua),f),fa.addScaledVector(da.sub(la),f),ma.addScaledVector(ga.sub(ca),f)))}ua.add(pa),la.add(fa),ca.add(ma)}e.isSkinnedMesh&&(e.boneTransform(l,ua),e.boneTransform(c,la),e.boneTransform(h,ca));var v=function(e,t,n,r,i,a,o,s){if(null===(t.side===k?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side!==R,s)))return null;xa.copy(s),xa.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(xa);return u<n.near||u>n.far?null:{distance:u,point:xa.clone(),object:e}}(e,t,n,r,ua,la,ca,ba);if(v){s&&(va.fromBufferAttribute(s,l),ya.fromBufferAttribute(s,c),Aa.fromBufferAttribute(s,h),v.uv=Di.getUV(ba,ua,la,ca,va,ya,Aa,new Vn)),u&&(va.fromBufferAttribute(u,l),ya.fromBufferAttribute(u,c),Aa.fromBufferAttribute(u,h),v.uv2=Di.getUV(ba,ua,la,ca,va,ya,Aa,new Vn));var y={a:l,b:c,c:h,normal:new wr,materialIndex:0};Di.getNormal(ua,la,ca,y.normal),v.face=y}return v}var _a=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;p(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:o,heightSegments:s,depthSegments:u};var l=m(e);o=Math.floor(o),s=Math.floor(s),u=Math.floor(u);var c=[],h=[],d=[],g=[],f=0,v=0;function y(e,t,n,r,i,a,o,s,u,p,m){for(var y=a/u,A=o/p,b=a/2,x=o/2,w=s/2,E=u+1,_=p+1,C=0,M=0,S=new wr,I=0;I<_;I++)for(var T=I*A-x,k=0;k<E;k++){var R=k*y-b;S[e]=R*r,S[t]=T*i,S[n]=w,h.push(S.x,S.y,S.z),S[e]=0,S[t]=0,S[n]=s>0?1:-1,d.push(S.x,S.y,S.z),g.push(k/u),g.push(1-I/p),C+=1}for(var L=0;L<p;L++)for(var B=0;B<u;B++){var D=f+B+E*L,P=f+B+E*(L+1),O=f+(B+1)+E*(L+1),N=f+(B+1)+E*L;c.push(D,P,N),c.push(P,O,N),M+=6}l.addGroup(v,M,m),v+=M,f+=C}return y("z","y","x",-1,-1,a,i,r,u,s,0),y("z","y","x",1,-1,a,i,-r,u,s,1),y("x","z","y",1,1,r,a,i,o,u,2),y("x","z","y",1,-1,r,a,-i,o,u,3),y("x","y","z",1,-1,r,i,a,o,s,4),y("x","y","z",-1,-1,r,i,-a,o,s,5),e.setIndex(c),e.setAttribute("position",new Xi(h,3)),e.setAttribute("normal",new Xi(d,3)),e.setAttribute("uv",new Xi(g,2)),e}return f(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(ia);function Ca(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function Ma(e){for(var t={},n=0;n<e.length;n++){var r=Ca(e[n]);for(var i in r)t[i]=r[i]}return t}function Sa(e){return null===e.getRenderTarget()&&e.outputEncoding===Wt?Jt:$t}var Ia={clone:Ca,merge:Ma},Ta=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this)).isShaderMaterial=!0,r.type="ShaderMaterial",r.defines={},r.uniforms={},r.uniformsGroups=[],r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&r.setValues(e),r}return f(n,[{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ca(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=h(d(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(t.extensions=a),t}}]),n}(Oi),ka=function(e){v(n,e);var t=y(n);function n(){var e;return p(this,n),(e=t.call(this)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new Jr,e.projectionMatrix=new Jr,e.projectionMatrixInverse=new Jr,e}return f(n,[{key:"copy",value:function(e,t){return h(d(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){h(d(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){h(d(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(Ei),Ra=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return p(this,n),(e=t.call(this)).isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=a,e.far=o,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return f(n,[{key:"copy",value:function(e,t){return h(d(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Bn*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*Ln*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*Bn*Math.atan(Math.tan(.5*Ln*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*Ln*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=h(d(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(ka),La=-90,Ba=function(e){v(n,e);var t=y(n);function n(e,r,i){var a;p(this,n),(a=t.call(this)).type="CubeCamera",a.renderTarget=i;var o=new Ra(La,1,e,r);o.layers=a.layers,o.up.set(0,1,0),o.lookAt(1,0,0),a.add(o);var s=new Ra(La,1,e,r);s.layers=a.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),a.add(s);var u=new Ra(La,1,e,r);u.layers=a.layers,u.up.set(0,0,-1),u.lookAt(0,1,0),a.add(u);var l=new Ra(La,1,e,r);l.layers=a.layers,l.up.set(0,0,1),l.lookAt(0,-1,0),a.add(l);var c=new Ra(La,1,e,r);c.layers=a.layers,c.up.set(0,1,0),c.lookAt(0,0,1),a.add(c);var h=new Ra(La,1,e,r);return h.layers=a.layers,h.up.set(0,1,0),h.lookAt(0,0,-1),a.add(h),a}return f(n,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=o(this.children,6),i=r[0],a=r[1],s=r[2],u=r[3],l=r[4],c=r[5],h=e.getRenderTarget(),d=e.toneMapping,g=e.xr.enabled;e.toneMapping=he,e.xr.enabled=!1;var p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,s),e.setRenderTarget(n,3),e.render(t,u),e.setRenderTarget(n,4),e.render(t,l),n.texture.generateMipmaps=p,e.setRenderTarget(n,5),e.render(t,c),e.setRenderTarget(h),e.toneMapping=d,e.xr.enabled=g,n.texture.needsPMREMUpdate=!0}}]),n}(Ei),Da=function(e){v(n,e);var t=y(n);function n(e,r,i,a,o,s,u,l,c,h){var d;return p(this,n),e=void 0!==e?e:[],r=void 0!==r?r:ye,(d=t.call(this,e,r,i,a,o,s,u,l,c,h)).isCubeTexture=!0,d.flipY=!1,d}return f(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(gr),Pa=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(this,n),(e=t.call(this,r,r,i)).isWebGLCubeRenderTarget=!0;var a={width:r,height:r,depth:1},o=[a,a,a,a,a,a];return e.texture=new Da(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),e.texture.isRenderTargetTexture=!0,e.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,e.texture.minFilter=void 0!==i.minFilter?i.minFilter:Re,e}return f(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new _a(5,5,5),o=new Ta({name:"CubemapFromEquirect",uniforms:Ca(n),vertexShader:r,fragmentShader:i,side:k,blending:L});o.uniforms.tEquirect.value=t;var s=new wa(a,o),u=t.minFilter;return t.minFilter===De&&(t.minFilter=Re),new Ba(1,10,this).update(e,s),t.minFilter=u,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(fr),Oa=new wr,Na=new wr,Fa=new Qn,Ua=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wr(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p(this,e),this.isPlane=!0,this.normal=t,this.constant=n}return f(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=Oa.subVectors(n,t).cross(Na.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){var n=e.delta(Oa),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(n).multiplyScalar(i).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||Fa.getNormalMatrix(e),r=this.coplanarPoint(Oa).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),za=new Gr,ja=new wr,Ha=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ua,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ua,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ua,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Ua,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Ua,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Ua;p(this,e),this.planes=[t,n,r,i,a,o]}return f(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],l=n[6],c=n[7],h=n[8],d=n[9],g=n[10],p=n[11],f=n[12],m=n[13],v=n[14],y=n[15];return t[0].setComponents(o-r,c-s,p-h,y-f).normalize(),t[1].setComponents(o+r,c+s,p+h,y+f).normalize(),t[2].setComponents(o+i,c+u,p+d,y+m).normalize(),t[3].setComponents(o-i,c-u,p-d,y-m).normalize(),t[4].setComponents(o-a,c-l,p-g,y-v).normalize(),t[5].setComponents(o+a,c+l,p+g,y+v).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),za.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(za)}},{key:"intersectsSprite",value:function(e){return za.center.set(0,0,0),za.radius=.7071067811865476,za.applyMatrix4(e.matrixWorld),this.intersectsSphere(za)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++)if(t[i].distanceToPoint(n)<r)return!1;return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(ja.x=r.normal.x>0?e.max.x:e.min.x,ja.y=r.normal.y>0?e.max.y:e.min.y,ja.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(ja)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function Ga(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Va(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,r){var i,a=t.array,o=t.usage,s=e.createBuffer();if(e.bindBuffer(r,s),e.bufferData(r,a,o),t.onUploadCallback(),a instanceof Float32Array)i=5126;else if(a instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=5131}else i=5123;else if(a instanceof Int16Array)i=5122;else if(a instanceof Uint32Array)i=5125;else if(a instanceof Int32Array)i=5124;else if(a instanceof Int8Array)i=5120;else if(a instanceof Uint8Array)i=5121;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);i=5121}return{buffer:s,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(function(t,r,i){var a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),r.onUploadCallback()}(o.buffer,t,i),o.version=t.version)}}}}var Qa=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;p(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:a,heightSegments:o};for(var s=r/2,u=i/2,l=Math.floor(a),c=Math.floor(o),h=l+1,d=c+1,g=r/l,f=i/c,m=[],v=[],y=[],A=[],b=0;b<d;b++)for(var x=b*f-u,w=0;w<h;w++){var E=w*g-s;v.push(E,-x,0),y.push(0,0,1),A.push(w/l),A.push(1-b/c)}for(var _=0;_<c;_++)for(var C=0;C<l;C++){var M=C+h*_,S=C+h*(_+1),I=C+1+h*(_+1),T=C+1+h*_;m.push(M,S,T),m.push(S,I,T)}return e.setIndex(m),e.setAttribute("position",new Xi(v,3)),e.setAttribute("normal",new Xi(y,3)),e.setAttribute("uv",new Xi(A,2)),e}return f(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(ia),Wa={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},qa={common:{diffuse:{value:new ur(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Qn},uv2Transform:{value:new Qn},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ur(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ur(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Qn}},sprite:{diffuse:{value:new ur(16777215)},opacity:{value:1},center:{value:new Vn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Qn}}},Ka={basic:{uniforms:Ma([qa.common,qa.specularmap,qa.envmap,qa.aomap,qa.lightmap,qa.fog]),vertexShader:Wa.meshbasic_vert,fragmentShader:Wa.meshbasic_frag},lambert:{uniforms:Ma([qa.common,qa.specularmap,qa.envmap,qa.aomap,qa.lightmap,qa.emissivemap,qa.bumpmap,qa.normalmap,qa.displacementmap,qa.fog,qa.lights,{emissive:{value:new ur(0)}}]),vertexShader:Wa.meshlambert_vert,fragmentShader:Wa.meshlambert_frag},phong:{uniforms:Ma([qa.common,qa.specularmap,qa.envmap,qa.aomap,qa.lightmap,qa.emissivemap,qa.bumpmap,qa.normalmap,qa.displacementmap,qa.fog,qa.lights,{emissive:{value:new ur(0)},specular:{value:new ur(1118481)},shininess:{value:30}}]),vertexShader:Wa.meshphong_vert,fragmentShader:Wa.meshphong_frag},standard:{uniforms:Ma([qa.common,qa.envmap,qa.aomap,qa.lightmap,qa.emissivemap,qa.bumpmap,qa.normalmap,qa.displacementmap,qa.roughnessmap,qa.metalnessmap,qa.fog,qa.lights,{emissive:{value:new ur(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Wa.meshphysical_vert,fragmentShader:Wa.meshphysical_frag},toon:{uniforms:Ma([qa.common,qa.aomap,qa.lightmap,qa.emissivemap,qa.bumpmap,qa.normalmap,qa.displacementmap,qa.gradientmap,qa.fog,qa.lights,{emissive:{value:new ur(0)}}]),vertexShader:Wa.meshtoon_vert,fragmentShader:Wa.meshtoon_frag},matcap:{uniforms:Ma([qa.common,qa.bumpmap,qa.normalmap,qa.displacementmap,qa.fog,{matcap:{value:null}}]),vertexShader:Wa.meshmatcap_vert,fragmentShader:Wa.meshmatcap_frag},points:{uniforms:Ma([qa.points,qa.fog]),vertexShader:Wa.points_vert,fragmentShader:Wa.points_frag},dashed:{uniforms:Ma([qa.common,qa.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Wa.linedashed_vert,fragmentShader:Wa.linedashed_frag},depth:{uniforms:Ma([qa.common,qa.displacementmap]),vertexShader:Wa.depth_vert,fragmentShader:Wa.depth_frag},normal:{uniforms:Ma([qa.common,qa.bumpmap,qa.normalmap,qa.displacementmap,{opacity:{value:1}}]),vertexShader:Wa.meshnormal_vert,fragmentShader:Wa.meshnormal_frag},sprite:{uniforms:Ma([qa.sprite,qa.fog]),vertexShader:Wa.sprite_vert,fragmentShader:Wa.sprite_frag},background:{uniforms:{uvTransform:{value:new Qn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Wa.background_vert,fragmentShader:Wa.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Wa.backgroundCube_vert,fragmentShader:Wa.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Wa.cube_vert,fragmentShader:Wa.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Wa.equirect_vert,fragmentShader:Wa.equirect_frag},distanceRGBA:{uniforms:Ma([qa.common,qa.displacementmap,{referencePosition:{value:new wr},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Wa.distanceRGBA_vert,fragmentShader:Wa.distanceRGBA_frag},shadow:{uniforms:Ma([qa.lights,qa.fog,{color:{value:new ur(0)},opacity:{value:1}}]),vertexShader:Wa.shadow_vert,fragmentShader:Wa.shadow_frag}};Ka.physical={uniforms:Ma([Ka.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vn(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new ur(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Vn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new ur(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new ur(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Wa.meshphysical_vert,fragmentShader:Wa.meshphysical_frag};var Xa={r:0,b:0,g:0};function Za(e,t,n,r,i,a,o){var s,u,l=new ur(0),c=!0===a?0:1,h=null,d=0,g=null;function p(t,n){t.getRGB(Xa,Sa(e)),r.buffers.color.setClear(Xa.r,Xa.g,Xa.b,n,o)}return{getClearColor:function(){return l},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l.set(e),p(l,c=t)},getClearAlpha:function(){return c},setClearAlpha:function(e){p(l,c=e)},render:function(r,a){var o=!1,f=!0===a.isScene?a.background:null;f&&f.isTexture&&(f=(a.backgroundBlurriness>0?n:t).get(f));var m=e.xr,v=m.getSession&&m.getSession();v&&"additive"===v.environmentBlendMode&&(f=null),null===f?p(l,c):f&&f.isColor&&(p(f,1),o=!0),(e.autoClear||o)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),f&&(f.isCubeTexture||f.mapping===we)?(void 0===u&&((u=new wa(new _a(1,1,1),new Ta({name:"BackgroundCubeMaterial",uniforms:Ca(Ka.backgroundCube.uniforms),vertexShader:Ka.backgroundCube.vertexShader,fragmentShader:Ka.backgroundCube.fragmentShader,side:k,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=f,u.material.uniforms.flipEnvMap.value=f.isCubeTexture&&!1===f.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=a.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,h===f&&d===f.version&&g===e.toneMapping||(u.material.needsUpdate=!0,h=f,d=f.version,g=e.toneMapping),u.layers.enableAll(),r.unshift(u,u.geometry,u.material,0,0,null)):f&&f.isTexture&&(void 0===s&&((s=new wa(new Qa(2,2),new Ta({name:"BackgroundMaterial",uniforms:Ca(Ka.background.uniforms),vertexShader:Ka.background.vertexShader,fragmentShader:Ka.background.fragmentShader,side:T,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=f,s.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,!0===f.matrixAutoUpdate&&f.updateMatrix(),s.material.uniforms.uvTransform.value.copy(f.matrix),h===f&&d===f.version&&g===e.toneMapping||(s.material.needsUpdate=!0,h=f,d=f.version,g=e.toneMapping),s.layers.enableAll(),r.unshift(s,s.geometry,s.material,0,0,null))}}}function Ya(e,t,n,r){var i=e.getParameter(34921),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},u=g(null),l=u,c=!1;function h(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function g(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function p(){for(var e=l.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function f(e){m(e,0)}function m(n,i){var a=l.newAttributes,o=l.enabledAttributes,s=l.attributeDivisors;a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function v(){for(var t=l.newAttributes,n=l.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,i,a,o,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,a,o,s):e.vertexAttribIPointer(t,n,i,o,s)}function A(){b(),c=!0,l!==u&&h((l=u).object)}function b(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function(i,u,d,A,b){var x=!1;if(o){var w=function(t,n,i){var o=!0===i.wireframe,u=s[t.id];void 0===u&&(u={},s[t.id]=u);var l=u[n.id];void 0===l&&(l={},u[n.id]=l);var c=l[o];return void 0===c&&(c=g(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),l[o]=c),c}(A,d,u);l!==w&&h((l=w).object),x=function(e,t,n,r){var i=l.attributes,a=t.attributes,o=0,s=n.getAttributes();for(var u in s)if(s[u].location>=0){var c=i[u],h=a[u];if(void 0===h&&("instanceMatrix"===u&&e.instanceMatrix&&(h=e.instanceMatrix),"instanceColor"===u&&e.instanceColor&&(h=e.instanceColor)),void 0===c)return!0;if(c.attribute!==h)return!0;if(h&&c.data!==h.data)return!0;o++}return l.attributesNum!==o||l.index!==r}(i,A,d,b),x&&function(e,t,n,r){var i={},a=t.attributes,o=0,s=n.getAttributes();for(var u in s)if(s[u].location>=0){var c=a[u];void 0===c&&("instanceMatrix"===u&&e.instanceMatrix&&(c=e.instanceMatrix),"instanceColor"===u&&e.instanceColor&&(c=e.instanceColor));var h={};h.attribute=c,c&&c.data&&(h.data=c.data),i[u]=h,o++}l.attributes=i,l.attributesNum=o,l.index=r}(i,A,d,b)}else{var E=!0===u.wireframe;l.geometry===A.id&&l.program===d.id&&l.wireframe===E||(l.geometry=A.id,l.program=d.id,l.wireframe=E,x=!0)}null!==b&&n.update(b,34963),(x||c)&&(c=!1,function(i,a,o,s){if(!1!==r.isWebGL2||!i.isInstancedMesh&&!s.isInstancedBufferGeometry||null!==t.get("ANGLE_instanced_arrays")){p();var u=s.attributes,l=o.getAttributes(),c=a.defaultAttributeValues;for(var h in l){var d=l[h];if(d.location>=0){var g=u[h];if(void 0===g&&("instanceMatrix"===h&&i.instanceMatrix&&(g=i.instanceMatrix),"instanceColor"===h&&i.instanceColor&&(g=i.instanceColor)),void 0!==g){var A=g.normalized,b=g.itemSize,x=n.get(g);if(void 0===x)continue;var w=x.buffer,E=x.type,_=x.bytesPerElement;if(g.isInterleavedBufferAttribute){var C=g.data,M=C.stride,S=g.offset;if(C.isInstancedInterleavedBuffer){for(var I=0;I<d.locationSize;I++)m(d.location+I,C.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=C.meshPerAttribute*C.count)}else for(var T=0;T<d.locationSize;T++)f(d.location+T);e.bindBuffer(34962,w);for(var k=0;k<d.locationSize;k++)y(d.location+k,b/d.locationSize,E,A,M*_,(S+b/d.locationSize*k)*_)}else{if(g.isInstancedBufferAttribute){for(var R=0;R<d.locationSize;R++)m(d.location+R,g.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=g.meshPerAttribute*g.count)}else for(var L=0;L<d.locationSize;L++)f(d.location+L);e.bindBuffer(34962,w);for(var B=0;B<d.locationSize;B++)y(d.location+B,b/d.locationSize,E,A,b*_,b/d.locationSize*B*_)}}else if(void 0!==c){var D=c[h];if(void 0!==D)switch(D.length){case 2:e.vertexAttrib2fv(d.location,D);break;case 3:e.vertexAttrib3fv(d.location,D);break;case 4:e.vertexAttrib4fv(d.location,D);break;default:e.vertexAttrib1fv(d.location,D)}}}}v()}}(i,u,d,A),null!==b&&e.bindBuffer(34963,n.get(b).buffer))},reset:A,resetDefaultState:b,dispose:function(){for(var e in A(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)d(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:p,enableAttribute:f,disableUnusedAttributes:v}}function Ja(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0!==s){var u,l;if(a)u=e,l="drawArraysInstanced";else if(l="drawArraysInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[l](i,r,o,s),n.update(o,i,s)}}}function $a(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var u=a||t.has("WEBGL_draw_buffers"),l=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),h=e.getParameter(35660),d=e.getParameter(3379),g=e.getParameter(34076),p=e.getParameter(34921),f=e.getParameter(36347),m=e.getParameter(36348),v=e.getParameter(36349),y=h>0,A=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:g,maxAttributes:p,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:y,floatFragmentTextures:A,floatVertexTextures:y&&A,maxSamples:a?e.getParameter(36183):0}}function eo(e){var t=this,n=null,r=0,i=!1,a=!1,o=new Ua,s=new Qn,u={value:null,needsUpdate:!1};function l(){u.value!==n&&(u.value=n,u.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function c(e,n,r,i){var a=null!==e?e.length:0,l=null;if(0!==a){if(l=u.value,!0!==i||null===l){var c=r+4*a,h=n.matrixWorldInverse;s.getNormalMatrix(h),(null===l||l.length<c)&&(l=new Float32Array(c));for(var d=0,g=r;d!==a;++d,g+=4)o.copy(e[d]).applyMatrix4(h,s),o.normal.toArray(l,g),l[g+3]=o.constant}u.value=l,u.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,l}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,a){var o=0!==e.length||t||0!==r||i;return i=t,n=c(e,a,0),r=e.length,o},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1,l()},this.setState=function(t,o,s){var h=t.clippingPlanes,d=t.clipIntersection,g=t.clipShadows,p=e.get(t);if(!i||null===h||0===h.length||a&&!g)a?c(null):l();else{var f=a?0:r,m=4*f,v=p.clippingState||null;u.value=v,v=c(h,o,m,s);for(var y=0;y!==m;++y)v[y]=n[y];p.clippingState=v,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=f}}}function to(e){var t=new WeakMap;function n(e,t){return t===be?e.mapping=ye:t===xe&&(e.mapping=Ae),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var a=i.mapping;if(a===be||a===xe){if(t.has(i))return n(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var s=new Pa(o.height/2);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}var no=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return p(this,n),(e=t.call(this)).isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=a,e.bottom=o,e.near=s,e.far=u,e.updateProjectionMatrix(),e}return f(n,[{key:"copy",value:function(e,t){return h(d(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var u=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=u*this.view.offsetX)+u*this.view.width,s=(o-=l*this.view.offsetY)-l*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=h(d(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(ka),ro=[.125,.215,.35,.446,.526,.582],io=20,ao=new no,oo=new ur,so=null,uo=(1+Math.sqrt(5))/2,lo=1/uo,co=[new wr(1,1,1),new wr(-1,1,1),new wr(1,1,-1),new wr(-1,1,-1),new wr(0,uo,lo),new wr(0,uo,-lo),new wr(lo,0,uo),new wr(-lo,0,uo),new wr(uo,lo,0),new wr(-uo,lo,0)],ho=function(){function e(t){p(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return f(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;so=this._renderer.getRenderTarget(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=mo(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=fo(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(so),e.scissorTest=!1,po(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===ye||e.mapping===Ae?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),so=this._renderer.getRenderTarget();var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Re,minFilter:Re,generateMipmaps:!1,type:Ge,format:Xe,encoding:Qt,depthBuffer:!1},r=go(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=go(e,t,n);var i=this._lodMax,a=function(e){for(var t=[],n=[],r=[],i=e,a=e-4+1+ro.length,o=0;o<a;o++){var s=Math.pow(2,i);n.push(s);var u=1/s;o>e-4?u=ro[o-e+4-1]:0===o&&(u=0),r.push(u);for(var l=1/(s-2),c=-l,h=1+l,d=[c,c,h,c,h,h,c,c,h,h,c,h],g=6,p=6,f=3,m=2,v=1,y=new Float32Array(f*p*g),A=new Float32Array(m*p*g),b=new Float32Array(v*p*g),x=0;x<g;x++){var w=x%3*2/3-1,E=x>2?0:-1,_=[w,E,0,w+2/3,E,0,w+2/3,E+1,0,w,E,0,w+2/3,E+1,0,w,E+1,0];y.set(_,f*p*x),A.set(d,m*p*x);var C=[x,x,x,x,x,x];b.set(C,v*p*x)}var M=new ia;M.setAttribute("position",new zi(y,f)),M.setAttribute("uv",new zi(A,m)),M.setAttribute("faceIndex",new zi(b,v)),t.push(M),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(i);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(io),i=new wr(0,1,0),a=new Ta({name:"SphericalGaussianBlur",defines:{n:io,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:L,depthTest:!1,depthWrite:!1});return a}(i,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new wa(this._lodPlanes[0],e);this._renderer.compile(t,ao)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new Ra(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,u=s.autoClear,l=s.toneMapping;s.getClearColor(oo),s.toneMapping=he,s.autoClear=!1;var c=new Ni({name:"PMREM.Background",side:k,depthWrite:!1,depthTest:!1}),h=new wa(new _a,c),d=!1,g=e.background;g?g.isColor&&(c.color.copy(g),e.background=null,d=!0):(c.color.copy(oo),d=!0);for(var p=0;p<6;p++){var f=p%3;0===f?(i.up.set(0,a[p],0),i.lookAt(o[p],0,0)):1===f?(i.up.set(0,0,a[p]),i.lookAt(0,o[p],0)):(i.up.set(0,a[p],0),i.lookAt(0,0,o[p]));var m=this._cubeSize;po(r,f*m,p>2?m:0,m,m),s.setRenderTarget(r),d&&s.render(h,i),s.render(e,i)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=l,s.autoClear=u,e.background=g}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===ye||e.mapping===Ae;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=mo()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=fo());var i=r?this._cubemapMaterial:this._equirectMaterial,a=new wa(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var o=this._cubeSize;po(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,ao)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=co[(r-1)%co.length];this._blur(e,r-1,r,i,a)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,a,o){var s=this._renderer,u=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var l=new wa(this._lodPlanes[r],u),c=u.uniforms,h=this._sizeLods[n]-1,d=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,g=i/d,p=isFinite(i)?1+Math.floor(3*g):io;p>io&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(io));for(var f=[],m=0,v=0;v<io;++v){var y=v/g,A=Math.exp(-y*y/2);f.push(A),0===v?m+=A:v<p&&(m+=2*A)}for(var b=0;b<f.length;b++)f[b]=f[b]/m;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=f,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);var x=this._lodMax;c.dTheta.value=d,c.mipInt.value=x-n;var w=this._sizeLods[r];po(t,3*w*(r>x-4?r-x+4:0),4*(this._cubeSize-w),3*w,2*w),s.setRenderTarget(t),s.render(l,ao)}}]),e}();function go(e,t,n){var r=new fr(e,t,n);return r.texture.mapping=we,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function po(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function fo(){return new Ta({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:L,depthTest:!1,depthWrite:!1})}function mo(){return new Ta({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:L,depthTest:!1,depthWrite:!1})}function vo(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping,o=a===be||a===xe,s=a===ye||a===Ae;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var u=t.get(i);return null===n&&(n=new ho(e)),u=o?n.fromEquirectangular(i,u):n.fromCubemap(i,u),t.set(i,u),u.texture}if(t.has(i))return t.get(i).texture;var l=i.image;if(o&&l&&l.height>0||s&&l&&function(e){for(var t=0,n=6,r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(l)){null===n&&(n=new ho(e));var c=o?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,c),i.addEventListener("dispose",r),c.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function yo(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Ao(e,t,n,r){var i={},a=new WeakMap;function o(e){var s=e.target;for(var u in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[u]);s.removeEventListener("dispose",o),delete i[s.id];var l=a.get(s);l&&(t.remove(l),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var u=0,l=s.length;u<l;u+=3){var c=s[u+0],h=s[u+1],d=s[u+2];n.push(c,h,h,d,d,c)}}else{var g=i.array;o=i.version;for(var p=0,f=g.length/3-1;p<f;p+=3){var m=p+0,v=p+1,y=p+2;n.push(m,v,v,y,y,m)}}var A=new(qn(n)?qi:Qi)(n,1);A.version=o;var b=a.get(e);b&&t.remove(b),a.set(e,A)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var i=e.morphAttributes;for(var a in i)for(var o=i[a],s=0,u=o.length;s<u;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function bo(e,t,n,r){var i,a,o,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,u,l){if(0!==l){var c,h;if(s)c=e,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[h](i,u,a,r*o,l),n.update(u,i,l)}}}function xo(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function wo(e,t){return e[0]-t[0]}function Eo(e,t){return Math.abs(t[1])-Math.abs(e[1])}function _o(e,t,n){for(var r={},i=new Float32Array(8),a=new WeakMap,o=new pr,s=[],u=0;u<8;u++)s[u]=[u,0];return{update:function(u,l,c,h){var d=u.morphTargetInfluences;if(!0===t.isWebGL2){var g=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,p=void 0!==g?g.length:0,f=a.get(l);if(void 0===f||f.count!==p){void 0!==f&&f.texture.dispose();var m=void 0!==l.morphAttributes.position,v=void 0!==l.morphAttributes.normal,y=void 0!==l.morphAttributes.color,A=l.morphAttributes.position||[],b=l.morphAttributes.normal||[],x=l.morphAttributes.color||[],w=0;!0===m&&(w=1),!0===v&&(w=2),!0===y&&(w=3);var E=l.attributes.position.count*w,_=1;E>t.maxTextureSize&&(_=Math.ceil(E/t.maxTextureSize),E=t.maxTextureSize);var C=new Float32Array(E*_*4*p),M=new mr(C,E,_,p);M.type=He,M.needsUpdate=!0;for(var S=4*w,I=0;I<p;I++)for(var T=A[I],k=b[I],R=x[I],L=E*_*4*I,B=0;B<T.count;B++){var D=B*S;!0===m&&(o.fromBufferAttribute(T,B),C[L+D+0]=o.x,C[L+D+1]=o.y,C[L+D+2]=o.z,C[L+D+3]=0),!0===v&&(o.fromBufferAttribute(k,B),C[L+D+4]=o.x,C[L+D+5]=o.y,C[L+D+6]=o.z,C[L+D+7]=0),!0===y&&(o.fromBufferAttribute(R,B),C[L+D+8]=o.x,C[L+D+9]=o.y,C[L+D+10]=o.z,C[L+D+11]=4===R.itemSize?o.w:1)}f={count:p,texture:M,size:new Vn(E,_)},a.set(l,f),l.addEventListener("dispose",(function e(){M.dispose(),a.delete(l),l.removeEventListener("dispose",e)}))}for(var P=0,O=0;O<d.length;O++)P+=d[O];var N=l.morphTargetsRelative?1:1-P;h.getUniforms().setValue(e,"morphTargetBaseInfluence",N),h.getUniforms().setValue(e,"morphTargetInfluences",d),h.getUniforms().setValue(e,"morphTargetsTexture",f.texture,n),h.getUniforms().setValue(e,"morphTargetsTextureSize",f.size)}else{var F=void 0===d?0:d.length,U=r[l.id];if(void 0===U||U.length!==F){U=[];for(var z=0;z<F;z++)U[z]=[z,0];r[l.id]=U}for(var j=0;j<F;j++){var H=U[j];H[0]=j,H[1]=d[j]}U.sort(Eo);for(var G=0;G<8;G++)G<F&&U[G][1]?(s[G][0]=U[G][0],s[G][1]=U[G][1]):(s[G][0]=Number.MAX_SAFE_INTEGER,s[G][1]=0);s.sort(wo);for(var V=l.morphAttributes.position,Q=l.morphAttributes.normal,W=0,q=0;q<8;q++){var K=s[q],X=K[0],Z=K[1];X!==Number.MAX_SAFE_INTEGER&&Z?(V&&l.getAttribute("morphTarget"+q)!==V[X]&&l.setAttribute("morphTarget"+q,V[X]),Q&&l.getAttribute("morphNormal"+q)!==Q[X]&&l.setAttribute("morphNormal"+q,Q[X]),i[q]=Z,W+=Z):(V&&!0===l.hasAttribute("morphTarget"+q)&&l.deleteAttribute("morphTarget"+q),Q&&!0===l.hasAttribute("morphNormal"+q)&&l.deleteAttribute("morphNormal"+q),i[q]=0)}var Y=l.morphTargetsRelative?1:1-W;h.getUniforms().setValue(e,"morphTargetBaseInfluence",Y),h.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function Co(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){var o=r.render.frame,s=e.geometry,u=t.get(e,s);return i.get(u)!==o&&(t.update(u),i.set(u,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),u},dispose:function(){i=new WeakMap}}}var Mo=new gr,So=new mr,Io=new yr,To=new Da,ko=[],Ro=[],Lo=new Float32Array(16),Bo=new Float32Array(9),Do=new Float32Array(4);function Po(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=ko[i];if(void 0===a&&(a=new Float32Array(i),ko[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function Oo(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function No(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Fo(e,t){var n=Ro[t];void 0===n&&(n=new Int32Array(t),Ro[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Uo(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function zo(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Oo(n,t))return;e.uniform2fv(this.addr,t),No(n,t)}}function jo(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Oo(n,t))return;e.uniform3fv(this.addr,t),No(n,t)}}function Ho(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Oo(n,t))return;e.uniform4fv(this.addr,t),No(n,t)}}function Go(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Oo(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),No(n,t)}else{if(Oo(n,r))return;Do.set(r),e.uniformMatrix2fv(this.addr,!1,Do),No(n,r)}}function Vo(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Oo(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),No(n,t)}else{if(Oo(n,r))return;Bo.set(r),e.uniformMatrix3fv(this.addr,!1,Bo),No(n,r)}}function Qo(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Oo(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),No(n,t)}else{if(Oo(n,r))return;Lo.set(r),e.uniformMatrix4fv(this.addr,!1,Lo),No(n,r)}}function Wo(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function qo(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Oo(n,t))return;e.uniform2iv(this.addr,t),No(n,t)}}function Ko(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Oo(n,t))return;e.uniform3iv(this.addr,t),No(n,t)}}function Xo(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Oo(n,t))return;e.uniform4iv(this.addr,t),No(n,t)}}function Zo(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Yo(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Oo(n,t))return;e.uniform2uiv(this.addr,t),No(n,t)}}function Jo(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Oo(n,t))return;e.uniform3uiv(this.addr,t),No(n,t)}}function $o(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Oo(n,t))return;e.uniform4uiv(this.addr,t),No(n,t)}}function es(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||Mo,i)}function ts(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||Io,i)}function ns(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||To,i)}function rs(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||So,i)}function is(e,t){e.uniform1fv(this.addr,t)}function as(e,t){var n=Po(t,this.size,2);e.uniform2fv(this.addr,n)}function os(e,t){var n=Po(t,this.size,3);e.uniform3fv(this.addr,n)}function ss(e,t){var n=Po(t,this.size,4);e.uniform4fv(this.addr,n)}function us(e,t){var n=Po(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function ls(e,t){var n=Po(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function cs(e,t){var n=Po(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function hs(e,t){e.uniform1iv(this.addr,t)}function ds(e,t){e.uniform2iv(this.addr,t)}function gs(e,t){e.uniform3iv(this.addr,t)}function ps(e,t){e.uniform4iv(this.addr,t)}function fs(e,t){e.uniform1uiv(this.addr,t)}function ms(e,t){e.uniform2uiv(this.addr,t)}function vs(e,t){e.uniform3uiv(this.addr,t)}function ys(e,t){e.uniform4uiv(this.addr,t)}function As(e,t,n){var r=this.cache,i=t.length,a=Fo(n,i);Oo(r,a)||(e.uniform1iv(this.addr,a),No(r,a));for(var o=0;o!==i;++o)n.setTexture2D(t[o]||Mo,a[o])}function bs(e,t,n){var r=this.cache,i=t.length,a=Fo(n,i);Oo(r,a)||(e.uniform1iv(this.addr,a),No(r,a));for(var o=0;o!==i;++o)n.setTexture3D(t[o]||Io,a[o])}function xs(e,t,n){var r=this.cache,i=t.length,a=Fo(n,i);Oo(r,a)||(e.uniform1iv(this.addr,a),No(r,a));for(var o=0;o!==i;++o)n.setTextureCube(t[o]||To,a[o])}function ws(e,t,n){var r=this.cache,i=t.length,a=Fo(n,i);Oo(r,a)||(e.uniform1iv(this.addr,a),No(r,a));for(var o=0;o!==i;++o)n.setTexture2DArray(t[o]||So,a[o])}var Es=f((function e(t,n,r){p(this,e),this.id=t,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Uo;case 35664:return zo;case 35665:return jo;case 35666:return Ho;case 35674:return Go;case 35675:return Vo;case 35676:return Qo;case 5124:case 35670:return Wo;case 35667:case 35671:return qo;case 35668:case 35672:return Ko;case 35669:case 35673:return Xo;case 5125:return Zo;case 36294:return Yo;case 36295:return Jo;case 36296:return $o;case 35678:case 36198:case 36298:case 36306:case 35682:return es;case 35679:case 36299:case 36307:return ts;case 35680:case 36300:case 36308:case 36293:return ns;case 36289:case 36303:case 36311:case 36292:return rs}}(n.type)})),_s=f((function e(t,n,r){p(this,e),this.id=t,this.addr=r,this.cache=[],this.size=n.size,this.setValue=function(e){switch(e){case 5126:return is;case 35664:return as;case 35665:return os;case 35666:return ss;case 35674:return us;case 35675:return ls;case 35676:return cs;case 5124:case 35670:return hs;case 35667:case 35671:return ds;case 35668:case 35672:return gs;case 35669:case 35673:return ps;case 5125:return fs;case 36294:return ms;case 36295:return vs;case 36296:return ys;case 35678:case 36198:case 36298:case 36306:case 35682:return As;case 35679:case 36299:case 36307:return bs;case 35680:case 36300:case 36308:case 36293:return xs;case 36289:case 36303:case 36311:case 36292:return ws}}(n.type)})),Cs=function(){function e(t){p(this,e),this.id=t,this.seq=[],this.map={}}return f(e,[{key:"setValue",value:function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}}}]),e}(),Ms=/(\w+)(\])?(\[|\.)?/g;function Ss(e,t){e.seq.push(t),e.map[t.id]=t}function Is(e,t,n){var r=e.name,i=r.length;for(Ms.lastIndex=0;;){var a=Ms.exec(r),o=Ms.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===i){Ss(n,void 0===l?new Es(s,e,t):new _s(s,e,t));break}var c=n.map[s];void 0===c&&Ss(n,c=new Cs(s)),n=c}}var Ts=function(){function e(t,n){p(this,e),this.seq=[],this.map={};for(var r=t.getProgramParameter(n,35718),i=0;i<r;++i){var a=t.getActiveUniform(n,i);Is(a,t.getUniformLocation(n,a.name),this)}}return f(e,[{key:"setValue",value:function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)}},{key:"setOptional",value:function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)}}],[{key:"upload",value:function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}}},{key:"seqWithValue",value:function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n}}]),e}();function ks(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var Rs=0;function Ls(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";var a=/ERROR: 0:(\d+)/.exec(i);if(a){var o=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length),o=i;o<a;o++){var s=o+1;r.push("".concat(s===t?">":" "," ").concat(s,": ").concat(n[o]))}return r.join("\n")}(e.getShaderSource(t),o)}return i}function Bs(e,t){var n=function(e){switch(e){case Qt:return["Linear","( value )"];case Wt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Ds(e,t){var n;switch(t){case de:n="Linear";break;case ge:n="Reinhard";break;case pe:n="OptimizedCineon";break;case fe:n="ACESFilmic";break;case me:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Ps(e){return""!==e}function Os(e,t){var n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Ns(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Fs=/^[ \t]*#include +<([\w\d./]+)>/gm;function Us(e){return e.replace(Fs,zs)}function zs(e,t){var n=Wa[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Us(n)}var js=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Hs(e){return e.replace(js,Gs)}function Gs(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function Vs(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Qs(e,t,n,r){var i,a,o=e.getContext(),s=n.defines,u=n.vertexShader,l=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===M?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===S?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===I&&(t="SHADOWMAP_TYPE_VSM"),t}(n),h=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case ye:case Ae:t="ENVMAP_TYPE_CUBE";break;case we:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),d=function(e){var t="ENVMAP_MODE_REFLECTION";return e.envMap&&e.envMapMode===Ae&&(t="ENVMAP_MODE_REFRACTION"),t}(n),g=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case ue:t="ENVMAP_BLENDING_MULTIPLY";break;case le:t="ENVMAP_BLENDING_MIX";break;case ce:t="ENVMAP_BLENDING_ADD"}return t}(n),p=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),f=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ps).join("\n")}(n),m=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),v=o.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=[m].filter(Ps).join("\n")).length>0&&(i+="\n"),(a=[f,m].filter(Ps).join("\n")).length>0&&(a+="\n")):(i=[Vs(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ps).join("\n"),a=[f,Vs(n),"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+d:"",n.envMap?"#define "+g:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==he?"#define TONE_MAPPING":"",n.toneMapping!==he?Wa.tonemapping_pars_fragment:"",n.toneMapping!==he?Ds("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Wa.encodings_pars_fragment,Bs("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Ps).join("\n")),u=Ns(u=Os(u=Us(u),n),n),l=Ns(l=Os(l=Us(l),n),n),u=Hs(u),l=Hs(l),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===Sn?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Sn?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var A,b,x=y+a+l,w=ks(o,35633,y+i+u),E=ks(o,35632,x);if(o.attachShader(v,w),o.attachShader(v,E),void 0!==n.index0AttributeName?o.bindAttribLocation(v,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(v,0,"position"),o.linkProgram(v),e.debug.checkShaderErrors){var _=o.getProgramInfoLog(v).trim(),C=o.getShaderInfoLog(w).trim(),T=o.getShaderInfoLog(E).trim(),k=!0,R=!0;if(!1===o.getProgramParameter(v,35714)){k=!1;var L=Ls(o,w,"vertex"),B=Ls(o,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(v,35715)+"\n\nProgram Info Log: "+_+"\n"+L+"\n"+B)}else""!==_?console.warn("THREE.WebGLProgram: Program Info Log:",_):""!==C&&""!==T||(R=!1);R&&(this.diagnostics={runnable:k,programLog:_,vertexShader:{log:C,prefix:i},fragmentShader:{log:T,prefix:a}})}return o.deleteShader(w),o.deleteShader(E),this.getUniforms=function(){return void 0===A&&(A=new Ts(o,v)),A},this.getAttributes=function(){return void 0===b&&(b=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),o=a.name,s=1;35674===a.type&&(s=2),35675===a.type&&(s=3),35676===a.type&&(s=4),n[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(o,v)),b},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(v),this.program=void 0},this.name=n.shaderName,this.id=Rs++,this.cacheKey=t,this.usedTimes=1,this.program=v,this.vertexShader=w,this.fragmentShader=E,this}var Ws=0,qs=function(){function e(){p(this,e),this.shaderCache=new Map,this.materialCache=new Map}return f(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=this.materialCache.get(e),r=g(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code)}}catch(a){r.e(a)}finally{r.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new Ks(e),t.set(e,n)),n}}]),e}(),Ks=f((function e(t){p(this,e),this.id=Ws++,this.code=t,this.usedTimes=0}));function Xs(e,t,n,r,i,a,o){var s=new li,u=new qs,l=[],c=i.isWebGL2,h=i.logarithmicDepthBuffer,d=i.vertexTextures,g=i.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(a,s,l,f,m){var v=f.fog,y=m.geometry,A=a.isMeshStandardMaterial?f.environment:null,b=(a.isMeshStandardMaterial?n:t).get(a.envMap||A),x=b&&b.mapping===we?b.image.height:null,w=p[a.type];null!==a.precision&&(g=i.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",g,"instead.");var E,_,C,M,S=y.morphAttributes.position||y.morphAttributes.normal||y.morphAttributes.color,I=void 0!==S?S.length:0,T=0;if(void 0!==y.morphAttributes.position&&(T=1),void 0!==y.morphAttributes.normal&&(T=2),void 0!==y.morphAttributes.color&&(T=3),w){var L=Ka[w];E=L.vertexShader,_=L.fragmentShader}else E=a.vertexShader,_=a.fragmentShader,u.update(a),C=u.getVertexShaderID(a),M=u.getFragmentShaderID(a);var D=e.getRenderTarget(),P=a.alphaTest>0,O=a.clearcoat>0,N=a.iridescence>0;return{isWebGL2:c,shaderID:w,shaderName:a.type,vertexShader:E,fragmentShader:_,defines:a.defines,customVertexShaderID:C,customFragmentShaderID:M,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:g,instancing:!0===m.isInstancedMesh,instancingColor:!0===m.isInstancedMesh&&null!==m.instanceColor,supportsVertexTextures:d,outputEncoding:null===D?e.outputEncoding:!0===D.isXRRenderTarget?D.texture.encoding:Qt,map:!!a.map,matcap:!!a.matcap,envMap:!!b,envMapMode:b&&b.mapping,envMapCubeUVHeight:x,lightMap:!!a.lightMap,aoMap:!!a.aoMap,emissiveMap:!!a.emissiveMap,bumpMap:!!a.bumpMap,normalMap:!!a.normalMap,objectSpaceNormalMap:a.normalMapType===Zt,tangentSpaceNormalMap:a.normalMapType===Xt,decodeVideoTexture:!!a.map&&!0===a.map.isVideoTexture&&a.map.encoding===Wt,clearcoat:O,clearcoatMap:O&&!!a.clearcoatMap,clearcoatRoughnessMap:O&&!!a.clearcoatRoughnessMap,clearcoatNormalMap:O&&!!a.clearcoatNormalMap,iridescence:N,iridescenceMap:N&&!!a.iridescenceMap,iridescenceThicknessMap:N&&!!a.iridescenceThicknessMap,displacementMap:!!a.displacementMap,roughnessMap:!!a.roughnessMap,metalnessMap:!!a.metalnessMap,specularMap:!!a.specularMap,specularIntensityMap:!!a.specularIntensityMap,specularColorMap:!!a.specularColorMap,opaque:!1===a.transparent&&a.blending===B,alphaMap:!!a.alphaMap,alphaTest:P,gradientMap:!!a.gradientMap,sheen:a.sheen>0,sheenColorMap:!!a.sheenColorMap,sheenRoughnessMap:!!a.sheenRoughnessMap,transmission:a.transmission>0,transmissionMap:!!a.transmissionMap,thicknessMap:!!a.thicknessMap,combine:a.combine,vertexTangents:!!a.normalMap&&!!y.attributes.tangent,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!y.attributes.color&&4===y.attributes.color.itemSize,vertexUvs:!!a.map||!!a.bumpMap||!!a.normalMap||!!a.specularMap||!!a.alphaMap||!!a.emissiveMap||!!a.roughnessMap||!!a.metalnessMap||!!a.clearcoatMap||!!a.clearcoatRoughnessMap||!!a.clearcoatNormalMap||!!a.iridescenceMap||!!a.iridescenceThicknessMap||!!a.displacementMap||!!a.transmissionMap||!!a.thicknessMap||!!a.specularIntensityMap||!!a.specularColorMap||!!a.sheenColorMap||!!a.sheenRoughnessMap,uvsVertexOnly:!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatNormalMap||a.iridescenceMap||a.iridescenceThicknessMap||a.transmission>0||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||a.sheen>0||a.sheenColorMap||a.sheenRoughnessMap)&&!!a.displacementMap,fog:!!v,useFog:!0===a.fog,fogExp2:v&&v.isFogExp2,flatShading:!!a.flatShading,sizeAttenuation:a.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===m.isSkinnedMesh,morphTargets:void 0!==y.morphAttributes.position,morphNormals:void 0!==y.morphAttributes.normal,morphColors:void 0!==y.morphAttributes.color,morphTargetsCount:I,morphTextureStride:T,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&l.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:he,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===R,flipSided:a.side===k,useDepthPacking:!!a.depthPacking,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:a.extensions&&a.extensions.derivatives,extensionFragDepth:a.extensions&&a.extensions.fragDepth,extensionDrawBuffers:a.extensions&&a.extensions.drawBuffers,extensionShaderTextureLOD:a.extensions&&a.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0),t.supportsVertexTextures&&s.enable(1),t.instancing&&s.enable(2),t.instancingColor&&s.enable(3),t.map&&s.enable(4),t.matcap&&s.enable(5),t.envMap&&s.enable(6),t.lightMap&&s.enable(7),t.aoMap&&s.enable(8),t.emissiveMap&&s.enable(9),t.bumpMap&&s.enable(10),t.normalMap&&s.enable(11),t.objectSpaceNormalMap&&s.enable(12),t.tangentSpaceNormalMap&&s.enable(13),t.clearcoat&&s.enable(14),t.clearcoatMap&&s.enable(15),t.clearcoatRoughnessMap&&s.enable(16),t.clearcoatNormalMap&&s.enable(17),t.iridescence&&s.enable(18),t.iridescenceMap&&s.enable(19),t.iridescenceThicknessMap&&s.enable(20),t.displacementMap&&s.enable(21),t.specularMap&&s.enable(22),t.roughnessMap&&s.enable(23),t.metalnessMap&&s.enable(24),t.gradientMap&&s.enable(25),t.alphaMap&&s.enable(26),t.alphaTest&&s.enable(27),t.vertexColors&&s.enable(28),t.vertexAlphas&&s.enable(29),t.vertexUvs&&s.enable(30),t.vertexTangents&&s.enable(31),t.uvsVertexOnly&&s.enable(32),e.push(s.mask),s.disableAll(),t.fog&&s.enable(0),t.useFog&&s.enable(1),t.flatShading&&s.enable(2),t.logarithmicDepthBuffer&&s.enable(3),t.skinning&&s.enable(4),t.morphTargets&&s.enable(5),t.morphNormals&&s.enable(6),t.morphColors&&s.enable(7),t.premultipliedAlpha&&s.enable(8),t.shadowMapEnabled&&s.enable(9),t.physicallyCorrectLights&&s.enable(10),t.doubleSided&&s.enable(11),t.flipSided&&s.enable(12),t.useDepthPacking&&s.enable(13),t.dithering&&s.enable(14),t.specularIntensityMap&&s.enable(15),t.specularColorMap&&s.enable(16),t.transmission&&s.enable(17),t.transmissionMap&&s.enable(18),t.thicknessMap&&s.enable(19),t.sheen&&s.enable(20),t.sheenColorMap&&s.enable(21),t.sheenRoughnessMap&&s.enable(22),t.decodeVideoTexture&&s.enable(23),t.opaque&&s.enable(24),e.push(s.mask)}(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=p[e.type];if(n){var r=Ka[n];t=Ia.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,o=l.length;i<o;i++){var s=l[i];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new Qs(e,n,t,a),l.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=l.indexOf(e);l[t]=l[l.length-1],l.pop(),e.destroy()}},releaseShaderCache:function(e){u.remove(e)},programs:l,dispose:function(){u.dispose()}}}function Zs(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Ys(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Js(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function $s(){var e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,s){var u=e[t];return void 0===u?(u={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=u):(u.id=n.id,u.object=n,u.geometry=r,u.material=i,u.groupOrder=a,u.renderOrder=n.renderOrder,u.z=o,u.group=s),t++,u}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,u,l){var c=a(e,t,o,s,u,l);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,s,u,l){var c=a(e,t,o,s,u,l);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Ys),r.length>1&&r.sort(t||Js),i.length>1&&i.sort(t||Js)}}}function eu(){var e=new WeakMap;return{get:function(t,n){var r,i=e.get(t);return void 0===i?(r=new $s,e.set(t,[r])):n>=i.length?(r=new $s,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function tu(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new wr,color:new ur};break;case"SpotLight":n={position:new wr,direction:new wr,color:new ur,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new wr,color:new ur,distance:0,decay:0};break;case"HemisphereLight":n={direction:new wr,skyColor:new ur,groundColor:new ur};break;case"RectAreaLight":n={color:new ur,position:new wr,halfWidth:new wr,halfHeight:new wr}}return e[t.id]=n,n}}}var nu=0;function ru(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function iu(e,t){for(var n=new tu,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vn,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0},a=0;a<9;a++)i.probe.push(new wr);var o=new wr,s=new Jr,u=new Jr;return{setup:function(a,o){for(var s=0,u=0,l=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var h=0,d=0,g=0,p=0,f=0,m=0,v=0,y=0,A=0,b=0;a.sort(ru);for(var x=!0!==o?Math.PI:1,w=0,E=a.length;w<E;w++){var _=a[w],C=_.color,M=_.intensity,S=_.distance,I=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)s+=C.r*M*x,u+=C.g*M*x,l+=C.b*M*x;else if(_.isLightProbe)for(var T=0;T<9;T++)i.probe[T].addScaledVector(_.sh.coefficients[T],M);else if(_.isDirectionalLight){var k=n.get(_);if(k.color.copy(_.color).multiplyScalar(_.intensity*x),_.castShadow){var R=_.shadow,L=r.get(_);L.shadowBias=R.bias,L.shadowNormalBias=R.normalBias,L.shadowRadius=R.radius,L.shadowMapSize=R.mapSize,i.directionalShadow[h]=L,i.directionalShadowMap[h]=I,i.directionalShadowMatrix[h]=_.shadow.matrix,m++}i.directional[h]=k,h++}else if(_.isSpotLight){var B=n.get(_);B.position.setFromMatrixPosition(_.matrixWorld),B.color.copy(C).multiplyScalar(M*x),B.distance=S,B.coneCos=Math.cos(_.angle),B.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),B.decay=_.decay,i.spot[g]=B;var D=_.shadow;if(_.map&&(i.spotLightMap[A]=_.map,A++,D.updateMatrices(_),_.castShadow&&b++),i.spotLightMatrix[g]=D.matrix,_.castShadow){var P=r.get(_);P.shadowBias=D.bias,P.shadowNormalBias=D.normalBias,P.shadowRadius=D.radius,P.shadowMapSize=D.mapSize,i.spotShadow[g]=P,i.spotShadowMap[g]=I,y++}g++}else if(_.isRectAreaLight){var O=n.get(_);O.color.copy(C).multiplyScalar(M),O.halfWidth.set(.5*_.width,0,0),O.halfHeight.set(0,.5*_.height,0),i.rectArea[p]=O,p++}else if(_.isPointLight){var N=n.get(_);if(N.color.copy(_.color).multiplyScalar(_.intensity*x),N.distance=_.distance,N.decay=_.decay,_.castShadow){var F=_.shadow,U=r.get(_);U.shadowBias=F.bias,U.shadowNormalBias=F.normalBias,U.shadowRadius=F.radius,U.shadowMapSize=F.mapSize,U.shadowCameraNear=F.camera.near,U.shadowCameraFar=F.camera.far,i.pointShadow[d]=U,i.pointShadowMap[d]=I,i.pointShadowMatrix[d]=_.shadow.matrix,v++}i.point[d]=N,d++}else if(_.isHemisphereLight){var z=n.get(_);z.skyColor.copy(_.color).multiplyScalar(M*x),z.groundColor.copy(_.groundColor).multiplyScalar(M*x),i.hemi[f]=z,f++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=qa.LTC_FLOAT_1,i.rectAreaLTC2=qa.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=qa.LTC_HALF_1,i.rectAreaLTC2=qa.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=u,i.ambient[2]=l;var j=i.hash;j.directionalLength===h&&j.pointLength===d&&j.spotLength===g&&j.rectAreaLength===p&&j.hemiLength===f&&j.numDirectionalShadows===m&&j.numPointShadows===v&&j.numSpotShadows===y&&j.numSpotMaps===A||(i.directional.length=h,i.spot.length=g,i.rectArea.length=p,i.point.length=d,i.hemi.length=f,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=v,i.pointShadowMap.length=v,i.spotShadow.length=y,i.spotShadowMap.length=y,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=v,i.spotLightMatrix.length=y+A-b,i.spotLightMap.length=A,i.numSpotLightShadowsWithMaps=b,j.directionalLength=h,j.pointLength=d,j.spotLength=g,j.rectAreaLength=p,j.hemiLength=f,j.numDirectionalShadows=m,j.numPointShadows=v,j.numSpotShadows=y,j.numSpotMaps=A,i.version=nu++)},setupView:function(e,t){for(var n=0,r=0,a=0,l=0,c=0,h=t.matrixWorldInverse,d=0,g=e.length;d<g;d++){var p=e[d];if(p.isDirectionalLight){var f=i.directional[n];f.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),f.direction.sub(o),f.direction.transformDirection(h),n++}else if(p.isSpotLight){var m=i.spot[a];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(h),m.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(h),a++}else if(p.isRectAreaLight){var v=i.rectArea[l];v.position.setFromMatrixPosition(p.matrixWorld),v.position.applyMatrix4(h),u.identity(),s.copy(p.matrixWorld),s.premultiply(h),u.extractRotation(s),v.halfWidth.set(.5*p.width,0,0),v.halfHeight.set(0,.5*p.height,0),v.halfWidth.applyMatrix4(u),v.halfHeight.applyMatrix4(u),l++}else if(p.isPointLight){var y=i.point[r];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(h),r++}else if(p.isHemisphereLight){var A=i.hemi[c];A.direction.setFromMatrixPosition(p.matrixWorld),A.direction.transformDirection(h),c++}}},state:i}}function au(e,t){var n=new iu(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function ou(e,t){var n=new WeakMap;return{get:function(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n.get(r);return void 0===o?(i=new au(e,t),n.set(r,[i])):a>=o.length?(i=new au(e,t),o.push(i)):i=o[a],i},dispose:function(){n=new WeakMap}}}var su=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this)).isMeshDepthMaterial=!0,r.type="MeshDepthMaterial",r.depthPacking=qt,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.setValues(e),r}return f(n,[{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(Oi),uu=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this)).isMeshDistanceMaterial=!0,r.type="MeshDistanceMaterial",r.referencePosition=new wr,r.nearDistance=1,r.farDistance=1e3,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.setValues(e),r}return f(n,[{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(Oi),lu="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",cu="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function hu(e,t,n){var r=new Ha,i=new Vn,a=new Vn,o=new pr,s=new su({depthPacking:Kt}),u=new uu,l={},c=n.maxTextureSize,h={0:k,1:T,2:R},d=new Ta({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vn},radius:{value:4}},vertexShader:lu,fragmentShader:cu}),g=d.clone();g.defines.HORIZONTAL_PASS=1;var p=new ia;p.setAttribute("position",new zi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var f=new wa(p,d),m=this;function v(n,r){var a=t.update(f);d.defines.VSM_SAMPLES!==n.blurSamples&&(d.defines.VSM_SAMPLES=n.blurSamples,g.defines.VSM_SAMPLES=n.blurSamples,d.needsUpdate=!0,g.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new fr(i.x,i.y)),d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,d,f,null),g.uniforms.shadow_pass.value=n.mapPass.texture,g.uniforms.resolution.value=n.mapSize,g.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,g,f,null)}function y(t,n,r,i,a,o){var c=null,d=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(c=void 0!==d?d:!0===r.isPointLight?u:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){var g=c.uuid,p=n.uuid,f=l[g];void 0===f&&(f={},l[g]=f);var m=f[p];void 0===m&&(m=c.clone(),f[p]=m),c=m}return c.visible=n.visible,c.wireframe=n.wireframe,c.side=o===I?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:h[n.side],c.alphaMap=n.alphaMap,c.alphaTest=n.alphaTest,c.map=n.map,c.clipShadows=n.clipShadows,c.clippingPlanes=n.clippingPlanes,c.clipIntersection=n.clipIntersection,c.displacementMap=n.displacementMap,c.displacementScale=n.displacementScale,c.displacementBias=n.displacementBias,c.wireframeLinewidth=n.wireframeLinewidth,c.linewidth=n.linewidth,!0===r.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(r.matrixWorld),c.nearDistance=i,c.farDistance=a),c}function A(n,i,a,o,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===I)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var u=t.update(n),l=n.material;if(Array.isArray(l))for(var c=u.groups,h=0,d=c.length;h<d;h++){var g=c[h],p=l[g.materialIndex];if(p&&p.visible){var f=y(n,p,o,a.near,a.far,s);e.renderBufferDirect(a,null,u,f,n,g)}}else if(l.visible){var m=y(n,l,o,a.near,a.far,s);e.renderBufferDirect(a,null,u,m,n,null)}}for(var v=n.children,b=0,x=v.length;b<x;b++)A(v[b],i,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=M,this.render=function(t,n,s){if(!1!==m.enabled&&(!1!==m.autoUpdate||!1!==m.needsUpdate)&&0!==t.length){var u=e.getRenderTarget(),l=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),d=e.state;d.setBlending(L),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var g=0,p=t.length;g<p;g++){var f=t[g],y=f.shadow;if(void 0!==y){if(!1!==y.autoUpdate||!1!==y.needsUpdate){i.copy(y.mapSize);var b=y.getFrameExtents();if(i.multiply(b),a.copy(y.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(a.x=Math.floor(c/b.x),i.x=a.x*b.x,y.mapSize.x=a.x),i.y>c&&(a.y=Math.floor(c/b.y),i.y=a.y*b.y,y.mapSize.y=a.y)),null===y.map){var x=this.type!==I?{minFilter:Me,magFilter:Me}:{};y.map=new fr(i.x,i.y,x),y.map.texture.name=f.name+".shadowMap",y.camera.updateProjectionMatrix()}e.setRenderTarget(y.map),e.clear();for(var w=y.getViewportCount(),E=0;E<w;E++){var _=y.getViewport(E);o.set(a.x*_.x,a.y*_.y,a.x*_.z,a.y*_.w),d.viewport(o),y.updateMatrices(f,E),r=y.getFrustum(),A(n,s,y.camera,f,this.type)}!0!==y.isPointLightShadow&&this.type===I&&v(y,s),y.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",f,"has no shadow.")}m.needsUpdate=!1,e.setRenderTarget(u,l,h)}}}function du(e,t,n){var r,i,a=n.isWebGL2,o=new function(){var t=!1,n=new pr,r=null,i=new pr(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},u=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?_e(2929):Ce(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case ee:e.depthFunc(512);break;case te:e.depthFunc(519);break;case ne:e.depthFunc(513);break;case re:e.depthFunc(515);break;case ie:e.depthFunc(514);break;case ae:e.depthFunc(518);break;case oe:e.depthFunc(516);break;case se:e.depthFunc(517);break;default:e.depthFunc(515)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},l=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(e){t||(e?_e(2960):Ce(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&u===r||(e.stencilOp(t,n,r),o=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null}}},c=new WeakMap,h=new WeakMap,d={},g={},p=new WeakMap,f=[],m=null,v=!1,y=null,A=null,b=null,_=null,C=null,M=null,S=null,I=!1,T=null,ue=null,le=null,ce=null,he=null,de=e.getParameter(35661),ge=!1,pe=0,fe=e.getParameter(7938);-1!==fe.indexOf("WebGL")?(pe=parseFloat(/^WebGL (\d)/.exec(fe)[1]),ge=pe>=1):-1!==fe.indexOf("OpenGL ES")&&(pe=parseFloat(/^OpenGL ES (\d)/.exec(fe)[1]),ge=pe>=2);var me=null,ve={},ye=e.getParameter(3088),Ae=e.getParameter(2978),be=(new pr).fromArray(ye),xe=(new pr).fromArray(Ae);function we(t,n,r){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}var Ee={};function _e(t){!0!==d[t]&&(e.enable(t),d[t]=!0)}function Ce(t){!1!==d[t]&&(e.disable(t),d[t]=!1)}Ee[3553]=we(3553,3553,1),Ee[34067]=we(34067,34069,6),o.setClear(0,0,0,1),u.setClear(1),l.setClear(0),_e(2929),u.setFunc(re),ke(!1),Re(w),_e(2884),Te(L);var Me=(s(r={},F,32774),s(r,U,32778),s(r,z,32779),r);if(a)Me[j]=32775,Me[H]=32776;else{var Se=t.get("EXT_blend_minmax");null!==Se&&(Me[j]=Se.MIN_EXT,Me[H]=Se.MAX_EXT)}var Ie=(s(i={},G,0),s(i,V,1),s(i,Q,768),s(i,q,770),s(i,$,776),s(i,Y,774),s(i,X,772),s(i,W,769),s(i,K,771),s(i,J,775),s(i,Z,773),i);function Te(t,n,r,i,a,o,s,u){if(t!==L){if(!1===v&&(_e(3042),v=!0),t===N)a=a||n,o=o||r,s=s||i,n===A&&a===C||(e.blendEquationSeparate(Me[n],Me[a]),A=n,C=a),r===b&&i===_&&o===M&&s===S||(e.blendFuncSeparate(Ie[r],Ie[i],Ie[o],Ie[s]),b=r,_=i,M=o,S=s),y=t,I=!1;else if(t!==y||u!==I){if(A===F&&C===F||(e.blendEquation(32774),A=F,C=F),u)switch(t){case B:e.blendFuncSeparate(1,771,1,771);break;case D:e.blendFunc(1,1);break;case P:e.blendFuncSeparate(0,769,0,1);break;case O:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case B:e.blendFuncSeparate(770,771,1,771);break;case D:e.blendFunc(770,1);break;case P:e.blendFuncSeparate(0,769,0,1);break;case O:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}b=null,_=null,M=null,S=null,y=t,I=u}}else!0===v&&(Ce(3042),v=!1)}function ke(t){T!==t&&(t?e.frontFace(2304):e.frontFace(2305),T=t)}function Re(t){t!==x?(_e(2884),t!==ue&&(t===w?e.cullFace(1029):t===E?e.cullFace(1028):e.cullFace(1032))):Ce(2884),ue=t}function Le(t,n,r){t?(_e(32823),ce===n&&he===r||(e.polygonOffset(n,r),ce=n,he=r)):Ce(32823)}return{buffers:{color:o,depth:u,stencil:l},enable:_e,disable:Ce,bindFramebuffer:function(t,n){return g[t]!==n&&(e.bindFramebuffer(t,n),g[t]=n,a&&(36009===t&&(g[36160]=n),36160===t&&(g[36009]=n)),!0)},drawBuffers:function(r,i){var a=f,o=!1;if(r)if(void 0===(a=p.get(i))&&(a=[],p.set(i,a)),r.isWebGLMultipleRenderTargets){var s=r.texture;if(a.length!==s.length||36064!==a[0]){for(var u=0,l=s.length;u<l;u++)a[u]=36064+u;a.length=s.length,o=!0}}else 36064!==a[0]&&(a[0]=36064,o=!0);else 1029!==a[0]&&(a[0]=1029,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return m!==t&&(e.useProgram(t),m=t,!0)},setBlending:Te,setMaterial:function(e,t){e.side===R?Ce(2884):_e(2884);var n=e.side===k;t&&(n=!n),ke(n),e.blending===B&&!1===e.transparent?Te(L):Te(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),u.setFunc(e.depthFunc),u.setTest(e.depthTest),u.setMask(e.depthWrite),o.setMask(e.colorWrite);var r=e.stencilWrite;l.setTest(r),r&&(l.setMask(e.stencilWriteMask),l.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),l.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Le(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?_e(32926):Ce(32926)},setFlipSided:ke,setCullFace:Re,setLineWidth:function(t){t!==le&&(ge&&e.lineWidth(t),le=t)},setPolygonOffset:Le,setScissorTest:function(e){e?_e(3089):Ce(3089)},activeTexture:function(t){void 0===t&&(t=33984+de-1),me!==t&&(e.activeTexture(t),me=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===me?33984+de-1:me);var i=ve[r];void 0===i&&(i={type:void 0,texture:void 0},ve[r]=i),i.type===t&&i.texture===n||(me!==r&&(e.activeTexture(r),me=r),e.bindTexture(t,n||Ee[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=ve[me];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){var r=h.get(n);void 0===r&&(r=new WeakMap,h.set(n,r));var i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){var r=h.get(n).get(t);c.get(t)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),c.set(t,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===be.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),be.copy(t))},viewport:function(t){!1===xe.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),xe.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===a&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),d={},me=null,ve={},g={},p=new WeakMap,f=[],m=null,v=!1,y=null,A=null,b=null,_=null,C=null,M=null,S=null,I=!1,T=null,ue=null,le=null,ce=null,he=null,be.set(0,0,e.canvas.width,e.canvas.height),xe.set(0,0,e.canvas.width,e.canvas.height),o.reset(),u.reset(),l.reset()}}}function gu(e,t,n,r,i,a,o){var u,l,c,h=i.isWebGL2,d=i.maxTextures,g=i.maxCubemapSize,p=i.maxTextureSize,f=i.maxSamples,m=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,v="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap,A=new WeakMap,b=!1;try{b="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(Q){}function x(e,t){return b?new OffscreenCanvas(e,t):Zn("canvas")}function w(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?zn:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===c&&(c=x(o,s));var u=n?x(o,s):c;return u.width=o,u.height=s,u.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),u}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function E(e){return Fn(e.width)&&Fn(e.height)}function _(e,t){return e.generateMipmaps&&t&&e.minFilter!==Me&&e.minFilter!==Re}function C(t){e.generateMipmap(t)}function M(n,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===h)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var s=r;return 6403===r&&(5126===i&&(s=33326),5131===i&&(s=33325),5121===i&&(s=33321)),33319===r&&(5126===i&&(s=33328),5131===i&&(s=33327),5121===i&&(s=33323)),6408===r&&(5126===i&&(s=34836),5131===i&&(s=34842),5121===i&&(s=a===Wt&&!1===o?35907:32856),32819===i&&(s=32854),32820===i&&(s=32855)),33325!==s&&33326!==s&&33327!==s&&33328!==s&&34842!==s&&34836!==s||t.get("EXT_color_buffer_float"),s}function S(e,t,n){return!0===_(e,n)||e.isFramebufferTexture&&e.minFilter!==Me&&e.minFilter!==Re?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function I(e){return e===Me||e===Se||e===Te?9728:9729}function T(e){var t=e.target;t.removeEventListener("dispose",T),function(e){var t=r.get(e);if(void 0!==t.__webglInit){var n=e.source,i=A.get(n);if(i){var a=i[t.__cacheKey];a.usedTimes--,0===a.usedTimes&&R(e),0===Object.keys(i).length&&A.delete(n)}r.remove(e)}}(t),t.isVideoTexture&&y.delete(t)}function k(t){var n=t.target;n.removeEventListener("dispose",k),function(t){var n=t.texture,i=r.get(t),a=r.get(n);if(void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)e.deleteFramebuffer(i.__webglFramebuffer[s]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[s]);else{if(e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(var u=0;u<i.__webglColorRenderbuffer.length;u++)i.__webglColorRenderbuffer[u]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[u]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(var l=0,c=n.length;l<c;l++){var h=r.get(n[l]);h.__webglTexture&&(e.deleteTexture(h.__webglTexture),o.memory.textures--),r.remove(n[l])}r.remove(n),r.remove(t)}(n)}function R(t){var n=r.get(t);e.deleteTexture(n.__webglTexture);var i=t.source;delete A.get(i)[n.__cacheKey],o.memory.textures--}var L=0;function B(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;y.get(e)!==t&&(y.set(e,t),e.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&i.__version!==e.version){var a=e.image;if(null===a)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==a.complete)return void F(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(3553,i.__webglTexture,33984+t)}var D=(s(u={},Ee,10497),s(u,_e,33071),s(u,Ce,33648),u),P=(s(l={},Me,9728),s(l,Se,9984),s(l,Te,9986),s(l,Re,9729),s(l,Le,9985),s(l,De,9987),l);function O(n,a,o){if(o?(e.texParameteri(n,10242,D[a.wrapS]),e.texParameteri(n,10243,D[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,D[a.wrapR]),e.texParameteri(n,10240,P[a.magFilter]),e.texParameteri(n,10241,P[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===_e&&a.wrapT===_e||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,I(a.magFilter)),e.texParameteri(n,10241,I(a.minFilter)),a.minFilter!==Me&&a.minFilter!==Re&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(a.type===He&&!1===t.has("OES_texture_float_linear"))return;if(!1===h&&a.type===Ge&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function N(t,n){var r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",T));var i=n.source,a=A.get(i);void 0===a&&(a={},A.set(i,a));var s=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;var u=a[t.__cacheKey];void 0!==u&&(a[t.__cacheKey].usedTimes--,0===u.usedTimes&&R(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function F(t,i,o){var s=3553;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(s=35866),i.isData3DTexture&&(s=32879);var u=N(t,i),l=i.source;n.bindTexture(s,t.__webglTexture,33984+o);var c=r.get(l);if(l.version!==c.__version||!0===u){n.activeTexture(33984+o),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);var d,g=function(e){return!h&&(e.wrapS!==_e||e.wrapT!==_e||e.minFilter!==Me&&e.minFilter!==Re)}(i)&&!1===E(i.image),f=w(i.image,g,!1,p),m=E(f=V(i,f))||h,v=a.convert(i.format,i.encoding),y=a.convert(i.type),A=M(i.internalFormat,v,y,i.encoding,i.isVideoTexture);O(s,i,m);var b=i.mipmaps,x=h&&!0!==i.isVideoTexture,I=void 0===c.__version||!0===u,T=S(i,f,m);if(i.isDepthTexture)A=6402,h?A=i.type===He?36012:i.type===je?33190:i.type===We?35056:33189:i.type===He&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===Je&&6402===A&&i.type!==Ue&&i.type!==je&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=je,y=a.convert(i.type)),i.format===$e&&6402===A&&(A=34041,i.type!==We&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=We,y=a.convert(i.type))),I&&(x?n.texStorage2D(3553,1,A,f.width,f.height):n.texImage2D(3553,0,A,f.width,f.height,0,v,y,null));else if(i.isDataTexture)if(b.length>0&&m){x&&I&&n.texStorage2D(3553,T,A,b[0].width,b[0].height);for(var k=0,R=b.length;k<R;k++)d=b[k],x?n.texSubImage2D(3553,k,0,0,d.width,d.height,v,y,d.data):n.texImage2D(3553,k,A,d.width,d.height,0,v,y,d.data);i.generateMipmaps=!1}else x?(I&&n.texStorage2D(3553,T,A,f.width,f.height),n.texSubImage2D(3553,0,0,0,f.width,f.height,v,y,f.data)):n.texImage2D(3553,0,A,f.width,f.height,0,v,y,f.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){x&&I&&n.texStorage3D(35866,T,A,b[0].width,b[0].height,f.depth);for(var L=0,B=b.length;L<B;L++)d=b[L],i.format!==Xe?null!==v?x?n.compressedTexSubImage3D(35866,L,0,0,0,d.width,d.height,f.depth,v,d.data,0,0):n.compressedTexImage3D(35866,L,A,d.width,d.height,f.depth,0,d.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):x?n.texSubImage3D(35866,L,0,0,0,d.width,d.height,f.depth,v,y,d.data):n.texImage3D(35866,L,A,d.width,d.height,f.depth,0,v,y,d.data)}else{x&&I&&n.texStorage2D(3553,T,A,b[0].width,b[0].height);for(var D=0,P=b.length;D<P;D++)d=b[D],i.format!==Xe?null!==v?x?n.compressedTexSubImage2D(3553,D,0,0,d.width,d.height,v,d.data):n.compressedTexImage2D(3553,D,A,d.width,d.height,0,d.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):x?n.texSubImage2D(3553,D,0,0,d.width,d.height,v,y,d.data):n.texImage2D(3553,D,A,d.width,d.height,0,v,y,d.data)}else if(i.isDataArrayTexture)x?(I&&n.texStorage3D(35866,T,A,f.width,f.height,f.depth),n.texSubImage3D(35866,0,0,0,0,f.width,f.height,f.depth,v,y,f.data)):n.texImage3D(35866,0,A,f.width,f.height,f.depth,0,v,y,f.data);else if(i.isData3DTexture)x?(I&&n.texStorage3D(32879,T,A,f.width,f.height,f.depth),n.texSubImage3D(32879,0,0,0,0,f.width,f.height,f.depth,v,y,f.data)):n.texImage3D(32879,0,A,f.width,f.height,f.depth,0,v,y,f.data);else if(i.isFramebufferTexture){if(I)if(x)n.texStorage2D(3553,T,A,f.width,f.height);else for(var F=f.width,U=f.height,z=0;z<T;z++)n.texImage2D(3553,z,A,F,U,0,v,y,null),F>>=1,U>>=1}else if(b.length>0&&m){x&&I&&n.texStorage2D(3553,T,A,b[0].width,b[0].height);for(var j=0,H=b.length;j<H;j++)d=b[j],x?n.texSubImage2D(3553,j,0,0,v,y,d):n.texImage2D(3553,j,A,v,y,d);i.generateMipmaps=!1}else x?(I&&n.texStorage2D(3553,T,A,f.width,f.height),n.texSubImage2D(3553,0,0,0,v,y,f)):n.texImage2D(3553,0,A,v,y,f);_(i,m)&&C(s),c.__version=l.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function U(t,i,o,s,u){var l=a.convert(o.format,o.encoding),c=a.convert(o.type),h=M(o.internalFormat,l,c,o.encoding);r.get(i).__hasExternalTextures||(32879===u||35866===u?n.texImage3D(u,0,h,i.width,i.height,i.depth,0,l,c,null):n.texImage2D(u,0,h,i.width,i.height,0,l,c,null)),n.bindFramebuffer(36160,t),G(i)?m.framebufferTexture2DMultisampleEXT(36160,s,u,r.get(o).__webglTexture,0,H(i)):(3553===u||u>=34069&&u<=34074)&&e.framebufferTexture2D(36160,s,u,r.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function z(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var i=33189;if(r||G(n)){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===He?i=36012:o.type===je&&(i=33190));var s=H(n);G(n)?m.renderbufferStorageMultisampleEXT(36161,s,i,n.width,n.height):e.renderbufferStorageMultisample(36161,s,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){var u=H(n);r&&!1===G(n)?e.renderbufferStorageMultisample(36161,u,35056,n.width,n.height):G(n)?m.renderbufferStorageMultisampleEXT(36161,u,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else for(var l=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture],c=0;c<l.length;c++){var h=l[c],d=a.convert(h.format,h.encoding),g=a.convert(h.type),p=M(h.internalFormat,d,g,h.encoding),f=H(n);r&&!1===G(n)?e.renderbufferStorageMultisample(36161,f,p,n.width,n.height):G(n)?m.renderbufferStorageMultisampleEXT(36161,f,p,n.width,n.height):e.renderbufferStorage(36161,p,n.width,n.height)}e.bindRenderbuffer(36161,null)}function j(t){var i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),B(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture,o=H(i);if(i.depthTexture.format===Je)G(i)?m.framebufferTexture2DMultisampleEXT(36160,36096,3553,a,0,o):e.framebufferTexture2D(36160,36096,3553,a,0);else{if(i.depthTexture.format!==$e)throw new Error("Unknown depthTexture format");G(i)?m.framebufferTexture2DMultisampleEXT(36160,33306,3553,a,0,o):e.framebufferTexture2D(36160,33306,3553,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(36160,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=e.createRenderbuffer(),z(i.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),z(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function H(e){return Math.min(f,e.samples)}function G(e){var n=r.get(e);return h&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function V(e,n){var r=e.encoding,i=e.format,a=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===In||r!==Qt&&(r===Wt?!1===h?!0===t.has("EXT_sRGB")&&i===Xe?(e.format=In,e.minFilter=Re,e.generateMipmaps=!1):n=lr.sRGBToLinear(n):i===Xe&&a===Oe||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",r)),n}this.allocateTextureUnit=function(){var e=L;return e>=d&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+d),L+=1,e},this.resetTextureUnits=function(){L=0},this.setTexture2D=B,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?F(i,e,t):n.bindTexture(35866,i.__webglTexture,33984+t)},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?F(i,e,t):n.bindTexture(32879,i.__webglTexture,33984+t)},this.setTextureCube=function(t,i){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,i,o){if(6===i.image.length){var s=N(t,i),u=i.source;n.bindTexture(34067,t.__webglTexture,33984+o);var l=r.get(u);if(u.version!==l.__version||!0===s){n.activeTexture(33984+o),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);for(var c=i.isCompressedTexture||i.image[0].isCompressedTexture,d=i.image[0]&&i.image[0].isDataTexture,p=[],f=0;f<6;f++)p[f]=c||d?d?i.image[f].image:i.image[f]:w(i.image[f],!1,!0,g),p[f]=V(i,p[f]);var m,v=p[0],y=E(v)||h,A=a.convert(i.format,i.encoding),b=a.convert(i.type),x=M(i.internalFormat,A,b,i.encoding),I=h&&!0!==i.isVideoTexture,T=void 0===l.__version||!0===s,k=S(i,v,y);if(O(34067,i,y),c){I&&T&&n.texStorage2D(34067,k,x,v.width,v.height);for(var R=0;R<6;R++){m=p[R].mipmaps;for(var L=0;L<m.length;L++){var B=m[L];i.format!==Xe?null!==A?I?n.compressedTexSubImage2D(34069+R,L,0,0,B.width,B.height,A,B.data):n.compressedTexImage2D(34069+R,L,x,B.width,B.height,0,B.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):I?n.texSubImage2D(34069+R,L,0,0,B.width,B.height,A,b,B.data):n.texImage2D(34069+R,L,x,B.width,B.height,0,A,b,B.data)}}}else{m=i.mipmaps,I&&T&&(m.length>0&&k++,n.texStorage2D(34067,k,x,p[0].width,p[0].height));for(var D=0;D<6;D++)if(d){I?n.texSubImage2D(34069+D,0,0,0,p[D].width,p[D].height,A,b,p[D].data):n.texImage2D(34069+D,0,x,p[D].width,p[D].height,0,A,b,p[D].data);for(var P=0;P<m.length;P++){var F=m[P].image[D].image;I?n.texSubImage2D(34069+D,P+1,0,0,F.width,F.height,A,b,F.data):n.texImage2D(34069+D,P+1,x,F.width,F.height,0,A,b,F.data)}}else{I?n.texSubImage2D(34069+D,0,0,0,A,b,p[D]):n.texImage2D(34069+D,0,x,A,b,p[D]);for(var U=0;U<m.length;U++){var z=m[U];I?n.texSubImage2D(34069+D,U+1,0,0,A,b,z.image[D]):n.texImage2D(34069+D,U+1,x,A,b,z.image[D])}}}_(i,y)&&C(34067),l.__version=u.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}}(o,t,i):n.bindTexture(34067,o.__webglTexture,33984+i)},this.rebindTextures=function(e,t,n){var i=r.get(e);void 0!==t&&U(i.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&j(e)},this.setupRenderTarget=function(t){var s=t.texture,u=r.get(t),l=r.get(s);t.addEventListener("dispose",k),!0!==t.isWebGLMultipleRenderTargets&&(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=s.version,o.memory.textures++);var c=!0===t.isWebGLCubeRenderTarget,d=!0===t.isWebGLMultipleRenderTargets,g=E(t)||h;if(c){u.__webglFramebuffer=[];for(var p=0;p<6;p++)u.__webglFramebuffer[p]=e.createFramebuffer()}else{if(u.__webglFramebuffer=e.createFramebuffer(),d)if(i.drawBuffers)for(var f=t.texture,m=0,v=f.length;m<v;m++){var y=r.get(f[m]);void 0===y.__webglTexture&&(y.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(h&&t.samples>0&&!1===G(t)){var A=d?s:[s];u.__webglMultisampledFramebuffer=e.createFramebuffer(),u.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer);for(var b=0;b<A.length;b++){var x=A[b];u.__webglColorRenderbuffer[b]=e.createRenderbuffer(),e.bindRenderbuffer(36161,u.__webglColorRenderbuffer[b]);var w=a.convert(x.format,x.encoding),S=a.convert(x.type),I=M(x.internalFormat,w,S,x.encoding,!0===t.isXRRenderTarget),T=H(t);e.renderbufferStorageMultisample(36161,T,I,t.width,t.height),e.framebufferRenderbuffer(36160,36064+b,36161,u.__webglColorRenderbuffer[b])}e.bindRenderbuffer(36161,null),t.depthBuffer&&(u.__webglDepthRenderbuffer=e.createRenderbuffer(),z(u.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}}if(c){n.bindTexture(34067,l.__webglTexture),O(34067,s,g);for(var R=0;R<6;R++)U(u.__webglFramebuffer[R],t,s,36064,34069+R);_(s,g)&&C(34067),n.unbindTexture()}else if(d){for(var L=t.texture,B=0,D=L.length;B<D;B++){var P=L[B],N=r.get(P);n.bindTexture(3553,N.__webglTexture),O(3553,P,g),U(u.__webglFramebuffer,t,P,36064+B,3553),_(P,g)&&C(3553)}n.unbindTexture()}else{var F=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(h?F=t.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(F,l.__webglTexture),O(F,s,g),U(u.__webglFramebuffer,t,s,36064,F),_(s,g)&&C(F),n.unbindTexture()}t.depthBuffer&&j(t)},this.updateRenderTargetMipmap=function(e){for(var t=E(e)||h,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture],a=0,o=i.length;a<o;a++){var s=i[a];if(_(s,t)){var u=e.isWebGLCubeRenderTarget?34067:3553,l=r.get(s).__webglTexture;n.bindTexture(u,l),C(u),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(h&&t.samples>0&&!1===G(t)){var i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height,s=16384,u=[],l=t.stencilBuffer?33306:36096,c=r.get(t),d=!0===t.isWebGLMultipleRenderTargets;if(d)for(var g=0;g<i.length;g++)n.bindFramebuffer(36160,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+g,36161,null),n.bindFramebuffer(36160,c.__webglFramebuffer),e.framebufferTexture2D(36009,36064+g,3553,null,0);n.bindFramebuffer(36008,c.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,c.__webglFramebuffer);for(var p=0;p<i.length;p++){u.push(36064+p),t.depthBuffer&&u.push(l);var f=void 0!==c.__ignoreDepthValues&&c.__ignoreDepthValues;if(!1===f&&(t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024)),d&&e.framebufferRenderbuffer(36008,36064,36161,c.__webglColorRenderbuffer[p]),!0===f&&(e.invalidateFramebuffer(36008,[l]),e.invalidateFramebuffer(36009,[l])),d){var m=r.get(i[p]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,m,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728),v&&e.invalidateFramebuffer(36008,u)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),d)for(var y=0;y<i.length;y++){n.bindFramebuffer(36160,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+y,36161,c.__webglColorRenderbuffer[y]);var A=r.get(i[y]).__webglTexture;n.bindFramebuffer(36160,c.__webglFramebuffer),e.framebufferTexture2D(36009,36064+y,3553,A,0)}n.bindFramebuffer(36009,c.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=j,this.setupFrameBufferTexture=U,this.useMultisampledRTT=G}function pu(e,t,n){var r=n.isWebGL2;return{convert:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n===Oe)return 5121;if(n===Ve)return 32819;if(n===Qe)return 32820;if(n===Ne)return 5120;if(n===Fe)return 5122;if(n===Ue)return 5123;if(n===ze)return 5124;if(n===je)return 5125;if(n===He)return 5126;if(n===Ge)return r?5131:null!==(i=t.get("OES_texture_half_float"))?i.HALF_FLOAT_OES:null;if(n===qe)return 6406;if(n===Xe)return 6408;if(n===Ze)return 6409;if(n===Ye)return 6410;if(n===Je)return 6402;if(n===$e)return 34041;if(n===Ke)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(n===In)return null!==(i=t.get("EXT_sRGB"))?i.SRGB_ALPHA_EXT:null;if(n===et)return 6403;if(n===tt)return 36244;if(n===nt)return 33319;if(n===rt)return 33320;if(n===it)return 36249;if(n===at||n===ot||n===st||n===ut)if(a===Wt){if(null===(i=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===at)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===ot)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===st)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===ut)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(i=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===at)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===ot)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===st)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===ut)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===lt||n===ct||n===ht||n===dt){if(null===(i=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(n===lt)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===ct)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===ht)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===dt)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===gt)return null!==(i=t.get("WEBGL_compressed_texture_etc1"))?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===pt||n===ft){if(null===(i=t.get("WEBGL_compressed_texture_etc")))return null;if(n===pt)return a===Wt?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===ft)return a===Wt?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===mt||n===vt||n===yt||n===At||n===bt||n===xt||n===wt||n===Et||n===_t||n===Ct||n===Mt||n===St||n===It||n===Tt){if(null===(i=t.get("WEBGL_compressed_texture_astc")))return null;if(n===mt)return a===Wt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===vt)return a===Wt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===yt)return a===Wt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===At)return a===Wt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===bt)return a===Wt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===xt)return a===Wt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===wt)return a===Wt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===Et)return a===Wt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===_t)return a===Wt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Ct)return a===Wt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Mt)return a===Wt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===St)return a===Wt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===It)return a===Wt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Tt)return a===Wt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===kt){if(null===(i=t.get("EXT_texture_compression_bptc")))return null;if(n===kt)return a===Wt?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT}return n===We?r?34042:null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[n]?e[n]:null}}}var fu=function(e){v(n,e);var t=y(n);function n(){var e;return p(this,n),(e=t.call(this)).isGroup=!0,e.type="Group",e}return f(n)}(Ei),mu=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return p(this,n),(e=t.call(this)).isArrayCamera=!0,e.cameras=r,e}return f(n)}(Ra),vu=new wr,yu=new wr;function Au(e){var t,n,r=this,i=null,a=null,o=null,s=[],u=new Jr,l=new Jr,c=1,h="local-floor";"undefined"!==typeof window&&"VRFrameData"in window&&(a=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",b,!1));var d=new Jr,g=new xr,p=new wr,f=new Ra;f.viewport=new pr,f.layers.enable(1);var m=new Ra;m.viewport=new pr,m.layers.enable(2);var v=new mu([f,m]);v.layers.enable(1),v.layers.enable(2);var y,A=new Vn;function b(){if(r.isPresenting=null!==i&&!0===i.isPresenting){var a=i.getEyeParameters("left");t=2*a.renderWidth*c,n=a.renderHeight*c,y=e.getPixelRatio(),e.getSize(A),e.setDrawingBufferSize(t,n,1),f.viewport.set(0,0,t/2,n),m.viewport.set(t/2,0,t/2,n),C.start(),r.dispatchEvent({type:"sessionstart"})}else r.enabled&&e.setDrawingBufferSize(A.width,A.height,y),C.stop(),r.dispatchEvent({type:"sessionend"})}var x=[],w=[];function E(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),n=0,r=t.length;n<r;n++){var i=t[n];if(i&&("Daydream Controller"===i.id||"Gear VR Controller"===i.id||"Oculus Go Controller"===i.id||"OpenVR Gamepad"===i.id||i.id.startsWith("Oculus Touch")||i.id.startsWith("HTC Vive Focus")||i.id.startsWith("Spatial Controller"))){var a=i.hand;if(0===e&&(""===a||"right"===a))return i;if(1===e&&"left"===a)return i}}}function _(e,r){null!==r&&4===r.length&&e.set(r[0]*t,r[1]*n,r[2]*t,r[3]*n)}this.enabled=!1,this.getController=function(e){var t=s[e];return void 0===t&&((t=new fu).matrixAutoUpdate=!1,t.visible=!1,s[e]=t),t},this.getDevice=function(){return i},this.setDevice=function(e){void 0!==e&&(i=e),C.setContext(e)},this.setFramebufferScaleFactor=function(e){c=e},this.setReferenceSpaceType=function(e){h=e},this.setPoseTarget=function(e){void 0!==e&&(o=e)},this.cameraAutoUpdate=!0,this.updateCamera=function(e){var t="local-floor"===h?1.6:0;if(i.depthNear=e.near,i.depthFar=e.far,i.getFrameData(a),"local-floor"===h){var n=i.stageParameters;n?u.fromArray(n.sittingToStandingTransform):u.makeTranslation(0,t,0)}var r=a.pose,c=null!==o?o:e;c.matrix.copy(u),c.matrix.decompose(c.position,c.quaternion,c.scale),null!==r.orientation&&(g.fromArray(r.orientation),c.quaternion.multiply(g)),null!==r.position&&(g.setFromRotationMatrix(u),p.fromArray(r.position),p.applyQuaternion(g),c.position.add(p)),c.updateMatrixWorld();for(var y=c.children,A=0,b=y.length;A<b;A++)y[A].updateMatrixWorld(!0);f.near=e.near,m.near=e.near,f.far=e.far,m.far=e.far,f.matrixWorldInverse.fromArray(a.leftViewMatrix),m.matrixWorldInverse.fromArray(a.rightViewMatrix),l.copy(u).invert(),"local-floor"===h&&(f.matrixWorldInverse.multiply(l),m.matrixWorldInverse.multiply(l));var C=c.parent;null!==C&&(d.copy(C.matrixWorld).invert(),f.matrixWorldInverse.multiply(d),m.matrixWorldInverse.multiply(d)),f.matrixWorld.copy(f.matrixWorldInverse).invert(),m.matrixWorld.copy(m.matrixWorldInverse).invert(),f.projectionMatrix.fromArray(a.leftProjectionMatrix),m.projectionMatrix.fromArray(a.rightProjectionMatrix),function(e,t,n){vu.setFromMatrixPosition(t.matrixWorld),yu.setFromMatrixPosition(n.matrixWorld);var r=vu.distanceTo(yu),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),u=(i[9]+1)/i[5],l=(i[9]-1)/i[5],c=(i[8]-1)/i[0],h=(a[8]+1)/a[0],d=o*c,g=o*h,p=r/(-c+h),f=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(f),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=o+p,v=s+p,y=d-f,A=g+(r-f),b=u*s/v*m,x=l*s/v*m;e.projectionMatrix.makePerspective(y,A,b,x,m,v)}(v,f,m);var M=i.getLayers();if(M.length){var S=M[0];_(f.viewport,S.leftBounds),_(m.viewport,S.rightBounds)}return function(){for(var e=0;e<s.length;e++){var t=s[e],n=E(e);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var r=n.pose;!1===r.hasPosition&&t.position.set(.2,-.6,-.05),null!==r.position&&t.position.fromArray(r.position),null!==r.orientation&&t.quaternion.fromArray(r.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(u),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var i="Daydream Controller"===n.id?0:1;void 0===x[e]&&(x[e]=!1),x[e]!==n.buttons[i].pressed&&(x[e]=n.buttons[i].pressed,!0===x[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"}))),i=2,void 0===w[e]&&(w[e]=!1),void 0!==n.buttons[i]&&w[e]!==n.buttons[i].pressed&&(w[e]=n.buttons[i].pressed,!0===w[e]?t.dispatchEvent({type:"squeezestart"}):(t.dispatchEvent({type:"squeezeend"}),t.dispatchEvent({type:"squeeze"})))}else t.visible=!1}}(),v},this.getCamera=function(){return v},this.getFoveation=function(){return 1},this.setFoveation=function(e){1!==e&&console.warn("THREE.WebVRManager: setFoveation() not used in WebVR.")},this.getStandingMatrix=function(){return u},this.isPresenting=!1;var C=new Ga;this.setAnimationLoop=function(e){C.setAnimationLoop(e),this.isPresenting&&C.start()},this.submitFrame=function(){this.isPresenting&&i.submitFrame()},this.dispose=function(){"undefined"!==typeof window&&window.removeEventListener("vrdisplaypresentchange",b)},this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}Object.assign(Au.prototype,{addEventListener:Tn.prototype.addEventListener,hasEventListener:Tn.prototype.hasEventListener,removeEventListener:Tn.prototype.removeEventListener,dispatchEvent:Tn.prototype.dispatchEvent});var bu={type:"move"},xu=function(){function e(){p(this,e),this._targetRay=null,this._grip=null,this._hand=null}return f(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new fu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new fu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new wr,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new wr),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new fu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new wr,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new wr),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"connect",value:function(e){if(e&&e.hand){var t=this._hand;if(t){var n,r=g(e.hand.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this._getHandJoint(t,i)}}catch(a){r.e(a)}finally{r.f()}}}return this.dispatchEvent({type:"connected",data:e}),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,u=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(u&&e.hand){a=!0;var l,c=g(e.hand.values());try{for(c.s();!(l=c.n()).done;){var h=l.value,d=t.getJointPose(h,n),p=this._getHandJoint(u,h);null!==d&&(p.matrix.fromArray(d.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.jointRadius=d.radius),p.visible=null!==d}}catch(y){c.e(y)}finally{c.f()}var f=u.joints["index-finger-tip"],m=u.joints["thumb-tip"],v=f.position.distanceTo(m.position);u.inputState.pinching&&v>.025?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&v<=.015&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1);null!==o&&(null===(r=t.getPose(e.targetRaySpace,n))&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(bu)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==u&&(u.visible=null!==a),this}},{key:"_getHandJoint",value:function(e,t){if(void 0===e.joints[t.jointName]){var n=new fu;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}]),e}(),wu=function(e){v(n,e);var t=y(n);function n(e,r,i,a,o,s,u,l,c,h){var d;if(p(this,n),(h=void 0!==h?h:Je)!==Je&&h!==$e)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&h===Je&&(i=je),void 0===i&&h===$e&&(i=We),(d=t.call(this,null,a,o,s,u,l,h,i,c)).isDepthTexture=!0,d.image={width:e,height:r},d.magFilter=void 0!==u?u:Me,d.minFilter=void 0!==l?l:Me,d.flipY=!1,d.generateMipmaps=!1,d}return f(n)}(gr),Eu=function(e){v(n,e);var t=y(n);function n(e,r){var i;p(this,n),i=t.call(this);var o=m(i),s=null,l=1,c=null,h=null,d="local-floor",f=null,v=null,y=[],A=null,b=null,x=null,w=null,E=r.getContextAttributes(),_=null,C=null,M=[],S=[],I=new Set,T=new Map,k=new Ra;k.layers.enable(1),k.viewport=new pr;var R=new Ra;R.layers.enable(2),R.viewport=new pr;var L=[k,R],B=new mu;B.layers.enable(1),B.layers.enable(2);var D=null,P=null;function O(e){var t=S.indexOf(e.inputSource);if(-1!==t){var n=M[t];void 0!==n&&n.dispatchEvent({type:e.type,data:e.inputSource})}}function N(){s.removeEventListener("select",O),s.removeEventListener("selectstart",O),s.removeEventListener("selectend",O),s.removeEventListener("squeeze",O),s.removeEventListener("squeezestart",O),s.removeEventListener("squeezeend",O),s.removeEventListener("end",N),s.removeEventListener("inputsourceschange",F);for(var t=0;t<M.length;t++){var n=S[t];null!==n&&(S[t]=null,M[t].disconnect(n))}D=null,P=null,e.setRenderTarget(_),x=null,b=null,A=null,s=null,C=null,G.stop(),o.isPresenting=!1,o.dispatchEvent({type:"sessionend"})}function F(e){for(var t=0;t<e.removed.length;t++){var n=e.removed[t],r=S.indexOf(n);r>=0&&(S[r]=null,M[r].disconnect(n))}for(var i=0;i<e.added.length;i++){var a=e.added[i],o=S.indexOf(a);if(-1===o){for(var s=0;s<M.length;s++){if(s>=S.length){S.push(a),o=s;break}if(null===S[s]){S[s]=a,o=s;break}}if(-1===o)break}var u=M[o];u&&u.connect(a)}}i.cameraAutoUpdate=!0,i.layersEnabled=!1,i.enabled=!1,i.isPresenting=!1,i.getCameraPose=function(){return v},i.getController=function(e){var t=M[e];return void 0===t&&(t=new xu,M[e]=t),t.getTargetRaySpace()},i.getControllerGrip=function(e){var t=M[e];return void 0===t&&(t=new xu,M[e]=t),t.getGripSpace()},i.getHand=function(e){var t=M[e];return void 0===t&&(t=new xu,M[e]=t),t.getHandSpace()},i.setFramebufferScaleFactor=function(e){l=e,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},i.setReferenceSpaceType=function(e){d=e,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},i.getReferenceSpace=function(){return f||h},i.setReferenceSpace=function(e){f=e},i.getBaseLayer=function(){return null!==b?b:x},i.getBinding=function(){return A},i.getFrame=function(){return w},i.getSession=function(){return s},i.setSession=function(){var t=a(u().mark((function t(n){var i,a,c,g,p;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(s=n)){t.next=25;break}if(_=e.getRenderTarget(),s.addEventListener("select",O),s.addEventListener("selectstart",O),s.addEventListener("selectend",O),s.addEventListener("squeeze",O),s.addEventListener("squeezestart",O),s.addEventListener("squeezeend",O),s.addEventListener("end",N),s.addEventListener("inputsourceschange",F),!0===E.xrCompatible){t.next=14;break}return t.next=14,r.makeXRCompatible();case 14:return void 0===s.renderState.layers||!1===e.capabilities.isWebGL2?(i={antialias:void 0!==s.renderState.layers||E.antialias,alpha:E.alpha,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:l},x=new XRWebGLLayer(s,r,i),s.updateRenderState({baseLayer:x}),C=new fr(x.framebufferWidth,x.framebufferHeight,{format:Xe,type:Oe,encoding:e.outputEncoding,stencilBuffer:E.stencil})):(a=null,c=null,g=null,E.depth&&(g=E.stencil?35056:33190,a=E.stencil?$e:Je,c=E.stencil?We:je),p={colorFormat:32856,depthFormat:g,scaleFactor:l},A=new XRWebGLBinding(s,r),b=A.createProjectionLayer(p),s.updateRenderState({layers:[b]}),C=new fr(b.textureWidth,b.textureHeight,{format:Xe,type:Oe,depthTexture:new wu(b.textureWidth,b.textureHeight,c,void 0,void 0,void 0,void 0,void 0,void 0,a),stencilBuffer:E.stencil,encoding:e.outputEncoding,samples:E.antialias?4:0}),e.properties.get(C).__ignoreDepthValues=b.ignoreDepthValues),C.isXRRenderTarget=!0,this.setFoveation(1),f=null,t.next=20,s.requestReferenceSpace(d);case 20:h=t.sent,G.setContext(s),G.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"});case 25:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i.addLayer=function(e){window.XRWebGLBinding&&this.layersEnabled&&s&&(y.push(e),this.updateLayers())},i.removeLayer=function(e){y.splice(y.indexOf(e),1),window.XRWebGLBinding&&this.layersEnabled&&s&&this.updateLayers()},i.updateLayers=function(){var e=y.map((function(e){return e}));e.unshift(s.renderState.layers[0]),s.updateRenderState({layers:e})};var U=new wr,z=new wr;function j(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}i.setPoseTarget=function(e){void 0!==e&&(c=e)},i.updateCamera=function(e){if(null!==s){B.near=R.near=k.near=e.near,B.far=R.far=k.far=e.far,D===B.near&&P===B.far||(s.updateRenderState({depthNear:B.near,depthFar:B.far}),D=B.near,P=B.far);var t=B.cameras,n=c||e,r=n.parent;j(B,r);for(var i=0;i<t.length;i++)j(t[i],r);B.matrixWorld.decompose(B.position,B.quaternion,B.scale),n.matrixWorld.copy(B.matrixWorld),n.matrix.copy(B.matrix),n.matrix.decompose(n.position,n.quaternion,n.scale);for(var a=n.children,o=0,u=a.length;o<u;o++)a[o].updateMatrixWorld(!0);2===t.length?function(e,t,n){U.setFromMatrixPosition(t.matrixWorld),z.setFromMatrixPosition(n.matrixWorld);var r=U.distanceTo(z),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),u=(i[9]+1)/i[5],l=(i[9]-1)/i[5],c=(i[8]-1)/i[0],h=(a[8]+1)/a[0],d=o*c,g=o*h,p=r/(-c+h),f=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(f),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=o+p,v=s+p,y=d-f,A=g+(r-f),b=u*s/v*m,x=l*s/v*m;e.projectionMatrix.makePerspective(y,A,b,x,m,v)}(B,k,R):B.projectionMatrix.copy(k.projectionMatrix)}},i.getCamera=function(){return B},i.getFoveation=function(){return null!==b?b.fixedFoveation:null!==x?x.fixedFoveation:void 0},i.setFoveation=function(e){null!==b&&(b.fixedFoveation=e),null!==x&&void 0!==x.fixedFoveation&&(x.fixedFoveation=e)},i.getPlanes=function(){return I};var H=null,G=new Ga;return G.setAnimationLoop((function(t,n){if(v=n.getViewerPose(f||h),w=n,null!==v){var r=v.views;null!==x&&(e.setRenderTargetFramebuffer(C,x.framebuffer),e.setRenderTarget(C));var i=!1;r.length!==B.cameras.length&&(B.cameras.length=0,i=!0);for(var a=0;a<r.length;a++){var s=r[a],u=null;if(null!==x)u=x.getViewport(s);else{var l=A.getViewSubImage(b,s);u=l.viewport,0===a&&(e.setRenderTargetTextures(C,l.colorTexture,b.ignoreDepthValues?void 0:l.depthStencilTexture),e.setRenderTarget(C))}var c=L[a];void 0===c&&((c=new Ra).layers.enable(a),c.viewport=new pr,L[a]=c),c.matrix.fromArray(s.transform.matrix),c.projectionMatrix.fromArray(s.projectionMatrix),c.viewport.set(u.x,u.y,u.width,u.height),0===a&&B.matrix.copy(c.matrix),!0===i&&B.cameras.push(c)}}for(var d=0;d<M.length;d++){var p=S[d],m=M[d];null!==p&&void 0!==m&&m.update(p,n,f||h)}if(H&&H(t,n),n.detectedPlanes){o.dispatchEvent({type:"planesdetected",data:n.detectedPlanes});var y,E=null,_=g(I);try{for(_.s();!(y=_.n()).done;){var k=y.value;n.detectedPlanes.has(k)||(null===E&&(E=[]),E.push(k))}}catch(z){_.e(z)}finally{_.f()}if(null!==E){var R,D=g(E);try{for(D.s();!(R=D.n()).done;){var P=R.value;I.delete(P),T.delete(P),o.dispatchEvent({type:"planeremoved",data:P})}}catch(z){D.e(z)}finally{D.f()}}var O,N=g(n.detectedPlanes);try{for(N.s();!(O=N.n()).done;){var F=O.value;if(I.has(F)){var U=T.get(F);F.lastChangedTime>U&&(T.set(F,F.lastChangedTime),o.dispatchEvent({type:"planechanged",data:F}))}else I.add(F),T.set(F,n.lastChangedTime),o.dispatchEvent({type:"planeadded",data:F})}}catch(z){N.e(z)}finally{N.f()}}w=null})),i.setAnimationLoop=function(e){H=e},i.dispose=function(){},i}return f(n)}(Tn);function _u(e,t){function n(n,r){n.opacity.value=r.opacity,r.color&&n.diffuse.value.copy(r.color),r.emissive&&n.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(n.map.value=r.map),r.alphaMap&&(n.alphaMap.value=r.alphaMap),r.bumpMap&&(n.bumpMap.value=r.bumpMap,n.bumpScale.value=r.bumpScale,r.side===k&&(n.bumpScale.value*=-1)),r.displacementMap&&(n.displacementMap.value=r.displacementMap,n.displacementScale.value=r.displacementScale,n.displacementBias.value=r.displacementBias),r.emissiveMap&&(n.emissiveMap.value=r.emissiveMap),r.normalMap&&(n.normalMap.value=r.normalMap,n.normalScale.value.copy(r.normalScale),r.side===k&&n.normalScale.value.negate()),r.specularMap&&(n.specularMap.value=r.specularMap),r.alphaTest>0&&(n.alphaTest.value=r.alphaTest);var i,a,o=t.get(r).envMap;if(o&&(n.envMap.value=o,n.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,n.reflectivity.value=r.reflectivity,n.ior.value=r.ior,n.refractionRatio.value=r.refractionRatio),r.lightMap){n.lightMap.value=r.lightMap;var s=!0!==e.physicallyCorrectLights?Math.PI:1;n.lightMapIntensity.value=r.lightMapIntensity*s}r.aoMap&&(n.aoMap.value=r.aoMap,n.aoMapIntensity.value=r.aoMapIntensity),r.map?i=r.map:r.specularMap?i=r.specularMap:r.displacementMap?i=r.displacementMap:r.normalMap?i=r.normalMap:r.bumpMap?i=r.bumpMap:r.roughnessMap?i=r.roughnessMap:r.metalnessMap?i=r.metalnessMap:r.alphaMap?i=r.alphaMap:r.emissiveMap?i=r.emissiveMap:r.clearcoatMap?i=r.clearcoatMap:r.clearcoatNormalMap?i=r.clearcoatNormalMap:r.clearcoatRoughnessMap?i=r.clearcoatRoughnessMap:r.iridescenceMap?i=r.iridescenceMap:r.iridescenceThicknessMap?i=r.iridescenceThicknessMap:r.specularIntensityMap?i=r.specularIntensityMap:r.specularColorMap?i=r.specularColorMap:r.transmissionMap?i=r.transmissionMap:r.thicknessMap?i=r.thicknessMap:r.sheenColorMap?i=r.sheenColorMap:r.sheenRoughnessMap&&(i=r.sheenRoughnessMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),n.uvTransform.value.copy(i.matrix)),r.aoMap?a=r.aoMap:r.lightMap&&(a=r.lightMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),n.uv2Transform.value.copy(a.matrix))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,Sa(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,r,i,a,o){r.isMeshBasicMaterial||r.isMeshLambertMaterial?n(e,r):r.isMeshToonMaterial?(n(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,r)):r.isMeshPhongMaterial?(n(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,r)):r.isMeshStandardMaterial?(n(e,r),function(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap);var r=t.get(n).envMap;r&&(e.envMapIntensity.value=n.envMapIntensity)}(e,r),r.isMeshPhysicalMaterial&&function(e,t,n){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap)),t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===k&&e.clearcoatNormalScale.value.negate())),t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap)),t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=n.texture,e.transmissionSamplerSize.value.set(n.width,n.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor)),e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}(e,r,o)):r.isMeshMatcapMaterial?(n(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,r)):r.isMeshDepthMaterial?n(e,r):r.isMeshDistanceMaterial?(n(e,r),function(e,t){e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?n(e,r):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){var i;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest),t.map?i=t.map:t.alphaMap&&(i=t.alphaMap),void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,r,i,a):r.isSpriteMaterial?function(e,t){var n;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest),t.map?n=t.map:t.alphaMap&&(n=t.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function Cu(e,t,n,r){var i={},a={},o=[],s=n.isWebGL2?e.getParameter(35375):0;function u(e,t,n){var r=e.value;if(void 0===n[t])return n[t]="number"===typeof r?r:r.clone(),!0;if("number"===typeof r){if(n[t]!==r)return n[t]=r,!0}else{var i=n[t];if(!1===i.equals(r))return i.copy(r),!0}return!1}function l(e){var t=e.value,n={boundary:0,storage:0};return"number"===typeof t?(n.boundary=4,n.storage=4):t.isVector2?(n.boundary=8,n.storage=8):t.isVector3||t.isColor?(n.boundary=16,n.storage=12):t.isVector4?(n.boundary=16,n.storage=16):t.isMatrix3?(n.boundary=48,n.storage=48):t.isMatrix4?(n.boundary=64,n.storage=64):t.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",t),n}function c(t){var n=t.target;n.removeEventListener("dispose",c);var r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){var n=t.program;r.uniformBlockBinding(e,n)},update:function(n,h){var d=i[n.id];void 0===d&&(function(e){for(var t=e.uniforms,n=0,r=16,i=0,a=0,o=t.length;a<o;a++){var s=t[a],u=l(s);s.__data=new Float32Array(u.storage/Float32Array.BYTES_PER_ELEMENT),s.__offset=n,a>0&&0!==(i=n%r)&&r-i-u.boundary<0&&(n+=r-i,s.__offset=n),n+=u.storage}(i=n%r)>0&&(n+=r-i),e.__size=n,e.__cache={}}(n),d=function(t){var n=function(){for(var e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;var r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(35345,r),e.bufferData(35345,i,a),e.bindBuffer(35345,null),e.bindBufferBase(35345,n,r),r}(n),i[n.id]=d,n.addEventListener("dispose",c));var g=h.program;r.updateUBOMapping(n,g);var p=t.render.frame;a[n.id]!==p&&(function(t){var n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(35345,n);for(var o=0,s=r.length;o<s;o++){var l=r[o];if(!0===u(l,o,a)){var c=l.value,h=l.__offset;"number"===typeof c?(l.__data[0]=c,e.bufferSubData(35345,h,l.__data)):(l.value.isMatrix3?(l.__data[0]=l.value.elements[0],l.__data[1]=l.value.elements[1],l.__data[2]=l.value.elements[2],l.__data[3]=l.value.elements[0],l.__data[4]=l.value.elements[3],l.__data[5]=l.value.elements[4],l.__data[6]=l.value.elements[5],l.__data[7]=l.value.elements[0],l.__data[8]=l.value.elements[6],l.__data[9]=l.value.elements[7],l.__data[10]=l.value.elements[8],l.__data[11]=l.value.elements[0]):c.toArray(l.__data),e.bufferSubData(35345,h,l.__data))}}e.bindBuffer(35345,null)}(n),a[n.id]=p)},dispose:function(){for(var t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}function Mu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isWebGLRenderer=!0;var t,n=void 0!==e.canvas?e.canvas:function(){var e=Zn("canvas");return e.style.display="block",e}(),r=void 0!==e.context?e.context:null,i=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,u=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",h=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;t=null!==r?r.getContextAttributes().alpha:void 0!==e.alpha&&e.alpha;var d=null,g=null,p=[],f=[];this.domElement=n,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Qt,this.physicallyCorrectLights=!1,this.toneMapping=he,this.toneMappingExposure=1;var m=this,v=!1,y=0,A=0,b=null,x=-1,w=null,E=new pr,_=new pr,C=null,M=n.width,S=n.height,I=1,L=null,B=null,D=new pr(0,0,M,S),P=new pr(0,0,M,S),O=!1,N=new Ha,F=!1,U=!1,z=null,j=new Jr,H=new Vn,G=new wr,V={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Q(){return null===b?I:1}var W,q,K,X,Z,Y,J,$,ee,te,ne,re,ie,ae,oe,se,ue,le,ce,de,ge,pe,fe,me,ve=r;function ye(e,t){for(var r=0;r<e.length;r++){var i=e[r],a=n.getContext(i,t);if(null!==a)return a}return null}try{var Ae={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:h};if("setAttribute"in n&&n.setAttribute("data-engine","three.js r".concat(l)),n.addEventListener("webglcontextlost",Ee,!1),n.addEventListener("webglcontextrestored",_e,!1),n.addEventListener("webglcontextcreationerror",Ce,!1),null===ve){var be=["webgl2","webgl","experimental-webgl"];if(!0===m.isWebGL1Renderer&&be.shift(),null===(ve=ye(be,Ae)))throw ye(be)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ve.getShaderPrecisionFormat&&(ve.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ue){throw console.error("THREE.WebGLRenderer: "+Ue.message),Ue}function xe(){W=new yo(ve),q=new $a(ve,W,e),W.init(q),pe=new pu(ve,W,q),K=new du(ve,W,q),X=new xo(ve),Z=new Zs,Y=new gu(ve,W,K,Z,q,pe,X),J=new to(m),$=new vo(m),ee=new Va(ve,q),fe=new Ya(ve,W,ee,q),te=new Ao(ve,ee,X,fe),ne=new Co(ve,te,ee,X),ce=new _o(ve,q,Y),se=new eo(Z),re=new Xs(m,J,$,W,q,fe,se),ie=new _u(m,Z),ae=new eu,oe=new ou(W,q),le=new Za(m,J,$,K,ne,t,s),ue=new hu(m,ne,q),me=new Cu(ve,X,q,K),de=new Ja(ve,W,X,q),ge=new bo(ve,W,X,q),X.programs=re.programs,m.capabilities=q,m.extensions=W,m.properties=Z,m.renderLists=ae,m.shadowMap=ue,m.state=K,m.info=X}xe();var we="undefined"!==typeof navigator&&"xr"in navigator?new Eu(m,ve):new Au(m);function Ee(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function _e(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;var e=X.autoReset,t=ue.enabled,n=ue.autoUpdate,r=ue.needsUpdate,i=ue.type;xe(),X.autoReset=e,ue.enabled=t,ue.autoUpdate=n,ue.needsUpdate=r,ue.type=i}function Ce(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Me(e){var t=e.target;t.removeEventListener("dispose",Me),function(e){(function(e){var t=Z.get(e).programs;void 0!==t&&(t.forEach((function(e){re.releaseProgram(e)})),e.isShaderMaterial&&re.releaseShaderCache(e))})(e),Z.remove(e)}(t)}this.xr=we,this.getContext=function(){return ve},this.getContextAttributes=function(){return ve.getContextAttributes()},this.forceContextLoss=function(){var e=W.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=W.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(e){void 0!==e&&(I=e,this.setSize(M,S,!1))},this.getSize=function(e){return e.set(M,S)},this.setSize=function(e,t,r){we.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(M=e,S=t,n.width=Math.floor(e*I),n.height=Math.floor(t*I),!1!==r&&(n.style.width=e+"px",n.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(M*I,S*I).floor()},this.setDrawingBufferSize=function(e,t,r){M=e,S=t,I=r,n.width=Math.floor(e*r),n.height=Math.floor(t*r),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(E)},this.getViewport=function(e){return e.copy(D)},this.setViewport=function(e,t,n,r){e.isVector4?D.set(e.x,e.y,e.z,e.w):D.set(e,t,n,r),K.viewport(E.copy(D).multiplyScalar(I).floor())},this.getScissor=function(e){return e.copy(P)},this.setScissor=function(e,t,n,r){e.isVector4?P.set(e.x,e.y,e.z,e.w):P.set(e,t,n,r),K.scissor(_.copy(P).multiplyScalar(I).floor())},this.getScissorTest=function(){return O},this.setScissorTest=function(e){K.setScissorTest(O=e)},this.setOpaqueSort=function(e){L=e},this.setTransparentSort=function(e){B=e},this.getClearColor=function(e){return e.copy(le.getClearColor())},this.setClearColor=function(){le.setClearColor.apply(le,arguments)},this.getClearAlpha=function(){return le.getClearAlpha()},this.setClearAlpha=function(){le.setClearAlpha.apply(le,arguments)},this.clear=function(){var e=0;(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(e|=16384),(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(e|=256),(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&(e|=1024),ve.clear(e)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ee,!1),n.removeEventListener("webglcontextrestored",_e,!1),n.removeEventListener("webglcontextcreationerror",Ce,!1),ae.dispose(),oe.dispose(),Z.dispose(),J.dispose(),$.dispose(),ne.dispose(),fe.dispose(),me.dispose(),re.dispose(),we.dispose(),we.removeEventListener("sessionstart",Ie),we.removeEventListener("sessionend",Te),z&&(z.dispose(),z=null),ke.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=V);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=V),Y.resetTextureUnits();var a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===b?m.outputEncoding:!0===b.isXRRenderTarget?b.texture.encoding:Qt,u=(r.isMeshStandardMaterial?$:J).get(r.envMap||o),l=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!r.normalMap&&!!n.attributes.tangent,h=!!n.morphAttributes.position,d=!!n.morphAttributes.normal,p=!!n.morphAttributes.color,f=r.toneMapped?m.toneMapping:he,v=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,y=void 0!==v?v.length:0,A=Z.get(r),E=g.state.lights;if(!0===F&&(!0===U||e!==w)){var _=e===w&&r.id===x;se.setState(r,e,_)}var C=!1;r.version===A.__version?A.needsLights&&A.lightsStateVersion!==E.state.version||A.outputEncoding!==s||i.isInstancedMesh&&!1===A.instancing?C=!0:i.isInstancedMesh||!0!==A.instancing?i.isSkinnedMesh&&!1===A.skinning?C=!0:i.isSkinnedMesh||!0!==A.skinning?A.envMap!==u||!0===r.fog&&A.fog!==a?C=!0:void 0===A.numClippingPlanes||A.numClippingPlanes===se.numPlanes&&A.numIntersection===se.numIntersection?(A.vertexAlphas!==l||A.vertexTangents!==c||A.morphTargets!==h||A.morphNormals!==d||A.morphColors!==p||A.toneMapping!==f||!0===q.isWebGL2&&A.morphTargetsCount!==y)&&(C=!0):C=!0:C=!0:C=!0:(C=!0,A.__version=r.version);var M=A.currentProgram;!0===C&&(M=Ne(r,t,i));var T=!1,k=!1,R=!1,L=M.getUniforms(),B=A.uniforms;if(K.useProgram(M.program)&&(T=!0,k=!0,R=!0),r.id!==x&&(x=r.id,k=!0),T||w!==e){if(L.setValue(ve,"projectionMatrix",e.projectionMatrix),q.logarithmicDepthBuffer&&L.setValue(ve,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),w!==e&&(w=e,k=!0,R=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var D=L.map.cameraPosition;void 0!==D&&D.setValue(ve,G.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&L.setValue(ve,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&L.setValue(ve,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){L.setOptional(ve,i,"bindMatrix"),L.setOptional(ve,i,"bindMatrixInverse");var P=i.skeleton;P&&(q.floatVertexTextures?(null===P.boneTexture&&P.computeBoneTexture(),L.setValue(ve,"boneTexture",P.boneTexture,Y),L.setValue(ve,"boneTextureSize",P.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}var O,N,j=n.morphAttributes;if((void 0!==j.position||void 0!==j.normal||void 0!==j.color&&!0===q.isWebGL2)&&ce.update(i,n,r,M),(k||A.receiveShadow!==i.receiveShadow)&&(A.receiveShadow=i.receiveShadow,L.setValue(ve,"receiveShadow",i.receiveShadow)),r.isMeshGouraudMaterial&&null!==r.envMap&&(B.envMap.value=u,B.flipEnvMap.value=u.isCubeTexture&&!1===u.isRenderTargetTexture?-1:1),k&&(L.setValue(ve,"toneMappingExposure",m.toneMappingExposure),A.needsLights&&(N=R,(O=B).ambientLightColor.needsUpdate=N,O.lightProbe.needsUpdate=N,O.directionalLights.needsUpdate=N,O.directionalLightShadows.needsUpdate=N,O.pointLights.needsUpdate=N,O.pointLightShadows.needsUpdate=N,O.spotLights.needsUpdate=N,O.spotLightShadows.needsUpdate=N,O.rectAreaLights.needsUpdate=N,O.hemisphereLights.needsUpdate=N),a&&!0===r.fog&&ie.refreshFogUniforms(B,a),ie.refreshMaterialUniforms(B,r,I,S,z),Ts.upload(ve,A.uniformsList,B,Y)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(Ts.upload(ve,A.uniformsList,B,Y),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&L.setValue(ve,"center",i.center),L.setValue(ve,"modelViewMatrix",i.modelViewMatrix),L.setValue(ve,"normalMatrix",i.normalMatrix),L.setValue(ve,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial)for(var H=r.uniformsGroups,Q=0,W=H.length;Q<W;Q++)if(q.isWebGL2){var X=H[Q];me.update(X,M),me.bind(X,M)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");return M}(e,t,n,r,i);K.setMaterial(r,o);var u=n.index,l=1;!0===r.wireframe&&(u=te.getWireframeAttribute(n),l=2);var c=n.drawRange,h=n.attributes.position,d=c.start*l,p=(c.start+c.count)*l;null!==a&&(d=Math.max(d,a.start*l),p=Math.min(p,(a.start+a.count)*l)),null!==u?(d=Math.max(d,0),p=Math.min(p,u.count)):void 0!==h&&null!==h&&(d=Math.max(d,0),p=Math.min(p,h.count));var f=p-d;if(!(f<0||f===1/0)){var v;fe.setup(i,r,s,n,u);var y=de;if(null!==u&&(v=ee.get(u),(y=ge).setIndex(v)),i.isMesh)!0===r.wireframe?(K.setLineWidth(r.wireframeLinewidth*Q()),y.setMode(1)):y.setMode(4);else if(i.isLine){var A=r.linewidth;void 0===A&&(A=1),K.setLineWidth(A*Q()),i.isLineSegments?y.setMode(1):i.isLineLoop?y.setMode(2):y.setMode(3)}else i.isPoints?y.setMode(0):i.isSprite&&y.setMode(4);if(i.isInstancedMesh)y.renderInstances(d,f,i.count);else if(n.isInstancedBufferGeometry){var E=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,_=Math.min(n.instanceCount,E);y.renderInstances(d,f,_)}else y.render(d,f)}},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===R?(e.side=k,e.needsUpdate=!0,Ne(e,t,n),e.side=T,e.needsUpdate=!0,Ne(e,t,n),e.side=R):Ne(e,t,n)}(g=oe.get(e)).init(),f.push(g),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(g.pushLight(e),e.castShadow&&g.pushShadow(e))})),g.setupLights(m.physicallyCorrectLights),e.traverse((function(t){var r=t.material;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++)n(r[i],e,t);else n(r,e,t)})),f.pop(),g=null};var Se=null;function Ie(){ke.stop()}function Te(){ke.start()}var ke=new Ga;function Re(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)g.pushLight(e),e.castShadow&&g.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||N.intersectsSprite(e)){r&&G.setFromMatrixPosition(e.matrixWorld).applyMatrix4(j);var i=ne.update(e),a=e.material;a.visible&&d.push(e,i,a,n,G.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==X.render.frame&&(e.skeleton.update(),e.skeleton.frame=X.render.frame),!e.frustumCulled||N.intersectsObject(e))){r&&G.setFromMatrixPosition(e.matrixWorld).applyMatrix4(j);var o=ne.update(e),s=e.material;if(Array.isArray(s))for(var u=o.groups,l=0,c=u.length;l<c;l++){var h=u[l],p=s[h.materialIndex];p&&p.visible&&d.push(e,o,p,n,G.z,h)}else s.visible&&d.push(e,o,s,n,G.z,null)}for(var f=e.children,m=0,v=f.length;m<v;m++)Re(f[m],t,n,r)}}function Le(e,t,n,r){var i=e.opaque,a=e.transmissive,s=e.transparent;g.setupLightsView(n),a.length>0&&function(e,t,n){var r=q.isWebGL2;null===z&&(z=new fr(1,1,{generateMipmaps:!0,type:W.has("EXT_color_buffer_half_float")?Ge:Oe,minFilter:De,samples:r&&!0===o?4:0})),m.getDrawingBufferSize(H),r?z.setSize(H.x,H.y):z.setSize(zn(H.x),zn(H.y));var i=m.getRenderTarget();m.setRenderTarget(z),m.clear();var a=m.toneMapping;m.toneMapping=he,Be(e,t,n),m.toneMapping=a,Y.updateMultisampleRenderTarget(z),Y.updateRenderTargetMipmap(z),m.setRenderTarget(i)}(i,t,n),r&&K.viewport(E.copy(r)),i.length>0&&Be(i,t,n),a.length>0&&Be(a,t,n),s.length>0&&Be(s,t,n),K.buffers.depth.setTest(!0),K.buffers.depth.setMask(!0),K.buffers.color.setMask(!0),K.setPolygonOffset(!1)}function Be(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,u=o.geometry,l=null===r?o.material:r,c=o.group;s.layers.test(n.layers)&&Pe(s,t,n,u,l,c)}}function Pe(e,t,n,r,i,a){e.onBeforeRender(m,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(m,t,n,r,e,a),!0===i.transparent&&i.side===R?(i.side=k,i.needsUpdate=!0,m.renderBufferDirect(n,t,r,i,e,a),i.side=T,i.needsUpdate=!0,m.renderBufferDirect(n,t,r,i,e,a),i.side=R):m.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(m,t,n,r,i,a)}function Ne(e,t,n){!0!==t.isScene&&(t=V);var r=Z.get(e),i=g.state.lights,a=g.state.shadowsArray,o=i.state.version,s=re.getParameters(e,i.state,a,t,n),u=re.getProgramCacheKey(s),l=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?$:J).get(e.envMap||r.environment),void 0===l&&(e.addEventListener("dispose",Me),l=new Map,r.programs=l);var c=l.get(u);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return Fe(e,s),c}else s.uniforms=re.getUniforms(e),e.onBuild(n,s,m),e.onBeforeCompile(s,m),c=re.acquireProgram(s,u),l.set(u,c),r.uniforms=s.uniforms;var h=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(h.clippingPlanes=se.uniform),Fe(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotLightMatrix.value=i.state.spotLightMatrix,h.spotLightMap.value=i.state.spotLightMap,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix);var d=c.getUniforms(),p=Ts.seqWithValue(d.seq,h);return r.currentProgram=c,r.uniformsList=p,c}function Fe(e,t){var n=Z.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}ke.setAnimationLoop((function(e){Se&&Se(e)})),"undefined"!==typeof self&&ke.setContext(self),this.setAnimationLoop=function(e){Se=e,we.setAnimationLoop(e),null===e?ke.stop():ke.start()},we.addEventListener("sessionstart",Ie),we.addEventListener("sessionend",Te),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==v){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===we.enabled&&!0===we.isPresenting&&(!0===we.cameraAutoUpdate&&we.updateCamera(t),t=we.getCamera()),!0===e.isScene&&e.onBeforeRender(m,e,t,b),(g=oe.get(e,f.length)).init(),f.push(g),j.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),N.setFromProjectionMatrix(j),U=this.localClippingEnabled,F=se.init(this.clippingPlanes,U,t),(d=ae.get(e,p.length)).init(),p.push(d),Re(e,t,0,m.sortObjects),d.finish(),!0===m.sortObjects&&d.sort(L,B),!0===F&&se.beginShadows();var n=g.state.shadowsArray;if(ue.render(n,e,t),!0===F&&se.endShadows(),!0===this.info.autoReset&&this.info.reset(),le.render(d,e),g.setupLights(m.physicallyCorrectLights),t.isArrayCamera)for(var r=t.cameras,i=0,a=r.length;i<a;i++){var o=r[i];Le(d,e,o,o.viewport)}else Le(d,e,t);null!==b&&(Y.updateMultisampleRenderTarget(b),Y.updateRenderTargetMipmap(b)),!0===e.isScene&&e.onAfterRender(m,e,t),we.enabled&&we.submitFrame&&we.submitFrame(),fe.resetDefaultState(),x=-1,w=null,f.pop(),g=f.length>0?f[f.length-1]:null,p.pop(),d=p.length>0?p[p.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setTexture2D=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTarget&&(e||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),Y.setTexture2D(t,n)}}(),this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(e,t,n){Z.get(e.texture).__webglTexture=t,Z.get(e.depthTexture).__webglTexture=n;var r=Z.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===W.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var n=Z.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;b=e,y=t,A=n;var r=!0,i=null,a=!1,o=!1;if(e){var s=Z.get(e);void 0!==s.__useDefaultFramebuffer?(K.bindFramebuffer(36160,null),r=!1):void 0===s.__webglFramebuffer?Y.setupRenderTarget(e):s.__hasExternalTextures&&Y.rebindTextures(e,Z.get(e.texture).__webglTexture,Z.get(e.depthTexture).__webglTexture);var u=e.texture;(u.isData3DTexture||u.isDataArrayTexture||u.isCompressedArrayTexture)&&(o=!0);var l=Z.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=l[t],a=!0):i=q.isWebGL2&&e.samples>0&&!1===Y.useMultisampledRTT(e)?Z.get(e).__webglMultisampledFramebuffer:l,E.copy(e.viewport),_.copy(e.scissor),C=e.scissorTest}else E.copy(D).multiplyScalar(I).floor(),_.copy(P).multiplyScalar(I).floor(),C=O;if(K.bindFramebuffer(36160,i)&&q.drawBuffers&&r&&K.drawBuffers(e,i),K.viewport(E),K.scissor(_),K.setScissorTest(C),a){var c=Z.get(e.texture);ve.framebufferTexture2D(36160,36064,34069+t,c.__webglTexture,n)}else if(o){var h=Z.get(e.texture),d=t||0;ve.framebufferTextureLayer(36160,36064,h.__webglTexture,n||0,d)}x=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=Z.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){K.bindFramebuffer(36160,s);try{var u=e.texture,l=u.format,c=u.type;if(l!==Xe&&pe.convert(l)!==ve.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var h=c===Ge&&(W.has("EXT_color_buffer_half_float")||q.isWebGL2&&W.has("EXT_color_buffer_float"));if(c!==Oe&&pe.convert(c)!==ve.getParameter(35738)&&(c!==He||!(q.isWebGL2||W.has("OES_texture_float")||W.has("WEBGL_color_buffer_float")))&&!h)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&ve.readPixels(t,n,r,i,pe.convert(l),pe.convert(c),a)}finally{var d=null!==b?Z.get(b).__webglFramebuffer:null;K.bindFramebuffer(36160,d)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);Y.setTexture2D(t,0),ve.copyTexSubImage2D(3553,n,0,0,e.x,e.y,i,a),K.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=pe.convert(n.format),s=pe.convert(n.type);Y.setTexture2D(n,0),ve.pixelStorei(37440,n.flipY),ve.pixelStorei(37441,n.premultiplyAlpha),ve.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?ve.texSubImage2D(3553,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?ve.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):ve.texSubImage2D(3553,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&ve.generateMipmap(3553),K.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(m.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,u=e.max.z-e.min.z+1,l=pe.convert(r.format),c=pe.convert(r.type);if(r.isData3DTexture)Y.setTexture3D(r,0),a=32879;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Y.setTexture2DArray(r,0),a=35866}ve.pixelStorei(37440,r.flipY),ve.pixelStorei(37441,r.premultiplyAlpha),ve.pixelStorei(3317,r.unpackAlignment);var h=ve.getParameter(3314),d=ve.getParameter(32878),g=ve.getParameter(3316),p=ve.getParameter(3315),f=ve.getParameter(32877),v=n.isCompressedTexture?n.mipmaps[0]:n.image;ve.pixelStorei(3314,v.width),ve.pixelStorei(32878,v.height),ve.pixelStorei(3316,e.min.x),ve.pixelStorei(3315,e.min.y),ve.pixelStorei(32877,e.min.z),n.isDataTexture||n.isData3DTexture?ve.texSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,c,v.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ve.compressedTexSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,v.data)):ve.texSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,c,v),ve.pixelStorei(3314,h),ve.pixelStorei(32878,d),ve.pixelStorei(3316,g),ve.pixelStorei(3315,p),ve.pixelStorei(32877,f),0===i&&r.generateMipmaps&&ve.generateMipmap(a),K.unbindTexture()}},this.initTexture=function(e){e.isCubeTexture?Y.setTextureCube(e,0):e.isData3DTexture?Y.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?Y.setTexture2DArray(e,0):Y.setTexture2D(e,0),K.unbindTexture()},this.resetState=function(){y=0,A=0,b=null,K.reset(),fe.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}var Su=function(e){v(n,e);var t=y(n);function n(){return p(this,n),t.apply(this,arguments)}return f(n)}(Mu);Su.prototype.isWebGL1Renderer=!0;var Iu,Tu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;p(this,e),this.isFogExp2=!0,this.name="",this.color=new ur(t),this.density=n}return f(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}(),ku=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;p(this,e),this.isFog=!0,this.name="",this.color=new ur(t),this.near=n,this.far=r}return f(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}(),Ru=function(e){v(n,e);var t=y(n);function n(){var e;return p(this,n),(e=t.call(this)).isScene=!0,e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.backgroundBlurriness=0,e.backgroundIntensity=1,e.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:m(e)})),e}return f(n,[{key:"copy",value:function(e,t){return h(d(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=h(d(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.backgroundIntensity=this.backgroundIntensity),t}},{key:"autoUpdate",get:function(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate},set:function(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}]),n}(Ei),Lu=function(){function e(t,n){p(this,e),this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=vn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Dn()}return f(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Dn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Dn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}(),Bu=new wr,Du=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];p(this,e),this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=!0===i}return f(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)Bu.fromBufferAttribute(this,t),Bu.applyMatrix4(e),this.setXYZ(t,Bu.x,Bu.y,Bu.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Bu.fromBufferAttribute(this,t),Bu.applyNormalMatrix(e),this.setXYZ(t,Bu.x,Bu.y,Bu.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Bu.fromBufferAttribute(this,t),Bu.transformDirection(e),this.setXYZ(t,Bu.x,Bu.y,Bu.z);return this}},{key:"setX",value:function(e,t){return this.normalized&&(t=Hn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.normalized&&(t=Hn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.normalized&&(t=Hn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.normalized&&(t=Hn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){var t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=jn(t,this.array)),t}},{key:"getY",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=jn(t,this.array)),t}},{key:"getZ",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=jn(t,this.array)),t}},{key:"getW",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=jn(t,this.array)),t}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Hn(t,this.array),n=Hn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Hn(t,this.array),n=Hn(n,this.array),r=Hn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Hn(t,this.array),n=Hn(n,this.array),r=Hn(r,this.array),i=Hn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[i+a]);return new zi(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}(),Pu=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this)).isSpriteMaterial=!0,r.type="SpriteMaterial",r.color=new ur(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.fog=!0,r.setValues(e),r}return f(n,[{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(Oi),Ou=new wr,Nu=new wr,Fu=new wr,Uu=new Vn,zu=new Vn,ju=new Jr,Hu=new wr,Gu=new wr,Vu=new wr,Qu=new Vn,Wu=new Vn,qu=new Vn,Ku=function(e){v(n,e);var t=y(n);function n(e){var r;if(p(this,n),(r=t.call(this)).isSprite=!0,r.type="Sprite",void 0===Iu){Iu=new ia;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a=new Lu(i,5);Iu.setIndex([0,1,2,0,2,3]),Iu.setAttribute("position",new Du(a,3,0,!1)),Iu.setAttribute("uv",new Du(a,2,3,!1))}return r.geometry=Iu,r.material=void 0!==e?e:new Pu,r.center=new Vn(.5,.5),r}return f(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Nu.setFromMatrixScale(this.matrixWorld),ju.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Fu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Nu.multiplyScalar(-Fu.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var a=this.center;Xu(Hu.set(-.5,-.5,0),Fu,a,Nu,n,r),Xu(Gu.set(.5,-.5,0),Fu,a,Nu,n,r),Xu(Vu.set(.5,.5,0),Fu,a,Nu,n,r),Qu.set(0,0),Wu.set(1,0),qu.set(1,1);var o=e.ray.intersectTriangle(Hu,Gu,Vu,!1,Ou);if(null!==o||(Xu(Gu.set(-.5,.5,0),Fu,a,Nu,n,r),Wu.set(0,1),null!==(o=e.ray.intersectTriangle(Hu,Vu,Gu,!1,Ou)))){var s=e.ray.origin.distanceTo(Ou);s<e.near||s>e.far||t.push({distance:s,point:Ou.clone(),uv:Di.getUV(Ou,Hu,Gu,Vu,Qu,Wu,qu,new Vn),face:null,object:this})}}},{key:"copy",value:function(e,t){return h(d(n.prototype),"copy",this).call(this,e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}(Ei);function Xu(e,t,n,r,i,a){Uu.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(zu.x=a*Uu.x-i*Uu.y,zu.y=i*Uu.x+a*Uu.y):zu.copy(Uu),e.copy(t),e.x+=zu.x,e.y+=zu.y,e.applyMatrix4(ju)}var Zu=new wr,Yu=new wr,Ju=function(e){v(n,e);var t=y(n);function n(){var e;return p(this,n),(e=t.call(this))._currentLevel=0,e.type="LOD",Object.defineProperties(m(e),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),e.autoUpdate=!0,e}return f(n,[{key:"copy",value:function(e){h(d(n.prototype),"copy",this).call(this,e,!1);for(var t=e.levels,r=0,i=t.length;r<i;r++){var a=t[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}},{key:"addLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=Math.abs(t);var r,i=this.levels;for(r=0;r<i.length&&!(t<i[r].distance);r++);return i.splice(r,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r;n++){var i=t[n].distance;if(t[n].object.visible&&(i-=i*t[n].hysteresis),e<i)break}return t[n-1].object}return null}},{key:"raycast",value:function(e,t){if(this.levels.length>0){Zu.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(Zu);this.getObjectForDistance(n).raycast(e,t)}}},{key:"update",value:function(e){var t=this.levels;if(t.length>1){Zu.setFromMatrixPosition(e.matrixWorld),Yu.setFromMatrixPosition(this.matrixWorld);var n,r,i=Zu.distanceTo(Yu)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r;n++){var a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),!(i>=a))break;t[n-1].object.visible=!1,t[n].object.visible=!0}for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}}},{key:"toJSON",value:function(e){var t=h(d(n.prototype),"toJSON",this).call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,i=0,a=r.length;i<a;i++){var o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}]),n}(Ei),$u=new wr,el=new pr,tl=new pr,nl=new wr,rl=new Jr,il=function(e){v(n,e);var t=y(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).isSkinnedMesh=!0,i.type="SkinnedMesh",i.bindMode="attached",i.bindMatrix=new Jr,i.bindMatrixInverse=new Jr,i}return f(n,[{key:"copy",value:function(e,t){return h(d(n.prototype),"copy",this).call(this,e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new pr,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){h(d(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"boneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;el.fromBufferAttribute(r.attributes.skinIndex,e),tl.fromBufferAttribute(r.attributes.skinWeight,e),$u.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var a=tl.getComponent(i);if(0!==a){var o=el.getComponent(i);rl.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(nl.copy($u).applyMatrix4(rl),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}]),n}(wa),al=function(e){v(n,e);var t=y(n);function n(){var e;return p(this,n),(e=t.call(this)).isBone=!0,e.type="Bone",e}return f(n)}(Ei),ol=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Me,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Me,g=arguments.length>10?arguments[10]:void 0,f=arguments.length>11?arguments[11]:void 0;return p(this,n),(e=t.call(this,null,u,l,c,h,d,o,s,g,f)).isDataTexture=!0,e.image={data:r,width:i,height:a},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return f(n)}(gr),sl=new Jr,ul=new Jr,ll=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];p(this,e),this.uuid=Dn(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return f(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Jr)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new Jr;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:ul;sl.multiplyMatrices(o,t[i]),sl.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=Un(e),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new ol(t,e,e,Xe,He);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var i=e.bones[n],a=t[i];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),a=new al),this.bones.push(a),this.boneInverses.push((new Jr).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,i=t.length;r<i;r++){var a=t[r];e.bones.push(a.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}}]),e}(),cl=function(e){v(n,e);var t=y(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return p(this,n),(a=t.call(this,e,r,i)).isInstancedBufferAttribute=!0,a.meshPerAttribute=o,a}return f(n,[{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=h(d(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(zi),hl=new Jr,dl=new Jr,gl=[],pl=new Jr,fl=new wa,ml=function(e){v(n,e);var t=y(n);function n(e,r,i){var a;p(this,n),(a=t.call(this,e,r)).isInstancedMesh=!0,a.instanceMatrix=new cl(new Float32Array(16*i),16),a.instanceColor=null,a.count=i,a.frustumCulled=!1;for(var o=0;o<i;o++)a.setMatrixAt(o,pl);return a}return f(n,[{key:"copy",value:function(e,t){return h(d(n.prototype),"copy",this).call(this,e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(fl.geometry=this.geometry,fl.material=this.material,void 0!==fl.material)for(var i=0;i<r;i++){this.getMatrixAt(i,hl),dl.multiplyMatrices(n,hl),fl.matrixWorld=dl,fl.raycast(e,gl);for(var a=0,o=gl.length;a<o;a++){var s=gl[a];s.instanceId=i,s.object=this,t.push(s)}gl.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new cl(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(wa),vl=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this)).isLineBasicMaterial=!0,r.type="LineBasicMaterial",r.color=new ur(16777215),r.linewidth=1,r.linecap="round",r.linejoin="round",r.fog=!0,r.setValues(e),r}return f(n,[{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}]),n}(Oi),yl=new wr,Al=new wr,bl=new Jr,xl=new Yr,wl=new Gr,El=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ia,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new vl;return p(this,n),(e=t.call(this)).isLine=!0,e.type="Line",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return f(n,[{key:"copy",value:function(e,t){return h(d(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)yl.fromBufferAttribute(t,r-1),Al.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=yl.distanceTo(Al);e.setAttribute("lineDistance",new Xi(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),wl.copy(n.boundingSphere),wl.applyMatrix4(r),wl.radius+=i,!1!==e.ray.intersectsSphere(wl)){bl.copy(r).invert(),xl.copy(e.ray).applyMatrix4(bl);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,u=new wr,l=new wr,c=new wr,h=new wr,d=this.isLineSegments?2:1,g=n.index,p=n.attributes.position;if(null!==g)for(var f=Math.max(0,a.start),m=Math.min(g.count,a.start+a.count)-1;f<m;f+=d){var v=g.getX(f),y=g.getX(f+1);if(u.fromBufferAttribute(p,v),l.fromBufferAttribute(p,y),!(xl.distanceSqToSegment(u,l,h,c)>s)){h.applyMatrix4(this.matrixWorld);var A=e.ray.origin.distanceTo(h);A<e.near||A>e.far||t.push({distance:A,point:c.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this})}}else for(var b=Math.max(0,a.start),x=Math.min(p.count,a.start+a.count)-1;b<x;b+=d)if(u.fromBufferAttribute(p,b),l.fromBufferAttribute(p,b+1),!(xl.distanceSqToSegment(u,l,h,c)>s)){h.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(h);w<e.near||w>e.far||t.push({distance:w,point:c.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(Ei),_l=new wr,Cl=new wr,Ml=function(e){v(n,e);var t=y(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).isLineSegments=!0,i.type="LineSegments",i}return f(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)_l.fromBufferAttribute(t,r),Cl.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+_l.distanceTo(Cl);e.setAttribute("lineDistance",new Xi(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}]),n}(El),Sl=function(e){v(n,e);var t=y(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).isLineLoop=!0,i.type="LineLoop",i}return f(n)}(El),Il=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this)).isPointsMaterial=!0,r.type="PointsMaterial",r.color=new ur(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.fog=!0,r.setValues(e),r}return f(n,[{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(Oi),Tl=new Jr,kl=new Yr,Rl=new Gr,Ll=new wr,Bl=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ia,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Il;return p(this,n),(e=t.call(this)).isPoints=!0,e.type="Points",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return f(n,[{key:"copy",value:function(e,t){return h(d(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Rl.copy(n.boundingSphere),Rl.applyMatrix4(r),Rl.radius+=i,!1!==e.ray.intersectsSphere(Rl)){Tl.copy(r).invert(),kl.copy(e.ray).applyMatrix4(Tl);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,u=n.index,l=n.attributes.position;if(null!==u)for(var c=Math.max(0,a.start),h=Math.min(u.count,a.start+a.count);c<h;c++){var d=u.getX(c);Ll.fromBufferAttribute(l,d),Dl(Ll,d,s,r,e,t,this)}else for(var g=Math.max(0,a.start),p=Math.min(l.count,a.start+a.count);g<p;g++)Ll.fromBufferAttribute(l,g),Dl(Ll,g,s,r,e,t,this)}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(Ei);function Dl(e,t,n,r,i,a,o){var s=kl.distanceSqToPoint(e);if(s<n){var u=new wr;kl.closestPointToPoint(e,u),u.applyMatrix4(r);var l=i.ray.origin.distanceTo(u);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:u,index:t,face:null,object:o})}}var Pl=function(e){v(n,e);var t=y(n);function n(e,r,i,a,o,s,u,l,c){var h;p(this,n),(h=t.call(this,e,r,i,a,o,s,u,l,c)).isVideoTexture=!0,h.minFilter=void 0!==s?s:Re,h.magFilter=void 0!==o?o:Re,h.generateMipmaps=!1;var d=m(h);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){d.needsUpdate=!0,e.requestVideoFrameCallback(t)})),h}return f(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(gr),Ol=function(e){v(n,e);var t=y(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,{width:e,height:r})).isFramebufferTexture=!0,a.format=i,a.magFilter=Me,a.minFilter=Me,a.generateMipmaps=!1,a.needsUpdate=!0,a}return f(n)}(gr),Nl=function(e){v(n,e);var t=y(n);function n(e,r,i,a,o,s,u,l,c,h,d,g){var f;return p(this,n),(f=t.call(this,null,s,u,l,c,h,a,o,d,g)).isCompressedTexture=!0,f.image={width:r,height:i},f.mipmaps=e,f.flipY=!1,f.generateMipmaps=!1,f}return f(n)}(gr),Fl=function(e){v(n,e);var t=y(n);function n(e,r,i,a,o,s){var u;return p(this,n),(u=t.call(this,e,r,i,o,s)).isCompressedArrayTexture=!0,u.image.depth=a,u.wrapR=_e,u}return f(n)}(Nl),Ul=function(e){v(n,e);var t=y(n);function n(e,r,i,a,o,s,u,l,c){var h;return p(this,n),(h=t.call(this,e,r,i,a,o,s,u,l,c)).isCanvasTexture=!0,h.needsUpdate=!0,h}return f(n)}(gr),zl=function(){function e(){p(this,e),this.type="Curve",this.arcLengthDivisions=200}return f(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=r[i=Math.floor(s+(u-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){u=i;break}u=i-1}if(r[i=u]===n)return i/(a-1);var l=r[i];return(i+(n-l)/(r[i+1]-l))/(a-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);var a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new Vn:new wr);return s.copy(o).sub(a).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new wr,r=[],i=[],a=[],o=new wr,s=new Jr,u=0;u<=e;u++){var l=u/e;r[u]=this.getTangentAt(l,new wr)}i[0]=new wr,a[0]=new wr;var c=Number.MAX_VALUE,h=Math.abs(r[0].x),d=Math.abs(r[0].y),g=Math.abs(r[0].z);h<=c&&(c=h,n.set(1,0,0)),d<=c&&(c=d,n.set(0,1,0)),g<=c&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(var p=1;p<=e;p++){if(i[p]=i[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(r[p-1],r[p]),o.length()>Number.EPSILON){o.normalize();var f=Math.acos(Pn(r[p-1].dot(r[p]),-1,1));i[p].applyMatrix4(s.makeRotationAxis(o,f))}a[p].crossVectors(r[p],i[p])}if(!0===t){var m=Math.acos(Pn(i[0].dot(i[e]),-1,1));m/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(m=-m);for(var v=1;v<=e;v++)i[v].applyMatrix4(s.makeRotationAxis(r[v],m*v)),a[v].crossVectors(r[v],i[v])}return{tangents:r,normals:i,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),jl=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return p(this,n),(e=t.call(this)).isEllipseCurve=!0,e.type="EllipseCurve",e.aX=r,e.aY=i,e.xRadius=a,e.yRadius=o,e.aStartAngle=s,e.aEndAngle=u,e.aClockwise=l,e.aRotation=c,e}return f(n,[{key:"getPoint",value:function(e,t){for(var n=t||new Vn,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=s-this.aX,d=u-this.aY;s=h*l-d*c+this.aX,u=h*c+d*l+this.aY}return n.set(s,u)}},{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=h(d(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return h(d(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(zl),Hl=function(e){v(n,e);var t=y(n);function n(e,r,i,a,o,s){var u;return p(this,n),(u=t.call(this,e,r,i,i,a,o,s)).isArcCurve=!0,u.type="ArcCurve",u}return f(n)}(jl);function Gl(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var u=(t-e)/a-(n-e)/(a+o)+(n-t)/o,l=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,u*=o,l*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}var Vl=new wr,Ql=new Gl,Wl=new Gl,ql=new Gl,Kl=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return p(this,n),(e=t.call(this)).isCatmullRomCurve3=!0,e.type="CatmullRomCurve3",e.points=r,e.closed=i,e.curveType=a,e.tension=o,e}return f(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wr,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e,s=Math.floor(o),u=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:0===u&&s===a-1&&(s=a-2,u=1),this.closed||s>0?t=i[(s-1)%a]:(Vl.subVectors(i[0],i[1]).add(i[0]),t=Vl);var l=i[s%a],c=i[(s+1)%a];if(this.closed||s+2<a?n=i[(s+2)%a]:(Vl.subVectors(i[a-1],i[a-2]).add(i[a-1]),n=Vl),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,d=Math.pow(t.distanceToSquared(l),h),g=Math.pow(l.distanceToSquared(c),h),p=Math.pow(c.distanceToSquared(n),h);g<1e-4&&(g=1),d<1e-4&&(d=g),p<1e-4&&(p=g),Ql.initNonuniformCatmullRom(t.x,l.x,c.x,n.x,d,g,p),Wl.initNonuniformCatmullRom(t.y,l.y,c.y,n.y,d,g,p),ql.initNonuniformCatmullRom(t.z,l.z,c.z,n.z,d,g,p)}else"catmullrom"===this.curveType&&(Ql.initCatmullRom(t.x,l.x,c.x,n.x,this.tension),Wl.initCatmullRom(t.y,l.y,c.y,n.y,this.tension),ql.initCatmullRom(t.z,l.z,c.z,n.z,this.tension));return r.set(Ql.calc(u),Wl.calc(u),ql.calc(u)),r}},{key:"copy",value:function(e){h(d(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=h(d(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){h(d(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new wr).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(zl);function Xl(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function Zl(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Yl(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}var Jl=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Vn,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Vn,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Vn,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Vn;return p(this,n),(e=t.call(this)).isCubicBezierCurve=!0,e.type="CubicBezierCurve",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return f(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Vn,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(Yl(e,n.x,r.x,i.x,a.x),Yl(e,n.y,r.y,i.y,a.y)),t}},{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=h(d(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return h(d(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(zl),$l=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wr,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new wr,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new wr;return p(this,n),(e=t.call(this)).isCubicBezierCurve3=!0,e.type="CubicBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return f(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wr,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(Yl(e,n.x,r.x,i.x,a.x),Yl(e,n.y,r.y,i.y,a.y),Yl(e,n.z,r.z,i.z,a.z)),t}},{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=h(d(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return h(d(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(zl),ec=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Vn,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Vn;return p(this,n),(e=t.call(this)).isLineCurve=!0,e.type="LineCurve",e.v1=r,e.v2=i,e}return f(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Vn;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e,t){var n=t||new Vn;return n.copy(this.v2).sub(this.v1).normalize(),n}},{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=h(d(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return h(d(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(zl),tc=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wr;return p(this,n),(e=t.call(this)).isLineCurve3=!0,e.type="LineCurve3",e.v1=r,e.v2=i,e}return f(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wr;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=h(d(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return h(d(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(zl),nc=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Vn,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Vn,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Vn;return p(this,n),(e=t.call(this)).isQuadraticBezierCurve=!0,e.type="QuadraticBezierCurve",e.v0=r,e.v1=i,e.v2=a,e}return f(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Vn,n=this.v0,r=this.v1,i=this.v2;return t.set(Zl(e,n.x,r.x,i.x),Zl(e,n.y,r.y,i.y)),t}},{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=h(d(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return h(d(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(zl),rc=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wr,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new wr;return p(this,n),(e=t.call(this)).isQuadraticBezierCurve3=!0,e.type="QuadraticBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e}return f(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wr,n=this.v0,r=this.v1,i=this.v2;return t.set(Zl(e,n.x,r.x,i.x),Zl(e,n.y,r.y,i.y),Zl(e,n.z,r.z,i.z)),t}},{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=h(d(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return h(d(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(zl),ic=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return p(this,n),(e=t.call(this)).isSplineCurve=!0,e.type="SplineCurve",e.points=r,e}return f(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Vn,n=this.points,r=(n.length-1)*e,i=Math.floor(r),a=r-i,o=n[0===i?i:i-1],s=n[i],u=n[i>n.length-2?n.length-1:i+1],l=n[i>n.length-3?n.length-1:i+2];return t.set(Xl(a,o.x,s.x,u.x,l.x),Xl(a,o.y,s.y,u.y,l.y)),t}},{key:"copy",value:function(e){h(d(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=h(d(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e}},{key:"fromJSON",value:function(e){h(d(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new Vn).fromArray(i))}return this}}]),n}(zl),ac=Object.freeze({__proto__:null,ArcCurve:Hl,CatmullRomCurve3:Kl,CubicBezierCurve:Jl,CubicBezierCurve3:$l,EllipseCurve:jl,LineCurve:ec,LineCurve3:tc,QuadraticBezierCurve:nc,QuadraticBezierCurve3:rc,SplineCurve:ic}),oc=function(e){v(n,e);var t=y(n);function n(){var e;return p(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return f(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new ec(t,e))}},{key:"getPoint",value:function(e,t){for(var n=e*this.getLength(),r=this.getCurveLengths(),i=0;i<r.length;){if(r[i]>=n){var a=r[i]-n,o=this.curves[i],s=o.getLength(),u=0===s?0:1-a/s;return o.getPointAt(u,t)}i++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a.isEllipseCurve?2*t:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(n.push(l),e=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){h(d(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=h(d(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){h(d(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push((new ac[i.type]).fromJSON(i))}return this}}]),n}(zl),sc=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this)).type="Path",r.currentPoint=new Vn,e&&r.setFromPoints(e),r}return f(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new ec(this.currentPoint.clone(),new Vn(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var i=new nc(this.currentPoint.clone(),new Vn(e,t),new Vn(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){var o=new Jl(this.currentPoint.clone(),new Vn(e,t),new Vn(n,r),new Vn(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new ic(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}},{key:"absarc",value:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}},{key:"ellipse",value:function(e,t,n,r,i,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+u,t+l,n,r,i,a,o,s),this}},{key:"absellipse",value:function(e,t,n,r,i,a,o,s){var u=new jl(e,t,n,r,i,a,o,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var c=u.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=h(d(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return h(d(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(oc),uc=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new Vn(0,-.5),new Vn(.5,0),new Vn(0,.5)],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;p(this,n),(e=t.call(this)).type="LatheGeometry",e.parameters={points:r,segments:i,phiStart:a,phiLength:o},i=Math.floor(i),o=Pn(o,0,2*Math.PI);for(var s=[],u=[],l=[],c=[],h=[],d=1/i,g=new wr,f=new Vn,m=new wr,v=new wr,y=new wr,A=0,b=0,x=0;x<=r.length-1;x++)switch(x){case 0:A=r[x+1].x-r[x].x,b=r[x+1].y-r[x].y,m.x=1*b,m.y=-A,m.z=0*b,y.copy(m),m.normalize(),c.push(m.x,m.y,m.z);break;case r.length-1:c.push(y.x,y.y,y.z);break;default:A=r[x+1].x-r[x].x,b=r[x+1].y-r[x].y,m.x=1*b,m.y=-A,m.z=0*b,v.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),c.push(m.x,m.y,m.z),y.copy(v)}for(var w=0;w<=i;w++)for(var E=a+w*d*o,_=Math.sin(E),C=Math.cos(E),M=0;M<=r.length-1;M++){g.x=r[M].x*_,g.y=r[M].y,g.z=r[M].x*C,u.push(g.x,g.y,g.z),f.x=w/i,f.y=M/(r.length-1),l.push(f.x,f.y);var S=c[3*M+0]*_,I=c[3*M+1],T=c[3*M+0]*C;h.push(S,I,T)}for(var k=0;k<i;k++)for(var R=0;R<r.length-1;R++){var L=R+k*r.length,B=L,D=L+r.length,P=L+r.length+1,O=L+1;s.push(B,D,O),s.push(P,O,D)}return e.setIndex(s),e.setAttribute("position",new Xi(u,3)),e.setAttribute("uv",new Xi(l,2)),e.setAttribute("normal",new Xi(h,3)),e}return f(n,null,[{key:"fromJSON",value:function(e){return new n(e.points,e.segments,e.phiStart,e.phiLength)}}]),n}(ia),lc=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;p(this,n);var s=new sc;return s.absarc(0,-i/2,r,1.5*Math.PI,0),s.absarc(0,i/2,r,0,.5*Math.PI),(e=t.call(this,s.getPoints(a),o)).type="CapsuleGeometry",e.parameters={radius:r,height:i,capSegments:a,radialSegments:o},e}return f(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.length,e.capSegments,e.radialSegments)}}]),n}(uc),cc=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;p(this,n),(e=t.call(this)).type="CircleGeometry",e.parameters={radius:r,segments:i,thetaStart:a,thetaLength:o},i=Math.max(3,i);var s=[],u=[],l=[],c=[],h=new wr,d=new Vn;u.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(var g=0,f=3;g<=i;g++,f+=3){var m=a+g/i*o;h.x=r*Math.cos(m),h.y=r*Math.sin(m),u.push(h.x,h.y,h.z),l.push(0,0,1),d.x=(u[f]/r+1)/2,d.y=(u[f+1]/r+1)/2,c.push(d.x,d.y)}for(var v=1;v<=i;v++)s.push(v,v+1,0);return e.setIndex(s),e.setAttribute("position",new Xi(u,3)),e.setAttribute("normal",new Xi(l,3)),e.setAttribute("uv",new Xi(c,2)),e}return f(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.segments,e.thetaStart,e.thetaLength)}}]),n}(ia),hc=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;p(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:r,radiusBottom:i,height:a,radialSegments:o,heightSegments:s,openEnded:u,thetaStart:l,thetaLength:c};var h=m(e);o=Math.floor(o),s=Math.floor(s);var d=[],g=[],f=[],v=[],y=0,A=[],b=a/2,x=0;function w(e){for(var t=y,n=new Vn,a=new wr,s=0,u=!0===e?r:i,p=!0===e?1:-1,m=1;m<=o;m++)g.push(0,b*p,0),f.push(0,p,0),v.push(.5,.5),y++;for(var A=y,w=0;w<=o;w++){var E=w/o*c+l,_=Math.cos(E),C=Math.sin(E);a.x=u*C,a.y=b*p,a.z=u*_,g.push(a.x,a.y,a.z),f.push(0,p,0),n.x=.5*_+.5,n.y=.5*C*p+.5,v.push(n.x,n.y),y++}for(var M=0;M<o;M++){var S=t+M,I=A+M;!0===e?d.push(I,I+1,S):d.push(I+1,I,S),s+=3}h.addGroup(x,s,!0===e?1:2),x+=s}return function(){for(var e=new wr,t=new wr,n=0,u=(i-r)/a,p=0;p<=s;p++){for(var m=[],w=p/s,E=w*(i-r)+r,_=0;_<=o;_++){var C=_/o,M=C*c+l,S=Math.sin(M),I=Math.cos(M);t.x=E*S,t.y=-w*a+b,t.z=E*I,g.push(t.x,t.y,t.z),e.set(S,u,I).normalize(),f.push(e.x,e.y,e.z),v.push(C,1-w),m.push(y++)}A.push(m)}for(var T=0;T<o;T++)for(var k=0;k<s;k++){var R=A[k][T],L=A[k+1][T],B=A[k+1][T+1],D=A[k][T+1];d.push(R,L,D),d.push(L,B,D),n+=6}h.addGroup(x,n,0),x+=n}(),!1===u&&(r>0&&w(!0),i>0&&w(!1)),e.setIndex(d),e.setAttribute("position",new Xi(g,3)),e.setAttribute("normal",new Xi(f,3)),e.setAttribute("uv",new Xi(v,2)),e}return f(n,null,[{key:"fromJSON",value:function(e){return new n(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(ia),dc=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return p(this,n),(e=t.call(this,0,r,i,a,o,s,u,l)).type="ConeGeometry",e.parameters={radius:r,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:u,thetaLength:l},e}return f(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(hc),gc=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;p(this,n),(e=t.call(this)).type="PolyhedronGeometry",e.parameters={vertices:r,indices:i,radius:a,detail:o};var s=[],u=[];function l(e,t,n,r){for(var i=r+1,a=[],o=0;o<=i;o++){a[o]=[];for(var s=e.clone().lerp(n,o/i),u=t.clone().lerp(n,o/i),l=i-o,h=0;h<=l;h++)a[o][h]=0===h&&o===i?s:s.clone().lerp(u,h/l)}for(var d=0;d<i;d++)for(var g=0;g<2*(i-d)-1;g++){var p=Math.floor(g/2);g%2===0?(c(a[d][p+1]),c(a[d+1][p]),c(a[d][p])):(c(a[d][p+1]),c(a[d+1][p+1]),c(a[d+1][p]))}}function c(e){s.push(e.x,e.y,e.z)}function h(e,t){var n=3*e;t.x=r[n+0],t.y=r[n+1],t.z=r[n+2]}function d(e,t,n,r){r<0&&1===e.x&&(u[t]=e.x-1),0===n.x&&0===n.z&&(u[t]=r/2/Math.PI+.5)}function g(e){return Math.atan2(e.z,-e.x)}return function(e){for(var t=new wr,n=new wr,r=new wr,a=0;a<i.length;a+=3)h(i[a+0],t),h(i[a+1],n),h(i[a+2],r),l(t,n,r,e)}(o),function(e){for(var t=new wr,n=0;n<s.length;n+=3)t.x=s[n+0],t.y=s[n+1],t.z=s[n+2],t.normalize().multiplyScalar(e),s[n+0]=t.x,s[n+1]=t.y,s[n+2]=t.z}(a),function(){for(var e=new wr,t=0;t<s.length;t+=3){e.x=s[t+0],e.y=s[t+1],e.z=s[t+2];var n=g(e)/2/Math.PI+.5,r=(i=e,Math.atan2(-i.y,Math.sqrt(i.x*i.x+i.z*i.z))/Math.PI+.5);u.push(n,1-r)}var i;(function(){for(var e=new wr,t=new wr,n=new wr,r=new wr,i=new Vn,a=new Vn,o=new Vn,l=0,c=0;l<s.length;l+=9,c+=6){e.set(s[l+0],s[l+1],s[l+2]),t.set(s[l+3],s[l+4],s[l+5]),n.set(s[l+6],s[l+7],s[l+8]),i.set(u[c+0],u[c+1]),a.set(u[c+2],u[c+3]),o.set(u[c+4],u[c+5]),r.copy(e).add(t).add(n).divideScalar(3);var h=g(r);d(i,c+0,e,h),d(a,c+2,t,h),d(o,c+4,n,h)}})(),function(){for(var e=0;e<u.length;e+=6){var t=u[e+0],n=u[e+2],r=u[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(u[e+0]+=1),n<.2&&(u[e+2]+=1),r<.2&&(u[e+4]+=1))}}()}(),e.setAttribute("position",new Xi(s,3)),e.setAttribute("normal",new Xi(s.slice(),3)),e.setAttribute("uv",new Xi(u,2)),0===o?e.computeVertexNormals():e.normalizeNormals(),e}return f(n,null,[{key:"fromJSON",value:function(e){return new n(e.vertices,e.indices,e.radius,e.details)}}]),n}(ia),pc=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p(this,n);var a=(1+Math.sqrt(5))/2,o=1/a,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-a,0,-o,a,0,o,-a,0,o,a,-o,-a,0,-o,a,0,o,-a,0,o,a,0,-a,0,-o,a,0,-o,-a,0,o,a,0,o];return(e=t.call(this,s,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],r,i)).type="DodecahedronGeometry",e.parameters={radius:r,detail:i},e}return f(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(gc),fc=new wr,mc=new wr,vc=new wr,yc=new Di,Ac=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(p(this,n),(e=t.call(this)).type="EdgesGeometry",e.parameters={geometry:r,thresholdAngle:i},null!==r){for(var a=Math.pow(10,4),o=Math.cos(Ln*i),s=r.getIndex(),u=r.getAttribute("position"),l=s?s.count:u.count,c=[0,0,0],h=["a","b","c"],d=new Array(3),g={},f=[],m=0;m<l;m+=3){s?(c[0]=s.getX(m),c[1]=s.getX(m+1),c[2]=s.getX(m+2)):(c[0]=m,c[1]=m+1,c[2]=m+2);var v=yc.a,y=yc.b,A=yc.c;if(v.fromBufferAttribute(u,c[0]),y.fromBufferAttribute(u,c[1]),A.fromBufferAttribute(u,c[2]),yc.getNormal(vc),d[0]="".concat(Math.round(v.x*a),",").concat(Math.round(v.y*a),",").concat(Math.round(v.z*a)),d[1]="".concat(Math.round(y.x*a),",").concat(Math.round(y.y*a),",").concat(Math.round(y.z*a)),d[2]="".concat(Math.round(A.x*a),",").concat(Math.round(A.y*a),",").concat(Math.round(A.z*a)),d[0]!==d[1]&&d[1]!==d[2]&&d[2]!==d[0])for(var b=0;b<3;b++){var x=(b+1)%3,w=d[b],E=d[x],_=yc[h[b]],C=yc[h[x]],M="".concat(w,"_").concat(E),S="".concat(E,"_").concat(w);S in g&&g[S]?(vc.dot(g[S].normal)<=o&&(f.push(_.x,_.y,_.z),f.push(C.x,C.y,C.z)),g[S]=null):M in g||(g[M]={index0:c[b],index1:c[x],normal:vc.clone()})}}for(var I in g)if(g[I]){var T=g[I],k=T.index0,R=T.index1;fc.fromBufferAttribute(u,k),mc.fromBufferAttribute(u,R),f.push(fc.x,fc.y,fc.z),f.push(mc.x,mc.y,mc.z)}e.setAttribute("position",new Xi(f,3))}return e}return f(n)}(ia),bc=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).uuid=Dn(),r.type="Shape",r.holes=[],r}return f(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){h(d(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=h(d(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){h(d(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push((new sc).fromJSON(i))}return this}}]),n}(sc),xc=function(e,t){var n,r,i,a,o,s,u,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=t&&t.length,h=c?t[0]*l:e.length,d=wc(e,0,h,l,!0),g=[];if(!d||d.next===d.prev)return g;if(c&&(d=function(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=wc(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(Bc(o));for(s.sort(Tc),i=0;i<s.length;i++)n=kc(s[i],n);return n}(e,t,d,l)),e.length>80*l){n=i=e[0],r=a=e[1];for(var p=l;p<h;p+=l)(o=e[p])<n&&(n=o),(s=e[p+1])<r&&(r=s),o>i&&(i=o),s>a&&(a=s);u=0!==(u=Math.max(i-n,a-r))?32767/u:0}return _c(d,g,l,n,r,u,0),g};function wc(e,t,n,r,i){var a,o;if(i===function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=Gc(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=Gc(a,e[a],e[a+1],o);return o&&Nc(o,o.next)&&(Vc(o),o=o.next),o}function Ec(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Nc(r,r.next)&&0!==Oc(r.prev,r,r.next))r=r.next;else{if(Vc(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function _c(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=Lc(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,u,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,r,i,a);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,a?Mc(e,r,i,a):Cc(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(u.i/n|0),Vc(e),e=u.next,l=u.next;else if((e=u)===l){o?1===o?_c(e=Sc(Ec(e),t,n),t,n,r,i,a,2):2===o&&Ic(e,t,n,r,i,a):_c(Ec(e),t,n,r,i,a,1);break}}}function Cc(e){var t=e.prev,n=e,r=e.next;if(Oc(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,o=r.x,s=t.y,u=n.y,l=r.y,c=i<a?i<o?i:o:a<o?a:o,h=s<u?s<l?s:l:u<l?u:l,d=i>a?i>o?i:o:a>o?a:o,g=s>u?s>l?s:l:u>l?u:l,p=r.next;p!==t;){if(p.x>=c&&p.x<=d&&p.y>=h&&p.y<=g&&Dc(i,s,a,u,o,l,p.x,p.y)&&Oc(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Mc(e,t,n,r){var i=e.prev,a=e,o=e.next;if(Oc(i,a,o)>=0)return!1;for(var s=i.x,u=a.x,l=o.x,c=i.y,h=a.y,d=o.y,g=s<u?s<l?s:l:u<l?u:l,p=c<h?c<d?c:d:h<d?h:d,f=s>u?s>l?s:l:u>l?u:l,m=c>h?c>d?c:d:h>d?h:d,v=Lc(g,p,t,n,r),y=Lc(f,m,t,n,r),A=e.prevZ,b=e.nextZ;A&&A.z>=v&&b&&b.z<=y;){if(A.x>=g&&A.x<=f&&A.y>=p&&A.y<=m&&A!==i&&A!==o&&Dc(s,c,u,h,l,d,A.x,A.y)&&Oc(A.prev,A,A.next)>=0)return!1;if(A=A.prevZ,b.x>=g&&b.x<=f&&b.y>=p&&b.y<=m&&b!==i&&b!==o&&Dc(s,c,u,h,l,d,b.x,b.y)&&Oc(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;A&&A.z>=v;){if(A.x>=g&&A.x<=f&&A.y>=p&&A.y<=m&&A!==i&&A!==o&&Dc(s,c,u,h,l,d,A.x,A.y)&&Oc(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;b&&b.z<=y;){if(b.x>=g&&b.x<=f&&b.y>=p&&b.y<=m&&b!==i&&b!==o&&Dc(s,c,u,h,l,d,b.x,b.y)&&Oc(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Sc(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!Nc(i,a)&&Fc(i,r,r.next,a)&&jc(i,a)&&jc(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),Vc(r),Vc(r.next),r=e=a),r=r.next}while(r!==e);return Ec(r)}function Ic(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Pc(o,s)){var u=Hc(o,s);return o=Ec(o,o.next),u=Ec(u,u.next),_c(o,t,n,r,i,a,0),void _c(u,t,n,r,i,a,0)}s=s.next}o=o.next}while(o!==e)}function Tc(e,t){return e.x-t.x}function kc(e,t){var n=function(e,t){var n,r=t,i=-1/0,a=e.x,o=e.y;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=a&&s>i&&(i=s,n=r.x<r.next.x?r:r.next,s===a))return n}r=r.next}while(r!==t);if(!n)return null;var u,l=n,c=n.x,h=n.y,d=1/0;r=n;do{a>=r.x&&r.x>=c&&a!==r.x&&Dc(o<h?a:i,o,c,h,o<h?i:a,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(a-r.x),jc(r,e)&&(u<d||u===d&&(r.x>n.x||r.x===n.x&&Rc(n,r)))&&(n=r,d=u)),r=r.next}while(r!==l);return n}(e,t);if(!n)return t;var r=Hc(n,e);return Ec(r,r.next),Ec(n,n.next)}function Rc(e,t){return Oc(e.prev,e,t.prev)<0&&Oc(t.next,e,e.next)<0}function Lc(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Bc(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Dc(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function Pc(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Fc(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(jc(e,t)&&jc(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Oc(e.prev,e,t.prev)||Oc(e,t.prev,t))||Nc(e,t)&&Oc(e.prev,e,e.next)>0&&Oc(t.prev,t,t.next)>0)}function Oc(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Nc(e,t){return e.x===t.x&&e.y===t.y}function Fc(e,t,n,r){var i=zc(Oc(e,t,n)),a=zc(Oc(e,t,r)),o=zc(Oc(n,r,e)),s=zc(Oc(n,r,t));return i!==a&&o!==s||!(0!==i||!Uc(e,n,t))||!(0!==a||!Uc(e,r,t))||!(0!==o||!Uc(n,e,r))||!(0!==s||!Uc(n,t,r))}function Uc(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function zc(e){return e>0?1:e<0?-1:0}function jc(e,t){return Oc(e.prev,e,e.next)<0?Oc(e,t,e.next)>=0&&Oc(e,e.prev,t)>=0:Oc(e,t,e.prev)<0||Oc(e,e.next,t)<0}function Hc(e,t){var n=new Qc(e.i,e.x,e.y),r=new Qc(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Gc(e,t,n,r){var i=new Qc(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Vc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Qc(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Wc=function(){function e(){p(this,e)}return f(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],i=[];qc(e),Kc(n,e);var a=e.length;t.forEach(qc);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,Kc(n,t[o]);for(var s=xc(n,r),u=0;u<s.length;u+=3)i.push(s.slice(u,u+3));return i}}]),e}();function qc(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Kc(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var Xc=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bc([new Vn(.5,.5),new Vn(-.5,.5),new Vn(-.5,-.5),new Vn(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(this,n),(e=t.call(this)).type="ExtrudeGeometry",e.parameters={shapes:r,options:i},r=Array.isArray(r)?r:[r];for(var a=m(e),o=[],s=[],u=0,l=r.length;u<l;u++)c(r[u]);function c(e){var t,n,r,u,l,c=[],h=void 0!==i.curveSegments?i.curveSegments:12,d=void 0!==i.steps?i.steps:1,g=void 0!==i.depth?i.depth:1,p=void 0===i.bevelEnabled||i.bevelEnabled,f=void 0!==i.bevelThickness?i.bevelThickness:.2,m=void 0!==i.bevelSize?i.bevelSize:f-.1,v=void 0!==i.bevelOffset?i.bevelOffset:0,y=void 0!==i.bevelSegments?i.bevelSegments:3,A=i.extrudePath,b=void 0!==i.UVGenerator?i.UVGenerator:Zc,x=!1;A&&(t=A.getSpacedPoints(d),x=!0,p=!1,n=A.computeFrenetFrames(d,!1),r=new wr,u=new wr,l=new wr),p||(y=0,f=0,m=0,v=0);var w=e.extractPoints(h),E=w.shape,_=w.holes;if(!Wc.isClockWise(E)){E=E.reverse();for(var C=0,M=_.length;C<M;C++){var S=_[C];Wc.isClockWise(S)&&(_[C]=S.reverse())}}for(var I=Wc.triangulateShape(E,_),T=E,k=0,R=_.length;k<R;k++){var L=_[k];E=E.concat(L)}function B(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var D=E.length,P=I.length;function O(e,t,n){var r,i,a,o=e.x-t.x,s=e.y-t.y,u=n.x-e.x,l=n.y-e.y,c=o*o+s*s,h=o*l-s*u;if(Math.abs(h)>Number.EPSILON){var d=Math.sqrt(c),g=Math.sqrt(u*u+l*l),p=t.x-s/d,f=t.y+o/d,m=((n.x-l/g-p)*l-(n.y+u/g-f)*u)/(o*l-s*u),v=(r=p+o*m-e.x)*r+(i=f+s*m-e.y)*i;if(v<=2)return new Vn(r,i);a=Math.sqrt(v/2)}else{var y=!1;o>Number.EPSILON?u>Number.EPSILON&&(y=!0):o<-Number.EPSILON?u<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(l)&&(y=!0),y?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new Vn(r/a,i/a)}for(var N=[],F=0,U=T.length,z=U-1,j=F+1;F<U;F++,z++,j++)z===U&&(z=0),j===U&&(j=0),N[F]=O(T[F],T[z],T[j]);for(var H,G=[],V=N.concat(),Q=0,W=_.length;Q<W;Q++){var q=_[Q];H=[];for(var K=0,X=q.length,Z=X-1,Y=K+1;K<X;K++,Z++,Y++)Z===X&&(Z=0),Y===X&&(Y=0),H[K]=O(q[K],q[Z],q[Y]);G.push(H),V=V.concat(H)}for(var J=0;J<y;J++){for(var $=J/y,ee=f*Math.cos($*Math.PI/2),te=m*Math.sin($*Math.PI/2)+v,ne=0,re=T.length;ne<re;ne++){var ie=B(T[ne],N[ne],te);Re(ie.x,ie.y,-ee)}for(var ae=0,oe=_.length;ae<oe;ae++){var se=_[ae];H=G[ae];for(var ue=0,le=se.length;ue<le;ue++){var ce=B(se[ue],H[ue],te);Re(ce.x,ce.y,-ee)}}}for(var he=m+v,de=0;de<D;de++){var ge=p?B(E[de],V[de],he):E[de];x?(u.copy(n.normals[0]).multiplyScalar(ge.x),r.copy(n.binormals[0]).multiplyScalar(ge.y),l.copy(t[0]).add(u).add(r),Re(l.x,l.y,l.z)):Re(ge.x,ge.y,0)}for(var pe=1;pe<=d;pe++)for(var fe=0;fe<D;fe++){var me=p?B(E[fe],V[fe],he):E[fe];x?(u.copy(n.normals[pe]).multiplyScalar(me.x),r.copy(n.binormals[pe]).multiplyScalar(me.y),l.copy(t[pe]).add(u).add(r),Re(l.x,l.y,l.z)):Re(me.x,me.y,g/d*pe)}for(var ve=y-1;ve>=0;ve--){for(var ye=ve/y,Ae=f*Math.cos(ye*Math.PI/2),be=m*Math.sin(ye*Math.PI/2)+v,xe=0,we=T.length;xe<we;xe++){var Ee=B(T[xe],N[xe],be);Re(Ee.x,Ee.y,g+Ae)}for(var _e=0,Ce=_.length;_e<Ce;_e++){var Me=_[_e];H=G[_e];for(var Se=0,Ie=Me.length;Se<Ie;Se++){var Te=B(Me[Se],H[Se],be);x?Re(Te.x,Te.y+t[d-1].y,t[d-1].x+Ae):Re(Te.x,Te.y,g+Ae)}}}function ke(e,t){for(var n=e.length;--n>=0;){var r=n,i=n-1;i<0&&(i=e.length-1);for(var a=0,o=d+2*y;a<o;a++){var s=D*a,u=D*(a+1);Be(t+r+s,t+i+s,t+i+u,t+r+u)}}}function Re(e,t,n){c.push(e),c.push(t),c.push(n)}function Le(e,t,n){De(e),De(t),De(n);var r=o.length/3,i=b.generateTopUV(a,o,r-3,r-2,r-1);Pe(i[0]),Pe(i[1]),Pe(i[2])}function Be(e,t,n,r){De(e),De(t),De(r),De(t),De(n),De(r);var i=o.length/3,s=b.generateSideWallUV(a,o,i-6,i-3,i-2,i-1);Pe(s[0]),Pe(s[1]),Pe(s[3]),Pe(s[1]),Pe(s[2]),Pe(s[3])}function De(e){o.push(c[3*e+0]),o.push(c[3*e+1]),o.push(c[3*e+2])}function Pe(e){s.push(e.x),s.push(e.y)}!function(){var e=o.length/3;if(p){for(var t=0,n=D*t,r=0;r<P;r++){var i=I[r];Le(i[2]+n,i[1]+n,i[0]+n)}n=D*(t=d+2*y);for(var s=0;s<P;s++){var u=I[s];Le(u[0]+n,u[1]+n,u[2]+n)}}else{for(var l=0;l<P;l++){var c=I[l];Le(c[2],c[1],c[0])}for(var h=0;h<P;h++){var g=I[h];Le(g[0]+D*d,g[1]+D*d,g[2]+D*d)}}a.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;ke(T,t),t+=T.length;for(var n=0,r=_.length;n<r;n++){var i=_[n];ke(i,t),t+=i.length}a.addGroup(e,o.length/3-e,1)}()}return e.setAttribute("position",new Xi(o,3)),e.setAttribute("uv",new Xi(s,2)),e.computeVertexNormals(),e}return f(n,[{key:"toJSON",value:function(){var e=h(d(n.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);return n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}var s=e.options.extrudePath;return void 0!==s&&(e.options.extrudePath=(new ac[s.type]).fromJSON(s)),new n(r,e.options)}}]),n}(ia),Zc={generateTopUV:function(e,t,n,r,i){var a=t[3*n],o=t[3*n+1],s=t[3*r],u=t[3*r+1],l=t[3*i],c=t[3*i+1];return[new Vn(a,o),new Vn(s,u),new Vn(l,c)]},generateSideWallUV:function(e,t,n,r,i,a){var o=t[3*n],s=t[3*n+1],u=t[3*n+2],l=t[3*r],c=t[3*r+1],h=t[3*r+2],d=t[3*i],g=t[3*i+1],p=t[3*i+2],f=t[3*a],m=t[3*a+1],v=t[3*a+2];return Math.abs(s-c)<Math.abs(o-l)?[new Vn(o,1-u),new Vn(l,1-h),new Vn(d,1-p),new Vn(f,1-v)]:[new Vn(s,1-u),new Vn(c,1-h),new Vn(g,1-p),new Vn(m,1-v)]}},Yc=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p(this,n);var a=(1+Math.sqrt(5))/2,o=[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1];return(e=t.call(this,o,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],r,i)).type="IcosahedronGeometry",e.parameters={radius:r,detail:i},e}return f(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(gc),Jc=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return p(this,n),(e=t.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],r,i)).type="OctahedronGeometry",e.parameters={radius:r,detail:i},e}return f(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(gc),$c=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;p(this,n),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:r,outerRadius:i,thetaSegments:a,phiSegments:o,thetaStart:s,thetaLength:u},a=Math.max(3,a);for(var l=[],c=[],h=[],d=[],g=r,f=(i-r)/(o=Math.max(1,o)),m=new wr,v=new Vn,y=0;y<=o;y++){for(var A=0;A<=a;A++){var b=s+A/a*u;m.x=g*Math.cos(b),m.y=g*Math.sin(b),c.push(m.x,m.y,m.z),h.push(0,0,1),v.x=(m.x/i+1)/2,v.y=(m.y/i+1)/2,d.push(v.x,v.y)}g+=f}for(var x=0;x<o;x++)for(var w=x*(a+1),E=0;E<a;E++){var _=E+w,C=_,M=_+a+1,S=_+a+2,I=_+1;l.push(C,M,I),l.push(M,S,I)}return e.setIndex(l),e.setAttribute("position",new Xi(c,3)),e.setAttribute("normal",new Xi(h,3)),e.setAttribute("uv",new Xi(d,2)),e}return f(n,null,[{key:"fromJSON",value:function(e){return new n(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}]),n}(ia),eh=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bc([new Vn(0,.5),new Vn(-.5,-.5),new Vn(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;p(this,n),(e=t.call(this)).type="ShapeGeometry",e.parameters={shapes:r,curveSegments:i};var a=[],o=[],s=[],u=[],l=0,c=0;if(!1===Array.isArray(r))d(r);else for(var h=0;h<r.length;h++)d(r[h]),e.addGroup(l,c,h),l+=c,c=0;function d(e){var t=o.length/3,n=e.extractPoints(i),r=n.shape,l=n.holes;!1===Wc.isClockWise(r)&&(r=r.reverse());for(var h=0,d=l.length;h<d;h++){var g=l[h];!0===Wc.isClockWise(g)&&(l[h]=g.reverse())}for(var p=Wc.triangulateShape(r,l),f=0,m=l.length;f<m;f++){var v=l[f];r=r.concat(v)}for(var y=0,A=r.length;y<A;y++){var b=r[y];o.push(b.x,b.y,0),s.push(0,0,1),u.push(b.x,b.y)}for(var x=0,w=p.length;x<w;x++){var E=p[x],_=E[0]+t,C=E[1]+t,M=E[2]+t;a.push(_,C,M),c+=3}}return e.setIndex(a),e.setAttribute("position",new Xi(o,3)),e.setAttribute("normal",new Xi(s,3)),e.setAttribute("uv",new Xi(u,2)),e}return f(n,[{key:"toJSON",value:function(){var e=h(d(n.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}return new n(r,e.curveSegments)}}]),n}(ia),th=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;p(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:i,heightSegments:a,phiStart:o,phiLength:s,thetaStart:u,thetaLength:l},i=Math.max(3,Math.floor(i)),a=Math.max(2,Math.floor(a));for(var c=Math.min(u+l,Math.PI),h=0,d=[],g=new wr,f=new wr,m=[],v=[],y=[],A=[],b=0;b<=a;b++){var x=[],w=b/a,E=0;0==b&&0==u?E=.5/i:b==a&&c==Math.PI&&(E=-.5/i);for(var _=0;_<=i;_++){var C=_/i;g.x=-r*Math.cos(o+C*s)*Math.sin(u+w*l),g.y=r*Math.cos(u+w*l),g.z=r*Math.sin(o+C*s)*Math.sin(u+w*l),v.push(g.x,g.y,g.z),f.copy(g).normalize(),y.push(f.x,f.y,f.z),A.push(C+E,1-w),x.push(h++)}d.push(x)}for(var M=0;M<a;M++)for(var S=0;S<i;S++){var I=d[M][S+1],T=d[M][S],k=d[M+1][S],R=d[M+1][S+1];(0!==M||u>0)&&m.push(I,T,R),(M!==a-1||c<Math.PI)&&m.push(T,k,R)}return e.setIndex(m),e.setAttribute("position",new Xi(v,3)),e.setAttribute("normal",new Xi(y,3)),e.setAttribute("uv",new Xi(A,2)),e}return f(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(ia),nh=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return p(this,n),(e=t.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],r,i)).type="TetrahedronGeometry",e.parameters={radius:r,detail:i},e}return f(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(gc),rh=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;p(this,n),(e=t.call(this)).type="TorusGeometry",e.parameters={radius:r,tube:i,radialSegments:a,tubularSegments:o,arc:s},a=Math.floor(a),o=Math.floor(o);for(var u=[],l=[],c=[],h=[],d=new wr,g=new wr,f=new wr,m=0;m<=a;m++)for(var v=0;v<=o;v++){var y=v/o*s,A=m/a*Math.PI*2;g.x=(r+i*Math.cos(A))*Math.cos(y),g.y=(r+i*Math.cos(A))*Math.sin(y),g.z=i*Math.sin(A),l.push(g.x,g.y,g.z),d.x=r*Math.cos(y),d.y=r*Math.sin(y),f.subVectors(g,d).normalize(),c.push(f.x,f.y,f.z),h.push(v/o),h.push(m/a)}for(var b=1;b<=a;b++)for(var x=1;x<=o;x++){var w=(o+1)*b+x-1,E=(o+1)*(b-1)+x-1,_=(o+1)*(b-1)+x,C=(o+1)*b+x;u.push(w,E,C),u.push(E,_,C)}return e.setIndex(u),e.setAttribute("position",new Xi(l,3)),e.setAttribute("normal",new Xi(c,3)),e.setAttribute("uv",new Xi(h,2)),e}return f(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}]),n}(ia),ih=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;p(this,n),(e=t.call(this)).type="TorusKnotGeometry",e.parameters={radius:r,tube:i,tubularSegments:a,radialSegments:o,p:s,q:u},a=Math.floor(a),o=Math.floor(o);for(var l=[],c=[],h=[],d=[],g=new wr,f=new wr,m=new wr,v=new wr,y=new wr,A=new wr,b=new wr,x=0;x<=a;++x){var w=x/a*s*Math.PI*2;B(w,s,u,r,m),B(w+.01,s,u,r,v),A.subVectors(v,m),b.addVectors(v,m),y.crossVectors(A,b),b.crossVectors(y,A),y.normalize(),b.normalize();for(var E=0;E<=o;++E){var _=E/o*Math.PI*2,C=-i*Math.cos(_),M=i*Math.sin(_);g.x=m.x+(C*b.x+M*y.x),g.y=m.y+(C*b.y+M*y.y),g.z=m.z+(C*b.z+M*y.z),c.push(g.x,g.y,g.z),f.subVectors(g,m).normalize(),h.push(f.x,f.y,f.z),d.push(x/a),d.push(E/o)}}for(var S=1;S<=a;S++)for(var I=1;I<=o;I++){var T=(o+1)*(S-1)+(I-1),k=(o+1)*S+(I-1),R=(o+1)*S+I,L=(o+1)*(S-1)+I;l.push(T,k,L),l.push(k,R,L)}function B(e,t,n,r,i){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,u=Math.cos(s);i.x=r*(2+u)*.5*a,i.y=r*(2+u)*o*.5,i.z=r*Math.sin(s)*.5}return e.setIndex(l),e.setAttribute("position",new Xi(c,3)),e.setAttribute("normal",new Xi(h,3)),e.setAttribute("uv",new Xi(d,2)),e}return f(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}]),n}(ia),ah=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new rc(new wr(-1,-1,0),new wr(-1,1,0),new wr(1,1,0)),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];p(this,n),(e=t.call(this)).type="TubeGeometry",e.parameters={path:r,tubularSegments:i,radius:a,radialSegments:o,closed:s};var u=r.computeFrenetFrames(i,s);e.tangents=u.tangents,e.normals=u.normals,e.binormals=u.binormals;var l=new wr,c=new wr,h=new Vn,d=new wr,g=[],f=[],m=[],v=[];function y(e){d=r.getPointAt(e/i,d);for(var t=u.normals[e],n=u.binormals[e],s=0;s<=o;s++){var h=s/o*Math.PI*2,p=Math.sin(h),m=-Math.cos(h);c.x=m*t.x+p*n.x,c.y=m*t.y+p*n.y,c.z=m*t.z+p*n.z,c.normalize(),f.push(c.x,c.y,c.z),l.x=d.x+a*c.x,l.y=d.y+a*c.y,l.z=d.z+a*c.z,g.push(l.x,l.y,l.z)}}return function(){for(var e=0;e<i;e++)y(e);y(!1===s?i:0),function(){for(var e=0;e<=i;e++)for(var t=0;t<=o;t++)h.x=e/i,h.y=t/o,m.push(h.x,h.y)}(),function(){for(var e=1;e<=i;e++)for(var t=1;t<=o;t++){var n=(o+1)*(e-1)+(t-1),r=(o+1)*e+(t-1),a=(o+1)*e+t,s=(o+1)*(e-1)+t;v.push(n,r,s),v.push(r,a,s)}}()}(),e.setIndex(v),e.setAttribute("position",new Xi(g,3)),e.setAttribute("normal",new Xi(f,3)),e.setAttribute("uv",new Xi(m,2)),e}return f(n,[{key:"toJSON",value:function(){var e=h(d(n.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}],[{key:"fromJSON",value:function(e){return new n((new ac[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}]),n}(ia),oh=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(p(this,n),(e=t.call(this)).type="WireframeGeometry",e.parameters={geometry:r},null!==r){var i=[],a=new Set,o=new wr,s=new wr;if(null!==r.index){var u=r.attributes.position,l=r.index,c=r.groups;0===c.length&&(c=[{start:0,count:l.count,materialIndex:0}]);for(var h=0,d=c.length;h<d;++h)for(var g=c[h],f=g.start,m=f,v=f+g.count;m<v;m+=3)for(var y=0;y<3;y++){var A=l.getX(m+y),b=l.getX(m+(y+1)%3);o.fromBufferAttribute(u,A),s.fromBufferAttribute(u,b),!0===sh(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}}else for(var x=r.attributes.position,w=0,E=x.count/3;w<E;w++)for(var _=0;_<3;_++){var C=3*w+_,M=3*w+(_+1)%3;o.fromBufferAttribute(x,C),s.fromBufferAttribute(x,M),!0===sh(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}e.setAttribute("position",new Xi(i,3))}return e}return f(n)}(ia);function sh(e,t,n){var r="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),i="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var uh=Object.freeze({__proto__:null,BoxGeometry:_a,CapsuleGeometry:lc,CircleGeometry:cc,ConeGeometry:dc,CylinderGeometry:hc,DodecahedronGeometry:pc,EdgesGeometry:Ac,ExtrudeGeometry:Xc,IcosahedronGeometry:Yc,LatheGeometry:uc,OctahedronGeometry:Jc,PlaneGeometry:Qa,PolyhedronGeometry:gc,RingGeometry:$c,ShapeGeometry:eh,SphereGeometry:th,TetrahedronGeometry:nh,TorusGeometry:rh,TorusKnotGeometry:ih,TubeGeometry:ah,WireframeGeometry:oh}),lh=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this)).isShadowMaterial=!0,r.type="ShadowMaterial",r.color=new ur(0),r.transparent=!0,r.fog=!0,r.setValues(e),r}return f(n,[{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.fog=e.fog,this}}]),n}(Oi),ch=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).isRawShaderMaterial=!0,r.type="RawShaderMaterial",r}return f(n)}(Ta),hh=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this)).isMeshStandardMaterial=!0,r.defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new ur(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new ur(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=Xt,r.normalScale=new Vn(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return f(n,[{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Oi),dh=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this)).isMeshPhysicalMaterial=!0,r.defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new Vn(1,1),r.clearcoatNormalMap=null,r.ior=1.5,Object.defineProperty(m(r),"reflectivity",{get:function(){return Pn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),r.iridescenceMap=null,r.iridescenceIOR=1.3,r.iridescenceThicknessRange=[100,400],r.iridescenceThicknessMap=null,r.sheenColor=new ur(0),r.sheenColorMap=null,r.sheenRoughness=1,r.sheenRoughnessMap=null,r.transmissionMap=null,r.thickness=0,r.thicknessMap=null,r.attenuationDistance=1/0,r.attenuationColor=new ur(1,1,1),r.specularIntensity=1,r.specularIntensityMap=null,r.specularColor=new ur(1,1,1),r.specularColorMap=null,r._sheen=0,r._clearcoat=0,r._iridescence=0,r._transmission=0,r.setValues(e),r}return f(n,[{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}},{key:"iridescence",get:function(){return this._iridescence},set:function(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=i(e.iridescenceThicknessRange),this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),n}(hh),gh=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this)).isMeshPhongMaterial=!0,r.type="MeshPhongMaterial",r.color=new ur(16777215),r.specular=new ur(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new ur(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=Xt,r.normalScale=new Vn(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=ue,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return f(n,[{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Oi),ph=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this)).isMeshToonMaterial=!0,r.defines={TOON:""},r.type="MeshToonMaterial",r.color=new ur(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new ur(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=Xt,r.normalScale=new Vn(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return f(n,[{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(Oi),fh=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this)).isMeshNormalMaterial=!0,r.type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=Xt,r.normalScale=new Vn(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.flatShading=!1,r.setValues(e),r}return f(n,[{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),n}(Oi),mh=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this)).isMeshLambertMaterial=!0,r.type="MeshLambertMaterial",r.color=new ur(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new ur(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=Xt,r.normalScale=new Vn(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=ue,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return f(n,[{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Oi),vh=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this)).isMeshMatcapMaterial=!0,r.defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new ur(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=Xt,r.normalScale=new Vn(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.flatShading=!1,r.fog=!0,r.setValues(e),r}return f(n,[{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Oi),yh=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this)).isLineDashedMaterial=!0,r.type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(e),r}return f(n,[{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(vl);function Ah(e,t,n){return xh(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function bh(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function xh(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wh(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function Eh(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,u=0;u!==t;++u)i[o++]=e[s+u];return i}function _h(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}}var Ch=Object.freeze({__proto__:null,arraySlice:Ah,convertArray:bh,isTypedArray:xh,getKeyframeOrder:wh,sortedArray:Eh,flattenJSON:_h,subclip:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var u=a.tracks[s],l=u.getValueSize(),c=[],h=[],d=0;d<u.times.length;++d){var g=u.times[d]*i;if(!(g<n||g>=r)){c.push(u.times[d]);for(var p=0;p<l;++p)h.push(u.values[d*l+p])}}0!==c.length&&(u.times=bh(c,u.times.constructor),u.values=bh(h,u.values.constructor),o.push(u))}a.tracks=o;for(var f=1/0,m=0;m<a.tracks.length;++m)f>a.tracks[m].times[0]&&(f=a.tracks[m].times[0]);for(var v=0;v<a.tracks.length;++v)a.tracks[v].shift(-1*f);return a.resetDuration(),a},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var i=n.tracks.length,a=t/r,o=function(){var t=n.tracks[s],r=t.ValueTypeName;if("bool"===r||"string"===r)return 0;var i=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===r}));if(void 0===i)return 0;var o=0,u=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(o=u/3);var l=0,c=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=c/3);var h,d=t.times.length-1;if(a<=t.times[0]){var g=o,p=u-o;h=Ah(t.values,g,p)}else if(a>=t.times[d]){var f=d*u+o,m=f+u-o;h=Ah(t.values,f,m)}else{var v=t.createInterpolant(),y=o,A=u-o;v.evaluate(a),h=Ah(v.resultBuffer,y,A)}"quaternion"===r&&(new xr).fromArray(h).normalize().conjugate().toArray(h);for(var b=i.times.length,x=0;x<b;++x){var w=x*c+l;if("quaternion"===r)xr.multiplyQuaternionsFlat(i.values,w,h,0,i.values,w);else for(var E=c-2*l,_=0;_<E;++_)i.values[w+_]-=h[_]}},s=0;s<i;++s)o();return e.blendMode=jt,e}}),Mh=function(){function e(t,n,r,i){p(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return f(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var u=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===u)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var l=n+a>>>1;e<t[l]?a=l:n=l+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}(),Sh=function(e){v(n,e);var t=y(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this,e,r,i,a))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:Nt,endingEnd:Nt},o}return f(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case Ft:i=e,o=2*t-n;break;case Ut:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Ft:a=e,s=2*n-t;break;case Ut:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var u=.5*(n-t),l=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(s-n),this._offsetPrev=i*l,this._offsetNext=a*l}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,d=this._weightNext,g=(n-t)/(r-t),p=g*g,f=p*g,m=-h*f+2*h*p-h*g,v=(1+h)*f+(-1.5-2*h)*p+(-.5+h)*g+1,y=(-1-d)*f+(1.5+d)*p+.5*g,A=d*f-d*p,b=0;b!==o;++b)i[b]=m*a[l+b]+v*a[u+b]+y*a[s+b]+A*a[c+b];return i}}]),n}(Mh),Ih=function(e){v(n,e);var t=y(n);function n(e,r,i,a){return p(this,n),t.call(this,e,r,i,a)}return f(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=(n-t)/(r-t),c=1-l,h=0;h!==o;++h)i[h]=a[u+h]*c+a[s+h]*l;return i}}]),n}(Mh),Th=function(e){v(n,e);var t=y(n);function n(e,r,i,a){return p(this,n),t.call(this,e,r,i,a)}return f(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(Mh),kh=function(){function e(t,n,r,i){if(p(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=bh(n,this.TimeBufferType),this.values=bh(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return f(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new Th(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new Ih(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new Sh(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case Dt:t=this.InterpolantFactoryMethodDiscrete;break;case Pt:t=this.InterpolantFactoryMethodLinear;break;case Ot:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Dt;case this.InterpolantFactoryMethodLinear:return Pt;case this.InterpolantFactoryMethodSmooth:return Ot}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Ah(n,i,a),this.values=Ah(this.values,i*o,a*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&xh(r))for(var u=0,l=r.length;u!==l;++u){var c=r[u];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=Ah(this.times),t=Ah(this.values),n=this.getValueSize(),r=this.getInterpolation()===Ot,i=e.length-1,a=1,o=1;o<i;++o){var s=!1,u=e[o];if(u!==e[o+1]&&(1!==o||u!==e[0]))if(r)s=!0;else for(var l=o*n,c=l-n,h=l+n,d=0;d!==n;++d){var g=t[l+d];if(g!==t[c+d]||g!==t[h+d]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var p=o*n,f=a*n,m=0;m!==n;++m)t[f+m]=t[p+m]}++a}}if(i>0){e[a]=e[i];for(var v=i*n,y=a*n,A=0;A!==n;++A)t[y+A]=t[v+A];++a}return a!==e.length?(this.times=Ah(e,0,a),this.values=Ah(t,0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=Ah(this.times,0),t=Ah(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:bh(e.times,Array),values:bh(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();kh.prototype.TimeBufferType=Float32Array,kh.prototype.ValueBufferType=Float32Array,kh.prototype.DefaultInterpolation=Pt;var Rh=function(e){v(n,e);var t=y(n);function n(){return p(this,n),t.apply(this,arguments)}return f(n)}(kh);Rh.prototype.ValueTypeName="bool",Rh.prototype.ValueBufferType=Array,Rh.prototype.DefaultInterpolation=Dt,Rh.prototype.InterpolantFactoryMethodLinear=void 0,Rh.prototype.InterpolantFactoryMethodSmooth=void 0;var Lh=function(e){v(n,e);var t=y(n);function n(){return p(this,n),t.apply(this,arguments)}return f(n)}(kh);Lh.prototype.ValueTypeName="color";var Bh=function(e){v(n,e);var t=y(n);function n(){return p(this,n),t.apply(this,arguments)}return f(n)}(kh);Bh.prototype.ValueTypeName="number";var Dh=function(e){v(n,e);var t=y(n);function n(e,r,i,a){return p(this,n),t.call(this,e,r,i,a)}return f(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),u=e*o,l=u+o;u!==l;u+=4)xr.slerpFlat(i,0,a,u-o,a,u,s);return i}}]),n}(Mh),Ph=function(e){v(n,e);var t=y(n);function n(){return p(this,n),t.apply(this,arguments)}return f(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new Dh(this.times,this.values,this.getValueSize(),e)}}]),n}(kh);Ph.prototype.ValueTypeName="quaternion",Ph.prototype.DefaultInterpolation=Pt,Ph.prototype.InterpolantFactoryMethodSmooth=void 0;var Oh=function(e){v(n,e);var t=y(n);function n(){return p(this,n),t.apply(this,arguments)}return f(n)}(kh);Oh.prototype.ValueTypeName="string",Oh.prototype.ValueBufferType=Array,Oh.prototype.DefaultInterpolation=Dt,Oh.prototype.InterpolantFactoryMethodLinear=void 0,Oh.prototype.InterpolantFactoryMethodSmooth=void 0;var Nh=function(e){v(n,e);var t=y(n);function n(){return p(this,n),t.apply(this,arguments)}return f(n)}(kh);Nh.prototype.ValueTypeName="vector";var Fh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:zt;p(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Dn(),this.duration<0&&this.resetDuration()}return f(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(Uh(n[i]).scale(r));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push(kh.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],u=[];s.push((o+i-1)%i,o,(o+1)%i),u.push(0,1,0);var l=wh(s);s=Eh(s,1,l),u=Eh(u,1,l),r||0!==s[0]||(s.push(i),u.push(u[0])),a.push(new Bh(".morphTargetInfluences["+t[o].name+"]",s,u).scale(1/n))}return new this(e,-1,a)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],u=s.name.match(i);if(u&&u.length>1){var l=u[1],c=r[l];c||(r[l]=c=[]),c.push(s)}}var h=[];for(var d in r)h.push(this.CreateFromMorphTargetSequence(d,r[d],t,n));return h}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];_h(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,u=e.hierarchy||[],l=0;l<u.length;l++){var c=u[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){var h={},d=void 0;for(d=0;d<c.length;d++)if(c[d].morphTargets)for(var g=0;g<c[d].morphTargets.length;g++)h[c[d].morphTargets[g]]=-1;for(var p in h){for(var f=[],m=[],v=0;v!==c[d].morphTargets.length;++v){var y=c[d];f.push(y.time),m.push(y.morphTarget===p?1:0)}r.push(new Bh(".morphTargetInfluence["+p+"]",f,m))}s=h.length*a}else{var A=".bones["+t[l].name+"]";n(Nh,A+".position",c,"pos",r),n(Ph,A+".quaternion",c,"rot",r),n(Nh,A+".scale",c,"scl",r)}}return 0===r.length?null:new this(i,s,r,o)}}]),e}();function Uh(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Bh;case"vector":case"vector2":case"vector3":case"vector4":return Nh;case"color":return Lh;case"quaternion":return Ph;case"bool":case"boolean":return Rh;case"string":return Oh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];_h(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var zh,jh={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Hh=f((function e(t,n,r){p(this,e);var i=this,a=!1,o=0,s=0,u=void 0,l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return u?u(e):e},this.setURLModifier=function(e){return u=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){var t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=l.length;t<n;t+=2){var r=l[t],i=l[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}})),Gh=new Hh,Vh=function(){function e(t){p(this,e),this.manager=void 0!==t?t:Gh,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return f(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),Qh={},Wh=function(e){v(n,e);var t=y(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).response=r,i}return f(n)}(c(Error)),qh=function(e){v(n,e);var t=y(n);function n(e){return p(this,n),t.call(this,e)}return f(n,[{key:"load",value:function(e,t,n,r){var i=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=jh.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===Qh[e]){Qh[e]=[],Qh[e].push({onLoad:t,onProgress:n,onError:r});var o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,u=this.responseType;fetch(o).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;var n=Qh[e],r=t.body.getReader(),i=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),a=i?parseInt(i):0,o=0!==a,s=0,u=new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var i=r.done,u=r.value;if(i)e.close();else{s+=u.byteLength;for(var l=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a}),c=0,h=n.length;c<h;c++){var d=n[c];d.onProgress&&d.onProgress(l)}e.enqueue(u),t()}}))}()}});return new Response(u)}throw new Wh('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)})).then((function(e){switch(u){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,s)}));case"json":return e.json();default:if(void 0===s)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(s),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((function(e){return r.decode(e)}))}})).then((function(t){jh.add(e,t);var n=Qh[e];delete Qh[e];for(var r=0,i=n.length;r<i;r++){var a=n[r];a.onLoad&&a.onLoad(t)}})).catch((function(t){var n=Qh[e];if(void 0===n)throw i.manager.itemError(e),t;delete Qh[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e)})).finally((function(){i.manager.itemEnd(e)})),this.manager.itemStart(e)}else Qh[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(Vh),Kh=function(e){v(n,e);var t=y(n);function n(e){return p(this,n),t.call(this,e)}return f(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new qh(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=Fh.parse(e[n]);t.push(r)}return t}}]),n}(Vh),Xh=function(e){v(n,e);var t=y(n);function n(e){return p(this,n),t.call(this,e)}return f(n,[{key:"load",value:function(e,t,n,r){var i=this,a=[],o=new Nl,s=new qh(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);var u=0;function l(l){s.load(e[l],(function(e){var n=i.parse(e,!0);a[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(o.minFilter=Re),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(var c=0,h=e.length;c<h;++c)l(c);else s.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap){for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=Re),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}]),n}(Vh),Zh=function(e){v(n,e);var t=y(n);function n(e){return p(this,n),t.call(this,e)}return f(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=jh.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=Zn("img");function s(){l(),jh.add(e,this),t&&t(this),i.manager.itemEnd(e)}function u(t){l(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function l(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}]),n}(Vh),Yh=function(e){v(n,e);var t=y(n);function n(e){return p(this,n),t.call(this,e)}return f(n,[{key:"load",value:function(e,t,n,r){var i=new Da,a=new Zh(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],(function(e){i.images[n]=e,6===++o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var u=0;u<e.length;++u)s(u);return i}}]),n}(Vh),Jh=function(e){v(n,e);var t=y(n);function n(e){return p(this,n),t.call(this,e)}return f(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new ol,o=new qh(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:_e,a.wrapT=void 0!==n.wrapT?n.wrapT:_e,a.magFilter=void 0!==n.magFilter?n.magFilter:Re,a.minFilter=void 0!==n.minFilter?n.minFilter:Re,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(a.encoding=n.encoding),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=De),1===n.mipmapCount&&(a.minFilter=Re),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n))}),n,r),a}}]),n}(Vh),$h=function(e){v(n,e);var t=y(n);function n(e){return p(this,n),t.call(this,e)}return f(n,[{key:"load",value:function(e,t,n,r){var i=new gr,a=new Zh(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(Vh),ed=function(e){v(n,e);var t=y(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return p(this,n),(r=t.call(this)).isLight=!0,r.type="Light",r.color=new ur(e),r.intensity=i,r}return f(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e,t){return h(d(n.prototype),"copy",this).call(this,e,t),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=h(d(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(Ei),td=function(e){v(n,e);var t=y(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,i)).isHemisphereLight=!0,a.type="HemisphereLight",a.position.copy(Ei.DefaultUp),a.updateMatrix(),a.groundColor=new ur(r),a}return f(n,[{key:"copy",value:function(e,t){return h(d(n.prototype),"copy",this).call(this,e,t),this.groundColor.copy(e.groundColor),this}}]),n}(ed),nd=new Jr,rd=new wr,id=new wr,ad=function(){function e(t){p(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vn(512,512),this.map=null,this.mapPass=null,this.matrix=new Jr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ha,this._frameExtents=new Vn(1,1),this._viewportCount=1,this._viewports=[new pr(0,0,1,1)]}return f(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;rd.setFromMatrixPosition(e.matrixWorld),t.position.copy(rd),id.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(id),t.updateMatrixWorld(),nd.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(nd),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(nd)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),od=function(e){v(n,e);var t=y(n);function n(){var e;return p(this,n),(e=t.call(this,new Ra(50,1,.5,500))).isSpotLightShadow=!0,e.focus=1,e}return f(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*Bn*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;r===t.fov&&i===t.aspect&&a===t.far||(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),h(d(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(ad),sd=function(e){v(n,e);var t=y(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;return p(this,n),(i=t.call(this,e,r)).isSpotLight=!0,i.type="SpotLight",i.position.copy(Ei.DefaultUp),i.updateMatrix(),i.target=new Ei,i.distance=a,i.angle=o,i.penumbra=s,i.decay=u,i.map=null,i.shadow=new od,i}return f(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return h(d(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(ed),ud=new Jr,ld=new wr,cd=new wr,hd=function(e){v(n,e);var t=y(n);function n(){var e;return p(this,n),(e=t.call(this,new Ra(90,1,.5,500))).isPointLightShadow=!0,e._frameExtents=new Vn(4,2),e._viewportCount=6,e._viewports=[new pr(2,1,1,1),new pr(0,1,1,1),new pr(3,1,1,1),new pr(1,1,1,1),new pr(3,0,1,1),new pr(1,0,1,1)],e._cubeDirections=[new wr(1,0,0),new wr(-1,0,0),new wr(0,0,1),new wr(0,0,-1),new wr(0,1,0),new wr(0,-1,0)],e._cubeUps=[new wr(0,1,0),new wr(0,1,0),new wr(0,1,0),new wr(0,1,0),new wr(0,0,1),new wr(0,0,-1)],e}return f(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),ld.setFromMatrixPosition(e.matrixWorld),n.position.copy(ld),cd.copy(n.position),cd.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(cd),n.updateMatrixWorld(),r.makeTranslation(-ld.x,-ld.y,-ld.z),ud.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ud)}}]),n}(ad),dd=function(e){v(n,e);var t=y(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return p(this,n),(i=t.call(this,e,r)).isPointLight=!0,i.type="PointLight",i.distance=a,i.decay=o,i.shadow=new hd,i}return f(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return h(d(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(ed),gd=function(e){v(n,e);var t=y(n);function n(){var e;return p(this,n),(e=t.call(this,new no(-5,5,5,-5,.5,500))).isDirectionalLightShadow=!0,e}return f(n)}(ad),pd=function(e){v(n,e);var t=y(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).isDirectionalLight=!0,i.type="DirectionalLight",i.position.copy(Ei.DefaultUp),i.updateMatrix(),i.target=new Ei,i.shadow=new gd,i}return f(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(ed),fd=function(e){v(n,e);var t=y(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).isAmbientLight=!0,i.type="AmbientLight",i}return f(n)}(ed),md=function(e){v(n,e);var t=y(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return p(this,n),(i=t.call(this,e,r)).isRectAreaLight=!0,i.type="RectAreaLight",i.width=a,i.height=o,i}return f(n,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}},{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=h(d(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(ed),vd=function(){function e(){p(this,e),this.isSphericalHarmonics3=!0,this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new wr)}return f(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}(),yd=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new vd,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return p(this,n),(e=t.call(this,void 0,i)).isLightProbe=!0,e.sh=r,e}return f(n,[{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=h(d(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(ed),Ad=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).textures={},r}return f(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new qh(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t=this.textures;function r(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var i=n.createMaterialFromType(e.type);if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&void 0!==i.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=e.sheen),void 0!==e.sheenColor&&(i.sheenColor=(new ur).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(i.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==i.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==i.specular&&i.specular.setHex(e.specular),void 0!==e.specularIntensity&&(i.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==i.specularColor&&i.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.iridescence&&(i.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(i.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(i.transmission=e.transmission),void 0!==e.thickness&&(i.thickness=e.thickness),void 0!==e.attenuationDistance&&(i.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==i.attenuationColor&&i.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.shadowSide&&(i.shadowSide=e.shadowSide),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.alphaToCoverage&&(i.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(i.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var a in e.uniforms){var o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=r(o.value);break;case"c":i.uniforms[a].value=(new ur).setHex(o.value);break;case"v2":i.uniforms[a].value=(new Vn).fromArray(o.value);break;case"v3":i.uniforms[a].value=(new wr).fromArray(o.value);break;case"v4":i.uniforms[a].value=(new pr).fromArray(o.value);break;case"m3":i.uniforms[a].value=(new Qn).fromArray(o.value);break;case"m4":i.uniforms[a].value=(new Jr).fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(i.glslVersion=e.glslVersion),void 0!==e.extensions)for(var s in e.extensions)i.extensions[s]=e.extensions[s];if(void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=r(e.map)),void 0!==e.matcap&&(i.matcap=r(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=r(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=r(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=r(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){var u=e.normalScale;!1===Array.isArray(u)&&(u=[u,u]),i.normalScale=(new Vn).fromArray(u)}return void 0!==e.displacementMap&&(i.displacementMap=r(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=r(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=r(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=r(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=r(e.specularMap)),void 0!==e.specularIntensityMap&&(i.specularIntensityMap=r(e.specularIntensityMap)),void 0!==e.specularColorMap&&(i.specularColorMap=r(e.specularColorMap)),void 0!==e.envMap&&(i.envMap=r(e.envMap)),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=r(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=r(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=r(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=r(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new Vn).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(i.iridescenceMap=r(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(i.transmissionMap=r(e.transmissionMap)),void 0!==e.thicknessMap&&(i.thicknessMap=r(e.thicknessMap)),void 0!==e.sheenColorMap&&(i.sheenColorMap=r(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}},{key:"setTextures",value:function(e){return this.textures=e,this}}],[{key:"createMaterialFromType",value:function(e){return new{ShadowMaterial:lh,SpriteMaterial:Pu,RawShaderMaterial:ch,ShaderMaterial:Ta,PointsMaterial:Il,MeshPhysicalMaterial:dh,MeshStandardMaterial:hh,MeshPhongMaterial:gh,MeshToonMaterial:ph,MeshNormalMaterial:fh,MeshLambertMaterial:mh,MeshDepthMaterial:su,MeshDistanceMaterial:uu,MeshBasicMaterial:Ni,MeshMatcapMaterial:vh,LineDashedMaterial:yh,LineBasicMaterial:vl,Material:Oi}[e]}}]),n}(Vh),bd=function(){function e(){p(this,e)}return f(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(i){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}(),xd=function(e){v(n,e);var t=y(n);function n(){var e;return p(this,n),(e=t.call(this)).isInstancedBufferGeometry=!0,e.type="InstancedBufferGeometry",e.instanceCount=1/0,e}return f(n,[{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"toJSON",value:function(){var e=h(d(n.prototype),"toJSON",this).call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n}(ia),wd=function(e){v(n,e);var t=y(n);function n(e){return p(this,n),t.call(this,e)}return f(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new qh(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers,i=r[t],a=new Uint32Array(i).buffer;return n[t]=a,a}(e,i.buffer),o=Xn(i.type,a),s=new Lu(o,i.stride);return s.uuid=i.uuid,t[r]=s,s}var i=e.isInstancedBufferGeometry?new xd:new ia,a=e.data.index;if(void 0!==a){var o=Xn(a.type,a.array);i.setIndex(new zi(o,1))}var s=e.data.attributes;for(var u in s){var l=s[u],c=void 0;if(l.isInterleavedBufferAttribute){var h=r(e.data,l.data);c=new Du(h,l.itemSize,l.offset,l.normalized)}else{var d=Xn(l.type,l.array);c=new(l.isInstancedBufferAttribute?cl:zi)(d,l.itemSize,l.normalized)}void 0!==l.name&&(c.name=l.name),void 0!==l.usage&&c.setUsage(l.usage),void 0!==l.updateRange&&(c.updateRange.offset=l.updateRange.offset,c.updateRange.count=l.updateRange.count),i.setAttribute(u,c)}var g=e.data.morphAttributes;if(g)for(var p in g){for(var f=g[p],m=[],v=0,y=f.length;v<y;v++){var A=f[v],b=void 0;if(A.isInterleavedBufferAttribute){var x=r(e.data,A.data);b=new Du(x,A.itemSize,A.offset,A.normalized)}else{var w=Xn(A.type,A.array);b=new zi(w,A.itemSize,A.normalized)}void 0!==A.name&&(b.name=A.name),m.push(b)}i.morphAttributes[p]=m}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var E=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==E)for(var _=0,C=E.length;_!==C;++_){var M=E[_];i.addGroup(M.start,M.count,M.materialIndex)}var S=e.data.boundingSphere;if(void 0!==S){var I=new wr;void 0!==S.center&&I.fromArray(S.center),i.boundingSphere=new Gr(I,S.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}]),n}(Vh),Ed=function(e){v(n,e);var t=y(n);function n(e){return p(this,n),t.call(this,e)}return f(n,[{key:"load",value:function(e,t,n,r){var i=this,a=""===this.path?bd.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var o=new qh(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){var a=null;try{a=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())return void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);i.parse(a,t)}),n,r)}},{key:"loadAsync",value:function(){var e=a(u().mark((function e(t,n){var r,i,a,o,s,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=""===this.path?bd.extractUrlBase(t):this.path,this.resourcePath=this.resourcePath||i,(a=new qh(this.manager)).setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),e.next=9,a.loadAsync(t,n);case 9:if(o=e.sent,s=JSON.parse(o),void 0!==(l=s.metadata)&&void 0!==l.type&&"geometry"!==l.type.toLowerCase()){e.next=14;break}throw new Error("THREE.ObjectLoader: Can't load "+t);case 14:return e.next=16,r.parseAsync(s);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parse",value:function(e,t){var n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,(function(){void 0!==t&&t(u)})),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,i,s,o,n),l=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,l),void 0!==t){var c=!1;for(var h in a)if(a[h].data instanceof HTMLImageElement){c=!0;break}!1===c&&t(u)}return u}},{key:"parseAsync",value:function(){var e=a(u().mark((function e(t){var n,r,i,a,o,s,l,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,r),e.next=5,this.parseImagesAsync(t.images);case 5:return a=e.sent,o=this.parseTextures(t.textures,a),s=this.parseMaterials(t.materials,o),l=this.parseObject(t.object,i,s,o,n),c=this.parseSkeletons(t.skeletons,l),this.bindSkeletons(l,c),e.abrupt("return",l);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new bc).fromJSON(e[n]);t[i.uuid]=i}return t}},{key:"parseSkeletons",value:function(e,t){var n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=(new ll).fromJSON(e[i],r);n[o.uuid]=o}return n}},{key:"parseGeometries",value:function(e,t){var n={};if(void 0!==e)for(var r=new wd,i=0,a=e.length;i<a;i++){var o=void 0,s=e[i];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;case"Geometry":"THREE"in window&&"LegacyJSONLoader"in THREE?o=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry:console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:s.type in uh?o=uh[s.type].fromJSON(s,t):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(s.type,'"'))}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n}},{key:"parseMaterials",value:function(e,t){var n={},r={};if(void 0!==e){var i=new Ad;i.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var n=0;n<e.length;n++){var r=e[n],i=Fh.parse(r);t[i.uuid]=i}return t}},{key:"parseImages",value:function(e,t){var n,r=this,i={};function a(e){if("string"===typeof e){var t=e;return function(e){return r.manager.itemStart(e),n.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:r.resourcePath+t)}return e.data?{data:Xn(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){var o=new Hh(t);(n=new Zh(o)).setCrossOrigin(this.crossOrigin);for(var s=0,u=e.length;s<u;s++){var l=e[s],c=l.url;if(Array.isArray(c)){for(var h=[],d=0,g=c.length;d<g;d++){var p=a(c[d]);null!==p&&(p instanceof HTMLImageElement?h.push(p):h.push(new ol(p.data,p.width,p.height)))}i[l.uuid]=new cr(h)}else{var f=a(l.url);i[l.uuid]=new cr(f)}}}return i}},{key:"parseImagesAsync",value:function(){var e=a(u().mark((function e(t){var n,r,i,o,s,l,c,h,d,g,p,f,m,v,y;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(){return s=a(u().mark((function e(t){var r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=8;break}return a=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(r=t)?r:n.resourcePath+r,e.next=5,i.loadAsync(a);case 5:return e.abrupt("return",e.sent);case 8:if(!t.data){e.next=12;break}return e.abrupt("return",{data:Xn(t.type,t.data),width:t.width,height:t.height});case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)},o=function(e){return s.apply(this,arguments)},n=this,r={},!(void 0!==t&&t.length>0)){e.next=33;break}(i=new Zh(this.manager)).setCrossOrigin(this.crossOrigin),l=0,c=t.length;case 8:if(!(l<c)){e.next=33;break}if(h=t[l],d=h.url,!Array.isArray(d)){e.next=26;break}g=[],p=0,f=d.length;case 14:if(!(p<f)){e.next=23;break}return m=d[p],e.next=18,o(m);case 18:null!==(v=e.sent)&&(v instanceof HTMLImageElement?g.push(v):g.push(new ol(v.data,v.width,v.height)));case 20:p++,e.next=14;break;case 23:r[h.uuid]=new cr(g),e.next=30;break;case 26:return e.next=28,o(h.url);case 28:y=e.sent,r[h.uuid]=new cr(y);case 30:l++,e.next=8;break;case 33:return e.abrupt("return",r);case 34:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseTextures",value:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=e[i];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=t[o.image],u=s.data,l=void 0;Array.isArray(u)?(l=new Da,6===u.length&&(l.needsUpdate=!0)):(l=u&&u.data?new ol:new gr,u&&(l.needsUpdate=!0)),l.source=s,l.uuid=o.uuid,void 0!==o.name&&(l.name=o.name),void 0!==o.mapping&&(l.mapping=n(o.mapping,_d)),void 0!==o.offset&&l.offset.fromArray(o.offset),void 0!==o.repeat&&l.repeat.fromArray(o.repeat),void 0!==o.center&&l.center.fromArray(o.center),void 0!==o.rotation&&(l.rotation=o.rotation),void 0!==o.wrap&&(l.wrapS=n(o.wrap[0],Cd),l.wrapT=n(o.wrap[1],Cd)),void 0!==o.format&&(l.format=o.format),void 0!==o.type&&(l.type=o.type),void 0!==o.encoding&&(l.encoding=o.encoding),void 0!==o.minFilter&&(l.minFilter=n(o.minFilter,Md)),void 0!==o.magFilter&&(l.magFilter=n(o.magFilter,Md)),void 0!==o.anisotropy&&(l.anisotropy=o.anisotropy),void 0!==o.flipY&&(l.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(l.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(l.unpackAlignment=o.unpackAlignment),void 0!==o.userData&&(l.userData=o.userData),r[o.uuid]=l}return r}},{key:"parseObject",value:function(e,t,n,r,i){var a,o,s;function u(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function l(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function c(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":a=new Ru,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new ur(e.background):a.background=c(e.background)),void 0!==e.environment&&(a.environment=c(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new ku(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new Tu(e.fog.color,e.fog.density))),void 0!==e.backgroundBlurriness&&(a.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":a=new Ra(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new no(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new fd(e.color,e.intensity);break;case"DirectionalLight":a=new pd(e.color,e.intensity);break;case"PointLight":a=new dd(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new md(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new sd(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new td(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new yd).fromJSON(e);break;case"SkinnedMesh":o=u(e.geometry),s=l(e.material),a=new il(o,s),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=u(e.geometry),s=l(e.material),a=new wa(o,s);break;case"InstancedMesh":o=u(e.geometry),s=l(e.material);var h=e.count,d=e.instanceMatrix,g=e.instanceColor;(a=new ml(o,s,h)).instanceMatrix=new cl(new Float32Array(d.array),16),void 0!==g&&(a.instanceColor=new cl(new Float32Array(g.array),g.itemSize));break;case"LOD":a=new Ju;break;case"Line":a=new El(u(e.geometry),l(e.material));break;case"LineLoop":a=new Sl(u(e.geometry),l(e.material));break;case"LineSegments":a=new Ml(u(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new Bl(u(e.geometry),l(e.material));break;case"Sprite":a=new Ku(l(e.material));break;case"Group":a=new fu;break;case"Bone":a=new al;break;default:a=new Ei}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children)for(var p=e.children,f=0;f<p.length;f++)a.add(this.parseObject(p[f],t,n,r,i));if(void 0!==e.animations)for(var m=e.animations,v=0;v<m.length;v++){var y=m[v];a.animations.push(i[y])}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);for(var A=e.levels,b=0;b<A.length;b++){var x=A[b],w=a.getObjectByProperty("uuid",x.object);void 0!==w&&a.addLevel(w,x.distance,x.hysteresis)}}return a}},{key:"bindSkeletons",value:function(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){var n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}}]),n}(Vh),_d={UVMapping:ve,CubeReflectionMapping:ye,CubeRefractionMapping:Ae,EquirectangularReflectionMapping:be,EquirectangularRefractionMapping:xe,CubeUVReflectionMapping:we},Cd={RepeatWrapping:Ee,ClampToEdgeWrapping:_e,MirroredRepeatWrapping:Ce},Md={NearestFilter:Me,NearestMipmapNearestFilter:Se,NearestMipmapLinearFilter:Te,LinearFilter:Re,LinearMipmapNearestFilter:Le,LinearMipmapLinearFilter:De},Sd=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return f(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=jh.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){jh.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}]),n}(Vh),Id=function(){function e(){p(this,e)}return f(e,null,[{key:"getContext",value:function(){return void 0===zh&&(zh=new(window.AudioContext||window.webkitAudioContext)),zh}},{key:"setContext",value:function(e){zh=e}}]),e}(),Td=function(e){v(n,e);var t=y(n);function n(e){return p(this,n),t.call(this,e)}return f(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new qh(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{var a=n.slice(0);Id.getContext().decodeAudioData(a,(function(e){t(e)}))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}}]),n}(Vh),kd=function(e){v(n,e);var t=y(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;p(this,n),(i=t.call(this,void 0,a)).isHemisphereLightProbe=!0;var o=(new ur).set(e),s=(new ur).set(r),u=new wr(o.r,o.g,o.b),l=new wr(s.r,s.g,s.b),c=Math.sqrt(Math.PI),h=c*Math.sqrt(.75);return i.sh.coefficients[0].copy(u).add(l).multiplyScalar(c),i.sh.coefficients[1].copy(u).sub(l).multiplyScalar(h),i}return f(n)}(yd),Rd=function(e){v(n,e);var t=y(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;p(this,n),(r=t.call(this,void 0,i)).isAmbientLightProbe=!0;var a=(new ur).set(e);return r.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI)),r}return f(n)}(yd),Ld=new Jr,Bd=new Jr,Dd=new Jr,Pd=function(){function e(){p(this,e),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ra,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ra,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return f(e,[{key:"update",value:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Dd.copy(e.projectionMatrix);var n,r,i=t.eyeSep/2,a=i*t.near/t.focus,o=t.near*Math.tan(Ln*t.fov*.5)/t.zoom;Bd.elements[12]=-i,Ld.elements[12]=i,n=-o*t.aspect+a,r=o*t.aspect+a,Dd.elements[0]=2*t.near/(r-n),Dd.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(Dd),n=-o*t.aspect-a,r=o*t.aspect-a,Dd.elements[0]=2*t.near/(r-n),Dd.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(Dd)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Bd),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Ld)}}]),e}(),Od=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];p(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return f(e,[{key:"start",value:function(){this.startTime=Nd(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=Nd();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function Nd(){return("undefined"===typeof performance?Date:performance).now()}var Fd=new wr,Ud=new xr,zd=new wr,jd=new wr,Hd=function(e){v(n,e);var t=y(n);function n(){var e;return p(this,n),(e=t.call(this)).type="AudioListener",e.context=Id.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new Od,e}return f(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){h(d(n.prototype),"updateMatrixWorld",this).call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Fd,Ud,zd),jd.set(0,0,-1).applyQuaternion(Ud),t.positionX){var i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Fd.x,i),t.positionY.linearRampToValueAtTime(Fd.y,i),t.positionZ.linearRampToValueAtTime(Fd.z,i),t.forwardX.linearRampToValueAtTime(jd.x,i),t.forwardY.linearRampToValueAtTime(jd.y,i),t.forwardZ.linearRampToValueAtTime(jd.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Fd.x,Fd.y,Fd.z),t.setOrientation(jd.x,jd.y,jd.z,r.x,r.y,r.z)}}]),n}(Ei),Gd=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return f(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(Ei),Vd=new wr,Qd=new xr,Wd=new wr,qd=new wr,Kd=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).panner=r.context.createPanner(),r.panner.panningModel="HRTF",r.panner.connect(r.gain),r}return f(n,[{key:"disconnect",value:function(){h(d(n.prototype),"disconnect",this).call(this),this.panner.disconnect(this.gain)}},{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(e){if(h(d(n.prototype),"updateMatrixWorld",this).call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(Vd,Qd,Wd),qd.set(0,0,1).applyQuaternion(Qd);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Vd.x,r),t.positionY.linearRampToValueAtTime(Vd.y,r),t.positionZ.linearRampToValueAtTime(Vd.z,r),t.orientationX.linearRampToValueAtTime(qd.x,r),t.orientationY.linearRampToValueAtTime(qd.y,r),t.orientationZ.linearRampToValueAtTime(qd.z,r)}else t.setPosition(Vd.x,Vd.y,Vd.z),t.setOrientation(qd.x,qd.y,qd.z)}}}]),n}(Gd),Xd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;p(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return f(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}(),Zd=function(){function e(t,n,r){var i,a,o;switch(p(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return f(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var u=t,l=t+t;u!==l;++u)if(n[u]!==n[u+t]){o.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]}},{key:"_slerp",value:function(e,t,n,r){xr.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,i){var a=this._workIndex*i;xr.multiplyQuaternionsFlat(e,a,e,t,e,n),xr.slerpFlat(e,t,e,t,e,a,r)}},{key:"_lerp",value:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,i){for(var a=0;a!==i;++a){var o=t+a;e[o]=e[o]+e[n+a]*r}}}]),e}(),Yd="\\[\\]\\.:\\/",Jd=new RegExp("["+Yd+"]","g"),$d="[^"+Yd+"]",eg="[^"+Yd.replace("\\.","")+"]",tg=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",$d)+/(WCOD+)?/.source.replace("WCOD",eg)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",$d)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",$d)+"$"),ng=["material","materials","bones","map"],rg=function(){function e(t,n,r){p(this,e);var i=r||ig.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return f(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),ig=function(){function e(t,n,r){p(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return f(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var u=t[i];if(void 0!==u){var l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=a}else void 0!==u.fromArray&&void 0!==u.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(c=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var h=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+i+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(Jd,"")}},{key:"parseTrackName",value:function(e){var t=tg.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==ng.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}]),e}();ig.Composite=rg,ig.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},ig.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},ig.prototype.GetterByBindingType=[ig.prototype._getValue_direct,ig.prototype._getValue_array,ig.prototype._getValue_arrayElement,ig.prototype._getValue_toArray],ig.prototype.SetterByBindingTypeAndVersioning=[[ig.prototype._setValue_direct,ig.prototype._setValue_direct_setNeedsUpdate,ig.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ig.prototype._setValue_array,ig.prototype._setValue_array_setNeedsUpdate,ig.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ig.prototype._setValue_arrayElement,ig.prototype._setValue_arrayElement_setNeedsUpdate,ig.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ig.prototype._setValue_fromArray,ig.prototype._setValue_fromArray_setNeedsUpdate,ig.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var ag=function(){function e(){p(this,e),this.isAnimationObjectGroup=!0,this.uuid=Dn(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}return f(e,[{key:"add",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length,o=void 0,s=e.length,u=this.nCachedObjects_,l=0,c=arguments.length;l!==c;++l){var h=arguments[l],d=h.uuid,g=t[d];if(void 0===g){g=s++,t[d]=g,e.push(h);for(var p=0,f=a;p!==f;++p)i[p].push(new ig(h,n[p],r[p]))}else if(g<u){o=e[g];var m=--u,v=e[m];t[v.uuid]=g,e[g]=v,t[d]=m,e[m]=h;for(var y=0,A=a;y!==A;++y){var b=i[y],x=b[m],w=b[g];b[g]=x,void 0===w&&(w=new ig(h,n[y],r[y])),b[m]=w}}else e[g]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],u=s.uuid,l=t[u];if(void 0!==l&&l>=i){var c=i++,h=e[c];t[h.uuid]=l,e[l]=h,t[u]=c,e[c]=s;for(var d=0,g=r;d!==g;++d){var p=n[d],f=p[c],m=p[l];p[l]=f,p[c]=m}}}this.nCachedObjects_=i}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=e.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o].uuid,l=t[u];if(void 0!==l)if(delete t[u],l<i){var c=--i,h=e[c],d=--a,g=e[d];t[h.uuid]=l,e[l]=h,t[g.uuid]=c,e[c]=g,e.pop();for(var p=0,f=r;p!==f;++p){var m=n[p],v=m[c],y=m[d];m[l]=v,m[c]=y,m.pop()}}else{var A=--a,b=e[A];A>0&&(t[b.uuid]=l),e[l]=b,e.pop();for(var x=0,w=r;x!==w;++x){var E=n[x];E[l]=E[A],E.pop()}}}this.nCachedObjects_=i}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,c=new Array(u);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(c);for(var h=l,d=s.length;h!==d;++h){var g=s[h];c[h]=new ig(g,e,t)}return c}},{key:"unsubscribe_",value:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}]),e}(),og=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;p(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=i;for(var a=n.tracks,o=a.length,s=new Array(o),u={endingStart:Nt,endingEnd:Nt},l=0;l!==o;++l){var c=a[l].createInterpolant(null);s[l]=c,c.settings=u}this._interpolantSettings=u,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Lt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return f(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=e/a,u[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;a<0||0===n?t=0:(this._startTime=null,t=n*a)}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var u=this._interpolants,l=this._propertyBindings;if(this.blendMode===jt)for(var c=0,h=u.length;c!==h;++c)u[c].evaluate(o),l[c].accumulateAdditive(s);else for(var d=0,g=u.length;d!==g;++d)u[d].evaluate(o),l[d].accumulate(r,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,a=n===Bt;if(0===e)return-1===i?r:a&&1===(1&i)?t-r:r;if(n===Rt){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){var o=Math.floor(r/t);r-=t*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&1===(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=Ft,r.endingEnd=Ft):(r.endingStart=e?this.zeroSlopeAtStart?Ft:Nt:Ut,r.endingEnd=t?this.zeroSlopeAtEnd?Ft:Nt:Ut)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}]),e}(),sg=new Float32Array(1),ug=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this))._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return f(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var c=0;c!==i;++c){var h=r[c],d=h.name,g=l[d];if(void 0!==g)++g.referenceCount,a[c]=g;else{if(void 0!==(g=a[c])){null===g._cacheIndex&&(++g.referenceCount,this._addInactiveBinding(g,s,d));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;++(g=new Zd(ig.create(n,d,p),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(g,s,d),a[c]=g}o[c].resultBuffer=g.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,u=s[s.length-1],l=e._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new Ih(new Float32Array(2),new Float32Array(2),1,sg)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,i=r.uuid,a="string"===typeof e?Fh.findByName(r,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],u=null;if(void 0===n&&(n=null!==a?a.blendMode:zt),void 0!==s){var l=s.actionByRoot[i];if(void 0!==l&&l.blendMode===n)return l;u=s.knownActions[0],null===a&&(a=u._clip)}if(null===a)return null;var c=new og(this,a,t,n);return this._bindAction(c,u),this._addInactiveAction(c,o,i),c}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?Fh.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o)t[o]._update(r,e,i,a);for(var s=this._bindings,u=this._nActiveBindings,l=0;l!==u;++l)s[l].apply(a);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var l=u._cacheIndex,c=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=l,t[l]=c,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}(Tn),lg=function(){function e(t){p(this,e),this.value=t}return f(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}(),cg=0,hg=function(e){v(n,e);var t=y(n);function n(){var e;return p(this,n),(e=t.call(this)).isUniformsGroup=!0,Object.defineProperty(m(e),"id",{value:cg++}),e.name="",e.usage=vn,e.uniforms=[],e}return f(n,[{key:"add",value:function(e){return this.uniforms.push(e),this}},{key:"remove",value:function(e){var t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}},{key:"setName",value:function(e){return this.name=e,this}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"dispose",value:function(){return this.dispatchEvent({type:"dispose"}),this}},{key:"copy",value:function(e){this.name=e.name,this.usage=e.usage;var t=e.uniforms;this.uniforms.length=0;for(var n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(Tn),dg=function(e){v(n,e);var t=y(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return p(this,n),(i=t.call(this,e,r)).isInstancedInterleavedBuffer=!0,i.meshPerAttribute=a,i}return f(n,[{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=h(d(n.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=h(d(n.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),n}(Lu),gg=function(){function e(t,n,r,i,a){p(this,e),this.isGLBufferAttribute=!0,this.buffer=t,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}return f(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,t){return this.type=e,this.elementSize=t,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}}]),e}(),pg=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;p(this,e),this.ray=new Yr(t,n),this.near=r,this.far=i,this.camera=null,this.layers=new li,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return f(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return mg(e,this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),t.sort(fg),t}},{key:"intersectObjects",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,i=e.length;r<i;r++)mg(e[r],this,n,t);return n.sort(fg),n}}]),e}();function fg(e,t){return e.distance-t.distance}function mg(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,a=0,o=i.length;a<o;a++)mg(i[a],t,n,!0)}var vg=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return p(this,e),this.radius=t,this.phi=n,this.theta=r,this}return f(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Pn(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),yg=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return p(this,e),this.radius=t,this.theta=n,this.y=r,this}return f(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Ag=new Vn,bg=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Vn(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Vn(-1/0,-1/0);p(this,e),this.isBox2=!0,this.min=t,this.max=n}return f(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Ag.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return Ag.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),xg=new wr,wg=new wr,Eg=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wr;p(this,e),this.start=t,this.end=n}return f(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){xg.subVectors(e,this.start),wg.subVectors(this.end,this.start);var n=wg.dot(wg),r=wg.dot(xg)/n;return t&&(r=Pn(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),_g=new wr,Cg=function(e){v(n,e);var t=y(n);function n(e,r){var i;p(this,n),(i=t.call(this)).light=e,i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=r,i.type="SpotLightHelper";for(var a=new ia,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],s=0,u=1;s<32;s++,u++){var l=s/32*Math.PI*2,c=u/32*Math.PI*2;o.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}a.setAttribute("position",new Xi(o,3));var h=new vl({fog:!1,toneMapped:!1});return i.cone=new Ml(a,h),i.add(i.cone),i.update(),i}return f(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),_g.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_g),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(Ei),Mg=new wr,Sg=new Jr,Ig=new Jr,Tg=function(e){v(n,e);var t=y(n);function n(e){var r;p(this,n);for(var i=kg(e),a=new ia,o=[],s=[],u=new ur(0,0,1),l=new ur(0,1,0),c=0;c<i.length;c++){var h=i[c];h.parent&&h.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(u.r,u.g,u.b),s.push(l.r,l.g,l.b))}a.setAttribute("position",new Xi(o,3)),a.setAttribute("color",new Xi(s,3));var d=new vl({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,a,d)).isSkeletonHelper=!0,r.type="SkeletonHelper",r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return f(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,i=r.getAttribute("position");Ig.copy(this.root.matrixWorld).invert();for(var a=0,o=0;a<t.length;a++){var s=t[a];s.parent&&s.parent.isBone&&(Sg.multiplyMatrices(Ig,s.matrixWorld),Mg.setFromMatrixPosition(Sg),i.setXYZ(o,Mg.x,Mg.y,Mg.z),Sg.multiplyMatrices(Ig,s.parent.matrixWorld),Mg.setFromMatrixPosition(Sg),i.setXYZ(o+1,Mg.x,Mg.y,Mg.z),o+=2)}r.getAttribute("position").needsUpdate=!0,h(d(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Ml);function kg(e){var t=[];!0===e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,kg(e.children[n]));return t}var Rg=function(e){v(n,e);var t=y(n);function n(e,r,i){var a;p(this,n);var o=new th(r,4,2),s=new Ni({wireframe:!0,fog:!1,toneMapped:!1});return(a=t.call(this,o,s)).light=e,a.color=i,a.type="PointLightHelper",a.matrix=a.light.matrixWorld,a.matrixAutoUpdate=!1,a.update(),a}return f(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(wa),Lg=new wr,Bg=new ur,Dg=new ur,Pg=function(e){v(n,e);var t=y(n);function n(e,r,i){var a;p(this,n),(a=t.call(this)).light=e,a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,a.type="HemisphereLightHelper";var o=new Jc(r);o.rotateY(.5*Math.PI),a.material=new Ni({wireframe:!0,fog:!1,toneMapped:!1}),void 0===a.color&&(a.material.vertexColors=!0);var s=o.getAttribute("position"),u=new Float32Array(3*s.count);return o.setAttribute("color",new zi(u,3)),a.add(new wa(o,a.material)),a.update(),a}return f(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");Bg.copy(this.light.color),Dg.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?Bg:Dg;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Lg.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(Ei),Og=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;p(this,n),a=new ur(a),o=new ur(o);for(var s=i/2,u=r/i,l=r/2,c=[],h=[],d=0,g=0,f=-l;d<=i;d++,f+=u){c.push(-l,0,f,l,0,f),c.push(f,0,-l,f,0,l);var m=d===s?a:o;m.toArray(h,g),g+=3,m.toArray(h,g),g+=3,m.toArray(h,g),g+=3,m.toArray(h,g),g+=3}var v=new ia;v.setAttribute("position",new Xi(c,3)),v.setAttribute("color",new Xi(h,3));var y=new vl({vertexColors:!0,toneMapped:!1});return(e=t.call(this,v,y)).type="GridHelper",e}return f(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Ml),Ng=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;p(this,n),s=new ur(s),u=new ur(u);var l=[],c=[];if(i>1)for(var h=0;h<i;h++){var d=h/i*(2*Math.PI),g=Math.sin(d)*r,f=Math.cos(d)*r;l.push(0,0,0),l.push(g,0,f);var m=1&h?s:u;c.push(m.r,m.g,m.b),c.push(m.r,m.g,m.b)}for(var v=0;v<a;v++)for(var y=1&v?s:u,A=r-r/a*v,b=0;b<o;b++){var x=b/o*(2*Math.PI),w=Math.sin(x)*A,E=Math.cos(x)*A;l.push(w,0,E),c.push(y.r,y.g,y.b),x=(b+1)/o*(2*Math.PI),w=Math.sin(x)*A,E=Math.cos(x)*A,l.push(w,0,E),c.push(y.r,y.g,y.b)}var _=new ia;_.setAttribute("position",new Xi(l,3)),_.setAttribute("color",new Xi(c,3));var C=new vl({vertexColors:!0,toneMapped:!1});return(e=t.call(this,_,C)).type="PolarGridHelper",e}return f(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Ml),Fg=new wr,Ug=new wr,zg=new wr,jg=function(e){v(n,e);var t=y(n);function n(e,r,i){var a;p(this,n),(a=t.call(this)).light=e,a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,a.type="DirectionalLightHelper",void 0===r&&(r=1);var o=new ia;o.setAttribute("position",new Xi([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var s=new vl({fog:!1,toneMapped:!1});return a.lightPlane=new El(o,s),a.add(a.lightPlane),(o=new ia).setAttribute("position",new Xi([0,0,0,0,0,1],3)),a.targetLine=new El(o,s),a.add(a.targetLine),a.update(),a}return f(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Fg.setFromMatrixPosition(this.light.matrixWorld),Ug.setFromMatrixPosition(this.light.target.matrixWorld),zg.subVectors(Ug,Fg),this.lightPlane.lookAt(Ug),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Ug),this.targetLine.scale.z=zg.length()}}]),n}(Ei),Hg=new wr,Gg=new ka,Vg=function(e){v(n,e);var t=y(n);function n(e){var r;p(this,n);var i=new ia,a=new vl({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],s=[],u={};function l(e,t){c(e),c(t)}function c(e){o.push(0,0,0),s.push(0,0,0),void 0===u[e]&&(u[e]=[]),u[e].push(o.length/3-1)}l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4"),i.setAttribute("position",new Xi(o,3)),i.setAttribute("color",new Xi(s,3)),(r=t.call(this,i,a)).type="CameraHelper",r.camera=e,r.camera.updateProjectionMatrix&&r.camera.updateProjectionMatrix(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r.pointMap=u,r.update();var h=new ur(16755200),d=new ur(16711680),g=new ur(43775),f=new ur(16777215),m=new ur(3355443);return r.setColors(h,d,g,f,m),r}return f(n,[{key:"setColors",value:function(e,t,n,r,i){var a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,i.r,i.g,i.b),a.setXYZ(41,i.r,i.g,i.b),a.setXYZ(42,i.r,i.g,i.b),a.setXYZ(43,i.r,i.g,i.b),a.setXYZ(44,i.r,i.g,i.b),a.setXYZ(45,i.r,i.g,i.b),a.setXYZ(46,i.r,i.g,i.b),a.setXYZ(47,i.r,i.g,i.b),a.setXYZ(48,i.r,i.g,i.b),a.setXYZ(49,i.r,i.g,i.b),a.needsUpdate=!0}},{key:"update",value:function(){var e=this.geometry,t=this.pointMap;Gg.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Qg("c",t,e,Gg,0,0,-1),Qg("t",t,e,Gg,0,0,1),Qg("n1",t,e,Gg,-1,-1,-1),Qg("n2",t,e,Gg,1,-1,-1),Qg("n3",t,e,Gg,-1,1,-1),Qg("n4",t,e,Gg,1,1,-1),Qg("f1",t,e,Gg,-1,-1,1),Qg("f2",t,e,Gg,1,-1,1),Qg("f3",t,e,Gg,-1,1,1),Qg("f4",t,e,Gg,1,1,1),Qg("u1",t,e,Gg,.7,1.1,-1),Qg("u2",t,e,Gg,-.7,1.1,-1),Qg("u3",t,e,Gg,0,2,-1),Qg("cf1",t,e,Gg,-1,0,1),Qg("cf2",t,e,Gg,1,0,1),Qg("cf3",t,e,Gg,0,-1,1),Qg("cf4",t,e,Gg,0,1,1),Qg("cn1",t,e,Gg,-1,0,-1),Qg("cn2",t,e,Gg,1,0,-1),Qg("cn3",t,e,Gg,0,-1,-1),Qg("cn4",t,e,Gg,0,1,-1),e.getAttribute("position").needsUpdate=!0}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Ml);function Qg(e,t,n,r,i,a,o){Hg.set(i,a,o).unproject(r);var s=t[e];if(void 0!==s)for(var u=n.getAttribute("position"),l=0,c=s.length;l<c;l++)u.setXYZ(s[l],Hg.x,Hg.y,Hg.z)}var Wg,qg,Kg=new Cr,Xg=function(e){v(n,e);var t=y(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;p(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),s=new ia;return s.setIndex(new zi(a,1)),s.setAttribute("position",new zi(o,3)),(r=t.call(this,s,new vl({color:i,toneMapped:!1}))).object=e,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}return f(n,[{key:"update",value:function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Kg.setFromObject(this.object),!Kg.isEmpty()){var t=Kg.min,n=Kg.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e,t){return h(d(n.prototype),"copy",this).call(this,e,t),this.object=e.object,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Ml),Zg=function(e){v(n,e);var t=y(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;p(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new ia;return o.setIndex(new zi(a,1)),o.setAttribute("position",new Xi([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),(r=t.call(this,o,new vl({color:i,toneMapped:!1}))).box=e,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return f(n,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),h(d(n.prototype),"updateMatrixWorld",this).call(this,e))}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Ml),Yg=function(e){v(n,e);var t=y(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960;p(this,n);var o=a,s=new ia;s.setAttribute("position",new Xi([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),s.computeBoundingSphere(),(r=t.call(this,s,new vl({color:o,toneMapped:!1}))).type="PlaneHelper",r.plane=e,r.size=i;var u=new ia;return u.setAttribute("position",new Xi([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),u.computeBoundingSphere(),r.add(new wa(u,new Ni({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),r}return f(n,[{key:"updateMatrixWorld",value:function(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),h(d(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}]),n}(El),Jg=new wr,$g=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wr(0,0,1),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new wr(0,0,0),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*a,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*s;return p(this,n),(e=t.call(this)).type="ArrowHelper",void 0===Wg&&((Wg=new ia).setAttribute("position",new Xi([0,0,0,0,1,0],3)),(qg=new hc(0,.5,1,5,1)).translate(0,-.5,0)),e.position.copy(i),e.line=new El(Wg,new vl({color:o,toneMapped:!1})),e.line.matrixAutoUpdate=!1,e.add(e.line),e.cone=new wa(qg,new Ni({color:o,toneMapped:!1})),e.cone.matrixAutoUpdate=!1,e.add(e.cone),e.setDirection(r),e.setLength(a,s,u),e}return f(n,[{key:"setDirection",value:function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Jg.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Jg,t)}}},{key:"setLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return h(d(n.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}},{key:"dispose",value:function(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}]),n}(Ei),ep=function(e){v(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;p(this,n);var i=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],a=new ia;a.setAttribute("position",new Xi(i,3)),a.setAttribute("color",new Xi([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var o=new vl({vertexColors:!0,toneMapped:!1});return(e=t.call(this,a,o)).type="AxesHelper",e}return f(n,[{key:"setColors",value:function(e,t,n){var r=new ur,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Ml),tp=function(){function e(){p(this,e),this.type="ShapePath",this.color=new ur,this.subPaths=[],this.currentPath=null}return f(e,[{key:"moveTo",value:function(e,t){return this.currentPath=new sc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e){function t(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=t[a],u=-u,s=t[i],l=-l),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=l*(e.x-o.x)-u*(e.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var n,r,i,a=Wc.isClockWise,o=this.subPaths;if(0===o.length)return[];var s=[];if(1===o.length)return r=o[0],(i=new bc).curves=r.curves,s.push(i),s;var u=!a(o[0].getPoints());u=e?!u:u;var l,c,h=[],d=[],g=[],p=0;d[p]=void 0,g[p]=[];for(var f=0,m=o.length;f<m;f++)n=a(l=(r=o[f]).getPoints()),(n=e?!n:n)?(!u&&d[p]&&p++,d[p]={s:new bc,p:l},d[p].s.curves=r.curves,u&&p++,g[p]=[]):g[p].push({h:r,p:l[0]});if(!d[0])return function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new bc;a.curves=i.curves,t.push(a)}return t}(o);if(d.length>1){for(var v=!1,y=0,A=0,b=d.length;A<b;A++)h[A]=[];for(var x=0,w=d.length;x<w;x++)for(var E=g[x],_=0;_<E.length;_++){for(var C=E[_],M=!0,S=0;S<d.length;S++)t(C.p,d[S].p)&&(x!==S&&y++,M?(M=!1,h[S].push(C)):v=!0);M&&h[x].push(C)}y>0&&!1===v&&(g=h)}for(var I=0,T=d.length;I<T;I++){i=d[I].s,s.push(i);for(var k=0,R=(c=g[I]).length;k<R;k++)i.holes.push(c[k].h)}return s}}]),e}(),np=rp();function rp(){for(var e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512),a=0;a<256;++a){var o=a-127;o<-27?(r[a]=0,r[256|a]=32768,i[a]=24,i[256|a]=24):o<-14?(r[a]=1024>>-o-14,r[256|a]=1024>>-o-14|32768,i[a]=-o-1,i[256|a]=-o-1):o<=15?(r[a]=o+15<<10,r[256|a]=o+15<<10|32768,i[a]=13,i[256|a]=13):o<128?(r[a]=31744,r[256|a]=64512,i[a]=24,i[256|a]=24):(r[a]=31744,r[256|a]=64512,i[a]=13,i[256|a]=13)}for(var s=new Uint32Array(2048),u=new Uint32Array(64),l=new Uint32Array(64),c=1;c<1024;++c){for(var h=c<<13,d=0;0===(8388608&h);)h<<=1,d-=8388608;h&=-8388609,d+=947912704,s[c]=h|d}for(var g=1024;g<2048;++g)s[g]=939524096+(g-1024<<13);for(var p=1;p<31;++p)u[p]=p<<23;u[31]=1199570944,u[32]=2147483648;for(var f=33;f<63;++f)u[f]=2147483648+(f-32<<23);u[63]=3347054592;for(var m=1;m<64;++m)32!==m&&(l[m]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:u,offsetTable:l}}var ip=Object.freeze({__proto__:null,toHalfFloat:function(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Pn(e,-65504,65504),np.floatView[0]=e;var t=np.uint32View[0],n=t>>23&511;return np.baseTable[n]+((8388607&t)>>np.shiftTable[n])},fromHalfFloat:function(e){var t=e>>10;return np.uint32View[0]=np.mantissaTable[np.offsetTable[t]+(1023&e)]+np.exponentTable[t],np.floatView[0]}});function ap(){console.error("THREE.ImmediateRenderObject has been removed.")}var op=function(e){v(n,e);var t=y(n);function n(e,r,i){var a;return p(this,n),console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),(a=t.call(this,e,r,i)).samples=4,a}return f(n)}(fr),sp=function(e){v(n,e);var t=y(n);function n(e,r,i,a){return p(this,n),console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),t.call(this,e,r,i,a)}return f(n)}(mr),up=function(e){v(n,e);var t=y(n);function n(e,r,i,a){return p(this,n),console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),t.call(this,e,r,i,a)}return f(n)}(yr),lp=function(e){v(n,e);var t=y(n);function n(e,r,i,a,o,s){return p(this,n),console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),t.call(this,e,r,i,a,o,s)}return f(n)}(_a),cp=function(e){v(n,e);var t=y(n);function n(e,r,i,a){return p(this,n),console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),t.call(this,e,r,i,a)}return f(n)}(lc),hp=function(e){v(n,e);var t=y(n);function n(e,r,i,a){return p(this,n),console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),t.call(this,e,r,i,a)}return f(n)}(cc),dp=function(e){v(n,e);var t=y(n);function n(e,r,i,a,o,s,u){return p(this,n),console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),t.call(this,e,r,i,a,o,s,u)}return f(n)}(dc),gp=function(e){v(n,e);var t=y(n);function n(e,r,i,a,o,s,u,l){return p(this,n),console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),t.call(this,e,r,i,a,o,s,u,l)}return f(n)}(hc),pp=function(e){v(n,e);var t=y(n);function n(e,r){return p(this,n),console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),t.call(this,e,r)}return f(n)}(pc),fp=function(e){v(n,e);var t=y(n);function n(e,r){return p(this,n),console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),t.call(this,e,r)}return f(n)}(Xc),mp=function(e){v(n,e);var t=y(n);function n(e,r){return p(this,n),console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),t.call(this,e,r)}return f(n)}(Yc),vp=function(e){v(n,e);var t=y(n);function n(e,r,i,a){return p(this,n),console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),t.call(this,e,r,i,a)}return f(n)}(uc),yp=function(e){v(n,e);var t=y(n);function n(e,r){return p(this,n),console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),t.call(this,e,r)}return f(n)}(Jc),Ap=function(e){v(n,e);var t=y(n);function n(e,r,i,a){return p(this,n),console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),t.call(this,e,r,i,a)}return f(n)}(Qa),bp=function(e){v(n,e);var t=y(n);function n(e,r,i,a){return p(this,n),console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),t.call(this,e,r,i,a)}return f(n)}(gc),xp=function(e){v(n,e);var t=y(n);function n(e,r,i,a,o,s){return p(this,n),console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),t.call(this,e,r,i,a,o,s)}return f(n)}($c),wp=function(e){v(n,e);var t=y(n);function n(e,r){return p(this,n),console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),t.call(this,e,r)}return f(n)}(eh),Ep=function(e){v(n,e);var t=y(n);function n(e,r,i,a,o,s,u){return p(this,n),console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),t.call(this,e,r,i,a,o,s,u)}return f(n)}(th),_p=function(e){v(n,e);var t=y(n);function n(e,r){return p(this,n),console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),t.call(this,e,r)}return f(n)}(nh),Cp=function(e){v(n,e);var t=y(n);function n(e,r,i,a,o){return p(this,n),console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),t.call(this,e,r,i,a,o)}return f(n)}(rh),Mp=function(e){v(n,e);var t=y(n);function n(e,r,i,a,o,s){return p(this,n),console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),t.call(this,e,r,i,a,o,s)}return f(n)}(ih),Sp=function(e){v(n,e);var t=y(n);function n(e,r,i,a,o){return p(this,n),console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),t.call(this,e,r,i,a,o)}return f(n)}(ah);"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:l}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=l)},"./node_modules/super-three/examples/jsm/libs/ktx-parse.module.js":function(e,t,n){"use strict";n.r(t),n.d(t,{KHR_DF_CHANNEL_RGBSDA_ALPHA:function(){return ie},KHR_DF_CHANNEL_RGBSDA_BLUE:function(){return te},KHR_DF_CHANNEL_RGBSDA_DEPTH:function(){return re},KHR_DF_CHANNEL_RGBSDA_GREEN:function(){return ee},KHR_DF_CHANNEL_RGBSDA_RED:function(){return $},KHR_DF_CHANNEL_RGBSDA_STENCIL:function(){return ne},KHR_DF_FLAG_ALPHA_PREMULTIPLIED:function(){return x},KHR_DF_FLAG_ALPHA_STRAIGHT:function(){return b},KHR_DF_KHR_DESCRIPTORTYPE_BASICFORMAT:function(){return u},KHR_DF_MODEL_ASTC:function(){return y},KHR_DF_MODEL_ETC1:function(){return m},KHR_DF_MODEL_ETC1S:function(){return A},KHR_DF_MODEL_ETC2:function(){return v},KHR_DF_MODEL_RGBSDA:function(){return d},KHR_DF_MODEL_UNSPECIFIED:function(){return h},KHR_DF_PRIMARIES_ACES:function(){return q},KHR_DF_PRIMARIES_ACESCC:function(){return K},KHR_DF_PRIMARIES_ADOBERGB:function(){return J},KHR_DF_PRIMARIES_BT2020:function(){return Q},KHR_DF_PRIMARIES_BT601_EBU:function(){return G},KHR_DF_PRIMARIES_BT601_SMPTE:function(){return V},KHR_DF_PRIMARIES_BT709:function(){return H},KHR_DF_PRIMARIES_CIEXYZ:function(){return W},KHR_DF_PRIMARIES_DISPLAYP3:function(){return Y},KHR_DF_PRIMARIES_NTSC1953:function(){return X},KHR_DF_PRIMARIES_PAL525:function(){return Z},KHR_DF_PRIMARIES_UNSPECIFIED:function(){return j},KHR_DF_SAMPLE_DATATYPE_EXPONENT:function(){return se},KHR_DF_SAMPLE_DATATYPE_FLOAT:function(){return ae},KHR_DF_SAMPLE_DATATYPE_LINEAR:function(){return ue},KHR_DF_SAMPLE_DATATYPE_SIGNED:function(){return oe},KHR_DF_TRANSFER_ACESCC:function(){return F},KHR_DF_TRANSFER_ACESCCT:function(){return U},KHR_DF_TRANSFER_ADOBERGB:function(){return z},KHR_DF_TRANSFER_BT1886:function(){return T},KHR_DF_TRANSFER_DCIP3:function(){return D},KHR_DF_TRANSFER_HLG_EOTF:function(){return R},KHR_DF_TRANSFER_HLG_OETF:function(){return k},KHR_DF_TRANSFER_ITU:function(){return C},KHR_DF_TRANSFER_LINEAR:function(){return E},KHR_DF_TRANSFER_NTSC:function(){return M},KHR_DF_TRANSFER_PAL625_EOTF:function(){return O},KHR_DF_TRANSFER_PAL_OETF:function(){return P},KHR_DF_TRANSFER_PQ_EOTF:function(){return L},KHR_DF_TRANSFER_PQ_OETF:function(){return B},KHR_DF_TRANSFER_SLOG:function(){return S},KHR_DF_TRANSFER_SLOG2:function(){return I},KHR_DF_TRANSFER_SRGB:function(){return _},KHR_DF_TRANSFER_ST240:function(){return N},KHR_DF_TRANSFER_UNSPECIFIED:function(){return w},KHR_DF_VENDORID_KHRONOS:function(){return l},KHR_DF_VERSION:function(){return c},KHR_SUPERCOMPRESSION_BASISLZ:function(){return a},KHR_SUPERCOMPRESSION_NONE:function(){return i},KHR_SUPERCOMPRESSION_ZLIB:function(){return s},KHR_SUPERCOMPRESSION_ZSTD:function(){return o},KTX2Container:function(){return Or},VK_FORMAT_A1R5G5B5_UNORM_PACK16:function(){return ve},VK_FORMAT_A2B10G10R10_SINT_PACK32:function(){return tt},VK_FORMAT_A2B10G10R10_SNORM_PACK32:function(){return $e},VK_FORMAT_A2B10G10R10_UINT_PACK32:function(){return et},VK_FORMAT_A2B10G10R10_UNORM_PACK32:function(){return Je},VK_FORMAT_A2R10G10B10_SINT_PACK32:function(){return Ye},VK_FORMAT_A2R10G10B10_SNORM_PACK32:function(){return Xe},VK_FORMAT_A2R10G10B10_UINT_PACK32:function(){return Ze},VK_FORMAT_A2R10G10B10_UNORM_PACK32:function(){return Ke},VK_FORMAT_A4B4G4R4_UNORM_PACK16_EXT:function(){return Pr},VK_FORMAT_A4R4G4B4_UNORM_PACK16_EXT:function(){return Dr},VK_FORMAT_ASTC_10x10_SFLOAT_BLOCK_EXT:function(){return Rr},VK_FORMAT_ASTC_10x10_SRGB_BLOCK:function(){return Yn},VK_FORMAT_ASTC_10x10_UNORM_BLOCK:function(){return Zn},VK_FORMAT_ASTC_10x5_SFLOAT_BLOCK_EXT:function(){return Ir},VK_FORMAT_ASTC_10x5_SRGB_BLOCK:function(){return Qn},VK_FORMAT_ASTC_10x5_UNORM_BLOCK:function(){return Vn},VK_FORMAT_ASTC_10x6_SFLOAT_BLOCK_EXT:function(){return Tr},VK_FORMAT_ASTC_10x6_SRGB_BLOCK:function(){return qn},VK_FORMAT_ASTC_10x6_UNORM_BLOCK:function(){return Wn},VK_FORMAT_ASTC_10x8_SFLOAT_BLOCK_EXT:function(){return kr},VK_FORMAT_ASTC_10x8_SRGB_BLOCK:function(){return Xn},VK_FORMAT_ASTC_10x8_UNORM_BLOCK:function(){return Kn},VK_FORMAT_ASTC_12x10_SFLOAT_BLOCK_EXT:function(){return Lr},VK_FORMAT_ASTC_12x10_SRGB_BLOCK:function(){return $n},VK_FORMAT_ASTC_12x10_UNORM_BLOCK:function(){return Jn},VK_FORMAT_ASTC_12x12_SFLOAT_BLOCK_EXT:function(){return Br},VK_FORMAT_ASTC_12x12_SRGB_BLOCK:function(){return tr},VK_FORMAT_ASTC_12x12_UNORM_BLOCK:function(){return er},VK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT:function(){return br},VK_FORMAT_ASTC_4x4_SRGB_BLOCK:function(){return Tn},VK_FORMAT_ASTC_4x4_UNORM_BLOCK:function(){return In},VK_FORMAT_ASTC_5x4_SFLOAT_BLOCK_EXT:function(){return xr},VK_FORMAT_ASTC_5x4_SRGB_BLOCK:function(){return Rn},VK_FORMAT_ASTC_5x4_UNORM_BLOCK:function(){return kn},VK_FORMAT_ASTC_5x5_SFLOAT_BLOCK_EXT:function(){return wr},VK_FORMAT_ASTC_5x5_SRGB_BLOCK:function(){return Bn},VK_FORMAT_ASTC_5x5_UNORM_BLOCK:function(){return Ln},VK_FORMAT_ASTC_6x5_SFLOAT_BLOCK_EXT:function(){return Er},VK_FORMAT_ASTC_6x5_SRGB_BLOCK:function(){return Pn},VK_FORMAT_ASTC_6x5_UNORM_BLOCK:function(){return Dn},VK_FORMAT_ASTC_6x6_SFLOAT_BLOCK_EXT:function(){return _r},VK_FORMAT_ASTC_6x6_SRGB_BLOCK:function(){return Nn},VK_FORMAT_ASTC_6x6_UNORM_BLOCK:function(){return On},VK_FORMAT_ASTC_8x5_SFLOAT_BLOCK_EXT:function(){return Cr},VK_FORMAT_ASTC_8x5_SRGB_BLOCK:function(){return Un},VK_FORMAT_ASTC_8x5_UNORM_BLOCK:function(){return Fn},VK_FORMAT_ASTC_8x6_SFLOAT_BLOCK_EXT:function(){return Mr},VK_FORMAT_ASTC_8x6_SRGB_BLOCK:function(){return jn},VK_FORMAT_ASTC_8x6_UNORM_BLOCK:function(){return zn},VK_FORMAT_ASTC_8x8_SFLOAT_BLOCK_EXT:function(){return Sr},VK_FORMAT_ASTC_8x8_SRGB_BLOCK:function(){return Gn},VK_FORMAT_ASTC_8x8_UNORM_BLOCK:function(){return Hn},VK_FORMAT_B10G11R11_UFLOAT_PACK32:function(){return Wt},VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16:function(){return or},VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16:function(){return hr},VK_FORMAT_B4G4R4A4_UNORM_PACK16:function(){return de},VK_FORMAT_B5G5R5A1_UNORM_PACK16:function(){return me},VK_FORMAT_B5G6R5_UNORM_PACK16:function(){return pe},VK_FORMAT_B8G8R8A8_SINT:function(){return We},VK_FORMAT_B8G8R8A8_SNORM:function(){return Ve},VK_FORMAT_B8G8R8A8_SRGB:function(){return qe},VK_FORMAT_B8G8R8A8_UINT:function(){return Qe},VK_FORMAT_B8G8R8A8_UNORM:function(){return Ge},VK_FORMAT_B8G8R8_SINT:function(){return Oe},VK_FORMAT_B8G8R8_SNORM:function(){return De},VK_FORMAT_B8G8R8_SRGB:function(){return Ne},VK_FORMAT_B8G8R8_UINT:function(){return Pe},VK_FORMAT_B8G8R8_UNORM:function(){return Be},VK_FORMAT_BC1_RGBA_SRGB_BLOCK:function(){return an},VK_FORMAT_BC1_RGBA_UNORM_BLOCK:function(){return rn},VK_FORMAT_BC1_RGB_SRGB_BLOCK:function(){return nn},VK_FORMAT_BC1_RGB_UNORM_BLOCK:function(){return tn},VK_FORMAT_BC2_SRGB_BLOCK:function(){return sn},VK_FORMAT_BC2_UNORM_BLOCK:function(){return on},VK_FORMAT_BC3_SRGB_BLOCK:function(){return ln},VK_FORMAT_BC3_UNORM_BLOCK:function(){return un},VK_FORMAT_BC4_SNORM_BLOCK:function(){return hn},VK_FORMAT_BC4_UNORM_BLOCK:function(){return cn},VK_FORMAT_BC5_SNORM_BLOCK:function(){return gn},VK_FORMAT_BC5_UNORM_BLOCK:function(){return dn},VK_FORMAT_BC6H_SFLOAT_BLOCK:function(){return fn},VK_FORMAT_BC6H_UFLOAT_BLOCK:function(){return pn},VK_FORMAT_BC7_SRGB_BLOCK:function(){return vn},VK_FORMAT_BC7_UNORM_BLOCK:function(){return mn},VK_FORMAT_D16_UNORM:function(){return Kt},VK_FORMAT_D16_UNORM_S8_UINT:function(){return Jt},VK_FORMAT_D24_UNORM_S8_UINT:function(){return $t},VK_FORMAT_D32_SFLOAT:function(){return Zt},VK_FORMAT_D32_SFLOAT_S8_UINT:function(){return en},VK_FORMAT_E5B9G9R9_UFLOAT_PACK32:function(){return qt},VK_FORMAT_EAC_R11G11_SNORM_BLOCK:function(){return Sn},VK_FORMAT_EAC_R11G11_UNORM_BLOCK:function(){return Mn},VK_FORMAT_EAC_R11_SNORM_BLOCK:function(){return Cn},VK_FORMAT_EAC_R11_UNORM_BLOCK:function(){return _n},VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK:function(){return xn},VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK:function(){return bn},VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK:function(){return En},VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK:function(){return wn},VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK:function(){return An},VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK:function(){return yn},VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16:function(){return ar},VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16:function(){return cr},VK_FORMAT_PVRTC1_2BPP_SRGB_BLOCK_IMG:function(){return mr},VK_FORMAT_PVRTC1_2BPP_UNORM_BLOCK_IMG:function(){return dr},VK_FORMAT_PVRTC1_4BPP_SRGB_BLOCK_IMG:function(){return vr},VK_FORMAT_PVRTC1_4BPP_UNORM_BLOCK_IMG:function(){return gr},VK_FORMAT_PVRTC2_2BPP_SRGB_BLOCK_IMG:function(){return yr},VK_FORMAT_PVRTC2_2BPP_UNORM_BLOCK_IMG:function(){return pr},VK_FORMAT_PVRTC2_4BPP_SRGB_BLOCK_IMG:function(){return Ar},VK_FORMAT_PVRTC2_4BPP_UNORM_BLOCK_IMG:function(){return fr},VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16:function(){return ir},VK_FORMAT_R10X6G10X6_UNORM_2PACK16:function(){return rr},VK_FORMAT_R10X6_UNORM_PACK16:function(){return nr},VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16:function(){return lr},VK_FORMAT_R12X4G12X4_UNORM_2PACK16:function(){return ur},VK_FORMAT_R12X4_UNORM_PACK16:function(){return sr},VK_FORMAT_R16G16B16A16_SFLOAT:function(){return xt},VK_FORMAT_R16G16B16A16_SINT:function(){return bt},VK_FORMAT_R16G16B16A16_SNORM:function(){return yt},VK_FORMAT_R16G16B16A16_UINT:function(){return At},VK_FORMAT_R16G16B16A16_UNORM:function(){return vt},VK_FORMAT_R16G16B16_SFLOAT:function(){return mt},VK_FORMAT_R16G16B16_SINT:function(){return ft},VK_FORMAT_R16G16B16_SNORM:function(){return gt},VK_FORMAT_R16G16B16_UINT:function(){return pt},VK_FORMAT_R16G16B16_UNORM:function(){return dt},VK_FORMAT_R16G16_SFLOAT:function(){return ht},VK_FORMAT_R16G16_SINT:function(){return ct},VK_FORMAT_R16G16_SNORM:function(){return ut},VK_FORMAT_R16G16_UINT:function(){return lt},VK_FORMAT_R16G16_UNORM:function(){return st},VK_FORMAT_R16_SFLOAT:function(){return ot},VK_FORMAT_R16_SINT:function(){return at},VK_FORMAT_R16_SNORM:function(){return rt},VK_FORMAT_R16_UINT:function(){return it},VK_FORMAT_R16_UNORM:function(){return nt},VK_FORMAT_R32G32B32A32_SFLOAT:function(){return Bt},VK_FORMAT_R32G32B32A32_SINT:function(){return Lt},VK_FORMAT_R32G32B32A32_UINT:function(){return Rt},VK_FORMAT_R32G32B32_SFLOAT:function(){return kt},VK_FORMAT_R32G32B32_SINT:function(){return Tt},VK_FORMAT_R32G32B32_UINT:function(){return It},VK_FORMAT_R32G32_SFLOAT:function(){return St},VK_FORMAT_R32G32_SINT:function(){return Mt},VK_FORMAT_R32G32_UINT:function(){return Ct},VK_FORMAT_R32_SFLOAT:function(){return _t},VK_FORMAT_R32_SINT:function(){return Et},VK_FORMAT_R32_UINT:function(){return wt},VK_FORMAT_R4G4B4A4_UNORM_PACK16:function(){return he},VK_FORMAT_R4G4_UNORM_PACK8:function(){return ce},VK_FORMAT_R5G5B5A1_UNORM_PACK16:function(){return fe},VK_FORMAT_R5G6B5_UNORM_PACK16:function(){return ge},VK_FORMAT_R64G64B64A64_SFLOAT:function(){return Qt},VK_FORMAT_R64G64B64A64_SINT:function(){return Vt},VK_FORMAT_R64G64B64A64_UINT:function(){return Gt},VK_FORMAT_R64G64B64_SFLOAT:function(){return Ht},VK_FORMAT_R64G64B64_SINT:function(){return jt},VK_FORMAT_R64G64B64_UINT:function(){return zt},VK_FORMAT_R64G64_SFLOAT:function(){return Ut},VK_FORMAT_R64G64_SINT:function(){return Ft},VK_FORMAT_R64G64_UINT:function(){return Nt},VK_FORMAT_R64_SFLOAT:function(){return Ot},VK_FORMAT_R64_SINT:function(){return Pt},VK_FORMAT_R64_UINT:function(){return Dt},VK_FORMAT_R8G8B8A8_SINT:function(){return je},VK_FORMAT_R8G8B8A8_SNORM:function(){return Ue},VK_FORMAT_R8G8B8A8_SRGB:function(){return He},VK_FORMAT_R8G8B8A8_UINT:function(){return ze},VK_FORMAT_R8G8B8A8_UNORM:function(){return Fe},VK_FORMAT_R8G8B8_SINT:function(){return Re},VK_FORMAT_R8G8B8_SNORM:function(){return Te},VK_FORMAT_R8G8B8_SRGB:function(){return Le},VK_FORMAT_R8G8B8_UINT:function(){return ke},VK_FORMAT_R8G8B8_UNORM:function(){return Ie},VK_FORMAT_R8G8_SINT:function(){return Me},VK_FORMAT_R8G8_SNORM:function(){return _e},VK_FORMAT_R8G8_SRGB:function(){return Se},VK_FORMAT_R8G8_UINT:function(){return Ce},VK_FORMAT_R8G8_UNORM:function(){return Ee},VK_FORMAT_R8_SINT:function(){return xe},VK_FORMAT_R8_SNORM:function(){return Ae},VK_FORMAT_R8_SRGB:function(){return we},VK_FORMAT_R8_UINT:function(){return be},VK_FORMAT_R8_UNORM:function(){return ye},VK_FORMAT_S8_UINT:function(){return Yt},VK_FORMAT_UNDEFINED:function(){return le},VK_FORMAT_X8_D24_UNORM_PACK32:function(){return Xt},read:function(){return Gr},write:function(){return Wr}});var r=n("./node_modules/buffer/index.js").Buffer,i=0,a=1,o=2,s=3,u=0,l=0,c=2,h=0,d=1,m=160,v=161,y=162,A=163,b=0,x=1,w=0,E=1,_=2,C=3,M=4,S=5,I=6,T=7,k=8,R=9,L=10,B=11,D=12,P=13,O=14,N=15,F=16,U=17,z=18,j=0,H=1,G=2,V=3,Q=4,W=5,q=6,K=7,X=8,Z=9,Y=10,J=11,$=0,ee=1,te=2,ne=13,re=14,ie=15,ae=128,oe=64,se=32,ue=16,le=0,ce=1,he=2,de=3,ge=4,pe=5,fe=6,me=7,ve=8,ye=9,Ae=10,be=13,xe=14,we=15,Ee=16,_e=17,Ce=20,Me=21,Se=22,Ie=23,Te=24,ke=27,Re=28,Le=29,Be=30,De=31,Pe=34,Oe=35,Ne=36,Fe=37,Ue=38,ze=41,je=42,He=43,Ge=44,Ve=45,Qe=48,We=49,qe=50,Ke=58,Xe=59,Ze=62,Ye=63,Je=64,$e=65,et=68,tt=69,nt=70,rt=71,it=74,at=75,ot=76,st=77,ut=78,lt=81,ct=82,ht=83,dt=84,gt=85,pt=88,ft=89,mt=90,vt=91,yt=92,At=95,bt=96,xt=97,wt=98,Et=99,_t=100,Ct=101,Mt=102,St=103,It=104,Tt=105,kt=106,Rt=107,Lt=108,Bt=109,Dt=110,Pt=111,Ot=112,Nt=113,Ft=114,Ut=115,zt=116,jt=117,Ht=118,Gt=119,Vt=120,Qt=121,Wt=122,qt=123,Kt=124,Xt=125,Zt=126,Yt=127,Jt=128,$t=129,en=130,tn=131,nn=132,rn=133,an=134,on=135,sn=136,un=137,ln=138,cn=139,hn=140,dn=141,gn=142,pn=143,fn=144,mn=145,vn=146,yn=147,An=148,bn=149,xn=150,wn=151,En=152,_n=153,Cn=154,Mn=155,Sn=156,In=157,Tn=158,kn=159,Rn=160,Ln=161,Bn=162,Dn=163,Pn=164,On=165,Nn=166,Fn=167,Un=168,zn=169,jn=170,Hn=171,Gn=172,Vn=173,Qn=174,Wn=175,qn=176,Kn=177,Xn=178,Zn=179,Yn=180,Jn=181,$n=182,er=183,tr=184,nr=1000156007,rr=1000156008,ir=1000156009,ar=1000156010,or=1000156011,sr=1000156017,ur=1000156018,lr=1000156019,cr=1000156020,hr=1000156021,dr=1000054e3,gr=1000054001,pr=1000054002,fr=1000054003,mr=1000054004,vr=1000054005,yr=1000054006,Ar=1000054007,br=1000066e3,xr=1000066001,wr=1000066002,Er=1000066003,_r=1000066004,Cr=1000066005,Mr=1000066006,Sr=1000066007,Ir=1000066008,Tr=1000066009,kr=1000066010,Rr=1000066011,Lr=1000066012,Br=1000066013,Dr=100034e4,Pr=1000340001,Or=f((function e(){p(this,e),this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null})),Nr=function(){function e(t,n,r,i){p(this,e),this._dataView=new DataView(t.buffer,t.byteOffset+n,r),this._littleEndian=i,this._offset=0}return f(e,[{key:"_nextUint8",value:function(){var e=this._dataView.getUint8(this._offset);return this._offset+=1,e}},{key:"_nextUint16",value:function(){var e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}},{key:"_nextUint32",value:function(){var e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}},{key:"_nextUint64",value:function(){var e=this._dataView.getUint32(this._offset,this._littleEndian)+Math.pow(2,32)*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,e}},{key:"_nextInt32",value:function(){var e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}},{key:"_skip",value:function(e){return this._offset+=e,this}},{key:"_scan",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._offset,r=0;this._dataView.getUint8(this._offset)!==t&&r<e;)r++,this._offset++;return r<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+n,r)}}]),e}(),Fr=new Uint8Array([0]),Ur=[171,75,84,88,32,50,48,187,13,10,26,10];function zr(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):r.from(e)}function jr(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):r.from(e).toString("utf8")}function Hr(e){var t,n=0,r=g(e);try{for(r.s();!(t=r.n()).done;)n+=t.value.byteLength}catch(l){r.e(l)}finally{r.f()}var i,a=new Uint8Array(n),o=0,s=g(e);try{for(s.s();!(i=s.n()).done;){var u=i.value;a.set(new Uint8Array(u),o),o+=u.byteLength}}catch(l){s.e(l)}finally{s.f()}return a}function Gr(e){var t=new Uint8Array(e.buffer,e.byteOffset,Ur.length);if(t[0]!==Ur[0]||t[1]!==Ur[1]||t[2]!==Ur[2]||t[3]!==Ur[3]||t[4]!==Ur[4]||t[5]!==Ur[5]||t[6]!==Ur[6]||t[7]!==Ur[7]||t[8]!==Ur[8]||t[9]!==Ur[9]||t[10]!==Ur[10]||t[11]!==Ur[11])throw new Error("Missing KTX 2.0 identifier.");var n=new Or,r=17*Uint32Array.BYTES_PER_ELEMENT,i=new Nr(e,Ur.length,r,!0);n.vkFormat=i._nextUint32(),n.typeSize=i._nextUint32(),n.pixelWidth=i._nextUint32(),n.pixelHeight=i._nextUint32(),n.pixelDepth=i._nextUint32(),n.layerCount=i._nextUint32(),n.faceCount=i._nextUint32();var a=i._nextUint32();n.supercompressionScheme=i._nextUint32();for(var o=i._nextUint32(),s=i._nextUint32(),u=i._nextUint32(),l=i._nextUint32(),c=i._nextUint64(),h=i._nextUint64(),d=new Nr(e,Ur.length+r,3*a*8,!0),g=0;g<a;g++)n.levels.push({levelData:new Uint8Array(e.buffer,e.byteOffset+d._nextUint64(),d._nextUint64()),uncompressedByteLength:d._nextUint64()});for(var p=new Nr(e,o,s,!0),f={vendorId:p._skip(4)._nextUint16(),descriptorType:p._nextUint16(),versionNumber:p._nextUint16(),descriptorBlockSize:p._nextUint16(),colorModel:p._nextUint8(),colorPrimaries:p._nextUint8(),transferFunction:p._nextUint8(),flags:p._nextUint8(),texelBlockDimension:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],bytesPlane:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],samples:[]},m=(f.descriptorBlockSize/4-6)/4,v=0;v<m;v++){var y={bitOffset:p._nextUint16(),bitLength:p._nextUint8(),channelType:p._nextUint8(),samplePosition:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&y.channelType?(y.sampleLower=p._nextInt32(),y.sampleUpper=p._nextInt32()):(y.sampleLower=p._nextUint32(),y.sampleUpper=p._nextUint32()),f.samples[v]=y}n.dataFormatDescriptor.length=0,n.dataFormatDescriptor.push(f);for(var A=new Nr(e,u,l,!0);A._offset<l;){var b=A._nextUint32(),x=A._scan(b),w=jr(x),E=A._scan(b-x.byteLength);n.keyValue[w]=w.match(/^ktx/i)?jr(E):E,A._offset%4&&A._skip(4-A._offset%4)}if(h<=0)return n;for(var _=new Nr(e,c,h,!0),C=_._nextUint16(),M=_._nextUint16(),S=_._nextUint32(),I=_._nextUint32(),T=_._nextUint32(),k=_._nextUint32(),R=[],L=0;L<a;L++)R.push({imageFlags:_._nextUint32(),rgbSliceByteOffset:_._nextUint32(),rgbSliceByteLength:_._nextUint32(),alphaSliceByteOffset:_._nextUint32(),alphaSliceByteLength:_._nextUint32()});var B=c+_._offset,D=B+S,P=D+I,O=P+T,N=new Uint8Array(e.buffer,e.byteOffset+B,S),F=new Uint8Array(e.buffer,e.byteOffset+D,I),U=new Uint8Array(e.buffer,e.byteOffset+P,T),z=new Uint8Array(e.buffer,e.byteOffset+O,k);return n.globalData={endpointCount:C,selectorCount:M,imageDescs:R,endpointsData:N,selectorsData:F,tablesData:U,extendedData:z},n}function Vr(){return(Vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Qr={keepWriter:!1};function Wr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Vr({},Qr,t);var n=new ArrayBuffer(0);if(e.globalData){var r=new ArrayBuffer(20+5*e.globalData.imageDescs.length*4),i=new DataView(r);i.setUint16(0,e.globalData.endpointCount,!0),i.setUint16(2,e.globalData.selectorCount,!0),i.setUint32(4,e.globalData.endpointsData.byteLength,!0),i.setUint32(8,e.globalData.selectorsData.byteLength,!0),i.setUint32(12,e.globalData.tablesData.byteLength,!0),i.setUint32(16,e.globalData.extendedData.byteLength,!0);for(var a=0;a<e.globalData.imageDescs.length;a++){var o=e.globalData.imageDescs[a];i.setUint32(20+5*a*4+0,o.imageFlags,!0),i.setUint32(20+5*a*4+4,o.rgbSliceByteOffset,!0),i.setUint32(20+5*a*4+8,o.rgbSliceByteLength,!0),i.setUint32(20+5*a*4+12,o.alphaSliceByteOffset,!0),i.setUint32(20+5*a*4+16,o.alphaSliceByteLength,!0)}n=Hr([r,e.globalData.endpointsData,e.globalData.selectorsData,e.globalData.tablesData,e.globalData.extendedData])}var s=[],u=e.keyValue;for(var l in t.keepWriter||(u=Vr({},e.keyValue,{KTXwriter:"KTX-Parse v0.3.1"})),u){var c=u[l],h=zr(l),d="string"==typeof c?zr(c):c,g=h.byteLength+1+d.byteLength+1,p=g%4?4-g%4:0;s.push(Hr([new Uint32Array([g]),h,Fr,d,Fr,new Uint8Array(p).fill(0)]))}var f=Hr(s);if(1!==e.dataFormatDescriptor.length||0!==e.dataFormatDescriptor[0].descriptorType)throw new Error("Only BASICFORMAT Data Format Descriptor output supported.");var m=e.dataFormatDescriptor[0],v=new ArrayBuffer(28+16*m.samples.length),y=new DataView(v),A=24+16*m.samples.length;if(y.setUint32(0,v.byteLength,!0),y.setUint16(4,m.vendorId,!0),y.setUint16(6,m.descriptorType,!0),y.setUint16(8,m.versionNumber,!0),y.setUint16(10,A,!0),y.setUint8(12,m.colorModel),y.setUint8(13,m.colorPrimaries),y.setUint8(14,m.transferFunction),y.setUint8(15,m.flags),!Array.isArray(m.texelBlockDimension))throw new Error("texelBlockDimension is now an array. For dimensionality `d`, set `d - 1`.");y.setUint8(16,m.texelBlockDimension[0]),y.setUint8(17,m.texelBlockDimension[1]),y.setUint8(18,m.texelBlockDimension[2]),y.setUint8(19,m.texelBlockDimension[3]);for(var b=0;b<8;b++)y.setUint8(20+b,m.bytesPlane[b]);for(var x=0;x<m.samples.length;x++){var w=m.samples[x],E=28+16*x;if(w.channelID)throw new Error("channelID has been renamed to channelType.");y.setUint16(E+0,w.bitOffset,!0),y.setUint8(E+2,w.bitLength),y.setUint8(E+3,w.channelType),y.setUint8(E+4,w.samplePosition[0]),y.setUint8(E+5,w.samplePosition[1]),y.setUint8(E+6,w.samplePosition[2]),y.setUint8(E+7,w.samplePosition[3]),64&w.channelType?(y.setInt32(E+8,w.sampleLower,!0),y.setInt32(E+12,w.sampleUpper,!0)):(y.setUint32(E+8,w.sampleLower,!0),y.setUint32(E+12,w.sampleUpper,!0))}var _=Ur.length+68+3*e.levels.length*8,C=_+v.byteLength,M=n.byteLength>0?C+f.byteLength:0;M%8&&(M+=8-M%8);for(var S=[],I=new DataView(new ArrayBuffer(3*e.levels.length*8)),T=(M||C+f.byteLength)+n.byteLength,k=0;k<e.levels.length;k++){var R=e.levels[k];S.push(R.levelData),I.setBigUint64(24*k+0,BigInt(T),!0),I.setBigUint64(24*k+8,BigInt(R.levelData.byteLength),!0),I.setBigUint64(24*k+16,BigInt(R.uncompressedByteLength),!0),T+=R.levelData.byteLength}var L=new ArrayBuffer(68),B=new DataView(L);return B.setUint32(0,e.vkFormat,!0),B.setUint32(4,e.typeSize,!0),B.setUint32(8,e.pixelWidth,!0),B.setUint32(12,e.pixelHeight,!0),B.setUint32(16,e.pixelDepth,!0),B.setUint32(20,e.layerCount,!0),B.setUint32(24,e.faceCount,!0),B.setUint32(28,e.levels.length,!0),B.setUint32(32,e.supercompressionScheme,!0),B.setUint32(36,_,!0),B.setUint32(40,v.byteLength,!0),B.setUint32(44,C,!0),B.setUint32(48,f.byteLength,!0),B.setBigUint64(52,BigInt(n.byteLength>0?M:0),!0),B.setBigUint64(60,BigInt(n.byteLength),!0),new Uint8Array(Hr([new Uint8Array(Ur).buffer,L,I.buffer,v,f,M>0?new ArrayBuffer(M-(C+f.byteLength)):new ArrayBuffer(0),n].concat(S)))}},"./node_modules/super-three/examples/jsm/libs/zstddec.module.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ZSTDDecoder:function(){return u}});var r,i,a,o=n("./node_modules/buffer/index.js").Buffer,s={env:{emscripten_notify_memory_growth:function(e){a=new Uint8Array(i.exports.memory.buffer)}}},u=function(){function e(){p(this,e)}return f(e,[{key:"init",value:function(){return r||(r="undefined"!=typeof fetch?fetch("data:application/wasm;base64,"+l).then((function(e){return e.arrayBuffer()})).then((function(e){return WebAssembly.instantiate(e,s)})).then(this._init):WebAssembly.instantiate(o.from(l,"base64"),s).then(this._init))}},{key:"_init",value:function(e){i=e.instance,s.env.emscripten_notify_memory_growth(0)}},{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!i)throw new Error("ZSTDDecoder: Await .init() before decoding.");var n=e.byteLength,r=i.exports.malloc(n);a.set(e,r),t=t||Number(i.exports.ZSTD_findDecompressedSize(r,n));var o=i.exports.malloc(t),s=i.exports.ZSTD_decompress(o,t,r,n),u=a.slice(o,o+s);return i.exports.free(r),i.exports.free(o),u}}]),e}(),l="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ"},"./node_modules/super-three/examples/jsm/lights/LightProbeGenerator.js":function(e,t,n){"use strict";n.r(t),n.d(t,{LightProbeGenerator:function(){return i}});var r=n("./node_modules/super-three/build/three.module.js"),i=function(){function e(){p(this,e)}return f(e,null,[{key:"fromCubeTexture",value:function(e){for(var t=0,n=new r.Vector3,i=new r.Vector3,o=new r.Color,s=[0,0,0,0,0,0,0,0,0],u=new r.SphericalHarmonics3,l=u.coefficients,c=0;c<6;c++){var h=e.image[c],d=h.width,g=h.height,p=document.createElement("canvas");p.width=d,p.height=g;var f=p.getContext("2d");f.drawImage(h,0,0,d,g);for(var m=f.getImageData(0,0,d,g),v=m.data,y=m.width,A=2/y,b=0,x=v.length;b<x;b+=4){o.setRGB(v[b]/255,v[b+1]/255,v[b+2]/255),a(o,e.encoding);var w=b/4,E=(w%y+.5)*A-1,_=1-(Math.floor(w/y)+.5)*A;switch(c){case 0:n.set(-1,_,-E);break;case 1:n.set(1,_,E);break;case 2:n.set(-E,1,-_);break;case 3:n.set(-E,-1,_);break;case 4:n.set(-E,_,1);break;case 5:n.set(E,_,-1)}var C=n.lengthSq(),M=4/(Math.sqrt(C)*C);t+=M,i.copy(n).normalize(),r.SphericalHarmonics3.getBasisAt(i,s);for(var S=0;S<9;S++)l[S].x+=s[S]*o.r*M,l[S].y+=s[S]*o.g*M,l[S].z+=s[S]*o.b*M}}for(var I=4*Math.PI/t,T=0;T<9;T++)l[T].x*=I,l[T].y*=I,l[T].z*=I;return new r.LightProbe(u)}},{key:"fromCubeRenderTarget",value:function(e,t){for(var n=0,i=new r.Vector3,o=new r.Vector3,s=new r.Color,u=[0,0,0,0,0,0,0,0,0],l=new r.SphericalHarmonics3,c=l.coefficients,h=0;h<6;h++){var d=t.width,g=new Uint8Array(d*d*4);e.readRenderTargetPixels(t,0,0,d,d,g,h);for(var p=2/d,f=0,m=g.length;f<m;f+=4){s.setRGB(g[f]/255,g[f+1]/255,g[f+2]/255),a(s,t.texture.encoding);var v=f/4,y=(v%d+.5)*p-1,A=1-(Math.floor(v/d)+.5)*p;switch(h){case 0:i.set(1,A,-y);break;case 1:i.set(-1,A,y);break;case 2:i.set(y,1,-A);break;case 3:i.set(y,-1,A);break;case 4:i.set(y,A,1);break;case 5:i.set(-y,A,-1)}var b=i.lengthSq(),x=4/(Math.sqrt(b)*b);n+=x,o.copy(i).normalize(),r.SphericalHarmonics3.getBasisAt(o,u);for(var w=0;w<9;w++)c[w].x+=u[w]*s.r*x,c[w].y+=u[w]*s.g*x,c[w].z+=u[w]*s.b*x}}for(var E=4*Math.PI/n,_=0;_<9;_++)c[_].x*=E,c[_].y*=E,c[_].z*=E;return new r.LightProbe(l)}}]),e}();function a(e,t){switch(t){case r.sRGBEncoding:e.convertSRGBToLinear();break;case r.LinearEncoding:break;default:console.warn("WARNING: LightProbeGenerator convertColorToLinear() encountered an unsupported encoding.")}return e}},"./node_modules/super-three/examples/jsm/loaders/DRACOLoader.js":function(e,t,n){"use strict";n.r(t),n.d(t,{DRACOLoader:function(){return a}});var r=n("./node_modules/super-three/build/three.module.js"),i=new WeakMap,a=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).decoderPath="",r.decoderConfig={},r.decoderBinary=null,r.decoderPending=null,r.workerLimit=4,r.workerPool=[],r.workerNextTaskID=1,r.workerSourceURL="",r.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},r.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"},r}return f(n,[{key:"setDecoderPath",value:function(e){return this.decoderPath=e,this}},{key:"setDecoderConfig",value:function(e){return this.decoderConfig=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerLimit=e,this}},{key:"load",value:function(e,t,n,i){var a=this,o=new r.FileLoader(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(e){a.decodeDracoFile(e,t).catch(i)}),n,i)}},{key:"decodeDracoFile",value:function(e,t,n,r){var i={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};return this.decodeGeometry(e,i).then(t)}},{key:"decodeGeometry",value:function(e,t){var n,r=this,a=JSON.stringify(t);if(i.has(e)){var o=i.get(e);if(o.key===a)return o.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var s=this.workerNextTaskID++,u=e.byteLength,l=this._getWorker(s,u).then((function(r){return n=r,new Promise((function(r,i){n._callbacks[s]={resolve:r,reject:i},n.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))})).then((function(e){return r._createGeometry(e.geometry)}));return l.catch((function(){return!0})).then((function(){n&&s&&r._releaseTask(n,s)})),i.set(e,{key:a,promise:l}),l}},{key:"_createGeometry",value:function(e){var t=new r.BufferGeometry;e.index&&t.setIndex(new r.BufferAttribute(e.index.array,1));for(var n=0;n<e.attributes.length;n++){var i=e.attributes[n],a=i.name,o=i.array,s=i.itemSize;t.setAttribute(a,new r.BufferAttribute(o,s))}return t}},{key:"_loadLibrary",value:function(e,t){var n=new r.FileLoader(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((function(t,r){n.load(e,t,void 0,r)}))}},{key:"preload",value:function(){return this._initDecoder(),this}},{key:"_initDecoder",value:function(){var e=this;if(this.decoderPending)return this.decoderPending;var t="object"!==typeof WebAssembly||"js"===this.decoderConfig.type,n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then((function(n){var r=n[0];t||(e.decoderConfig.wasmBinary=n[1]);var i=o.toString(),a=["/* draco decoder */",r,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([a]))})),this.decoderPending}},{key:"_getWorker",value:function(e,t){var n=this;return this._initDecoder().then((function(){if(n.workerPool.length<n.workerLimit){var r=new Worker(n.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:n.decoderConfig}),r.onmessage=function(e){var t=e.data;switch(t.type){case"decode":r._callbacks[t.id].resolve(t);break;case"error":r._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},n.workerPool.push(r)}else n.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));var i=n.workerPool[n.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i}))}},{key:"_releaseTask",value:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}},{key:"debug",value:function(){console.log("Task load: ",this.workerPool.map((function(e){return e._taskLoad})))}},{key:"dispose",value:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}]),n}(r.Loader);function o(){var e,t;function n(e,t,n,r,i,a){var o=a.num_components(),s=n.num_points()*o,u=s*i.BYTES_PER_ELEMENT,l=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,i),c=e._malloc(u);t.GetAttributeDataArrayForAllPoints(n,a,l,u,c);var h=new i(e.HEAPF32.buffer,c,s).slice();return e._free(c),{name:r,array:h,itemSize:o}}onmessage=function(r){var i=r.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var a=i.buffer,o=i.taskConfig;t.then((function(e){var t=e.draco,r=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(a),a.byteLength);try{var u=function(e,t,r,i){var a,o,s=i.attributeIDs,u=i.attributeTypes,l=t.GetEncodedGeometryType(r);if(l===e.TRIANGULAR_MESH)a=new e.Mesh,o=t.DecodeBufferToMesh(r,a);else{if(l!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");a=new e.PointCloud,o=t.DecodeBufferToPointCloud(r,a)}if(!o.ok()||0===a.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+o.error_msg());var c={index:null,attributes:[]};for(var h in s){var d=self[u[h]],g=void 0,p=void 0;if(i.useUniqueIDs)p=s[h],g=t.GetAttributeByUniqueId(a,p);else{if(-1===(p=t.GetAttributeId(a,e[s[h]])))continue;g=t.GetAttribute(a,p)}c.attributes.push(n(e,t,a,h,d,g))}return l===e.TRIANGULAR_MESH&&(c.index=function(e,t,n){var r=n.num_faces(),i=3*r,a=4*i,o=e._malloc(a);t.GetTrianglesUInt32Array(n,a,o);var s=new Uint32Array(e.HEAPF32.buffer,o,i).slice();return e._free(o),{array:s,itemSize:1}}(e,t,a)),e.destroy(a),c}(t,r,s,o),l=u.attributes.map((function(e){return e.array.buffer}));u.index&&l.push(u.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:u},l)}catch(c){console.error(c),self.postMessage({type:"error",id:i.id,error:c.message})}finally{t.destroy(s),t.destroy(r)}}))}}}},"./node_modules/super-three/examples/jsm/loaders/GLTFLoader.js":function(e,t,n){"use strict";n.r(t),n.d(t,{GLTFLoader:function(){return i}});var r=n("./node_modules/super-three/build/three.module.js"),i=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).dracoLoader=null,r.ktx2Loader=null,r.meshoptDecoder=null,r.pluginCallbacks=[],r.register((function(e){return new m(e)})),r.register((function(e){return new C(e)})),r.register((function(e){return new M(e)})),r.register((function(e){return new b(e)})),r.register((function(e){return new x(e)})),r.register((function(e){return new w(e)})),r.register((function(e){return new E(e)})),r.register((function(e){return new c(e)})),r.register((function(e){return new _(e)})),r.register((function(e){return new A(e)})),r.register((function(e){return new u(e)})),r.register((function(e){return new S(e)})),r.register((function(e){return new I(e)})),r}return f(n,[{key:"load",value:function(e,t,n,i){var a,o=this;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:r.LoaderUtils.extractUrlBase(e),this.manager.itemStart(e);var s=function(t){i?i(t):console.error(t),o.manager.itemError(e),o.manager.itemEnd(e)},u=new r.FileLoader(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,(function(n){try{o.parse(n,a,(function(n){t(n),o.manager.itemEnd(e)}),s)}catch(r){s(r)}}),n,s)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,i){var a,o={},u={};if("string"===typeof e)a=JSON.parse(e);else if(e instanceof ArrayBuffer)if(r.LoaderUtils.decodeText(new Uint8Array(e,0,4))===T){try{o[s.KHR_BINARY_GLTF]=new L(e)}catch(m){return void(i&&i(m))}a=JSON.parse(o[s.KHR_BINARY_GLTF].content)}else a=JSON.parse(r.LoaderUtils.decodeText(new Uint8Array(e)));else a=e;if(void 0===a.asset||a.asset.version[0]<2)i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var c=new ne(a,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(var h=0;h<this.pluginCallbacks.length;h++){var d=this.pluginCallbacks[h](c);u[d.name]=d,o[d.name]=!0}if(a.extensionsUsed)for(var g=0;g<a.extensionsUsed.length;++g){var p=a.extensionsUsed[g],f=a.extensionsRequired||[];switch(p){case s.KHR_MATERIALS_UNLIT:o[p]=new l;break;case s.KHR_DRACO_MESH_COMPRESSION:o[p]=new B(a,this.dracoLoader);break;case s.KHR_TEXTURE_TRANSFORM:o[p]=new D;break;case s.KHR_MESH_QUANTIZATION:o[p]=new P;break;default:f.indexOf(p)>=0&&void 0===u[p]&&console.warn('THREE.GLTFLoader: Unknown extension "'+p+'".')}}c.setExtensions(o),c.setPlugins(u),c.parse(n,i)}}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.parse(e,t,r,i)}))}}]),n}(r.Loader);function a(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var s={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"},u=function(){function e(t){p(this,e),this.parser=t,this.name=s.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return f(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var i=t[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,i=t.cache.get(n);if(i)return i;var a,o=t.json,s=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e],u=new r.Color(16777215);void 0!==s.color&&u.fromArray(s.color);var l=void 0!==s.range?s.range:0;switch(s.type){case"directional":(a=new r.DirectionalLight(u)).target.position.set(0,0,-1),a.add(a.target);break;case"point":(a=new r.PointLight(u)).distance=l;break;case"spot":(a=new r.SpotLight(u)).distance=l,s.spot=s.spot||{},s.spot.innerConeAngle=void 0!==s.spot.innerConeAngle?s.spot.innerConeAngle:0,s.spot.outerConeAngle=void 0!==s.spot.outerConeAngle?s.spot.outerConeAngle:Math.PI/4,a.angle=s.spot.outerConeAngle,a.penumbra=1-s.spot.innerConeAngle/s.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+s.type)}return a.position.set(0,0,0),a.decay=2,Y(a,s),void 0!==s.intensity&&(a.intensity=s.intensity),a.name=t.createUniqueName(s.name||"light_"+e),i=Promise.resolve(a),t.cache.add(n,i),i}},{key:"getDependency",value:function(e,t){if("light"===e)return this._loadLight(t)}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}]),e}(),l=function(){function e(){p(this,e),this.name=s.KHR_MATERIALS_UNLIT}return f(e,[{key:"getMaterialType",value:function(){return r.MeshBasicMaterial}},{key:"extendParams",value:function(e,t,n){var i=[];e.color=new r.Color(1,1,1),e.opacity=1;var a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){var o=a.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}void 0!==a.baseColorTexture&&i.push(n.assignTexture(e,"map",a.baseColorTexture,r.sRGBEncoding))}return Promise.all(i)}}]),e}(),c=function(){function e(t){p(this,e),this.parser=t,this.name=s.KHR_MATERIALS_EMISSIVE_STRENGTH}return f(e,[{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}]),e}(),m=function(){function e(t){p(this,e),this.parser=t,this.name=s.KHR_MATERIALS_CLEARCOAT}return f(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();var a=[],o=i.extensions[this.name];if(void 0!==o.clearcoatFactor&&(t.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&a.push(n.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&a.push(n.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(a.push(n.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){var s=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new r.Vector2(s,s)}return Promise.all(a)}}]),e}(),A=function(){function e(t){p(this,e),this.parser=t,this.name=s.KHR_MATERIALS_IRIDESCENCE}return f(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.iridescenceFactor&&(t.iridescence=a.iridescenceFactor),void 0!==a.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),void 0!==a.iridescenceIor&&(t.iridescenceIOR=a.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==a.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),void 0!==a.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),void 0!==a.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(i)}}]),e}(),b=function(){function e(t){p(this,e),this.parser=t,this.name=s.KHR_MATERIALS_SHEEN}return f(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();var a=[];t.sheenColor=new r.Color(0,0,0),t.sheenRoughness=0,t.sheen=1;var o=i.extensions[this.name];return void 0!==o.sheenColorFactor&&t.sheenColor.fromArray(o.sheenColorFactor),void 0!==o.sheenRoughnessFactor&&(t.sheenRoughness=o.sheenRoughnessFactor),void 0!==o.sheenColorTexture&&a.push(n.assignTexture(t,"sheenColorMap",o.sheenColorTexture,r.sRGBEncoding)),void 0!==o.sheenRoughnessTexture&&a.push(n.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(a)}}]),e}(),x=function(){function e(t){p(this,e),this.parser=t,this.name=s.KHR_MATERIALS_TRANSMISSION}return f(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(i)}}]),e}(),w=function(){function e(t){p(this,e),this.parser=t,this.name=s.KHR_MATERIALS_VOLUME}return f(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();var a=[],o=i.extensions[this.name];t.thickness=void 0!==o.thicknessFactor?o.thicknessFactor:0,void 0!==o.thicknessTexture&&a.push(n.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;var s=o.attenuationColor||[1,1,1];return t.attenuationColor=new r.Color(s[0],s[1],s[2]),Promise.all(a)}}]),e}(),E=function(){function e(t){p(this,e),this.parser=t,this.name=s.KHR_MATERIALS_IOR}return f(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}]),e}(),_=function(){function e(t){p(this,e),this.parser=t,this.name=s.KHR_MATERIALS_SPECULAR}return f(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();var a=[],o=i.extensions[this.name];t.specularIntensity=void 0!==o.specularFactor?o.specularFactor:1,void 0!==o.specularTexture&&a.push(n.assignTexture(t,"specularIntensityMap",o.specularTexture));var s=o.specularColorFactor||[1,1,1];return t.specularColor=new r.Color(s[0],s[1],s[2]),void 0!==o.specularColorTexture&&a.push(n.assignTexture(t,"specularColorMap",o.specularColorTexture,r.sRGBEncoding)),Promise.all(a)}}]),e}(),C=function(){function e(t){p(this,e),this.parser=t,this.name=s.KHR_TEXTURE_BASISU}return f(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var i=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,a)}}]),e}(),M=function(){function e(t){p(this,e),this.parser=t,this.name=s.EXT_TEXTURE_WEBP,this.isSupported=null}return f(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;var a=i.extensions[t],o=r.images[a.source],s=n.textureLoader;if(o.uri){var u=n.options.manager.getHandler(o.uri);null!==u&&(s=u)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,a.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),S=function(){function e(t){p(this,e),this.name=s.EXT_MESHOPT_COMPRESSION,this.parser=t}return f(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],i=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then((function(e){var t=r.byteOffset||0,n=r.byteLength||0,i=r.count,o=r.byteStride,s=new Uint8Array(e,t,n);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(i,o,s,r.mode,r.filter).then((function(e){return e.buffer})):a.ready.then((function(){var e=new ArrayBuffer(i*o);return a.decodeGltfBuffer(new Uint8Array(e),i,o,s,r.mode,r.filter),e}))}))}return null}}]),e}(),I=function(){function e(t){p(this,e),this.name=s.EXT_MESH_GPU_INSTANCING,this.parser=t}return f(e,[{key:"createNodeMesh",value:function(e){var t=this,n=this.parser.json,i=n.nodes[e];if(!i.extensions||!i.extensions[this.name]||void 0===i.mesh)return null;var a,o=n.meshes[i.mesh],s=g(o.primitives);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.mode!==U.TRIANGLES&&u.mode!==U.TRIANGLE_STRIP&&u.mode!==U.TRIANGLE_FAN&&void 0!==u.mode)return null}}catch(f){s.e(f)}finally{s.f()}var l=i.extensions[this.name].attributes,c=[],h={},d=function(e){c.push(t.parser.getDependency("accessor",l[e]).then((function(t){return h[e]=t,h[e]})))};for(var p in l)d(p);return c.length<1?null:(c.push(this.parser.createNodeMesh(e)),Promise.all(c).then((function(e){var n,i=e.pop(),a=i.isGroup?i.children:[i],o=e[0].count,s=[],u=g(a);try{for(u.s();!(n=u.n()).done;){for(var l=n.value,c=new r.Matrix4,d=new r.Vector3,p=new r.Quaternion,m=new r.Vector3(1,1,1),v=new r.InstancedMesh(l.geometry,l.material,o),y=0;y<o;y++)h.TRANSLATION&&d.fromBufferAttribute(h.TRANSLATION,y),h.ROTATION&&p.fromBufferAttribute(h.ROTATION,y),h.SCALE&&m.fromBufferAttribute(h.SCALE,y),v.setMatrixAt(y,c.compose(d,p,m));for(var A in h)"TRANSLATION"!==A&&"ROTATION"!==A&&"SCALE"!==A&&l.geometry.setAttribute(A,h[A]);r.Object3D.prototype.copy.call(v,l),v.frustumCulled=!1,t.parser.assignFinalMaterial(v),s.push(v)}}catch(f){u.e(f)}finally{u.f()}return i.isGroup?(i.clear(),i.add.apply(i,s),i):s[0]})))}}]),e}(),T="glTF",k=1313821514,R=5130562,L=f((function e(t){p(this,e),this.name=s.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12);if(this.header={magic:r.LoaderUtils.decodeText(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==T)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var i=this.header.length-12,a=new DataView(t,12),o=0;o<i;){var u=a.getUint32(o,!0);o+=4;var l=a.getUint32(o,!0);if(o+=4,l===k){var c=new Uint8Array(t,12+o,u);this.content=r.LoaderUtils.decodeText(c)}else if(l===R){var h=12+o;this.body=t.slice(h,h+u)}o+=u}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),B=function(){function e(t,n){if(p(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=s.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}return f(e,[{key:"decodePrimitive",value:function(e,t){var n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},u={};for(var l in a){var c=V[l]||l.toLowerCase();o[c]=a[l]}for(var h in e.attributes){var d=V[h]||h.toLowerCase();if(void 0!==a[h]){var g=n.accessors[e.attributes[h]],p=z[g.componentType];u[d]=p.name,s[d]=!0===g.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],i=s[n];void 0!==i&&(r.normalized=i)}t(e)}),o,u)}))}))}}]),e}(),D=function(){function e(){p(this,e),this.name=s.KHR_TEXTURE_TRANSFORM}return f(e,[{key:"extendTexture",value:function(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}]),e}(),P=f((function e(){p(this,e),this.name=s.KHR_MESH_QUANTIZATION})),O=function(e){v(n,e);var t=y(n);function n(e,r,i,a){return p(this,n),t.call(this,e,r,i,a)}return f(n,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r,a=0;a!==r;a++)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,u=3*o,l=r-t,c=(n-t)/l,h=c*c,d=h*c,g=e*u,p=g-u,f=-2*d+3*h,m=d-h,v=1-f,y=m-h+c,A=0;A!==o;A++){var b=a[p+A+o],x=a[p+A+s]*l,w=a[g+A+o],E=a[g+A]*l;i[A]=v*b+y*x+f*w+m*E}return i}}]),n}(r.Interpolant),N=new r.Quaternion,F=function(e){v(n,e);var t=y(n);function n(){return p(this,n),t.apply(this,arguments)}return f(n,[{key:"interpolate_",value:function(e,t,r,i){var a=h(d(n.prototype),"interpolate_",this).call(this,e,t,r,i);return N.fromArray(a).normalize().toArray(a),a}}]),n}(O),U={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},z={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},j={9728:r.NearestFilter,9729:r.LinearFilter,9984:r.NearestMipmapNearestFilter,9985:r.LinearMipmapNearestFilter,9986:r.NearestMipmapLinearFilter,9987:r.LinearMipmapLinearFilter},H={33071:r.ClampToEdgeWrapping,33648:r.MirroredRepeatWrapping,10497:r.RepeatWrapping},G={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},V={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Q={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},W={CUBICSPLINE:void 0,LINEAR:r.InterpolateLinear,STEP:r.InterpolateDiscrete},q="OPAQUE",K="MASK",X="BLEND";function Z(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function Y(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function J(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(var a=0,o=i.length;a<o;a++)e.morphTargetDictionary[i[a]]=a}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function $(e){var t=e.extensions&&e.extensions[s.KHR_DRACO_MESH_COMPRESSION];return t?"draco:"+t.bufferView+":"+t.indices+":"+ee(t.attributes):e.indices+":"+ee(e.attributes)+":"+e.mode}function ee(e){for(var t="",n=Object.keys(e).sort(),r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function te(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var ne=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(this,e),this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new a,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};var i=!1,o=!1,s=-1;"undefined"!==typeof navigator&&(i=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),s=(o=navigator.userAgent.indexOf("Firefox")>-1)?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"===typeof createImageBitmap||i||o&&s<98?this.textureLoader=new r.TextureLoader(this.options.manager):this.textureLoader=new r.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new r.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return f(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var a={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};Z(i,a,r),Y(a,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(a)}))).then((function(){e(a)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,i=t.length;r<i;r++)for(var a=t[r].joints,o=0,s=a.length;o<s;o++)e[a[o]].isBone=!0;for(var u=0,l=e.length;u<l;u++){var c=e[u];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin&&(n[c.mesh].isSkinnedMesh=!0)),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){var r=this;if(e.refs[t]<=1)return n;var i=n.clone();return function e(t,n){var i=r.associations.get(t);null!=i&&r.associations.set(n,i);var a,s=g(t.children.entries());try{for(s.s();!(a=s.n()).done;){var u=o(a.value,2),l=u[0];e(u[1],n.children[l])}}catch(c){s.e(c)}finally{s.f()}}(n,i),i.name+="_instance_"+e.uses[t]++,i}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var i=e(t[r]);i&&n.push(i)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:if(!(r=this._invokeOne((function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)}))))throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[s.KHR_BINARY_GLTF].body);var i=this.options;return new Promise((function(e,a){n.load(r.LoaderUtils.resolveURL(t.uri,i.path),e,void 0,(function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,i=this.json.accessors[e];if(void 0===i.bufferView&&void 0===i.sparse){var a=G[i.type],o=z[i.componentType],s=!0===i.normalized,u=new o(i.count*a);return Promise.resolve(new r.BufferAttribute(u,a,s))}var l=[];return void 0!==i.bufferView?l.push(this.getDependency("bufferView",i.bufferView)):l.push(null),void 0!==i.sparse&&(l.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),l.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(l).then((function(e){var a,o,s=e[0],u=G[i.type],l=z[i.componentType],c=l.BYTES_PER_ELEMENT,h=c*u,d=i.byteOffset||0,g=void 0!==i.bufferView?n.bufferViews[i.bufferView].byteStride:void 0,p=!0===i.normalized;if(g&&g!==h){var f=Math.floor(d/g),m="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+f+":"+i.count,v=t.cache.get(m);v||(a=new l(s,f*g,i.count*g/c),v=new r.InterleavedBuffer(a,g/c),t.cache.add(m,v)),o=new r.InterleavedBufferAttribute(v,u,d%g/c,p)}else a=null===s?new l(i.count*u):new l(s,d,i.count*u),o=new r.BufferAttribute(a,u,p);if(void 0!==i.sparse){var y=G.SCALAR,A=z[i.sparse.indices.componentType],b=i.sparse.indices.byteOffset||0,x=i.sparse.values.byteOffset||0,w=new A(e[1],b,i.sparse.count*y),E=new l(e[2],x,i.sparse.count*u);null!==s&&(o=new r.BufferAttribute(o.array.slice(),o.itemSize,o.normalized));for(var _=0,C=w.length;_<C;_++){var M=w[_];if(o.setX(M,E[_*u]),u>=2&&o.setY(M,E[_*u+1]),u>=3&&o.setZ(M,E[_*u+2]),u>=4&&o.setW(M,E[_*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return o}))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,r=t.textures[e].source,i=t.images[r],a=this.textureLoader;if(i.uri){var o=n.manager.getHandler(i.uri);null!==o&&(a=o)}return this.loadTextureImage(e,r,a)}},{key:"loadTextureImage",value:function(e,t,n){var i=this,a=this.json,o=a.textures[e],s=a.images[t],u=(s.uri||s.bufferView)+":"+o.sampler;if(this.textureCache[u])return this.textureCache[u];var l=this.loadImageSource(t,n).then((function(t){t.flipY=!1,t.name=o.name||s.name||"";var n=(a.samplers||{})[o.sampler]||{};return t.magFilter=j[n.magFilter]||r.LinearFilter,t.minFilter=j[n.minFilter]||r.LinearMipmapLinearFilter,t.wrapS=H[n.wrapS]||r.RepeatWrapping,t.wrapT=H[n.wrapT]||r.RepeatWrapping,i.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[u]=l,l}},{key:"loadImageSource",value:function(e,t){var n=this.json,i=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((function(e){return e.clone()}));var a=n.images[e],o=self.URL||self.webkitURL,s=a.uri||"",u=!1;if(void 0!==a.bufferView)s=this.getDependency("bufferView",a.bufferView).then((function(e){u=!0;var t=new Blob([e],{type:a.mimeType});return s=o.createObjectURL(t)}));else if(void 0===a.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var l=Promise.resolve(s).then((function(e){return new Promise((function(n,a){var o=n;!0===t.isImageBitmapLoader&&(o=function(e){var t=new r.Texture(e);t.needsUpdate=!0,n(t)}),t.load(r.LoaderUtils.resolveURL(e,i.path),o,void 0,a)}))})).then((function(e){var t;return!0===u&&o.revokeObjectURL(s),e.userData.mimeType=a.mimeType||((t=a.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",s),e}));return this.sourceCache[e]=l,l}},{key:"assignTexture",value:function(e,t,n,r){var i=this;return this.getDependency("texture",n.index).then((function(a){if(!a)return null;if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),i.extensions[s.KHR_TEXTURE_TRANSFORM]){var o=void 0!==n.extensions?n.extensions[s.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var u=i.associations.get(a);a=i.extensions[s.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),i.associations.set(a,u)}}return void 0!==r&&(a.encoding=r),e[t]=a,a}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,n=e.material,i=void 0===t.attributes.tangent,a=void 0!==t.attributes.color,o=void 0===t.attributes.normal;if(e.isPoints){var s="PointsMaterial:"+n.uuid,u=this.cache.get(s);u||(u=new r.PointsMaterial,r.Material.prototype.copy.call(u,n),u.color.copy(n.color),u.map=n.map,u.sizeAttenuation=!1,this.cache.add(s,u)),n=u}else if(e.isLine){var l="LineBasicMaterial:"+n.uuid,c=this.cache.get(l);c||(c=new r.LineBasicMaterial,r.Material.prototype.copy.call(c,n),c.color.copy(n.color),this.cache.add(l,c)),n=c}if(i||a||o){var h="ClonedMaterial:"+n.uuid+":";i&&(h+="derivative-tangents:"),a&&(h+="vertex-colors:"),o&&(h+="flat-shading:");var d=this.cache.get(h);d||(d=n.clone(),a&&(d.vertexColors=!0),o&&(d.flatShading=!0),i&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(h,d),this.associations.set(d,this.associations.get(n))),n=d}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n}},{key:"getMaterialType",value:function(){return r.MeshStandardMaterial}},{key:"loadMaterial",value:function(e){var t,n=this,i=this.json,a=this.extensions,o=i.materials[e],u={},l=[];if((o.extensions||{})[s.KHR_MATERIALS_UNLIT]){var c=a[s.KHR_MATERIALS_UNLIT];t=c.getMaterialType(),l.push(c.extendParams(u,o,n))}else{var h=o.pbrMetallicRoughness||{};if(u.color=new r.Color(1,1,1),u.opacity=1,Array.isArray(h.baseColorFactor)){var d=h.baseColorFactor;u.color.fromArray(d),u.opacity=d[3]}void 0!==h.baseColorTexture&&l.push(n.assignTexture(u,"map",h.baseColorTexture,r.sRGBEncoding)),u.metalness=void 0!==h.metallicFactor?h.metallicFactor:1,u.roughness=void 0!==h.roughnessFactor?h.roughnessFactor:1,void 0!==h.metallicRoughnessTexture&&(l.push(n.assignTexture(u,"metalnessMap",h.metallicRoughnessTexture)),l.push(n.assignTexture(u,"roughnessMap",h.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),l.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,u)}))))}!0===o.doubleSided&&(u.side=r.DoubleSide);var g=o.alphaMode||q;if(g===X?(u.transparent=!0,u.depthWrite=!1):(u.transparent=!1,g===K&&(u.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&t!==r.MeshBasicMaterial&&(l.push(n.assignTexture(u,"normalMap",o.normalTexture)),u.normalScale=new r.Vector2(1,1),void 0!==o.normalTexture.scale)){var p=o.normalTexture.scale;u.normalScale.set(p,p)}return void 0!==o.occlusionTexture&&t!==r.MeshBasicMaterial&&(l.push(n.assignTexture(u,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(u.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&t!==r.MeshBasicMaterial&&(u.emissive=(new r.Color).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&t!==r.MeshBasicMaterial&&l.push(n.assignTexture(u,"emissiveMap",o.emissiveTexture,r.sRGBEncoding)),Promise.all(l).then((function(){var r=new t(u);return o.name&&(r.name=o.name),Y(r,o),n.associations.set(r,{materials:e}),o.extensions&&Z(a,r,o),r}))}},{key:"createUniqueName",value:function(e){for(var t=r.PropertyBinding.sanitizeNodeName(e||""),n=t,i=1;this.nodeNamesUsed[n];++i)n=t+"_"+i;return this.nodeNamesUsed[n]=!0,n}},{key:"loadGeometries",value:function(e){var t=this,n=this.extensions,i=this.primitiveCache;function a(e){return n[s.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return ie(n,e,t)}))}for(var o=[],u=0,l=e.length;u<l;u++){var c=e[u],h=$(c),d=i[h];if(d)o.push(d.promise);else{var g=void 0;g=c.extensions&&c.extensions[s.KHR_DRACO_MESH_COMPRESSION]?a(c):ie(new r.BufferGeometry,c,t),i[h]={primitive:c,promise:g},o.push(g)}}return Promise.all(o)}},{key:"loadMesh",value:function(e){for(var t,n=this,i=this.json,a=this.extensions,o=i.meshes[e],s=o.primitives,u=[],l=0,c=s.length;l<c;l++){var h=void 0===s[l].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new r.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:r.FrontSide})),t.DefaultMaterial):this.getDependency("material",s[l].material);u.push(h)}return u.push(n.loadGeometries(s)),Promise.all(u).then((function(t){for(var i=t.slice(0,t.length-1),u=t[t.length-1],l=[],c=0,h=u.length;c<h;c++){var d=u[c],g=s[c],p=void 0,f=i[c];if(g.mode===U.TRIANGLES||g.mode===U.TRIANGLE_STRIP||g.mode===U.TRIANGLE_FAN||void 0===g.mode)!0!==(p=!0===o.isSkinnedMesh?new r.SkinnedMesh(d,f):new r.Mesh(d,f)).isSkinnedMesh||p.geometry.attributes.skinWeight.normalized||p.normalizeSkinWeights(),g.mode===U.TRIANGLE_STRIP?p.geometry=ae(p.geometry,r.TriangleStripDrawMode):g.mode===U.TRIANGLE_FAN&&(p.geometry=ae(p.geometry,r.TriangleFanDrawMode));else if(g.mode===U.LINES)p=new r.LineSegments(d,f);else if(g.mode===U.LINE_STRIP)p=new r.Line(d,f);else if(g.mode===U.LINE_LOOP)p=new r.LineLoop(d,f);else{if(g.mode!==U.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+g.mode);p=new r.Points(d,f)}Object.keys(p.geometry.morphAttributes).length>0&&J(p,o),p.name=n.createUniqueName(o.name||"mesh_"+e),Y(p,o),g.extensions&&Z(a,p,g),n.assignFinalMaterial(p),l.push(p)}for(var m=0,v=l.length;m<v;m++)n.associations.set(l[m],{meshes:e,primitives:m});if(1===l.length)return l[0];var y=new r.Group;n.associations.set(y,{meshes:e});for(var A=0,b=l.length;A<b;A++)y.add(l[A]);return y}))}},{key:"loadCamera",value:function(e){var t,n=this.json.cameras[e],i=n[n.type];if(i)return"perspective"===n.type?t=new r.PerspectiveCamera(r.MathUtils.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):"orthographic"===n.type&&(t=new r.OrthographicCamera(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Y(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}},{key:"loadSkin",value:function(e){for(var t=this.json.skins[e],n=[],i=0,a=t.joints.length;i<a;i++)n.push(this.getDependency("node",t.joints[i]));return void 0!==t.inverseBindMatrices?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then((function(e){for(var n=e.pop(),i=e,a=[],o=[],s=0,u=i.length;s<u;s++){var l=i[s];if(l){a.push(l);var c=new r.Matrix4;null!==n&&c.fromArray(n.array,16*s),o.push(c)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[s])}return new r.Skeleton(a,o)}))}},{key:"loadAnimation",value:function(e){for(var t=this.json.animations[e],n=[],i=[],a=[],o=[],s=[],u=0,l=t.channels.length;u<l;u++){var c=t.channels[u],h=t.samplers[c.sampler],d=c.target,g=d.node,p=void 0!==t.parameters?t.parameters[h.input]:h.input,f=void 0!==t.parameters?t.parameters[h.output]:h.output;n.push(this.getDependency("node",g)),i.push(this.getDependency("accessor",p)),a.push(this.getDependency("accessor",f)),o.push(h),s.push(d)}return Promise.all([Promise.all(n),Promise.all(i),Promise.all(a),Promise.all(o),Promise.all(s)]).then((function(n){for(var i=n[0],a=n[1],o=n[2],s=n[3],u=n[4],l=[],c=function(){var e,t=i[h],n=a[h],c=o[h],d=s[h],g=u[h];if(void 0===t)return 1;switch(t.updateMatrix(),Q[g.path]){case Q.weights:e=r.NumberKeyframeTrack;break;case Q.rotation:e=r.QuaternionKeyframeTrack;break;default:e=r.VectorKeyframeTrack}var p=t.name?t.name:t.uuid,f=void 0!==d.interpolation?W[d.interpolation]:r.InterpolateLinear,m=[];Q[g.path]===Q.weights?t.traverse((function(e){e.morphTargetInfluences&&m.push(e.name?e.name:e.uuid)})):m.push(p);var v=c.array;if(c.normalized){for(var y=te(v.constructor),A=new Float32Array(v.length),b=0,x=v.length;b<x;b++)A[b]=v[b]*y;v=A}for(var w=0,E=m.length;w<E;w++){var _=new e(m[w]+"."+Q[g.path],n.array,v,f);"CUBICSPLINE"===d.interpolation&&(_.createInterpolant=function(e){return new(this instanceof r.QuaternionKeyframeTrack?F:O)(this.times,this.values,this.getValueSize()/3,e)},_.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(_)}},h=0,d=i.length;h<d;h++)c();var g=t.name?t.name:"animation_"+e;return new r.AnimationClip(g,void 0,l)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){var t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}},{key:"loadNode",value:function(e){var t=this.json,n=this.extensions,i=this,a=t.nodes[e],o=a.name?i.createUniqueName(a.name):"";return function(){var t=[],n=i._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return n&&t.push(n),void 0!==a.camera&&t.push(i.getDependency("camera",a.camera).then((function(e){return i._getNodeRef(i.cameraCache,a.camera,e)}))),i._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)}().then((function(t){var s;if((s=!0===a.isBone?new r.Bone:t.length>1?new r.Group:1===t.length?t[0]:new r.Object3D)!==t[0])for(var u=0,l=t.length;u<l;u++)s.add(t[u]);if(a.name&&(s.userData.name=a.name,s.name=o),Y(s,a),a.extensions&&Z(n,s,a),void 0!==a.matrix){var c=new r.Matrix4;c.fromArray(a.matrix),s.applyMatrix4(c)}else void 0!==a.translation&&s.position.fromArray(a.translation),void 0!==a.rotation&&s.quaternion.fromArray(a.rotation),void 0!==a.scale&&s.scale.fromArray(a.scale);return i.associations.has(s)||i.associations.set(s,{}),i.associations.get(s).nodes=e,s}))}},{key:"loadScene",value:function(e){var t=this.json,n=this.extensions,i=this.json.scenes[e],a=this,s=new r.Group;i.name&&(s.name=a.createUniqueName(i.name)),Y(s,i),i.extensions&&Z(n,s,i);for(var u=i.nodes||[],l=[],c=0,h=u.length;c<h;c++)l.push(re(u[c],s,t,a));return Promise.all(l).then((function(){return a.associations=function(e){var t,n=new Map,i=g(a.associations);try{for(i.s();!(t=i.n()).done;){var s=o(t.value,2),u=s[0],l=s[1];(u instanceof r.Material||u instanceof r.Texture)&&n.set(u,l)}}catch(c){i.e(c)}finally{i.f()}return e.traverse((function(e){var t=a.associations.get(e);null!=t&&n.set(e,t)})),n}(s),s}))}}]),e}();function re(e,t,n,r){var i=n.nodes[e];return r.getDependency("node",e).then((function(e){return void 0===i.skin?e:r.getDependency("skin",i.skin).then((function(t){return e.traverse((function(e){e.isSkinnedMesh&&e.bind(t,e.matrixWorld)})),e}))})).then((function(e){t.add(e);var a=[];if(i.children)for(var o=i.children,s=0,u=o.length;s<u;s++){var l=o[s];a.push(re(l,e,n,r))}return Promise.all(a)}))}function ie(e,t,n){var i=t.attributes,a=[];function o(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var s in i){var u=V[s]||s.toLowerCase();u in e.attributes||a.push(o(i[s],u))}if(void 0!==t.indices&&!e.index){var l=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));a.push(l)}return Y(e,t),function(e,t,n){var i=t.attributes,a=new r.Box3;if(void 0!==i.POSITION){var o=n.json.accessors[i.POSITION],s=o.min,u=o.max;if(void 0!==s&&void 0!==u){if(a.set(new r.Vector3(s[0],s[1],s[2]),new r.Vector3(u[0],u[1],u[2])),o.normalized){var l=te(z[o.componentType]);a.min.multiplyScalar(l),a.max.multiplyScalar(l)}var c=t.targets;if(void 0!==c){for(var h=new r.Vector3,d=new r.Vector3,g=0,p=c.length;g<p;g++){var f=c[g];if(void 0!==f.POSITION){var m=n.json.accessors[f.POSITION],v=m.min,y=m.max;if(void 0!==v&&void 0!==y){if(d.setX(Math.max(Math.abs(v[0]),Math.abs(y[0]))),d.setY(Math.max(Math.abs(v[1]),Math.abs(y[1]))),d.setZ(Math.max(Math.abs(v[2]),Math.abs(y[2]))),m.normalized){var A=te(z[m.componentType]);d.multiplyScalar(A)}h.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}a.expandByVector(h)}e.boundingBox=a;var b=new r.Sphere;a.getCenter(b.center),b.radius=a.min.distanceTo(a.max)/2,e.boundingSphere=b}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(a).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,i=!1,a=!1,o=0,s=t.length;o<s;o++){var u=t[o];if(void 0!==u.POSITION&&(r=!0),void 0!==u.NORMAL&&(i=!0),void 0!==u.COLOR_0&&(a=!0),r&&i&&a)break}if(!r&&!i&&!a)return Promise.resolve(e);for(var l=[],c=[],h=[],d=0,g=t.length;d<g;d++){var p=t[d];if(r){var f=void 0!==p.POSITION?n.getDependency("accessor",p.POSITION):e.attributes.position;l.push(f)}if(i){var m=void 0!==p.NORMAL?n.getDependency("accessor",p.NORMAL):e.attributes.normal;c.push(m)}if(a){var v=void 0!==p.COLOR_0?n.getDependency("accessor",p.COLOR_0):e.attributes.color;h.push(v)}}return Promise.all([Promise.all(l),Promise.all(c),Promise.all(h)]).then((function(t){var n=t[0],o=t[1],s=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=o),a&&(e.morphAttributes.color=s),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function ae(e,t){var n=e.getIndex();if(null===n){var i=[],a=e.getAttribute("position");if(void 0===a)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var o=0;o<a.count;o++)i.push(o);e.setIndex(i),n=e.getIndex()}var s=n.count-2,u=[];if(t===r.TriangleFanDrawMode)for(var l=1;l<=s;l++)u.push(n.getX(0)),u.push(n.getX(l)),u.push(n.getX(l+1));else for(var c=0;c<s;c++)c%2===0?(u.push(n.getX(c)),u.push(n.getX(c+1)),u.push(n.getX(c+2))):(u.push(n.getX(c+2)),u.push(n.getX(c+1)),u.push(n.getX(c)));u.length/3!==s&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var h=e.clone();return h.setIndex(u),h}},"./node_modules/super-three/examples/jsm/loaders/KTX2Loader.js":function(e,t,n){"use strict";var r,i,l;n.r(t),n.d(t,{KTX2Loader:function(){return w}});var c,h=n("./node_modules/super-three/build/three.module.js"),d=n("./node_modules/super-three/examples/jsm/utils/WorkerPool.js"),m=n("./node_modules/super-three/examples/jsm/libs/ktx-parse.module.js"),A=n("./node_modules/super-three/examples/jsm/libs/zstddec.module.js"),b=new WeakMap,x=0,w=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).transcoderPath="",r.transcoderBinary=null,r.transcoderPending=null,r.workerPool=new d.WorkerPool,r.workerSourceURL="",r.workerConfig=null,"undefined"!==typeof MSC_TRANSCODER&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.'),r}return f(n,[{key:"setTranscoderPath",value:function(e){return this.transcoderPath=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerPool.setWorkerLimit(e),this}},{key:"detectSupport",value:function(e){return this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},e.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}},{key:"init",value:function(){var e=this;if(!this.transcoderPending){var t=new h.FileLoader(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);var r=t.loadAsync("basis_transcoder.js"),i=new h.FileLoader(this.manager);i.setPath(this.transcoderPath),i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);var a=i.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([r,a]).then((function(t){var r=o(t,2),i=r[0],a=r[1],s=n.BasisWorker.toString(),u=["/* constants */","let _EngineFormat = "+JSON.stringify(n.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(n.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(n.BasisFormat),"/* basis_transcoder.js */",i,"/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([u])),e.transcoderBinary=a,e.workerPool.setWorkerCreator((function(){var t=new Worker(e.workerSourceURL),n=e.transcoderBinary.slice(0);return t.postMessage({type:"init",config:e.workerConfig,transcoderBinary:n},[n]),t}))})),x>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),x++}return this.transcoderPending}},{key:"load",value:function(e,t,n,r){var i=this;if(null===this.workerConfig)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");var a=new h.FileLoader(this.manager);a.setResponseType("arraybuffer"),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){if(b.has(e))return b.get(e).promise.then(t).catch(r);i._createTexture(e).then((function(e){return t?t(e):null})).catch(r)}),n,r)}},{key:"_createTextureFrom",value:function(e,t){var n=e.mipmaps,r=e.width,i=e.height,a=e.format,o=e.type,s=e.error,u=e.dfdTransferFn,l=e.dfdFlags;if("error"===o)return Promise.reject(s);var c=t.layerCount>1?new h.CompressedArrayTexture(n,r,i,t.layerCount,a,h.UnsignedByteType):new h.CompressedTexture(n,r,i,a,h.UnsignedByteType);return c.minFilter=1===n.length?h.LinearFilter:h.LinearMipmapLinearFilter,c.magFilter=h.LinearFilter,c.generateMipmaps=!1,c.needsUpdate=!0,c.encoding=u===m.KHR_DF_TRANSFER_SRGB?h.sRGBEncoding:h.LinearEncoding,c.premultiplyAlpha=!!(l&m.KHR_DF_FLAG_ALPHA_PREMULTIPLIED),c}},{key:"_createTexture",value:function(){var e=a(u().mark((function e(t){var n,r,i,a,o=this,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:{},(r=(0,m.read)(new Uint8Array(t))).vkFormat===m.VK_FORMAT_UNDEFINED){e.next=4;break}return e.abrupt("return",M(r));case 4:return i=n,a=this.init().then((function(){return o.workerPool.postMessage({type:"transcode",buffer:t,taskConfig:i},[t])})).then((function(e){return o._createTextureFrom(e.data,r)})),b.set(t,{promise:a}),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),x--,this}}]),n}(h.Loader);w.BasisFormat={ETC1S:0,UASTC_4x4:1},w.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},w.EngineFormat={RGBAFormat:h.RGBAFormat,RGBA_ASTC_4x4_Format:h.RGBA_ASTC_4x4_Format,RGBA_BPTC_Format:h.RGBA_BPTC_Format,RGBA_ETC2_EAC_Format:h.RGBA_ETC2_EAC_Format,RGBA_PVRTC_4BPPV1_Format:h.RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT5_Format:h.RGBA_S3TC_DXT5_Format,RGB_ETC1_Format:h.RGB_ETC1_Format,RGB_ETC2_Format:h.RGB_ETC2_Format,RGB_PVRTC_4BPPV1_Format:h.RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format:h.RGB_S3TC_DXT1_Format},w.BasisWorker=function(){var e,t,n,r=_EngineFormat,i=_TranscoderFormat,a=_BasisFormat;self.addEventListener("message",(function(o){var h,d=o.data;switch(d.type){case"init":e=d.config,h=d.transcoderBinary,t=new Promise((function(e){n={wasmBinary:h,onRuntimeInitialized:e},BASIS(n)})).then((function(){n.initializeBasis(),void 0===n.KTX2File&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")}));break;case"transcode":t.then((function(){try{for(var t=function(t){var o=new n.KTX2File(new Uint8Array(t));function h(){o.close(),o.delete()}if(!o.isValid())throw h(),new Error("THREE.KTX2Loader:\tInvalid or unsupported .ktx2 file");var d=o.isUASTC()?a.UASTC_4x4:a.ETC1S,g=o.getWidth(),p=o.getHeight(),f=o.getLayers()||1,m=o.getLevels(),v=o.getHasAlpha(),y=o.getDFDTransferFunc(),A=o.getDFDFlags(),b=function(t,n,o,c){for(var h,d,g=t===a.ETC1S?s:u,p=0;p<g.length;p++){var f=g[p];if(e[f.if]&&f.basisFormat.includes(t)&&!(c&&f.transcoderFormat.length<2)&&(!f.needsPowerOfTwo||l(n)&&l(o)))return{transcoderFormat:h=f.transcoderFormat[c?1:0],engineFormat:d=f.engineFormat[c?1:0]}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),h=i.RGBA32,d=r.RGBAFormat,{transcoderFormat:h,engineFormat:d}}(d,g,p,v),x=b.transcoderFormat,w=b.engineFormat;if(!g||!p||!m)throw h(),new Error("THREE.KTX2Loader:\tInvalid texture");if(!o.startTranscoding())throw h(),new Error("THREE.KTX2Loader: .startTranscoding failed");for(var E=[],_=0;_<m;_++){for(var C=[],M=void 0,S=void 0,I=0;I<f;I++){var T=o.getImageLevelInfo(_,I,0);M=T.origWidth,S=T.origHeight;var k=new Uint8Array(o.getImageTranscodedSizeInBytes(_,I,0,x));if(!o.transcodeImage(k,_,I,0,x,0,-1,-1))throw h(),new Error("THREE.KTX2Loader: .transcodeImage failed.");C.push(k)}E.push({data:c(C),width:M,height:S})}return h(),{width:g,height:p,hasAlpha:v,mipmaps:E,format:w,dfdTransferFn:y,dfdFlags:A}}(d.buffer),o=t.width,h=t.height,g=t.hasAlpha,p=t.mipmaps,f=t.format,m=t.dfdTransferFn,v=t.dfdFlags,y=[],A=0;A<p.length;++A)y.push(p[A].data.buffer);self.postMessage({type:"transcode",id:d.id,width:o,height:h,hasAlpha:g,mipmaps:p,format:f,dfdTransferFn:m,dfdFlags:v},y)}catch(b){console.error(b),self.postMessage({type:"error",id:d.id,error:b.message})}}))}}));var o=[{if:"astcSupported",basisFormat:[a.UASTC_4x4],transcoderFormat:[i.ASTC_4x4,i.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.BC7_M5,i.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.BC1,i.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.ETC1],engineFormat:[r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.PVRTC1_4_RGB,i.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],s=o.sort((function(e,t){return e.priorityETC1S-t.priorityETC1S})),u=o.sort((function(e,t){return e.priorityUASTC-t.priorityUASTC}));function l(e){return e<=2||0===(e&e-1)&&0!==e}function c(e){var t,n=0,r=g(e);try{for(r.s();!(t=r.n()).done;)n+=t.value.byteLength}catch(l){r.e(l)}finally{r.f()}var i,a=new Uint8Array(n),o=0,s=g(e);try{for(s.s();!(i=s.n()).done;){var u=i.value;a.set(u,o),o+=u.byteLength}}catch(l){s.e(l)}finally{s.f()}return a}};var E=(s(r={},m.VK_FORMAT_R32G32B32A32_SFLOAT,h.RGBAFormat),s(r,m.VK_FORMAT_R16G16B16A16_SFLOAT,h.RGBAFormat),s(r,m.VK_FORMAT_R8G8B8A8_UNORM,h.RGBAFormat),s(r,m.VK_FORMAT_R8G8B8A8_SRGB,h.RGBAFormat),s(r,m.VK_FORMAT_R32G32_SFLOAT,h.RGFormat),s(r,m.VK_FORMAT_R16G16_SFLOAT,h.RGFormat),s(r,m.VK_FORMAT_R8G8_UNORM,h.RGFormat),s(r,m.VK_FORMAT_R8G8_SRGB,h.RGFormat),s(r,m.VK_FORMAT_R32_SFLOAT,h.RedFormat),s(r,m.VK_FORMAT_R16_SFLOAT,h.RedFormat),s(r,m.VK_FORMAT_R8_SRGB,h.RedFormat),s(r,m.VK_FORMAT_R8_UNORM,h.RedFormat),r),_=(s(i={},m.VK_FORMAT_R32G32B32A32_SFLOAT,h.FloatType),s(i,m.VK_FORMAT_R16G16B16A16_SFLOAT,h.HalfFloatType),s(i,m.VK_FORMAT_R8G8B8A8_UNORM,h.UnsignedByteType),s(i,m.VK_FORMAT_R8G8B8A8_SRGB,h.UnsignedByteType),s(i,m.VK_FORMAT_R32G32_SFLOAT,h.FloatType),s(i,m.VK_FORMAT_R16G16_SFLOAT,h.HalfFloatType),s(i,m.VK_FORMAT_R8G8_UNORM,h.UnsignedByteType),s(i,m.VK_FORMAT_R8G8_SRGB,h.UnsignedByteType),s(i,m.VK_FORMAT_R32_SFLOAT,h.FloatType),s(i,m.VK_FORMAT_R16_SFLOAT,h.HalfFloatType),s(i,m.VK_FORMAT_R8_SRGB,h.UnsignedByteType),s(i,m.VK_FORMAT_R8_UNORM,h.UnsignedByteType),i),C=(s(l={},m.VK_FORMAT_R8G8B8A8_SRGB,h.sRGBEncoding),s(l,m.VK_FORMAT_R8G8_SRGB,h.sRGBEncoding),s(l,m.VK_FORMAT_R8_SRGB,h.sRGBEncoding),l);function M(e){return S.apply(this,arguments)}function S(){return S=a(u().mark((function e(t){var n,r,i,o,s,l,d,g;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.vkFormat,r=t.pixelWidth,i=t.pixelHeight,o=t.pixelDepth,void 0!==E[n]){e.next=3;break}throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");case 3:if(s=t.levels[0],t.supercompressionScheme!==m.KHR_SUPERCOMPRESSION_NONE){e.next=8;break}l=s.levelData,e.next=16;break;case 8:if(t.supercompressionScheme!==m.KHR_SUPERCOMPRESSION_ZSTD){e.next=15;break}return c||(c=new Promise(function(){var e=a(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new A.ZSTDDecoder,e.next=3,n.init();case 3:t(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.next=12,c;case 12:l=e.sent.decode(s.levelData,s.uncompressedByteLength),e.next=16;break;case 15:throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");case 16:return d=_[n]===h.FloatType?new Float32Array(l.buffer,l.byteOffset,l.byteLength/Float32Array.BYTES_PER_ELEMENT):_[n]===h.HalfFloatType?new Uint16Array(l.buffer,l.byteOffset,l.byteLength/Uint16Array.BYTES_PER_ELEMENT):l,(g=0===o?new h.DataTexture(d,r,i):new h.Data3DTexture(d,r,i,o)).type=_[n],g.format=E[n],g.encoding=C[n]||h.LinearEncoding,g.needsUpdate=!0,e.abrupt("return",Promise.resolve(g));case 23:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}},"./node_modules/super-three/examples/jsm/loaders/MTLLoader.js":function(e,t,n){"use strict";n.r(t),n.d(t,{MTLLoader:function(){return i}});var r=n("./node_modules/super-three/build/three.module.js"),i=function(e){v(n,e);var t=y(n);function n(e){return p(this,n),t.call(this,e)}return f(n,[{key:"load",value:function(e,t,n,i){var a=this,o=""===this.path?r.LoaderUtils.extractUrlBase(e):this.path,s=new r.FileLoader(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{t(a.parse(n,o))}catch(r){i?i(r):console.error(r),a.manager.itemError(e)}}),n,i)}},{key:"setMaterialOptions",value:function(e){return this.materialOptions=e,this}},{key:"parse",value:function(e,t){for(var n=e.split("\n"),r={},i=/\s+/,o={},s=0;s<n.length;s++){var u=n[s];if(0!==(u=u.trim()).length&&"#"!==u.charAt(0)){var l=u.indexOf(" "),c=l>=0?u.substring(0,l):u;c=c.toLowerCase();var h=l>=0?u.substring(l+1):"";if(h=h.trim(),"newmtl"===c)r={name:h},o[h]=r;else if("ka"===c||"kd"===c||"ks"===c||"ke"===c){var d=h.split(i,3);r[c]=[parseFloat(d[0]),parseFloat(d[1]),parseFloat(d[2])]}else r[c]=h}}var g=new a(this.resourcePath||t,this.materialOptions);return g.setCrossOrigin(this.crossOrigin),g.setManager(this.manager),g.setMaterials(o),g}}]),n}(r.Loader),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(this,e),this.baseUrl=t,this.options=n,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=void 0!==this.options.side?this.options.side:r.FrontSide,this.wrap=void 0!==this.options.wrap?this.options.wrap:r.RepeatWrapping}return f(e,[{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setManager",value:function(e){this.manager=e}},{key:"setMaterials",value:function(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}}},{key:"convert",value:function(e){if(!this.options)return e;var t={};for(var n in e){var r=e[n],i={};for(var a in t[n]=i,r){var o=!0,s=r[a],u=a.toLowerCase();switch(u){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(o=!1)}o&&(i[u]=s)}}return t}},{key:"preload",value:function(){for(var e in this.materialsInfo)this.create(e)}},{key:"getIndex",value:function(e){return this.nameLookup[e]}},{key:"getAsArray",value:function(){var e=0;for(var t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray}},{key:"create",value:function(e){return void 0===this.materials[e]&&this.createMaterial_(e),this.materials[e]}},{key:"createMaterial_",value:function(e){var t=this,n=this.materialsInfo[e],i={name:e,side:this.side};function a(e,n){if(!i[e]){var a,o,s=t.getTextureParams(n,i),u=t.loadTexture((a=t.baseUrl,"string"!==typeof(o=s.url)||""===o?"":/^https?:\/\//i.test(o)?o:a+o));u.repeat.copy(s.scale),u.offset.copy(s.offset),u.wrapS=t.wrap,u.wrapT=t.wrap,"map"!==e&&"emissiveMap"!==e||(u.encoding=r.sRGBEncoding),i[e]=u}}for(var o in n){var s=n[o],u=void 0;if(""!==s)switch(o.toLowerCase()){case"kd":i.color=(new r.Color).fromArray(s).convertSRGBToLinear();break;case"ks":i.specular=(new r.Color).fromArray(s).convertSRGBToLinear();break;case"ke":i.emissive=(new r.Color).fromArray(s).convertSRGBToLinear();break;case"map_kd":a("map",s);break;case"map_ks":a("specularMap",s);break;case"map_ke":a("emissiveMap",s);break;case"norm":a("normalMap",s);break;case"map_bump":case"bump":a("bumpMap",s);break;case"map_d":a("alphaMap",s),i.transparent=!0;break;case"ns":i.shininess=parseFloat(s);break;case"d":(u=parseFloat(s))<1&&(i.opacity=u,i.transparent=!0);break;case"tr":u=parseFloat(s),this.options&&this.options.invertTrProperty&&(u=1-u),u>0&&(i.opacity=1-u,i.transparent=!0)}}return this.materials[e]=new r.MeshPhongMaterial(i),this.materials[e]}},{key:"getTextureParams",value:function(e,t){var n,i={scale:new r.Vector2(1,1),offset:new r.Vector2(0,0)},a=e.split(/\s+/);return(n=a.indexOf("-bm"))>=0&&(t.bumpScale=parseFloat(a[n+1]),a.splice(n,2)),(n=a.indexOf("-s"))>=0&&(i.scale.set(parseFloat(a[n+1]),parseFloat(a[n+2])),a.splice(n,4)),(n=a.indexOf("-o"))>=0&&(i.offset.set(parseFloat(a[n+1]),parseFloat(a[n+2])),a.splice(n,4)),i.url=a.join(" ").trim(),i}},{key:"loadTexture",value:function(e,t,n,i,a){var o=void 0!==this.manager?this.manager:r.DefaultLoadingManager,s=o.getHandler(e);null===s&&(s=new r.TextureLoader(o)),s.setCrossOrigin&&s.setCrossOrigin(this.crossOrigin);var u=s.load(e,n,i,a);return void 0!==t&&(u.mapping=t),u}}]),e}()},"./node_modules/super-three/examples/jsm/loaders/OBJLoader.js":function(e,t,n){"use strict";n.r(t),n.d(t,{OBJLoader:function(){return b}});var r=n("./node_modules/super-three/build/three.module.js"),i=/^[og]\s*(.+)?/,a=/^mtllib /,o=/^usemtl /,s=/^usemap /,u=/\s+/,l=new r.Vector3,c=new r.Vector3,h=new r.Vector3,d=new r.Vector3,g=new r.Vector3,m=new r.Color;function A(){var e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);var n=this.object&&"function"===typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(e,t){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);var r={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:"number"===typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(r),r},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(var n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},n&&n.name&&"function"===typeof n.clone){var r=n.clone(0);r.inherited=!0,this.object.materials.push(r)}this.objects.push(this.object)},finalize:function(){this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseNormalIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseUVIndex:function(e,t){var n=parseInt(e,10);return 2*(n>=0?n-1:n+t/2)},addVertex:function(e,t,n){var r=this.vertices,i=this.object.geometry.vertices;i.push(r[e+0],r[e+1],r[e+2]),i.push(r[t+0],r[t+1],r[t+2]),i.push(r[n+0],r[n+1],r[n+2])},addVertexPoint:function(e){var t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){var t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,n){var r=this.normals,i=this.object.geometry.normals;i.push(r[e+0],r[e+1],r[e+2]),i.push(r[t+0],r[t+1],r[t+2]),i.push(r[n+0],r[n+1],r[n+2])},addFaceNormal:function(e,t,n){var r=this.vertices,i=this.object.geometry.normals;l.fromArray(r,e),c.fromArray(r,t),h.fromArray(r,n),g.subVectors(h,c),d.subVectors(l,c),g.cross(d),g.normalize(),i.push(g.x,g.y,g.z),i.push(g.x,g.y,g.z),i.push(g.x,g.y,g.z)},addColor:function(e,t,n){var r=this.colors,i=this.object.geometry.colors;void 0!==r[e]&&i.push(r[e+0],r[e+1],r[e+2]),void 0!==r[t]&&i.push(r[t+0],r[t+1],r[t+2]),void 0!==r[n]&&i.push(r[n+0],r[n+1],r[n+2])},addUV:function(e,t,n){var r=this.uvs,i=this.object.geometry.uvs;i.push(r[e+0],r[e+1]),i.push(r[t+0],r[t+1]),i.push(r[n+0],r[n+1])},addDefaultUV:function(){var e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){var t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,n,r,i,a,o,s,u){var l=this.vertices.length,c=this.parseVertexIndex(e,l),h=this.parseVertexIndex(t,l),d=this.parseVertexIndex(n,l);if(this.addVertex(c,h,d),this.addColor(c,h,d),void 0!==o&&""!==o){var g=this.normals.length;c=this.parseNormalIndex(o,g),h=this.parseNormalIndex(s,g),d=this.parseNormalIndex(u,g),this.addNormal(c,h,d)}else this.addFaceNormal(c,h,d);if(void 0!==r&&""!==r){var p=this.uvs.length;c=this.parseUVIndex(r,p),h=this.parseUVIndex(i,p),d=this.parseUVIndex(a,p),this.addUV(c,h,d),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";for(var t=this.vertices.length,n=0,r=e.length;n<r;n++){var i=this.parseVertexIndex(e[n],t);this.addVertexPoint(i),this.addColor(i)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var n=this.vertices.length,r=this.uvs.length,i=0,a=e.length;i<a;i++)this.addVertexLine(this.parseVertexIndex(e[i],n));for(var o=0,s=t.length;o<s;o++)this.addUVLine(this.parseUVIndex(t[o],r))}};return e.startObject("",!1),e}var b=function(e){v(n,e);var t=y(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).materials=null,r}return f(n,[{key:"load",value:function(e,t,n,i){var a=this,o=new r.FileLoader(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{t(a.parse(n))}catch(r){i?i(r):console.error(r),a.manager.itemError(e)}}),n,i)}},{key:"setMaterials",value:function(e){return this.materials=e,this}},{key:"parse",value:function(e){var t=new A;-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,""));for(var n=e.split("\n"),l=[],c=0,h=n.length;c<h;c++){var d=n[c].trimStart();if(0!==d.length){var g=d.charAt(0);if("#"!==g)if("v"===g){var p=d.split(u);switch(p[0]){case"v":t.vertices.push(parseFloat(p[1]),parseFloat(p[2]),parseFloat(p[3])),p.length>=7?(m.setRGB(parseFloat(p[4]),parseFloat(p[5]),parseFloat(p[6])).convertSRGBToLinear(),t.colors.push(m.r,m.g,m.b)):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(p[1]),parseFloat(p[2]),parseFloat(p[3]));break;case"vt":t.uvs.push(parseFloat(p[1]),parseFloat(p[2]))}}else if("f"===g){for(var f=d.slice(1).trim().split(u),v=[],y=0,b=f.length;y<b;y++){var x=f[y];if(x.length>0){var w=x.split("/");v.push(w)}}for(var E=v[0],_=1,C=v.length-1;_<C;_++){var M=v[_],S=v[_+1];t.addFace(E[0],M[0],S[0],E[1],M[1],S[1],E[2],M[2],S[2])}}else if("l"===g){var I=d.substring(1).trim().split(" "),T=[],k=[];if(-1===d.indexOf("/"))T=I;else for(var R=0,L=I.length;R<L;R++){var B=I[R].split("/");""!==B[0]&&T.push(B[0]),""!==B[1]&&k.push(B[1])}t.addLineGeometry(T,k)}else if("p"===g){var D=d.slice(1).trim().split(" ");t.addPointGeometry(D)}else if(null!==(l=i.exec(d))){var P=(" "+l[0].slice(1).trim()).slice(1);t.startObject(P)}else if(o.test(d))t.object.startMaterial(d.substring(7).trim(),t.materialLibraries);else if(a.test(d))t.materialLibraries.push(d.substring(7).trim());else if(s.test(d))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if("s"===g){if((l=d.split(" ")).length>1){var O=l[1].trim().toLowerCase();t.object.smooth="0"!==O&&"off"!==O}else t.object.smooth=!0;var N=t.object.currentMaterial();N&&(N.smooth=t.object.smooth)}else{if("\0"===d)continue;console.warn('THREE.OBJLoader: Unexpected line: "'+d+'"')}}}t.finalize();var F=new r.Group;if(F.materialLibraries=[].concat(t.materialLibraries),!0===!(1===t.objects.length&&0===t.objects[0].geometry.vertices.length))for(var U=0,z=t.objects.length;U<z;U++){var j=t.objects[U],H=j.geometry,G=j.materials,V="Line"===H.type,Q="Points"===H.type,W=!1;if(0!==H.vertices.length){var q=new r.BufferGeometry;q.setAttribute("position",new r.Float32BufferAttribute(H.vertices,3)),H.normals.length>0&&q.setAttribute("normal",new r.Float32BufferAttribute(H.normals,3)),H.colors.length>0&&(W=!0,q.setAttribute("color",new r.Float32BufferAttribute(H.colors,3))),!0===H.hasUVIndices&&q.setAttribute("uv",new r.Float32BufferAttribute(H.uvs,2));for(var K=[],X=0,Z=G.length;X<Z;X++){var Y=G[X],J=Y.name+"_"+Y.smooth+"_"+W,$=t.materials[J];if(null!==this.materials)if($=this.materials.create(Y.name),!V||!$||$ instanceof r.LineBasicMaterial){if(Q&&$&&!($ instanceof r.PointsMaterial)){var ee=new r.PointsMaterial({size:10,sizeAttenuation:!1});r.Material.prototype.copy.call(ee,$),ee.color.copy($.color),ee.map=$.map,$=ee}}else{var te=new r.LineBasicMaterial;r.Material.prototype.copy.call(te,$),te.color.copy($.color),$=te}void 0===$&&(($=V?new r.LineBasicMaterial:Q?new r.PointsMaterial({size:1,sizeAttenuation:!1}):new r.MeshPhongMaterial).name=Y.name,$.flatShading=!Y.smooth,$.vertexColors=W,t.materials[J]=$),K.push($)}var ne=void 0;if(K.length>1){for(var re=0,ie=G.length;re<ie;re++){var ae=G[re];q.addGroup(ae.groupStart,ae.groupCount,re)}ne=V?new r.LineSegments(q,K):Q?new r.Points(q,K):new r.Mesh(q,K)}else ne=V?new r.LineSegments(q,K[0]):Q?new r.Points(q,K[0]):new r.Mesh(q,K[0]);ne.name=j.name,F.add(ne)}}else if(t.vertices.length>0){var oe=new r.PointsMaterial({size:1,sizeAttenuation:!1}),se=new r.BufferGeometry;se.setAttribute("position",new r.Float32BufferAttribute(t.vertices,3)),t.colors.length>0&&void 0!==t.colors[0]&&(se.setAttribute("color",new r.Float32BufferAttribute(t.colors,3)),oe.vertexColors=!0);var ue=new r.Points(se,oe);F.add(ue)}return F}}]),n}(r.Loader)},"./node_modules/super-three/examples/jsm/utils/BufferGeometryUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,{computeMikkTSpaceTangents:function(){return a},computeMorphedAttributes:function(){return f},computeTangents:function(){return i},deepCloneAttribute:function(){return u},deinterleaveAttribute:function(){return c},deinterleaveGeometry:function(){return h},estimateBytesUsed:function(){return d},interleaveAttributes:function(){return l},mergeBufferAttributes:function(){return s},mergeBufferGeometries:function(){return o},mergeGroups:function(){return m},mergeVertices:function(){return g},toCreasedNormals:function(){return v},toTrianglesDrawMode:function(){return p}});var r=n("./node_modules/super-three/build/three.module.js");function i(){throw new Error("BufferGeometryUtils: computeTangents renamed to computeMikkTSpaceTangents.")}function a(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||!t.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!e.hasAttribute("position")||!e.hasAttribute("normal")||!e.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function i(e){if(e.normalized||e.isInterleavedBufferAttribute){for(var t=new Float32Array(e.getCount()*e.itemSize),n=0,r=0;n<e.getCount();n++)t[r++]=e.getX(n),t[r++]=e.getY(n),e.itemSize>2&&(t[r++]=e.getZ(n));return t}return e.array instanceof Float32Array?e.array:new Float32Array(e.array)}var a=e.index?e.toNonIndexed():e,o=t.generateTangents(i(a.attributes.position),i(a.attributes.normal),i(a.attributes.uv));if(n)for(var s=3;s<o.length;s+=4)o[s]*=-1;return a.setAttribute("tangent",new r.BufferAttribute(o,4)),e!==a&&e.copy(a),e}function o(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=null!==e[0].index,i=new Set(Object.keys(e[0].attributes)),a=new Set(Object.keys(e[0].morphAttributes)),o={},u={},l=e[0].morphTargetsRelative,c=new r.BufferGeometry,h=0,d=0;d<e.length;++d){var g=e[d],p=0;if(n!==(null!==g.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(var f in g.attributes){if(!i.has(f))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+'. All geometries must have compatible attributes; make sure "'+f+'" attribute exists among all geometries, or in none of them.'),null;void 0===o[f]&&(o[f]=[]),o[f].push(g.attributes[f]),p++}if(p!==i.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". Make sure all geometries have the same number of attributes."),null;if(l!==g.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(var m in g.morphAttributes){if(!a.has(m))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===u[m]&&(u[m]=[]),u[m].push(g.morphAttributes[m])}if(t){var v=void 0;if(n)v=g.index.count;else{if(void 0===g.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". The geometry must have either an index or a position attribute"),null;v=g.attributes.position.count}c.addGroup(h,v,d),h+=v}}if(n){for(var y=0,A=[],b=0;b<e.length;++b){for(var x=e[b].index,w=0;w<x.count;++w)A.push(x.getX(w)+y);y+=e[b].attributes.position.count}c.setIndex(A)}for(var E in o){var _=s(o[E]);if(!_)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+E+" attribute."),null;c.setAttribute(E,_)}for(var C in u){var M=u[C][0].length;if(0===M)break;c.morphAttributes=c.morphAttributes||{},c.morphAttributes[C]=[];for(var S=0;S<M;++S){for(var I=[],T=0;T<u[C].length;++T)I.push(u[C][T][S]);var k=s(I);if(!k)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+C+" morphAttribute."),null;c.morphAttributes[C].push(k)}}return c}function s(e){for(var t,n,i,a=0,o=0;o<e.length;++o){var s=e[o];if(s.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===t&&(t=s.array.constructor),t!==s.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===n&&(n=s.itemSize),n!==s.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===i&&(i=s.normalized),i!==s.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;a+=s.array.length}for(var u=new t(a),l=0,c=0;c<e.length;++c)u.set(e[c].array,l),l+=e[c].array.length;return new r.BufferAttribute(u,n,i)}function u(e){return e.isInstancedInterleavedBufferAttribute||e.isInterleavedBufferAttribute?c(e):e.isInstancedBufferAttribute?(new r.InstancedBufferAttribute).copy(e):(new r.BufferAttribute).copy(e)}function l(e){for(var t,n=0,i=0,a=0,o=e.length;a<o;++a){var s=e[a];if(void 0===t&&(t=s.array.constructor),t!==s.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;n+=s.array.length,i+=s.itemSize}for(var u=new r.InterleavedBuffer(new t(n),i),l=0,c=[],h=["getX","getY","getZ","getW"],d=["setX","setY","setZ","setW"],g=0,p=e.length;g<p;g++){var f=e[g],m=f.itemSize,v=f.count,y=new r.InterleavedBufferAttribute(u,m,l,f.normalized);c.push(y),l+=m;for(var A=0;A<v;A++)for(var b=0;b<m;b++)y[d[b]](A,f[h[b]](A))}return c}function c(e){var t,n=e.data.array.constructor,i=e.count,a=e.itemSize,o=e.normalized,s=new n(i*a);t=e.isInstancedInterleavedBufferAttribute?new r.InstancedBufferAttribute(s,a,o,e.meshPerAttribute):new r.BufferAttribute(s,a,o);for(var u=0;u<i;u++)t.setX(u,e.getX(u)),a>=2&&t.setY(u,e.getY(u)),a>=3&&t.setZ(u,e.getZ(u)),a>=4&&t.setW(u,e.getW(u));return t}function h(e){var t=e.attributes,n=e.morphTargets,r=new Map;for(var i in t){var a=t[i];a.isInterleavedBufferAttribute&&(r.has(a)||r.set(a,c(a)),t[i]=r.get(a))}for(var o in n){var s=n[o];s.isInterleavedBufferAttribute&&(r.has(s)||r.set(s,c(s)),n[o]=r.get(s))}}function d(e){var t=0;for(var n in e.attributes){var r=e.getAttribute(n);t+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}var i=e.getIndex();return t+=i?i.count*i.itemSize*i.array.BYTES_PER_ELEMENT:0}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;t=Math.max(t,Number.EPSILON);for(var n={},i=e.getIndex(),a=e.getAttribute("position"),o=i?i.count:a.count,s=0,u=Object.keys(e.attributes),l={},c={},h=[],d=["getX","getY","getZ","getW"],g=["setX","setY","setZ","setW"],p=0,f=u.length;p<f;p++){var m=u[p],v=e.attributes[m];l[m]=new r.BufferAttribute(new v.array.constructor(v.count*v.itemSize),v.itemSize,v.normalized);var y=e.morphAttributes[m];y&&(c[m]=new r.BufferAttribute(new y.array.constructor(y.count*y.itemSize),y.itemSize,y.normalized))}for(var A=Math.log10(1/t),b=Math.pow(10,A),x=0;x<o;x++){for(var w=i?i.getX(x):x,E="",_=0,C=u.length;_<C;_++)for(var M=u[_],S=e.getAttribute(M),I=S.itemSize,T=0;T<I;T++)E+="".concat(~~(S[d[T]](w)*b),",");if(E in n)h.push(n[E]);else{for(var k=0,R=u.length;k<R;k++)for(var L=u[k],B=e.getAttribute(L),D=e.morphAttributes[L],P=B.itemSize,O=l[L],N=c[L],F=0;F<P;F++){var U=d[F],z=g[F];if(O[z](s,B[U](w)),D)for(var j=0,H=D.length;j<H;j++)N[j][z](s,D[j][U](w))}n[E]=s,h.push(s),s++}}var G=e.clone();for(var V in e.attributes){var Q=l[V];if(G.setAttribute(V,new r.BufferAttribute(Q.array.slice(0,s*Q.itemSize),Q.itemSize,Q.normalized)),V in c)for(var W=0;W<c[V].length;W++){var q=c[V][W];G.morphAttributes[V][W]=new r.BufferAttribute(q.array.slice(0,s*q.itemSize),q.itemSize,q.normalized)}}return G.setIndex(h),G}function p(e,t){if(t===r.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===r.TriangleFanDrawMode||t===r.TriangleStripDrawMode){var n=e.getIndex();if(null===n){var i=[],a=e.getAttribute("position");if(void 0===a)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var o=0;o<a.count;o++)i.push(o);e.setIndex(i),n=e.getIndex()}var s=n.count-2,u=[];if(t===r.TriangleFanDrawMode)for(var l=1;l<=s;l++)u.push(n.getX(0)),u.push(n.getX(l)),u.push(n.getX(l+1));else for(var c=0;c<s;c++)c%2===0?(u.push(n.getX(c)),u.push(n.getX(c+1)),u.push(n.getX(c+2))):(u.push(n.getX(c+2)),u.push(n.getX(c+1)),u.push(n.getX(c)));u.length/3!==s&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var h=e.clone();return h.setIndex(u),h.clearGroups(),h}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}function f(e){if(!0!==e.geometry.isBufferGeometry)return console.error("THREE.BufferGeometryUtils: Geometry is not of type BufferGeometry."),null;var t=new r.Vector3,n=new r.Vector3,i=new r.Vector3,a=new r.Vector3,o=new r.Vector3,s=new r.Vector3,u=new r.Vector3,l=new r.Vector3,c=new r.Vector3;function h(e,r,h,d,g,p,f,m){t.fromBufferAttribute(r,g),n.fromBufferAttribute(r,p),i.fromBufferAttribute(r,f);var v=e.morphTargetInfluences;if(h&&v){u.set(0,0,0),l.set(0,0,0),c.set(0,0,0);for(var y=0,A=h.length;y<A;y++){var b=v[y],x=h[y];0!==b&&(a.fromBufferAttribute(x,g),o.fromBufferAttribute(x,p),s.fromBufferAttribute(x,f),d?(u.addScaledVector(a,b),l.addScaledVector(o,b),c.addScaledVector(s,b)):(u.addScaledVector(a.sub(t),b),l.addScaledVector(o.sub(n),b),c.addScaledVector(s.sub(i),b)))}t.add(u),n.add(l),i.add(c)}e.isSkinnedMesh&&(e.boneTransform(g,t),e.boneTransform(p,n),e.boneTransform(f,i)),m[3*g+0]=t.x,m[3*g+1]=t.y,m[3*g+2]=t.z,m[3*p+0]=n.x,m[3*p+1]=n.y,m[3*p+2]=n.z,m[3*f+0]=i.x,m[3*f+1]=i.y,m[3*f+2]=i.z}var d,g,p,f,m,v,y,A,b=e.geometry,x=e.material,w=b.index,E=b.attributes.position,_=b.morphAttributes.position,C=b.morphTargetsRelative,M=b.attributes.normal,S=b.morphAttributes.position,I=b.groups,T=b.drawRange,k=new Float32Array(E.count*E.itemSize),R=new Float32Array(M.count*M.itemSize);if(null!==w)if(Array.isArray(x))for(f=0,v=I.length;f<v;f++)for(A=I[f],m=Math.max(A.start,T.start),y=Math.min(A.start+A.count,T.start+T.count);m<y;m+=3)h(e,E,_,C,d=w.getX(m),g=w.getX(m+1),p=w.getX(m+2),k),h(e,M,S,C,d,g,p,R);else for(f=Math.max(0,T.start),v=Math.min(w.count,T.start+T.count);f<v;f+=3)h(e,E,_,C,d=w.getX(f),g=w.getX(f+1),p=w.getX(f+2),k),h(e,M,S,C,d,g,p,R);else if(Array.isArray(x))for(f=0,v=I.length;f<v;f++)for(A=I[f],m=Math.max(A.start,T.start),y=Math.min(A.start+A.count,T.start+T.count);m<y;m+=3)h(e,E,_,C,d=m,g=m+1,p=m+2,k),h(e,M,S,C,d,g,p,R);else for(f=Math.max(0,T.start),v=Math.min(E.count,T.start+T.count);f<v;f+=3)h(e,E,_,C,d=f,g=f+1,p=f+2,k),h(e,M,S,C,d,g,p,R);return{positionAttribute:E,normalAttribute:M,morphedPositionAttribute:new r.Float32BufferAttribute(k,3),morphedNormalAttribute:new r.Float32BufferAttribute(R,3)}}function m(e){if(0===e.groups.length)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),e;var t=e.groups;if(t=t.sort((function(e,t){return e.materialIndex!==t.materialIndex?e.materialIndex-t.materialIndex:e.start-t.start})),null===e.getIndex()){for(var n=e.getAttribute("position"),r=[],i=0;i<n.count;i+=3)r.push(i,i+1,i+2);e.setIndex(r)}for(var a=e.getIndex(),o=[],s=0;s<t.length;s++)for(var u=t[s],l=u.start,c=l+u.count,h=l;h<c;h++)o.push(a.getX(h));e.dispose(),e.setIndex(o);for(var d=0,g=0;g<t.length;g++){var p=t[g];p.start=d,d+=p.count}var f=t[0];e.groups=[f];for(var m=1;m<t.length;m++){var v=t[m];f.materialIndex===v.materialIndex?f.count+=v.count:(f=v,e.groups.push(f))}return e}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.PI/3,n=Math.cos(t),i=100*(1+1e-10),a=[new r.Vector3,new r.Vector3,new r.Vector3],o=new r.Vector3,s=new r.Vector3,u=new r.Vector3,l=new r.Vector3;function c(e){var t=~~(e.x*i),n=~~(e.y*i),r=~~(e.z*i);return"".concat(t,",").concat(n,",").concat(r)}for(var h=e.toNonIndexed(),d=h.attributes.position,g={},p=0,f=d.count/3;p<f;p++){var m=3*p,v=a[0].fromBufferAttribute(d,m+0),y=a[1].fromBufferAttribute(d,m+1),A=a[2].fromBufferAttribute(d,m+2);o.subVectors(A,y),s.subVectors(v,y);for(var b=(new r.Vector3).crossVectors(o,s).normalize(),x=0;x<3;x++){var w=c(a[x]);w in g||(g[w]=[]),g[w].push(b)}}for(var E=new Float32Array(3*d.count),_=new r.BufferAttribute(E,3,!1),C=0,M=d.count/3;C<M;C++){var S=3*C,I=a[0].fromBufferAttribute(d,S+0),T=a[1].fromBufferAttribute(d,S+1),k=a[2].fromBufferAttribute(d,S+2);o.subVectors(k,T),s.subVectors(I,T),u.crossVectors(o,s).normalize();for(var R=0;R<3;R++){var L=g[c(a[R])];l.set(0,0,0);for(var B=0,D=L.length;B<D;B++){var P=L[B];u.dot(P)>n&&l.add(P)}l.normalize(),_.setXYZ(S+R,l.x,l.y,l.z)}}return h.setAttribute("normal",_),h}},"./node_modules/super-three/examples/jsm/utils/WorkerPool.js":function(e,t,n){"use strict";n.r(t),n.d(t,{WorkerPool:function(){return r}});var r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;p(this,e),this.pool=t,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}return f(e,[{key:"_initWorker",value:function(e){if(!this.workers[e]){var t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}},{key:"_getIdleWorker",value:function(){for(var e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}},{key:"_onMessage",value:function(e,t){var n=this.workersResolve[e];if(n&&n(t),this.queue.length){var r=this.queue.shift(),i=r.resolve,a=r.msg,o=r.transfer;this.workersResolve[e]=i,this.workers[e].postMessage(a,o)}else this.workerStatus^=1<<e}},{key:"setWorkerCreator",value:function(e){this.workerCreator=e}},{key:"setWorkerLimit",value:function(e){this.pool=e}},{key:"postMessage",value:function(e,t){var n=this;return new Promise((function(r){var i=n._getIdleWorker();-1!==i?(n._initWorker(i),n.workerStatus|=1<<i,n.workersResolve[i]=r,n.workers[i].postMessage(e,t)):n.queue.push({resolve:r,msg:e,transfer:t})}))}},{key:"dispose",value:function(){this.workers.forEach((function(e){return e.terminate()})),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}]),e}()},"./package.json":function(e){"use strict";e.exports=JSON.parse('{"name":"aframe","version":"1.4.2","description":"A web framework for building virtual reality experiences.","homepage":"https://aframe.io/","main":"dist/aframe-master.js","scripts":{"dev":"cross-env INSPECTOR_VERSION=dev webpack serve --port 8080","dist":"node scripts/updateVersionLog.js && npm run dist:min && npm run dist:max","dist:max":"webpack --config webpack.config.js","dist:min":"webpack --config webpack.prod.config.js","docs":"markserv --dir docs --port 9001","preghpages":"node ./scripts/preghpages.js","ghpages":"ghpages -p gh-pages/","lint":"semistandard -v | snazzy","lint:fix":"semistandard --fix","precommit":"npm run lint","prepush":"node scripts/testOnlyCheck.js","prerelease":"node scripts/release.js 1.4.1 1.4.2","start":"npm run dev","start:https":"npm run dev -- --server-type https","test":"karma start ./tests/karma.conf.js","test:docs":"node scripts/docsLint.js","test:firefox":"npm test -- --browsers Firefox","test:chrome":"npm test -- --browsers Chrome","test:nobrowser":"NO_BROWSER=true npm test","test:node":"mocha --ui tdd tests/node"},"repository":"aframevr/aframe","license":"MIT","files":["dist/*","docs/**/*","src/**/*","vendor/**/*"],"dependencies":{"buffer":"^6.0.3","custom-event-polyfill":"^1.0.6","debug":"ngokevin/debug#noTimestamp","deep-assign":"^2.0.0","@ungap/custom-elements":"^1.1.0","load-bmfont":"^1.2.3","object-assign":"^4.0.1","present":"0.0.6","promise-polyfill":"^3.1.0","super-animejs":"^3.1.0","super-three":"^0.147.1","three-bmfont-text":"dmarcos/three-bmfont-text#21d017046216e318362c48abd1a48bddfb6e0733","webvr-polyfill":"^0.10.12"},"devDependencies":{"@babel/core":"^7.17.10","babel-loader":"^8.2.5","babel-plugin-istanbul":"^6.1.1","chai":"^4.3.6","chai-shallow-deep-equal":"^1.4.0","chalk":"^1.1.3","cross-env":"^7.0.3","css-loader":"^6.7.1","ghpages":"0.0.8","git-rev":"^0.2.1","glob":"^8.0.3","husky":"^0.11.7","jsdom":"^20.0.0","karma":"^6.4.0","karma-chai-shallow-deep-equal":"0.0.4","karma-chrome-launcher":"^3.1.1","karma-coverage":"^2.2.0","karma-env-preprocessor":"^0.1.1","karma-firefox-launcher":"^2.1.2","karma-mocha":"^2.0.1","karma-mocha-reporter":"^2.2.5","karma-sinon-chai":"^2.0.2","karma-webpack":"^5.0.0","markserv":"github:sukima/markserv#feature/fix-broken-websoketio-link","mocha":"^10.0.0","replace-in-file":"^2.5.3","semistandard":"^9.0.0","shelljs":"^0.7.7","shx":"^0.2.2","sinon":"<12.0.0","sinon-chai":"^3.7.0","snazzy":"^5.0.0","style-loader":"^3.3.1","too-wordy":"ngokevin/too-wordy","webpack":"^5.73.0","webpack-cli":"^4.10.0","webpack-dev-server":"^4.11.0","webpack-merge":"^5.8.0","write-good":"^1.0.8"},"link":true,"semistandard":{"ignore":["build/**","dist/**","examples/**/shaders/*.js","**/vendor/**"]},"keywords":["3d","aframe","cardboard","components","oculus","three","three.js","rift","vive","vr","quest","meta","web-components","webvr","webxr"],"engines":{"node":">= 4.6.0","npm":">= 2.15.9"}}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}return n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.b=document.baseURI||self.location.href,n.nc=void 0,n("./src/index.js")}()},e.exports=r()},1189:function(e,t,n){var r=n(7424).default,i=n(861).default;e.exports=function(e){return i(e).reduce((function(e,t){var n=r(t,2),i=n[0],a=n[1];return e[i]=a,e}),{})}},9010:function(e){e.exports=function(e){!function(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}(e);var t=function(e){var t=Object.create(null);return{on:function(n,r,i){if("function"!==typeof r)throw new Error("callback is expected to be a function");var a=t[n];return a||(a=t[n]=[]),a.push({callback:r,ctx:i}),e},off:function(n,r){if("undefined"===typeof n)return t=Object.create(null),e;if(t[n])if("function"!==typeof r)delete t[n];else for(var i=t[n],a=0;a<i.length;++a)i[a].callback===r&&i.splice(a,1);return e},fire:function(n){var r,i=t[n];if(!i)return e;arguments.length>1&&(r=Array.prototype.splice.call(arguments,1));for(var a=0;a<i.length;++a){var o=i[a];o.callback.apply(o.ctx,r)}return e}}}(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e}},2070:function(e,t,n){e.exports=function(e,t){if(!e)throw new Error("Graph structure cannot be undefined");var a=(t&&t.createSimulator||n(8618))(t);if(Array.isArray(t))throw new Error("Physics settings is expected to be an object");var o=e.version>19?function(t){var n=e.getLinks(t);return n?1+n.size/3:1}:function(t){var n=e.getLinks(t);return n?1+n.length/3:1};t&&"function"===typeof t.nodeMass&&(o=t.nodeMass);var s=new Map,u={},l=0,c=a.settings.springTransform||i;l=0,e.forEachNode((function(e){m(e.id),l+=1})),e.forEachLink(y),e.on("changed",f);var h=!1,d={step:function(){if(0===l)return g(!0),!0;var e=a.step();d.lastMove=e,d.fire("step");var t=e/l<=.01;return g(t),t},getNodePosition:function(e){return x(e).pos},setNodePosition:function(e){var t=x(e);t.setPosition.apply(t,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(e){var t=u[e];if(t)return{from:t.from.pos,to:t.to.pos}},getGraphRect:function(){return a.getBBox()},forEachBody:p,pinNode:function(e,t){x(e.id).isPinned=!!t},isNodePinned:function(e){return x(e.id).isPinned},dispose:function(){e.off("changed",f),d.fire("disposed")},getBody:function(e){return s.get(e)},getSpring:function(t,n){var r;if(void 0===n)r="object"!==typeof t?t:t.id;else{var i=e.hasLink(t,n);if(!i)return;r=i.id}return u[r]},getForceVectorLength:function(){var e=0,t=0;return p((function(n){e+=Math.abs(n.force.x),t+=Math.abs(n.force.y)})),Math.sqrt(e*e+t*t)},simulator:a,graph:e,lastMove:0};return r(d),d;function g(e){var t;h!==e&&(h=e,t=e,d.fire("stable",t))}function p(e){s.forEach(e)}function f(t){for(var n=0;n<t.length;++n){var r=t[n];"add"===r.changeType?(r.node&&m(r.node.id),r.link&&y(r.link)):"remove"===r.changeType&&(r.node&&v(r.node),r.link&&A(r.link))}l=e.getNodesCount()}function m(t){var n=s.get(t);if(!n){var r=e.getNode(t);if(!r)throw new Error("initBody() was called with unknown node id");var i=r.position;if(!i){var o=function(e){var t=[];if(!e.links)return t;for(var n=Math.min(e.links.length,2),r=0;r<n;++r){var i=e.links[r],a=i.fromId!==e.id?s.get(i.fromId):s.get(i.toId);a&&a.pos&&t.push(a)}return t}(r);i=a.getBestNewBodyPosition(o)}(n=a.addBodyAt(i)).id=t,s.set(t,n),b(t),function(e){return e&&(e.isPinned||e.data&&e.data.isPinned)}(r)&&(n.isPinned=!0)}}function v(e){var t=e.id,n=s.get(t);n&&(s.delete(t),a.removeBody(n))}function y(e){b(e.fromId),b(e.toId);var t=s.get(e.fromId),n=s.get(e.toId),r=a.addSpring(t,n,e.length);c(e,r),u[e.id]=r}function A(t){var n=u[t.id];if(n){var r=e.getNode(t.fromId),i=e.getNode(t.toId);r&&b(r.id),i&&b(i.id),delete u[t.id],a.removeSpring(n)}}function b(e){var t=s.get(e);if(t.mass=o(e),Number.isNaN(t.mass))throw new Error("Node mass should be a number")}function x(e){var t=s.get(e);return t||(m(e),t=s.get(e)),t}},e.exports.simulator=n(8618);var r=n(9010);function i(){}},5842:function(e,t,n){var r=n(2302);e.exports=function(e){return function(t,n){for(var i=n&&n.indent||0,a=n&&void 0!==n.join?n.join:"\n",o=Array(i+1).join(" "),s=[],u=0;u<e;++u){var l=r(u),c=0===u?"":o;s.push(c+t.replace(/{var}/g,l))}return s.join(a)}}},1282:function(e,t,n){e.exports=function(e){var t=i(e);return new Function("bodies","settings","random",t)},e.exports.generateFunctionBody=i;var r=n(5842);function i(e){var t=r(e);return"\n  var boundingBox = {\n    ".concat(t("min_{var}: 0, max_{var}: 0,",{indent:4}),"\n  };\n\n  return {\n    box: boundingBox,\n\n    update: updateBoundingBox,\n\n    reset: resetBoundingBox,\n\n    getBestNewPosition: function (neighbors) {\n      var ").concat(t("base_{var} = 0",{join:", "}),";\n\n      if (neighbors.length) {\n        for (var i = 0; i < neighbors.length; ++i) {\n          let neighborPos = neighbors[i].pos;\n          ").concat(t("base_{var} += neighborPos.{var};",{indent:10}),"\n        }\n\n        ").concat(t("base_{var} /= neighbors.length;",{indent:8}),"\n      } else {\n        ").concat(t("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8}),"\n      }\n\n      var springLength = settings.springLength;\n      return {\n        ").concat(t("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8}),"\n      };\n    }\n  };\n\n  function updateBoundingBox() {\n    var i = bodies.length;\n    if (i === 0) return; // No bodies - no borders.\n\n    ").concat(t("var max_{var} = -Infinity;",{indent:4}),"\n    ").concat(t("var min_{var} = Infinity;",{indent:4}),"\n\n    while(i--) {\n      // this is O(n), it could be done faster with quadtree, if we check the root node bounds\n      var bodyPos = bodies[i].pos;\n      ").concat(t("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6}),"\n      ").concat(t("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6}),"\n    }\n\n    ").concat(t("boundingBox.min_{var} = min_{var};",{indent:4}),"\n    ").concat(t("boundingBox.max_{var} = max_{var};",{indent:4}),"\n  }\n\n  function resetBoundingBox() {\n    ").concat(t("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4}),"\n  }\n")}},2525:function(e,t,n){var r=n(5842);function i(e,t){return"\n".concat(o(e,t),"\n").concat(a(e),"\nreturn {Body: Body, Vector: Vector};\n")}function a(e){var t=r(e),n=t("{var}",{join:", "});return"\nfunction Body(".concat(n,") {\n  this.isPinned = false;\n  this.pos = new Vector(").concat(n,");\n  this.force = new Vector();\n  this.velocity = new Vector();\n  this.mass = 1;\n\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.reset = function() {\n  this.force.reset();\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.setPosition = function (").concat(n,") {\n  ").concat(t("this.pos.{var} = {var} || 0;",{indent:2}),"\n};")}function o(e,t){var n=r(e),i="";t&&(i="".concat(n("\n   var v{var};\nObject.defineProperty(this, '{var}', {\n  set: function(v) { \n    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');\n    v{var} = v; \n  },\n  get: function() { return v{var}; }\n});")));var a=n("{var}",{join:", "});return"function Vector(".concat(a,") {\n  ").concat(i,"\n    if (typeof arguments[0] === 'object') {\n      // could be another vector\n      let v = arguments[0];\n      ").concat(n('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4}),"\n      ").concat(n("this.{var} = v.{var};",{indent:4}),"\n    } else {\n      ").concat(n('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4}),"\n    }\n  }\n  \n  Vector.prototype.reset = function () {\n    ").concat(n("this.{var} = ",{join:""}),"0;\n  };")}e.exports=function(e,t){var n=i(e,t);return new Function(n)().Body},e.exports.generateCreateBodyFunctionBody=i,e.exports.getVectorCode=o,e.exports.getBodyCode=a},5947:function(e,t,n){var r=n(5842);function i(e){var t=r(e);return"\n  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');\n\n  return {\n    update: function(body) {\n      ".concat(t("body.force.{var} -= options.dragCoefficient * body.velocity.{var};",{indent:6}),"\n    }\n  };\n")}e.exports=function(e){var t=i(e);return new Function("options",t)},e.exports.generateCreateDragForceFunctionBody=i},9063:function(e,t,n){var r=n(5842);function i(e){var t=r(e);return"\n  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');\n  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');\n\n  return {\n    /**\n     * Updates forces acting on a spring\n     */\n    update: function (spring) {\n      var body1 = spring.from;\n      var body2 = spring.to;\n      var length = spring.length < 0 ? options.springLength : spring.length;\n      ".concat(t("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6}),"\n      var r = Math.sqrt(").concat(t("d{var} * d{var}",{join:" + "}),");\n\n      if (r === 0) {\n        ").concat(t("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8}),"\n        r = Math.sqrt(").concat(t("d{var} * d{var}",{join:" + "}),");\n      }\n\n      var d = r - length;\n      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;\n\n      ").concat(t("body1.force.{var} += coefficient * d{var}",{indent:6}),";\n      body1.springCount += 1;\n      body1.springLength += r;\n\n      ").concat(t("body2.force.{var} -= coefficient * d{var}",{indent:6}),";\n      body2.springCount += 1;\n      body2.springLength += r;\n    }\n  };\n")}e.exports=function(e){var t=i(e);return new Function("options","random",t)},e.exports.generateCreateSpringForceFunctionBody=i},100:function(e,t,n){var r=n(5842);function i(e){var t=r(e);return"\n  var length = bodies.length;\n  if (length === 0) return 0;\n\n  ".concat(t("var d{var} = 0, t{var} = 0;",{indent:2}),"\n\n  for (var i = 0; i < length; ++i) {\n    var body = bodies[i];\n    if (body.isPinned) continue;\n\n    if (adaptiveTimeStepWeight && body.springCount) {\n      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);\n    }\n\n    var coeff = timeStep / body.mass;\n\n    ").concat(t("body.velocity.{var} += coeff * body.force.{var};",{indent:4}),"\n    ").concat(t("var v{var} = body.velocity.{var};",{indent:4}),"\n    var v = Math.sqrt(").concat(t("v{var} * v{var}",{join:" + "}),");\n\n    if (v > 1) {\n      // We normalize it so that we move within timeStep range. \n      // for the case when v <= 1 - we let velocity to fade out.\n      ").concat(t("body.velocity.{var} = v{var} / v;",{indent:6}),"\n    }\n\n    ").concat(t("d{var} = timeStep * body.velocity.{var};",{indent:4}),"\n\n    ").concat(t("body.pos.{var} += d{var};",{indent:4}),"\n\n    ").concat(t("t{var} += Math.abs(d{var});",{indent:4}),"\n  }\n\n  return (").concat(t("t{var} * t{var}",{join:" + "}),")/length;\n")}e.exports=function(e){var t=i(e);return new Function("bodies","timeStep","adaptiveTimeStepWeight",t)},e.exports.generateIntegratorFunctionBody=i},6547:function(e,t,n){var r=n(5842),i=n(2302);function a(e){var t=r(e),n=Math.pow(2,e);return"\n".concat("\n/**\n * Our implementation of QuadTree is non-recursive to avoid GC hit\n * This data structure represent stack of elements\n * which we are trying to insert into quad tree.\n */\nfunction InsertStack () {\n    this.stack = [];\n    this.popIdx = 0;\n}\n\nInsertStack.prototype = {\n    isEmpty: function() {\n        return this.popIdx === 0;\n    },\n    push: function (node, body) {\n        var item = this.stack[this.popIdx];\n        if (!item) {\n            // we are trying to avoid memory pressure: create new element\n            // only when absolutely necessary\n            this.stack[this.popIdx] = new InsertStackElement(node, body);\n        } else {\n            item.node = node;\n            item.body = body;\n        }\n        ++this.popIdx;\n    },\n    pop: function () {\n        if (this.popIdx > 0) {\n            return this.stack[--this.popIdx];\n        }\n    },\n    reset: function () {\n        this.popIdx = 0;\n    }\n};\n\nfunction InsertStackElement(node, body) {\n    this.node = node; // QuadTree node\n    this.body = body; // physical body which needs to be inserted to node\n}\n","\n").concat(l(e),"\n").concat(o(e),"\n").concat(u(e),"\n").concat(s(e),"\n\nfunction createQuadTree(options, random) {\n  options = options || {};\n  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;\n  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;\n\n  var gravity = options.gravity;\n  var updateQueue = [];\n  var insertStack = new InsertStack();\n  var theta = options.theta;\n\n  var nodesCache = [];\n  var currentInCache = 0;\n  var root = newNode();\n\n  return {\n    insertBodies: insertBodies,\n\n    /**\n     * Gets root node if it is present\n     */\n    getRoot: function() {\n      return root;\n    },\n\n    updateBodyForce: update,\n\n    options: function(newOptions) {\n      if (newOptions) {\n        if (typeof newOptions.gravity === 'number') {\n          gravity = newOptions.gravity;\n        }\n        if (typeof newOptions.theta === 'number') {\n          theta = newOptions.theta;\n        }\n\n        return this;\n      }\n\n      return {\n        gravity: gravity,\n        theta: theta\n      };\n    }\n  };\n\n  function newNode() {\n    // To avoid pressure on GC we reuse nodes.\n    var node = nodesCache[currentInCache];\n    if (node) {\n").concat(function(e){for(var t=[],r=0;r<n;++r)t.push("".concat(e,"quad").concat(r," = null;"));return t.join("\n")}("      node."),"\n      node.body = null;\n      node.mass = ").concat(t("node.mass_{var} = ",{join:""}),"0;\n      ").concat(t("node.min_{var} = node.max_{var} = ",{join:""}),"0;\n    } else {\n      node = new QuadNode();\n      nodesCache[currentInCache] = node;\n    }\n\n    ++currentInCache;\n    return node;\n  }\n\n  function update(sourceBody) {\n    var queue = updateQueue;\n    var v;\n    ").concat(t("var d{var};",{indent:4}),"\n    var r; \n    ").concat(t("var f{var} = 0;",{indent:4}),"\n    var queueLength = 1;\n    var shiftIdx = 0;\n    var pushIdx = 1;\n\n    queue[0] = root;\n\n    while (queueLength) {\n      var node = queue[shiftIdx];\n      var body = node.body;\n\n      queueLength -= 1;\n      shiftIdx += 1;\n      var differentBody = (body !== sourceBody);\n      if (body && differentBody) {\n        // If the current node is a leaf node (and it is not source body),\n        // calculate the force exerted by the current node on body, and add this\n        // amount to body's net force.\n        ").concat(t("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8}),"\n        r = Math.sqrt(").concat(t("d{var} * d{var}",{join:" + "}),");\n\n        if (r === 0) {\n          // Poor man's protection against zero distance.\n          ").concat(t("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10}),"\n          r = Math.sqrt(").concat(t("d{var} * d{var}",{join:" + "}),");\n        }\n\n        // This is standard gravitation force calculation but we divide\n        // by r^3 to save two operations when normalizing force vector.\n        v = gravity * body.mass * sourceBody.mass / (r * r * r);\n        ").concat(t("f{var} += v * d{var};",{indent:8}),"\n      } else if (differentBody) {\n        // Otherwise, calculate the ratio s / r,  where s is the width of the region\n        // represented by the internal node, and r is the distance between the body\n        // and the node's center-of-mass\n        ").concat(t("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8}),"\n        r = Math.sqrt(").concat(t("d{var} * d{var}",{join:" + "}),");\n\n        if (r === 0) {\n          // Sorry about code duplication. I don't want to create many functions\n          // right away. Just want to see performance first.\n          ").concat(t("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10}),"\n          r = Math.sqrt(").concat(t("d{var} * d{var}",{join:" + "}),");\n        }\n        // If s / r < \u03b8, treat this internal node as a single body, and calculate the\n        // force it exerts on sourceBody, and add this amount to sourceBody's net force.\n        if ((node.max_").concat(i(0)," - node.min_").concat(i(0),") / r < theta) {\n          // in the if statement above we consider node's width only\n          // because the region was made into square during tree creation.\n          // Thus there is no difference between using width or height.\n          v = gravity * node.mass * sourceBody.mass / (r * r * r);\n          ").concat(t("f{var} += v * d{var};",{indent:10}),"\n        } else {\n          // Otherwise, run the procedure recursively on each of the current node's children.\n\n          // I intentionally unfolded this loop, to save several CPU cycles.\n").concat(function(){for(var e=Array(11).join(" "),t=[],r=0;r<n;++r)t.push(e+"if (node.quad".concat(r,") {")),t.push(e+"  queue[pushIdx] = node.quad".concat(r,";")),t.push(e+"  queueLength += 1;"),t.push(e+"  pushIdx += 1;"),t.push(e+"}");return t.join("\n")}(),"\n        }\n      }\n    }\n\n    ").concat(t("sourceBody.force.{var} += f{var};",{indent:4}),"\n  }\n\n  function insertBodies(bodies) {\n    ").concat(t("var {var}min = Number.MAX_VALUE;",{indent:4}),"\n    ").concat(t("var {var}max = Number.MIN_VALUE;",{indent:4}),"\n    var i = bodies.length;\n\n    // To reduce quad tree depth we are looking for exact bounding box of all particles.\n    while (i--) {\n      var pos = bodies[i].pos;\n      ").concat(t("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6}),"\n      ").concat(t("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6}),"\n    }\n\n    // Makes the bounds square.\n    var maxSideLength = -Infinity;\n    ").concat(t("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4}),"\n\n    currentInCache = 0;\n    root = newNode();\n    ").concat(t("root.min_{var} = {var}min;",{indent:4}),"\n    ").concat(t("root.max_{var} = {var}min + maxSideLength;",{indent:4}),"\n\n    i = bodies.length - 1;\n    if (i >= 0) {\n      root.body = bodies[i];\n    }\n    while (i--) {\n      insert(bodies[i], root);\n    }\n  }\n\n  function insert(newBody) {\n    insertStack.reset();\n    insertStack.push(root, newBody);\n\n    while (!insertStack.isEmpty()) {\n      var stackItem = insertStack.pop();\n      var node = stackItem.node;\n      var body = stackItem.body;\n\n      if (!node.body) {\n        // This is internal node. Update the total mass of the node and center-of-mass.\n        ").concat(t("var {var} = body.pos.{var};",{indent:8}),"\n        node.mass += body.mass;\n        ").concat(t("node.mass_{var} += body.mass * {var};",{indent:8}),"\n\n        // Recursively insert the body in the appropriate quadrant.\n        // But first find the appropriate quadrant.\n        var quadIdx = 0; // Assume we are in the 0's quad.\n        ").concat(t("var min_{var} = node.min_{var};",{indent:8}),"\n        ").concat(t("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8}),"\n\n").concat(function(t){for(var n=[],r=Array(t+1).join(" "),a=0;a<e;++a)n.push(r+"if (".concat(i(a)," > max_").concat(i(a),") {")),n.push(r+"  quadIdx = quadIdx + ".concat(Math.pow(2,a),";")),n.push(r+"  min_".concat(i(a)," = max_").concat(i(a),";")),n.push(r+"  max_".concat(i(a)," = node.max_").concat(i(a),";")),n.push(r+"}");return n.join("\n")}(8),"\n\n        var child = getChild(node, quadIdx);\n\n        if (!child) {\n          // The node is internal but this quadrant is not taken. Add\n          // subnode to it.\n          child = newNode();\n          ").concat(t("child.min_{var} = min_{var};",{indent:10}),"\n          ").concat(t("child.max_{var} = max_{var};",{indent:10}),"\n          child.body = body;\n\n          setChild(node, quadIdx, child);\n        } else {\n          // continue searching in this quadrant.\n          insertStack.push(child, body);\n        }\n      } else {\n        // We are trying to add to the leaf node.\n        // We have to convert current leaf into internal node\n        // and continue adding two nodes.\n        var oldBody = node.body;\n        node.body = null; // internal nodes do not cary bodies\n\n        if (isSamePosition(oldBody.pos, body.pos)) {\n          // Prevent infinite subdivision by bumping one node\n          // anywhere in this quadrant\n          var retriesCount = 3;\n          do {\n            var offset = random.nextDouble();\n            ").concat(t("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12}),"\n\n            ").concat(t("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12}),"\n            retriesCount -= 1;\n            // Make sure we don't bump it out of the box. If we do, next iteration should fix it\n          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));\n\n          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {\n            // This is very bad, we ran out of precision.\n            // if we do not return from the method we'll get into\n            // infinite loop here. So we sacrifice correctness of layout, and keep the app running\n            // Next layout iteration should get larger bounding box in the first step and fix this\n            return;\n          }\n        }\n        // Next iteration should subdivide node further.\n        insertStack.push(node, oldBody);\n        insertStack.push(node, body);\n      }\n    }\n  }\n}\nreturn createQuadTree;\n\n")}function o(e){var t=r(e);return"\n  function isSamePosition(point1, point2) {\n    ".concat(t("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2}),"\n  \n    return ").concat(t("d{var} < 1e-8",{join:" && "}),";\n  }  \n")}function s(e){var t=Math.pow(2,e);return"\nfunction setChild(node, idx, child) {\n  ".concat(function(){for(var e=[],n=0;n<t;++n){var r=0===n?"  ":"  else ";e.push("".concat(r,"if (idx === ").concat(n,") node.quad").concat(n," = child;"))}return e.join("\n")}(),"\n}")}function u(e){return"function getChild(node, idx) {\n".concat(function(){for(var t=[],n=Math.pow(2,e),r=0;r<n;++r)t.push("  if (idx === ".concat(r,") return node.quad").concat(r,";"));return t.join("\n")}(),"\n  return null;\n}")}function l(e){var t=r(e),n=Math.pow(2,e);return"\nfunction QuadNode() {\n  // body stored inside this node. In quad tree only leaf nodes (by construction)\n  // contain bodies:\n  this.body = null;\n\n  // Child nodes are stored in quads. Each quad is presented by number:\n  // 0 | 1\n  // -----\n  // 2 | 3\n".concat(function(e){for(var t=[],r=0;r<n;++r)t.push("".concat(e,"quad").concat(r," = null;"));return t.join("\n")}("  this."),"\n\n  // Total mass of current node\n  this.mass = 0;\n\n  // Center of mass coordinates\n  ").concat(t("this.mass_{var} = 0;",{indent:2}),"\n\n  // bounding box coordinates\n  ").concat(t("this.min_{var} = 0;",{indent:2}),"\n  ").concat(t("this.max_{var} = 0;",{indent:2}),"\n}\n")}function c(){return"\n/**\n * Our implementation of QuadTree is non-recursive to avoid GC hit\n * This data structure represent stack of elements\n * which we are trying to insert into quad tree.\n */\nfunction InsertStack () {\n    this.stack = [];\n    this.popIdx = 0;\n}\n\nInsertStack.prototype = {\n    isEmpty: function() {\n        return this.popIdx === 0;\n    },\n    push: function (node, body) {\n        var item = this.stack[this.popIdx];\n        if (!item) {\n            // we are trying to avoid memory pressure: create new element\n            // only when absolutely necessary\n            this.stack[this.popIdx] = new InsertStackElement(node, body);\n        } else {\n            item.node = node;\n            item.body = body;\n        }\n        ++this.popIdx;\n    },\n    pop: function () {\n        if (this.popIdx > 0) {\n            return this.stack[--this.popIdx];\n        }\n    },\n    reset: function () {\n        this.popIdx = 0;\n    }\n};\n\nfunction InsertStackElement(node, body) {\n    this.node = node; // QuadTree node\n    this.body = body; // physical body which needs to be inserted to node\n}\n"}e.exports=function(e){var t=a(e);return new Function(t)()},e.exports.generateQuadTreeFunctionBody=a,e.exports.getInsertStackCode=c,e.exports.getQuadNodeCode=l,e.exports.isSamePosition=o,e.exports.getChildBodyCode=u,e.exports.setChildBodyCode=s},2302:function(e){e.exports=function(e){return 0===e?"x":1===e?"y":2===e?"z":"c"+(e+1)}},8618:function(e,t,n){e.exports=function(e){var t=n(7422),h=n(6147),d=n(9010);if(e){if(void 0!==e.springCoeff)throw new Error("springCoeff was renamed to springCoefficient");if(void 0!==e.dragCoeff)throw new Error("dragCoeff was renamed to dragCoefficient")}e=h(e,{springLength:10,springCoefficient:.8,gravity:-12,theta:.8,dragCoefficient:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2,debug:!1});var g=l[e.dimensions];if(!g){var p=e.dimensions;g={Body:r(p,e.debug),createQuadTree:i(p),createBounds:a(p),createDragForce:o(p),createSpringForce:s(p),integrate:u(p)},l[p]=g}var f=g.Body,m=g.createQuadTree,v=g.createBounds,y=g.createDragForce,A=g.createSpringForce,b=g.integrate,x=n(2165).random(42),w=[],E=[],_=m(e,x),C=v(w,e,x),M=A(e,x),S=y(e),I=[],T=new Map,k=0;B("nbody",(function(){if(0===w.length)return;_.insertBodies(w);var e=w.length;for(;e--;){var t=w[e];t.isPinned||(t.reset(),_.updateBodyForce(t),S.update(t))}})),B("spring",(function(){var e=E.length;for(;e--;)M.update(E[e])}));var R={bodies:w,quadTree:_,springs:E,settings:e,addForce:B,removeForce:function(e){var t=I.indexOf(T.get(e));if(t<0)return;I.splice(t,1),T.delete(e)},getForces:function(){return T},step:function(){for(var t=0;t<I.length;++t)I[t](k);var n=b(w,e.timeStep,e.adaptiveTimeStepWeight);return k+=1,n},addBody:function(e){if(!e)throw new Error("Body is required");return w.push(e),e},addBodyAt:function(e){if(!e)throw new Error("Body position is required");var t=function(e){return new f(e)}(e);return w.push(t),t},removeBody:function(e){if(e){var t=w.indexOf(e);if(!(t<0))return w.splice(t,1),0===w.length&&C.reset(),!0}},addSpring:function(e,n,r,i){if(!e||!n)throw new Error("Cannot add null spring to force simulator");"number"!==typeof r&&(r=-1);var a=new t(e,n,r,i>=0?i:-1);return E.push(a),a},getTotalMovement:function(){return 0},removeSpring:function(e){if(e){var t=E.indexOf(e);return t>-1?(E.splice(t,1),!0):void 0}},getBestNewBodyPosition:function(e){return C.getBestNewPosition(e)},getBBox:L,getBoundingBox:L,invalidateBBox:function(){console.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(t){return void 0!==t?(e.gravity=t,_.options({gravity:t}),this):e.gravity},theta:function(t){return void 0!==t?(e.theta=t,_.options({theta:t}),this):e.theta},random:x};return function(e,t){for(var n in e)c(e,t,n)}(e,R),d(R),R;function L(){return C.update(),C.box}function B(e,t){if(T.has(e))throw new Error("Force "+e+" is already added");T.set(e,t),I.push(t)}};var r=n(2525),i=n(6547),a=n(1282),o=n(5947),s=n(9063),u=n(100),l={};function c(e,t,n){if(e.hasOwnProperty(n)&&"function"!==typeof t[n]){var r=Number.isFinite(e[n]);t[n]=r?function(r){if(void 0!==r){if(!Number.isFinite(r))throw new Error("Value of "+n+" should be a valid number.");return e[n]=r,t}return e[n]}:function(r){return void 0!==r?(e[n]=r,t):e[n]}}}},7422:function(e){e.exports=function(e,t,n,r){this.from=e,this.to=t,this.length=n,this.coefficient=r}},1700:function(e,t,n){e.exports=function(e){"uniqueLinkId"in(e=e||{})&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n","\n","Note: there is also change in default behavior: From now on each graph\nis considered to be not a multigraph by default (each edge is unique)."),e.multigraph=e.uniqueLinkId);void 0===e.multigraph&&(e.multigraph=!1);if("function"!==typeof Map)throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var t=new Map,n=new Map,u={},l=0,c=e.multigraph?function(e,t,n){var r=s(e,t),i=u.hasOwnProperty(r);if(i||C(e,t)){i||(u[r]=0);var a="@"+ ++u[r];r=s(e+a,t+a)}return new o(e,t,n,r)}:function(e,t,r){var i=s(e,t),a=n.get(i);if(a)return a.data=r,a;return new o(e,t,r,i)},h=[],d=M,g=M,p=M,f=M,m={version:20,addNode:A,addLink:function(e,t,r){p();var i=b(e)||A(e),o=b(t)||A(t),s=c(e,t,r),u=n.has(s.id);n.set(s.id,s),a(i,s),e!==t&&a(o,s);return d(s,u?"update":"add"),f(),s},removeLink:function(e,t){void 0!==t&&(e=C(e,t));return _(e)},removeNode:x,getNode:b,getNodeCount:w,getLinkCount:E,getEdgeCount:E,getLinksCount:E,getNodesCount:w,getLinks:function(e){var t=b(e);return t?t.links:null},forEachNode:T,forEachLinkedNode:function(e,n,r){var i=b(e);if(i&&i.links&&"function"===typeof n)return r?function(e,n,r){var i=e.values(),a=i.next();for(;!a.done;){var o=a.value;if(o.fromId===n&&r(t.get(o.toId),o))return!0;a=i.next()}}(i.links,e,n):function(e,n,r){var i=e.values(),a=i.next();for(;!a.done;){var o=a.value,s=o.fromId===n?o.toId:o.fromId;if(r(t.get(s),o))return!0;a=i.next()}}(i.links,e,n)},forEachLink:function(e){if("function"===typeof e)for(var t=n.values(),r=t.next();!r.done;){if(e(r.value))return!0;r=t.next()}},beginUpdate:p,endUpdate:f,clear:function(){p(),T((function(e){x(e.id)})),f()},hasLink:C,hasNode:b,getLink:C};return r(m),function(){var e=m.on;function t(){return m.beginUpdate=p=S,m.endUpdate=f=I,d=v,g=y,m.on=e,e.apply(m,arguments)}m.on=t}(),m;function v(e,t){h.push({link:e,changeType:t})}function y(e,t){h.push({node:e,changeType:t})}function A(e,n){if(void 0===e)throw new Error("Invalid node identifier");p();var r=b(e);return r?(r.data=n,g(r,"update")):(r=new i(e,n),g(r,"add")),t.set(e,r),f(),r}function b(e){return t.get(e)}function x(e){var n=b(e);if(!n)return!1;p();var r=n.links;return r&&(r.forEach(_),n.links=null),t.delete(e),g(n,"remove"),f(),!0}function w(){return t.size}function E(){return n.size}function _(e){if(!e)return!1;if(!n.get(e.id))return!1;p(),n.delete(e.id);var t=b(e.fromId),r=b(e.toId);return t&&t.links.delete(e),r&&r.links.delete(e),d(e,"remove"),f(),!0}function C(e,t){if(void 0!==e&&void 0!==t)return n.get(s(e,t))}function M(){}function S(){l+=1}function I(){0===(l-=1)&&h.length>0&&(m.fire("changed",h),h.length=0)}function T(e){if("function"!==typeof e)throw new Error("Function is expected to iterate over graph nodes. You passed "+e);for(var n=t.values(),r=n.next();!r.done;){if(e(r.value))return!0;r=n.next()}}};var r=n(9010);function i(e,t){this.id=e,this.links=null,this.data=t}function a(e,t){e.links?e.links.add(t):e.links=new Set([t])}function o(e,t,n,r){this.fromId=e,this.toId=t,this.data=n,this.id=r}function s(e,t){return e.toString()+"\ud83d\udc49 "+t.toString()}},6147:function(e){e.exports=function e(t,n){var r;t||(t={});if(n)for(r in n)if(n.hasOwnProperty(r)){var i=t.hasOwnProperty(r),a=typeof n[r];!i||typeof t[r]!==a?t[r]=n[r]:"object"===a&&(t[r]=e(t[r],n[r]))}return t}},2165:function(e){function t(e){return new n("number"===typeof e?e:+new Date)}function n(e){this.seed=e}function r(e){return Math.sqrt(2*Math.PI/e)*Math.pow(1/Math.E*(e+1/(12*e-1/(10*e))),e)}function i(){var e=this.seed;return e=4294967295&(3042594569^(e=(e=4294967295&((e=(e=4294967295&(3345072700^(e=e+2127912214+(e<<12)&4294967295)^e>>>19))+374761393+(e<<5)&4294967295)+3550635116^e<<9))+4251993797+(e<<3)&4294967295)^e>>>16),this.seed=e,(268435455&e)/268435456}e.exports=t,e.exports.random=t,e.exports.randomIterator=function(e,n){var r=n||t();if("function"!==typeof r.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(t){var n,i,a;for(n=e.length-1;n>0;--n)i=r.next(n+1),a=e[i],e[i]=e[n],e[n]=a,t(a);e.length&&t(e[0])},shuffle:function(){var t,n,i;for(t=e.length-1;t>0;--t)n=r.next(t+1),i=e[n],e[n]=e[t],e[t]=i;return e}}},n.prototype.next=function(e){return Math.floor(this.nextDouble()*e)},n.prototype.nextDouble=i,n.prototype.uniform=i,n.prototype.gaussian=function(){var e,t,n;do{e=(t=2*this.nextDouble()-1)*t+(n=2*this.nextDouble()-1)*n}while(e>=1||0===e);return t*Math.sqrt(-2*Math.log(e)/e)},n.prototype.levy=function(){var e=1.5,t=Math.pow(r(2.5)*Math.sin(Math.PI*e/2)/(r(1.25)*e*Math.pow(2,.25)),1/e);return this.gaussian()*t/Math.pow(Math.abs(this.gaussian()),1/e)}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,n,r){"use strict";var i=r(2791),a=r(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function A(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(g.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,A);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,A);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,A);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),I=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),B=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var N,F=Object.assign;function U(e){if(void 0===N)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var z=!1;function j(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function H(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case E:return"Portal";case M:return"Profiler";case C:return"StrictMode";case k:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:G(e.type)||"Memo";case B:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){J(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?te(e,t.type,n):t.hasOwnProperty("defaultValue")&&te(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ee(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function te(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ne=Array.isArray;function re(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(ne(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function oe(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,he,de=(he=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return he(e,t)}))}:he);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ae(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,_e=null,Ce=null;function Me(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Ee(e.stateNode,e.type,t))}}function Se(e){_e?Ce?Ce.push(e):Ce=[e]:_e=e}function Ie(){if(_e){var e=_e,t=Ce;if(Ce=_e=null,Me(e),t)for(e=0;e<t.length;e++)Me(t[e])}}function Te(e,t){return e(t)}function ke(){}var Re=!1;function Le(e,t,n){if(Re)return e(t,n);Re=!0;try{return Te(e,t,n)}finally{Re=!1,(null!==_e||null!==Ce)&&(ke(),Ie())}}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(h)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(he){De=!1}function Oe(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Ne=!1,Fe=null,Ue=!1,ze=null,je={onError:function(e){Ne=!0,Fe=e}};function He(e,t,n,r,i,a,o,s,u){Ne=!1,Fe=null,Oe.apply(je,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(Ge(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Qe(i),e;if(a===r)return Qe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Xe=a.unstable_cancelCallback,Ze=a.unstable_shouldYield,Ye=a.unstable_requestPaint,Je=a.unstable_now,$e=a.unstable_getCurrentPriorityLevel,et=a.unstable_ImmediatePriority,tt=a.unstable_UserBlockingPriority,nt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,it=a.unstable_IdlePriority,at=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/lt|0)|0},ut=Math.log,lt=Math.LN2;var ct=64,ht=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function At(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,_t,Ct,Mt,St=!1,It=[],Tt=null,kt=null,Rt=null,Lt=new Map,Bt=new Map,Dt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bt.delete(t.pointerId)}}function Nt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=Ai(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Mt(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function zt(e,t,n){Ut(e)&&n.delete(t)}function jt(){St=!1,null!==Tt&&Ut(Tt)&&(Tt=null),null!==kt&&Ut(kt)&&(kt=null),null!==Rt&&Ut(Rt)&&(Rt=null),Lt.forEach(zt),Bt.forEach(zt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,jt)))}function Gt(e){function t(t){return Ht(t,e)}if(0<It.length){Ht(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ht(Tt,e),null!==kt&&Ht(kt,e),null!==Rt&&Ht(Rt,e),Lt.forEach(t),Bt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var Vt=x.ReactCurrentBatchConfig,Qt=!0;function Wt(e,t,n,r){var i=bt,a=Vt.transition;Vt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,Vt.transition=a}}function qt(e,t,n,r){var i=bt,a=Vt.transition;Vt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,Vt.transition=a}}function Kt(e,t,n,r){if(Qt){var i=Zt(e,t,n,r);if(null===i)Qr(e,t,r,Xt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Nt(Tt,e,t,n,r,i),!0;case"dragenter":return kt=Nt(kt,e,t,n,r,i),!0;case"mouseover":return Rt=Nt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Lt.set(a,Nt(Lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Bt.set(a,Nt(Bt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Zt(e,t,n,r))&&Qr(e,t,r,Xt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Qr(e,t,r,null,n)}}var Xt=null;function Zt(e,t,n,r){if(Xt=null,null!==(e=Ai(e=we(r))))if(null===(t=Ge(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case et:return 1;case tt:return 4;case nt:case rt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,en=null;function tn(){if(en)return en;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return en=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function an(){return!1}function on(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:an,this.isPropagationStopped=an,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var sn,un,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=on(cn),dn=F({},cn,{view:0,detail:0}),gn=on(dn),pn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,un=e.screenY-ln.screenY):un=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:un}}),fn=on(pn),mn=on(F({},pn,{dataTransfer:0})),vn=on(F({},dn,{relatedTarget:0})),yn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),An=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(An),xn=on(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Mn(){return Cn}var Sn=F({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(Sn),Tn=on(F({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn})),Rn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=F({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bn=on(Ln),Dn=[9,13,27,32],Pn=h&&"CompositionEvent"in window,On=null;h&&"documentMode"in document&&(On=document.documentMode);var Nn=h&&"TextEvent"in window&&!On,Fn=h&&(!Pn||On&&8<On&&11>=On),Un=String.fromCharCode(32),zn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Se(r),0<(t=qr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Xn(e){Ur(e,0)}function Zn(e){if(K(xi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(h){var $n;if(h){var er="oninput"in document;if(!er){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),er="function"===typeof tr.oninput}$n=er}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function nr(){qn&&(qn.detachEvent("onpropertychange",rr),Kn=qn=null)}function rr(e){if("value"===e.propertyName&&Zn(Kn)){var t=[];Wn(t,Kn,e,we(e)),Le(Xn,t)}}function ir(e,t,n){"focusin"===e?(nr(),Kn=n,(qn=t).attachEvent("onpropertychange",rr)):"focusout"===e&&nr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Kn)}function or(e,t){if("click"===e)return Zn(t)}function sr(e,t){if("input"===e||"change"===e)return Zn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=gr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=hr(n,a);var o=hr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=h&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,Ar=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==X(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Ar&&lr(Ar,r)||(Ar=r,0<(r=qr(yr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Cr={};function Mr(e){if(_r[e])return _r[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return _r[e]=n[t];return e}h&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Sr=Mr("animationend"),Ir=Mr("animationiteration"),Tr=Mr("animationstart"),kr=Mr("transitionend"),Rr=new Map,Lr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(e,t){Rr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Lr.length;Dr++){var Pr=Lr[Dr];Br(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Br(Sr,"onAnimationEnd"),Br(Ir,"onAnimationIteration"),Br(Tr,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(kr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,l){if(He.apply(this,arguments),Ne){if(!Ne)throw Error(o(198));var c=Fe;Ne=!1,Fe=null,Ue||(Ue=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,l),a=u}}}if(Ue)throw e=ze,Ue=!1,ze=null,e}function zr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function Gr(e){if(!e[Hr]){e[Hr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Nr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,jr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=qt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=Ai(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Le((function(){var r=a,i=we(n),o=[];e:{var s=Rr.get(e);if(void 0!==s){var u=hn,l=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":l="focus",u=vn;break;case"focusout":l="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=kn;break;case Sr:case Ir:case Tr:u=yn;break;case kr:u=Rn;break;case"scroll":u=gn;break;case"wheel":u=Bn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var g,p=r;null!==p;){var f=(g=p).stateNode;if(5===g.tag&&null!==f&&(g=f,null!==d&&(null!=(f=Be(p,d))&&c.push(Wr(p,f,g)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(l=n.relatedTarget||n.fromElement)||!Ai(l)&&!l[fi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?Ai(l):null)&&(l!==(h=Ge(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=fn,f="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,f="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==u?s:xi(u),g=null==l?s:xi(l),(s=new c(f,p+"leave",u,n,i)).target=h,s.relatedTarget=g,f=null,Ai(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=g,c.relatedTarget=h,f=c),h=f,u&&l)e:{for(d=l,p=0,g=c=u;g;g=Kr(g))p++;for(g=0,f=d;f;f=Kr(f))g++;for(;0<p-g;)c=Kr(c),p--;for(;0<g-p;)d=Kr(d),g--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Kr(c),d=Kr(d)}c=null}else c=null;null!==u&&Xr(o,s,u,c,!1),null!==l&&null!==h&&Xr(o,h,l,c,!0)}if("select"===(u=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(Qn(s))if(Jn)m=sr;else{m=ar;var v=ir}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&te(s,"number",s.value)),v=r?xi(r):window,e){case"focusin":(Qn(v)||"true"===v.contentEditable)&&(vr=v,yr=r,Ar=null);break;case"focusout":Ar=yr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(o,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Gn?jn(e,n)&&(A="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(A="onCompositionStart");A&&(Fn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==A?"onCompositionEnd"===A&&Gn&&(y=tn()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,Gn=!0)),0<(v=qr(r,A)).length&&(A=new xn(A,e,null,n,i),o.push({event:A,listeners:v}),y?A.data=y:null!==(y=Hn(n))&&(A.data=y))),(y=Nn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(zn=!0,Un);case"textInput":return(e=t.data)===Un&&zn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!Pn&&jn(e,t)?(e=tn(),en=$t=Jt=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ur(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Be(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Be(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Be(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Be(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Zr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(Yr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function ei(){}var ti=null,ni=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ii="function"===typeof setTimeout?setTimeout:void 0,ai="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ui)}:ii;function ui(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Gt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Gt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function hi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),gi="__reactFiber$"+di,pi="__reactProps$"+di,fi="__reactContainer$"+di,mi="__reactEvents$"+di,vi="__reactListeners$"+di,yi="__reactHandles$"+di;function Ai(e){var t=e[gi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[gi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=hi(e);null!==e;){if(n=e[gi])return n;e=hi(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[gi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[pi]||null}var Ei=[],_i=-1;function Ci(e){return{current:e}}function Mi(e){0>_i||(e.current=Ei[_i],Ei[_i]=null,_i--)}function Si(e,t){_i++,Ei[_i]=e.current,e.current=t}var Ii={},Ti=Ci(Ii),ki=Ci(!1),Ri=Ii;function Li(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Bi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Mi(ki),Mi(Ti)}function Pi(e,t,n){if(Ti.current!==Ii)throw Error(o(168));Si(Ti,t),Si(ki,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return F({},n,r)}function Ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ri=Ti.current,Si(Ti,e),Si(ki,ki.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Oi(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Mi(ki),Mi(Ti),Si(Ti,e)):Mi(ki),Si(ki,n)}var Ui=null,zi=!1,ji=!1;function Hi(e){null===Ui?Ui=[e]:Ui.push(e)}function Gi(){if(!ji&&null!==Ui){ji=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,zi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ke(et,Gi),i}finally{bt=t,ji=!1}}return null}var Vi=[],Qi=0,Wi=null,qi=0,Ki=[],Xi=0,Zi=null,Yi=1,Ji="";function $i(e,t){Vi[Qi++]=qi,Vi[Qi++]=Wi,Wi=e,qi=t}function ea(e,t,n){Ki[Xi++]=Yi,Ki[Xi++]=Ji,Ki[Xi++]=Zi,Zi=e;var r=Yi;e=Ji;var i=32-st(r)-1;r&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-st(t)+i|n<<i|r,Ji=a+e}else Yi=1<<a|n<<i|r,Ji=e}function ta(e){null!==e.return&&($i(e,1),ea(e,1,0))}function na(e){for(;e===Wi;)Wi=Vi[--Qi],Vi[Qi]=null,qi=Vi[--Qi],Vi[Qi]=null;for(;e===Zi;)Zi=Ki[--Xi],Ki[Xi]=null,Ji=Ki[--Xi],Ki[Xi]=null,Yi=Ki[--Xi],Ki[Xi]=null}var ra=null,ia=null,aa=!1,oa=null;function sa(e,t){var n=Bl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,ia=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,ia=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Bl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ra=e,ia=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(aa){var t=ia;if(t){var n=t;if(!ua(e,t)){if(la(e))throw Error(o(418));t=ci(n.nextSibling);var r=ra;t&&ua(e,t)?sa(r,n):(e.flags=-4097&e.flags|2,aa=!1,ra=e)}}else{if(la(e))throw Error(o(418));e.flags=-4097&e.flags|2,aa=!1,ra=e}}}function ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function da(e){if(e!==ra)return!1;if(!aa)return ha(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=ia)){if(la(e))throw ga(),Error(o(418));for(;t;)sa(e,t),t=ci(t.nextSibling)}if(ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ia=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ia=null}}else ia=ra?ci(e.stateNode.nextSibling):null;return!0}function ga(){for(var e=ia;e;)e=ci(e.nextSibling)}function pa(){ia=ra=null,aa=!1}function fa(e){null===oa?oa=[e]:oa.push(e)}var ma=x.ReactCurrentBatchConfig;function va(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ci(null),Aa=null,ba=null,xa=null;function wa(){xa=ba=Aa=null}function Ea(e){var t=ya.current;Mi(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){Aa=e,xa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Ma(e){var t=e._currentValue;if(xa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===Aa)throw Error(o(308));ba=e,Aa.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Sa=null;function Ia(e){null===Sa?Sa=[e]:Sa.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,ka(e,r)}function ka(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ba(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ku)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ka(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,ka(e,n)}function Oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,At(e,n)}}function Na(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var h=i.baseState;for(o=0,c=l=u=null,s=a;;){var d=s.lane,g=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,f=s;switch(d=t,g=n,f.tag){case 1:if("function"===typeof(p=f.payload)){h=p.call(g,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=f.payload)?p.call(g,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Ra=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else g={eventTime:g,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=g,u=h):c=c.next=g,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=h}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var za=(new i.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ha={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nl(),i=rl(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(il(t,e,i,r),Oa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nl(),i=rl(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(il(t,e,i,r),Oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nl(),r=rl(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(il(t,e,r,n),Oa(t,e,r))}};function Ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function Va(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Ma(a):(i=Bi(t)?Ri:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Li(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ha.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=za,La(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ma(a):(a=Bi(t)?Ri:Ti.current,i.context=Li(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ha.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===za&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xa(e){return(0,e._init)(e._payload)}function Za(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===_?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===B&&Xa(a)===t.type)?((r=i(t,n.props)).ref=qa(e,t,n),r.return=e,r):((r=Ol(n.type,n.key,n.props,null,e.mode,r)).ref=qa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Nl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ul(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=qa(e,null,t),n.return=e,n;case E:return(t=zl(t,e.mode,n)).return=e,t;case B:return d(e,(0,t._init)(t._payload),n)}if(ne(t)||O(t))return(t=Nl(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case E:return n.key===i?c(e,t,n,r):null;case B:return g(e,t,(i=n._init)(n._payload),r)}if(ne(n)||O(n))return null!==i?null:h(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case B:return p(e,t,n,(0,r._init)(r._payload),i)}if(ne(r)||O(r))return h(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function f(i,o,s,u){for(var l=null,c=null,h=o,f=o=0,m=null;null!==h&&f<s.length;f++){h.index>f?(m=h,h=null):m=h.sibling;var v=g(i,h,s[f],u);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(i,h),o=a(v,o,f),null===c?l=v:c.sibling=v,c=v,h=m}if(f===s.length)return n(i,h),aa&&$i(i,f),l;if(null===h){for(;f<s.length;f++)null!==(h=d(i,s[f],u))&&(o=a(h,o,f),null===c?l=h:c.sibling=h,c=h);return aa&&$i(i,f),l}for(h=r(i,h);f<s.length;f++)null!==(m=p(h,i,f,s[f],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?f:m.key),o=a(m,o,f),null===c?l=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),aa&&$i(i,f),l}function m(i,s,u,l){var c=O(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var h=c=null,f=s,m=s=0,v=null,y=u.next();null!==f&&!y.done;m++,y=u.next()){f.index>m?(v=f,f=null):v=f.sibling;var A=g(i,f,y.value,l);if(null===A){null===f&&(f=v);break}e&&f&&null===A.alternate&&t(i,f),s=a(A,s,m),null===h?c=A:h.sibling=A,h=A,f=v}if(y.done)return n(i,f),aa&&$i(i,m),c;if(null===f){for(;!y.done;m++,y=u.next())null!==(y=d(i,y.value,l))&&(s=a(y,s,m),null===h?c=y:h.sibling=y,h=y);return aa&&$i(i,m),c}for(f=r(i,f);!y.done;m++,y=u.next())null!==(y=p(f,i,m,y.value,l))&&(e&&null!==y.alternate&&f.delete(null===y.key?m:y.key),s=a(y,s,m),null===h?c=y:h.sibling=y,h=y);return e&&f.forEach((function(e){return t(i,e)})),aa&&$i(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===_){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===B&&Xa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=qa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===_?((a=Nl(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Ol(o.type,o.key,o.props,null,r.mode,u)).ref=qa(r,a,o),u.return=r,r=u)}return s(r);case E:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=zl(o,r.mode,u)).return=r,r=a}return s(r);case B:return e(r,a,(c=o._init)(o._payload),u)}if(ne(o))return f(r,a,o,u);if(O(o))return m(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ul(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=Za(!0),Ja=Za(!1),$a={},eo=Ci($a),to=Ci($a),no=Ci($a);function ro(e){if(e===$a)throw Error(o(174));return e}function io(e,t){switch(Si(no,t),Si(to,e),Si(eo,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Mi(eo),Si(eo,t)}function ao(){Mi(eo),Mi(to),Mi(no)}function oo(e){ro(no.current);var t=ro(eo.current),n=le(t,e.type);t!==n&&(Si(to,e),Si(eo,n))}function so(e){to.current===e&&(Mi(eo),Mi(to))}var uo=Ci(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function ho(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var go=x.ReactCurrentDispatcher,po=x.ReactCurrentBatchConfig,fo=0,mo=null,vo=null,yo=null,Ao=!1,bo=!1,xo=0,wo=0;function Eo(){throw Error(o(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Co(e,t,n,r,i,a){if(fo=a,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,go.current=null===e||null===e.memoizedState?us:ls,e=n(r,i),bo){a=0;do{if(bo=!1,xo=0,25<=a)throw Error(o(301));a+=1,yo=vo=null,t.updateQueue=null,go.current=cs,e=n(r,i)}while(bo)}if(go.current=ss,t=null!==vo&&null!==vo.next,fo=0,yo=vo=mo=null,Ao=!1,t)throw Error(o(300));return e}function Mo(){var e=0!==xo;return xo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?mo.memoizedState=yo=e:yo=yo.next=e,yo}function Io(){if(null===vo){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=vo.next;var t=null===yo?mo.memoizedState:yo.next;if(null!==t)yo=t,vo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(vo=e).memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},null===yo?mo.memoizedState=yo=e:yo=yo.next=e}return yo}function To(e,t){return"function"===typeof t?t(e):t}function ko(e){var t=Io(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=vo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var h=c.lane;if((fo&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=d,s=r):l=l.next=d,mo.lanes|=h,Fu|=h}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,ur(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,mo.lanes|=a,Fu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=Io(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);ur(a,t.memoizedState)||(xs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Lo(){}function Bo(e,t){var n=mo,r=Io(),i=t(),a=!ur(r.memoizedState,i);if(a&&(r.memoizedState=i,xs=!0),r=r.queue,Qo(Oo.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,zo(9,Po.bind(null,n,r,i,t),void 0,null),null===Ru)throw Error(o(349));0!==(30&fo)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,No(t)&&Fo(e)}function Oo(e,t,n){return n((function(){No(t)&&Fo(e)}))}function No(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=ka(e,1);null!==t&&il(t,e,1,-1)}function Uo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=rs.bind(null,mo,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return Io().memoizedState}function Ho(e,t,n,r){var i=So();mo.flags|=e,i.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function Go(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==vo){var o=vo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=zo(t,n,a,r))}mo.flags|=e,i.memoizedState=zo(1|t,n,a,r)}function Vo(e,t){return Ho(8390656,8,e,t)}function Qo(e,t){return Go(2048,8,e,t)}function Wo(e,t){return Go(4,2,e,t)}function qo(e,t){return Go(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Go(4,4,Ko.bind(null,t,e),n)}function Zo(){}function Yo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&fo)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(ur(n,t)||(n=mt(),mo.lanes|=n,Fu|=n,e.baseState=!0),t)}function es(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=po.transition;po.transition={};try{e(!1),t()}finally{bt=n,po.transition=r}}function ts(){return Io().memoizedState}function ns(e,t,n){var r=rl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},is(e))as(t,n);else if(null!==(n=Ta(e,t,n,r))){il(n,e,r,nl()),os(n,t,r)}}function rs(e,t,n){var r=rl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(is(e))as(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,ur(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ia(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ta(e,t,i,r))&&(il(n,e,r,i=nl()),os(n,t,r))}}function is(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function as(e,t){bo=Ao=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,At(e,n)}}var ss={readContext:Ma,useCallback:Eo,useContext:Eo,useEffect:Eo,useImperativeHandle:Eo,useInsertionEffect:Eo,useLayoutEffect:Eo,useMemo:Eo,useReducer:Eo,useRef:Eo,useState:Eo,useDebugValue:Eo,useDeferredValue:Eo,useTransition:Eo,useMutableSource:Eo,useSyncExternalStore:Eo,useId:Eo,unstable_isNewReconciler:!1},us={readContext:Ma,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ma,useEffect:Vo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ho(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ho(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ho(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ns.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Uo,useDebugValue:Zo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=es.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=So();if(aa){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ru)throw Error(o(349));0!==(30&fo)||Do(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Vo(Oo.bind(null,r,a,e),[e]),r.flags|=2048,zo(9,Po.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=So(),t=Ru.identifierPrefix;if(aa){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-st(Yi)-1)).toString(32)+n),0<(n=xo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Ma,useCallback:Yo,useContext:Ma,useEffect:Qo,useImperativeHandle:Xo,useInsertionEffect:Wo,useLayoutEffect:qo,useMemo:Jo,useReducer:ko,useRef:jo,useState:function(){return ko(To)},useDebugValue:Zo,useDeferredValue:function(e){return $o(Io(),vo.memoizedState,e)},useTransition:function(){return[ko(To)[0],Io().memoizedState]},useMutableSource:Lo,useSyncExternalStore:Bo,useId:ts,unstable_isNewReconciler:!1},cs={readContext:Ma,useCallback:Yo,useContext:Ma,useEffect:Qo,useImperativeHandle:Xo,useInsertionEffect:Wo,useLayoutEffect:qo,useMemo:Jo,useReducer:Ro,useRef:jo,useState:function(){return Ro(To)},useDebugValue:Zo,useDeferredValue:function(e){var t=Io();return null===vo?t.memoizedState=e:$o(t,vo.memoizedState,e)},useTransition:function(){return[Ro(To)[0],Io().memoizedState]},useMutableSource:Lo,useSyncExternalStore:Bo,useId:ts,unstable_isNewReconciler:!1};function hs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function gs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,qu=r),gs(0,t)},n}function ms(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){gs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){gs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function As(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=x.ReactCurrentOwner,xs=!1;function ws(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Ya(t,e.child,n,r)}function Es(e,t,n,r,i){n=n.render;var a=t.ref;return Ca(t,i),r=Co(e,t,n,r,a,i),n=Mo(),null===e||xs?(aa&&n&&ta(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Cs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Pl(a,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(xs=!0)}}return Is(e,t,n,r,i)}function Ms(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Pu,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Pu,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Pu,Du),Du|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Pu,Du),Du|=r;return ws(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Bi(n)?Ri:Ti.current;return a=Li(t,a),Ca(t,i),n=Co(e,t,n,r,a,i),r=Mo(),null===e||xs?(aa&&r&&ta(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Ts(e,t,n,r,i){if(Bi(n)){var a=!0;Ni(t)}else a=!1;if(Ca(t,i),null===t.stateNode)Qs(e,t),Va(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ma(l):l=Li(t,l=Bi(n)?Ri:Ti.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Qa(t,o,r,l),Ra=!1;var d=t.memoizedState;o.state=d,Fa(t,r,o,i),u=t.memoizedState,s!==r||d!==u||ki.current||Ra?("function"===typeof c&&(ja(t,n,c,r),u=t.memoizedState),(s=Ra||Ga(t,n,s,r,d,u,l))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ba(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:va(t.type,s),o.props=l,h=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ma(u):u=Li(t,u=Bi(n)?Ri:Ti.current);var g=n.getDerivedStateFromProps;(c="function"===typeof g||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||d!==u)&&Qa(t,o,r,u),Ra=!1,d=t.memoizedState,o.state=d,Fa(t,r,o,i);var p=t.memoizedState;s!==h||d!==p||ki.current||Ra?("function"===typeof g&&(ja(t,n,g,r),p=t.memoizedState),(l=Ra||Ga(t,n,l,r,d,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return ks(e,t,n,r,a,i)}function ks(e,t,n,r,i,a){Ss(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ws(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),io(e,t.containerInfo)}function Ls(e,t,n,r,i){return pa(),fa(i),t.flags|=256,ws(e,t,n,r),t.child}var Bs,Ds,Ps,Os,Ns={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Us(e,t,n){var r,i=t.pendingProps,a=uo.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Si(uo,1&a),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fl(u,i,0,null),e=Nl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ns,e):zs(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,js(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Fl({mode:"visible",children:r.children},i,0,null),(a=Nl(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ns,a);if(0===(1&t.mode))return js(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,js(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),xs||u){if(null!==(r=Ru)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,ka(e,i),il(r,e,i,-1))}return vl(),js(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tl.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ia=ci(i.nextSibling),ra=t,aa=!0,oa=null,null!==e&&(Ki[Xi++]=Yi,Ki[Xi++]=Ji,Ki[Xi++]=Zi,Yi=e.id,Ji=e.overflow,Zi=t),t=zs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Pl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Pl(r,s):(s=Nl(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ns,i}return e=(s=e.child).sibling,i=Pl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zs(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&fa(r),Ya(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Hs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Gs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Hs(e,n,t);else if(19===e.tag)Hs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gs(t,!0,n,null,a);break;case"together":Gs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Pl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xs(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Bi(t.type)&&Di(),Ks(t),null;case 3:return r=t.stateNode,ao(),Mi(ki),Mi(Ti),ho(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oa&&(ul(oa),oa=null))),Ds(e,t),Ks(t),null;case 5:so(t);var i=ro(no.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ks(t),null}if(e=ro(eo.current),da(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[gi]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)zr(Or[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Y(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":ae(r,a),zr("invalid",r)}for(var s in Ae(n,a),i=null,a)if(a.hasOwnProperty(s)){var l=a[s];"children"===s?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,l,e),i=["children",""+l]):u.hasOwnProperty(s)&&null!=l&&"onScroll"===s&&zr("scroll",r)}switch(n){case"input":q(r),ee(r,a,!0);break;case"textarea":q(r),se(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=ei)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[gi]=t,e[pi]=r,Bs(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)zr(Or[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Y(e,r),i=Z(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ae(e,r),i=ie(e,r),zr("invalid",e)}for(a in Ae(n,i),l=i)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?ve(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&ge(e,c):"number"===typeof c&&ge(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(u.hasOwnProperty(a)?null!=c&&"onScroll"===a&&zr("scroll",e):null!=c&&b(e,a,c,s))}switch(n){case"input":q(e),ee(e,r,!1);break;case"textarea":q(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?re(e,!!r.multiple,a,!1):null!=r.defaultValue&&re(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ei)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ro(no.current),ro(eo.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[gi]=t,(a=r.nodeValue!==n)&&null!==(e=ra))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[gi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Mi(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==ia&&0!==(1&t.mode)&&0===(128&t.flags))ga(),pa(),t.flags|=98560,a=!1;else if(a=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[gi]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),a=!1}else null!==oa&&(ul(oa),oa=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ou&&(Ou=3):vl())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return ao(),Ds(e,t),null===e&&Gr(t.stateNode.containerInfo),Ks(t),null;case 10:return Ea(t.type._context),Ks(t),null;case 19:if(Mi(uo),null===(a=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(s=a.rendering))if(r)qs(a,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=lo(e))){for(t.flags|=128,qs(a,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(s=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>Vu&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!aa)return Ks(t),null}else 2*Je()-a.renderingStartTime>Vu&&1073741824!==n&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=a.last)?n.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return gl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Zs(e,t){switch(na(t),t.tag){case 1:return Bi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ao(),Mi(ki),Mi(Ti),ho(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return so(t),null;case 13:if(Mi(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Mi(uo),null;case 4:return ao(),null;case 10:return Ea(t.type._context),null;case 22:case 23:return gl(),null;default:return null}}Bs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ro(eo.current);var a,o=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=ie(e,i),r=ie(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ei)}for(c in Ae(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(u.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(u.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&zr("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Js=!1,$s="function"===typeof WeakSet?WeakSet:Set,eu=null;function tu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ml(e,t,r)}else n.current=null}function nu(e,t,n){try{n()}catch(r){Ml(e,t,r)}}var ru=!1;function iu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&nu(t,n,a)}i=i.next}while(i!==r)}}function au(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function su(e){var t=e.alternate;null!==t&&(e.alternate=null,su(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[gi],delete t[pi],delete t[mi],delete t[vi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uu(e){return 5===e.tag||3===e.tag||4===e.tag}function lu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||uu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ei));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function hu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(hu(e,t,n),e=e.sibling;null!==e;)hu(e,t,n),e=e.sibling}var du=null,gu=!1;function pu(e,t,n){for(n=n.child;null!==n;)fu(e,t,n),n=n.sibling}function fu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Js||tu(n,t);case 6:var r=du,i=gu;du=null,pu(e,t,n),gu=i,null!==(du=r)&&(gu?(e=du,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):du.removeChild(n.stateNode));break;case 18:null!==du&&(gu?(e=du,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Gt(e)):li(du,n.stateNode));break;case 4:r=du,i=gu,du=n.stateNode.containerInfo,gu=!0,pu(e,t,n),du=r,gu=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&nu(n,t,o),i=i.next}while(i!==r)}pu(e,t,n);break;case 1:if(!Js&&(tu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ml(n,t,s)}pu(e,t,n);break;case 21:pu(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,pu(e,t,n),Js=r):pu(e,t,n);break;default:pu(e,t,n)}}function mu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=kl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:du=u.stateNode,gu=!1;break e;case 3:case 4:du=u.stateNode.containerInfo,gu=!0;break e}u=u.return}if(null===du)throw Error(o(160));fu(a,s,i),du=null,gu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Ml(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,n){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(n,e),Au(e),4&i){try{iu(3,e,e.return),au(3,e)}catch(t){Ml(e,e.return,t)}try{iu(5,e,e.return)}catch(t){Ml(e,e.return,t)}}break;case 1:vu(n,e),Au(e),512&i&&null!==r&&tu(r,r.return);break;case 5:if(vu(n,e),Au(e),512&i&&null!==r&&tu(r,r.return),32&e.flags){var a=e.stateNode;try{ge(a,"")}catch(t){Ml(e,e.return,t)}}if(4&i&&null!=(a=e.stateNode)){var s=e.memoizedProps,u=null!==r?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(a,s),be(l,u);var h=be(l,s);for(u=0;u<c.length;u+=2){var d=c[u],g=c[u+1];"style"===d?ve(a,g):"dangerouslySetInnerHTML"===d?de(a,g):"children"===d?ge(a,g):b(a,d,g,h)}switch(l){case"input":$(a,s);break;case"textarea":oe(a,s);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?re(a,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?re(a,!!s.multiple,s.defaultValue,!0):re(a,!!s.multiple,s.multiple?[]:"",!1))}a[pi]=s}catch(t){Ml(e,e.return,t)}}break;case 6:if(vu(n,e),Au(e),4&i){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(t){Ml(e,e.return,t)}}break;case 3:if(vu(n,e),Au(e),4&i&&null!==r&&r.memoizedState.isDehydrated)try{Gt(n.containerInfo)}catch(t){Ml(e,e.return,t)}break;case 4:default:vu(n,e),Au(e);break;case 13:vu(n,e),Au(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Gu=Je())),4&i&&mu(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Js=(h=Js)||d,vu(n,e),Js=h):vu(n,e),Au(e),8192&i){if(h=null!==e.memoizedState,(e.stateNode.isHidden=h)&&!d&&0!==(1&e.mode))for(eu=e,d=e.child;null!==d;){for(g=eu=d;null!==eu;){switch(f=(p=eu).child,p.tag){case 0:case 11:case 14:case 15:iu(4,p,p.return);break;case 1:tu(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){i=p,r=p.return;try{n=i,m.props=n.memoizedProps,m.state=n.memoizedState,m.componentWillUnmount()}catch(t){Ml(i,r,t)}}break;case 5:tu(p,p.return);break;case 22:if(null!==p.memoizedState){Eu(g);continue}}null!==f?(f.return=p,eu=f):Eu(g)}d=d.sibling}e:for(d=null,g=e;;){if(5===g.tag){if(null===d){d=g;try{a=g.stateNode,h?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=g.stateNode,u=void 0!==(c=g.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",u))}catch(t){Ml(e,e.return,t)}}}else if(6===g.tag){if(null===d)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(t){Ml(e,e.return,t)}}else if((22!==g.tag&&23!==g.tag||null===g.memoizedState||g===e)&&null!==g.child){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;null===g.sibling;){if(null===g.return||g.return===e)break e;d===g&&(d=null),g=g.return}d===g&&(d=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:vu(n,e),Au(e),4&i&&mu(e);case 21:}}function Au(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(uu(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(ge(i,""),r.flags&=-33),hu(e,lu(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cu(e,lu(e),a);break;default:throw Error(o(161))}}catch(s){Ml(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){eu=e,xu(e,t,n)}function xu(e,t,n){for(var r=0!==(1&e.mode);null!==eu;){var i=eu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Js;s=Ys;var l=Js;if(Ys=o,(Js=u)&&!l)for(eu=i;null!==eu;)u=(o=eu).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,eu=u):_u(i);for(;null!==a;)eu=a,xu(a,t,n),a=a.sibling;eu=i,Ys=s,Js=l}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,eu=a):wu(e)}}function wu(e){for(;null!==eu;){var t=eu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||au(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:va(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ua(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Gt(d)}}}break;default:throw Error(o(163))}Js||512&t.flags&&ou(t)}catch(g){Ml(t,t.return,g)}}if(t===e){eu=null;break}if(null!==(n=t.sibling)){n.return=t.return,eu=n;break}eu=t.return}}function Eu(e){for(;null!==eu;){var t=eu;if(t===e){eu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,eu=n;break}eu=t.return}}function _u(e){for(;null!==eu;){var t=eu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{au(4,t)}catch(u){Ml(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ml(t,i,u)}}var a=t.return;try{ou(t)}catch(u){Ml(t,a,u)}break;case 5:var o=t.return;try{ou(t)}catch(u){Ml(t,o,u)}}}catch(u){Ml(t,t.return,u)}if(t===e){eu=null;break}var s=t.sibling;if(null!==s){s.return=t.return,eu=s;break}eu=t.return}}var Cu,Mu=Math.ceil,Su=x.ReactCurrentDispatcher,Iu=x.ReactCurrentOwner,Tu=x.ReactCurrentBatchConfig,ku=0,Ru=null,Lu=null,Bu=0,Du=0,Pu=Ci(0),Ou=0,Nu=null,Fu=0,Uu=0,zu=0,ju=null,Hu=null,Gu=0,Vu=1/0,Qu=null,Wu=!1,qu=null,Ku=null,Xu=!1,Zu=null,Yu=0,Ju=0,$u=null,el=-1,tl=0;function nl(){return 0!==(6&ku)?Je():-1!==el?el:el=Je()}function rl(e){return 0===(1&e.mode)?1:0!==(2&ku)&&0!==Bu?Bu&-Bu:null!==ma.transition?(0===tl&&(tl=mt()),tl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function il(e,t,n,r){if(50<Ju)throw Ju=0,$u=null,Error(o(185));yt(e,n,r),0!==(2&ku)&&e===Ru||(e===Ru&&(0===(2&ku)&&(Uu|=n),4===Ou&&ll(e,Bu)),al(e,r),1===n&&0===ku&&0===(1&t.mode)&&(Vu=Je()+500,zi&&Gi()))}function al(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-st(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=pt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=gt(e,e===Ru?Bu:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){zi=!0,Hi(e)}(cl.bind(null,e)):Hi(cl.bind(null,e)),si((function(){0===(6&ku)&&Gi()})),n=null;else{switch(xt(r)){case 1:n=et;break;case 4:n=tt;break;case 16:default:n=nt;break;case 536870912:n=it}n=Rl(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if(el=-1,tl=0,0!==(6&ku))throw Error(o(327));var n=e.callbackNode;if(_l()&&e.callbackNode!==n)return null;var r=gt(e,e===Ru?Bu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yl(e,r);else{t=r;var i=ku;ku|=2;var a=ml();for(Ru===e&&Bu===t||(Qu=null,Vu=Je()+500,pl(e,t));;)try{bl();break}catch(u){fl(e,u)}wa(),Su.current=a,ku=i,null!==Lu?t=0:(Ru=null,Bu=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=sl(e,i))),1===t)throw n=Nu,pl(e,0),ll(e,r),al(e,Je()),n;if(6===t)ll(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yl(e,r))&&(0!==(a=ft(e))&&(r=a,t=sl(e,a))),1===t))throw n=Nu,pl(e,0),ll(e,r),al(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:El(e,Hu,Qu);break;case 3:if(ll(e,r),(130023424&r)===r&&10<(t=Gu+500-Je())){if(0!==gt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){nl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ii(El.bind(null,e,Hu,Qu),t);break}El(e,Hu,Qu);break;case 4:if(ll(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-st(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mu(r/1960))-r)){e.timeoutHandle=ii(El.bind(null,e,Hu,Qu),r);break}El(e,Hu,Qu);break;default:throw Error(o(329))}}}return al(e,Je()),e.callbackNode===n?ol.bind(null,e):null}function sl(e,t){var n=ju;return e.current.memoizedState.isDehydrated&&(pl(e,t).flags|=256),2!==(e=yl(e,t))&&(t=Hu,Hu=n,null!==t&&ul(t)),e}function ul(e){null===Hu?Hu=e:Hu.push.apply(Hu,e)}function ll(e,t){for(t&=~zu,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cl(e){if(0!==(6&ku))throw Error(o(327));_l();var t=gt(e,0);if(0===(1&t))return al(e,Je()),null;var n=yl(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=sl(e,r))}if(1===n)throw n=Nu,pl(e,0),ll(e,t),al(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,El(e,Hu,Qu),al(e,Je()),null}function hl(e,t){var n=ku;ku|=1;try{return e(t)}finally{0===(ku=n)&&(Vu=Je()+500,zi&&Gi())}}function dl(e){null!==Zu&&0===Zu.tag&&0===(6&ku)&&_l();var t=ku;ku|=1;var n=Tu.transition,r=bt;try{if(Tu.transition=null,bt=1,e)return e()}finally{bt=r,Tu.transition=n,0===(6&(ku=t))&&Gi()}}function gl(){Du=Pu.current,Mi(Pu)}function pl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ai(n)),null!==Lu)for(n=Lu.return;null!==n;){var r=n;switch(na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:ao(),Mi(ki),Mi(Ti),ho();break;case 5:so(r);break;case 4:ao();break;case 13:case 19:Mi(uo);break;case 10:Ea(r.type._context);break;case 22:case 23:gl()}n=n.return}if(Ru=e,Lu=e=Pl(e.current,null),Bu=Du=t,Ou=0,Nu=null,zu=Uu=Fu=0,Hu=ju=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function fl(e,t){for(;;){var n=Lu;try{if(wa(),go.current=ss,Ao){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Ao=!1}if(fo=0,yo=vo=mo=null,bo=!1,xo=0,Iu.current=null,null===n||null===n.return){Ou=1,Nu=t,Lu=null;break}e:{var a=e,s=n.return,u=n,l=t;if(t=Bu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=u,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,As(p,s,u,0,t),1&p.mode&&vs(a,c,t),l=c;var f=(t=p).updateQueue;if(null===f){var m=new Set;m.add(l),t.updateQueue=m}else f.add(l);break e}if(0===(1&t)){vs(a,c,t),vl();break e}l=Error(o(426))}else if(aa&&1&u.mode){var v=ys(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),As(v,s,u,0,t),fa(hs(l,u));break e}}a=l=hs(l,u),4!==Ou&&(Ou=2),null===ju?ju=[a]:ju.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Na(a,fs(0,l,t));break e;case 1:u=l;var y=a.type,A=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==A&&"function"===typeof A.componentDidCatch&&(null===Ku||!Ku.has(A)))){a.flags|=65536,t&=-t,a.lanes|=t,Na(a,ms(a,u,t));break e}}a=a.return}while(null!==a)}wl(n)}catch(b){t=b,Lu===n&&null!==n&&(Lu=n=n.return);continue}break}}function ml(){var e=Su.current;return Su.current=ss,null===e?ss:e}function vl(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Ru||0===(268435455&Fu)&&0===(268435455&Uu)||ll(Ru,Bu)}function yl(e,t){var n=ku;ku|=2;var r=ml();for(Ru===e&&Bu===t||(Qu=null,pl(e,t));;)try{Al();break}catch(i){fl(e,i)}if(wa(),ku=n,Su.current=r,null!==Lu)throw Error(o(261));return Ru=null,Bu=0,Ou}function Al(){for(;null!==Lu;)xl(Lu)}function bl(){for(;null!==Lu&&!Ze();)xl(Lu)}function xl(e){var t=Cu(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?wl(e):Lu=t,Iu.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xs(n,t,Du)))return void(Lu=n)}else{if(null!==(n=Zs(n,t)))return n.flags&=32767,void(Lu=n);if(null===e)return Ou=6,void(Lu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Lu=t);Lu=t=e}while(null!==t);0===Ou&&(Ou=5)}function El(e,t,n){var r=bt,i=Tu.transition;try{Tu.transition=null,bt=1,function(e,t,n,r){do{_l()}while(null!==Zu);if(0!==(6&ku))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===Ru&&(Lu=Ru=null,Bu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xu||(Xu=!0,Rl(nt,(function(){return _l(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tu.transition,Tu.transition=null;var s=bt;bt=1;var u=ku;ku|=4,Iu.current=null,function(e,t){if(ti=Qt,pr(e=gr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,u=-1,l=-1,c=0,h=0,d=e,g=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==a||0!==r&&3!==d.nodeType||(l=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)g=d,d=p;for(;;){if(d===e)break t;if(g===n&&++c===i&&(u=s),g===a&&++h===r&&(l=s),null!==(p=d.nextSibling))break;g=(d=g).parentNode}d=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ni={focusedElem:e,selectionRange:n},Qt=!1,eu=t;null!==eu;)if(e=(t=eu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,eu=e;else for(;null!==eu;){t=eu;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var m=f.memoizedProps,v=f.memoizedState,y=t.stateNode,A=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:va(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(x){Ml(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,eu=e;break}eu=t.return}f=ru,ru=!1}(e,n),yu(n,e),fr(ni),Qt=!!ti,ni=ti=null,e.current=n,bu(n,e,i),Ye(),ku=u,bt=s,Tu.transition=a}else e.current=n;if(Xu&&(Xu=!1,Zu=e,Yu=i),a=e.pendingLanes,0===a&&(Ku=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),al(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=qu,qu=null,e;0!==(1&Yu)&&0!==e.tag&&_l(),a=e.pendingLanes,0!==(1&a)?e===$u?Ju++:(Ju=0,$u=e):Ju=0,Gi()}(e,t,n,r)}finally{Tu.transition=i,bt=r}return null}function _l(){if(null!==Zu){var e=xt(Yu),t=Tu.transition,n=bt;try{if(Tu.transition=null,bt=16>e?16:e,null===Zu)var r=!1;else{if(e=Zu,Zu=null,Yu=0,0!==(6&ku))throw Error(o(331));var i=ku;for(ku|=4,eu=e.current;null!==eu;){var a=eu,s=a.child;if(0!==(16&eu.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(eu=c;null!==eu;){var h=eu;switch(h.tag){case 0:case 11:case 15:iu(8,h,a)}var d=h.child;if(null!==d)d.return=h,eu=d;else for(;null!==eu;){var g=(h=eu).sibling,p=h.return;if(su(h),h===c){eu=null;break}if(null!==g){g.return=p,eu=g;break}eu=p}}}var f=a.alternate;if(null!==f){var m=f.child;if(null!==m){f.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}eu=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,eu=s;else e:for(;null!==eu;){if(0!==(2048&(a=eu).flags))switch(a.tag){case 0:case 11:case 15:iu(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,eu=y;break e}eu=a.return}}var A=e.current;for(eu=A;null!==eu;){var b=(s=eu).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,eu=b;else e:for(s=A;null!==eu;){if(0!==(2048&(u=eu).flags))try{switch(u.tag){case 0:case 11:case 15:au(9,u)}}catch(w){Ml(u,u.return,w)}if(u===s){eu=null;break e}var x=u.sibling;if(null!==x){x.return=u.return,eu=x;break e}eu=u.return}}if(ku=i,Gi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(w){}r=!0}return r}finally{bt=n,Tu.transition=t}}return!1}function Cl(e,t,n){e=Pa(e,t=fs(0,t=hs(n,t),1),1),t=nl(),null!==e&&(yt(e,1,t),al(e,t))}function Ml(e,t,n){if(3===e.tag)Cl(e,e,n);else for(;null!==t;){if(3===t.tag){Cl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Pa(t,e=ms(t,e=hs(n,e),1),1),e=nl(),null!==t&&(yt(t,1,e),al(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nl(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Bu&n)===n&&(4===Ou||3===Ou&&(130023424&Bu)===Bu&&500>Je()-Gu?pl(e,0):zu|=n),al(e,t)}function Il(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ht,0===(130023424&(ht<<=1))&&(ht=4194304)));var n=nl();null!==(e=ka(e,t))&&(yt(e,t,n),al(e,n))}function Tl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Il(e,n)}function kl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Il(e,n)}function Rl(e,t){return Ke(e,t)}function Ll(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bl(e,t,n,r){return new Ll(e,t,n,r)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pl(e,t){var n=e.alternate;return null===n?((n=Bl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Dl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Nl(n.children,i,a,t);case C:s=8,i|=8;break;case M:return(e=Bl(12,n,t,2|i)).elementType=M,e.lanes=a,e;case k:return(e=Bl(13,n,t,i)).elementType=k,e.lanes=a,e;case R:return(e=Bl(19,n,t,i)).elementType=R,e.lanes=a,e;case D:return Fl(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case I:s=9;break e;case T:s=11;break e;case L:s=14;break e;case B:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Bl(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Nl(e,t,n,r){return(e=Bl(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Bl(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Ul(e,t,n){return(e=Bl(6,e,null,t)).lanes=n,e}function zl(e,t,n){return(t=Bl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hl(e,t,n,r,i,a,o,s,u){return e=new jl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Bl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(a),e}function Gl(e){if(!e)return Ii;e:{if(Ge(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Bi(n))return Oi(e,n,t)}return t}function Vl(e,t,n,r,i,a,o,s,u){return(e=Hl(n,r,!0,e,0,a,0,s,u)).context=Gl(null),n=e.current,(a=Da(r=nl(),i=rl(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,yt(e,i,r),al(e,r),e}function Ql(e,t,n,r){var i=t.current,a=nl(),o=rl(i);return n=Gl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(il(e,i,o,a),Oa(e,i,o)),o}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ql(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){ql(e,t),(e=e.alternate)&&ql(e,t)}Cu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ki.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),pa();break;case 5:oo(t);break;case 1:Bi(t.type)&&Ni(t);break;case 4:io(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Us(e,t,n):(Si(uo,1&uo.current),null!==(e=Ws(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Ms(e,t,n)}return Ws(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,aa&&0!==(1048576&t.flags)&&ea(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qs(e,t),e=t.pendingProps;var i=Li(t,Ti.current);Ca(t,n),i=Co(null,t,r,e,i,n);var a=Mo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bi(r)?(a=!0,Ni(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,La(t),i.updater=Ha,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=ks(null,t,r,!0,a,n)):(t.tag=0,aa&&a&&ta(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===L)return 14}return 2}(r),e=va(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=Es(null,t,r,e,n);break e;case 14:t=_s(null,t,r,va(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:va(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:va(r,i),n);case 3:e:{if(Rs(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ba(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ls(e,t,r,n,i=hs(Error(o(423)),t));break e}if(r!==i){t=Ls(e,t,r,n,i=hs(Error(o(424)),t));break e}for(ia=ci(t.stateNode.containerInfo.firstChild),ra=t,aa=!0,oa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return oo(t),null===e&&ca(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ri(r,i)?s=null:null!==a&&ri(r,a)&&(t.flags|=32),Ss(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Us(e,t,n);case 4:return io(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:va(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Si(ya,r._currentValue),r._currentValue=s,null!==a)if(ur(a.value,s)){if(a.children===i.children&&!ki.current){t=Ws(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Da(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),_a(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ca(t,n),r=r(i=Ma(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=va(r=t.type,t.pendingProps),_s(e,t,r,i=va(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:va(r,i),Qs(e,t),t.tag=1,Bi(r)?(e=!0,Ni(t)):e=!1,Ca(t,n),Va(t,r,i),Wa(t,r,i,n),ks(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Ms(e,t,n)}throw Error(o(156,t.tag))};var Xl="function"===typeof reportError?reportError:function(e){console.error(e)};function Zl(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ec(){}function tc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wl(o);s.call(e)}}Ql(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wl(o);a.call(e)}}var o=Vl(t,r,e,0,null,!1,0,"",ec);return e._reactRootContainer=o,e[fi]=o.current,Gr(8===e.nodeType?e.parentNode:e),dl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wl(u);s.call(e)}}var u=Hl(e,0,!1,null,0,!1,0,"",ec);return e._reactRootContainer=u,e[fi]=u.current,Gr(8===e.nodeType?e.parentNode:e),dl((function(){Ql(t,u,n,r)})),u}(n,t,e,i,r);return Wl(o)}Yl.prototype.render=Zl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Ql(e,t,null,null)},Yl.prototype.unmount=Zl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dl((function(){Ql(null,e,null,null)})),t[fi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(At(t,1|n),al(t,Je()),0===(6&ku)&&(Vu=Je()+500,Gi()))}break;case 13:dl((function(){var t=ka(e,1);if(null!==t){var n=nl();il(t,e,1,n)}})),Kl(e,1)}},Et=function(e){if(13===e.tag){var t=ka(e,134217728);if(null!==t)il(t,e,134217728,nl());Kl(e,134217728)}},_t=function(e){if(13===e.tag){var t=rl(e),n=ka(e,t);if(null!==n)il(n,e,t,nl());Kl(e,t)}},Ct=function(){return bt},Mt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));K(r),$(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&re(e,!!n.multiple,t,!1)}},Te=hl,ke=dl;var nc={usingClientEntryPoint:!1,Events:[bi,xi,wi,Se,Ie,hl]},rc={findFiberByHostInstance:Ai,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ic={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{at=ac.inject(ic),ot=ac}catch(he){}}n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,n.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jl(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},n.createRoot=function(e,t){if(!Jl(e))throw Error(o(299));var n=!1,r="",i=Xl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Hl(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Gr(8===e.nodeType?e.parentNode:e),new Zl(t)},n.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},n.flushSync=function(e){return dl(e)},n.hydrate=function(e,t,n){if(!$l(t))throw Error(o(200));return tc(null,e,t,!0,n)},n.hydrateRoot=function(e,t,n){if(!Jl(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Xl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vl(t,null,e,1,null!=n?n:null,i,0,a,s),e[fi]=t.current,Gr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},n.render=function(e,t,n){if(!$l(t))throw Error(o(200));return tc(null,e,t,!1,n)},n.unmountComponentAtNode=function(e){if(!$l(e))throw Error(o(40));return!!e._reactRootContainer&&(dl((function(){tc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},n.unstable_batchedUpdates=hl,n.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$l(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return tc(e,t,n,!1,r)},n.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),g=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function A(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=A.prototype=new y;b.constructor=A,f(b,v.prototype),b.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:E.current}}function M(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,x(o)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),T(o,t,i,"",(function(e){return e}))):null!=o&&(M(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",x(e))for(var l=0;l<e.length;l++){var c=a+I(s=e[l],l);u+=T(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=g&&e[g]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=T(s=s.value,t,i,c=a+I(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function k(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},B={transition:null},D={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:B,ReactCurrentOwner:E};t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!M(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=A,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=f({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)w.call(t,l)&&!_.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=M,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=B.transition;B.transition={};try{e()}finally{B.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],h=1,d=null,g=3,p=!1,f=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,A="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function x(e){if(m=!1,b(e),!f)if(null!==r(l))f=!0,B(w);else{var t=r(c);null!==t&&D(x,t.startTime-e)}}function w(e,n){f=!1,m&&(m=!1,y(M),M=-1),p=!0;var a=g;try{for(b(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!T());){var o=d.callback;if("function"===typeof o){d.callback=null,g=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(l)&&i(l),b(n)}else i(l);d=r(l)}if(null!==d)var u=!0;else{var h=r(c);null!==h&&D(x,h.startTime-n),u=!1}return u}finally{d=null,g=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,_=!1,C=null,M=-1,S=5,I=-1;function T(){return!(t.unstable_now()-I<S)}function k(){if(null!==C){var e=t.unstable_now();I=e;var n=!0;try{n=C(!0,e)}finally{n?E():(_=!1,C=null)}}else _=!1}if("function"===typeof A)E=function(){A(k)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,L=R.port2;R.port1.onmessage=k,E=function(){L.postMessage(null)}}else E=function(){v(k,0)};function B(e){C=e,_||(_=!0,E())}function D(e,n){M=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,B(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(g){case 1:case 2:case 3:var t=3;break;default:t=g}var n=g;g=t;try{return e()}finally{g=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=g;g=e;try{return t()}finally{g=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(y(M),M=-1):m=!0,D(x,a-o))):(e.sortIndex=s,n(l,e),f||p||(f=!0,B(w))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=g;return function(){var n=g;g=t;try{return e.apply(this,arguments)}finally{g=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9215:function(e,t,n){"use strict";n.r(t),n.d(t,{Pathfinding:function(){return f}});var r=function(){};r.computeCentroids=function(e){var t,n,r;for(t=0,n=e.faces.length;t<n;t++)(r=e.faces[t]).centroid=new THREE.Vector3(0,0,0),r.centroid.add(e.vertices[r.a]),r.centroid.add(e.vertices[r.b]),r.centroid.add(e.vertices[r.c]),r.centroid.divideScalar(3)},r.roundNumber=function(e,t){return Number(e.toFixed(t))},r.sample=function(e){return e[Math.floor(Math.random()*e.length)]},r.mergeVertexIds=function(e,t){var n=[];if(e.forEach((function(e){t.indexOf(e)>=0&&n.push(e)})),n.length<2)return[];n.includes(e[0])&&n.includes(e[e.length-1])&&e.push(e.shift()),n.includes(t[0])&&n.includes(t[t.length-1])&&t.push(t.shift()),n=[],e.forEach((function(e){t.includes(e)&&n.push(e)}));for(var r=n[1],i=n[0],a=e.slice();a[0]!==r;)a.push(a.shift());for(var o=0,s=t.slice();s[0]!==i;)if(s.push(s.shift()),o++>10)throw new Error("Unexpected state");return s.shift(),s.pop(),a.concat(s)},r.setPolygonCentroid=function(e,t){var n=new THREE.Vector3,r=t.vertices;e.vertexIds.forEach((function(e){n.add(r[e])})),n.divideScalar(e.vertexIds.length),e.centroid.copy(n)},r.cleanPolygon=function(e,t){for(var n=[],r=t.vertices,i=0;i<e.vertexIds.length;i++){var a,o,s,u=r[e.vertexIds[i]];0===i?(a=e.vertexIds[1],o=e.vertexIds[e.vertexIds.length-1]):i===e.vertexIds.length-1?(a=e.vertexIds[0],o=e.vertexIds[e.vertexIds.length-2]):(a=e.vertexIds[i+1],o=e.vertexIds[i-1]),s=r[o];var l=r[a].clone().sub(u),c=s.clone().sub(u),h=l.angleTo(c);if(h>Math.PI-.01&&h<Math.PI+.01){var d=[];e.neighbours.forEach((function(t){t.vertexIds.includes(e.vertexIds[i])||d.push(t)})),e.neighbours=d}else n.push(e.vertexIds[i])}e.vertexIds=n,this.setPolygonCentroid(e,t)},r.isConvex=function(e,t){var n=t.vertices;if(e.vertexIds.length<3)return!1;for(var r=!0,i=[],a=0;a<e.vertexIds.length;a++){var o,s,u=n[e.vertexIds[a]];0===a?(o=n[e.vertexIds[1]],s=n[e.vertexIds[e.vertexIds.length-1]]):a===e.vertexIds.length-1?(o=n[e.vertexIds[0]],s=n[e.vertexIds[e.vertexIds.length-2]]):(o=n[e.vertexIds[a+1]],s=n[e.vertexIds[a-1]]);var l=o.clone().sub(u),c=s.clone().sub(u),h=l.angleTo(c);if(h===Math.PI||0===h)return!1;var d=l.cross(c).y;i.push(d)}return i.forEach((function(e){0===e&&(r=!1)})),i.forEach(i[0]>0?function(e){e<0&&(r=!1)}:function(e){e>0&&(r=!1)}),r},r.distanceToSquared=function(e,t){var n=e.x-t.x,r=e.y-t.y,i=e.z-t.z;return n*n+r*r+i*i},r.isPointInPoly=function(e,t){for(var n=!1,r=-1,i=e.length,a=i-1;++r<i;a=r)(e[r].z<=t.z&&t.z<e[a].z||e[a].z<=t.z&&t.z<e[r].z)&&t.x<(e[a].x-e[r].x)*(t.z-e[r].z)/(e[a].z-e[r].z)+e[r].x&&(n=!n);return n},r.isVectorInPolygon=function(e,t,n){var r=1e5,i=-1e5,a=[];return t.vertexIds.forEach((function(e){r=Math.min(n[e].y,r),i=Math.max(n[e].y,i),a.push(n[e])})),!!(e.y<i+.5&&e.y>r-.5&&this.isPointInPoly(a,e))},r.triarea2=function(e,t,n){return(n.x-e.x)*(t.z-e.z)-(t.x-e.x)*(n.z-e.z)},r.vequal=function(e,t){return this.distanceToSquared(e,t)<1e-5};var i=function(e){this.content=[],this.scoreFunction=e};i.prototype.push=function(e){this.content.push(e),this.sinkDown(this.content.length-1)},i.prototype.pop=function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},i.prototype.remove=function(e){var t=this.content.indexOf(e),n=this.content.pop();t!==this.content.length-1&&(this.content[t]=n,this.scoreFunction(n)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},i.prototype.size=function(){return this.content.length},i.prototype.rescoreElement=function(e){this.sinkDown(this.content.indexOf(e))},i.prototype.sinkDown=function(e){for(var t=this.content[e];e>0;){var n=(e+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}},i.prototype.bubbleUp=function(e){for(var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);;){var i=e+1<<1,a=i-1,o=null,s=void 0;if(a<t&&(s=this.scoreFunction(this.content[a]))<r&&(o=a),i<t&&this.scoreFunction(this.content[i])<(null===o?r:s)&&(o=i),null===o)break;this.content[e]=this.content[o],this.content[o]=n,e=o}};var a=function(){};a.init=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.f=0,n.g=0,n.h=0,n.cost=1,n.visited=!1,n.closed=!1,n.parent=null}},a.cleanUp=function(e){for(var t=0;t<e.length;t++){var n=e[t];delete n.f,delete n.g,delete n.h,delete n.cost,delete n.visited,delete n.closed,delete n.parent}},a.heap=function(){return new i((function(e){return e.f}))},a.search=function(e,t,n){this.init(e);var r=this.heap();for(r.push(t);r.size()>0;){var i=r.pop();if(i===n){for(var a=i,o=[];a.parent;)o.push(a),a=a.parent;return this.cleanUp(o),o.reverse()}i.closed=!0;for(var s=this.neighbours(e,i),u=0,l=s.length;u<l;u++){var c=s[u];if(!c.closed){var h=i.g+c.cost,d=c.visited;if(!d||h<c.g){if(c.visited=!0,c.parent=i,!c.centroid||!n.centroid)throw new Error("Unexpected state");c.h=c.h||this.heuristic(c.centroid,n.centroid),c.g=h,c.f=c.g+c.h,d?r.rescoreElement(c):r.push(c)}}}}return[]},a.heuristic=function(e,t){return r.distanceToSquared(e,t)},a.neighbours=function(e,t){for(var n=[],r=0;r<t.neighbours.length;r++)n.push(e[t.neighbours[r]]);return n};var o=1,s=function(){};s.buildZone=function(e){var t=this,n=this._buildNavigationMesh(e),i={};n.vertices.forEach((function(e){e.x=r.roundNumber(e.x,2),e.y=r.roundNumber(e.y,2),e.z=r.roundNumber(e.z,2)})),i.vertices=n.vertices;var a=this._buildPolygonGroups(n);i.groups=[];var o=function(e,t){for(var n=0;n<e.length;n++)if(t===e[n])return n};return a.forEach((function(e){var n=[];e.forEach((function(i){var a=i.neighbours.map((function(t){return o(e,t)})),s=i.neighbours.map((function(e){return t._getSharedVerticesInOrder(i,e)}));i.centroid.x=r.roundNumber(i.centroid.x,2),i.centroid.y=r.roundNumber(i.centroid.y,2),i.centroid.z=r.roundNumber(i.centroid.z,2),n.push({id:o(e,i),neighbours:a,vertexIds:i.vertexIds,centroid:i.centroid,portals:s})})),i.groups.push(n)})),i},s._buildNavigationMesh=function(e){return r.computeCentroids(e),e.mergeVertices(),this._buildPolygonsFromGeometry(e)},s._buildPolygonGroups=function(e){var t=[],n=0,r=function e(t){t.neighbours.forEach((function(n){void 0===n.group&&(n.group=t.group,e(n))}))};return e.polygons.forEach((function(e){void 0===e.group&&(e.group=n++,r(e)),t[e.group]||(t[e.group]=[]),t[e.group].push(e)})),t},s._buildPolygonNeighbours=function(e,t,n){var r=new Set,i=n.get(e.vertexIds[0]),a=n.get(e.vertexIds[1]),o=n.get(e.vertexIds[2]);i.forEach((function(e){(a.has(e)||o.has(e))&&r.add(t.polygons[e])})),a.forEach((function(e){o.has(e)&&r.add(t.polygons[e])})),e.neighbours=Array.from(r)},s._buildPolygonsFromGeometry=function(e){for(var t=this,n=[],r=e.vertices,i=e.faceVertexUvs,a=new Map,s=0;s<r.length;s++)a.set(s,new Set);e.faces.forEach((function(e){n.push({id:o++,vertexIds:[e.a,e.b,e.c],centroid:e.centroid,normal:e.normal,neighbours:[]}),a.get(e.a).add(n.length-1),a.get(e.b).add(n.length-1),a.get(e.c).add(n.length-1)}));var u={polygons:n,vertices:r,faceVertexUvs:i};return n.forEach((function(e){t._buildPolygonNeighbours(e,u,a)})),u},s._getSharedVerticesInOrder=function(e,t){var n=e.vertexIds,r=t.vertexIds,i=new Set;if(n.forEach((function(e){r.includes(e)&&i.add(e)})),i.size<2)return[];i.has(n[0])&&i.has(n[n.length-1])&&n.push(n.shift()),i.has(r[0])&&i.has(r[r.length-1])&&r.push(r.shift());var a=[];return n.forEach((function(e){r.includes(e)&&a.push(e)})),a};var u=function(){this.portals=[]};u.prototype.push=function(e,t){void 0===t&&(t=e),this.portals.push({left:e,right:t})},u.prototype.stringPull=function(){var e,t,n,i=this.portals,a=[],o=0,s=0,u=0;t=i[0].left,n=i[0].right,a.push(e=i[0].left);for(var l=1;l<i.length;l++){var c=i[l].left,h=i[l].right;if(r.triarea2(e,n,h)<=0){if(!(r.vequal(e,n)||r.triarea2(e,t,h)>0)){a.push(t),t=e=t,n=e,s=o=s,u=o,l=o;continue}n=h,u=l}if(r.triarea2(e,t,c)>=0){if(!(r.vequal(e,t)||r.triarea2(e,n,c)<0)){a.push(n),t=e=n,n=e,s=o=u,u=o,l=o;continue}t=c,s=l}}return 0!==a.length&&r.vequal(a[a.length-1],i[i.length-1].left)||a.push(i[i.length-1].left),this.path=a,a};var l,c,h,d,g,p,f=function(){this.zones={}};f.createZone=function(e){return s.buildZone(e)},f.prototype.setZoneData=function(e,t){this.zones[e]=t},f.prototype.getGroup=function(e,t){if(!this.zones[e])return null;var n=null,i=Math.pow(50,2);return this.zones[e].groups.forEach((function(e,a){e.forEach((function(e){var o=r.distanceToSquared(e.centroid,t);o<i&&(n=a,i=o)}))})),n},f.prototype.getRandomNode=function(e,t,n,i){if(!this.zones[e])return new THREE.Vector3;n=n||null,i=i||0;var a=[];return this.zones[e].groups[t].forEach((function(e){n&&i?r.distanceToSquared(n,e.centroid)<i*i&&a.push(e.centroid):a.push(e.centroid)})),r.sample(a)||new THREE.Vector3},f.prototype.getClosestNode=function(e,t,n,i){void 0===i&&(i=!1);var a=this.zones[t].vertices,o=null,s=1/0;return this.zones[t].groups[n].forEach((function(t){var n=r.distanceToSquared(t.centroid,e);n<s&&(!i||r.isVectorInPolygon(e,t,a))&&(o=t,s=n)})),o},f.prototype.findPath=function(e,t,n,r){var i=this.zones[n].groups[r],o=this.zones[n].vertices,s=this.getClosestNode(e,n,r),l=this.getClosestNode(t,n,r,!0);if(!s||!l)return null;var c=a.search(i,s,l),h=function(e,t){for(var n=0;n<e.neighbours.length;n++)if(e.neighbours[n]===t.id)return e.portals[n]},d=new u;d.push(e);for(var g=0;g<c.length;g++){var p=c[g+1];if(p){var f=h(c[g],p);d.push(o[f[0]],o[f[1]])}}d.push(t),d.stringPull();var m=d.path.map((function(e){return new THREE.Vector3(e.x,e.y,e.z)}));return m.shift(),m},f.prototype.clampStep=(h=new THREE.Vector3,d=new THREE.Plane,g=new THREE.Triangle,p=new THREE.Vector3,function(e,t,n,r,i,a){var o=this.zones[r].vertices,s=this.zones[r].groups[i],u=[n],f={};f[n.id]=0,l=void 0,p.set(0,0,0),c=1/0,d.setFromCoplanarPoints(o[n.vertexIds[0]],o[n.vertexIds[1]],o[n.vertexIds[2]]),d.projectPoint(t,h),t.copy(h);for(var m=u.pop();m;m=u.pop()){g.set(o[m.vertexIds[0]],o[m.vertexIds[1]],o[m.vertexIds[2]]),g.closestPointToPoint(t,h),h.distanceToSquared(t)<c&&(l=m,p.copy(h),c=h.distanceToSquared(t));var v=f[m];if(!(v>2))for(var y=0;y<m.neighbours.length;y++){var A=s[m.neighbours[y]];A.id in f||(u.push(A),f[A.id]=v+1)}}return a.copy(p),l})},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},7156:function(e){function t(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function s(e){t(o,i,a,s,u,"next",e)}function u(e){t(o,i,a,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),i=n(9617);function a(t,n,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),a=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},1588:function(e,t,n){var r=n(1753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},6035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},a=Object.prototype,o=a.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},u="function"==typeof Symbol?Symbol:{},l=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",h=u.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(t){d=function(e,t,n){return e[t]=n}}function g(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),o=new B(r||[]);return s(a,"_invoke",{value:T(e,n,o)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=g;var f="suspendedStart",m="suspendedYield",v="executing",y="completed",A={};function b(){}function x(){}function w(){}var E={};d(E,l,(function(){return this}));var _=Object.getPrototypeOf,C=_&&_(_(D([])));C&&C!==a&&o.call(C,l)&&(E=C);var M=w.prototype=b.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,s,u){var l=p(e[i],e,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==r(h)&&o.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,u)}))}u(l.arg)}var i;s(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function T(e,n,r){var i=f;return function(a,o){if(i===v)throw new Error("Generator is already running");if(i===y){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=k(s,r);if(u){if(u===A)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var l=p(e,n,r);if("normal"===l.type){if(i=r.done?y:m,l.arg===A)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=y,r.method="throw",r.arg=l.arg)}}}function k(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),A;var a=p(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,A;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,A):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,A)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return x.prototype=w,s(M,"constructor",{value:w,configurable:!0}),s(w,"constructor",{value:x,configurable:!0}),x.displayName=d(w,h,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,d(e,h,"GeneratorFunction")),e.prototype=Object.create(M),e},n.awrap=function(e){return{__await:e}},S(I.prototype),d(I.prototype,c,(function(){return this})),n.AsyncIterator=I,n.async=function(e,t,r,i,a){void 0===a&&(a=Promise);var o=new I(g(e,t,r,i),a);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(M),d(M,h,"Generator"),d(M,l,(function(){return this})),d(M,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=D,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),A},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),A}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),A}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),a=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,n){var r=n(3808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),a=n(6116),o=n(2281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},3496:function(e,t,n){var r=n(3808),i=n(6015),a=n(6035),o=n(3515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}},7277:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1120),i=n(8814),a=n(1002),o=n(7326);function s(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var s=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===(0,a.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}(this,n)}}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1752:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1120);function i(){return i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},i.apply(this,arguments)}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},4165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(){i=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(e){h=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof A?t:A,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:I(e,n,s)}),a}function g(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",f="suspendedYield",m="executing",v="completed",y={};function A(){}function b(){}function x(){}var w={};h(w,u,(function(){return this}));var E=Object.getPrototypeOf,_=E&&E(E(B([])));_&&_!==n&&a.call(_,u)&&(w=_);var C=x.prototype=A.prototype=Object.create(w);function M(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,o,s,u){var l=g(e[i],e,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==(0,r.Z)(h)&&a.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,u)}))}u(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function I(t,n,r){var i=p;return function(a,o){if(i===m)throw new Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=T(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var l=g(t,n,r);if("normal"===l.type){if(i=r.done?v:f,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function T(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=g(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function B(t){if(t||""===t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(a.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError((0,r.Z)(t)+" is not iterable")}return b.prototype=x,o(C,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=h(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,h(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},M(S.prototype),h(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new S(d(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},M(C),h(C,c,"Generator"),h(C,u,(function(){return this})),h(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=B,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:B(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},885:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);var i=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},8737:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1120),i=n(9611);var a=n(8814);function o(e,t,n){return o=(0,a.Z)()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&(0,i.Z)(a,n.prototype),a},o.apply(null,arguments)}function s(e){var t="function"===typeof Map?new Map:void 0;return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return o(e,arguments,(0,r.Z)(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(a,e)},s(e)}},5233:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var r=function(e){return"function"===typeof e?e:"string"===typeof e?function(t){return t[e]}:function(t){return e}}},6556:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7762);function i(e,t){var n;if(void 0===t){var i,a=(0,r.Z)(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(n<o||void 0===n&&o>=o)&&(n=o)}}catch(h){a.e(h)}finally{a.f()}}else{var s,u=-1,l=(0,r.Z)(e);try{for(l.s();!(s=l.n()).done;){var c=s.value;null!=(c=t(c,++u,e))&&(n<c||void 0===n&&c>=c)&&(n=c)}}catch(h){l.e(h)}finally{l.f()}}return n}},420:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7762);function i(e,t){var n;if(void 0===t){var i,a=(0,r.Z)(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(n>o||void 0===n&&o>=o)&&(n=o)}}catch(h){a.e(h)}finally{a.f()}}else{var s,u=-1,l=(0,r.Z)(e);try{for(l.s();!(s=l.n()).done;){var c=s.value;null!=(c=t(c,++u,e))&&(n>c||void 0===n&&c>=c)&&(n=c)}}catch(h){l.e(h)}finally{l.f()}}return n}},6383:function(e,t){"use strict";var n={value:function(){}};function r(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new i(r)}function i(e){this._=e}function a(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function o(e,t,r){for(var i=0,a=e.length;i<a;++i)if(e[i].name===t){e[i]=n,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=r&&e.push({name:t,value:r}),e}i.prototype=r.prototype={constructor:i,on:function(e,t){var n,r,i=this._,s=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),u=-1,l=s.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++u<l;)if(n=(e=s[u]).type)i[n]=o(i[n],e.name,t);else if(null==t)for(n in i)i[n]=o(i[n],e.name,null);return this}for(;++u<l;)if((n=(e=s[u]).type)&&(n=a(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new i(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}},t.Z=r},5442:function(e,t,n){"use strict";function r(e,t,n){var r,i=1;function a(){var a,o,s=r.length,u=0,l=0,c=0;for(a=0;a<s;++a)u+=(o=r[a]).x||0,l+=o.y||0,c+=o.z||0;for(u=(u/s-e)*i,l=(l/s-t)*i,c=(c/s-n)*i,a=0;a<s;++a)o=r[a],u&&(o.x-=u),l&&(o.y-=l),c&&(o.z-=c)}return null==e&&(e=0),null==t&&(t=0),null==n&&(n=0),a.initialize=function(e){r=e},a.x=function(t){return arguments.length?(e=+t,a):e},a.y=function(e){return arguments.length?(t=+e,a):t},a.z=function(e){return arguments.length?(n=+e,a):n},a.strength=function(e){return arguments.length?(i=+e,a):i},a}n.d(t,{Z:function(){return r}})},3647:function(e,t,n){"use strict";function r(e){return function(){return e}}n.d(t,{Z:function(){return r}})},7982:function(e,t,n){"use strict";function r(e){return 1e-6*(e()-.5)}n.d(t,{Z:function(){return r}})},1813:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(3647),i=n(7982);function a(e){return e.index}function o(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function s(e){var t,n,s,u,l,c,h,d=a,g=function(e){return 1/Math.min(l[e.source.index],l[e.target.index])},p=(0,r.Z)(30),f=1;function m(r){for(var a=0,o=e.length;a<f;++a)for(var s,l,d,g,p,m=0,v=0,y=0,A=0;m<o;++m)l=(s=e[m]).source,v=(d=s.target).x+d.vx-l.x-l.vx||(0,i.Z)(h),u>1&&(y=d.y+d.vy-l.y-l.vy||(0,i.Z)(h)),u>2&&(A=d.z+d.vz-l.z-l.vz||(0,i.Z)(h)),v*=g=((g=Math.sqrt(v*v+y*y+A*A))-n[m])/g*r*t[m],y*=g,A*=g,d.vx-=v*(p=c[m]),u>1&&(d.vy-=y*p),u>2&&(d.vz-=A*p),l.vx+=v*(p=1-p),u>1&&(l.vy+=y*p),u>2&&(l.vz+=A*p)}function v(){if(s){var r,i,a=s.length,u=e.length,h=new Map(s.map((function(e,t){return[d(e,t,s),e]})));for(r=0,l=new Array(a);r<u;++r)(i=e[r]).index=r,"object"!==typeof i.source&&(i.source=o(h,i.source)),"object"!==typeof i.target&&(i.target=o(h,i.target)),l[i.source.index]=(l[i.source.index]||0)+1,l[i.target.index]=(l[i.target.index]||0)+1;for(r=0,c=new Array(u);r<u;++r)i=e[r],c[r]=l[i.source.index]/(l[i.source.index]+l[i.target.index]);t=new Array(u),y(),n=new Array(u),A()}}function y(){if(s)for(var n=0,r=e.length;n<r;++n)t[n]=+g(e[n],n,e)}function A(){if(s)for(var t=0,r=e.length;t<r;++t)n[t]=+p(e[t],t,e)}return null==e&&(e=[]),m.initialize=function(e){s=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];h=n.find((function(e){return"function"===typeof e}))||Math.random,u=n.find((function(e){return[1,2,3].includes(e)}))||2,v()},m.links=function(t){return arguments.length?(e=t,v(),m):e},m.id=function(e){return arguments.length?(d=e,m):d},m.iterations=function(e){return arguments.length?(f=+e,m):f},m.strength=function(e){return arguments.length?(g="function"===typeof e?e:(0,r.Z)(+e),y(),m):g},m.distance=function(e){return arguments.length?(p="function"===typeof e?e:(0,r.Z)(+e),A(),m):p},m}},2645:function(e,t,n){"use strict";function r(e,t,n){if(isNaN(t))return e;var r,i,a,o,s,u,l=e._root,c={data:n},h=e._x0,d=e._x1;if(!l)return e._root=c,e;for(;l.length;)if((o=t>=(i=(h+d)/2))?h=i:d=i,r=l,!(l=l[s=+o]))return r[s]=c,e;if(t===(a=+e._x.call(null,l.data)))return c.next=l,r?r[s]=c:e._root=c,e;do{r=r?r[s]=new Array(2):e._root=new Array(2),(o=t>=(i=(h+d)/2))?h=i:d=i}while((s=+o)===(u=+(a>=i)));return r[u]=l,r[s]=c,e}function i(e,t,n){this.node=e,this.x0=t,this.x1=n}function a(e){return e[0]}function o(e,t){var n=new s(null==t?a:t,NaN,NaN);return null==e?n:n.addAll(e)}function s(e,t,n){this._x=e,this._x0=t,this._x1=n,this._root=void 0}function u(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}n.d(t,{Z:function(){return k}});var l=o.prototype=s.prototype;function c(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a,o,s,u,l,c,h,d,g=e._root,p={data:r},f=e._x0,m=e._y0,v=e._x1,y=e._y1;if(!g)return e._root=p,e;for(;g.length;)if((l=t>=(a=(f+v)/2))?f=a:v=a,(c=n>=(o=(m+y)/2))?m=o:y=o,i=g,!(g=g[h=c<<1|l]))return i[h]=p,e;if(s=+e._x.call(null,g.data),u=+e._y.call(null,g.data),t===s&&n===u)return p.next=g,i?i[h]=p:e._root=p,e;do{i=i?i[h]=new Array(4):e._root=new Array(4),(l=t>=(a=(f+v)/2))?f=a:v=a,(c=n>=(o=(m+y)/2))?m=o:y=o}while((h=c<<1|l)===(d=(u>=o)<<1|s>=a));return i[d]=g,i[h]=p,e}function h(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function d(e){return e[0]}function g(e){return e[1]}function p(e,t,n){var r=new f(null==t?d:t,null==n?g:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function f(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function m(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}l.copy=function(){var e,t,n=new s(this._x,this._x0,this._x1),r=this._root;if(!r)return n;if(!r.length)return n._root=u(r),n;for(e=[{source:r,target:n._root=new Array(2)}];r=e.pop();)for(var i=0;i<2;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(2)}):r.target[i]=u(t));return n},l.add=function(e){var t=+this._x.call(null,e);return r(this.cover(t),t,e)},l.addAll=function(e){Array.isArray(e)||(e=Array.from(e));for(var t,n=e.length,i=new Float64Array(n),a=1/0,o=-1/0,s=0;s<n;++s)isNaN(t=+this._x.call(null,e[s]))||(i[s]=t,t<a&&(a=t),t>o&&(o=t));if(a>o)return this;this.cover(a).cover(o);for(var u=0;u<n;++u)r(this,i[u],e[u]);return this},l.cover=function(e){if(isNaN(e=+e))return this;var t=this._x0,n=this._x1;if(isNaN(t))n=(t=Math.floor(e))+1;else{for(var r,i,a=n-t||1,o=this._root;t>e||e>=n;)switch(i=+(e<t),(r=new Array(2))[i]=o,o=r,a*=2,i){case 0:n=t+a;break;case 1:t=n-a}this._root&&this._root.length&&(this._root=o)}return this._x0=t,this._x1=n,this},l.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},l.extent=function(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]},l.find=function(e,t){var n,r,a,o,s,u=this._x0,l=this._x1,c=[],h=this._root;for(h&&c.push(new i(h,u,l)),null==t?t=1/0:(u=e-t,l=e+t);o=c.pop();)if(!(!(h=o.node)||(r=o.x0)>l||(a=o.x1)<u))if(h.length){var d=(r+a)/2;c.push(new i(h[1],d,a),new i(h[0],r,d)),(s=+(e>=d))&&(o=c[c.length-1],c[c.length-1]=c[c.length-1-s],c[c.length-1-s]=o)}else{var g=Math.abs(e-+this._x.call(null,h.data));g<t&&(t=g,u=e-g,l=e+g,n=h.data)}return n},l.remove=function(e){if(isNaN(a=+this._x.call(null,e)))return this;var t,n,r,i,a,o,s,u,l,c=this._root,h=this._x0,d=this._x1;if(!c)return this;if(c.length)for(;;){if((s=a>=(o=(h+d)/2))?h=o:d=o,t=c,!(c=c[u=+s]))return this;if(!c.length)break;t[u+1&1]&&(n=t,l=u)}for(;c.data!==e;)if(r=c,!(c=c.next))return this;return(i=c.next)&&delete c.next,r?(i?r.next=i:delete r.next,this):t?(i?t[u]=i:delete t[u],(c=t[0]||t[1])&&c===(t[1]||t[0])&&!c.length&&(n?n[l]=c:this._root=c),this):(this._root=i,this)},l.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},l.root=function(){return this._root},l.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},l.visit=function(e){var t,n,r,a,o=[],s=this._root;for(s&&o.push(new i(s,this._x0,this._x1));t=o.pop();)if(!e(s=t.node,r=t.x0,a=t.x1)&&s.length){var u=(r+a)/2;(n=s[1])&&o.push(new i(n,u,a)),(n=s[0])&&o.push(new i(n,r,u))}return this},l.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new i(this._root,this._x0,this._x1));t=n.pop();){var a=t.node;if(a.length){var o,s=t.x0,u=t.x1,l=(s+u)/2;(o=a[0])&&n.push(new i(o,s,l)),(o=a[1])&&n.push(new i(o,l,u))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.x1);return this},l.x=function(e){return arguments.length?(this._x=e,this):this._x};var v=p.prototype=f.prototype;function y(e,t,n,r,i){if(isNaN(t)||isNaN(n)||isNaN(r))return e;var a,o,s,u,l,c,h,d,g,p,f,m,v=e._root,y={data:i},A=e._x0,b=e._y0,x=e._z0,w=e._x1,E=e._y1,_=e._z1;if(!v)return e._root=y,e;for(;v.length;)if((d=t>=(o=(A+w)/2))?A=o:w=o,(g=n>=(s=(b+E)/2))?b=s:E=s,(p=r>=(u=(x+_)/2))?x=u:_=u,a=v,!(v=v[f=p<<2|g<<1|d]))return a[f]=y,e;if(l=+e._x.call(null,v.data),c=+e._y.call(null,v.data),h=+e._z.call(null,v.data),t===l&&n===c&&r===h)return y.next=v,a?a[f]=y:e._root=y,e;do{a=a?a[f]=new Array(8):e._root=new Array(8),(d=t>=(o=(A+w)/2))?A=o:w=o,(g=n>=(s=(b+E)/2))?b=s:E=s,(p=r>=(u=(x+_)/2))?x=u:_=u}while((f=p<<2|g<<1|d)===(m=(h>=u)<<2|(c>=s)<<1|l>=o));return a[m]=v,a[f]=y,e}function A(e,t,n,r,i,a,o){this.node=e,this.x0=t,this.y0=n,this.z0=r,this.x1=i,this.y1=a,this.z1=o}function b(e){return e[0]}function x(e){return e[1]}function w(e){return e[2]}function E(e,t,n,r){var i=new _(null==t?b:t,null==n?x:n,null==r?w:r,NaN,NaN,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function _(e,t,n,r,i,a,o,s,u){this._x=e,this._y=t,this._z=n,this._x0=r,this._y0=i,this._z0=a,this._x1=o,this._y1=s,this._z1=u,this._root=void 0}function C(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}v.copy=function(){var e,t,n=new f(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=m(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=m(t));return n},v.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return c(this.cover(t,n),t,n,e)},v.addAll=function(e){var t,n,r,i,a=e.length,o=new Array(a),s=new Array(a),u=1/0,l=1/0,h=-1/0,d=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=r,s[n]=i,r<u&&(u=r),r>h&&(h=r),i<l&&(l=i),i>d&&(d=i));if(u>h||l>d)return this;for(this.cover(u,l).cover(h,d),n=0;n<a;++n)c(this,o[n],s[n],e[n]);return this},v.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var o,s,u=i-n||1,l=this._root;n>e||e>=i||r>t||t>=a;)switch(s=(t<r)<<1|e<n,(o=new Array(4))[s]=l,l=o,u*=2,s){case 0:i=n+u,a=r+u;break;case 1:n=i-u,a=r+u;break;case 2:i=n+u,r=a-u;break;case 3:n=i-u,r=a-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},v.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},v.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},v.find=function(e,t,n){var r,i,a,o,s,u,l,c=this._x0,d=this._y0,g=this._x1,p=this._y1,f=[],m=this._root;for(m&&f.push(new h(m,c,d,g,p)),null==n?n=1/0:(c=e-n,d=t-n,g=e+n,p=t+n,n*=n);u=f.pop();)if(!(!(m=u.node)||(i=u.x0)>g||(a=u.y0)>p||(o=u.x1)<c||(s=u.y1)<d))if(m.length){var v=(i+o)/2,y=(a+s)/2;f.push(new h(m[3],v,y,o,s),new h(m[2],i,y,v,s),new h(m[1],v,a,o,y),new h(m[0],i,a,v,y)),(l=(t>=y)<<1|e>=v)&&(u=f[f.length-1],f[f.length-1]=f[f.length-1-l],f[f.length-1-l]=u)}else{var A=e-+this._x.call(null,m.data),b=t-+this._y.call(null,m.data),x=A*A+b*b;if(x<n){var w=Math.sqrt(n=x);c=e-w,d=t-w,g=e+w,p=t+w,r=m.data}}return r},v.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,i,a,o,s,u,l,c,h,d,g=this._root,p=this._x0,f=this._y0,m=this._x1,v=this._y1;if(!g)return this;if(g.length)for(;;){if((l=a>=(s=(p+m)/2))?p=s:m=s,(c=o>=(u=(f+v)/2))?f=u:v=u,t=g,!(g=g[h=c<<1|l]))return this;if(!g.length)break;(t[h+1&3]||t[h+2&3]||t[h+3&3])&&(n=t,d=h)}for(;g.data!==e;)if(r=g,!(g=g.next))return this;return(i=g.next)&&delete g.next,r?(i?r.next=i:delete r.next,this):t?(i?t[h]=i:delete t[h],(g=t[0]||t[1]||t[2]||t[3])&&g===(t[3]||t[2]||t[1]||t[0])&&!g.length&&(n?n[d]=g:this._root=g),this):(this._root=i,this)},v.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},v.root=function(){return this._root},v.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},v.visit=function(e){var t,n,r,i,a,o,s=[],u=this._root;for(u&&s.push(new h(u,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(u=t.node,r=t.x0,i=t.y0,a=t.x1,o=t.y1)&&u.length){var l=(r+a)/2,c=(i+o)/2;(n=u[3])&&s.push(new h(n,l,c,a,o)),(n=u[2])&&s.push(new h(n,r,c,l,o)),(n=u[1])&&s.push(new h(n,l,i,a,c)),(n=u[0])&&s.push(new h(n,r,i,l,c))}return this},v.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new h(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,s=t.y0,u=t.x1,l=t.y1,c=(o+u)/2,d=(s+l)/2;(a=i[0])&&n.push(new h(a,o,s,c,d)),(a=i[1])&&n.push(new h(a,c,s,u,d)),(a=i[2])&&n.push(new h(a,o,d,c,l)),(a=i[3])&&n.push(new h(a,c,d,u,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},v.x=function(e){return arguments.length?(this._x=e,this):this._x},v.y=function(e){return arguments.length?(this._y=e,this):this._y};var M=E.prototype=_.prototype;M.copy=function(){var e,t,n=new _(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root;if(!r)return n;if(!r.length)return n._root=C(r),n;for(e=[{source:r,target:n._root=new Array(8)}];r=e.pop();)for(var i=0;i<8;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(8)}):r.target[i]=C(t));return n},M.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e),r=+this._z.call(null,e);return y(this.cover(t,n,r),t,n,r,e)},M.addAll=function(e){Array.isArray(e)||(e=Array.from(e));for(var t,n,r,i,a=e.length,o=new Float64Array(a),s=new Float64Array(a),u=new Float64Array(a),l=1/0,c=1/0,h=1/0,d=-1/0,g=-1/0,p=-1/0,f=0;f<a;++f)isNaN(n=+this._x.call(null,t=e[f]))||isNaN(r=+this._y.call(null,t))||isNaN(i=+this._z.call(null,t))||(o[f]=n,s[f]=r,u[f]=i,n<l&&(l=n),n>d&&(d=n),r<c&&(c=r),r>g&&(g=r),i<h&&(h=i),i>p&&(p=i));if(l>d||c>g||h>p)return this;this.cover(l,c,h).cover(d,g,p);for(var m=0;m<a;++m)y(this,o[m],s[m],u[m],e[m]);return this},M.cover=function(e,t,n){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,a=this._z0,o=this._x1,s=this._y1,u=this._z1;if(isNaN(r))o=(r=Math.floor(e))+1,s=(i=Math.floor(t))+1,u=(a=Math.floor(n))+1;else{for(var l,c,h=o-r||1,d=this._root;r>e||e>=o||i>t||t>=s||a>n||n>=u;)switch(c=(n<a)<<2|(t<i)<<1|e<r,(l=new Array(8))[c]=d,d=l,h*=2,c){case 0:o=r+h,s=i+h,u=a+h;break;case 1:r=o-h,s=i+h,u=a+h;break;case 2:o=r+h,i=s-h,u=a+h;break;case 3:r=o-h,i=s-h,u=a+h;break;case 4:o=r+h,s=i+h,a=u-h;break;case 5:r=o-h,s=i+h,a=u-h;break;case 6:o=r+h,i=s-h,a=u-h;break;case 7:r=o-h,i=s-h,a=u-h}this._root&&this._root.length&&(this._root=d)}return this._x0=r,this._y0=i,this._z0=a,this._x1=o,this._y1=s,this._z1=u,this},M.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},M.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},M.find=function(e,t,n,r){var i,a,o,s,u,l,c,h,d,g=this._x0,p=this._y0,f=this._z0,m=this._x1,v=this._y1,y=this._z1,b=[],x=this._root;for(x&&b.push(new A(x,g,p,f,m,v,y)),null==r?r=1/0:(g=e-r,p=t-r,f=n-r,m=e+r,v=t+r,y=n+r,r*=r);h=b.pop();)if(!(!(x=h.node)||(a=h.x0)>m||(o=h.y0)>v||(s=h.z0)>y||(u=h.x1)<g||(l=h.y1)<p||(c=h.z1)<f))if(x.length){var w=(a+u)/2,E=(o+l)/2,_=(s+c)/2;b.push(new A(x[7],w,E,_,u,l,c),new A(x[6],a,E,_,w,l,c),new A(x[5],w,o,_,u,E,c),new A(x[4],a,o,_,w,E,c),new A(x[3],w,E,s,u,l,_),new A(x[2],a,E,s,w,l,_),new A(x[1],w,o,s,u,E,_),new A(x[0],a,o,s,w,E,_)),(d=(n>=_)<<2|(t>=E)<<1|e>=w)&&(h=b[b.length-1],b[b.length-1]=b[b.length-1-d],b[b.length-1-d]=h)}else{var C=e-+this._x.call(null,x.data),M=t-+this._y.call(null,x.data),S=n-+this._z.call(null,x.data),I=C*C+M*M+S*S;if(I<r){var T=Math.sqrt(r=I);g=e-T,p=t-T,f=n-T,m=e+T,v=t+T,y=n+T,i=x.data}}return i},M.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e))||isNaN(s=+this._z.call(null,e)))return this;var t,n,r,i,a,o,s,u,l,c,h,d,g,p,f,m=this._root,v=this._x0,y=this._y0,A=this._z0,b=this._x1,x=this._y1,w=this._z1;if(!m)return this;if(m.length)for(;;){if((h=a>=(u=(v+b)/2))?v=u:b=u,(d=o>=(l=(y+x)/2))?y=l:x=l,(g=s>=(c=(A+w)/2))?A=c:w=c,t=m,!(m=m[p=g<<2|d<<1|h]))return this;if(!m.length)break;(t[p+1&7]||t[p+2&7]||t[p+3&7]||t[p+4&7]||t[p+5&7]||t[p+6&7]||t[p+7&7])&&(n=t,f=p)}for(;m.data!==e;)if(r=m,!(m=m.next))return this;return(i=m.next)&&delete m.next,r?(i?r.next=i:delete r.next,this):t?(i?t[p]=i:delete t[p],(m=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&m===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!m.length&&(n?n[f]=m:this._root=m),this):(this._root=i,this)},M.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},M.root=function(){return this._root},M.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},M.visit=function(e){var t,n,r,i,a,o,s,u,l=[],c=this._root;for(c&&l.push(new A(c,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=l.pop();)if(!e(c=t.node,r=t.x0,i=t.y0,a=t.z0,o=t.x1,s=t.y1,u=t.z1)&&c.length){var h=(r+o)/2,d=(i+s)/2,g=(a+u)/2;(n=c[7])&&l.push(new A(n,h,d,g,o,s,u)),(n=c[6])&&l.push(new A(n,r,d,g,h,s,u)),(n=c[5])&&l.push(new A(n,h,i,g,o,d,u)),(n=c[4])&&l.push(new A(n,r,i,g,h,d,u)),(n=c[3])&&l.push(new A(n,h,d,a,o,s,g)),(n=c[2])&&l.push(new A(n,r,d,a,h,s,g)),(n=c[1])&&l.push(new A(n,h,i,a,o,d,g)),(n=c[0])&&l.push(new A(n,r,i,a,h,d,g))}return this},M.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new A(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,s=t.y0,u=t.z0,l=t.x1,c=t.y1,h=t.z1,d=(o+l)/2,g=(s+c)/2,p=(u+h)/2;(a=i[0])&&n.push(new A(a,o,s,u,d,g,p)),(a=i[1])&&n.push(new A(a,d,s,u,l,g,p)),(a=i[2])&&n.push(new A(a,o,g,u,d,c,p)),(a=i[3])&&n.push(new A(a,d,g,u,l,c,p)),(a=i[4])&&n.push(new A(a,o,s,p,d,g,h)),(a=i[5])&&n.push(new A(a,d,s,p,l,g,h)),(a=i[6])&&n.push(new A(a,o,g,p,d,c,h)),(a=i[7])&&n.push(new A(a,d,g,p,l,c,h))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this},M.x=function(e){return arguments.length?(this._x=e,this):this._x},M.y=function(e){return arguments.length?(this._y=e,this):this._y},M.z=function(e){return arguments.length?(this._z=e,this):this._z};var S=n(3647),I=n(7982),T=n(2105);function k(){var e,t,n,r,i,a,s=(0,S.Z)(-30),u=1,l=1/0,c=.81;function h(r){var a,s=e.length,u=(1===t?o(e,T.x):2===t?p(e,T.x,T.y):3===t?E(e,T.x,T.y,T.z):null).visitAfter(g);for(i=r,a=0;a<s;++a)n=e[a],u.visit(f)}function d(){if(e){var t,n,r=e.length;for(a=new Array(r),t=0;t<r;++t)n=e[t],a[n.index]=+s(n,t,e)}}function g(e){var n,r,i,o,s,u,l=0,c=0,h=e.length;if(h){for(i=o=s=u=0;u<h;++u)(n=e[u])&&(r=Math.abs(n.value))&&(l+=n.value,c+=r,i+=r*(n.x||0),o+=r*(n.y||0),s+=r*(n.z||0));l*=Math.sqrt(4/h),e.x=i/c,t>1&&(e.y=o/c),t>2&&(e.z=s/c)}else{(n=e).x=n.data.x,t>1&&(n.y=n.data.y),t>2&&(n.z=n.data.z);do{l+=a[n.data.index]}while(n=n.next)}e.value=l}function f(e,o,s,h,d){if(!e.value)return!0;var g=[s,h,d][t-1],p=e.x-n.x,f=t>1?e.y-n.y:0,m=t>2?e.z-n.z:0,v=g-o,y=p*p+f*f+m*m;if(v*v/c<y)return y<l&&(0===p&&(y+=(p=(0,I.Z)(r))*p),t>1&&0===f&&(y+=(f=(0,I.Z)(r))*f),t>2&&0===m&&(y+=(m=(0,I.Z)(r))*m),y<u&&(y=Math.sqrt(u*y)),n.vx+=p*e.value*i/y,t>1&&(n.vy+=f*e.value*i/y),t>2&&(n.vz+=m*e.value*i/y)),!0;if(!(e.length||y>=l)){(e.data!==n||e.next)&&(0===p&&(y+=(p=(0,I.Z)(r))*p),t>1&&0===f&&(y+=(f=(0,I.Z)(r))*f),t>2&&0===m&&(y+=(m=(0,I.Z)(r))*m),y<u&&(y=Math.sqrt(u*y)));do{e.data!==n&&(v=a[e.data.index]*i/y,n.vx+=p*v,t>1&&(n.vy+=f*v),t>2&&(n.vz+=m*v))}while(e=e.next)}}return h.initialize=function(n){e=n;for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];r=a.find((function(e){return"function"===typeof e}))||Math.random,t=a.find((function(e){return[1,2,3].includes(e)}))||2,d()},h.strength=function(e){return arguments.length?(s="function"===typeof e?e:(0,S.Z)(+e),d(),h):s},h.distanceMin=function(e){return arguments.length?(u=e*e,h):Math.sqrt(u)},h.distanceMax=function(e){return arguments.length?(l=e*e,h):Math.sqrt(l)},h.theta=function(e){return arguments.length?(c=e*e,h):Math.sqrt(c)},h}},9090:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3647);function i(e,t,n,i){var a,o,s,u,l=(0,r.Z)(.1);function c(e){for(var r=0,l=a.length;r<l;++r){var c=a[r],h=c.x-t||1e-6,d=(c.y||0)-n||1e-6,g=(c.z||0)-i||1e-6,p=Math.sqrt(h*h+d*d+g*g),f=(u[r]-p)*s[r]*e/p;c.vx+=h*f,o>1&&(c.vy+=d*f),o>2&&(c.vz+=g*f)}}function h(){if(a){var t,n=a.length;for(s=new Array(n),u=new Array(n),t=0;t<n;++t)u[t]=+e(a[t],t,a),s[t]=isNaN(u[t])?0:+l(a[t],t,a)}}return"function"!==typeof e&&(e=(0,r.Z)(+e)),null==t&&(t=0),null==n&&(n=0),null==i&&(i=0),c.initialize=function(e){a=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o=n.find((function(e){return[1,2,3].includes(e)}))||2,h()},c.strength=function(e){return arguments.length?(l="function"===typeof e?e:(0,r.Z)(+e),h(),c):l},c.radius=function(t){return arguments.length?(e="function"===typeof t?t:(0,r.Z)(+t),h(),c):e},c.x=function(e){return arguments.length?(t=+e,c):t},c.y=function(e){return arguments.length?(n=+e,c):n},c.z=function(e){return arguments.length?(i=+e,c):i},c}},2105:function(e,t,n){"use strict";n.d(t,{Z:function(){return f},x:function(){return l},y:function(){return c},z:function(){return h}});var r=n(6383),i=n(5531),a=1664525,o=1013904223,s=4294967296;var u=3;function l(e){return e.x}function c(e){return e.y}function h(e){return e.z}var d=10,g=Math.PI*(3-Math.sqrt(5)),p=20*Math.PI/(9+Math.sqrt(221));function f(e,t){t=t||2;var n,l=Math.min(u,Math.max(1,Math.round(t))),c=1,h=.001,f=1-Math.pow(h,1/300),m=0,v=.6,y=new Map,A=(0,i.HT)(w),b=(0,r.Z)("tick","end"),x=function(){var e=1;return function(){return(e=(a*e+o)%s)/s}}();function w(){E(),b.call("tick",n),c<h&&(A.stop(),b.call("end",n))}function E(t){var r,i,a=e.length;void 0===t&&(t=1);for(var o=0;o<t;++o)for(c+=(m-c)*f,y.forEach((function(e){e(c)})),r=0;r<a;++r)null==(i=e[r]).fx?i.x+=i.vx*=v:(i.x=i.fx,i.vx=0),l>1&&(null==i.fy?i.y+=i.vy*=v:(i.y=i.fy,i.vy=0)),l>2&&(null==i.fz?i.z+=i.vz*=v:(i.z=i.fz,i.vz=0));return n}function _(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),null!=t.fz&&(t.z=t.fz),isNaN(t.x)||l>1&&isNaN(t.y)||l>2&&isNaN(t.z)){var i=d*(l>2?Math.cbrt(.5+n):l>1?Math.sqrt(.5+n):n),a=n*g,o=n*p;1===l?t.x=i:2===l?(t.x=i*Math.cos(a),t.y=i*Math.sin(a)):(t.x=i*Math.sin(a)*Math.cos(o),t.y=i*Math.cos(a),t.z=i*Math.sin(a)*Math.sin(o))}(isNaN(t.vx)||l>1&&isNaN(t.vy)||l>2&&isNaN(t.vz))&&(t.vx=0,l>1&&(t.vy=0),l>2&&(t.vz=0))}}function C(t){return t.initialize&&t.initialize(e,x,l),t}return null==e&&(e=[]),_(),n={tick:E,restart:function(){return A.restart(w),n},stop:function(){return A.stop(),n},numDimensions:function(e){return arguments.length?(l=Math.min(u,Math.max(1,Math.round(e))),y.forEach(C),n):l},nodes:function(t){return arguments.length?(e=t,_(),y.forEach(C),n):e},alpha:function(e){return arguments.length?(c=+e,n):c},alphaMin:function(e){return arguments.length?(h=+e,n):h},alphaDecay:function(e){return arguments.length?(f=+e,n):+f},alphaTarget:function(e){return arguments.length?(m=+e,n):m},velocityDecay:function(e){return arguments.length?(v=1-e,n):1-v},randomSource:function(e){return arguments.length?(x=e,y.forEach(C),n):x},force:function(e,t){return arguments.length>1?(null==t?y.delete(e):y.set(e,C(t)),n):y.get(e)},find:function(){var t,n,r,i,a,o,s=Array.prototype.slice.call(arguments),u=s.shift()||0,c=(l>1?s.shift():null)||0,h=(l>2?s.shift():null)||0,d=s.shift()||1/0,g=0,p=e.length;for(d*=d,g=0;g<p;++g)(i=(t=u-(a=e[g]).x)*t+(n=c-(a.y||0))*n+(r=h-(a.z||0))*r)<d&&(o=a,d=i);return o},on:function(e,t){return arguments.length>1?(b.on(e,t),n):b.on(e)}}}},3824:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var r=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928")},507:function(e,t,n){"use strict";function r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}n.d(t,{o:function(){return r}})},3482:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(7762),i=n(885),a=n(5671),o=n(3144),s=n(7326),u=n(1752),l=n(1120),c=n(136),h=n(7277),d=function(e){(0,c.Z)(n,e);var t=(0,h.Z)(n);function n(e){var o,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;if((0,a.Z)(this,n),o=t.call(this),Object.defineProperties((0,s.Z)(o),{_intern:{value:new Map},_key:{value:u}}),null!=e){var l,c=(0,r.Z)(e);try{for(c.s();!(l=c.n()).done;){var h=(0,i.Z)(l.value,2),d=h[0],g=h[1];o.set(d,g)}}catch(p){c.e(p)}finally{c.f()}}return o}return(0,o.Z)(n,[{key:"get",value:function(e){return(0,u.Z)((0,l.Z)(n.prototype),"get",this).call(this,g(this,e))}},{key:"has",value:function(e){return(0,u.Z)((0,l.Z)(n.prototype),"has",this).call(this,g(this,e))}},{key:"set",value:function(e,t){return(0,u.Z)((0,l.Z)(n.prototype),"set",this).call(this,p(this,e),t)}},{key:"delete",value:function(e){return(0,u.Z)((0,l.Z)(n.prototype),"delete",this).call(this,f(this,e))}}]),n}((0,n(8737).Z)(Map));function g(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):t}function p(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function f(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function m(e){return null!==e&&"object"===typeof e?e.valueOf():e}var v=n(507),y=Symbol("implicit");function A(){var e=new d,t=[],n=[],i=y;function a(r){var a=e.get(r);if(void 0===a){if(i!==y)return i;e.set(r,a=t.push(r)-1)}return n[a%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new d;var i,o=(0,r.Z)(n);try{for(o.s();!(i=o.n()).done;){var s=i.value;e.has(s)||e.set(s,t.push(s)-1)}}catch(u){o.e(u)}finally{o.f()}return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(i=e,a):i},a.copy=function(){return A(t,n).unknown(i)},v.o.apply(a,arguments),a}},5531:function(e,t,n){"use strict";n.d(t,{B7:function(){return m},HT:function(){return v},zO:function(){return p}});var r,i,a=0,o=0,s=0,u=1e3,l=0,c=0,h=0,d="object"===typeof performance&&performance.now?performance:Date,g="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function p(){return c||(g(f),c=d.now()+h)}function f(){c=0}function m(){this._call=this._time=this._next=null}function v(e,t,n){var r=new m;return r.restart(e,t,n),r}function y(){c=(l=d.now())+h,a=o=0;try{!function(){p(),++a;for(var e,t=r;t;)(e=c-t._time)>=0&&t._call.call(void 0,e),t=t._next;--a}()}finally{a=0,function(){var e,t,n=r,a=1/0;for(;n;)n._call?(a>n._time&&(a=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);i=e,b(a)}(),c=0}}function A(){var e=d.now(),t=e-l;t>u&&(h-=t,l=e)}function b(e){a||(o&&(o=clearTimeout(o)),e-c>24?(e<1/0&&(o=setTimeout(y,e-d.now()-h)),s&&(s=clearInterval(s))):(s||(l=d.now(),s=setInterval(A,u)),a=1,g(y)))}m.prototype=v.prototype={constructor:m,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?p():+n)+(null==t?0:+t),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=e,this._time=n,b()},stop:function(){this._call&&(this._call=null,this._time=1/0,b())}}},2737:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}n.d(t,{Z:function(){return l}});var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=(t instanceof Array?t.length?t:[void 0]:[t]).map((function(e){return{keyAccessor:e,isProp:!(e instanceof Function)}})),l=e.reduce((function(e,t){var i=e,a=t;return s.forEach((function(e,t){var o,l=e.keyAccessor;if(e.isProp){var c=a,h=c[l],d=r(c,[l].map(u));o=h,a=d}else o=l(a,t);t+1<s.length?(i.hasOwnProperty(o)||(i[o]={}),i=i[o]):n?(i.hasOwnProperty(o)||(i[o]=[]),i[o].push(a)):i[o]=a})),e}),{});n instanceof Function&&function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;r===s.length?Object.keys(t).forEach((function(e){return t[e]=n(t[e])})):Object.values(t).forEach((function(t){return e(t,r+1)}))}(l);var c=l;return o&&(c=[],function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n.length===s.length?c.push({keys:n,vals:t}):Object.entries(t).forEach((function(t){var r=i(t,2),o=r[0],s=r[1];return e(s,[].concat(a(n),[o]))}))}(l),t instanceof Array&&0===t.length&&1===c.length&&(c[0].keys=[])),c}},4467:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(2665);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var l=a((function e(t,n){var r=n.default,i=void 0===r?null:r,a=n.triggerUpdate,o=void 0===a||a,s=n.onChange,u=void 0===s?function(e,t){}:s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.defaultVal=i,this.triggerUpdate=o,this.onChange=u}));function c(e){var t=e.stateInit,n=void 0===t?function(){return{}}:t,i=e.props,a=void 0===i?{}:i,s=e.methods,u=void 0===s?{}:s,c=e.aliases,h=void 0===c?{}:c,d=e.init,g=void 0===d?function(){}:d,p=e.update,f=void 0===p?function(){}:p,m=Object.keys(a).map((function(e){return new l(e,a[e])}));return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},n instanceof Function?n(e):n,{initialised:!1}),i={};function a(t){return s(t,e),l(),a}var s=function(e,n){g.call(a,e,t,n),t.initialised=!0},l=(0,r.Z)((function(){t.initialised&&(f.call(a,t,i),i={})}),1);return m.forEach((function(e){a[e.name]=function(e){var n=e.name,r=e.triggerUpdate,o=void 0!==r&&r,s=e.onChange,u=void 0===s?function(e,t){}:s,c=e.defaultVal,h=void 0===c?null:c;return function(e){var r=t[n];if(!arguments.length)return r;var s=void 0===e?h:e;return t[n]=s,u.call(a,s,t,r),!i.hasOwnProperty(n)&&(i[n]=r),o&&l(),a}}(e)})),Object.keys(u).forEach((function(e){a[e]=function(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=u[e]).call.apply(n,[a,t].concat(i))}})),Object.entries(h).forEach((function(e){var t=o(e,2),n=t[0],r=t[1];return a[n]=a[r]})),a.resetProps=function(){return m.forEach((function(e){a[e.name](e.defaultVal)})),a},a.resetProps(),t._rerender=l,a}}},2665:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});var r=n(8465),i="object"==typeof global&&global&&global.Object===Object&&global,a="object"==typeof self&&self&&self.Object===Object&&self,o=i||a||Function("return this")(),s=function(){return o.Date.now()},u=/\s/;var l=function(e){for(var t=e.length;t--&&u.test(e.charAt(t)););return t},c=/^\s+/;var h=function(e){return e?e.slice(0,l(e)+1).replace(c,""):e},d=o.Symbol,g=Object.prototype,p=g.hasOwnProperty,f=g.toString,m=d?d.toStringTag:void 0;var v=function(e){var t=p.call(e,m),n=e[m];try{e[m]=void 0;var r=!0}catch(a){}var i=f.call(e);return r&&(t?e[m]=n:delete e[m]),i},y=Object.prototype.toString;var A=function(e){return y.call(e)},b=d?d.toStringTag:void 0;var x=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":b&&b in Object(e)?v(e):A(e)};var w=function(e){return null!=e&&"object"==typeof e};var E=function(e){return"symbol"==typeof e||w(e)&&"[object Symbol]"==x(e)},_=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,M=/^0o[0-7]+$/i,S=parseInt;var I=function(e){if("number"==typeof e)return e;if(E(e))return NaN;if((0,r.Z)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,r.Z)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=h(e);var n=C.test(e);return n||M.test(e)?S(e.slice(2),n?2:8):_.test(e)?NaN:+e},T=Math.max,k=Math.min;var R=function(e,t,n){var i,a,o,u,l,c,h=0,d=!1,g=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=i,r=a;return i=a=void 0,h=t,u=e.apply(r,n)}function m(e){var n=e-c;return void 0===c||n>=t||n<0||g&&e-h>=o}function v(){var e=s();if(m(e))return y(e);l=setTimeout(v,function(e){var n=t-(e-c);return g?k(n,o-(e-h)):n}(e))}function y(e){return l=void 0,p&&i?f(e):(i=a=void 0,u)}function A(){var e=s(),n=m(e);if(i=arguments,a=this,c=e,n){if(void 0===l)return function(e){return h=e,l=setTimeout(v,t),d?f(e):u}(c);if(g)return clearTimeout(l),l=setTimeout(v,t),f(c)}return void 0===l&&(l=setTimeout(v,t)),u}return t=I(t)||0,(0,r.Z)(n)&&(d=!!n.leading,o=(g="maxWait"in n)?T(I(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),A.cancel=function(){void 0!==l&&clearTimeout(l),h=0,i=c=a=l=void 0},A.flush=function(){return void 0===l?u:y(s())},A}},8465:function(e,t){"use strict";t.Z=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},94:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return oe}});var r=n(323),i=n(2105),a=n(1813),o=n(2645),s=n(5442),u=n(9090),l=n(1700),c=n(2070),h=n(4467),d=n(5233),g=n(420),p=n(6556),f=n(2737);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=["createObj","updateObj","exitObj","objBindAttr","dataBindAttr"];function _(e,t,n){var r=n.objBindAttr,i=void 0===r?"__obj":r,a=n.dataBindAttr,o=void 0===a?"__data":a,s=n.idAccessor,u=n.purge,l=void 0!==u&&u,c=function(e){return e.hasOwnProperty(o)},h=t.filter((function(e){return!c(e)})),d=t.filter(c).map((function(e){return e[o]})),g=l?{enter:e,exit:d,update:[]}:function(e,t,n){var r={enter:[],update:[],exit:[]};if(n){var i=(0,f.Z)(e,n,!1),a=(0,f.Z)(t,n,!1),o=Object.assign({},i,a);Object.entries(o).forEach((function(e){var t=A(e,2),n=t[0],o=t[1],s=i.hasOwnProperty(n)?a.hasOwnProperty(n)?"update":"exit":"enter";r[s].push("update"===s?[i[n],a[n]]:o)}))}else{var s=new Set(e),u=new Set(t);new Set([].concat(b(s),b(u))).forEach((function(e){var t=s.has(e)?u.has(e)?"update":"exit":"enter";r[t].push("update"===t?[e,e]:e)}))}return r}(d,e,s);return g.update=g.update.map((function(e){var t=A(e,2),n=t[0],r=t[1];return n!==r&&(r[i]=n[i],r[i][o]=r),r})),g.exit=g.exit.concat(h.map((function(e){return v({},i,e)}))),g}function C(e,t,n,r,i){var a=i.createObj,o=void 0===a?function(e){return{}}:a,s=i.updateObj,u=void 0===s?function(e,t){}:s,l=i.exitObj,c=void 0===l?function(e){}:l,h=i.objBindAttr,d=void 0===h?"__obj":h,g=i.dataBindAttr,p=void 0===g?"__data":g,f=y(i,E),A=_(e,t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({objBindAttr:d,dataBindAttr:p},f)),x=A.enter,w=A.update;A.exit.forEach((function(e){var t=e[d];delete e[d],c(t),r(t)}));var C=function(e){var t=[];return e.forEach((function(e){var n=o(e);n&&(n[p]=e,e[d]=n,t.push(n))})),t}(x);!function(e){e.forEach((function(e){var t=e[d];t&&(t[p]=e,u(t,e))}))}([].concat(b(x),b(w))),C.forEach(n)}var M=n(3482),S=n(3824),I=n(707);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q(r.key),r)}}function B(e,t,n){return(t=Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function O(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function N(e,t,n){return N=O()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&P(i,n.prototype),i},N.apply(null,arguments)}function F(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){var t=O();return function(){var n,r=D(e);if(t){var i=D(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return U(e)}(this,n)}}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||G(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"===typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var W=function e(t){t instanceof Array?t.forEach(e):(t.map&&t.map.dispose(),t.dispose())},q=function e(t){t.geometry&&t.geometry.dispose(),t.material&&W(t.material),t.texture&&t.texture.dispose(),t.children&&t.children.forEach(e)},K=function(e){for(;e.children.length;){var t=e.children[0];e.remove(t),q(t)}},X=["objFilter"];function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.objFilter,i=void 0===r?function(){return!0}:r,a=F(n,X);return C(e,t.children.filter(i),(function(e){return t.add(e)}),(function(e){t.remove(e),K(e)}),k({objBindAttr:"__threeObj"},a))}var Y=function(e){return isNaN(e)?parseInt((0,I.Z)(e).toHex(),16):e},J=function(e){return isNaN(e)?(0,I.Z)(e).getAlpha():1},$=(0,M.Z)(S.Z);function ee(e,t,n){t&&"string"===typeof n&&e.filter((function(e){return!e[n]})).forEach((function(e){e[n]=$(t(e))}))}var te=window.THREE?window.THREE:{Group:r.ZAu,Mesh:r.Kj0,MeshLambertMaterial:r.YBo,Color:r.Ilk,BufferGeometry:r.u9r,BufferAttribute:r.TlE,Matrix4:r.yGw,Vector3:r.Pa4,SphereGeometry:r.xo$,CylinderGeometry:r.fHI,TubeGeometry:r.WXh,ConeGeometry:r.b_z,Line:r.x12,LineBasicMaterial:r.nls,QuadraticBezierCurve3:r.mXe,CubicBezierCurve3:r.yj7,Box3:r.ZzF},ne={graph:l,forcelayout:c},re=(new te.BufferGeometry).setAttribute?"setAttribute":"addAttribute",ie=(new te.BufferGeometry).applyMatrix4?"applyMatrix4":"applyMatrix",ae=(0,h.Z)({props:{jsonUrl:{onChange:function(e,t){var n=this;e&&!t.fetchingJson&&(t.fetchingJson=!0,t.onLoading(),fetch(e).then((function(e){return e.json()})).then((function(e){t.fetchingJson=!1,t.onFinishLoading(e),n.graphData(e)})))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,t){t.engineRunning=!1}},numDimensions:{default:3,onChange:function(e,t){var n=t.d3ForceLayout.force("charge");function r(e,t){e.forEach((function(e){delete e[t],delete e["v".concat(t)]}))}n&&n.strength(e>2?-60:-30),e<3&&r(t.graphData.nodes,"z"),e<2&&r(t.graphData.nodes,"y")}},dagMode:{onChange:function(e,t){!e&&"d3"===t.forceEngine&&(t.graphData.nodes||[]).forEach((function(e){return e.fx=e.fy=e.fz=void 0}))}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeVisibility:{default:!0},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},nodePositionUpdate:{triggerUpdate:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{},linkResolution:{default:6},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{triggerUpdate:!1},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.velocityDecay(e)}},ngraphPhysics:{default:{timeStep:20,gravity:-1.2,theta:.8,springLength:30,springCoefficient:8e-4,dragCoefficient:.02}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1}},methods:{refresh:function(e){return e._flushObjects=!0,e._rerender(),this},d3Force:function(e,t,n){return void 0===n?e.d3ForceLayout.force(t):(e.d3ForceLayout.force(t,n),this)},d3ReheatSimulation:function(e){return e.d3ForceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},tickFrame:function(e){var t="ngraph"!==e.forceEngine;return e.engineRunning&&function(){++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||t&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.layout[t?"tick":"step"](),e.onEngineTick());var n=(0,d.default)(e.nodeThreeObjectExtend);e.graphData.nodes.forEach((function(r){var i=r.__threeObj;if(i){var a=t?r:e.layout.getNodePosition(r[e.nodeId]),o=n(r);e.nodePositionUpdate&&e.nodePositionUpdate(o?i.children[0]:i,{x:a.x,y:a.y,z:a.z},r)&&!o||(i.position.x=a.x,i.position.y=a.y||0,i.position.z=a.z||0)}}));var r=(0,d.default)(e.linkWidth),i=(0,d.default)(e.linkCurvature),a=(0,d.default)(e.linkCurveRotation),o=(0,d.default)(e.linkThreeObjectExtend);function s(n){var r=t?n:e.layout.getLinkPosition(e.layout.graph.getLink(n.source,n.target).id),o=r[t?"source":"from"],s=r[t?"target":"to"];if(o&&s&&o.hasOwnProperty("x")&&s.hasOwnProperty("x")){var u=i(n);if(u){var l,c=new te.Vector3(o.x,o.y||0,o.z||0),h=new te.Vector3(s.x,s.y||0,s.z||0),d=c.distanceTo(h),g=a(n);if(d>0){var p=s.x-o.x,f=s.y-o.y||0,m=(new te.Vector3).subVectors(h,c),v=m.clone().multiplyScalar(u).cross(0!==p||0!==f?new te.Vector3(0,0,1):new te.Vector3(0,1,0)).applyAxisAngle(m.normalize(),g).add((new te.Vector3).addVectors(c,h).divideScalar(2));l=new te.QuadraticBezierCurve3(c,v,h)}else{var y=70*u,A=-g,b=A+Math.PI/2;l=new te.CubicBezierCurve3(c,new te.Vector3(y*Math.cos(b),y*Math.sin(b),0).add(c),new te.Vector3(y*Math.cos(A),y*Math.sin(A),0).add(c),h)}n.__curve=l}else n.__curve=null}}e.graphData.links.forEach((function(n){var i=n.__lineObj;if(i){var a=t?n:e.layout.getLinkPosition(e.layout.graph.getLink(n.source,n.target).id),u=a[t?"source":"from"],l=a[t?"target":"to"];if(u&&l&&u.hasOwnProperty("x")&&l.hasOwnProperty("x")){s(n);var c=o(n);if(!e.linkPositionUpdate||!e.linkPositionUpdate(c?i.children[1]:i,{start:{x:u.x,y:u.y,z:u.z},end:{x:l.x,y:l.y,z:l.z}},n)||c){var h=30,d=n.__curve,g=i.children.length?i.children[0]:i;if("Line"===g.type){if(d)g.geometry.setFromPoints(d.getPoints(h));else{var p=g.geometry.getAttribute("position");p&&p.array&&6===p.array.length||g.geometry[re]("position",p=new te.BufferAttribute(new Float32Array(6),3)),p.array[0]=u.x,p.array[1]=u.y||0,p.array[2]=u.z||0,p.array[3]=l.x,p.array[4]=l.y||0,p.array[5]=l.z||0,p.needsUpdate=!0}g.geometry.computeBoundingSphere()}else if("Mesh"===g.type)if(d){g.geometry.type.match(/^Tube(Buffer)?Geometry$/)||(g.position.set(0,0,0),g.rotation.set(0,0,0),g.scale.set(1,1,1));var f=Math.ceil(10*r(n))/10/2,m=new te.TubeGeometry(d,h,f,e.linkResolution,!1);g.geometry.dispose(),g.geometry=m}else{if(!g.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)){var v=Math.ceil(10*r(n))/10/2,y=new te.CylinderGeometry(v,v,1,e.linkResolution,1,!1);y[ie]((new te.Matrix4).makeTranslation(0,.5,0)),y[ie]((new te.Matrix4).makeRotationX(Math.PI/2)),g.geometry.dispose(),g.geometry=y}var A=new te.Vector3(u.x,u.y||0,u.z||0),b=new te.Vector3(l.x,l.y||0,l.z||0),x=A.distanceTo(b);g.position.x=A.x,g.position.y=A.y,g.position.z=A.z,g.scale.z=x,g.parent.localToWorld(b),g.lookAt(b)}}}}}))}(),function(){var n=(0,d.default)(e.linkDirectionalArrowRelPos),r=(0,d.default)(e.linkDirectionalArrowLength),i=(0,d.default)(e.nodeVal);e.graphData.links.forEach((function(a){var o=a.__arrowObj;if(o){var s=t?a:e.layout.getLinkPosition(e.layout.graph.getLink(a.source,a.target).id),u=s[t?"source":"from"],l=s[t?"target":"to"];if(u&&l&&u.hasOwnProperty("x")&&l.hasOwnProperty("x")){var c=Math.cbrt(Math.max(0,i(u)||1))*e.nodeRelSize,h=Math.cbrt(Math.max(0,i(l)||1))*e.nodeRelSize,d=r(a),g=n(a),p=a.__curve?function(e){return a.__curve.getPoint(e)}:function(e){var t=function(e,t,n,r){return t[e]+(n[e]-t[e])*r||0};return{x:t("x",u,l,e),y:t("y",u,l,e),z:t("z",u,l,e)}},f=a.__curve?a.__curve.getLength():Math.sqrt(["x","y","z"].map((function(e){return Math.pow((l[e]||0)-(u[e]||0),2)})).reduce((function(e,t){return e+t}),0)),m=c+d+(f-c-h-d)*g,v=p(m/f),y=p((m-d)/f);["x","y","z"].forEach((function(e){return o.position[e]=y[e]}));var A=N(te.Vector3,H(["x","y","z"].map((function(e){return v[e]}))));o.parent.localToWorld(A),o.lookAt(A)}}}))}(),function(){var n=(0,d.default)(e.linkDirectionalParticleSpeed);e.graphData.links.forEach((function(r){var i=r.__photonsObj&&r.__photonsObj.children,a=r.__singleHopPhotonsObj&&r.__singleHopPhotonsObj.children;if(a&&a.length||i&&i.length){var o=t?r:e.layout.getLinkPosition(e.layout.graph.getLink(r.source,r.target).id),s=o[t?"source":"from"],u=o[t?"target":"to"];if(s&&u&&s.hasOwnProperty("x")&&u.hasOwnProperty("x")){var l=n(r),c=r.__curve?function(e){return r.__curve.getPoint(e)}:function(e){var t=function(e,t,n,r){return t[e]+(n[e]-t[e])*r||0};return{x:t("x",s,u,e),y:t("y",s,u,e),z:t("z",s,u,e)}};[].concat(H(i||[]),H(a||[])).forEach((function(e,t){var n="singleHopPhotons"===e.parent.__linkThreeObjType;if(e.hasOwnProperty("__progressRatio")||(e.__progressRatio=n?0:t/i.length),e.__progressRatio+=l,e.__progressRatio>=1){if(n)return e.parent.remove(e),void K(e);e.__progressRatio=e.__progressRatio%1}var r=e.__progressRatio,a=c(r);["x","y","z"].forEach((function(t){return e.position[t]=a[t]}))}))}}}))}(),this},emitParticle:function(e,t){if(t&&e.graphData.links.includes(t)){if(!t.__singleHopPhotonsObj){var n=new te.Group;n.__linkThreeObjType="singleHopPhotons",t.__singleHopPhotonsObj=n,e.graphScene.add(n)}var r=(0,d.default)(e.linkDirectionalParticleWidth),i=Math.ceil(10*r(t))/10/2,a=e.linkDirectionalParticleResolution,o=new te.SphereGeometry(i,a,a),s=(0,d.default)(e.linkColor),u=(0,d.default)(e.linkDirectionalParticleColor)(t)||s(t)||"#f0f0f0",l=new te.Color(Y(u)),c=3*e.linkOpacity,h=new te.MeshLambertMaterial({color:l,transparent:!0,opacity:c});t.__singleHopPhotonsObj.add(new te.Mesh(o,h))}return this},getGraphBbox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(!e.initialised)return null;var n=function e(n){var r=[];if(n.geometry){n.geometry.computeBoundingBox();var i=new te.Box3;i.copy(n.geometry.boundingBox).applyMatrix4(n.matrixWorld),r.push(i)}return r.concat.apply(r,H((n.children||[]).filter((function(e){return!e.hasOwnProperty("__graphObjType")||"node"===e.__graphObjType&&t(e.__data)})).map(e)))}(e.graphScene);return n.length?Object.assign.apply(Object,H(["x","y","z"].map((function(e){return B({},e,[(0,g.Z)(n,(function(t){return t.min[e]})),(0,p.Z)(n,(function(t){return t.max[e]}))])})))):null}},stateInit:function(){return{d3ForceLayout:(0,i.Z)().force("link",(0,a.Z)()).force("charge",(0,o.Z)()).force("center",(0,s.Z)()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,t){t.graphScene=e},update:function(e,t){var n=function(e){return e.some((function(e){return t.hasOwnProperty(e)}))};if(e.engineRunning=!1,e.onUpdate(),null!==e.nodeAutoColorBy&&n(["nodeAutoColorBy","graphData","nodeColor"])&&ee(e.graphData.nodes,(0,d.default)(e.nodeAutoColorBy),e.nodeColor),null!==e.linkAutoColorBy&&n(["linkAutoColorBy","graphData","linkColor"])&&ee(e.graphData.links,(0,d.default)(e.linkAutoColorBy),e.linkColor),e._flushObjects||n(["graphData","nodeThreeObject","nodeThreeObjectExtend","nodeVal","nodeColor","nodeVisibility","nodeRelSize","nodeResolution","nodeOpacity"])){var r=(0,d.default)(e.nodeThreeObject),i=(0,d.default)(e.nodeThreeObjectExtend),a=(0,d.default)(e.nodeVal),o=(0,d.default)(e.nodeColor),s=(0,d.default)(e.nodeVisibility),l={},c={};Z(e.graphData.nodes.filter(s),e.graphScene,{purge:e._flushObjects||n(["nodeThreeObject","nodeThreeObjectExtend"]),objFilter:function(e){return"node"===e.__graphObjType},createObj:function(t){var n,a=r(t),o=i(t);return a&&e.nodeThreeObject===a&&(a=a.clone()),a&&!o?n=a:((n=new te.Mesh).__graphDefaultObj=!0,a&&o&&n.add(a)),n.__graphObjType="node",n},updateObj:function(t,n){if(t.__graphDefaultObj){var r=a(n)||1,i=Math.cbrt(r)*e.nodeRelSize,s=e.nodeResolution;t.geometry.type.match(/^Sphere(Buffer)?Geometry$/)&&t.geometry.parameters.radius===i&&t.geometry.parameters.widthSegments===s||(l.hasOwnProperty(r)||(l[r]=new te.SphereGeometry(i,s,s)),t.geometry.dispose(),t.geometry=l[r]);var u=o(n),h=new te.Color(Y(u||"#ffffaa")),d=e.nodeOpacity*J(u);"MeshLambertMaterial"===t.material.type&&t.material.color.equals(h)&&t.material.opacity===d||(c.hasOwnProperty(u)||(c[u]=new te.MeshLambertMaterial({color:h,transparent:!0,opacity:d})),t.material.dispose(),t.material=c[u])}}})}if(e._flushObjects||n(["graphData","linkThreeObject","linkThreeObjectExtend","linkMaterial","linkColor","linkWidth","linkVisibility","linkResolution","linkOpacity","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution"])){var h=(0,d.default)(e.linkThreeObject),g=(0,d.default)(e.linkThreeObjectExtend),p=(0,d.default)(e.linkMaterial),f=(0,d.default)(e.linkVisibility),m=(0,d.default)(e.linkColor),v=(0,d.default)(e.linkWidth),y={},A={},b={},x=e.graphData.links.filter(f);if(Z(x,e.graphScene,{objBindAttr:"__lineObj",purge:e._flushObjects||n(["linkThreeObject","linkThreeObjectExtend","linkWidth"]),objFilter:function(e){return"link"===e.__graphObjType},exitObj:function(e){var t=e.__data&&e.__data.__singleHopPhotonsObj;t&&(t.parent.remove(t),K(t),delete e.__data.__singleHopPhotonsObj)},createObj:function(t){var n,r,i=h(t),a=g(t);if(i&&e.linkThreeObject===i&&(i=i.clone()),!i||a)if(!!v(t))n=new te.Mesh;else{var o=new te.BufferGeometry;o[re]("position",new te.BufferAttribute(new Float32Array(6),3)),n=new te.Line(o)}return i?a?((r=new te.Group).__graphDefaultObj=!0,r.add(n),r.add(i)):r=i:(r=n).__graphDefaultObj=!0,r.renderOrder=10,r.__graphObjType="link",r},updateObj:function(t,n){if(t.__graphDefaultObj){var r=t.children.length?t.children[0]:t,i=Math.ceil(10*v(n))/10,a=!!i;if(a){var o=i/2,s=e.linkResolution;if(!r.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)||r.geometry.parameters.radiusTop!==o||r.geometry.parameters.radialSegments!==s){if(!y.hasOwnProperty(i)){var u=new te.CylinderGeometry(o,o,1,s,1,!1);u[ie]((new te.Matrix4).makeTranslation(0,.5,0)),u[ie]((new te.Matrix4).makeRotationX(Math.PI/2)),y[i]=u}r.geometry.dispose(),r.geometry=y[i]}}var l=p(n);if(l)r.material=l;else{var c=m(n),h=new te.Color(Y(c||"#f0f0f0")),d=e.linkOpacity*J(c),g=a?"MeshLambertMaterial":"LineBasicMaterial";if(r.material.type!==g||!r.material.color.equals(h)||r.material.opacity!==d){var f=a?A:b;f.hasOwnProperty(c)||(f[c]=new te[g]({color:h,transparent:d<1,opacity:d,depthWrite:d>=1})),r.material.dispose(),r.material=f[c]}}}}}),e.linkDirectionalArrowLength||t.hasOwnProperty("linkDirectionalArrowLength")){var w=(0,d.default)(e.linkDirectionalArrowLength),E=(0,d.default)(e.linkDirectionalArrowColor);Z(x.filter(w),e.graphScene,{objBindAttr:"__arrowObj",objFilter:function(e){return"arrow"===e.__linkThreeObjType},createObj:function(){var e=new te.Mesh(void 0,new te.MeshLambertMaterial({transparent:!0}));return e.__linkThreeObjType="arrow",e},updateObj:function(t,n){var r=w(n),i=e.linkDirectionalArrowResolution;if(!t.geometry.type.match(/^Cone(Buffer)?Geometry$/)||t.geometry.parameters.height!==r||t.geometry.parameters.radialSegments!==i){var a=new te.ConeGeometry(.25*r,r,i);a.translate(0,r/2,0),a.rotateX(Math.PI/2),t.geometry.dispose(),t.geometry=a}var o=E(n)||m(n)||"#f0f0f0";t.material.color=new te.Color(Y(o)),t.material.opacity=3*e.linkOpacity*J(o)}})}if(e.linkDirectionalParticles||t.hasOwnProperty("linkDirectionalParticles")){var _=(0,d.default)(e.linkDirectionalParticles),C=(0,d.default)(e.linkDirectionalParticleWidth),M=(0,d.default)(e.linkDirectionalParticleColor),S={},I={};Z(x.filter(_),e.graphScene,{objBindAttr:"__photonsObj",objFilter:function(e){return"photons"===e.__linkThreeObjType},createObj:function(){var e=new te.Group;return e.__linkThreeObjType="photons",e},updateObj:function(t,n){var r,i=Math.round(Math.abs(_(n))),a=!!t.children.length&&t.children[0],o=Math.ceil(10*C(n))/10/2,s=e.linkDirectionalParticleResolution;a&&a.geometry.parameters.radius===o&&a.geometry.parameters.widthSegments===s?r=a.geometry:(I.hasOwnProperty(o)||(I[o]=new te.SphereGeometry(o,s,s)),r=I[o],a&&a.geometry.dispose());var u,l=M(n)||m(n)||"#f0f0f0",c=new te.Color(Y(l)),h=3*e.linkOpacity;a&&a.material.color.equals(c)&&a.material.opacity===h?u=a.material:(S.hasOwnProperty(l)||(S[l]=new te.MeshLambertMaterial({color:c,transparent:!0,opacity:h})),u=S[l],a&&a.material.dispose()),Z(H(new Array(i)).map((function(e,t){return{idx:t}})),t,{idAccessor:function(e){return e.idx},createObj:function(){return new te.Mesh(r,u)},updateObj:function(e){e.geometry=r,e.material=u}})}})}}if(e._flushObjects=!1,n(["graphData","nodeId","linkSource","linkTarget","numDimensions","forceEngine","dagMode","dagNodeFilter","dagLevelDistance"])){e.engineRunning=!1,e.graphData.links.forEach((function(t){t.source=t[e.linkSource],t.target=t[e.linkTarget]}));var T,L="ngraph"!==e.forceEngine;if(L){(T=e.d3ForceLayout).stop().alpha(1).numDimensions(e.numDimensions).nodes(e.graphData.nodes);var D=e.d3ForceLayout.force("link");D&&D.id((function(t){return t[e.nodeId]})).links(e.graphData.links);var P=e.dagMode&&function(e,t){var n=e.nodes,r=e.links,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.nodeFilter,o=void 0===a?function(){return!0}:a,s=i.onLoopError,u=void 0===s?function(e){throw"Invalid DAG structure! Found cycle in node path: ".concat(e.join(" -> "),".")}:s,l={};n.forEach((function(e){return l[t(e)]={data:e,out:[],depth:-1,skip:!o(e)}})),r.forEach((function(e){var n=e.source,r=e.target,i=u(n),a=u(r);if(!l.hasOwnProperty(i))throw"Missing source node with id: ".concat(i);if(!l.hasOwnProperty(a))throw"Missing target node with id: ".concat(a);var o=l[i],s=l[a];function u(e){return"object"===R(e)?t(e):e}o.out.push(s)}));var c=[];return function e(n){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=function(){var a=n[o];if(-1!==r.indexOf(a)){var s=[].concat(H(r.slice(r.indexOf(a))),[a]).map((function(e){return t(e.data)}));return c.some((function(e){return e.length===s.length&&e.every((function(e,t){return e===s[t]}))}))||(c.push(s),u(s)),"continue"}i>a.depth&&(a.depth=i,e(a.out,[].concat(H(r),[a]),i+(a.skip?0:1)))},o=0,s=n.length;o<s;o++)a()}(Object.values(l)),Object.assign.apply(Object,[{}].concat(H(Object.entries(l).filter((function(e){return!j(e,2)[1].skip})).map((function(e){var t=j(e,2);return B({},t[0],t[1].depth)})))))}(e.graphData,(function(t){return t[e.nodeId]}),{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),O=Math.max.apply(Math,H(Object.values(P||[]))),N=e.dagLevelDistance||e.graphData.nodes.length/(O||1)*2*(-1!==["radialin","radialout"].indexOf(e.dagMode)?.7:1);if(e.dagMode){var F=function(t,n){return function(r){return t?(P[r[e.nodeId]]-O/2)*N*(n?-1:1):void 0}},U=F(-1!==["lr","rl"].indexOf(e.dagMode),"rl"===e.dagMode),z=F(-1!==["td","bu"].indexOf(e.dagMode),"td"===e.dagMode),G=F(-1!==["zin","zout"].indexOf(e.dagMode),"zout"===e.dagMode);e.graphData.nodes.filter(e.dagNodeFilter).forEach((function(e){e.fx=U(e),e.fy=z(e),e.fz=G(e)}))}e.d3ForceLayout.force("dagRadial",-1!==["radialin","radialout"].indexOf(e.dagMode)?(0,u.Z)((function(t){var n=P[t[e.nodeId]]||-1;return("radialin"===e.dagMode?O-n:n)*N})).strength((function(t){return e.dagNodeFilter(t)?1:0})):null)}else{var V=ne.graph();e.graphData.nodes.forEach((function(t){V.addNode(t[e.nodeId])})),e.graphData.links.forEach((function(e){V.addLink(e.source,e.target)})),(T=ne.forcelayout(V,k({dimensions:e.numDimensions},e.ngraphPhysics))).graph=V}for(var Q=0;Q<e.warmupTicks&&!(L&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin);Q++)T[L?"tick":"step"]();e.layout=T,this.resetCountdown()}e.engineRunning=!0,e.onFinishUpdate()}});var oe=function(e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=function(n){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(s,n);var r,i,a,o=z(s);function s(){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=o.call.apply(o,[this].concat(i))).__kapsuleInstance=e().apply(void 0,[].concat(H(t?[U(n)]:[]),i)),n}return r=s,i&&L(r.prototype,i),a&&L(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object);return Object.keys(e()).forEach((function(e){return n.prototype[e]=function(){var t,n=(t=this.__kapsuleInstance)[e].apply(t,arguments);return n===this.__kapsuleInstance?this:n}})),n}(ae,(window.THREE?window.THREE:{Group:r.ZAu}).Group,!0)},323:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}n.d(t,{Mig:function(){return Ts},_Li:function(){return _},ZzF:function(){return Et},TlE:function(){return Wn},u9r:function(){return rr},SUY:function(){return ks},Ilk:function(){return jn},b_z:function(){return Jo},yj7:function(){return Vo},fHI:function(){return Yo},Ox3:function(){return Is},pBf:function(){return Le},a$l:function(){return Xn},ZAu:function(){return po},cLu:function(){return ee},x12:function(){return ko},nls:function(){return _o},RsA:function(){return y},M8C:function(){return We},yGw:function(){return Zt},Kj0:function(){return xr},vBJ:function(){return Gn},YBo:function(){return ts},jFi:function(){return C},iKG:function(){return ti},cPb:function(){return kr},JOQ:function(){return Fr},mXe:function(){return Ko},_fP:function(){return At},zHn:function(){return Xt},iMs:function(){return zs},KI_:function(){return ye},xsS:function(){return Eo},jyz:function(){return Ir},xo$:function(){return $o},$V:function(){return Gs},QmN:function(){return A},dpR:function(){return xs},WXh:function(){return es},rDY:function(){return Sr},FM8:function(){return qe},Pa4:function(){return bt},dd2:function(){return mt},CP7:function(){return xo}});var i,a=n(7762),o=n(885),s=n(1752),u=n(1120),l=n(2982),c=n(7326),h=n(136),d=n(7277),g=n(4942),p=n(4165),f=n(5671),m=n(3144),v="157",y={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},A={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},b=1,x=2,w=3,E=0,_=1,C=0,M=100,S=0,I=1,T=2,k=0,R=1,L=2,B=3,D=4,P=5,O=301,N=302,F=303,U=304,z=306,j=1e3,H=1001,G=1002,V=1003,Q=1004,W=1005,q=1006,K=1008,X=1009,Z=1012,Y=1013,J=1014,$=1015,ee=1016,te=1020,ne=1023,re=1026,ie=1027,ae=33776,oe=33777,se=33778,ue=33779,le=36492,ce=2300,he=2301,de=2302,ge=2400,pe=2401,fe=2402,me=3001,ve="",ye="srgb",Ae="srgb-linear",be="display-p3",xe="display-p3-linear",we="linear",Ee="srgb",_e="rec709",Ce="p3",Me=7680,Se=35044,Ie="300 es",Te=1035,ke=2e3,Re=2001,Le=function(){function e(){(0,f.Z)(this,e)}return(0,m.Z)(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),Be=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],De=1234567,Pe=Math.PI/180,Oe=180/Math.PI;function Ne(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Be[255&e]+Be[e>>8&255]+Be[e>>16&255]+Be[e>>24&255]+"-"+Be[255&t]+Be[t>>8&255]+"-"+Be[t>>16&15|64]+Be[t>>24&255]+"-"+Be[63&n|128]+Be[n>>8&255]+"-"+Be[n>>16&255]+Be[n>>24&255]+Be[255&r]+Be[r>>8&255]+Be[r>>16&255]+Be[r>>24&255]).toLowerCase()}function Fe(e,t,n){return Math.max(t,Math.min(n,e))}function Ue(e,t){return(e%t+t)%t}function ze(e,t,n){return(1-n)*e+n*t}function je(e){return 0===(e&e-1)&&0!==e}function He(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function Ge(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function Ve(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Qe(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var We={DEG2RAD:Pe,RAD2DEG:Oe,generateUUID:Ne,clamp:Fe,euclideanModulo:Ue,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:ze,damp:function(e,t,n,r){return ze(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(Ue(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(De=e);var t=De+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Pe},radToDeg:function(e){return e*Oe},isPowerOfTwo:je,ceilPowerOfTwo:He,floorPowerOfTwo:Ge,setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2),u=o(n/2),l=a((t+r)/2),c=o((t+r)/2),h=a((t-r)/2),d=o((t-r)/2),g=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*c,u*h,u*d,s*l);break;case"YZY":e.set(u*d,s*c,u*h,s*l);break;case"ZXZ":e.set(u*h,u*d,s*c,s*l);break;case"XZX":e.set(s*c,u*p,u*g,s*l);break;case"YXY":e.set(u*g,s*c,u*p,s*l);break;case"ZYZ":e.set(u*p,u*g,s*c,s*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:Qe,denormalize:Ve},qe=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,f.Z)(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n}return(0,m.Z)(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Fe(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:e,value:(0,p.Z)().mark((function e(){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),Ke=function(){function e(t,n,r,i,a,o,s,u,l){(0,f.Z)(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,u,l)}return(0,m.Z)(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u){var l=this.elements;return l[0]=e,l[1]=r,l[2]=o,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=a,l[8]=u,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],u=n[1],l=n[4],c=n[7],h=n[2],d=n[5],g=n[8],p=r[0],f=r[3],m=r[6],v=r[1],y=r[4],A=r[7],b=r[2],x=r[5],w=r[8];return i[0]=a*p+o*v+s*b,i[3]=a*f+o*y+s*x,i[6]=a*m+o*A+s*w,i[1]=u*p+l*v+c*b,i[4]=u*f+l*y+c*x,i[7]=u*m+l*A+c*w,i[2]=h*p+d*v+g*b,i[5]=h*f+d*y+g*x,i[8]=h*m+d*A+g*w,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*a*l-t*o*u-n*i*l+n*o*s+r*i*u-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=l*a-o*u,h=o*s-l*i,d=u*i-a*s,g=t*c+n*h+r*d;if(0===g)return this.set(0,0,0,0,0,0,0,0,0);var p=1/g;return e[0]=c*p,e[1]=(r*u-l*n)*p,e[2]=(o*n-r*a)*p,e[3]=h*p,e[4]=(l*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=d*p,e[7]=(n*s-u*t)*p,e[8]=(a*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),u=Math.sin(i);return this.set(n*s,n*u,-n*(s*a+u*o)+a+e,-r*u,r*s,-r*(-u*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(Xe.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(Xe.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(Xe.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}(),Xe=new Ke;function Ze(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function Ye(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}var Je={};function $e(e){e in Je||(Je[e]=!0,console.warn(e))}var et,tt=(new Ke).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),nt=(new Ke).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),rt=(i={},(0,g.Z)(i,Ae,{transfer:we,primaries:_e,toReference:function(e){return e},fromReference:function(e){return e}}),(0,g.Z)(i,ye,{transfer:Ee,primaries:_e,toReference:function(e){return e.convertSRGBToLinear()},fromReference:function(e){return e.convertLinearToSRGB()}}),(0,g.Z)(i,xe,{transfer:we,primaries:Ce,toReference:function(e){return e.applyMatrix3(nt)},fromReference:function(e){return e.applyMatrix3(tt)}}),(0,g.Z)(i,be,{transfer:Ee,primaries:Ce,toReference:function(e){return e.convertSRGBToLinear().applyMatrix3(nt)},fromReference:function(e){return e.applyMatrix3(tt).convertLinearToSRGB()}}),i),it=new Set([Ae,xe]),at={enabled:!0,_workingColorSpace:Ae,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(e){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!e},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(e){if(!it.has(e))throw new Error('Unsupported working color space, "'.concat(e,'".'));this._workingColorSpace=e},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;var r=rt[t].toReference;return(0,rt[n].fromReference)(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this._workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this._workingColorSpace)},getPrimaries:function(e){return rt[e].primaries},getTransfer:function(e){return e===ve?we:rt[e].transfer}};function ot(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function st(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var ut=function(){function e(){(0,f.Z)(this,e)}return(0,m.Z)(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===et&&(et=Ye("canvas")),et.width=e.width,et.height=e.height;var n=et.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=et}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=Ye("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,a=0;a<i.length;a++)i[a]=255*ot(i[a]/255);return n.putImageData(r,0,0),t}if(e.data){for(var o=e.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*ot(o[s]/255)):o[s]=ot(o[s]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),lt=0,ct=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,f.Z)(this,e),this.isSource=!0,Object.defineProperty(this,"id",{value:lt++}),this.uuid=Ne(),this.data=t,this.version=0}return(0,m.Z)(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(ht(r[a].image)):i.push(ht(r[a]))}else i=ht(r);n.url=i}return t||(e.images[this.uuid]=n),n}}]),e}();function ht(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?ut.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var dt=0,gt=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:q,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:K,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ne,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:X,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.DEFAULT_ANISOTROPY,g=arguments.length>9&&void 0!==arguments[9]?arguments[9]:ve;return(0,f.Z)(this,n),(e=t.call(this)).isTexture=!0,Object.defineProperty((0,c.Z)(e),"id",{value:dt++}),e.uuid=Ne(),e.name="",e.source=new ct(r),e.mipmaps=[],e.mapping=i,e.channel=0,e.wrapS=a,e.wrapT=o,e.magFilter=s,e.minFilter=u,e.anisotropy=d,e.format=l,e.internalFormat=null,e.type=h,e.offset=new qe(0,0),e.repeat=new qe(1,1),e.center=new qe(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new Ke,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,"string"===typeof g?e.colorSpace=g:($e("THREE.Texture: Property .encoding has been replaced by .colorSpace."),e.colorSpace=g===me?ye:ve),e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return(0,m.Z)(n,[{key:"image",get:function(){return this.source.data},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case j:e.x=e.x-Math.floor(e.x);break;case H:e.x=e.x<0?0:1;break;case G:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case j:e.y=e.y-Math.floor(e.y);break;case H:e.y=e.y<0?0:1;break;case G:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}},{key:"encoding",get:function(){return $e("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===ye?me:3e3},set:function(e){$e("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===me?ye:ve}}]),n}(Le);gt.DEFAULT_IMAGE=null,gt.DEFAULT_MAPPING=300,gt.DEFAULT_ANISOTROPY=1;var pt=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,f.Z)(this,t),t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}return(0,m.Z)(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=.01,o=.1,s=e.elements,u=s[0],l=s[4],c=s[8],h=s[1],d=s[5],g=s[9],p=s[2],f=s[6],m=s[10];if(Math.abs(l-h)<a&&Math.abs(c-p)<a&&Math.abs(g-f)<a){if(Math.abs(l+h)<o&&Math.abs(c+p)<o&&Math.abs(g+f)<o&&Math.abs(u+d+m-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var v=(u+1)/2,y=(d+1)/2,A=(m+1)/2,b=(l+h)/4,x=(c+p)/4,w=(g+f)/4;return v>y&&v>A?v<a?(n=0,r=.707106781,i=.707106781):(r=b/(n=Math.sqrt(v)),i=x/n):y>A?y<a?(n=.707106781,r=0,i=.707106781):(n=b/(r=Math.sqrt(y)),i=w/r):A<a?(n=.707106781,r=.707106781,i=0):(n=x/(i=Math.sqrt(A)),r=w/i),this.set(n,r,i,t),this}var E=Math.sqrt((f-g)*(f-g)+(c-p)*(c-p)+(h-l)*(h-l));return Math.abs(E)<.001&&(E=1),this.x=(f-g)/E,this.y=(c-p)/E,this.z=(h-l)/E,this.w=Math.acos((u+d+m-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:e,value:(0,p.Z)().mark((function e(){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),ft=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,f.Z)(this,n),(e=t.call(this)).isRenderTarget=!0,e.width=r,e.height=i,e.depth=1,e.scissor=new pt(0,0,r,i),e.scissorTest=!1,e.viewport=new pt(0,0,r,i);var o={width:r,height:i,depth:1};return void 0!==a.encoding&&($e("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),a.colorSpace=a.encoding===me?ye:ve),a=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:q,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},a),e.texture=new gt(o,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.flipY=!1,e.texture.generateMipmaps=a.generateMipmaps,e.texture.internalFormat=a.internalFormat,e.depthBuffer=a.depthBuffer,e.stencilBuffer=a.stencilBuffer,e.depthTexture=a.depthTexture,e.samples=a.samples,e}return(0,m.Z)(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;var t=Object.assign({},e.texture.image);return this.texture.source=new ct(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Le),mt=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,f.Z)(this,n),(e=t.call(this,r,i,a)).isWebGLRenderTarget=!0,e}return(0,m.Z)(n)}(ft),vt=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,f.Z)(this,n),(e=t.call(this,null)).isDataArrayTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=V,e.minFilter=V,e.wrapR=H,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,m.Z)(n)}(gt),yt=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,f.Z)(this,n),(e=t.call(this,null)).isData3DTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=V,e.minFilter=V,e.wrapR=H,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,m.Z)(n)}(gt),At=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,f.Z)(this,t),this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}return(0,m.Z)(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,u=o(n/2),l=o(r/2),c=o(i/2),h=s(n/2),d=s(r/2),g=s(i/2);switch(a){case"XYZ":this._x=h*l*c+u*d*g,this._y=u*d*c-h*l*g,this._z=u*l*g+h*d*c,this._w=u*l*c-h*d*g;break;case"YXZ":this._x=h*l*c+u*d*g,this._y=u*d*c-h*l*g,this._z=u*l*g-h*d*c,this._w=u*l*c+h*d*g;break;case"ZXY":this._x=h*l*c-u*d*g,this._y=u*d*c+h*l*g,this._z=u*l*g+h*d*c,this._w=u*l*c-h*d*g;break;case"ZYX":this._x=h*l*c-u*d*g,this._y=u*d*c+h*l*g,this._z=u*l*g-h*d*c,this._w=u*l*c+h*d*g;break;case"YZX":this._x=h*l*c+u*d*g,this._y=u*d*c+h*l*g,this._z=u*l*g-h*d*c,this._w=u*l*c-h*d*g;break;case"XZY":this._x=h*l*c-u*d*g,this._y=u*d*c-h*l*g,this._z=u*l*g+h*d*c,this._w=u*l*c+h*d*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],u=t[2],l=t[6],c=t[10],h=n+o+c;if(h>0){var d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(l-s)*d,this._y=(i-u)*d,this._z=(a-r)*d}else if(n>o&&n>c){var g=2*Math.sqrt(1+n-o-c);this._w=(l-s)/g,this._x=.25*g,this._y=(r+a)/g,this._z=(i+u)/g}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(i-u)/p,this._x=(r+a)/p,this._y=.25*p,this._z=(s+l)/p}else{var f=2*Math.sqrt(1+c-n-o);this._w=(a-r)/f,this._x=(i+u)/f,this._y=(s+l)/f,this._z=.25*f}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(Fe(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,u=t._z,l=t._w;return this._x=n*l+a*o+r*u-i*s,this._y=r*l+a*s+i*o-n*u,this._z=i*l+a*u+n*s-r*o,this._w=a*l-n*o-r*s-i*u,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var u=1-t;return this._w=u*a+t*this._w,this._x=u*n+t*this._x,this._y=u*r+t*this._y,this._z=u*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),c=Math.atan2(l,o),h=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=a*h+this._w*d,this._x=n*h+this._x*d,this._y=r*h+this._y*d,this._z=i*h+this._z*d,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"toJSON",value:function(){return this.toArray()}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:e,value:(0,p.Z)().mark((function e(){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],u=n[r+1],l=n[r+2],c=n[r+3],h=i[a+0],d=i[a+1],g=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=u,e[t+2]=l,void(e[t+3]=c);if(1===o)return e[t+0]=h,e[t+1]=d,e[t+2]=g,void(e[t+3]=p);if(c!==p||s!==h||u!==d||l!==g){var f=1-o,m=s*h+u*d+l*g+c*p,v=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var A=Math.sqrt(y),b=Math.atan2(A,m*v);f=Math.sin(f*b)/A,o=Math.sin(o*b)/A}var x=o*v;if(s=s*f+h*x,u=u*f+d*x,l=l*f+g*x,c=c*f+p*x,f===1-o){var w=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=w,u*=w,l*=w,c*=w}}e[t]=s,e[t+1]=u,e[t+2]=l,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],u=n[r+2],l=n[r+3],c=i[a],h=i[a+1],d=i[a+2],g=i[a+3];return e[t]=o*g+l*c+s*d-u*h,e[t+1]=s*g+l*h+u*c-o*d,e[t+2]=u*g+l*d+o*h-s*c,e[t+3]=l*g-o*c-s*h-u*d,e}}]),t}(Symbol.iterator),bt=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,f.Z)(this,t),t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}return(0,m.Z)(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(wt.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(wt.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,u=s*t+a*r-o*n,l=s*n+o*t-i*r,c=s*r+i*n-a*t,h=-i*t-a*n-o*r;return this.x=u*s+h*-i+l*-o-c*-a,this.y=l*s+h*-a+c*-i-u*-o,this.z=c*s+h*-o+u*-a-l*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return xt.copy(this).projectOnVector(e),this.sub(xt)}},{key:"reflect",value:function(e){return this.sub(xt.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Fe(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"setFromColor",value:function(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:e,value:(0,p.Z)().mark((function e(){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),xt=new bt,wt=new At,Et=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bt(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new bt(-1/0,-1/0,-1/0);(0,f.Z)(this,e),this.isBox3=!0,this.min=t,this.max=n}return(0,m.Z)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t+=3)this.expandByPoint(Ct.fromArray(e,t));return this}},{key:"setFromBufferAttribute",value:function(e){this.makeEmpty();for(var t=0,n=e.count;t<n;t++)this.expandByPoint(Ct.fromBufferAttribute(e,t));return this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Ct.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),Mt.copy(e.boundingBox),Mt.applyMatrix4(e.matrixWorld),this.union(Mt);else{var n=e.geometry;if(void 0!==n)if(t&&void 0!==n.attributes&&void 0!==n.attributes.position)for(var r=n.attributes.position,i=0,a=r.count;i<a;i++)Ct.fromBufferAttribute(r,i).applyMatrix4(e.matrixWorld),this.expandByPoint(Ct);else null===n.boundingBox&&n.computeBoundingBox(),Mt.copy(n.boundingBox),Mt.applyMatrix4(e.matrixWorld),this.union(Mt)}for(var o=e.children,s=0,u=o.length;s<u;s++)this.expandByObject(o[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,Ct),Ct.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(Bt),Dt.subVectors(this.max,Bt),St.subVectors(e.a,Bt),It.subVectors(e.b,Bt),Tt.subVectors(e.c,Bt),kt.subVectors(It,St),Rt.subVectors(Tt,It),Lt.subVectors(St,Tt);var t=[0,-kt.z,kt.y,0,-Rt.z,Rt.y,0,-Lt.z,Lt.y,kt.z,0,-kt.x,Rt.z,0,-Rt.x,Lt.z,0,-Lt.x,-kt.y,kt.x,0,-Rt.y,Rt.x,0,-Lt.y,Lt.x,0];return!!Nt(t,St,It,Tt,Dt)&&(!!Nt(t=[1,0,0,0,1,0,0,0,1],St,It,Tt,Dt)&&(Pt.crossVectors(kt,Rt),Nt(t=[Pt.x,Pt.y,Pt.z],St,It,Tt,Dt)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,Ct).distanceTo(e)}},{key:"getBoundingSphere",value:function(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Ct).length()),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(_t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_t)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),_t=[new bt,new bt,new bt,new bt,new bt,new bt,new bt,new bt],Ct=new bt,Mt=new Et,St=new bt,It=new bt,Tt=new bt,kt=new bt,Rt=new bt,Lt=new bt,Bt=new bt,Dt=new bt,Pt=new bt,Ot=new bt;function Nt(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){Ot.fromArray(e,a);var s=i.x*Math.abs(Ot.x)+i.y*Math.abs(Ot.y)+i.z*Math.abs(Ot.z),u=t.dot(Ot),l=n.dot(Ot),c=r.dot(Ot);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>s)return!1}return!0}var Ft=new Et,Ut=new bt,zt=new bt,jt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bt,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;(0,f.Z)(this,e),this.center=t,this.radius=n}return(0,m.Z)(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):Ft.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ut.subVectors(e,this.center);var t=Ut.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.addScaledVector(Ut,r/n),this.radius+=r}return this}},{key:"union",value:function(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(zt.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ut.copy(e.center).add(zt)),this.expandByPoint(Ut.copy(e.center).sub(zt))),this)}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Ht=new bt,Gt=new bt,Vt=new bt,Qt=new bt,Wt=new bt,qt=new bt,Kt=new bt,Xt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bt,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new bt(0,0,-1);(0,f.Z)(this,e),this.origin=t,this.direction=n}return(0,m.Z)(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,Ht)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=Ht.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ht.copy(this.origin).addScaledVector(this.direction,t),Ht.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){Gt.copy(e).add(t).multiplyScalar(.5),Vt.copy(t).sub(e).normalize(),Qt.copy(this.origin).sub(Gt);var i,a,o,s,u=.5*e.distanceTo(t),l=-this.direction.dot(Vt),c=Qt.dot(this.direction),h=-Qt.dot(Vt),d=Qt.lengthSq(),g=Math.abs(1-l*l);if(g>0)if(a=l*c-h,s=u*g,(i=l*h-c)>=0)if(a>=-s)if(a<=s){var p=1/g;o=(i*=p)*(i+l*(a*=p)+2*c)+a*(l*i+a+2*h)+d}else a=u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*h)+d;else a=-u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*h)+d;else a<=-s?o=-(i=Math.max(0,-(-l*u+c)))*i+(a=i>0?-u:Math.min(Math.max(-u,-h),u))*(a+2*h)+d:a<=s?(i=0,o=(a=Math.min(Math.max(-u,-h),u))*(a+2*h)+d):o=-(i=Math.max(0,-(l*u+c)))*i+(a=i>0?u:Math.min(Math.max(-u,-h),u))*(a+2*h)+d;else a=l>0?-u:u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*h)+d;return n&&n.copy(this.origin).addScaledVector(this.direction,i),r&&r.copy(Gt).addScaledVector(Vt,a),o}},{key:"intersectSphere",value:function(e,t){Ht.subVectors(e.center,this.origin);var n=Ht.dot(this.direction),r=Ht.dot(Ht)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,h=this.origin;return u>=0?(n=(e.min.x-h.x)*u,r=(e.max.x-h.x)*u):(n=(e.max.x-h.x)*u,r=(e.min.x-h.x)*u),l>=0?(i=(e.min.y-h.y)*l,a=(e.max.y-h.y)*l):(i=(e.max.y-h.y)*l,a=(e.min.y-h.y)*l),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),c>=0?(o=(e.min.z-h.z)*c,s=(e.max.z-h.z)*c):(o=(e.max.z-h.z)*c,s=(e.min.z-h.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,Ht)}},{key:"intersectTriangle",value:function(e,t,n,r,i){Wt.subVectors(t,e),qt.subVectors(n,e),Kt.crossVectors(Wt,qt);var a,o=this.direction.dot(Kt);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Qt.subVectors(this.origin,e);var s=a*this.direction.dot(qt.crossVectors(Qt,qt));if(s<0)return null;var u=a*this.direction.dot(Wt.cross(Qt));if(u<0)return null;if(s+u>o)return null;var l=-a*Qt.dot(Kt);return l<0?null:this.at(l/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Zt=function(){function e(t,n,r,i,a,o,s,u,l,c,h,d,g,p,m,v){(0,f.Z)(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,u,l,c,h,d,g,p,m,v)}return(0,m.Z)(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u,l,c,h,d,g,p,f){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=o,m[13]=s,m[2]=u,m[6]=l,m[10]=c,m[14]=h,m[3]=d,m[7]=g,m[11]=p,m[15]=f,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/Yt.setFromMatrixColumn(e,0).length(),i=1/Yt.setFromMatrixColumn(e,1).length(),a=1/Yt.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),u=Math.sin(r),l=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var h=a*l,d=a*c,g=o*l,p=o*c;t[0]=s*l,t[4]=-s*c,t[8]=u,t[1]=d+g*u,t[5]=h-p*u,t[9]=-o*s,t[2]=p-h*u,t[6]=g+d*u,t[10]=a*s}else if("YXZ"===e.order){var f=s*l,m=s*c,v=u*l,y=u*c;t[0]=f+y*o,t[4]=v*o-m,t[8]=a*u,t[1]=a*c,t[5]=a*l,t[9]=-o,t[2]=m*o-v,t[6]=y+f*o,t[10]=a*s}else if("ZXY"===e.order){var A=s*l,b=s*c,x=u*l,w=u*c;t[0]=A-w*o,t[4]=-a*c,t[8]=x+b*o,t[1]=b+x*o,t[5]=a*l,t[9]=w-A*o,t[2]=-a*u,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var E=a*l,_=a*c,C=o*l,M=o*c;t[0]=s*l,t[4]=C*u-_,t[8]=E*u+M,t[1]=s*c,t[5]=M*u+E,t[9]=_*u-C,t[2]=-u,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var S=a*s,I=a*u,T=o*s,k=o*u;t[0]=s*l,t[4]=k-S*c,t[8]=T*c+I,t[1]=c,t[5]=a*l,t[9]=-o*l,t[2]=-u*l,t[6]=I*c+T,t[10]=S-k*c}else if("XZY"===e.order){var R=a*s,L=a*u,B=o*s,D=o*u;t[0]=s*l,t[4]=-c,t[8]=u*l,t[1]=R*c+D,t[5]=a*l,t[9]=L*c-B,t[2]=B*c-L,t[6]=o*l,t[10]=D*c+R}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose($t,e,en)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return rn.subVectors(e,t),0===rn.lengthSq()&&(rn.z=1),rn.normalize(),tn.crossVectors(n,rn),0===tn.lengthSq()&&(1===Math.abs(n.z)?rn.x+=1e-4:rn.z+=1e-4,rn.normalize(),tn.crossVectors(n,rn)),tn.normalize(),nn.crossVectors(rn,tn),r[0]=tn.x,r[4]=nn.x,r[8]=rn.x,r[1]=tn.y,r[5]=nn.y,r[9]=rn.y,r[2]=tn.z,r[6]=nn.z,r[10]=rn.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],u=n[12],l=n[1],c=n[5],h=n[9],d=n[13],g=n[2],p=n[6],f=n[10],m=n[14],v=n[3],y=n[7],A=n[11],b=n[15],x=r[0],w=r[4],E=r[8],_=r[12],C=r[1],M=r[5],S=r[9],I=r[13],T=r[2],k=r[6],R=r[10],L=r[14],B=r[3],D=r[7],P=r[11],O=r[15];return i[0]=a*x+o*C+s*T+u*B,i[4]=a*w+o*M+s*k+u*D,i[8]=a*E+o*S+s*R+u*P,i[12]=a*_+o*I+s*L+u*O,i[1]=l*x+c*C+h*T+d*B,i[5]=l*w+c*M+h*k+d*D,i[9]=l*E+c*S+h*R+d*P,i[13]=l*_+c*I+h*L+d*O,i[2]=g*x+p*C+f*T+m*B,i[6]=g*w+p*M+f*k+m*D,i[10]=g*E+p*S+f*R+m*P,i[14]=g*_+p*I+f*L+m*O,i[3]=v*x+y*C+A*T+b*B,i[7]=v*w+y*M+A*k+b*D,i[11]=v*E+y*S+A*R+b*P,i[15]=v*_+y*I+A*L+b*O,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],u=e[13],l=e[2],c=e[6],h=e[10],d=e[14];return e[3]*(+i*s*c-r*u*c-i*o*h+n*u*h+r*o*d-n*s*d)+e[7]*(+t*s*d-t*u*h+i*a*h-r*a*d+r*u*l-i*s*l)+e[11]*(+t*u*c-t*o*d-i*a*c+n*a*d+i*o*l-n*u*l)+e[15]*(-r*o*l-t*s*c+t*o*h+r*a*c-n*a*h+n*s*l)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],d=e[11],g=e[12],p=e[13],f=e[14],m=e[15],v=c*f*u-p*h*u+p*s*d-o*f*d-c*s*m+o*h*m,y=g*h*u-l*f*u-g*s*d+a*f*d+l*s*m-a*h*m,A=l*p*u-g*c*u+g*o*d-a*p*d-l*o*m+a*c*m,b=g*c*s-l*p*s-g*o*h+a*p*h+l*o*f-a*c*f,x=t*v+n*y+r*A+i*b;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var w=1/x;return e[0]=v*w,e[1]=(p*h*i-c*f*i-p*r*d+n*f*d+c*r*m-n*h*m)*w,e[2]=(o*f*i-p*s*i+p*r*u-n*f*u-o*r*m+n*s*m)*w,e[3]=(c*s*i-o*h*i-c*r*u+n*h*u+o*r*d-n*s*d)*w,e[4]=y*w,e[5]=(l*f*i-g*h*i+g*r*d-t*f*d-l*r*m+t*h*m)*w,e[6]=(g*s*i-a*f*i-g*r*u+t*f*u+a*r*m-t*s*m)*w,e[7]=(a*h*i-l*s*i+l*r*u-t*h*u-a*r*d+t*s*d)*w,e[8]=A*w,e[9]=(g*c*i-l*p*i-g*n*d+t*p*d+l*n*m-t*c*m)*w,e[10]=(a*p*i-g*o*i+g*n*u-t*p*u-a*n*m+t*o*m)*w,e[11]=(l*o*i-a*c*i-l*n*u+t*c*u+a*n*d-t*o*d)*w,e[12]=b*w,e[13]=(l*p*r-g*c*r+g*n*h-t*p*h-l*n*f+t*c*f)*w,e[14]=(g*o*r-a*p*r-g*n*s+t*p*s+a*n*f-t*o*f)*w,e[15]=(a*c*r-l*o*r+l*n*s-t*c*s-a*n*h+t*o*h)*w,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,u=i*a,l=i*o;return this.set(u*a+n,u*o-r*s,u*s+r*o,0,u*o+r*s,l*o+n,l*s-r*a,0,u*s-r*o,l*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,u=i+i,l=a+a,c=o+o,h=i*u,d=i*l,g=i*c,p=a*l,f=a*c,m=o*c,v=s*u,y=s*l,A=s*c,b=n.x,x=n.y,w=n.z;return r[0]=(1-(p+m))*b,r[1]=(d+A)*b,r[2]=(g-y)*b,r[3]=0,r[4]=(d-A)*x,r[5]=(1-(h+m))*x,r[6]=(f+v)*x,r[7]=0,r[8]=(g+y)*w,r[9]=(f-v)*w,r[10]=(1-(h+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=Yt.set(r[0],r[1],r[2]).length(),a=Yt.set(r[4],r[5],r[6]).length(),o=Yt.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Jt.copy(this);var s=1/i,u=1/a,l=1/o;return Jt.elements[0]*=s,Jt.elements[1]*=s,Jt.elements[2]*=s,Jt.elements[4]*=u,Jt.elements[5]*=u,Jt.elements[6]*=u,Jt.elements[8]*=l,Jt.elements[9]*=l,Jt.elements[10]*=l,t.setFromRotationMatrix(Jt),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){var o,s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ke,l=this.elements,c=2*i/(t-e),h=2*i/(n-r),d=(t+e)/(t-e),g=(n+r)/(n-r);if(u===ke)o=-(a+i)/(a-i),s=-2*a*i/(a-i);else{if(u!==Re)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);o=-a/(a-i),s=-a*i/(a-i)}return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=h,l[9]=g,l[13]=0,l[2]=0,l[6]=0,l[10]=o,l[14]=s,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o,s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ke,l=this.elements,c=1/(t-e),h=1/(n-r),d=1/(a-i),g=(t+e)*c,p=(n+r)*h;if(u===ke)o=(a+i)*d,s=-2*d;else{if(u!==Re)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);o=i*d,s=-1*d}return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-g,l[1]=0,l[5]=2*h,l[9]=0,l[13]=-p,l[2]=0,l[6]=0,l[10]=s,l[14]=-o,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),Yt=new bt,Jt=new Zt,$t=new bt(0,0,0),en=new bt(1,1,1),tn=new bt,nn=new bt,rn=new bt,an=new Zt,on=new At,sn=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_ORDER;(0,f.Z)(this,t),this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}return(0,m.Z)(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],u=r[5],l=r[9],c=r[2],h=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(Fe(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Fe(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(s,u)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(Fe(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Fe(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Fe(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-Fe(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-l,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return an.makeRotationFromQuaternion(e),this.setFromRotationMatrix(an,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return on.setFromEuler(this),this.setFromQuaternion(on,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:e,value:(0,p.Z)().mark((function e(){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator);sn.DEFAULT_ORDER="XYZ";var un=function(){function e(){(0,f.Z)(this,e),this.mask=1}return(0,m.Z)(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),ln=0,cn=new bt,hn=new At,dn=new Zt,gn=new bt,pn=new bt,fn=new bt,mn=new At,vn=new bt(1,0,0),yn=new bt(0,1,0),An=new bt(0,0,1),bn={type:"added"},xn={type:"removed"},wn=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;(0,f.Z)(this,n),(e=t.call(this)).isObject3D=!0,Object.defineProperty((0,c.Z)(e),"id",{value:ln++}),e.uuid=Ne(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DEFAULT_UP.clone();var r=new bt,i=new sn,a=new At,o=new bt(1,1,1);return i._onChange((function(){a.setFromEuler(i,!1)})),a._onChange((function(){i.setFromQuaternion(a,void 0,!1)})),Object.defineProperties((0,c.Z)(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Zt},normalMatrix:{value:new Ke}}),e.matrix=new Zt,e.matrixWorld=new Zt,e.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,e.matrixWorldNeedsUpdate=!1,e.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,e.layers=new un,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return(0,m.Z)(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return hn.setFromAxisAngle(e,t),this.quaternion.multiply(hn),this}},{key:"rotateOnWorldAxis",value:function(e,t){return hn.setFromAxisAngle(e,t),this.quaternion.premultiply(hn),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(vn,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(yn,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(An,e)}},{key:"translateOnAxis",value:function(e,t){return cn.copy(e).applyQuaternion(this.quaternion),this.position.add(cn.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(vn,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(yn,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(An,e)}},{key:"localToWorld",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(dn.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?gn.copy(e):gn.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),pn.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?dn.lookAt(pn,gn,this.up):dn.lookAt(gn,pn,this.up),this.quaternion.setFromRotationMatrix(dn),r&&(dn.extractRotation(r.matrixWorld),hn.setFromRotationMatrix(dn),this.quaternion.premultiply(hn.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(bn)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(xn)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){return this.remove.apply(this,(0,l.Z)(this.children))}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),dn.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),dn.multiply(e.parent.matrixWorld)),e.applyMatrix4(dn),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getObjectsByProperty",value:function(e,t){var n=[];this[e]===t&&n.push(this);for(var r=0,i=this.children.length;r<i;r++){var a=this.children[r].getObjectsByProperty(e,t);a.length>0&&(n=n.concat(a))}return n}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pn,e,fn),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pn,mn,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++){var i=t[n];!0!==i.matrixWorldAutoUpdate&&!0!==e||i.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++){var o=r[i];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];i(e.shapes,l)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],h=0,d=this.material.length;h<d;h++)c.push(i(e.materials,this.material[h]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var g=0;g<this.children.length;g++)r.children.push(this.children[g].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var f=this.animations[p];r.animations.push(i(e.animations,f))}}if(t){var m=_(e.geometries),v=_(e.materials),y=_(e.textures),A=_(e.images),b=_(e.shapes),x=_(e.skeletons),w=_(e.animations),E=_(e.nodes);m.length>0&&(n.geometries=m),v.length>0&&(n.materials=v),y.length>0&&(n.textures=y),A.length>0&&(n.images=A),b.length>0&&(n.shapes=b),x.length>0&&(n.skeletons=x),w.length>0&&(n.animations=w),E.length>0&&(n.nodes=E)}return n.object=r,n;function _(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(Le);wn.DEFAULT_UP=new bt(0,1,0),wn.DEFAULT_MATRIX_AUTO_UPDATE=!0,wn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var En=new bt,_n=new bt,Cn=new bt,Mn=new bt,Sn=new bt,In=new bt,Tn=new bt,kn=new bt,Rn=new bt,Ln=new bt,Bn=!1,Dn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bt,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new bt,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new bt;(0,f.Z)(this,e),this.a=t,this.b=n,this.c=r}return(0,m.Z)(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return En.subVectors(this.c,this.b),_n.subVectors(this.a,this.b),.5*En.cross(_n).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,a){return!1===Bn&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Bn=!0),e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"getInterpolation",value:function(t,n,r,i,a){return e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,a=this.b,o=this.c;Sn.subVectors(a,i),In.subVectors(o,i),kn.subVectors(e,i);var s=Sn.dot(kn),u=In.dot(kn);if(s<=0&&u<=0)return t.copy(i);Rn.subVectors(e,a);var l=Sn.dot(Rn),c=In.dot(Rn);if(l>=0&&c<=l)return t.copy(a);var h=s*c-l*u;if(h<=0&&s>=0&&l<=0)return n=s/(s-l),t.copy(i).addScaledVector(Sn,n);Ln.subVectors(e,o);var d=Sn.dot(Ln),g=In.dot(Ln);if(g>=0&&d<=g)return t.copy(o);var p=d*u-s*g;if(p<=0&&u>=0&&g<=0)return r=u/(u-g),t.copy(i).addScaledVector(In,r);var f=l*g-d*c;if(f<=0&&c-l>=0&&d-g>=0)return Tn.subVectors(o,a),r=(c-l)/(c-l+(d-g)),t.copy(a).addScaledVector(Tn,r);var m=1/(f+p+h);return n=p*m,r=h*m,t.copy(i).addScaledVector(Sn,n).addScaledVector(In,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),En.subVectors(e,t),r.cross(En);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){En.subVectors(r,t),_n.subVectors(n,t),Cn.subVectors(e,t);var a=En.dot(En),o=En.dot(_n),s=En.dot(Cn),u=_n.dot(_n),l=_n.dot(Cn),c=a*u-o*o;if(0===c)return i.set(-2,-1,-1);var h=1/c,d=(u*s-o*l)*h,g=(a*l-o*s)*h;return i.set(1-d-g,g,d)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,Mn),Mn.x>=0&&Mn.y>=0&&Mn.x+Mn.y<=1}},{key:"getUV",value:function(e,t,n,r,i,a,o,s){return!1===Bn&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Bn=!0),this.getInterpolation(e,t,n,r,i,a,o,s)}},{key:"getInterpolation",value:function(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,Mn),s.setScalar(0),s.addScaledVector(i,Mn.x),s.addScaledVector(a,Mn.y),s.addScaledVector(o,Mn.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return En.subVectors(n,t),_n.subVectors(e,t),En.cross(_n).dot(r)<0}}]),e}(),Pn=0,On=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;return(0,f.Z)(this,n),(e=t.call(this)).isMaterial=!0,Object.defineProperty((0,c.Z)(e),"id",{value:Pn++}),e.uuid=Ne(),e.name="",e.type="Material",e.blending=1,e.side=E,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.alphaHash=!1,e.blendSrc=204,e.blendDst=205,e.blendEquation=M,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=3,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=519,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=Me,e.stencilZFail=Me,e.stencilZPass=Me,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.forceSinglePass=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return(0,m.Z)(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE.Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."))}else console.warn("THREE.Material: parameter '".concat(t,"' has value of undefined."))}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),this.side!==E&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(Le),Nn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Fn={h:0,s:0,l:0},Un={h:0,s:0,l:0};function zn(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}var jn=function(e){function t(e,n,r){return(0,f.Z)(this,t),this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}return(0,m.Z)(t,[{key:"set",value:function(e,t,n){if(void 0===t&&void 0===n){var r=e;r&&r.isColor?this.copy(r):"number"===typeof r?this.setHex(r):"string"===typeof r&&this.setStyle(r)}else this.setRGB(e,t,n);return this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ye;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,at.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:at.workingColorSpace;return this.r=e,this.g=t,this.b=n,at.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:at.workingColorSpace;if(e=Ue(e,1),t=Fe(t,0,1),n=Fe(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,a=2*n-i;this.r=zn(a,i,e+1/3),this.g=zn(a,i,e),this.b=zn(a,i,e-1/3)}return at.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ye;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){var i,a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var s=t[1],u=s.length;if(3===u)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(6===u)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ye,n=Nn[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=ot(e.r),this.g=ot(e.g),this.b=ot(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=st(e.r),this.g=st(e.g),this.b=st(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye;return at.fromWorkingColorSpace(Hn.copy(this),e),65536*Math.round(Fe(255*Hn.r,0,255))+256*Math.round(Fe(255*Hn.g,0,255))+Math.round(Fe(255*Hn.b,0,255))}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:at.workingColorSpace;at.fromWorkingColorSpace(Hn.copy(this),t);var n,r,i=Hn.r,a=Hn.g,o=Hn.b,s=Math.max(i,a,o),u=Math.min(i,a,o),l=(u+s)/2;if(u===s)n=0,r=0;else{var c=s-u;switch(r=l<=.5?c/(s+u):c/(2-s-u),s){case i:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-i)/c+2;break;case o:n=(i-a)/c+4}n/=6}return e.h=n,e.s=r,e.l=l,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:at.workingColorSpace;return at.fromWorkingColorSpace(Hn.copy(this),t),e.r=Hn.r,e.g=Hn.g,e.b=Hn.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye;at.fromWorkingColorSpace(Hn.copy(this),e);var t=Hn.r,n=Hn.g,r=Hn.b;return e!==ye?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*r),")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(Fn),this.setHSL(Fn.h+e,Fn.s+t,Fn.l+n)}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(Fn),e.getHSL(Un);var n=ze(Fn.h,Un.h,t),r=ze(Fn.s,Un.s,t),i=ze(Fn.l,Un.l,t);return this.setHSL(n,r,i),this}},{key:"setFromVector3",value:function(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}},{key:"applyMatrix3",value:function(e){var t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:e,value:(0,p.Z)().mark((function e(){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),Hn=new jn;jn.NAMES=Nn;var Gn=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,f.Z)(this,n),(r=t.call(this)).isMeshBasicMaterial=!0,r.type="MeshBasicMaterial",r.color=new jn(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=S,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return(0,m.Z)(n,[{key:"copy",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(On);var Vn=new bt,Qn=new qe,Wn=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,f.Z)(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=r,this.usage=Se,this.updateRange={offset:0,count:-1},this.gpuType=$,this.version=0}return(0,m.Z)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)Qn.fromBufferAttribute(this,t),Qn.applyMatrix3(e),this.setXY(t,Qn.x,Qn.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)Vn.fromBufferAttribute(this,r),Vn.applyMatrix3(e),this.setXYZ(r,Vn.x,Vn.y,Vn.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)Vn.fromBufferAttribute(this,t),Vn.applyMatrix4(e),this.setXYZ(t,Vn.x,Vn.y,Vn.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Vn.fromBufferAttribute(this,t),Vn.applyNormalMatrix(e),this.setXYZ(t,Vn.x,Vn.y,Vn.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Vn.fromBufferAttribute(this,t),Vn.transformDirection(e),this.setXYZ(t,Vn.x,Vn.y,Vn.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getComponent",value:function(e,t){var n=this.array[e*this.itemSize+t];return this.normalized&&(n=Ve(n,this.array)),n}},{key:"setComponent",value:function(e,t,n){return this.normalized&&(n=Qe(n,this.array)),this.array[e*this.itemSize+t]=n,this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=Ve(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=Qe(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ve(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=Qe(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ve(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=Qe(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ve(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=Qe(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=Qe(t,this.array),n=Qe(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Qe(t,this.array),n=Qe(n,this.array),r=Qe(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Qe(t,this.array),n=Qe(n,this.array),r=Qe(r,this.array),i=Qe(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Se&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}]),e}(),qn=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e,r,i){return(0,f.Z)(this,n),t.call(this,new Uint16Array(e),r,i)}return(0,m.Z)(n)}(Wn),Kn=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e,r,i){return(0,f.Z)(this,n),t.call(this,new Uint32Array(e),r,i)}return(0,m.Z)(n)}(Wn),Xn=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e,r,i){return(0,f.Z)(this,n),t.call(this,new Float32Array(e),r,i)}return(0,m.Z)(n)}(Wn),Zn=0,Yn=new Zt,Jn=new wn,$n=new bt,er=new Et,tr=new Et,nr=new bt,rr=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;return(0,f.Z)(this,n),(e=t.call(this)).isBufferGeometry=!0,Object.defineProperty((0,c.Z)(e),"id",{value:Zn++}),e.uuid=Ne(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return(0,m.Z)(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(Ze(e)?Kn:qn)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new Ke).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return Yn.makeRotationFromQuaternion(e),this.applyMatrix4(Yn),this}},{key:"rotateX",value:function(e){return Yn.makeRotationX(e),this.applyMatrix4(Yn),this}},{key:"rotateY",value:function(e){return Yn.makeRotationY(e),this.applyMatrix4(Yn),this}},{key:"rotateZ",value:function(e){return Yn.makeRotationZ(e),this.applyMatrix4(Yn),this}},{key:"translate",value:function(e,t,n){return Yn.makeTranslation(e,t,n),this.applyMatrix4(Yn),this}},{key:"scale",value:function(e,t,n){return Yn.makeScale(e,t,n),this.applyMatrix4(Yn),this}},{key:"lookAt",value:function(e){return Jn.lookAt(e),Jn.updateMatrix(),this.applyMatrix4(Jn.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter($n).negate(),this.translate($n.x,$n.y,$n.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Xn(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Et);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new bt(-1/0,-1/0,-1/0),new bt(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];er.setFromBufferAttribute(i),this.morphTargetsRelative?(nr.addVectors(this.boundingBox.min,er.min),this.boundingBox.expandByPoint(nr),nr.addVectors(this.boundingBox.max,er.max),this.boundingBox.expandByPoint(nr)):(this.boundingBox.expandByPoint(er.min),this.boundingBox.expandByPoint(er.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new jt);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new bt,1/0);if(e){var n=this.boundingSphere.center;if(er.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];tr.setFromBufferAttribute(a),this.morphTargetsRelative?(nr.addVectors(er.min,tr.min),er.expandByPoint(nr),nr.addVectors(er.max,tr.max),er.expandByPoint(nr)):(er.expandByPoint(tr.min),er.expandByPoint(tr.max))}er.getCenter(n);for(var o=0,s=0,u=e.count;s<u;s++)nr.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(nr));if(t)for(var l=0,c=t.length;l<c;l++)for(var h=t[l],d=this.morphTargetsRelative,g=0,p=h.count;g<p;g++)nr.fromBufferAttribute(h,g),d&&($n.fromBufferAttribute(e,g),nr.add($n)),o=Math.max(o,n.distanceToSquared(nr));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Wn(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,u=[],l=[],c=0;c<o;c++)u[c]=new bt,l[c]=new bt;var h=new bt,d=new bt,g=new bt,p=new qe,f=new qe,m=new qe,v=new bt,y=new bt,A=this.groups;0===A.length&&(A=[{start:0,count:n.length}]);for(var b=0,x=A.length;b<x;++b)for(var w=A[b],E=w.start,_=E,C=E+w.count;_<C;_+=3)O(n[_+0],n[_+1],n[_+2]);for(var M=new bt,S=new bt,I=new bt,T=new bt,k=0,R=A.length;k<R;++k)for(var L=A[k],B=L.start,D=B,P=B+L.count;D<P;D+=3)N(n[D+0]),N(n[D+1]),N(n[D+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function O(e,t,n){h.fromArray(r,3*e),d.fromArray(r,3*t),g.fromArray(r,3*n),p.fromArray(a,2*e),f.fromArray(a,2*t),m.fromArray(a,2*n),d.sub(h),g.sub(h),f.sub(p),m.sub(p);var i=1/(f.x*m.y-m.x*f.y);isFinite(i)&&(v.copy(d).multiplyScalar(m.y).addScaledVector(g,-f.y).multiplyScalar(i),y.copy(g).multiplyScalar(f.x).addScaledVector(d,-m.x).multiplyScalar(i),u[e].add(v),u[t].add(v),u[n].add(v),l[e].add(y),l[t].add(y),l[n].add(y))}function N(e){I.fromArray(i,3*e),T.copy(I);var t=u[e];M.copy(t),M.sub(I.multiplyScalar(I.dot(t))).normalize(),S.crossVectors(T,t);var n=S.dot(l[e])<0?-1:1;s[4*e]=M.x,s[4*e+1]=M.y,s[4*e+2]=M.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new Wn(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new bt,o=new bt,s=new bt,u=new bt,l=new bt,c=new bt,h=new bt,d=new bt;if(e)for(var g=0,p=e.count;g<p;g+=3){var f=e.getX(g+0),m=e.getX(g+1),v=e.getX(g+2);a.fromBufferAttribute(t,f),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,v),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),u.fromBufferAttribute(n,f),l.fromBufferAttribute(n,m),c.fromBufferAttribute(n,v),u.add(h),l.add(h),c.add(h),n.setXYZ(f,u.x,u.y,u.z),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(v,c.x,c.y,c.z)}else for(var y=0,A=t.count;y<A;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),n.setXYZ(y+0,h.x,h.y,h.z),n.setXYZ(y+1,h.x,h.y,h.z),n.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)nr.fromBufferAttribute(e,t),nr.normalize(),e.setXYZ(t,nr.x,nr.y,nr.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,u=0,l=t.length;u<l;u++){o=e.isInterleavedBufferAttribute?t[u]*e.data.stride+e.offset:t[u]*r;for(var c=0;c<r;c++)a[s++]=n[o++]}return new Wn(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,i=this.attributes;for(var a in i){var o=e(i[a],r);t.setAttribute(a,o)}var s=this.morphAttributes;for(var u in s){for(var l=[],c=s[u],h=0,d=c.length;h<d;h++){var g=e(c[h],r);l.push(g)}t.morphAttributes[u]=l}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,f=0,m=p.length;f<m;f++){var v=p[f];t.addGroup(v.start,v.count,v.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a];e.data.attributes[a]=o.toJSON(e.data)}var s={},u=!1;for(var l in this.morphAttributes){for(var c=this.morphAttributes[l],h=[],d=0,g=c.length;d<g;d++){var p=c[d];h.push(p.toJSON(e.data))}h.length>0&&(s[l]=h,u=!0)}u&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var f=this.groups;f.length>0&&(e.data.groups=JSON.parse(JSON.stringify(f)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var u=[],l=o[s],c=0,h=l.length;c<h;c++)u.push(l[c].clone(t));this.morphAttributes[s]=u}this.morphTargetsRelative=e.morphTargetsRelative;for(var d=e.groups,g=0,p=d.length;g<p;g++){var f=d[g];this.addGroup(f.start,f.count,f.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var v=e.boundingSphere;return null!==v&&(this.boundingSphere=v.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Le),ir=new Zt,ar=new Xt,or=new jt,sr=new bt,ur=new bt,lr=new bt,cr=new bt,hr=new bt,dr=new bt,gr=new qe,pr=new qe,fr=new qe,mr=new bt,vr=new bt,yr=new bt,Ar=new bt,br=new bt,xr=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new rr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gn;return(0,f.Z)(this,n),(e=t.call(this)).isMesh=!0,e.type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,m.Z)(n,[{key:"copy",value:function(e,t){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}},{key:"getVertexPosition",value:function(e,t){var n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);var o=this.morphTargetInfluences;if(i&&o){dr.set(0,0,0);for(var s=0,u=i.length;s<u;s++){var l=o[s],c=i[s];0!==l&&(hr.fromBufferAttribute(c,e),a?dr.addScaledVector(hr,l):dr.addScaledVector(hr.sub(t),l))}t.add(dr)}return t}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),or.copy(n.boundingSphere),or.applyMatrix4(i),ar.copy(e.ray).recast(e.near),!1===or.containsPoint(ar.origin)){if(null===ar.intersectSphere(or,sr))return;if(ar.origin.distanceToSquared(sr)>Math.pow(e.far-e.near,2))return}ir.copy(i).invert(),ar.copy(e.ray).applyMatrix4(ir),null!==n.boundingBox&&!1===ar.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,ar)}}},{key:"_computeIntersections",value:function(e,t,n){var r,i=this.geometry,a=this.material,o=i.index,s=i.attributes.position,u=i.attributes.uv,l=i.attributes.uv1,c=i.attributes.normal,h=i.groups,d=i.drawRange;if(null!==o)if(Array.isArray(a))for(var g=0,p=h.length;g<p;g++)for(var f=h[g],m=a[f.materialIndex],v=Math.max(f.start,d.start),y=Math.min(o.count,Math.min(f.start+f.count,d.start+d.count));v<y;v+=3){(r=wr(this,m,e,n,u,l,c,o.getX(v),o.getX(v+1),o.getX(v+2)))&&(r.faceIndex=Math.floor(v/3),r.face.materialIndex=f.materialIndex,t.push(r))}else for(var A=Math.max(0,d.start),b=Math.min(o.count,d.start+d.count);A<b;A+=3){(r=wr(this,a,e,n,u,l,c,o.getX(A),o.getX(A+1),o.getX(A+2)))&&(r.faceIndex=Math.floor(A/3),t.push(r))}else if(void 0!==s)if(Array.isArray(a))for(var x=0,w=h.length;x<w;x++)for(var E=h[x],_=a[E.materialIndex],C=Math.max(E.start,d.start),M=Math.min(s.count,Math.min(E.start+E.count,d.start+d.count));C<M;C+=3){(r=wr(this,_,e,n,u,l,c,C,C+1,C+2))&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=E.materialIndex,t.push(r))}else for(var S=Math.max(0,d.start),I=Math.min(s.count,d.start+d.count);S<I;S+=3){(r=wr(this,a,e,n,u,l,c,S,S+1,S+2))&&(r.faceIndex=Math.floor(S/3),t.push(r))}}}]),n}(wn);function wr(e,t,n,r,i,a,o,s,u,l){e.getVertexPosition(s,ur),e.getVertexPosition(u,lr),e.getVertexPosition(l,cr);var c=function(e,t,n,r,i,a,o,s){if(null===(t.side===_?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side===E,s)))return null;br.copy(s),br.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(br);return u<n.near||u>n.far?null:{distance:u,point:br.clone(),object:e}}(e,t,n,r,ur,lr,cr,Ar);if(c){i&&(gr.fromBufferAttribute(i,s),pr.fromBufferAttribute(i,u),fr.fromBufferAttribute(i,l),c.uv=Dn.getInterpolation(Ar,ur,lr,cr,gr,pr,fr,new qe)),a&&(gr.fromBufferAttribute(a,s),pr.fromBufferAttribute(a,u),fr.fromBufferAttribute(a,l),c.uv1=Dn.getInterpolation(Ar,ur,lr,cr,gr,pr,fr,new qe),c.uv2=c.uv1),o&&(mr.fromBufferAttribute(o,s),vr.fromBufferAttribute(o,u),yr.fromBufferAttribute(o,l),c.normal=Dn.getInterpolation(Ar,ur,lr,cr,mr,vr,yr,new bt),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));var h={a:s,b:u,c:l,normal:new bt,materialIndex:0};Dn.getNormal(ur,lr,cr,h.normal),c.face=h}return c}var Er=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;(0,f.Z)(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:o,heightSegments:s,depthSegments:u};var l=(0,c.Z)(e);o=Math.floor(o),s=Math.floor(s),u=Math.floor(u);var h=[],d=[],g=[],p=[],m=0,v=0;function y(e,t,n,r,i,a,o,s,u,c,f){for(var y=a/u,A=o/c,b=a/2,x=o/2,w=s/2,E=u+1,_=c+1,C=0,M=0,S=new bt,I=0;I<_;I++)for(var T=I*A-x,k=0;k<E;k++){var R=k*y-b;S[e]=R*r,S[t]=T*i,S[n]=w,d.push(S.x,S.y,S.z),S[e]=0,S[t]=0,S[n]=s>0?1:-1,g.push(S.x,S.y,S.z),p.push(k/u),p.push(1-I/c),C+=1}for(var L=0;L<c;L++)for(var B=0;B<u;B++){var D=m+B+E*L,P=m+B+E*(L+1),O=m+(B+1)+E*(L+1),N=m+(B+1)+E*L;h.push(D,P,N),h.push(P,O,N),M+=6}l.addGroup(v,M,f),v+=M,m+=C}return y("z","y","x",-1,-1,a,i,r,u,s,0),y("z","y","x",1,-1,a,i,-r,u,s,1),y("x","z","y",1,1,r,a,i,o,u,2),y("x","z","y",1,-1,r,a,-i,o,u,3),y("x","y","z",1,-1,r,i,a,o,s,4),y("x","y","z",-1,-1,r,i,-a,o,s,5),e.setIndex(h),e.setAttribute("position",new Xn(d,3)),e.setAttribute("normal",new Xn(g,3)),e.setAttribute("uv",new Xn(p,2)),e}return(0,m.Z)(n,[{key:"copy",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(rr);function _r(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function Cr(e){for(var t={},n=0;n<e.length;n++){var r=_r(e[n]);for(var i in r)t[i]=r[i]}return t}function Mr(e){return null===e.getRenderTarget()?e.outputColorSpace:at.workingColorSpace}var Sr={clone:_r,merge:Cr},Ir=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,f.Z)(this,n),(r=t.call(this)).isShaderMaterial=!0,r.type="ShaderMaterial",r.defines={},r.uniforms={},r.uniformsGroups=[],r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.forceSinglePass=!0,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&r.setValues(e),r}return(0,m.Z)(n,[{key:"copy",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=_r(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=(0,s.Z)((0,u.Z)(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(t.extensions=a),t}}]),n}(On),Tr=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;return(0,f.Z)(this,n),(e=t.call(this)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new Zt,e.projectionMatrix=new Zt,e.projectionMatrixInverse=new Zt,e.coordinateSystem=ke,e}return(0,m.Z)(n,[{key:"copy",value:function(e,t){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}},{key:"getWorldDirection",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"getWorldDirection",this).call(this,e).negate()}},{key:"updateMatrixWorld",value:function(e){(0,s.Z)((0,u.Z)(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){(0,s.Z)((0,u.Z)(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(wn),kr=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return(0,f.Z)(this,n),(e=t.call(this)).isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=a,e.far=o,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return(0,m.Z)(n,[{key:"copy",value:function(e,t){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Oe*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*Pe*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*Oe*Math.atan(Math.tan(.5*Pe*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*Pe*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=(0,s.Z)((0,u.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(Tr),Rr=-90,Lr=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e,r,i){var a;(0,f.Z)(this,n),(a=t.call(this)).type="CubeCamera",a.renderTarget=i,a.coordinateSystem=null,a.activeMipmapLevel=0;var o=new kr(Rr,1,e,r);o.layers=a.layers,a.add(o);var s=new kr(Rr,1,e,r);s.layers=a.layers,a.add(s);var u=new kr(Rr,1,e,r);u.layers=a.layers,a.add(u);var l=new kr(Rr,1,e,r);l.layers=a.layers,a.add(l);var c=new kr(Rr,1,e,r);c.layers=a.layers,a.add(c);var h=new kr(Rr,1,e,r);return h.layers=a.layers,a.add(h),a}return(0,m.Z)(n,[{key:"updateCoordinateSystem",value:function(){var e,t=this.coordinateSystem,n=this.children.concat(),r=(0,o.Z)(n,6),i=r[0],s=r[1],u=r[2],l=r[3],c=r[4],h=r[5],d=(0,a.Z)(n);try{for(d.s();!(e=d.n()).done;){var g=e.value;this.remove(g)}}catch(v){d.e(v)}finally{d.f()}if(t===ke)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),u.up.set(0,0,-1),u.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),c.up.set(0,1,0),c.lookAt(0,0,1),h.up.set(0,1,0),h.lookAt(0,0,-1);else{if(t!==Re)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),u.up.set(0,0,1),u.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),c.up.set(0,-1,0),c.lookAt(0,0,1),h.up.set(0,-1,0),h.lookAt(0,0,-1)}var p,f=(0,a.Z)(n);try{for(f.s();!(p=f.n()).done;){var m=p.value;this.add(m),m.updateMatrixWorld()}}catch(v){f.e(v)}finally{f.f()}}},{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=this.activeMipmapLevel;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());var i=(0,o.Z)(this.children,6),a=i[0],s=i[1],u=i[2],l=i[3],c=i[4],h=i[5],d=e.getRenderTarget(),g=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),f=e.xr.enabled;e.xr.enabled=!1;var m=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,a),e.setRenderTarget(n,1,r),e.render(t,s),e.setRenderTarget(n,2,r),e.render(t,u),e.setRenderTarget(n,3,r),e.render(t,l),e.setRenderTarget(n,4,r),e.render(t,c),n.texture.generateMipmaps=m,e.setRenderTarget(n,5,r),e.render(t,h),e.setRenderTarget(d,g,p),e.xr.enabled=f,n.texture.needsPMREMUpdate=!0}}]),n}(wn),Br=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e,r,i,a,o,s,u,l,c,h){var d;return(0,f.Z)(this,n),e=void 0!==e?e:[],r=void 0!==r?r:O,(d=t.call(this,e,r,i,a,o,s,u,l,c,h)).isCubeTexture=!0,d.flipY=!1,d}return(0,m.Z)(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(gt),Dr=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,f.Z)(this,n),(e=t.call(this,r,r,i)).isWebGLCubeRenderTarget=!0;var a={width:r,height:r,depth:1},o=[a,a,a,a,a,a];return void 0!==i.encoding&&($e("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===me?ye:ve),e.texture=new Br(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,e.texture.minFilter=void 0!==i.minFilter?i.minFilter:q,e}return(0,m.Z)(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new Er(5,5,5),o=new Ir({name:"CubemapFromEquirect",uniforms:_r(n),vertexShader:r,fragmentShader:i,side:_,blending:C});o.uniforms.tEquirect.value=t;var s=new xr(a,o),u=t.minFilter;return t.minFilter===K&&(t.minFilter=q),new Lr(1,10,this).update(e,s),t.minFilter=u,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(mt),Pr=new bt,Or=new bt,Nr=new Ke,Fr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bt(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,f.Z)(this,e),this.isPlane=!0,this.normal=t,this.constant=n}return(0,m.Z)(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=Pr.subVectors(n,t).cross(Or.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}},{key:"intersectLine",value:function(e,t){var n=e.delta(Pr),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||Nr.getNormalMatrix(e),r=this.coplanarPoint(Pr).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Ur=new jt,zr=new bt,jr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Fr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Fr,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Fr,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Fr,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Fr,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Fr;(0,f.Z)(this,e),this.planes=[t,n,r,i,a,o]}return(0,m.Z)(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ke,n=this.planes,r=e.elements,i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],l=r[5],c=r[6],h=r[7],d=r[8],g=r[9],p=r[10],f=r[11],m=r[12],v=r[13],y=r[14],A=r[15];if(n[0].setComponents(s-i,h-u,f-d,A-m).normalize(),n[1].setComponents(s+i,h+u,f+d,A+m).normalize(),n[2].setComponents(s+a,h+l,f+g,A+v).normalize(),n[3].setComponents(s-a,h-l,f-g,A-v).normalize(),n[4].setComponents(s-o,h-c,f-p,A-y).normalize(),t===ke)n[5].setComponents(s+o,h+c,f+p,A+y).normalize();else{if(t!==Re)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(o,c,p,y).normalize()}return this}},{key:"intersectsObject",value:function(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Ur.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{var t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Ur.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ur)}},{key:"intersectsSprite",value:function(e){return Ur.center.set(0,0,0),Ur.radius=.7071067811865476,Ur.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ur)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(zr.x=r.normal.x>0?e.max.x:e.min.x,zr.y=r.normal.y>0?e.max.y:e.min.y,zr.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(zr)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function Hr(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Gr(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,r){var i,a=t.array,o=t.usage,s=e.createBuffer();if(e.bindBuffer(r,s),e.bufferData(r,a,o),t.onUploadCallback(),a instanceof Float32Array)i=e.FLOAT;else if(a instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=e.HALF_FLOAT}else i=e.UNSIGNED_SHORT;else if(a instanceof Int16Array)i=e.SHORT;else if(a instanceof Uint32Array)i=e.UNSIGNED_INT;else if(a instanceof Int32Array)i=e.INT;else if(a instanceof Int8Array)i=e.BYTE;else if(a instanceof Uint8Array)i=e.UNSIGNED_BYTE;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);i=e.UNSIGNED_BYTE}return{buffer:s,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,r,i){var a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),r.onUploadCallback()}(o.buffer,t,i),o.version=t.version)}}}}var Vr=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,f.Z)(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:a,heightSegments:o};for(var s=r/2,u=i/2,l=Math.floor(a),c=Math.floor(o),h=l+1,d=c+1,g=r/l,p=i/c,m=[],v=[],y=[],A=[],b=0;b<d;b++)for(var x=b*p-u,w=0;w<h;w++){var E=w*g-s;v.push(E,-x,0),y.push(0,0,1),A.push(w/l),A.push(1-b/c)}for(var _=0;_<c;_++)for(var C=0;C<l;C++){var M=C+h*_,S=C+h*(_+1),I=C+1+h*(_+1),T=C+1+h*_;m.push(M,S,T),m.push(S,I,T)}return e.setIndex(m),e.setAttribute("position",new Xn(v,3)),e.setAttribute("normal",new Xn(y,3)),e.setAttribute("uv",new Xn(A,2)),e}return(0,m.Z)(n,[{key:"copy",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(rr),Qr={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal;\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Wr={common:{diffuse:{value:new jn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ke},alphaMap:{value:null},alphaMapTransform:{value:new Ke},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ke}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ke}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ke}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ke},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ke},normalScale:{value:new qe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ke},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ke}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ke}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ke}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new jn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new jn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ke},alphaTest:{value:0},uvTransform:{value:new Ke}},sprite:{diffuse:{value:new jn(16777215)},opacity:{value:1},center:{value:new qe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ke},alphaMap:{value:null},alphaMapTransform:{value:new Ke},alphaTest:{value:0}}},qr={basic:{uniforms:Cr([Wr.common,Wr.specularmap,Wr.envmap,Wr.aomap,Wr.lightmap,Wr.fog]),vertexShader:Qr.meshbasic_vert,fragmentShader:Qr.meshbasic_frag},lambert:{uniforms:Cr([Wr.common,Wr.specularmap,Wr.envmap,Wr.aomap,Wr.lightmap,Wr.emissivemap,Wr.bumpmap,Wr.normalmap,Wr.displacementmap,Wr.fog,Wr.lights,{emissive:{value:new jn(0)}}]),vertexShader:Qr.meshlambert_vert,fragmentShader:Qr.meshlambert_frag},phong:{uniforms:Cr([Wr.common,Wr.specularmap,Wr.envmap,Wr.aomap,Wr.lightmap,Wr.emissivemap,Wr.bumpmap,Wr.normalmap,Wr.displacementmap,Wr.fog,Wr.lights,{emissive:{value:new jn(0)},specular:{value:new jn(1118481)},shininess:{value:30}}]),vertexShader:Qr.meshphong_vert,fragmentShader:Qr.meshphong_frag},standard:{uniforms:Cr([Wr.common,Wr.envmap,Wr.aomap,Wr.lightmap,Wr.emissivemap,Wr.bumpmap,Wr.normalmap,Wr.displacementmap,Wr.roughnessmap,Wr.metalnessmap,Wr.fog,Wr.lights,{emissive:{value:new jn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Qr.meshphysical_vert,fragmentShader:Qr.meshphysical_frag},toon:{uniforms:Cr([Wr.common,Wr.aomap,Wr.lightmap,Wr.emissivemap,Wr.bumpmap,Wr.normalmap,Wr.displacementmap,Wr.gradientmap,Wr.fog,Wr.lights,{emissive:{value:new jn(0)}}]),vertexShader:Qr.meshtoon_vert,fragmentShader:Qr.meshtoon_frag},matcap:{uniforms:Cr([Wr.common,Wr.bumpmap,Wr.normalmap,Wr.displacementmap,Wr.fog,{matcap:{value:null}}]),vertexShader:Qr.meshmatcap_vert,fragmentShader:Qr.meshmatcap_frag},points:{uniforms:Cr([Wr.points,Wr.fog]),vertexShader:Qr.points_vert,fragmentShader:Qr.points_frag},dashed:{uniforms:Cr([Wr.common,Wr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Qr.linedashed_vert,fragmentShader:Qr.linedashed_frag},depth:{uniforms:Cr([Wr.common,Wr.displacementmap]),vertexShader:Qr.depth_vert,fragmentShader:Qr.depth_frag},normal:{uniforms:Cr([Wr.common,Wr.bumpmap,Wr.normalmap,Wr.displacementmap,{opacity:{value:1}}]),vertexShader:Qr.meshnormal_vert,fragmentShader:Qr.meshnormal_frag},sprite:{uniforms:Cr([Wr.sprite,Wr.fog]),vertexShader:Qr.sprite_vert,fragmentShader:Qr.sprite_frag},background:{uniforms:{uvTransform:{value:new Ke},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Qr.background_vert,fragmentShader:Qr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Qr.backgroundCube_vert,fragmentShader:Qr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Qr.cube_vert,fragmentShader:Qr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Qr.equirect_vert,fragmentShader:Qr.equirect_frag},distanceRGBA:{uniforms:Cr([Wr.common,Wr.displacementmap,{referencePosition:{value:new bt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Qr.distanceRGBA_vert,fragmentShader:Qr.distanceRGBA_frag},shadow:{uniforms:Cr([Wr.lights,Wr.fog,{color:{value:new jn(0)},opacity:{value:1}}]),vertexShader:Qr.shadow_vert,fragmentShader:Qr.shadow_frag}};qr.physical={uniforms:Cr([qr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ke},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ke},clearcoatNormalScale:{value:new qe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ke},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ke},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ke},sheen:{value:0},sheenColor:{value:new jn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ke},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ke},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ke},transmissionSamplerSize:{value:new qe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ke},attenuationDistance:{value:0},attenuationColor:{value:new jn(0)},specularColor:{value:new jn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ke},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ke},anisotropyVector:{value:new qe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ke}}]),vertexShader:Qr.meshphysical_vert,fragmentShader:Qr.meshphysical_frag};var Kr={r:0,b:0,g:0};function Xr(e,t,n,r,i,a,o){var s,u,l=new jn(0),c=!0===a?0:1,h=null,d=0,g=null;function p(t,n){t.getRGB(Kr,Mr(e)),r.buffers.color.setClear(Kr.r,Kr.g,Kr.b,n,o)}return{getClearColor:function(){return l},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l.set(e),p(l,c=t)},getClearAlpha:function(){return c},setClearAlpha:function(e){p(l,c=e)},render:function(a,f){var m=!1,v=!0===f.isScene?f.background:null;v&&v.isTexture&&(v=(f.backgroundBlurriness>0?n:t).get(v)),null===v?p(l,c):v&&v.isColor&&(p(v,1),m=!0);var y=e.xr.getEnvironmentBlendMode();"additive"===y?r.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===y&&r.buffers.color.setClear(0,0,0,0,o),(e.autoClear||m)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),v&&(v.isCubeTexture||v.mapping===z)?(void 0===u&&((u=new xr(new Er(1,1,1),new Ir({name:"BackgroundCubeMaterial",uniforms:_r(qr.backgroundCube.uniforms),vertexShader:qr.backgroundCube.vertexShader,fragmentShader:qr.backgroundCube.fragmentShader,side:_,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=v,u.material.uniforms.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=f.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=f.backgroundIntensity,u.material.toneMapped=at.getTransfer(v.colorSpace)!==Ee,h===v&&d===v.version&&g===e.toneMapping||(u.material.needsUpdate=!0,h=v,d=v.version,g=e.toneMapping),u.layers.enableAll(),a.unshift(u,u.geometry,u.material,0,0,null)):v&&v.isTexture&&(void 0===s&&((s=new xr(new Vr(2,2),new Ir({name:"BackgroundMaterial",uniforms:_r(qr.background.uniforms),vertexShader:qr.background.vertexShader,fragmentShader:qr.background.fragmentShader,side:E,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=v,s.material.uniforms.backgroundIntensity.value=f.backgroundIntensity,s.material.toneMapped=at.getTransfer(v.colorSpace)!==Ee,!0===v.matrixAutoUpdate&&v.updateMatrix(),s.material.uniforms.uvTransform.value.copy(v.matrix),h===v&&d===v.version&&g===e.toneMapping||(s.material.needsUpdate=!0,h=v,d=v.version,g=e.toneMapping),s.layers.enableAll(),a.unshift(s,s.geometry,s.material,0,0,null))}}}function Zr(e,t,n,r){var i=e.getParameter(e.MAX_VERTEX_ATTRIBS),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},u=g(null),l=u,c=!1;function h(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function g(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function p(){for(var e=l.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function f(e){m(e,0)}function m(n,i){var a=l.newAttributes,o=l.enabledAttributes,s=l.attributeDivisors;(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function v(){for(var t=l.newAttributes,n=l.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,r,i,a,o,s){!0===s?e.vertexAttribIPointer(t,n,r,a,o):e.vertexAttribPointer(t,n,r,i,a,o)}function A(){b(),c=!0,l!==u&&h((l=u).object)}function b(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function(i,u,d,A,b){var x=!1;if(o){var w=function(t,n,i){var o=!0===i.wireframe,u=s[t.id];void 0===u&&(u={},s[t.id]=u);var l=u[n.id];void 0===l&&(l={},u[n.id]=l);var c=l[o];void 0===c&&(c=g(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),l[o]=c);return c}(A,d,u);l!==w&&h((l=w).object),x=function(e,t,n,r){var i=l.attributes,a=t.attributes,o=0,s=n.getAttributes();for(var u in s){if(s[u].location>=0){var c=i[u],h=a[u];if(void 0===h&&("instanceMatrix"===u&&e.instanceMatrix&&(h=e.instanceMatrix),"instanceColor"===u&&e.instanceColor&&(h=e.instanceColor)),void 0===c)return!0;if(c.attribute!==h)return!0;if(h&&c.data!==h.data)return!0;o++}}return l.attributesNum!==o||l.index!==r}(i,A,d,b),x&&function(e,t,n,r){var i={},a=t.attributes,o=0,s=n.getAttributes();for(var u in s){if(s[u].location>=0){var c=a[u];void 0===c&&("instanceMatrix"===u&&e.instanceMatrix&&(c=e.instanceMatrix),"instanceColor"===u&&e.instanceColor&&(c=e.instanceColor));var h={};h.attribute=c,c&&c.data&&(h.data=c.data),i[u]=h,o++}}l.attributes=i,l.attributesNum=o,l.index=r}(i,A,d,b)}else{var E=!0===u.wireframe;l.geometry===A.id&&l.program===d.id&&l.wireframe===E||(l.geometry=A.id,l.program=d.id,l.wireframe=E,x=!0)}null!==b&&n.update(b,e.ELEMENT_ARRAY_BUFFER),(x||c)&&(c=!1,function(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();var u=s.attributes,l=o.getAttributes(),c=a.defaultAttributeValues;for(var h in l){var d=l[h];if(d.location>=0){var g=u[h];if(void 0===g&&("instanceMatrix"===h&&i.instanceMatrix&&(g=i.instanceMatrix),"instanceColor"===h&&i.instanceColor&&(g=i.instanceColor)),void 0!==g){var A=g.normalized,b=g.itemSize,x=n.get(g);if(void 0===x)continue;var w=x.buffer,E=x.type,_=x.bytesPerElement,C=!0===r.isWebGL2&&(E===e.INT||E===e.UNSIGNED_INT||g.gpuType===Y);if(g.isInterleavedBufferAttribute){var M=g.data,S=M.stride,I=g.offset;if(M.isInstancedInterleavedBuffer){for(var T=0;T<d.locationSize;T++)m(d.location+T,M.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=M.meshPerAttribute*M.count)}else for(var k=0;k<d.locationSize;k++)f(d.location+k);e.bindBuffer(e.ARRAY_BUFFER,w);for(var R=0;R<d.locationSize;R++)y(d.location+R,b/d.locationSize,E,A,S*_,(I+b/d.locationSize*R)*_,C)}else{if(g.isInstancedBufferAttribute){for(var L=0;L<d.locationSize;L++)m(d.location+L,g.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=g.meshPerAttribute*g.count)}else for(var B=0;B<d.locationSize;B++)f(d.location+B);e.bindBuffer(e.ARRAY_BUFFER,w);for(var D=0;D<d.locationSize;D++)y(d.location+D,b/d.locationSize,E,A,b*_,b/d.locationSize*D*_,C)}}else if(void 0!==c){var P=c[h];if(void 0!==P)switch(P.length){case 2:e.vertexAttrib2fv(d.location,P);break;case 3:e.vertexAttrib3fv(d.location,P);break;case 4:e.vertexAttrib4fv(d.location,P);break;default:e.vertexAttrib1fv(d.location,P)}}}}v()}(i,u,d,A),null!==b&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.get(b).buffer))},reset:A,resetDefaultState:b,dispose:function(){for(var e in A(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)d(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:p,enableAttribute:f,disableUnusedAttributes:v}}function Yr(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0!==s){var u,l;if(a)u=e,l="drawArraysInstanced";else if(l="drawArraysInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[l](i,r,o,s),n.update(o,i,s)}}}function Jr(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===e.constructor.name,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var u=a||t.has("WEBGL_draw_buffers"),l=!0===n.logarithmicDepthBuffer,c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_TEXTURE_SIZE),g=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),p=e.getParameter(e.MAX_VERTEX_ATTRIBS),f=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),m=e.getParameter(e.MAX_VARYING_VECTORS),v=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),y=h>0,A=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:g,maxAttributes:p,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:y,floatFragmentTextures:A,floatVertexTextures:y&&A,maxSamples:a?e.getParameter(e.MAX_SAMPLES):0}}function $r(e){var t=this,n=null,r=0,i=!1,a=!1,o=new Fr,s=new Ke,u={value:null,needsUpdate:!1};function l(e,n,r,i){var a=null!==e?e.length:0,l=null;if(0!==a){if(l=u.value,!0!==i||null===l){var c=r+4*a,h=n.matrixWorldInverse;s.getNormalMatrix(h),(null===l||l.length<c)&&(l=new Float32Array(c));for(var d=0,g=r;d!==a;++d,g+=4)o.copy(e[d]).applyMatrix4(h,s),o.normal.toArray(l,g),l[g+3]=o.constant}u.value=l,u.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,l}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){var n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,l(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=l(e,t,0)},this.setState=function(o,s,c){var h=o.clippingPlanes,d=o.clipIntersection,g=o.clipShadows,p=e.get(o);if(!i||null===h||0===h.length||a&&!g)a?l(null):function(){u.value!==n&&(u.value=n,u.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{var f=a?0:r,m=4*f,v=p.clippingState||null;u.value=v,v=l(h,s,m,c);for(var y=0;y!==m;++y)v[y]=n[y];p.clippingState=v,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=f}}}function ei(e){var t=new WeakMap;function n(e,t){return t===F?e.mapping=O:t===U&&(e.mapping=N),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var a=i.mapping;if(a===F||a===U){if(t.has(i))return n(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var s=new Dr(o.height/2);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}var ti=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return(0,f.Z)(this,n),(e=t.call(this)).isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=a,e.bottom=o,e.near=s,e.far=u,e.updateProjectionMatrix(),e}return(0,m.Z)(n,[{key:"copy",value:function(e,t){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var u=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=u*this.view.offsetX)+u*this.view.width,s=(o-=l*this.view.offsetY)-l*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=(0,s.Z)((0,u.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(Tr),ni=[.125,.215,.35,.446,.526,.582],ri=20,ii=new ti,ai=new jn,oi=null,si=(1+Math.sqrt(5))/2,ui=1/si,li=[new bt(1,1,1),new bt(-1,1,1),new bt(1,1,-1),new bt(-1,1,-1),new bt(0,si,ui),new bt(0,si,-ui),new bt(ui,0,si),new bt(-ui,0,si),new bt(si,ui,0),new bt(-si,ui,0)],ci=function(){function e(t){(0,f.Z)(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return(0,m.Z)(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;oi=this._renderer.getRenderTarget(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=pi(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=gi(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(oi),e.scissorTest=!1,di(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===O||e.mapping===N?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),oi=this._renderer.getRenderTarget();var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:q,minFilter:q,generateMipmaps:!1,type:ee,format:ne,colorSpace:Ae,depthBuffer:!1},r=hi(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=hi(e,t,n);var i=this._lodMax,a=function(e){for(var t=[],n=[],r=[],i=e,a=e-4+1+ni.length,o=0;o<a;o++){var s=Math.pow(2,i);n.push(s);var u=1/s;o>e-4?u=ni[o-e+4-1]:0===o&&(u=0),r.push(u);for(var l=1/(s-2),c=-l,h=1+l,d=[c,c,h,c,h,h,c,c,h,h,c,h],g=6,p=6,f=3,m=2,v=1,y=new Float32Array(f*p*g),A=new Float32Array(m*p*g),b=new Float32Array(v*p*g),x=0;x<g;x++){var w=x%3*2/3-1,E=x>2?0:-1,_=[w,E,0,w+2/3,E,0,w+2/3,E+1,0,w,E,0,w+2/3,E+1,0,w,E+1,0];y.set(_,f*p*x),A.set(d,m*p*x);var C=[x,x,x,x,x,x];b.set(C,v*p*x)}var M=new rr;M.setAttribute("position",new Wn(y,f)),M.setAttribute("uv",new Wn(A,m)),M.setAttribute("faceIndex",new Wn(b,v)),t.push(M),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(i);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(ri),i=new bt(0,1,0),a=new Ir({name:"SphericalGaussianBlur",defines:{n:ri,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:C,depthTest:!1,depthWrite:!1});return a}(i,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new xr(this._lodPlanes[0],e);this._renderer.compile(t,ii)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new kr(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,u=s.autoClear,l=s.toneMapping;s.getClearColor(ai),s.toneMapping=k,s.autoClear=!1;var c=new Gn({name:"PMREM.Background",side:_,depthWrite:!1,depthTest:!1}),h=new xr(new Er,c),d=!1,g=e.background;g?g.isColor&&(c.color.copy(g),e.background=null,d=!0):(c.color.copy(ai),d=!0);for(var p=0;p<6;p++){var f=p%3;0===f?(i.up.set(0,a[p],0),i.lookAt(o[p],0,0)):1===f?(i.up.set(0,0,a[p]),i.lookAt(0,o[p],0)):(i.up.set(0,a[p],0),i.lookAt(0,0,o[p]));var m=this._cubeSize;di(r,f*m,p>2?m:0,m,m),s.setRenderTarget(r),d&&s.render(h,i),s.render(e,i)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=l,s.autoClear=u,e.background=g}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===O||e.mapping===N;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=pi()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=gi());var i=r?this._cubemapMaterial:this._equirectMaterial,a=new xr(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var o=this._cubeSize;di(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,ii)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=li[(r-1)%li.length];this._blur(e,r-1,r,i,a)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,a,o){var s=this._renderer,u=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var l=new xr(this._lodPlanes[r],u),c=u.uniforms,h=this._sizeLods[n]-1,d=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,g=i/d,p=isFinite(i)?1+Math.floor(3*g):ri;p>ri&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(ri));for(var f=[],m=0,v=0;v<ri;++v){var y=v/g,A=Math.exp(-y*y/2);f.push(A),0===v?m+=A:v<p&&(m+=2*A)}for(var b=0;b<f.length;b++)f[b]=f[b]/m;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=f,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);var x=this._lodMax;c.dTheta.value=d,c.mipInt.value=x-n;var w=this._sizeLods[r];di(t,3*w*(r>x-4?r-x+4:0),4*(this._cubeSize-w),3*w,2*w),s.setRenderTarget(t),s.render(l,ii)}}]),e}();function hi(e,t,n){var r=new mt(e,t,n);return r.texture.mapping=z,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function di(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function gi(){return new Ir({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:C,depthTest:!1,depthWrite:!1})}function pi(){return new Ir({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:C,depthTest:!1,depthWrite:!1})}function fi(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping,o=a===F||a===U,s=a===O||a===N;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var u=t.get(i);return null===n&&(n=new ci(e)),u=o?n.fromEquirectangular(i,u):n.fromCubemap(i,u),t.set(i,u),u.texture}if(t.has(i))return t.get(i).texture;var l=i.image;if(o&&l&&l.height>0||s&&l&&function(e){for(var t=0,n=6,r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(l)){null===n&&(n=new ci(e));var c=o?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,c),i.addEventListener("dispose",r),c.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function mi(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function vi(e,t,n,r){var i={},a=new WeakMap;function o(e){var s=e.target;for(var u in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[u]);for(var l in s.morphAttributes)for(var c=s.morphAttributes[l],h=0,d=c.length;h<d;h++)t.remove(c[h]);s.removeEventListener("dispose",o),delete i[s.id];var g=a.get(s);g&&(t.remove(g),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var u=0,l=s.length;u<l;u+=3){var c=s[u+0],h=s[u+1],d=s[u+2];n.push(c,h,h,d,d,c)}}else{if(void 0===i)return;var g=i.array;o=i.version;for(var p=0,f=g.length/3-1;p<f;p+=3){var m=p+0,v=p+1,y=p+2;n.push(m,v,v,y,y,m)}}var A=new(Ze(n)?Kn:qn)(n,1);A.version=o;var b=a.get(e);b&&t.remove(b),a.set(e,A)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(n){var r=n.attributes;for(var i in r)t.update(r[i],e.ARRAY_BUFFER);var a=n.morphAttributes;for(var o in a)for(var s=a[o],u=0,l=s.length;u<l;u++)t.update(s[u],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function yi(e,t,n,r){var i,a,o,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,u,l){if(0!==l){var c,h;if(s)c=e,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[h](i,u,a,r*o,l),n.update(u,i,l)}}}function Ai(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function bi(e,t){return e[0]-t[0]}function xi(e,t){return Math.abs(t[1])-Math.abs(e[1])}function wi(e,t,n){for(var r={},i=new Float32Array(8),a=new WeakMap,o=new pt,s=[],u=0;u<8;u++)s[u]=[u,0];return{update:function(u,l,c){var h=u.morphTargetInfluences;if(!0===t.isWebGL2){var d=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,g=void 0!==d?d.length:0,p=a.get(l);if(void 0===p||p.count!==g){void 0!==p&&p.texture.dispose();var f=void 0!==l.morphAttributes.position,m=void 0!==l.morphAttributes.normal,v=void 0!==l.morphAttributes.color,y=l.morphAttributes.position||[],A=l.morphAttributes.normal||[],b=l.morphAttributes.color||[],x=0;!0===f&&(x=1),!0===m&&(x=2),!0===v&&(x=3);var w=l.attributes.position.count*x,E=1;w>t.maxTextureSize&&(E=Math.ceil(w/t.maxTextureSize),w=t.maxTextureSize);var _=new Float32Array(w*E*4*g),C=new vt(_,w,E,g);C.type=$,C.needsUpdate=!0;for(var M=4*x,S=0;S<g;S++)for(var I=y[S],T=A[S],k=b[S],R=w*E*4*S,L=0;L<I.count;L++){var B=L*M;!0===f&&(o.fromBufferAttribute(I,L),_[R+B+0]=o.x,_[R+B+1]=o.y,_[R+B+2]=o.z,_[R+B+3]=0),!0===m&&(o.fromBufferAttribute(T,L),_[R+B+4]=o.x,_[R+B+5]=o.y,_[R+B+6]=o.z,_[R+B+7]=0),!0===v&&(o.fromBufferAttribute(k,L),_[R+B+8]=o.x,_[R+B+9]=o.y,_[R+B+10]=o.z,_[R+B+11]=4===k.itemSize?o.w:1)}p={count:g,texture:C,size:new qe(w,E)},a.set(l,p),l.addEventListener("dispose",(function e(){C.dispose(),a.delete(l),l.removeEventListener("dispose",e)}))}for(var D=0,P=0;P<h.length;P++)D+=h[P];var O=l.morphTargetsRelative?1:1-D;c.getUniforms().setValue(e,"morphTargetBaseInfluence",O),c.getUniforms().setValue(e,"morphTargetInfluences",h),c.getUniforms().setValue(e,"morphTargetsTexture",p.texture,n),c.getUniforms().setValue(e,"morphTargetsTextureSize",p.size)}else{var N=void 0===h?0:h.length,F=r[l.id];if(void 0===F||F.length!==N){F=[];for(var U=0;U<N;U++)F[U]=[U,0];r[l.id]=F}for(var z=0;z<N;z++){var j=F[z];j[0]=z,j[1]=h[z]}F.sort(xi);for(var H=0;H<8;H++)H<N&&F[H][1]?(s[H][0]=F[H][0],s[H][1]=F[H][1]):(s[H][0]=Number.MAX_SAFE_INTEGER,s[H][1]=0);s.sort(bi);for(var G=l.morphAttributes.position,V=l.morphAttributes.normal,Q=0,W=0;W<8;W++){var q=s[W],K=q[0],X=q[1];K!==Number.MAX_SAFE_INTEGER&&X?(G&&l.getAttribute("morphTarget"+W)!==G[K]&&l.setAttribute("morphTarget"+W,G[K]),V&&l.getAttribute("morphNormal"+W)!==V[K]&&l.setAttribute("morphNormal"+W,V[K]),i[W]=X,Q+=X):(G&&!0===l.hasAttribute("morphTarget"+W)&&l.deleteAttribute("morphTarget"+W),V&&!0===l.hasAttribute("morphNormal"+W)&&l.deleteAttribute("morphNormal"+W),i[W]=0)}var Z=l.morphTargetsRelative?1:1-Q;c.getUniforms().setValue(e,"morphTargetBaseInfluence",Z),c.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function Ei(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){var s=r.render.frame,u=o.geometry,l=t.get(o,u);if(i.get(l)!==s&&(t.update(l),i.set(l,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),i.get(o)!==s&&(n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER),i.set(o,s))),o.isSkinnedMesh){var c=o.skeleton;i.get(c)!==s&&(c.update(),i.set(c,s))}return l},dispose:function(){i=new WeakMap}}}var _i=new gt,Ci=new vt,Mi=new yt,Si=new Br,Ii=[],Ti=[],ki=new Float32Array(16),Ri=new Float32Array(9),Li=new Float32Array(4);function Bi(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=Ii[i];if(void 0===a&&(a=new Float32Array(i),Ii[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function Di(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Pi(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Oi(e,t){var n=Ti[t];void 0===n&&(n=new Int32Array(t),Ti[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Ni(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Fi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Di(n,t))return;e.uniform2fv(this.addr,t),Pi(n,t)}}function Ui(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Di(n,t))return;e.uniform3fv(this.addr,t),Pi(n,t)}}function zi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Di(n,t))return;e.uniform4fv(this.addr,t),Pi(n,t)}}function ji(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Di(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Pi(n,t)}else{if(Di(n,r))return;Li.set(r),e.uniformMatrix2fv(this.addr,!1,Li),Pi(n,r)}}function Hi(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Di(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Pi(n,t)}else{if(Di(n,r))return;Ri.set(r),e.uniformMatrix3fv(this.addr,!1,Ri),Pi(n,r)}}function Gi(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Di(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Pi(n,t)}else{if(Di(n,r))return;ki.set(r),e.uniformMatrix4fv(this.addr,!1,ki),Pi(n,r)}}function Vi(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Qi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Di(n,t))return;e.uniform2iv(this.addr,t),Pi(n,t)}}function Wi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Di(n,t))return;e.uniform3iv(this.addr,t),Pi(n,t)}}function qi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Di(n,t))return;e.uniform4iv(this.addr,t),Pi(n,t)}}function Ki(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Xi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Di(n,t))return;e.uniform2uiv(this.addr,t),Pi(n,t)}}function Zi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Di(n,t))return;e.uniform3uiv(this.addr,t),Pi(n,t)}}function Yi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Di(n,t))return;e.uniform4uiv(this.addr,t),Pi(n,t)}}function Ji(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||_i,i)}function $i(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||Mi,i)}function ea(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||Si,i)}function ta(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Ci,i)}function na(e,t){e.uniform1fv(this.addr,t)}function ra(e,t){var n=Bi(t,this.size,2);e.uniform2fv(this.addr,n)}function ia(e,t){var n=Bi(t,this.size,3);e.uniform3fv(this.addr,n)}function aa(e,t){var n=Bi(t,this.size,4);e.uniform4fv(this.addr,n)}function oa(e,t){var n=Bi(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function sa(e,t){var n=Bi(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function ua(e,t){var n=Bi(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function la(e,t){e.uniform1iv(this.addr,t)}function ca(e,t){e.uniform2iv(this.addr,t)}function ha(e,t){e.uniform3iv(this.addr,t)}function da(e,t){e.uniform4iv(this.addr,t)}function ga(e,t){e.uniform1uiv(this.addr,t)}function pa(e,t){e.uniform2uiv(this.addr,t)}function fa(e,t){e.uniform3uiv(this.addr,t)}function ma(e,t){e.uniform4uiv(this.addr,t)}function va(e,t,n){var r=this.cache,i=t.length,a=Oi(n,i);Di(r,a)||(e.uniform1iv(this.addr,a),Pi(r,a));for(var o=0;o!==i;++o)n.setTexture2D(t[o]||_i,a[o])}function ya(e,t,n){var r=this.cache,i=t.length,a=Oi(n,i);Di(r,a)||(e.uniform1iv(this.addr,a),Pi(r,a));for(var o=0;o!==i;++o)n.setTexture3D(t[o]||Mi,a[o])}function Aa(e,t,n){var r=this.cache,i=t.length,a=Oi(n,i);Di(r,a)||(e.uniform1iv(this.addr,a),Pi(r,a));for(var o=0;o!==i;++o)n.setTextureCube(t[o]||Si,a[o])}function ba(e,t,n){var r=this.cache,i=t.length,a=Oi(n,i);Di(r,a)||(e.uniform1iv(this.addr,a),Pi(r,a));for(var o=0;o!==i;++o)n.setTexture2DArray(t[o]||Ci,a[o])}var xa=(0,m.Z)((function e(t,n,r){(0,f.Z)(this,e),this.id=t,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Ni;case 35664:return Fi;case 35665:return Ui;case 35666:return zi;case 35674:return ji;case 35675:return Hi;case 35676:return Gi;case 5124:case 35670:return Vi;case 35667:case 35671:return Qi;case 35668:case 35672:return Wi;case 35669:case 35673:return qi;case 5125:return Ki;case 36294:return Xi;case 36295:return Zi;case 36296:return Yi;case 35678:case 36198:case 36298:case 36306:case 35682:return Ji;case 35679:case 36299:case 36307:return $i;case 35680:case 36300:case 36308:case 36293:return ea;case 36289:case 36303:case 36311:case 36292:return ta}}(n.type)})),wa=(0,m.Z)((function e(t,n,r){(0,f.Z)(this,e),this.id=t,this.addr=r,this.cache=[],this.size=n.size,this.setValue=function(e){switch(e){case 5126:return na;case 35664:return ra;case 35665:return ia;case 35666:return aa;case 35674:return oa;case 35675:return sa;case 35676:return ua;case 5124:case 35670:return la;case 35667:case 35671:return ca;case 35668:case 35672:return ha;case 35669:case 35673:return da;case 5125:return ga;case 36294:return pa;case 36295:return fa;case 36296:return ma;case 35678:case 36198:case 36298:case 36306:case 35682:return va;case 35679:case 36299:case 36307:return ya;case 35680:case 36300:case 36308:case 36293:return Aa;case 36289:case 36303:case 36311:case 36292:return ba}}(n.type)})),Ea=function(){function e(t){(0,f.Z)(this,e),this.id=t,this.seq=[],this.map={}}return(0,m.Z)(e,[{key:"setValue",value:function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}}}]),e}(),_a=/(\w+)(\])?(\[|\.)?/g;function Ca(e,t){e.seq.push(t),e.map[t.id]=t}function Ma(e,t,n){var r=e.name,i=r.length;for(_a.lastIndex=0;;){var a=_a.exec(r),o=_a.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===i){Ca(n,void 0===l?new xa(s,e,t):new wa(s,e,t));break}var c=n.map[s];void 0===c&&Ca(n,c=new Ea(s)),n=c}}var Sa=function(){function e(t,n){(0,f.Z)(this,e),this.seq=[],this.map={};for(var r=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var a=t.getActiveUniform(n,i);Ma(a,t.getUniformLocation(n,a.name),this)}}return(0,m.Z)(e,[{key:"setValue",value:function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)}},{key:"setOptional",value:function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)}}],[{key:"upload",value:function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}}},{key:"seqWithValue",value:function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n}}]),e}();function Ia(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var Ta=0;function ka(e,t,n){var r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";var a=/ERROR: 0:(\d+)/.exec(i);if(a){var o=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length),o=i;o<a;o++){var s=o+1;r.push("".concat(s===t?">":" "," ").concat(s,": ").concat(n[o]))}return r.join("\n")}(e.getShaderSource(t),o)}return i}function Ra(e,t){var n=function(e){var t,n=at.getPrimaries(at.workingColorSpace),r=at.getPrimaries(e);switch(n===r?t="":n===Ce&&r===_e?t="LinearDisplayP3ToLinearSRGB":n===_e&&r===Ce&&(t="LinearSRGBToLinearDisplayP3"),e){case Ae:case xe:return[t,"LinearTransferOETF"];case ye:case be:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),[t,"LinearTransferOETF"]}}(t);return"vec4 ".concat(e,"( vec4 value ) { return ").concat(n[0],"( ").concat(n[1],"( value ) ); }")}function La(e,t){var n;switch(t){case R:n="Linear";break;case L:n="Reinhard";break;case B:n="OptimizedCineon";break;case D:n="ACESFilmic";break;case P:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Ba(e){return""!==e}function Da(e,t){var n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Pa(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Oa=/^[ \t]*#include +<([\w\d./]+)>/gm;function Na(e){return e.replace(Oa,Ua)}var Fa=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Ua(e,t){var n=Qr[t];if(void 0===n){var r=Fa.get(t);if(void 0===r)throw new Error("Can not resolve #include <"+t+">");n=Qr[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,r)}return Na(n)}var za=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ja(e){return e.replace(za,Ha)}function Ha(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function Ga(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Va(e,t,n,r){var i,a,o=e.getContext(),s=n.defines,u=n.vertexShader,l=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===b?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===x?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===w&&(t="SHADOWMAP_TYPE_VSM"),t}(n),h=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case O:case N:t="ENVMAP_TYPE_CUBE";break;case z:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),d=function(e){var t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===N&&(t="ENVMAP_MODE_REFRACTION");return t}(n),g=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case S:t="ENVMAP_BLENDING_MULTIPLY";break;case I:t="ENVMAP_BLENDING_MIX";break;case T:t="ENVMAP_BLENDING_ADD"}return t}(n),p=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),f=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.normalMapTangentSpace||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ba).join("\n")}(n),m=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),v=o.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Ba).join("\n")).length>0&&(i+="\n"),(a=[f,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Ba).join("\n")).length>0&&(a+="\n")):(i=[Ga(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ba).join("\n"),a=[f,Ga(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+d:"",n.envMap?"#define "+g:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==k?"#define TONE_MAPPING":"",n.toneMapping!==k?Qr.tonemapping_pars_fragment:"",n.toneMapping!==k?La("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Qr.colorspace_pars_fragment,Ra("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Ba).join("\n")),u=Pa(u=Da(u=Na(u),n),n),l=Pa(l=Da(l=Na(l),n),n),u=ja(u),l=ja(l),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===Ie?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Ie?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var A,E,_=y+i+u,C=y+a+l,M=Ia(o,o.VERTEX_SHADER,_),R=Ia(o,o.FRAGMENT_SHADER,C);if(o.attachShader(v,M),o.attachShader(v,R),void 0!==n.index0AttributeName?o.bindAttribLocation(v,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(v,0,"position"),o.linkProgram(v),e.debug.checkShaderErrors){var L=o.getProgramInfoLog(v).trim(),B=o.getShaderInfoLog(M).trim(),D=o.getShaderInfoLog(R).trim(),P=!0,F=!0;if(!1===o.getProgramParameter(v,o.LINK_STATUS))if(P=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(o,v,M,R);else{var U=ka(o,M,"vertex"),j=ka(o,R,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(v,o.VALIDATE_STATUS)+"\n\nProgram Info Log: "+L+"\n"+U+"\n"+j)}else""!==L?console.warn("THREE.WebGLProgram: Program Info Log:",L):""!==B&&""!==D||(F=!1);F&&(this.diagnostics={runnable:P,programLog:L,vertexShader:{log:B,prefix:i},fragmentShader:{log:D,prefix:a}})}return o.deleteShader(M),o.deleteShader(R),this.getUniforms=function(){return void 0===A&&(A=new Sa(o,v)),A},this.getAttributes=function(){return void 0===E&&(E=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),o=a.name,s=1;a.type===e.FLOAT_MAT2&&(s=2),a.type===e.FLOAT_MAT3&&(s=3),a.type===e.FLOAT_MAT4&&(s=4),n[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(o,v)),E},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(v),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Ta++,this.cacheKey=t,this.usedTimes=1,this.program=v,this.vertexShader=M,this.fragmentShader=R,this}var Qa=0,Wa=function(){function e(){(0,f.Z)(this,e),this.shaderCache=new Map,this.materialCache=new Map}return(0,m.Z)(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=this.materialCache.get(e),r=(0,a.Z)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code)}}catch(o){r.e(o)}finally{r.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new qa(e),t.set(e,n)),n}}]),e}(),qa=(0,m.Z)((function e(t){(0,f.Z)(this,e),this.id=Qa++,this.code=t,this.usedTimes=0}));function Ka(e,t,n,r,i,a,o){var s=new un,u=new Wa,l=[],c=i.isWebGL2,h=i.logarithmicDepthBuffer,d=i.vertexTextures,g=i.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function f(e){return 0===e?"uv":"uv".concat(e)}return{getParameters:function(a,s,l,m,v){var y=m.fog,A=v.geometry,b=a.isMeshStandardMaterial?m.environment:null,x=(a.isMeshStandardMaterial?n:t).get(a.envMap||b),w=x&&x.mapping===z?x.image.height:null,E=p[a.type];null!==a.precision&&(g=i.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",g,"instead.");var C,M,S,I,T=A.morphAttributes.position||A.morphAttributes.normal||A.morphAttributes.color,R=void 0!==T?T.length:0,L=0;if(void 0!==A.morphAttributes.position&&(L=1),void 0!==A.morphAttributes.normal&&(L=2),void 0!==A.morphAttributes.color&&(L=3),E){var B=qr[E];C=B.vertexShader,M=B.fragmentShader}else C=a.vertexShader,M=a.fragmentShader,u.update(a),S=u.getVertexShaderID(a),I=u.getFragmentShaderID(a);var D=e.getRenderTarget(),P=!0===v.isInstancedMesh,O=!!a.map,N=!!a.matcap,F=!!x,U=!!a.aoMap,j=!!a.lightMap,H=!!a.bumpMap,G=!!a.normalMap,V=!!a.displacementMap,Q=!!a.emissiveMap,W=!!a.metalnessMap,q=!!a.roughnessMap,K=a.anisotropy>0,X=a.clearcoat>0,Z=a.iridescence>0,Y=a.sheen>0,J=a.transmission>0,$=K&&!!a.anisotropyMap,ee=X&&!!a.clearcoatMap,te=X&&!!a.clearcoatNormalMap,ne=X&&!!a.clearcoatRoughnessMap,re=Z&&!!a.iridescenceMap,ie=Z&&!!a.iridescenceThicknessMap,ae=Y&&!!a.sheenColorMap,oe=Y&&!!a.sheenRoughnessMap,se=!!a.specularMap,ue=!!a.specularColorMap,le=!!a.specularIntensityMap,ce=J&&!!a.transmissionMap,he=J&&!!a.thicknessMap,de=!!a.gradientMap,ge=!!a.alphaMap,pe=a.alphaTest>0,fe=!!a.alphaHash,me=!!a.extensions,ve=!!A.attributes.uv1,ye=!!A.attributes.uv2,be=!!A.attributes.uv3,xe=k;return a.toneMapped&&(null!==D&&!0!==D.isXRRenderTarget||(xe=e.toneMapping)),{isWebGL2:c,shaderID:E,shaderType:a.type,shaderName:a.name,vertexShader:C,fragmentShader:M,defines:a.defines,customVertexShaderID:S,customFragmentShaderID:I,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:g,instancing:P,instancingColor:P&&null!==v.instanceColor,supportsVertexTextures:d,outputColorSpace:null===D?e.outputColorSpace:!0===D.isXRRenderTarget?D.texture.colorSpace:Ae,map:O,matcap:N,envMap:F,envMapMode:F&&x.mapping,envMapCubeUVHeight:w,aoMap:U,lightMap:j,bumpMap:H,normalMap:G,displacementMap:d&&V,emissiveMap:Q,normalMapObjectSpace:G&&1===a.normalMapType,normalMapTangentSpace:G&&0===a.normalMapType,metalnessMap:W,roughnessMap:q,anisotropy:K,anisotropyMap:$,clearcoat:X,clearcoatMap:ee,clearcoatNormalMap:te,clearcoatRoughnessMap:ne,iridescence:Z,iridescenceMap:re,iridescenceThicknessMap:ie,sheen:Y,sheenColorMap:ae,sheenRoughnessMap:oe,specularMap:se,specularColorMap:ue,specularIntensityMap:le,transmission:J,transmissionMap:ce,thicknessMap:he,gradientMap:de,opaque:!1===a.transparent&&1===a.blending,alphaMap:ge,alphaTest:pe,alphaHash:fe,combine:a.combine,mapUv:O&&f(a.map.channel),aoMapUv:U&&f(a.aoMap.channel),lightMapUv:j&&f(a.lightMap.channel),bumpMapUv:H&&f(a.bumpMap.channel),normalMapUv:G&&f(a.normalMap.channel),displacementMapUv:V&&f(a.displacementMap.channel),emissiveMapUv:Q&&f(a.emissiveMap.channel),metalnessMapUv:W&&f(a.metalnessMap.channel),roughnessMapUv:q&&f(a.roughnessMap.channel),anisotropyMapUv:$&&f(a.anisotropyMap.channel),clearcoatMapUv:ee&&f(a.clearcoatMap.channel),clearcoatNormalMapUv:te&&f(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ne&&f(a.clearcoatRoughnessMap.channel),iridescenceMapUv:re&&f(a.iridescenceMap.channel),iridescenceThicknessMapUv:ie&&f(a.iridescenceThicknessMap.channel),sheenColorMapUv:ae&&f(a.sheenColorMap.channel),sheenRoughnessMapUv:oe&&f(a.sheenRoughnessMap.channel),specularMapUv:se&&f(a.specularMap.channel),specularColorMapUv:ue&&f(a.specularColorMap.channel),specularIntensityMapUv:le&&f(a.specularIntensityMap.channel),transmissionMapUv:ce&&f(a.transmissionMap.channel),thicknessMapUv:he&&f(a.thicknessMap.channel),alphaMapUv:ge&&f(a.alphaMap.channel),vertexTangents:!!A.attributes.tangent&&(G||K),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!A.attributes.color&&4===A.attributes.color.itemSize,vertexUv1s:ve,vertexUv2s:ye,vertexUv3s:be,pointsUvs:!0===v.isPoints&&!!A.attributes.uv&&(O||ge),fog:!!y,useFog:!0===a.fog,fogExp2:y&&y.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===v.isSkinnedMesh,morphTargets:void 0!==A.morphAttributes.position,morphNormals:void 0!==A.morphAttributes.normal,morphColors:void 0!==A.morphAttributes.color,morphTargetsCount:R,morphTextureStride:L,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numLightProbes:s.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&l.length>0,shadowMapType:e.shadowMap.type,toneMapping:xe,useLegacyLights:e._useLegacyLights,decodeVideoTexture:O&&!0===a.map.isVideoTexture&&at.getTransfer(a.map.colorSpace)===Ee,premultipliedAlpha:a.premultipliedAlpha,doubleSided:2===a.side,flipSided:a.side===_,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:me&&!0===a.extensions.derivatives,extensionFragDepth:me&&!0===a.extensions.fragDepth,extensionDrawBuffers:me&&!0===a.extensions.drawBuffers,extensionShaderTextureLOD:me&&!0===a.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUv1s&&s.enable(13);t.vertexUv2s&&s.enable(14);t.vertexUv3s&&s.enable(15);t.vertexTangents&&s.enable(16);t.anisotropy&&s.enable(17);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.useLegacyLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.transmission&&s.enable(15);t.sheen&&s.enable(16);t.opaque&&s.enable(17);t.pointsUvs&&s.enable(18);t.decodeVideoTexture&&s.enable(19);e.push(s.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=p[e.type];if(n){var r=qr[n];t=Sr.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,o=l.length;i<o;i++){var s=l[i];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new Va(e,n,t,a),l.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=l.indexOf(e);l[t]=l[l.length-1],l.pop(),e.destroy()}},releaseShaderCache:function(e){u.remove(e)},programs:l,dispose:function(){u.dispose()}}}function Xa(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Za(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Ya(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Ja(){var e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,s){var u=e[t];return void 0===u?(u={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=u):(u.id=n.id,u.object=n,u.geometry=r,u.material=i,u.groupOrder=a,u.renderOrder=n.renderOrder,u.z=o,u.group=s),t++,u}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,u,l){var c=a(e,t,o,s,u,l);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,s,u,l){var c=a(e,t,o,s,u,l);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Za),r.length>1&&r.sort(t||Ya),i.length>1&&i.sort(t||Ya)}}}function $a(){var e=new WeakMap;return{get:function(t,n){var r,i=e.get(t);return void 0===i?(r=new Ja,e.set(t,[r])):n>=i.length?(r=new Ja,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function eo(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new bt,color:new jn};break;case"SpotLight":n={position:new bt,direction:new bt,color:new jn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new bt,color:new jn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new bt,skyColor:new jn,groundColor:new jn};break;case"RectAreaLight":n={color:new jn,position:new bt,halfWidth:new bt,halfHeight:new bt}}return e[t.id]=n,n}}}var to=0;function no(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function ro(e,t){for(var n=new eo,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0},a=0;a<9;a++)i.probe.push(new bt);var o=new bt,s=new Zt,u=new Zt;return{setup:function(a,o){for(var s=0,u=0,l=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var h=0,d=0,g=0,p=0,f=0,m=0,v=0,y=0,A=0,b=0,x=0;a.sort(no);for(var w=!0===o?Math.PI:1,E=0,_=a.length;E<_;E++){var C=a[E],M=C.color,S=C.intensity,I=C.distance,T=C.shadow&&C.shadow.map?C.shadow.map.texture:null;if(C.isAmbientLight)s+=M.r*S*w,u+=M.g*S*w,l+=M.b*S*w;else if(C.isLightProbe){for(var k=0;k<9;k++)i.probe[k].addScaledVector(C.sh.coefficients[k],S);x++}else if(C.isDirectionalLight){var R=n.get(C);if(R.color.copy(C.color).multiplyScalar(C.intensity*w),C.castShadow){var L=C.shadow,B=r.get(C);B.shadowBias=L.bias,B.shadowNormalBias=L.normalBias,B.shadowRadius=L.radius,B.shadowMapSize=L.mapSize,i.directionalShadow[h]=B,i.directionalShadowMap[h]=T,i.directionalShadowMatrix[h]=C.shadow.matrix,m++}i.directional[h]=R,h++}else if(C.isSpotLight){var D=n.get(C);D.position.setFromMatrixPosition(C.matrixWorld),D.color.copy(M).multiplyScalar(S*w),D.distance=I,D.coneCos=Math.cos(C.angle),D.penumbraCos=Math.cos(C.angle*(1-C.penumbra)),D.decay=C.decay,i.spot[g]=D;var P=C.shadow;if(C.map&&(i.spotLightMap[A]=C.map,A++,P.updateMatrices(C),C.castShadow&&b++),i.spotLightMatrix[g]=P.matrix,C.castShadow){var O=r.get(C);O.shadowBias=P.bias,O.shadowNormalBias=P.normalBias,O.shadowRadius=P.radius,O.shadowMapSize=P.mapSize,i.spotShadow[g]=O,i.spotShadowMap[g]=T,y++}g++}else if(C.isRectAreaLight){var N=n.get(C);N.color.copy(M).multiplyScalar(S),N.halfWidth.set(.5*C.width,0,0),N.halfHeight.set(0,.5*C.height,0),i.rectArea[p]=N,p++}else if(C.isPointLight){var F=n.get(C);if(F.color.copy(C.color).multiplyScalar(C.intensity*w),F.distance=C.distance,F.decay=C.decay,C.castShadow){var U=C.shadow,z=r.get(C);z.shadowBias=U.bias,z.shadowNormalBias=U.normalBias,z.shadowRadius=U.radius,z.shadowMapSize=U.mapSize,z.shadowCameraNear=U.camera.near,z.shadowCameraFar=U.camera.far,i.pointShadow[d]=z,i.pointShadowMap[d]=T,i.pointShadowMatrix[d]=C.shadow.matrix,v++}i.point[d]=F,d++}else if(C.isHemisphereLight){var j=n.get(C);j.skyColor.copy(C.color).multiplyScalar(S*w),j.groundColor.copy(C.groundColor).multiplyScalar(S*w),i.hemi[f]=j,f++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=Wr.LTC_FLOAT_1,i.rectAreaLTC2=Wr.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=Wr.LTC_HALF_1,i.rectAreaLTC2=Wr.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=u,i.ambient[2]=l;var H=i.hash;H.directionalLength===h&&H.pointLength===d&&H.spotLength===g&&H.rectAreaLength===p&&H.hemiLength===f&&H.numDirectionalShadows===m&&H.numPointShadows===v&&H.numSpotShadows===y&&H.numSpotMaps===A&&H.numLightProbes===x||(i.directional.length=h,i.spot.length=g,i.rectArea.length=p,i.point.length=d,i.hemi.length=f,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=v,i.pointShadowMap.length=v,i.spotShadow.length=y,i.spotShadowMap.length=y,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=v,i.spotLightMatrix.length=y+A-b,i.spotLightMap.length=A,i.numSpotLightShadowsWithMaps=b,i.numLightProbes=x,H.directionalLength=h,H.pointLength=d,H.spotLength=g,H.rectAreaLength=p,H.hemiLength=f,H.numDirectionalShadows=m,H.numPointShadows=v,H.numSpotShadows=y,H.numSpotMaps=A,H.numLightProbes=x,i.version=to++)},setupView:function(e,t){for(var n=0,r=0,a=0,l=0,c=0,h=t.matrixWorldInverse,d=0,g=e.length;d<g;d++){var p=e[d];if(p.isDirectionalLight){var f=i.directional[n];f.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),f.direction.sub(o),f.direction.transformDirection(h),n++}else if(p.isSpotLight){var m=i.spot[a];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(h),m.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(h),a++}else if(p.isRectAreaLight){var v=i.rectArea[l];v.position.setFromMatrixPosition(p.matrixWorld),v.position.applyMatrix4(h),u.identity(),s.copy(p.matrixWorld),s.premultiply(h),u.extractRotation(s),v.halfWidth.set(.5*p.width,0,0),v.halfHeight.set(0,.5*p.height,0),v.halfWidth.applyMatrix4(u),v.halfHeight.applyMatrix4(u),l++}else if(p.isPointLight){var y=i.point[r];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(h),r++}else if(p.isHemisphereLight){var A=i.hemi[c];A.direction.setFromMatrixPosition(p.matrixWorld),A.direction.transformDirection(h),c++}}},state:i}}function io(e,t){var n=new ro(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function ao(e,t){var n=new WeakMap;return{get:function(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n.get(r);return void 0===o?(i=new io(e,t),n.set(r,[i])):a>=o.length?(i=new io(e,t),o.push(i)):i=o[a],i},dispose:function(){n=new WeakMap}}}var oo=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,f.Z)(this,n),(r=t.call(this)).isMeshDepthMaterial=!0,r.type="MeshDepthMaterial",r.depthPacking=3200,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.setValues(e),r}return(0,m.Z)(n,[{key:"copy",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(On),so=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,f.Z)(this,n),(r=t.call(this)).isMeshDistanceMaterial=!0,r.type="MeshDistanceMaterial",r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.setValues(e),r}return(0,m.Z)(n,[{key:"copy",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(On);function uo(e,t,n){var r,i=new jr,a=new qe,o=new qe,s=new pt,u=new oo({depthPacking:3201}),l=new so,c={},h=n.maxTextureSize,d=(r={},(0,g.Z)(r,E,_),(0,g.Z)(r,_,E),(0,g.Z)(r,2,2),r),p=new Ir({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new qe},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=p.clone();f.defines.HORIZONTAL_PASS=1;var m=new rr;m.setAttribute("position",new Wn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var v=new xr(m,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=b;var A=this.type;function x(n,r){var i=t.update(v);p.defines.VSM_SAMPLES!==n.blurSamples&&(p.defines.VSM_SAMPLES=n.blurSamples,f.defines.VSM_SAMPLES=n.blurSamples,p.needsUpdate=!0,f.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new mt(a.x,a.y)),p.uniforms.shadow_pass.value=n.map.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,p,v,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,f,v,null)}function M(t,n,r,i){var a=null,o=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?l:u,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){var s=a.uuid,h=n.uuid,g=c[s];void 0===g&&(g={},c[s]=g);var p=g[h];void 0===p&&(p=a.clone(),g[h]=p),a=p}(a.visible=n.visible,a.wireframe=n.wireframe,a.side=i===w?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial)&&(e.properties.get(a).light=r);return a}function S(n,r,a,o,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===w)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var u=t.update(n),l=n.material;if(Array.isArray(l))for(var c=u.groups,h=0,d=c.length;h<d;h++){var g=c[h],p=l[g.materialIndex];if(p&&p.visible){var f=M(n,p,o,s);e.renderBufferDirect(a,null,u,f,n,g)}}else if(l.visible){var m=M(n,l,o,s);e.renderBufferDirect(a,null,u,m,n,null)}}for(var v=n.children,y=0,A=v.length;y<A;y++)S(v[y],r,a,o,s)}}this.render=function(t,n,r){if(!1!==y.enabled&&(!1!==y.autoUpdate||!1!==y.needsUpdate)&&0!==t.length){var u=e.getRenderTarget(),l=e.getActiveCubeFace(),c=e.getActiveMipmapLevel(),d=e.state;d.setBlending(C),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var g=A!==w&&this.type===w,p=A===w&&this.type!==w,f=0,m=t.length;f<m;f++){var v=t[f],b=v.shadow;if(void 0!==b){if(!1!==b.autoUpdate||!1!==b.needsUpdate){a.copy(b.mapSize);var E=b.getFrameExtents();if(a.multiply(E),o.copy(b.mapSize),(a.x>h||a.y>h)&&(a.x>h&&(o.x=Math.floor(h/E.x),a.x=o.x*E.x,b.mapSize.x=o.x),a.y>h&&(o.y=Math.floor(h/E.y),a.y=o.y*E.y,b.mapSize.y=o.y)),null===b.map||!0===g||!0===p){var _=this.type!==w?{minFilter:V,magFilter:V}:{};null!==b.map&&b.map.dispose(),b.map=new mt(a.x,a.y,_),b.map.texture.name=v.name+".shadowMap",b.camera.updateProjectionMatrix()}e.setRenderTarget(b.map),e.clear();for(var M=b.getViewportCount(),I=0;I<M;I++){var T=b.getViewport(I);s.set(o.x*T.x,o.y*T.y,o.x*T.z,o.y*T.w),d.viewport(s),b.updateMatrices(v,I),i=b.getFrustum(),S(n,r,b.camera,v,this.type)}!0!==b.isPointLightShadow&&this.type===w&&x(b,r),b.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}A=this.type,y.needsUpdate=!1,e.setRenderTarget(u,l,c)}}}function lo(e,t,n){var r,i,a=n.isWebGL2;var o=new function(){var t=!1,n=new pt,r=null,i=new pt(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},s=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(t){t?W(e.DEPTH_TEST):q(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:default:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},u=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(n){t||(n?W(e.STENCIL_TEST):q(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&u===r||(e.stencilOp(t,n,r),o=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null}}},l=new WeakMap,c=new WeakMap,h={},d={},p=new WeakMap,f=[],m=null,v=!1,y=null,A=null,b=null,x=null,w=null,E=null,S=null,I=!1,T=null,k=null,R=null,L=null,B=null,D=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),P=!1,O=0,N=e.getParameter(e.VERSION);-1!==N.indexOf("WebGL")?(O=parseFloat(/^WebGL (\d)/.exec(N)[1]),P=O>=1):-1!==N.indexOf("OpenGL ES")&&(O=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),P=O>=2);var F=null,U={},z=e.getParameter(e.SCISSOR_BOX),j=e.getParameter(e.VIEWPORT),H=(new pt).fromArray(z),G=(new pt).fromArray(j);function V(t,n,r,i){var o=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var u=0;u<r;u++)!a||t!==e.TEXTURE_3D&&t!==e.TEXTURE_2D_ARRAY?e.texImage2D(n+u,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o):e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,o);return s}var Q={};function W(t){!0!==h[t]&&(e.enable(t),h[t]=!0)}function q(t){!1!==h[t]&&(e.disable(t),h[t]=!1)}Q[e.TEXTURE_2D]=V(e.TEXTURE_2D,e.TEXTURE_2D,1),Q[e.TEXTURE_CUBE_MAP]=V(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),a&&(Q[e.TEXTURE_2D_ARRAY]=V(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),Q[e.TEXTURE_3D]=V(e.TEXTURE_3D,e.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),s.setClear(1),u.setClear(0),W(e.DEPTH_TEST),s.setFunc(3),J(!1),$(1),W(e.CULL_FACE),Y(C);var K=(r={},(0,g.Z)(r,M,e.FUNC_ADD),(0,g.Z)(r,101,e.FUNC_SUBTRACT),(0,g.Z)(r,102,e.FUNC_REVERSE_SUBTRACT),r);if(a)K[103]=e.MIN,K[104]=e.MAX;else{var X=t.get("EXT_blend_minmax");null!==X&&(K[103]=X.MIN_EXT,K[104]=X.MAX_EXT)}var Z=(i={},(0,g.Z)(i,200,e.ZERO),(0,g.Z)(i,201,e.ONE),(0,g.Z)(i,202,e.SRC_COLOR),(0,g.Z)(i,204,e.SRC_ALPHA),(0,g.Z)(i,210,e.SRC_ALPHA_SATURATE),(0,g.Z)(i,208,e.DST_COLOR),(0,g.Z)(i,206,e.DST_ALPHA),(0,g.Z)(i,203,e.ONE_MINUS_SRC_COLOR),(0,g.Z)(i,205,e.ONE_MINUS_SRC_ALPHA),(0,g.Z)(i,209,e.ONE_MINUS_DST_COLOR),(0,g.Z)(i,207,e.ONE_MINUS_DST_ALPHA),i);function Y(t,n,r,i,a,o,s,u){if(t!==C){if(!1===v&&(W(e.BLEND),v=!0),5===t)a=a||n,o=o||r,s=s||i,n===A&&a===w||(e.blendEquationSeparate(K[n],K[a]),A=n,w=a),r===b&&i===x&&o===E&&s===S||(e.blendFuncSeparate(Z[r],Z[i],Z[o],Z[s]),b=r,x=i,E=o,S=s),y=t,I=!1;else if(t!==y||u!==I){if(A===M&&w===M||(e.blendEquation(e.FUNC_ADD),A=M,w=M),u)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}b=null,x=null,E=null,S=null,y=t,I=u}}else!0===v&&(q(e.BLEND),v=!1)}function J(t){T!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),T=t)}function $(t){0!==t?(W(e.CULL_FACE),t!==k&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):q(e.CULL_FACE),k=t}function ee(t,n,r){t?(W(e.POLYGON_OFFSET_FILL),L===n&&B===r||(e.polygonOffset(n,r),L=n,B=r)):q(e.POLYGON_OFFSET_FILL)}return{buffers:{color:o,depth:s,stencil:u},enable:W,disable:q,bindFramebuffer:function(t,n){return d[t]!==n&&(e.bindFramebuffer(t,n),d[t]=n,a&&(t===e.DRAW_FRAMEBUFFER&&(d[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(d[e.DRAW_FRAMEBUFFER]=n)),!0)},drawBuffers:function(r,i){var a=f,o=!1;if(r)if(void 0===(a=p.get(i))&&(a=[],p.set(i,a)),r.isWebGLMultipleRenderTargets){var s=r.texture;if(a.length!==s.length||a[0]!==e.COLOR_ATTACHMENT0){for(var u=0,l=s.length;u<l;u++)a[u]=e.COLOR_ATTACHMENT0+u;a.length=s.length,o=!0}}else a[0]!==e.COLOR_ATTACHMENT0&&(a[0]=e.COLOR_ATTACHMENT0,o=!0);else a[0]!==e.BACK&&(a[0]=e.BACK,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return m!==t&&(e.useProgram(t),m=t,!0)},setBlending:Y,setMaterial:function(t,n){2===t.side?q(e.CULL_FACE):W(e.CULL_FACE);var r=t.side===_;n&&(r=!r),J(r),1===t.blending&&!1===t.transparent?Y(C):Y(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),s.setFunc(t.depthFunc),s.setTest(t.depthTest),s.setMask(t.depthWrite),o.setMask(t.colorWrite);var i=t.stencilWrite;u.setTest(i),i&&(u.setMask(t.stencilWriteMask),u.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),u.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),ee(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?W(e.SAMPLE_ALPHA_TO_COVERAGE):q(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:J,setCullFace:$,setLineWidth:function(t){t!==R&&(P&&e.lineWidth(t),R=t)},setPolygonOffset:ee,setScissorTest:function(t){t?W(e.SCISSOR_TEST):q(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+D-1),F!==t&&(e.activeTexture(t),F=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===F?e.TEXTURE0+D-1:F);var i=U[r];void 0===i&&(i={type:void 0,texture:void 0},U[r]=i),i.type===t&&i.texture===n||(F!==r&&(e.activeTexture(r),F=r),e.bindTexture(t,n||Q[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=U[F];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){var r=c.get(n);void 0===r&&(r=new WeakMap,c.set(n,r));var i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){var r=c.get(n).get(t);l.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),l.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===H.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),H.copy(t))},viewport:function(t){!1===G.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),G.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),!0===a&&(e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),h={},F=null,U={},d={},p=new WeakMap,f=[],m=null,v=!1,y=null,A=null,b=null,x=null,w=null,E=null,S=null,I=!1,T=null,k=null,R=null,L=null,B=null,H.set(0,0,e.canvas.width,e.canvas.height),G.set(0,0,e.canvas.width,e.canvas.height),o.reset(),s.reset(),u.reset()}}}function co(e,t,n,r,i,a,o){var s,u,l,c,h=i.isWebGL2,d=i.maxTextures,p=i.maxCubemapSize,f=i.maxTextureSize,m=i.maxSamples,v=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,y="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),A=new WeakMap,b=new WeakMap,x=!1;try{x="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(ce){}function w(e,t){return x?new OffscreenCanvas(e,t):Ye("canvas")}function E(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?Ge:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===c&&(c=w(o,s));var u=n?w(o,s):c;return u.width=o,u.height=s,u.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),u}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function _(e){return je(e.width)&&je(e.height)}function C(e,t){return e.generateMipmaps&&t&&e.minFilter!==V&&e.minFilter!==q}function M(t){e.generateMipmap(t)}function S(n,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===h)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var s=r;if(r===e.RED&&(i===e.FLOAT&&(s=e.R32F),i===e.HALF_FLOAT&&(s=e.R16F),i===e.UNSIGNED_BYTE&&(s=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.R8UI),i===e.UNSIGNED_SHORT&&(s=e.R16UI),i===e.UNSIGNED_INT&&(s=e.R32UI),i===e.BYTE&&(s=e.R8I),i===e.SHORT&&(s=e.R16I),i===e.INT&&(s=e.R32I)),r===e.RG&&(i===e.FLOAT&&(s=e.RG32F),i===e.HALF_FLOAT&&(s=e.RG16F),i===e.UNSIGNED_BYTE&&(s=e.RG8)),r===e.RGBA){var u=o?we:at.getTransfer(a);i===e.FLOAT&&(s=e.RGBA32F),i===e.HALF_FLOAT&&(s=e.RGBA16F),i===e.UNSIGNED_BYTE&&(s=u===Ee?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)}return s!==e.R16F&&s!==e.R32F&&s!==e.RG16F&&s!==e.RG32F&&s!==e.RGBA16F&&s!==e.RGBA32F||t.get("EXT_color_buffer_float"),s}function I(e,t,n){return!0===C(e,n)||e.isFramebufferTexture&&e.minFilter!==V&&e.minFilter!==q?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function T(t){return t===V||t===Q||t===W?e.NEAREST:e.LINEAR}function k(e){var t=e.target;t.removeEventListener("dispose",k),function(e){var t=r.get(e);if(void 0===t.__webglInit)return;var n=e.source,i=b.get(n);if(i){var a=i[t.__cacheKey];a.usedTimes--,0===a.usedTimes&&L(e),0===Object.keys(i).length&&b.delete(n)}r.remove(e)}(t),t.isVideoTexture&&A.delete(t)}function R(t){var n=t.target;n.removeEventListener("dispose",R),function(t){var n=t.texture,i=r.get(t),a=r.get(n);void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++){if(Array.isArray(i.__webglFramebuffer[s]))for(var u=0;u<i.__webglFramebuffer[s].length;u++)e.deleteFramebuffer(i.__webglFramebuffer[s][u]);else e.deleteFramebuffer(i.__webglFramebuffer[s]);i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[s])}else{if(Array.isArray(i.__webglFramebuffer))for(var l=0;l<i.__webglFramebuffer.length;l++)e.deleteFramebuffer(i.__webglFramebuffer[l]);else e.deleteFramebuffer(i.__webglFramebuffer);if(i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(var c=0;c<i.__webglColorRenderbuffer.length;c++)i.__webglColorRenderbuffer[c]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[c]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(var h=0,d=n.length;h<d;h++){var g=r.get(n[h]);g.__webglTexture&&(e.deleteTexture(g.__webglTexture),o.memory.textures--),r.remove(n[h])}r.remove(n),r.remove(t)}(n)}function L(t){var n=r.get(t);e.deleteTexture(n.__webglTexture);var i=t.source;delete b.get(i)[n.__cacheKey],o.memory.textures--}var B=0;function D(t,i){var a=r.get(t);if(t.isVideoTexture&&function(e){var t=o.render.frame;A.get(e)!==t&&(A.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version){var s=t.image;if(null===s)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==s.complete)return void z(a,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+i)}var P=(s={},(0,g.Z)(s,j,e.REPEAT),(0,g.Z)(s,H,e.CLAMP_TO_EDGE),(0,g.Z)(s,G,e.MIRRORED_REPEAT),s),O=(u={},(0,g.Z)(u,V,e.NEAREST),(0,g.Z)(u,Q,e.NEAREST_MIPMAP_NEAREST),(0,g.Z)(u,W,e.NEAREST_MIPMAP_LINEAR),(0,g.Z)(u,q,e.LINEAR),(0,g.Z)(u,1007,e.LINEAR_MIPMAP_NEAREST),(0,g.Z)(u,K,e.LINEAR_MIPMAP_LINEAR),u),N=(l={},(0,g.Z)(l,512,e.NEVER),(0,g.Z)(l,519,e.ALWAYS),(0,g.Z)(l,513,e.LESS),(0,g.Z)(l,515,e.LEQUAL),(0,g.Z)(l,514,e.EQUAL),(0,g.Z)(l,518,e.GEQUAL),(0,g.Z)(l,516,e.GREATER),(0,g.Z)(l,517,e.NOTEQUAL),l);function F(n,a,o){if(o?(e.texParameteri(n,e.TEXTURE_WRAP_S,P[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,P[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,P[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,O[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,O[a.minFilter])):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),a.wrapS===H&&a.wrapT===H||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,e.TEXTURE_MAG_FILTER,T(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,T(a.minFilter)),a.minFilter!==V&&a.minFilter!==q&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,N[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(a.magFilter===V)return;if(a.minFilter!==W&&a.minFilter!==K)return;if(a.type===$&&!1===t.has("OES_texture_float_linear"))return;if(!1===h&&a.type===ee&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function U(t,n){var r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",k));var i=n.source,a=b.get(i);void 0===a&&(a={},b.set(i,a));var s=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;var u=a[t.__cacheKey];void 0!==u&&(a[t.__cacheKey].usedTimes--,0===u.usedTimes&&L(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function z(t,i,o){var s=e.TEXTURE_2D;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(s=e.TEXTURE_2D_ARRAY),i.isData3DTexture&&(s=e.TEXTURE_3D);var u=U(t,i),l=i.source;n.bindTexture(s,t.__webglTexture,e.TEXTURE0+o);var c=r.get(l);if(l.version!==c.__version||!0===u){n.activeTexture(e.TEXTURE0+o);var d=at.getPrimaries(at.workingColorSpace),g=i.colorSpace===ve?null:at.getPrimaries(i.colorSpace),p=i.colorSpace===ve||d===g?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,p);var m,v=function(e){return!h&&(e.wrapS!==H||e.wrapT!==H||e.minFilter!==V&&e.minFilter!==q)}(i)&&!1===_(i.image),y=E(i.image,v,!1,f),A=_(y=le(i,y))||h,b=a.convert(i.format,i.colorSpace),x=a.convert(i.type),w=S(i.internalFormat,b,x,i.colorSpace,i.isVideoTexture);F(s,i,A);var T=i.mipmaps,k=h&&!0!==i.isVideoTexture,R=void 0===c.__version||!0===u,L=I(i,y,A);if(i.isDepthTexture)w=e.DEPTH_COMPONENT,h?w=i.type===$?e.DEPTH_COMPONENT32F:i.type===J?e.DEPTH_COMPONENT24:i.type===te?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT16:i.type===$&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===re&&w===e.DEPTH_COMPONENT&&i.type!==Z&&i.type!==J&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=J,x=a.convert(i.type)),i.format===ie&&w===e.DEPTH_COMPONENT&&(w=e.DEPTH_STENCIL,i.type!==te&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=te,x=a.convert(i.type))),R&&(k?n.texStorage2D(e.TEXTURE_2D,1,w,y.width,y.height):n.texImage2D(e.TEXTURE_2D,0,w,y.width,y.height,0,b,x,null));else if(i.isDataTexture)if(T.length>0&&A){k&&R&&n.texStorage2D(e.TEXTURE_2D,L,w,T[0].width,T[0].height);for(var B=0,D=T.length;B<D;B++)m=T[B],k?n.texSubImage2D(e.TEXTURE_2D,B,0,0,m.width,m.height,b,x,m.data):n.texImage2D(e.TEXTURE_2D,B,w,m.width,m.height,0,b,x,m.data);i.generateMipmaps=!1}else k?(R&&n.texStorage2D(e.TEXTURE_2D,L,w,y.width,y.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,y.width,y.height,b,x,y.data)):n.texImage2D(e.TEXTURE_2D,0,w,y.width,y.height,0,b,x,y.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){k&&R&&n.texStorage3D(e.TEXTURE_2D_ARRAY,L,w,T[0].width,T[0].height,y.depth);for(var P=0,O=T.length;P<O;P++)m=T[P],i.format!==ne?null!==b?k?n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,P,0,0,0,m.width,m.height,y.depth,b,m.data,0,0):n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,P,w,m.width,m.height,y.depth,0,m.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):k?n.texSubImage3D(e.TEXTURE_2D_ARRAY,P,0,0,0,m.width,m.height,y.depth,b,x,m.data):n.texImage3D(e.TEXTURE_2D_ARRAY,P,w,m.width,m.height,y.depth,0,b,x,m.data)}else{k&&R&&n.texStorage2D(e.TEXTURE_2D,L,w,T[0].width,T[0].height);for(var N=0,z=T.length;N<z;N++)m=T[N],i.format!==ne?null!==b?k?n.compressedTexSubImage2D(e.TEXTURE_2D,N,0,0,m.width,m.height,b,m.data):n.compressedTexImage2D(e.TEXTURE_2D,N,w,m.width,m.height,0,m.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):k?n.texSubImage2D(e.TEXTURE_2D,N,0,0,m.width,m.height,b,x,m.data):n.texImage2D(e.TEXTURE_2D,N,w,m.width,m.height,0,b,x,m.data)}else if(i.isDataArrayTexture)k?(R&&n.texStorage3D(e.TEXTURE_2D_ARRAY,L,w,y.width,y.height,y.depth),n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,y.width,y.height,y.depth,b,x,y.data)):n.texImage3D(e.TEXTURE_2D_ARRAY,0,w,y.width,y.height,y.depth,0,b,x,y.data);else if(i.isData3DTexture)k?(R&&n.texStorage3D(e.TEXTURE_3D,L,w,y.width,y.height,y.depth),n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,y.width,y.height,y.depth,b,x,y.data)):n.texImage3D(e.TEXTURE_3D,0,w,y.width,y.height,y.depth,0,b,x,y.data);else if(i.isFramebufferTexture){if(R)if(k)n.texStorage2D(e.TEXTURE_2D,L,w,y.width,y.height);else for(var j=y.width,G=y.height,Q=0;Q<L;Q++)n.texImage2D(e.TEXTURE_2D,Q,w,j,G,0,b,x,null),j>>=1,G>>=1}else if(T.length>0&&A){k&&R&&n.texStorage2D(e.TEXTURE_2D,L,w,T[0].width,T[0].height);for(var W=0,K=T.length;W<K;W++)m=T[W],k?n.texSubImage2D(e.TEXTURE_2D,W,0,0,b,x,m):n.texImage2D(e.TEXTURE_2D,W,w,b,x,m);i.generateMipmaps=!1}else k?(R&&n.texStorage2D(e.TEXTURE_2D,L,w,y.width,y.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,b,x,y)):n.texImage2D(e.TEXTURE_2D,0,w,b,x,y);C(i,A)&&M(s),c.__version=l.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function Y(t,i,o,s,u,l){var c=a.convert(o.format,o.colorSpace),h=a.convert(o.type),d=S(o.internalFormat,c,h,o.colorSpace);if(!r.get(i).__hasExternalTextures){var g=Math.max(1,i.width>>l),p=Math.max(1,i.height>>l);u===e.TEXTURE_3D||u===e.TEXTURE_2D_ARRAY?n.texImage3D(u,l,d,g,p,i.depth,0,c,h,null):n.texImage2D(u,l,d,g,p,0,c,h,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),ue(i)?v.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,s,u,r.get(o).__webglTexture,0,se(i)):(u===e.TEXTURE_2D||u>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&u<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,s,u,r.get(o).__webglTexture,l),n.bindFramebuffer(e.FRAMEBUFFER,null)}function ae(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer){var i=!0===h?e.DEPTH_COMPONENT24:e.DEPTH_COMPONENT16;if(r||ue(n)){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===$?i=e.DEPTH_COMPONENT32F:o.type===J&&(i=e.DEPTH_COMPONENT24));var s=se(n);ue(n)?v.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,s,i,n.width,n.height):e.renderbufferStorageMultisample(e.RENDERBUFFER,s,i,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,i,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(n.depthBuffer&&n.stencilBuffer){var u=se(n);r&&!1===ue(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,u,e.DEPTH24_STENCIL8,n.width,n.height):ue(n)?v.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,u,e.DEPTH24_STENCIL8,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else for(var l=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture],c=0;c<l.length;c++){var d=l[c],g=a.convert(d.format,d.colorSpace),p=a.convert(d.type),f=S(d.internalFormat,g,p,d.colorSpace),m=se(n);r&&!1===ue(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,m,f,n.width,n.height):ue(n)?v.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,m,f,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,f,n.width,n.height)}e.bindRenderbuffer(e.RENDERBUFFER,null)}function oe(t){var i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),D(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture,o=se(i);if(i.depthTexture.format===re)ue(i)?v.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0);else{if(i.depthTexture.format!==ie)throw new Error("Unknown depthTexture format");ue(i)?v.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=e.createRenderbuffer(),ae(i.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),ae(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}function se(e){return Math.min(m,e.samples)}function ue(e){var n=r.get(e);return h&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function le(e,n){var r=e.colorSpace,i=e.format,a=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===Te||r!==Ae&&r!==ve&&(at.getTransfer(r)===Ee?!1===h?!0===t.has("EXT_sRGB")&&i===ne?(e.format=Te,e.minFilter=q,e.generateMipmaps=!1):n=ut.sRGBToLinear(n):i===ne&&a===X||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",r)),n}this.allocateTextureUnit=function(){var e=B;return e>=d&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+d),B+=1,e},this.resetTextureUnits=function(){B=0},this.setTexture2D=D,this.setTexture2DArray=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?z(a,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?z(a,t,i):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,i){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,i,o){if(6!==i.image.length)return;var s=U(t,i),u=i.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+o);var l=r.get(u);if(u.version!==l.__version||!0===s){n.activeTexture(e.TEXTURE0+o);var c=at.getPrimaries(at.workingColorSpace),d=i.colorSpace===ve?null:at.getPrimaries(i.colorSpace),g=i.colorSpace===ve||c===d?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,g);for(var f=i.isCompressedTexture||i.image[0].isCompressedTexture,m=i.image[0]&&i.image[0].isDataTexture,v=[],y=0;y<6;y++)v[y]=f||m?m?i.image[y].image:i.image[y]:E(i.image[y],!1,!0,p),v[y]=le(i,v[y]);var A,b=v[0],x=_(b)||h,w=a.convert(i.format,i.colorSpace),T=a.convert(i.type),k=S(i.internalFormat,w,T,i.colorSpace),R=h&&!0!==i.isVideoTexture,L=void 0===l.__version||!0===s,B=I(i,b,x);if(F(e.TEXTURE_CUBE_MAP,i,x),f){R&&L&&n.texStorage2D(e.TEXTURE_CUBE_MAP,B,k,b.width,b.height);for(var D=0;D<6;D++){A=v[D].mipmaps;for(var P=0;P<A.length;P++){var O=A[P];i.format!==ne?null!==w?R?n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,P,0,0,O.width,O.height,w,O.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,P,k,O.width,O.height,0,O.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):R?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,P,0,0,O.width,O.height,w,T,O.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+D,P,k,O.width,O.height,0,w,T,O.data)}}}else{A=i.mipmaps,R&&L&&(A.length>0&&B++,n.texStorage2D(e.TEXTURE_CUBE_MAP,B,k,v[0].width,v[0].height));for(var N=0;N<6;N++)if(m){R?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+N,0,0,0,v[N].width,v[N].height,w,T,v[N].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+N,0,k,v[N].width,v[N].height,0,w,T,v[N].data);for(var z=0;z<A.length;z++){var j=A[z].image[N].image;R?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+N,z+1,0,0,j.width,j.height,w,T,j.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+N,z+1,k,j.width,j.height,0,w,T,j.data)}}else{R?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+N,0,0,0,w,T,v[N]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+N,0,k,w,T,v[N]);for(var H=0;H<A.length;H++){var G=A[H];R?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+N,H+1,0,0,w,T,G.image[N]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+N,H+1,k,w,T,G.image[N])}}}C(i,x)&&M(e.TEXTURE_CUBE_MAP),l.__version=u.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}(o,t,i):n.bindTexture(e.TEXTURE_CUBE_MAP,o.__webglTexture,e.TEXTURE0+i)},this.rebindTextures=function(t,n,i){var a=r.get(t);void 0!==n&&Y(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&oe(t)},this.setupRenderTarget=function(t){var s=t.texture,u=r.get(t),l=r.get(s);t.addEventListener("dispose",R),!0!==t.isWebGLMultipleRenderTargets&&(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=s.version,o.memory.textures++);var c=!0===t.isWebGLCubeRenderTarget,d=!0===t.isWebGLMultipleRenderTargets,g=_(t)||h;if(c){u.__webglFramebuffer=[];for(var p=0;p<6;p++)if(h&&s.mipmaps&&s.mipmaps.length>0){u.__webglFramebuffer[p]=[];for(var f=0;f<s.mipmaps.length;f++)u.__webglFramebuffer[p][f]=e.createFramebuffer()}else u.__webglFramebuffer[p]=e.createFramebuffer()}else{if(h&&s.mipmaps&&s.mipmaps.length>0){u.__webglFramebuffer=[];for(var m=0;m<s.mipmaps.length;m++)u.__webglFramebuffer[m]=e.createFramebuffer()}else u.__webglFramebuffer=e.createFramebuffer();if(d)if(i.drawBuffers)for(var v=t.texture,y=0,A=v.length;y<A;y++){var b=r.get(v[y]);void 0===b.__webglTexture&&(b.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(h&&t.samples>0&&!1===ue(t)){var x=d?s:[s];u.__webglMultisampledFramebuffer=e.createFramebuffer(),u.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer);for(var w=0;w<x.length;w++){var E=x[w];u.__webglColorRenderbuffer[w]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,u.__webglColorRenderbuffer[w]);var I=a.convert(E.format,E.colorSpace),T=a.convert(E.type),k=S(E.internalFormat,I,T,E.colorSpace,!0===t.isXRRenderTarget),L=se(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,L,k,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+w,e.RENDERBUFFER,u.__webglColorRenderbuffer[w])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(u.__webglDepthRenderbuffer=e.createRenderbuffer(),ae(u.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(c){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),F(e.TEXTURE_CUBE_MAP,s,g);for(var B=0;B<6;B++)if(h&&s.mipmaps&&s.mipmaps.length>0)for(var D=0;D<s.mipmaps.length;D++)Y(u.__webglFramebuffer[B][D],t,s,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+B,D);else Y(u.__webglFramebuffer[B],t,s,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+B,0);C(s,g)&&M(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(var P=t.texture,O=0,N=P.length;O<N;O++){var U=P[O],z=r.get(U);n.bindTexture(e.TEXTURE_2D,z.__webglTexture),F(e.TEXTURE_2D,U,g),Y(u.__webglFramebuffer,t,U,e.COLOR_ATTACHMENT0+O,e.TEXTURE_2D,0),C(U,g)&&M(e.TEXTURE_2D)}n.unbindTexture()}else{var j=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(h?j=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(j,l.__webglTexture),F(j,s,g),h&&s.mipmaps&&s.mipmaps.length>0)for(var H=0;H<s.mipmaps.length;H++)Y(u.__webglFramebuffer[H],t,s,e.COLOR_ATTACHMENT0,j,H);else Y(u.__webglFramebuffer,t,s,e.COLOR_ATTACHMENT0,j,0);C(s,g)&&M(j),n.unbindTexture()}t.depthBuffer&&oe(t)},this.updateRenderTargetMipmap=function(t){for(var i=_(t)||h,a=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture],o=0,s=a.length;o<s;o++){var u=a[o];if(C(u,i)){var l=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,c=r.get(u).__webglTexture;n.bindTexture(l,c),M(l),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(h&&t.samples>0&&!1===ue(t)){var i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height,s=e.COLOR_BUFFER_BIT,u=[],l=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=r.get(t),d=!0===t.isWebGLMultipleRenderTargets;if(d)for(var g=0;g<i.length;g++)n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+g,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+g,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,c.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglFramebuffer);for(var p=0;p<i.length;p++){u.push(e.COLOR_ATTACHMENT0+p),t.depthBuffer&&u.push(l);var f=void 0!==c.__ignoreDepthValues&&c.__ignoreDepthValues;if(!1===f&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d&&e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,c.__webglColorRenderbuffer[p]),!0===f&&(e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[l]),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[l])),d){var m=r.get(i[p]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,m,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),y&&e.invalidateFramebuffer(e.READ_FRAMEBUFFER,u)}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(var v=0;v<i.length;v++){n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+v,e.RENDERBUFFER,c.__webglColorRenderbuffer[v]);var A=r.get(i[v]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+v,e.TEXTURE_2D,A,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=oe,this.setupFrameBufferTexture=Y,this.useMultisampledRTT=ue}function ho(e,t,n){var r=n.isWebGL2;return{convert:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ve,o=at.getTransfer(a);if(n===X)return e.UNSIGNED_BYTE;if(1017===n)return e.UNSIGNED_SHORT_4_4_4_4;if(1018===n)return e.UNSIGNED_SHORT_5_5_5_1;if(1010===n)return e.BYTE;if(1011===n)return e.SHORT;if(n===Z)return e.UNSIGNED_SHORT;if(n===Y)return e.INT;if(n===J)return e.UNSIGNED_INT;if(n===$)return e.FLOAT;if(n===ee)return r?e.HALF_FLOAT:null!==(i=t.get("OES_texture_half_float"))?i.HALF_FLOAT_OES:null;if(1021===n)return e.ALPHA;if(n===ne)return e.RGBA;if(1024===n)return e.LUMINANCE;if(1025===n)return e.LUMINANCE_ALPHA;if(n===re)return e.DEPTH_COMPONENT;if(n===ie)return e.DEPTH_STENCIL;if(n===Te)return null!==(i=t.get("EXT_sRGB"))?i.SRGB_ALPHA_EXT:null;if(1028===n)return e.RED;if(1029===n)return e.RED_INTEGER;if(1030===n)return e.RG;if(1031===n)return e.RG_INTEGER;if(1033===n)return e.RGBA_INTEGER;if(n===ae||n===oe||n===se||n===ue)if(o===Ee){if(null===(i=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===ae)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===oe)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===se)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===ue)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(i=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===ae)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===oe)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===se)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===ue)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===n||35841===n||35842===n||35843===n){if(null===(i=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===n)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===n)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===n)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===n)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===n)return null!==(i=t.get("WEBGL_compressed_texture_etc1"))?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===n||37496===n){if(null===(i=t.get("WEBGL_compressed_texture_etc")))return null;if(37492===n)return o===Ee?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(37496===n)return o===Ee?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(37808===n||37809===n||37810===n||37811===n||37812===n||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n){if(null===(i=t.get("WEBGL_compressed_texture_astc")))return null;if(37808===n)return o===Ee?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===n)return o===Ee?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===n)return o===Ee?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===n)return o===Ee?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===n)return o===Ee?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===n)return o===Ee?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===n)return o===Ee?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===n)return o===Ee?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===n)return o===Ee?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===n)return o===Ee?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===n)return o===Ee?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===n)return o===Ee?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===n)return o===Ee?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===n)return o===Ee?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===le||36494===n||36495===n){if(null===(i=t.get("EXT_texture_compression_bptc")))return null;if(n===le)return o===Ee?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===n)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===n)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===n||36284===n||36285===n||36286===n){if(null===(i=t.get("EXT_texture_compression_rgtc")))return null;if(n===le)return i.COMPRESSED_RED_RGTC1_EXT;if(36284===n)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===n)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===n)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===te?r?e.UNSIGNED_INT_24_8:null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[n]?e[n]:null}}}var go=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,f.Z)(this,n),(e=t.call(this)).isArrayCamera=!0,e.cameras=r,e}return(0,m.Z)(n)}(kr),po=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;return(0,f.Z)(this,n),(e=t.call(this)).isGroup=!0,e.type="Group",e}return(0,m.Z)(n)}(wn),fo={type:"move"},mo=function(){function e(){(0,f.Z)(this,e),this._targetRay=null,this._grip=null,this._hand=null}return(0,m.Z)(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new po,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new po,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new bt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new bt),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new po,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new bt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new bt),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"connect",value:function(e){if(e&&e.hand){var t=this._hand;if(t){var n,r=(0,a.Z)(e.hand.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this._getHandJoint(t,i)}}catch(o){r.e(o)}finally{r.f()}}}return this.dispatchEvent({type:"connected",data:e}),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,o=null,s=this._targetRay,u=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){o=!0;var c,h=(0,a.Z)(e.hand.values());try{for(h.s();!(c=h.n()).done;){var d=c.value,g=t.getJointPose(d,n),p=this._getHandJoint(l,d);null!==g&&(p.matrix.fromArray(g.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,p.jointRadius=g.radius),p.visible=null!==g}}catch(y){h.e(y)}finally{h.f()}var f=l.joints["index-finger-tip"],m=l.joints["thumb-tip"],v=f.position.distanceTo(m.position);l.inputState.pinching&&v>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&v<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==u&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(u.matrix.fromArray(i.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,i.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(i.linearVelocity)):u.hasLinearVelocity=!1,i.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(i.angularVelocity)):u.hasAngularVelocity=!1);null!==s&&(null===(r=t.getPose(e.targetRaySpace,n))&&null!==i&&(r=i),null!==r&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(fo)))}return null!==s&&(s.visible=null!==r),null!==u&&(u.visible=null!==i),null!==l&&(l.visible=null!==o),this}},{key:"_getHandJoint",value:function(e,t){if(void 0===e.joints[t.jointName]){var n=new po;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}]),e}(),vo=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e,r,i,a,o,s,u,l,c,h){var d;if((0,f.Z)(this,n),(h=void 0!==h?h:re)!==re&&h!==ie)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&h===re&&(i=J),void 0===i&&h===ie&&(i=te),(d=t.call(this,null,a,o,s,u,l,h,i,c)).isDepthTexture=!0,d.image={width:e,height:r},d.magFilter=void 0!==u?u:V,d.minFilter=void 0!==l?l:V,d.flipY=!1,d.generateMipmaps=!1,d.compareFunction=null,d}return(0,m.Z)(n,[{key:"copy",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.compareFunction=e.compareFunction,this}},{key:"toJSON",value:function(e){var t=(0,s.Z)((0,u.Z)(n.prototype),"toJSON",this).call(this,e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}]),n}(gt),yo=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e,i){var a;(0,f.Z)(this,n),a=t.call(this);var o=(0,c.Z)(a),s=null,u=1,l=null,h="local-floor",d=1,g=null,m=null,v=null,y=null,A=null,b=null,x=i.getContextAttributes(),w=null,E=null,_=[],C=[],M=new kr;M.layers.enable(1),M.viewport=new pt;var S=new kr;S.layers.enable(2),S.viewport=new pt;var I=[M,S],T=new go;T.layers.enable(1),T.layers.enable(2);var k=null,R=null;function L(e){var t=C.indexOf(e.inputSource);if(-1!==t){var n=_[t];void 0!==n&&(n.update(e.inputSource,e.frame,g||l),n.dispatchEvent({type:e.type,data:e.inputSource}))}}function B(){s.removeEventListener("select",L),s.removeEventListener("selectstart",L),s.removeEventListener("selectend",L),s.removeEventListener("squeeze",L),s.removeEventListener("squeezestart",L),s.removeEventListener("squeezeend",L),s.removeEventListener("end",B),s.removeEventListener("inputsourceschange",D);for(var t=0;t<_.length;t++){var n=C[t];null!==n&&(C[t]=null,_[t].disconnect(n))}k=null,R=null,e.setRenderTarget(w),A=null,y=null,v=null,s=null,E=null,U.stop(),o.isPresenting=!1,o.dispatchEvent({type:"sessionend"})}function D(e){for(var t=0;t<e.removed.length;t++){var n=e.removed[t],r=C.indexOf(n);r>=0&&(C[r]=null,_[r].disconnect(n))}for(var i=0;i<e.added.length;i++){var a=e.added[i],o=C.indexOf(a);if(-1===o){for(var s=0;s<_.length;s++){if(s>=C.length){C.push(a),o=s;break}if(null===C[s]){C[s]=a,o=s;break}}if(-1===o)break}var u=_[o];u&&u.connect(a)}}a.cameraAutoUpdate=!0,a.enabled=!1,a.isPresenting=!1,a.getController=function(e){var t=_[e];return void 0===t&&(t=new mo,_[e]=t),t.getTargetRaySpace()},a.getControllerGrip=function(e){var t=_[e];return void 0===t&&(t=new mo,_[e]=t),t.getGripSpace()},a.getHand=function(e){var t=_[e];return void 0===t&&(t=new mo,_[e]=t),t.getHandSpace()},a.setFramebufferScaleFactor=function(e){u=e,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},a.setReferenceSpaceType=function(e){h=e,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},a.getReferenceSpace=function(){return g||l},a.setReferenceSpace=function(e){g=e},a.getBaseLayer=function(){return null!==y?y:A},a.getBinding=function(){return v},a.getFrame=function(){return b},a.getSession=function(){return s},a.setSession=function(){var t,n=(t=(0,p.Z)().mark((function t(n){var r,a,c,f,m;return(0,p.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(s=n)){t.next=25;break}if(w=e.getRenderTarget(),s.addEventListener("select",L),s.addEventListener("selectstart",L),s.addEventListener("selectend",L),s.addEventListener("squeeze",L),s.addEventListener("squeezestart",L),s.addEventListener("squeezeend",L),s.addEventListener("end",B),s.addEventListener("inputsourceschange",D),!0===x.xrCompatible){t.next=14;break}return t.next=14,i.makeXRCompatible();case 14:return void 0===s.renderState.layers||!1===e.capabilities.isWebGL2?(r={antialias:void 0!==s.renderState.layers||x.antialias,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:u},A=new XRWebGLLayer(s,i,r),s.updateRenderState({baseLayer:A}),E=new mt(A.framebufferWidth,A.framebufferHeight,{format:ne,type:X,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})):(a=null,c=null,f=null,x.depth&&(f=x.stencil?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT24,a=x.stencil?ie:re,c=x.stencil?te:J),m={colorFormat:i.RGBA8,depthFormat:f,scaleFactor:u},v=new XRWebGLBinding(s,i),y=v.createProjectionLayer(m),s.updateRenderState({layers:[y]}),E=new mt(y.textureWidth,y.textureHeight,{format:ne,type:X,depthTexture:new vo(y.textureWidth,y.textureHeight,c,void 0,void 0,void 0,void 0,void 0,void 0,a),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0}),e.properties.get(E).__ignoreDepthValues=y.ignoreDepthValues),E.isXRRenderTarget=!0,this.setFoveation(d),g=null,t.next=20,s.requestReferenceSpace(h);case 20:l=t.sent,U.setContext(s),U.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"});case 25:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(i,a){var o=t.apply(e,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))});return function(e){return n.apply(this,arguments)}}(),a.getEnvironmentBlendMode=function(){if(null!==s)return s.environmentBlendMode};var P=new bt,O=new bt;function N(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}a.updateCamera=function(e){if(null!==s){T.near=S.near=M.near=e.near,T.far=S.far=M.far=e.far,k===T.near&&R===T.far||(s.updateRenderState({depthNear:T.near,depthFar:T.far}),k=T.near,R=T.far);var t=e.parent,n=T.cameras;N(T,t);for(var r=0;r<n.length;r++)N(n[r],t);2===n.length?function(e,t,n){P.setFromMatrixPosition(t.matrixWorld),O.setFromMatrixPosition(n.matrixWorld);var r=P.distanceTo(O),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),u=(i[9]+1)/i[5],l=(i[9]-1)/i[5],c=(i[8]-1)/i[0],h=(a[8]+1)/a[0],d=o*c,g=o*h,p=r/(-c+h),f=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(f),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=o+p,v=s+p,y=d-f,A=g+(r-f),b=u*s/v*m,x=l*s/v*m;e.projectionMatrix.makePerspective(y,A,b,x,m,v),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(T,M,S):T.projectionMatrix.copy(M.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*Oe*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,T,t)}},a.getCamera=function(){return T},a.getFoveation=function(){if(null!==y||null!==A)return d},a.setFoveation=function(e){d=e,null!==y&&(y.fixedFoveation=e),null!==A&&void 0!==A.fixedFoveation&&(A.fixedFoveation=e)};var F=null;var U=new Hr;return U.setAnimationLoop((function(t,n){if(m=n.getViewerPose(g||l),b=n,null!==m){var r=m.views;null!==A&&(e.setRenderTargetFramebuffer(E,A.framebuffer),e.setRenderTarget(E));var i=!1;r.length!==T.cameras.length&&(T.cameras.length=0,i=!0);for(var a=0;a<r.length;a++){var s=r[a],u=null;if(null!==A)u=A.getViewport(s);else{var c=v.getViewSubImage(y,s);u=c.viewport,0===a&&(e.setRenderTargetTextures(E,c.colorTexture,y.ignoreDepthValues?void 0:c.depthStencilTexture),e.setRenderTarget(E))}var h=I[a];void 0===h&&((h=new kr).layers.enable(a),h.viewport=new pt,I[a]=h),h.matrix.fromArray(s.transform.matrix),h.matrix.decompose(h.position,h.quaternion,h.scale),h.projectionMatrix.fromArray(s.projectionMatrix),h.projectionMatrixInverse.copy(h.projectionMatrix).invert(),h.viewport.set(u.x,u.y,u.width,u.height),0===a&&(T.matrix.copy(h.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),!0===i&&T.cameras.push(h)}}for(var d=0;d<_.length;d++){var p=C[d],f=_[d];null!==p&&void 0!==f&&f.update(p,n,g||l)}F&&F(t,n),n.detectedPlanes&&o.dispatchEvent({type:"planesdetected",data:n}),b=null})),a.setAnimationLoop=function(e){F=e},a.dispose=function(){},a}return(0,m.Z)(n)}(Le);function Ao(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(r,i){r.opacity.value=i.opacity,i.color&&r.diffuse.value.copy(i.color),i.emissive&&r.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(r.map.value=i.map,n(i.map,r.mapTransform)),i.alphaMap&&(r.alphaMap.value=i.alphaMap,n(i.alphaMap,r.alphaMapTransform)),i.bumpMap&&(r.bumpMap.value=i.bumpMap,n(i.bumpMap,r.bumpMapTransform),r.bumpScale.value=i.bumpScale,i.side===_&&(r.bumpScale.value*=-1)),i.normalMap&&(r.normalMap.value=i.normalMap,n(i.normalMap,r.normalMapTransform),r.normalScale.value.copy(i.normalScale),i.side===_&&r.normalScale.value.negate()),i.displacementMap&&(r.displacementMap.value=i.displacementMap,n(i.displacementMap,r.displacementMapTransform),r.displacementScale.value=i.displacementScale,r.displacementBias.value=i.displacementBias),i.emissiveMap&&(r.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,r.emissiveMapTransform)),i.specularMap&&(r.specularMap.value=i.specularMap,n(i.specularMap,r.specularMapTransform)),i.alphaTest>0&&(r.alphaTest.value=i.alphaTest);var a=t.get(i).envMap;if(a&&(r.envMap.value=a,r.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,r.reflectivity.value=i.reflectivity,r.ior.value=i.ior,r.refractionRatio.value=i.refractionRatio),i.lightMap){r.lightMap.value=i.lightMap;var o=!0===e._useLegacyLights?Math.PI:1;r.lightMapIntensity.value=i.lightMapIntensity*o,n(i.lightMap,r.lightMapTransform)}i.aoMap&&(r.aoMap.value=i.aoMap,r.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,r.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,Mr(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,o,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,r){e.metalness.value=r.metalness,r.metalnessMap&&(e.metalnessMap.value=r.metalnessMap,n(r.metalnessMap,e.metalnessMapTransform));e.roughness.value=r.roughness,r.roughnessMap&&(e.roughnessMap.value=r.roughnessMap,n(r.roughnessMap,e.roughnessMapTransform));var i=t.get(r).envMap;i&&(e.envMapIntensity.value=r.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===_&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,s)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){var r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,a,o):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function bo(e,t,n,r){var i={},a={},o=[],s=n.isWebGL2?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0;function u(e,t,n){var r=e.value;if(void 0===n[t]){if("number"===typeof r)n[t]=r;else{for(var i=Array.isArray(r)?r:[r],a=[],o=0;o<i.length;o++)a.push(i[o].clone());n[t]=a}return!0}if("number"===typeof r){if(n[t]!==r)return n[t]=r,!0}else for(var s=Array.isArray(n[t])?n[t]:[n[t]],u=Array.isArray(r)?r:[r],l=0;l<s.length;l++){var c=s[l];if(!1===c.equals(u[l]))return c.copy(u[l]),!0}return!1}function l(e){var t={boundary:0,storage:0};return"number"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function c(t){var n=t.target;n.removeEventListener("dispose",c);var r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){var n=t.program;r.uniformBlockBinding(e,n)},update:function(n,h){var d=i[n.id];void 0===d&&(!function(e){for(var t=e.uniforms,n=0,r=16,i=0,a=0,o=t.length;a<o;a++){for(var s=t[a],u={boundary:0,storage:0},c=Array.isArray(s.value)?s.value:[s.value],h=0,d=c.length;h<d;h++){var g=l(c[h]);u.boundary+=g.boundary,u.storage+=g.storage}if(s.__data=new Float32Array(u.storage/Float32Array.BYTES_PER_ELEMENT),s.__offset=n,a>0)0!==(i=n%r)&&r-i-u.boundary<0&&(n+=r-i,s.__offset=n);n+=u.storage}(i=n%r)>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),d=function(t){var n=function(){for(var e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;var r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=d,n.addEventListener("dispose",c));var g=h.program;r.updateUBOMapping(n,g);var p=t.render.frame;a[n.id]!==p&&(!function(t){var n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(var o=0,s=r.length;o<s;o++){var c=r[o];if(!0===u(c,o,a)){for(var h=c.__offset,d=Array.isArray(c.value)?c.value:[c.value],g=0,p=0;p<d.length;p++){var f=d[p],m=l(f);"number"===typeof f?(c.__data[0]=f,e.bufferSubData(e.UNIFORM_BUFFER,h+g,c.__data)):f.isMatrix3?(c.__data[0]=f.elements[0],c.__data[1]=f.elements[1],c.__data[2]=f.elements[2],c.__data[3]=f.elements[0],c.__data[4]=f.elements[3],c.__data[5]=f.elements[4],c.__data[6]=f.elements[5],c.__data[7]=f.elements[0],c.__data[8]=f.elements[6],c.__data[9]=f.elements[7],c.__data[10]=f.elements[8],c.__data[11]=f.elements[0]):(f.toArray(c.__data,g),g+=m.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,h,c.__data)}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=p)},dispose:function(){for(var t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}var xo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,f.Z)(this,e);var n,r=t.canvas,i=void 0===r?function(){var e=Ye("canvas");return e.style.display="block",e}():r,a=t.context,o=void 0===a?null:a,s=t.depth,u=void 0===s||s,l=t.stencil,c=void 0===l||l,h=t.alpha,d=void 0!==h&&h,g=t.antialias,p=void 0!==g&&g,m=t.premultipliedAlpha,y=void 0===m||m,A=t.preserveDrawingBuffer,b=void 0!==A&&A,x=t.powerPreference,w=void 0===x?"default":x,C=t.failIfMajorPerformanceCaveat,M=void 0!==C&&C;this.isWebGLRenderer=!0,n=null!==o?o.getContextAttributes().alpha:d;var S=new Uint32Array(4),I=new Int32Array(4),T=null,R=null,L=[],B=[];this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=ye,this._useLegacyLights=!1,this.toneMapping=k,this.toneMappingExposure=1;var D=this,P=!1,O=0,N=0,F=null,U=-1,z=null,j=new pt,H=new pt,G=null,V=new jn(0),Q=0,W=i.width,q=i.height,Y=1,re=null,ie=null,ae=new pt(0,0,W,q),oe=new pt(0,0,W,q),se=!1,ue=new jr,le=!1,ce=!1,he=null,de=new Zt,ge=new qe,pe=new bt,fe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function me(){return null===F?Y:1}var ve,be,xe,we,Ee,_e,Ce,Me,Se,Ie,Te,ke,Re,Le,Be,De,Pe,Oe,Ne,Fe,Ue,ze,je,He,Ve=o;function Qe(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=i.getContext(r,t);if(null!==a)return a}return null}try{var We={alpha:!0,depth:u,stencil:c,antialias:p,premultipliedAlpha:y,preserveDrawingBuffer:b,powerPreference:w,failIfMajorPerformanceCaveat:M};if("setAttribute"in i&&i.setAttribute("data-engine","three.js r".concat(v)),i.addEventListener("webglcontextlost",Je,!1),i.addEventListener("webglcontextrestored",$e,!1),i.addEventListener("webglcontextcreationerror",et,!1),null===Ve){var Ke=["webgl2","webgl","experimental-webgl"];if(!0===D.isWebGL1Renderer&&Ke.shift(),null===(Ve=Qe(Ke,We)))throw Qe(Ke)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}"undefined"!==typeof WebGLRenderingContext&&Ve instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===Ve.getShaderPrecisionFormat&&(Ve.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(dt){throw console.error("THREE.WebGLRenderer: "+dt.message),dt}function Xe(){ve=new mi(Ve),be=new Jr(Ve,ve,t),ve.init(be),ze=new ho(Ve,ve,be),xe=new lo(Ve,ve,be),we=new Ai(Ve),Ee=new Xa,_e=new co(Ve,ve,xe,Ee,be,ze,we),Ce=new ei(D),Me=new fi(D),Se=new Gr(Ve,be),je=new Zr(Ve,ve,Se,be),Ie=new vi(Ve,Se,we,je),Te=new Ei(Ve,Ie,Se,we),Ne=new wi(Ve,be,_e),De=new $r(Ee),ke=new Ka(D,Ce,Me,ve,be,je,De),Re=new Ao(D,Ee),Le=new $a,Be=new ao(ve,be),Oe=new Xr(D,Ce,Me,xe,Te,n,y),Pe=new uo(D,Te,be),He=new bo(Ve,we,be,xe),Fe=new Yr(Ve,ve,we,be),Ue=new yi(Ve,ve,we,be),we.programs=ke.programs,D.capabilities=be,D.extensions=ve,D.properties=Ee,D.renderLists=Le,D.shadowMap=Pe,D.state=xe,D.info=we}Xe();var Ze=new yo(D,Ve);function Je(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),P=!0}function $e(){console.log("THREE.WebGLRenderer: Context Restored."),P=!1;var e=we.autoReset,t=Pe.enabled,n=Pe.autoUpdate,r=Pe.needsUpdate,i=Pe.type;Xe(),we.autoReset=e,Pe.enabled=t,Pe.autoUpdate=n,Pe.needsUpdate=r,Pe.type=i}function et(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function tt(e){var t=e.target;t.removeEventListener("dispose",tt),function(e){(function(e){var t=Ee.get(e).programs;void 0!==t&&(t.forEach((function(e){ke.releaseProgram(e)})),e.isShaderMaterial&&ke.releaseShaderCache(e))})(e),Ee.remove(e)}(t)}this.xr=Ze,this.getContext=function(){return Ve},this.getContextAttributes=function(){return Ve.getContextAttributes()},this.forceContextLoss=function(){var e=ve.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=ve.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(e){void 0!==e&&(Y=e,this.setSize(W,q,!1))},this.getSize=function(e){return e.set(W,q)},this.setSize=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Ze.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(W=e,q=t,i.width=Math.floor(e*Y),i.height=Math.floor(t*Y),!0===n&&(i.style.width=e+"px",i.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(W*Y,q*Y).floor()},this.setDrawingBufferSize=function(e,t,n){W=e,q=t,Y=n,i.width=Math.floor(e*n),i.height=Math.floor(t*n),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(j)},this.getViewport=function(e){return e.copy(ae)},this.setViewport=function(e,t,n,r){e.isVector4?ae.set(e.x,e.y,e.z,e.w):ae.set(e,t,n,r),xe.viewport(j.copy(ae).multiplyScalar(Y).floor())},this.getScissor=function(e){return e.copy(oe)},this.setScissor=function(e,t,n,r){e.isVector4?oe.set(e.x,e.y,e.z,e.w):oe.set(e,t,n,r),xe.scissor(H.copy(oe).multiplyScalar(Y).floor())},this.getScissorTest=function(){return se},this.setScissorTest=function(e){xe.setScissorTest(se=e)},this.setOpaqueSort=function(e){re=e},this.setTransparentSort=function(e){ie=e},this.getClearColor=function(e){return e.copy(Oe.getClearColor())},this.setClearColor=function(){Oe.setClearColor.apply(Oe,arguments)},this.getClearAlpha=function(){return Oe.getClearAlpha()},this.setClearAlpha=function(){Oe.setClearAlpha.apply(Oe,arguments)},this.clear=function(){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){var r=!1;if(null!==F){var i=F.texture.format;r=1033===i||1031===i||1029===i}if(r){var a=F.texture.type,o=a===X||a===J||a===Z||a===te||1017===a||1018===a,s=Oe.getClearColor(),u=Oe.getClearAlpha(),l=s.r,c=s.g,h=s.b;o?(S[0]=l,S[1]=c,S[2]=h,S[3]=u,Ve.clearBufferuiv(Ve.COLOR,0,S)):(I[0]=l,I[1]=c,I[2]=h,I[3]=u,Ve.clearBufferiv(Ve.COLOR,0,I))}else n|=Ve.COLOR_BUFFER_BIT}e&&(n|=Ve.DEPTH_BUFFER_BIT),t&&(n|=Ve.STENCIL_BUFFER_BIT),Ve.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",Je,!1),i.removeEventListener("webglcontextrestored",$e,!1),i.removeEventListener("webglcontextcreationerror",et,!1),Le.dispose(),Be.dispose(),Ee.dispose(),Ce.dispose(),Me.dispose(),Te.dispose(),je.dispose(),He.dispose(),ke.dispose(),Ze.dispose(),Ze.removeEventListener("sessionstart",rt),Ze.removeEventListener("sessionend",it),he&&(he.dispose(),he=null),at.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=fe);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=fe);_e.resetTextureUnits();var a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===F?D.outputColorSpace:!0===F.isXRRenderTarget?F.texture.colorSpace:Ae,u=(r.isMeshStandardMaterial?Me:Ce).get(r.envMap||o),l=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),h=!!n.morphAttributes.position,d=!!n.morphAttributes.normal,g=!!n.morphAttributes.color,p=k;r.toneMapped&&(null!==F&&!0!==F.isXRRenderTarget||(p=D.toneMapping));var f=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,m=void 0!==f?f.length:0,v=Ee.get(r),y=R.state.lights;if(!0===le&&(!0===ce||e!==z)){var A=e===z&&r.id===U;De.setState(r,e,A)}var b=!1;r.version===v.__version?v.needsLights&&v.lightsStateVersion!==y.state.version||v.outputColorSpace!==s||i.isInstancedMesh&&!1===v.instancing?b=!0:i.isInstancedMesh||!0!==v.instancing?i.isSkinnedMesh&&!1===v.skinning?b=!0:i.isSkinnedMesh||!0!==v.skinning?i.isInstancedMesh&&!0===v.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===v.instancingColor&&null!==i.instanceColor||v.envMap!==u||!0===r.fog&&v.fog!==a?b=!0:void 0===v.numClippingPlanes||v.numClippingPlanes===De.numPlanes&&v.numIntersection===De.numIntersection?(v.vertexAlphas!==l||v.vertexTangents!==c||v.morphTargets!==h||v.morphNormals!==d||v.morphColors!==g||v.toneMapping!==p||!0===be.isWebGL2&&v.morphTargetsCount!==m)&&(b=!0):b=!0:b=!0:b=!0:(b=!0,v.__version=r.version);var x=v.currentProgram;!0===b&&(x=ct(r,t,i));var w=!1,E=!1,_=!1,C=x.getUniforms(),M=v.uniforms;xe.useProgram(x.program)&&(w=!0,E=!0,_=!0);r.id!==U&&(U=r.id,E=!0);if(w||z!==e){C.setValue(Ve,"projectionMatrix",e.projectionMatrix),C.setValue(Ve,"viewMatrix",e.matrixWorldInverse);var S=C.map.cameraPosition;void 0!==S&&S.setValue(Ve,pe.setFromMatrixPosition(e.matrixWorld)),be.logarithmicDepthBuffer&&C.setValue(Ve,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&C.setValue(Ve,"isOrthographic",!0===e.isOrthographicCamera),z!==e&&(z=e,E=!0,_=!0)}if(i.isSkinnedMesh){C.setOptional(Ve,i,"bindMatrix"),C.setOptional(Ve,i,"bindMatrixInverse");var I=i.skeleton;I&&(be.floatVertexTextures?(null===I.boneTexture&&I.computeBoneTexture(),C.setValue(Ve,"boneTexture",I.boneTexture,_e),C.setValue(Ve,"boneTextureSize",I.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}var T=n.morphAttributes;(void 0!==T.position||void 0!==T.normal||void 0!==T.color&&!0===be.isWebGL2)&&Ne.update(i,n,x);(E||v.receiveShadow!==i.receiveShadow)&&(v.receiveShadow=i.receiveShadow,C.setValue(Ve,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(M.envMap.value=u,M.flipEnvMap.value=u.isCubeTexture&&!1===u.isRenderTargetTexture?-1:1);E&&(C.setValue(Ve,"toneMappingExposure",D.toneMappingExposure),v.needsLights&&(B=_,(L=M).ambientLightColor.needsUpdate=B,L.lightProbe.needsUpdate=B,L.directionalLights.needsUpdate=B,L.directionalLightShadows.needsUpdate=B,L.pointLights.needsUpdate=B,L.pointLightShadows.needsUpdate=B,L.spotLights.needsUpdate=B,L.spotLightShadows.needsUpdate=B,L.rectAreaLights.needsUpdate=B,L.hemisphereLights.needsUpdate=B),a&&!0===r.fog&&Re.refreshFogUniforms(M,a),Re.refreshMaterialUniforms(M,r,Y,q,he),Sa.upload(Ve,v.uniformsList,M,_e));var L,B;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(Sa.upload(Ve,v.uniformsList,M,_e),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&C.setValue(Ve,"center",i.center);if(C.setValue(Ve,"modelViewMatrix",i.modelViewMatrix),C.setValue(Ve,"normalMatrix",i.normalMatrix),C.setValue(Ve,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial)for(var P=r.uniformsGroups,O=0,N=P.length;O<N;O++)if(be.isWebGL2){var j=P[O];He.update(j,x),He.bind(j,x)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");return x}(e,t,n,r,i);xe.setMaterial(r,o);var u=n.index,l=1;if(!0===r.wireframe){if(void 0===(u=Ie.getWireframeAttribute(n)))return;l=2}var c=n.drawRange,h=n.attributes.position,d=c.start*l,g=(c.start+c.count)*l;null!==a&&(d=Math.max(d,a.start*l),g=Math.min(g,(a.start+a.count)*l)),null!==u?(d=Math.max(d,0),g=Math.min(g,u.count)):void 0!==h&&null!==h&&(d=Math.max(d,0),g=Math.min(g,h.count));var p=g-d;if(!(p<0||p===1/0)){var f;je.setup(i,r,s,n,u);var m=Fe;if(null!==u&&(f=Se.get(u),(m=Ue).setIndex(f)),i.isMesh)!0===r.wireframe?(xe.setLineWidth(r.wireframeLinewidth*me()),m.setMode(Ve.LINES)):m.setMode(Ve.TRIANGLES);else if(i.isLine){var v=r.linewidth;void 0===v&&(v=1),xe.setLineWidth(v*me()),i.isLineSegments?m.setMode(Ve.LINES):i.isLineLoop?m.setMode(Ve.LINE_LOOP):m.setMode(Ve.LINE_STRIP)}else i.isPoints?m.setMode(Ve.POINTS):i.isSprite&&m.setMode(Ve.TRIANGLES);if(i.isInstancedMesh)m.renderInstances(d,p,i.count);else if(n.isInstancedBufferGeometry){var y=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,A=Math.min(n.instanceCount,y);m.renderInstances(d,p,A)}else m.render(d,p)}},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&2===e.side&&!1===e.forceSinglePass?(e.side=_,e.needsUpdate=!0,ct(e,t,n),e.side=E,e.needsUpdate=!0,ct(e,t,n),e.side=2):ct(e,t,n)}(R=Be.get(e)).init(),B.push(R),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(R.pushLight(e),e.castShadow&&R.pushShadow(e))})),R.setupLights(D._useLegacyLights),e.traverse((function(t){var r=t.material;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++){n(r[i],e,t)}else n(r,e,t)})),B.pop(),R=null};var nt=null;function rt(){at.stop()}function it(){at.start()}var at=new Hr;function ot(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)R.pushLight(e),e.castShadow&&R.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||ue.intersectsSprite(e)){r&&pe.setFromMatrixPosition(e.matrixWorld).applyMatrix4(de);var i=Te.update(e),a=e.material;a.visible&&T.push(e,i,a,n,pe.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||ue.intersectsObject(e))){var o=Te.update(e),s=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),pe.copy(e.boundingSphere.center)):(null===o.boundingSphere&&o.computeBoundingSphere(),pe.copy(o.boundingSphere.center)),pe.applyMatrix4(e.matrixWorld).applyMatrix4(de)),Array.isArray(s))for(var u=o.groups,l=0,c=u.length;l<c;l++){var h=u[l],d=s[h.materialIndex];d&&d.visible&&T.push(e,o,d,n,pe.z,h)}else s.visible&&T.push(e,o,s,n,pe.z,null)}for(var g=e.children,p=0,f=g.length;p<f;p++)ot(g[p],t,n,r)}}function st(e,t,n,r){var i=e.opaque,a=e.transmissive,o=e.transparent;R.setupLightsView(n),!0===le&&De.setGlobalState(D.clippingPlanes,n),a.length>0&&function(e,t,n,r){var i=be.isWebGL2;null===he&&(he=new mt(1,1,{generateMipmaps:!0,type:ve.has("EXT_color_buffer_half_float")?ee:X,minFilter:K,samples:i?4:0}));D.getDrawingBufferSize(ge),i?he.setSize(ge.x,ge.y):he.setSize(Ge(ge.x),Ge(ge.y));var a=D.getRenderTarget();D.setRenderTarget(he),D.getClearColor(V),(Q=D.getClearAlpha())<1&&D.setClearColor(16777215,.5);D.clear();var o=D.toneMapping;D.toneMapping=k,ut(e,n,r),_e.updateMultisampleRenderTarget(he),_e.updateRenderTargetMipmap(he);for(var s=!1,u=0,l=t.length;u<l;u++){var c=t[u],h=c.object,d=c.geometry,g=c.material,p=c.group;if(2===g.side&&h.layers.test(r.layers)){var f=g.side;g.side=_,g.needsUpdate=!0,lt(h,n,r,d,g,p),g.side=f,g.needsUpdate=!0,s=!0}}!0===s&&(_e.updateMultisampleRenderTarget(he),_e.updateRenderTargetMipmap(he));D.setRenderTarget(a),D.setClearColor(V,Q),D.toneMapping=o}(i,a,t,n),r&&xe.viewport(j.copy(r)),i.length>0&&ut(i,t,n),a.length>0&&ut(a,t,n),o.length>0&&ut(o,t,n),xe.buffers.depth.setTest(!0),xe.buffers.depth.setMask(!0),xe.buffers.color.setMask(!0),xe.setPolygonOffset(!1)}function ut(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,u=o.geometry,l=null===r?o.material:r,c=o.group;s.layers.test(n.layers)&&lt(s,t,n,u,l,c)}}function lt(e,t,n,r,i,a){e.onBeforeRender(D,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(D,t,n,r,e,a),!0===i.transparent&&2===i.side&&!1===i.forceSinglePass?(i.side=_,i.needsUpdate=!0,D.renderBufferDirect(n,t,r,i,e,a),i.side=E,i.needsUpdate=!0,D.renderBufferDirect(n,t,r,i,e,a),i.side=2):D.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(D,t,n,r,i,a)}function ct(e,t,n){!0!==t.isScene&&(t=fe);var r=Ee.get(e),i=R.state.lights,a=R.state.shadowsArray,o=i.state.version,s=ke.getParameters(e,i.state,a,t,n),u=ke.getProgramCacheKey(s),l=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?Me:Ce).get(e.envMap||r.environment),void 0===l&&(e.addEventListener("dispose",tt),l=new Map,r.programs=l);var c=l.get(u);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return ht(e,s),c}else s.uniforms=ke.getUniforms(e),e.onBuild(n,s,D),e.onBeforeCompile(s,D),c=ke.acquireProgram(s,u),l.set(u,c),r.uniforms=s.uniforms;var h=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(h.clippingPlanes=De.uniform),ht(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotLightMatrix.value=i.state.spotLightMatrix,h.spotLightMap.value=i.state.spotLightMap,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix);var d=c.getUniforms(),g=Sa.seqWithValue(d.seq,h);return r.currentProgram=c,r.uniformsList=g,c}function ht(e,t){var n=Ee.get(e);n.outputColorSpace=t.outputColorSpace,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}at.setAnimationLoop((function(e){nt&&nt(e)})),"undefined"!==typeof self&&at.setContext(self),this.setAnimationLoop=function(e){nt=e,Ze.setAnimationLoop(e),null===e?at.stop():at.start()},Ze.addEventListener("sessionstart",rt),Ze.addEventListener("sessionend",it),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==P){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===Ze.enabled&&!0===Ze.isPresenting&&(!0===Ze.cameraAutoUpdate&&Ze.updateCamera(t),t=Ze.getCamera()),!0===e.isScene&&e.onBeforeRender(D,e,t,F),(R=Be.get(e,B.length)).init(),B.push(R),de.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),ue.setFromProjectionMatrix(de),ce=this.localClippingEnabled,le=De.init(this.clippingPlanes,ce),(T=Le.get(e,L.length)).init(),L.push(T),ot(e,t,0,D.sortObjects),T.finish(),!0===D.sortObjects&&T.sort(re,ie),this.info.render.frame++,!0===le&&De.beginShadows();var n=R.state.shadowsArray;if(Pe.render(n,e,t),!0===le&&De.endShadows(),!0===this.info.autoReset&&this.info.reset(),Oe.render(T,e),R.setupLights(D._useLegacyLights),t.isArrayCamera)for(var r=t.cameras,i=0,a=r.length;i<a;i++){var o=r[i];st(T,e,o,o.viewport)}else st(T,e,t);null!==F&&(_e.updateMultisampleRenderTarget(F),_e.updateRenderTargetMipmap(F)),!0===e.isScene&&e.onAfterRender(D,e,t),je.resetDefaultState(),U=-1,z=null,B.pop(),R=B.length>0?B[B.length-1]:null,L.pop(),T=L.length>0?L[L.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return O},this.getActiveMipmapLevel=function(){return N},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(e,t,n){Ee.get(e.texture).__webglTexture=t,Ee.get(e.depthTexture).__webglTexture=n;var r=Ee.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===ve.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var n=Ee.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;F=e,O=t,N=n;var r=!0,i=null,a=!1,o=!1;if(e){var s=Ee.get(e);void 0!==s.__useDefaultFramebuffer?(xe.bindFramebuffer(Ve.FRAMEBUFFER,null),r=!1):void 0===s.__webglFramebuffer?_e.setupRenderTarget(e):s.__hasExternalTextures&&_e.rebindTextures(e,Ee.get(e.texture).__webglTexture,Ee.get(e.depthTexture).__webglTexture);var u=e.texture;(u.isData3DTexture||u.isDataArrayTexture||u.isCompressedArrayTexture)&&(o=!0);var l=Ee.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(l[t])?l[t][n]:l[t],a=!0):i=be.isWebGL2&&e.samples>0&&!1===_e.useMultisampledRTT(e)?Ee.get(e).__webglMultisampledFramebuffer:Array.isArray(l)?l[n]:l,j.copy(e.viewport),H.copy(e.scissor),G=e.scissorTest}else j.copy(ae).multiplyScalar(Y).floor(),H.copy(oe).multiplyScalar(Y).floor(),G=se;if(xe.bindFramebuffer(Ve.FRAMEBUFFER,i)&&be.drawBuffers&&r&&xe.drawBuffers(e,i),xe.viewport(j),xe.scissor(H),xe.setScissorTest(G),a){var c=Ee.get(e.texture);Ve.framebufferTexture2D(Ve.FRAMEBUFFER,Ve.COLOR_ATTACHMENT0,Ve.TEXTURE_CUBE_MAP_POSITIVE_X+t,c.__webglTexture,n)}else if(o){var h=Ee.get(e.texture),d=t||0;Ve.framebufferTextureLayer(Ve.FRAMEBUFFER,Ve.COLOR_ATTACHMENT0,h.__webglTexture,n||0,d)}U=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=Ee.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){xe.bindFramebuffer(Ve.FRAMEBUFFER,s);try{var u=e.texture,l=u.format,c=u.type;if(l!==ne&&ze.convert(l)!==Ve.getParameter(Ve.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var h=c===ee&&(ve.has("EXT_color_buffer_half_float")||be.isWebGL2&&ve.has("EXT_color_buffer_float"));if(c!==X&&ze.convert(c)!==Ve.getParameter(Ve.IMPLEMENTATION_COLOR_READ_TYPE)&&(c!==$||!(be.isWebGL2||ve.has("OES_texture_float")||ve.has("WEBGL_color_buffer_float")))&&!h)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&Ve.readPixels(t,n,r,i,ze.convert(l),ze.convert(c),a)}finally{var d=null!==F?Ee.get(F).__webglFramebuffer:null;xe.bindFramebuffer(Ve.FRAMEBUFFER,d)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);_e.setTexture2D(t,0),Ve.copyTexSubImage2D(Ve.TEXTURE_2D,n,0,0,e.x,e.y,i,a),xe.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=ze.convert(n.format),s=ze.convert(n.type);_e.setTexture2D(n,0),Ve.pixelStorei(Ve.UNPACK_FLIP_Y_WEBGL,n.flipY),Ve.pixelStorei(Ve.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),Ve.pixelStorei(Ve.UNPACK_ALIGNMENT,n.unpackAlignment),t.isDataTexture?Ve.texSubImage2D(Ve.TEXTURE_2D,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?Ve.compressedTexSubImage2D(Ve.TEXTURE_2D,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):Ve.texSubImage2D(Ve.TEXTURE_2D,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&Ve.generateMipmap(Ve.TEXTURE_2D),xe.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(D.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,u=e.max.z-e.min.z+1,l=ze.convert(r.format),c=ze.convert(r.type);if(r.isData3DTexture)_e.setTexture3D(r,0),a=Ve.TEXTURE_3D;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");_e.setTexture2DArray(r,0),a=Ve.TEXTURE_2D_ARRAY}Ve.pixelStorei(Ve.UNPACK_FLIP_Y_WEBGL,r.flipY),Ve.pixelStorei(Ve.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),Ve.pixelStorei(Ve.UNPACK_ALIGNMENT,r.unpackAlignment);var h=Ve.getParameter(Ve.UNPACK_ROW_LENGTH),d=Ve.getParameter(Ve.UNPACK_IMAGE_HEIGHT),g=Ve.getParameter(Ve.UNPACK_SKIP_PIXELS),p=Ve.getParameter(Ve.UNPACK_SKIP_ROWS),f=Ve.getParameter(Ve.UNPACK_SKIP_IMAGES),m=n.isCompressedTexture?n.mipmaps[0]:n.image;Ve.pixelStorei(Ve.UNPACK_ROW_LENGTH,m.width),Ve.pixelStorei(Ve.UNPACK_IMAGE_HEIGHT,m.height),Ve.pixelStorei(Ve.UNPACK_SKIP_PIXELS,e.min.x),Ve.pixelStorei(Ve.UNPACK_SKIP_ROWS,e.min.y),Ve.pixelStorei(Ve.UNPACK_SKIP_IMAGES,e.min.z),n.isDataTexture||n.isData3DTexture?Ve.texSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,c,m.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Ve.compressedTexSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,m.data)):Ve.texSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,c,m),Ve.pixelStorei(Ve.UNPACK_ROW_LENGTH,h),Ve.pixelStorei(Ve.UNPACK_IMAGE_HEIGHT,d),Ve.pixelStorei(Ve.UNPACK_SKIP_PIXELS,g),Ve.pixelStorei(Ve.UNPACK_SKIP_ROWS,p),Ve.pixelStorei(Ve.UNPACK_SKIP_IMAGES,f),0===i&&r.generateMipmaps&&Ve.generateMipmap(a),xe.unbindTexture()}},this.initTexture=function(e){e.isCubeTexture?_e.setTextureCube(e,0):e.isData3DTexture?_e.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?_e.setTexture2DArray(e,0):_e.setTexture2D(e,0),xe.unbindTexture()},this.resetState=function(){O=0,N=0,F=null,xe.reset(),je.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}return(0,m.Z)(e,[{key:"coordinateSystem",get:function(){return ke}},{key:"outputColorSpace",get:function(){return this._outputColorSpace},set:function(e){this._outputColorSpace=e;var t=this.getContext();t.drawingBufferColorSpace=e===be?"display-p3":"srgb",t.unpackColorSpace=at.workingColorSpace===xe?"display-p3":"srgb"}},{key:"physicallyCorrectLights",get:function(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}},{key:"outputEncoding",get:function(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===ye?me:3e3},set:function(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===me?ye:Ae}},{key:"useLegacyLights",get:function(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights},set:function(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}]),e}(),wo=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,m.Z)(n)}(xo);wo.prototype.isWebGL1Renderer=!0;var Eo=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;return(0,f.Z)(this,n),(e=t.call(this)).isScene=!0,e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.backgroundBlurriness=0,e.backgroundIntensity=1,e.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:(0,c.Z)(e)})),e}return(0,m.Z)(n,[{key:"copy",value:function(e,t){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=(0,s.Z)((0,u.Z)(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}]),n}(wn);var _o=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,f.Z)(this,n),(r=t.call(this)).isLineBasicMaterial=!0,r.type="LineBasicMaterial",r.color=new jn(16777215),r.map=null,r.linewidth=1,r.linecap="round",r.linejoin="round",r.fog=!0,r.setValues(e),r}return(0,m.Z)(n,[{key:"copy",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}]),n}(On),Co=new bt,Mo=new bt,So=new Zt,Io=new Xt,To=new jt,ko=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new rr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _o;return(0,f.Z)(this,n),(e=t.call(this)).isLine=!0,e.type="Line",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,m.Z)(n,[{key:"copy",value:function(e,t){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)Co.fromBufferAttribute(t,r-1),Mo.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Co.distanceTo(Mo);e.setAttribute("lineDistance",new Xn(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),To.copy(n.boundingSphere),To.applyMatrix4(r),To.radius+=i,!1!==e.ray.intersectsSphere(To)){So.copy(r).invert(),Io.copy(e.ray).applyMatrix4(So);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,u=new bt,l=new bt,c=new bt,h=new bt,d=this.isLineSegments?2:1,g=n.index,p=n.attributes.position;if(null!==g)for(var f=Math.max(0,a.start),m=Math.min(g.count,a.start+a.count)-1;f<m;f+=d){var v=g.getX(f),y=g.getX(f+1);if(u.fromBufferAttribute(p,v),l.fromBufferAttribute(p,y),!(Io.distanceSqToSegment(u,l,h,c)>s)){h.applyMatrix4(this.matrixWorld);var A=e.ray.origin.distanceTo(h);A<e.near||A>e.far||t.push({distance:A,point:c.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this})}}else for(var b=Math.max(0,a.start),x=Math.min(p.count,a.start+a.count)-1;b<x;b+=d){if(u.fromBufferAttribute(p,b),l.fromBufferAttribute(p,b+1),!(Io.distanceSqToSegment(u,l,h,c)>s)){h.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(h);w<e.near||w>e.far||t.push({distance:w,point:c.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(wn);var Ro=function(){function e(){(0,f.Z)(this,e),this.type="Curve",this.arcLengthDivisions=200}return(0,m.Z)(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=r[i=Math.floor(s+(u-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){u=i;break}u=i-1}if(r[i=u]===n)return i/(a-1);var l=r[i];return(i+(n-l)/(r[i+1]-l))/(a-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);var a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new qe:new bt);return s.copy(o).sub(a).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new bt,r=[],i=[],a=[],o=new bt,s=new Zt,u=0;u<=e;u++){var l=u/e;r[u]=this.getTangentAt(l,new bt)}i[0]=new bt,a[0]=new bt;var c=Number.MAX_VALUE,h=Math.abs(r[0].x),d=Math.abs(r[0].y),g=Math.abs(r[0].z);h<=c&&(c=h,n.set(1,0,0)),d<=c&&(c=d,n.set(0,1,0)),g<=c&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(var p=1;p<=e;p++){if(i[p]=i[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(r[p-1],r[p]),o.length()>Number.EPSILON){o.normalize();var f=Math.acos(Fe(r[p-1].dot(r[p]),-1,1));i[p].applyMatrix4(s.makeRotationAxis(o,f))}a[p].crossVectors(r[p],i[p])}if(!0===t){var m=Math.acos(Fe(i[0].dot(i[e]),-1,1));m/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(m=-m);for(var v=1;v<=e;v++)i[v].applyMatrix4(s.makeRotationAxis(r[v],m*v)),a[v].crossVectors(r[v],i[v])}return{tangents:r,normals:i,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),Lo=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return(0,f.Z)(this,n),(e=t.call(this)).isEllipseCurve=!0,e.type="EllipseCurve",e.aX=r,e.aY=i,e.xRadius=a,e.yRadius=o,e.aStartAngle=s,e.aEndAngle=u,e.aClockwise=l,e.aRotation=c,e}return(0,m.Z)(n,[{key:"getPoint",value:function(e,t){for(var n=t||new qe,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=s-this.aX,d=u-this.aY;s=h*l-d*c+this.aX,u=h*c+d*l+this.aY}return n.set(s,u)}},{key:"copy",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=(0,s.Z)((0,u.Z)(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(Ro),Bo=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e,r,i,a,o,s){var u;return(0,f.Z)(this,n),(u=t.call(this,e,r,i,i,a,o,s)).isArcCurve=!0,u.type="ArcCurve",u}return(0,m.Z)(n)}(Lo);function Do(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var u=(t-e)/a-(n-e)/(a+o)+(n-t)/o,l=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,u*=o,l*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}var Po=new bt,Oo=new Do,No=new Do,Fo=new Do,Uo=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return(0,f.Z)(this,n),(e=t.call(this)).isCatmullRomCurve3=!0,e.type="CatmullRomCurve3",e.points=r,e.closed=i,e.curveType=a,e.tension=o,e}return(0,m.Z)(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new bt,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e,s=Math.floor(o),u=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:0===u&&s===a-1&&(s=a-2,u=1),this.closed||s>0?t=i[(s-1)%a]:(Po.subVectors(i[0],i[1]).add(i[0]),t=Po);var l=i[s%a],c=i[(s+1)%a];if(this.closed||s+2<a?n=i[(s+2)%a]:(Po.subVectors(i[a-1],i[a-2]).add(i[a-1]),n=Po),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,d=Math.pow(t.distanceToSquared(l),h),g=Math.pow(l.distanceToSquared(c),h),p=Math.pow(c.distanceToSquared(n),h);g<1e-4&&(g=1),d<1e-4&&(d=g),p<1e-4&&(p=g),Oo.initNonuniformCatmullRom(t.x,l.x,c.x,n.x,d,g,p),No.initNonuniformCatmullRom(t.y,l.y,c.y,n.y,d,g,p),Fo.initNonuniformCatmullRom(t.z,l.z,c.z,n.z,d,g,p)}else"catmullrom"===this.curveType&&(Oo.initCatmullRom(t.x,l.x,c.x,n.x,this.tension),No.initCatmullRom(t.y,l.y,c.y,n.y,this.tension),Fo.initCatmullRom(t.z,l.z,c.z,n.z,this.tension));return r.set(Oo.calc(u),No.calc(u),Fo.calc(u)),r}},{key:"copy",value:function(e){(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=(0,s.Z)((0,u.Z)(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){(0,s.Z)((0,u.Z)(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new bt).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(Ro);function zo(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function jo(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Ho(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}var Go=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qe,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qe,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new qe,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new qe;return(0,f.Z)(this,n),(e=t.call(this)).isCubicBezierCurve=!0,e.type="CubicBezierCurve",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return(0,m.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qe,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(Ho(e,n.x,r.x,i.x,a.x),Ho(e,n.y,r.y,i.y,a.y)),t}},{key:"copy",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=(0,s.Z)((0,u.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(Ro),Vo=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bt,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new bt,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new bt,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new bt;return(0,f.Z)(this,n),(e=t.call(this)).isCubicBezierCurve3=!0,e.type="CubicBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return(0,m.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new bt,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(Ho(e,n.x,r.x,i.x,a.x),Ho(e,n.y,r.y,i.y,a.y),Ho(e,n.z,r.z,i.z,a.z)),t}},{key:"copy",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=(0,s.Z)((0,u.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(Ro),Qo=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qe,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qe;return(0,f.Z)(this,n),(e=t.call(this)).isLineCurve=!0,e.type="LineCurve",e.v1=r,e.v2=i,e}return(0,m.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qe;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qe).subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,s.Z)((0,u.Z)(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Ro),Wo=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bt,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new bt;return(0,f.Z)(this,n),(e=t.call(this)).isLineCurve3=!0,e.type="LineCurve3",e.v1=r,e.v2=i,e}return(0,m.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new bt;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new bt).subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,s.Z)((0,u.Z)(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Ro),qo=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qe,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qe,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new qe;return(0,f.Z)(this,n),(e=t.call(this)).isQuadraticBezierCurve=!0,e.type="QuadraticBezierCurve",e.v0=r,e.v1=i,e.v2=a,e}return(0,m.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qe,n=this.v0,r=this.v1,i=this.v2;return t.set(jo(e,n.x,r.x,i.x),jo(e,n.y,r.y,i.y)),t}},{key:"copy",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,s.Z)((0,u.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Ro),Ko=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bt,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new bt,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new bt;return(0,f.Z)(this,n),(e=t.call(this)).isQuadraticBezierCurve3=!0,e.type="QuadraticBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e}return(0,m.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new bt,n=this.v0,r=this.v1,i=this.v2;return t.set(jo(e,n.x,r.x,i.x),jo(e,n.y,r.y,i.y),jo(e,n.z,r.z,i.z)),t}},{key:"copy",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,s.Z)((0,u.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Ro),Xo=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,f.Z)(this,n),(e=t.call(this)).isSplineCurve=!0,e.type="SplineCurve",e.points=r,e}return(0,m.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qe,n=this.points,r=(n.length-1)*e,i=Math.floor(r),a=r-i,o=n[0===i?i:i-1],s=n[i],u=n[i>n.length-2?n.length-1:i+1],l=n[i>n.length-3?n.length-1:i+2];return t.set(zo(a,o.x,s.x,u.x,l.x),zo(a,o.y,s.y,u.y,l.y)),t}},{key:"copy",value:function(e){(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=(0,s.Z)((0,u.Z)(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e}},{key:"fromJSON",value:function(e){(0,s.Z)((0,u.Z)(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new qe).fromArray(i))}return this}}]),n}(Ro),Zo=Object.freeze({__proto__:null,ArcCurve:Bo,CatmullRomCurve3:Uo,CubicBezierCurve:Go,CubicBezierCurve3:Vo,EllipseCurve:Lo,LineCurve:Qo,LineCurve3:Wo,QuadraticBezierCurve:qo,QuadraticBezierCurve3:Ko,SplineCurve:Xo}),Yo=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;(0,f.Z)(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:r,radiusBottom:i,height:a,radialSegments:o,heightSegments:s,openEnded:u,thetaStart:l,thetaLength:h};var d=(0,c.Z)(e);o=Math.floor(o),s=Math.floor(s);var g=[],p=[],m=[],v=[],y=0,A=[],b=a/2,x=0;function w(e){for(var t=y,n=new qe,a=new bt,s=0,u=!0===e?r:i,c=!0===e?1:-1,f=1;f<=o;f++)p.push(0,b*c,0),m.push(0,c,0),v.push(.5,.5),y++;for(var A=y,w=0;w<=o;w++){var E=w/o*h+l,_=Math.cos(E),C=Math.sin(E);a.x=u*C,a.y=b*c,a.z=u*_,p.push(a.x,a.y,a.z),m.push(0,c,0),n.x=.5*_+.5,n.y=.5*C*c+.5,v.push(n.x,n.y),y++}for(var M=0;M<o;M++){var S=t+M,I=A+M;!0===e?g.push(I,I+1,S):g.push(I+1,I,S),s+=3}d.addGroup(x,s,!0===e?1:2),x+=s}return function(){for(var e=new bt,t=new bt,n=0,u=(i-r)/a,c=0;c<=s;c++){for(var f=[],w=c/s,E=w*(i-r)+r,_=0;_<=o;_++){var C=_/o,M=C*h+l,S=Math.sin(M),I=Math.cos(M);t.x=E*S,t.y=-w*a+b,t.z=E*I,p.push(t.x,t.y,t.z),e.set(S,u,I).normalize(),m.push(e.x,e.y,e.z),v.push(C,1-w),f.push(y++)}A.push(f)}for(var T=0;T<o;T++)for(var k=0;k<s;k++){var R=A[k][T],L=A[k+1][T],B=A[k+1][T+1],D=A[k][T+1];g.push(R,L,D),g.push(L,B,D),n+=6}d.addGroup(x,n,0),x+=n}(),!1===u&&(r>0&&w(!0),i>0&&w(!1)),e.setIndex(g),e.setAttribute("position",new Xn(p,3)),e.setAttribute("normal",new Xn(m,3)),e.setAttribute("uv",new Xn(v,2)),e}return(0,m.Z)(n,[{key:"copy",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(rr),Jo=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return(0,f.Z)(this,n),(e=t.call(this,0,r,i,a,o,s,u,l)).type="ConeGeometry",e.parameters={radius:r,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:u,thetaLength:l},e}return(0,m.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(Yo);var $o=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;(0,f.Z)(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:i,heightSegments:a,phiStart:o,phiLength:s,thetaStart:u,thetaLength:l},i=Math.max(3,Math.floor(i)),a=Math.max(2,Math.floor(a));for(var c=Math.min(u+l,Math.PI),h=0,d=[],g=new bt,p=new bt,m=[],v=[],y=[],A=[],b=0;b<=a;b++){var x=[],w=b/a,E=0;0===b&&0===u?E=.5/i:b===a&&c===Math.PI&&(E=-.5/i);for(var _=0;_<=i;_++){var C=_/i;g.x=-r*Math.cos(o+C*s)*Math.sin(u+w*l),g.y=r*Math.cos(u+w*l),g.z=r*Math.sin(o+C*s)*Math.sin(u+w*l),v.push(g.x,g.y,g.z),p.copy(g).normalize(),y.push(p.x,p.y,p.z),A.push(C+E,1-w),x.push(h++)}d.push(x)}for(var M=0;M<a;M++)for(var S=0;S<i;S++){var I=d[M][S+1],T=d[M][S],k=d[M+1][S],R=d[M+1][S+1];(0!==M||u>0)&&m.push(I,T,R),(M!==a-1||c<Math.PI)&&m.push(T,k,R)}return e.setIndex(m),e.setAttribute("position",new Xn(v,3)),e.setAttribute("normal",new Xn(y,3)),e.setAttribute("uv",new Xn(A,2)),e}return(0,m.Z)(n,[{key:"copy",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(rr),es=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ko(new bt(-1,-1,0),new bt(-1,1,0),new bt(1,1,0)),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,f.Z)(this,n),(e=t.call(this)).type="TubeGeometry",e.parameters={path:r,tubularSegments:i,radius:a,radialSegments:o,closed:s};var u=r.computeFrenetFrames(i,s);e.tangents=u.tangents,e.normals=u.normals,e.binormals=u.binormals;var l=new bt,c=new bt,h=new qe,d=new bt,g=[],p=[],m=[],v=[];function y(e){d=r.getPointAt(e/i,d);for(var t=u.normals[e],n=u.binormals[e],s=0;s<=o;s++){var h=s/o*Math.PI*2,f=Math.sin(h),m=-Math.cos(h);c.x=m*t.x+f*n.x,c.y=m*t.y+f*n.y,c.z=m*t.z+f*n.z,c.normalize(),p.push(c.x,c.y,c.z),l.x=d.x+a*c.x,l.y=d.y+a*c.y,l.z=d.z+a*c.z,g.push(l.x,l.y,l.z)}}return function(){for(var e=0;e<i;e++)y(e);y(!1===s?i:0),function(){for(var e=0;e<=i;e++)for(var t=0;t<=o;t++)h.x=e/i,h.y=t/o,m.push(h.x,h.y)}(),function(){for(var e=1;e<=i;e++)for(var t=1;t<=o;t++){var n=(o+1)*(e-1)+(t-1),r=(o+1)*e+(t-1),a=(o+1)*e+t,s=(o+1)*(e-1)+t;v.push(n,r,s),v.push(r,a,s)}}()}(),e.setIndex(v),e.setAttribute("position",new Xn(g,3)),e.setAttribute("normal",new Xn(p,3)),e.setAttribute("uv",new Xn(m,2)),e}return(0,m.Z)(n,[{key:"copy",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=(0,s.Z)((0,u.Z)(n.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}],[{key:"fromJSON",value:function(e){return new n((new Zo[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}]),n}(rr);var ts=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,f.Z)(this,n),(r=t.call(this)).isMeshLambertMaterial=!0,r.type="MeshLambertMaterial",r.color=new jn(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new jn(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new qe(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=S,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return(0,m.Z)(n,[{key:"copy",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(On);function ns(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function rs(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var is=function(){function e(t,n,r,i){(0,f.Z)(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return(0,m.Z)(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var u=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===u)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var l=n+a>>>1;e<t[l]?a=l:n=l+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}(),as=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e,r,i,a){var o;return(0,f.Z)(this,n),(o=t.call(this,e,r,i,a))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:ge,endingEnd:ge},o}return(0,m.Z)(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case pe:i=e,o=2*t-n;break;case fe:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case pe:a=e,s=2*n-t;break;case fe:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var u=.5*(n-t),l=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(s-n),this._offsetPrev=i*l,this._offsetNext=a*l}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,d=this._weightNext,g=(n-t)/(r-t),p=g*g,f=p*g,m=-h*f+2*h*p-h*g,v=(1+h)*f+(-1.5-2*h)*p+(-.5+h)*g+1,y=(-1-d)*f+(1.5+d)*p+.5*g,A=d*f-d*p,b=0;b!==o;++b)i[b]=m*a[l+b]+v*a[u+b]+y*a[s+b]+A*a[c+b];return i}}]),n}(is),os=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e,r,i,a){return(0,f.Z)(this,n),t.call(this,e,r,i,a)}return(0,m.Z)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=(n-t)/(r-t),c=1-l,h=0;h!==o;++h)i[h]=a[u+h]*c+a[s+h]*l;return i}}]),n}(is),ss=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e,r,i,a){return(0,f.Z)(this,n),t.call(this,e,r,i,a)}return(0,m.Z)(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(is),us=function(){function e(t,n,r,i){if((0,f.Z)(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=ns(n,this.TimeBufferType),this.values=ns(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return(0,m.Z)(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new ss(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new os(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new as(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case ce:t=this.InterpolantFactoryMethodDiscrete;break;case he:t=this.InterpolantFactoryMethodLinear;break;case de:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ce;case this.InterpolantFactoryMethodLinear:return he;case this.InterpolantFactoryMethodSmooth:return de}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=n.slice(i,a),this.values=this.values.slice(i*o,a*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&rs(r))for(var u=0,l=r.length;u!==l;++u){var c=r[u];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===de,i=e.length-1,a=1,o=1;o<i;++o){var s=!1,u=e[o];if(u!==e[o+1]&&(1!==o||u!==e[0]))if(r)s=!0;else for(var l=o*n,c=l-n,h=l+n,d=0;d!==n;++d){var g=t[l+d];if(g!==t[c+d]||g!==t[h+d]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var p=o*n,f=a*n,m=0;m!==n;++m)t[f+m]=t[p+m]}++a}}if(i>0){e[a]=e[i];for(var v=i*n,y=a*n,A=0;A!==n;++A)t[y+A]=t[v+A];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:ns(e.times,Array),values:ns(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();us.prototype.TimeBufferType=Float32Array,us.prototype.ValueBufferType=Float32Array,us.prototype.DefaultInterpolation=he;var ls=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,m.Z)(n)}(us);ls.prototype.ValueTypeName="bool",ls.prototype.ValueBufferType=Array,ls.prototype.DefaultInterpolation=ce,ls.prototype.InterpolantFactoryMethodLinear=void 0,ls.prototype.InterpolantFactoryMethodSmooth=void 0;var cs=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,m.Z)(n)}(us);cs.prototype.ValueTypeName="color";var hs=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,m.Z)(n)}(us);hs.prototype.ValueTypeName="number";var ds=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e,r,i,a){return(0,f.Z)(this,n),t.call(this,e,r,i,a)}return(0,m.Z)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),u=e*o,l=u+o;u!==l;u+=4)At.slerpFlat(i,0,a,u-o,a,u,s);return i}}]),n}(is),gs=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,m.Z)(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new ds(this.times,this.values,this.getValueSize(),e)}}]),n}(us);gs.prototype.ValueTypeName="quaternion",gs.prototype.DefaultInterpolation=he,gs.prototype.InterpolantFactoryMethodSmooth=void 0;var ps=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,m.Z)(n)}(us);ps.prototype.ValueTypeName="string",ps.prototype.ValueBufferType=Array,ps.prototype.DefaultInterpolation=ce,ps.prototype.InterpolantFactoryMethodLinear=void 0,ps.prototype.InterpolantFactoryMethodSmooth=void 0;var fs=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,m.Z)(n)}(us);fs.prototype.ValueTypeName="vector";var ms={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},vs=(0,m.Z)((function e(t,n,r){(0,f.Z)(this,e);var i=this,a=!1,o=0,s=0,u=void 0,l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return u?u(e):e},this.setURLModifier=function(e){return u=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){var t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=l.length;t<n;t+=2){var r=l[t],i=l[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}})),ys=new vs,As=function(){function e(t){(0,f.Z)(this,e),this.manager=void 0!==t?t:ys,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return(0,m.Z)(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}();As.DEFAULT_MATERIAL_NAME="__DEFAULT";var bs=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e){return(0,f.Z)(this,n),t.call(this,e)}return(0,m.Z)(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=ms.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=Ye("img");function s(){l(),ms.add(e,this),t&&t(this),i.manager.itemEnd(e)}function u(t){l(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function l(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}]),n}(As),xs=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e){return(0,f.Z)(this,n),t.call(this,e)}return(0,m.Z)(n,[{key:"load",value:function(e,t,n,r){var i=new gt,a=new bs(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(As),ws=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,f.Z)(this,n),(r=t.call(this)).isLight=!0,r.type="Light",r.color=new jn(e),r.intensity=i,r}return(0,m.Z)(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e,t){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e,t),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=(0,s.Z)((0,u.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(wn),Es=new Zt,_s=new bt,Cs=new bt,Ms=function(){function e(t){(0,f.Z)(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new qe(512,512),this.map=null,this.mapPass=null,this.matrix=new Zt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new jr,this._frameExtents=new qe(1,1),this._viewportCount=1,this._viewports=[new pt(0,0,1,1)]}return(0,m.Z)(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;_s.setFromMatrixPosition(e.matrixWorld),t.position.copy(_s),Cs.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Cs),t.updateMatrixWorld(),Es.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Es),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Es)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),Ss=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;return(0,f.Z)(this,n),(e=t.call(this,new ti(-5,5,5,-5,.5,500))).isDirectionalLightShadow=!0,e}return(0,m.Z)(n)}(Ms),Is=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e,r){var i;return(0,f.Z)(this,n),(i=t.call(this,e,r)).isDirectionalLight=!0,i.type="DirectionalLight",i.position.copy(wn.DEFAULT_UP),i.updateMatrix(),i.target=new wn,i.shadow=new Ss,i}return(0,m.Z)(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return(0,s.Z)((0,u.Z)(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(ws),Ts=function(e){(0,h.Z)(n,e);var t=(0,d.Z)(n);function n(e,r){var i;return(0,f.Z)(this,n),(i=t.call(this,e,r)).isAmbientLight=!0,i.type="AmbientLight",i}return(0,m.Z)(n)}(ws),ks=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,f.Z)(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return(0,m.Z)(e,[{key:"start",value:function(){this.startTime=Rs(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=Rs();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function Rs(){return("undefined"===typeof performance?Date:performance).now()}var Ls="\\[\\]\\.:\\/",Bs=new RegExp("["+Ls+"]","g"),Ds="[^"+Ls+"]",Ps="[^"+Ls.replace("\\.","")+"]",Os=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",Ds)+/(WCOD+)?/.source.replace("WCOD",Ps)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Ds)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Ds)+"$"),Ns=["material","materials","bones","map"],Fs=function(){function e(t,n,r){(0,f.Z)(this,e);var i=r||Us.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return(0,m.Z)(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),Us=function(){function e(t,n,r){(0,f.Z)(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return(0,m.Z)(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var u=t[i];if(void 0!==u){var l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=a}else void 0!==u.fromArray&&void 0!==u.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(c=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var h=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+i+" but it wasn't found.",t)}}else console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(Bs,"")}},{key:"parseTrackName",value:function(e){var t=Os.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==Ns.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}]),e}();Us.Composite=Fs,Us.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Us.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Us.prototype.GetterByBindingType=[Us.prototype._getValue_direct,Us.prototype._getValue_array,Us.prototype._getValue_arrayElement,Us.prototype._getValue_toArray],Us.prototype.SetterByBindingTypeAndVersioning=[[Us.prototype._setValue_direct,Us.prototype._setValue_direct_setNeedsUpdate,Us.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Us.prototype._setValue_array,Us.prototype._setValue_array_setNeedsUpdate,Us.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Us.prototype._setValue_arrayElement,Us.prototype._setValue_arrayElement_setNeedsUpdate,Us.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Us.prototype._setValue_fromArray,Us.prototype._setValue_fromArray_setNeedsUpdate,Us.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];new Float32Array(1);var zs=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;(0,f.Z)(this,e),this.ray=new Xt(t,n),this.near=r,this.far=i,this.camera=null,this.layers=new un,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return(0,m.Z)(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Hs(e,this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),t.sort(js),t}},{key:"intersectObjects",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,i=e.length;r<i;r++)Hs(e[r],this,n,t);return n.sort(js),n}}]),e}();function js(e,t){return e.distance-t.distance}function Hs(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,a=0,o=i.length;a<o;a++)Hs(i[a],t,n,!0)}var Gs=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,f.Z)(this,e),this.radius=t,this.phi=n,this.theta=r,this}return(0,m.Z)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Fe(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:v}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=v)},707:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return o}});var i=/^\s+/,a=/\s+$/;function o(e,t){if(t=t||{},(e=e||"")instanceof o)return e;if(!(this instanceof o))return new o(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,o=null,s=null,u=null,l=!1,c=!1;"string"==typeof e&&(e=function(e){e=e.replace(i,"").replace(a,"").toLowerCase();var t,n=!1;if(E[e])e=E[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=B.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=B.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=B.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=B.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=B.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=B.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=B.hex8.exec(e))return{r:I(t[1]),g:I(t[2]),b:I(t[3]),a:L(t[4]),format:n?"name":"hex8"};if(t=B.hex6.exec(e))return{r:I(t[1]),g:I(t[2]),b:I(t[3]),format:n?"name":"hex"};if(t=B.hex4.exec(e))return{r:I(t[1]+""+t[1]),g:I(t[2]+""+t[2]),b:I(t[3]+""+t[3]),a:L(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=B.hex3.exec(e))return{r:I(t[1]+""+t[1]),g:I(t[2]+""+t[2]),b:I(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==r(e)&&(D(e.r)&&D(e.g)&&D(e.b)?(h=e.r,d=e.g,g=e.b,t={r:255*M(h,255),g:255*M(d,255),b:255*M(g,255)},l=!0,c="%"===String(e.r).substr(-1)?"prgb":"rgb"):D(e.h)&&D(e.s)&&D(e.v)?(o=k(e.s),s=k(e.v),t=function(e,t,n){e=6*M(e,360),t=M(t,100),n=M(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),s=n*(1-(1-i)*t),u=r%6,l=[n,o,a,a,s,n][u],c=[s,n,n,o,a,a][u],h=[a,a,s,n,n,o][u];return{r:255*l,g:255*c,b:255*h}}(e.h,o,s),l=!0,c="hsv"):D(e.h)&&D(e.s)&&D(e.l)&&(o=k(e.s),u=k(e.l),t=function(e,t,n){var r,i,a;function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=M(e,360),t=M(t,100),n=M(n,100),0===t)r=i=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=o(u,s,e+1/3),i=o(u,s,e),a=o(u,s,e-1/3)}return{r:255*r,g:255*i,b:255*a}}(e.h,o,u),l=!0,c="hsl"),e.hasOwnProperty("a")&&(n=e.a));var h,d,g;return n=C(n),{ok:l,format:e.format||c,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function s(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var r,i,a=Math.max(e,t,n),o=Math.min(e,t,n),s=(a+o)/2;if(a==o)r=i=0;else{var u=a-o;switch(i=s>.5?u/(2-a-o):u/(a+o),a){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,l:s}}function u(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var r,i,a=Math.max(e,t,n),o=Math.min(e,t,n),s=a,u=a-o;if(i=0===a?0:u/a,a==o)r=0;else{switch(a){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,v:s}}function l(e,t,n,r){var i=[T(Math.round(e).toString(16)),T(Math.round(t).toString(16)),T(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function c(e,t,n,r){return[T(R(r)),T(Math.round(e).toString(16)),T(Math.round(t).toString(16)),T(Math.round(n).toString(16))].join("")}function h(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s-=t/100,n.s=S(n.s),o(n)}function d(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s+=t/100,n.s=S(n.s),o(n)}function g(e){return o(e).desaturate(100)}function p(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l+=t/100,n.l=S(n.l),o(n)}function f(e,t){t=0===t?0:t||10;var n=o(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),o(n)}function m(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l-=t/100,n.l=S(n.l),o(n)}function v(e,t){var n=o(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,o(n)}function y(e){var t=o(e).toHsl();return t.h=(t.h+180)%360,o(t)}function A(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=o(e).toHsl(),r=[o(e)],i=360/t,a=1;a<t;a++)r.push(o({h:(n.h+a*i)%360,s:n.s,l:n.l}));return r}function b(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+72)%360,s:t.s,l:t.l}),o({h:(n+216)%360,s:t.s,l:t.l})]}function x(e,t,n){t=t||6,n=n||30;var r=o(e).toHsl(),i=360/n,a=[o(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(o(r));return a}function w(e,t){t=t||6;for(var n=o(e).toHsv(),r=n.h,i=n.s,a=n.v,s=[],u=1/t;t--;)s.push(o({h:r,s:i,v:a})),a=(a+u)%1;return s}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=C(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=u(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=u(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=s(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=s(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return l(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var a=[T(Math.round(e).toString(16)),T(Math.round(t).toString(16)),T(Math.round(n).toString(16)),T(R(r))];if(i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1))return a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0);return a.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*M(this._r,255))+"%",g:Math.round(100*M(this._g,255))+"%",b:Math.round(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*M(this._r,255))+"%, "+Math.round(100*M(this._g,255))+"%, "+Math.round(100*M(this._b,255))+"%)":"rgba("+Math.round(100*M(this._r,255))+"%, "+Math.round(100*M(this._g,255))+"%, "+Math.round(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(_[l(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+c(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=o(e);n="#"+c(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return o(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(p,arguments)},brighten:function(){return this._applyModification(f,arguments)},darken:function(){return this._applyModification(m,arguments)},desaturate:function(){return this._applyModification(h,arguments)},saturate:function(){return this._applyModification(d,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(v,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(x,arguments)},complement:function(){return this._applyCombination(y,arguments)},monochromatic:function(){return this._applyCombination(w,arguments)},splitcomplement:function(){return this._applyCombination(b,arguments)},triad:function(){return this._applyCombination(A,[3])},tetrad:function(){return this._applyCombination(A,[4])}},o.fromRatio=function(e,t){if("object"==r(e)){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]="a"===i?e[i]:k(e[i]));e=n}return o(e,t)},o.equals=function(e,t){return!(!e||!t)&&o(e).toRgbString()==o(t).toRgbString()},o.random=function(){return o.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},o.mix=function(e,t,n){n=0===n?0:n||50;var r=o(e).toRgb(),i=o(t).toRgb(),a=n/100;return o({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},o.readability=function(e,t){var n=o(e),r=o(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},o.isReadable=function(e,t,n){var r,i,a=o.readability(e,t);switch(i=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},o.mostReadable=function(e,t,n){var r,i,a,s,u=null,l=0;i=(n=n||{}).includeFallbackColors,a=n.level,s=n.size;for(var c=0;c<t.length;c++)(r=o.readability(e,t[c]))>l&&(l=r,u=o(t[c]));return o.isReadable(e,u,{level:a,size:s})||!i?u:(n.includeFallbackColors=!1,o.mostReadable(e,["#fff","#000"],n))};var E=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},_=o.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(E);function C(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function M(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function S(e){return Math.min(1,Math.max(0,e))}function I(e){return parseInt(e,16)}function T(e){return 1==e.length?"0"+e:""+e}function k(e){return e<=1&&(e=100*e+"%"),e}function R(e){return Math.round(255*parseFloat(e)).toString(16)}function L(e){return I(e)/255}var B=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function D(e){return!!B.CSS_UNIT.exec(e)}}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var a=n[t]={exports:{}};return e[t](a,a.exports,r),a.exports}r.m=e,r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){return r.f[n](e,t),t}),[]))},r.u=function(e){return"static/js/"+e+".c1112931.chunk.js"},r.miniCssF=function(e){},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="app:";r.l=function(n,i,a,o){if(e[n])e[n].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var h=l[c];if(h.getAttribute("src")==n||h.getAttribute("data-webpack")==t+a){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+a),s.src=n),e[n]=[i];var d=function(t,r){s.onerror=s.onload=null,clearTimeout(g);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(r)})),t)return t(r)},g=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/embedding-modifier/",function(){var e={179:0};r.f.j=function(t,n){var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));n.push(i[2]=a);var o=r.p+r.u(t),s=new Error;r.l(o,(function(n){if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,n){var i,a,o=n[0],s=n[1],u=n[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(u)u(r)}for(t&&t(n);l<o.length;l++)a=o[l],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkapp=self.webpackChunkapp||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){"use strict";var e=r(2791),n=r(1250),i=r(885);r.p;var a=r(4942),o=r(2982);function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=r(1189);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(t,n){var r="object"===g(n)?n:{wrapperElementType:n,methodNames:(arguments.length<=2?void 0:arguments[2])||void 0,initPropNames:(arguments.length<=3?void 0:arguments[3])||void 0},i=r.wrapperElementType,a=void 0===i?"div":i,o=r.nodeMapper,c=void 0===o?function(e){return e}:o,h=r.methodNames,m=void 0===h?[]:h,v=r.initPropNames,y=void 0===v?[]:v;return(0,e.forwardRef)((function(n,r){var i=(0,e.useRef)(),o=p((0,e.useState)({}),2),h=o[0],g=o[1];(0,e.useEffect)((function(){return g(n)}));var v=(0,e.useMemo)((function(){var e=d(y.filter((function(e){return n.hasOwnProperty(e)})).map((function(e){return[e,n[e]]})));return t(e)}),[]);A((function(){v(c(i.current))}),e.useLayoutEffect),A((function(){return v._destructor instanceof Function?v._destructor:void 0}));var b=(0,e.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return v[e]instanceof Function?v[e].apply(v,n):void 0}),[v]),x=function(e,t){var n=new Set(t);return Object.assign.apply(Object,[{}].concat(l(Object.entries(e).filter((function(e){var t=u(e,1)[0];return!n.has(t)})).map((function(e){var t=u(e,2);return s({},t[0],t[1])})))))}(n,[].concat(f(m),f(y)));return Object.keys(x).filter((function(e){return h[e]!==n[e]})).forEach((function(e){return b(e,n[e])})),(0,e.useImperativeHandle)(r,(function(){return d(m.map((function(e){return[e,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b.apply(void 0,[e].concat(n))}]})))})),e.createElement(a,{ref:i})}))}function A(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.useEffect,r=(0,e.useRef)(),i=(0,e.useRef)(!1),a=(0,e.useRef)(!1),o=p((0,e.useState)(0),2);o[0];var s=o[1];i.current&&(a.current=!0),n((function(){return i.current||(r.current=t(),i.current=!0),s((function(e){return e+1})),function(){a.current&&r.current&&r.current()}}),[])}r(3344),r(8649),r(1201);var b=r(4467),x=r(5233);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}var E=r(7326),_=r(9611);var C=r(8737);var M=function(e){var t,n;function r(t){var n;return n=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+t+" for more information.")||this,(0,E.Z)(n)}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,(0,_.Z)(t,n),r}((0,C.Z)(Error));function S(e){return Math.round(255*e)}function I(e,t,n){return S(e)+","+S(t)+","+S(n)}function T(e,t,n,r){if(void 0===r&&(r=I),0===t)return r(n,n,n);var i=(e%360+360)%360/60,a=(1-Math.abs(2*n-1))*t,o=a*(1-Math.abs(i%2-1)),s=0,u=0,l=0;i>=0&&i<1?(s=a,u=o):i>=1&&i<2?(s=o,u=a):i>=2&&i<3?(u=a,l=o):i>=3&&i<4?(u=o,l=a):i>=4&&i<5?(s=o,l=a):i>=5&&i<6&&(s=a,l=o);var c=n-a/2;return r(s+c,u+c,l+c)}var k={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var R=/^#[a-fA-F0-9]{6}$/,L=/^#[a-fA-F0-9]{8}$/,B=/^#[a-fA-F0-9]{3}$/,D=/^#[a-fA-F0-9]{4}$/,P=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,O=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,N=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,F=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function U(e){if("string"!==typeof e)throw new M(3);var t=function(e){if("string"!==typeof e)return e;var t=e.toLowerCase();return k[t]?"#"+k[t]:e}(e);if(t.match(R))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(L)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(B))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(D)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var i=P.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var a=O.exec(t.substring(0,50));if(a)return{red:parseInt(""+a[1],10),green:parseInt(""+a[2],10),blue:parseInt(""+a[3],10),alpha:parseFloat(""+a[4])>1?parseFloat(""+a[4])/100:parseFloat(""+a[4])};var o=N.exec(t);if(o){var s="rgb("+T(parseInt(""+o[1],10),parseInt(""+o[2],10)/100,parseInt(""+o[3],10)/100)+")",u=P.exec(s);if(!u)throw new M(4,t,s);return{red:parseInt(""+u[1],10),green:parseInt(""+u[2],10),blue:parseInt(""+u[3],10)}}var l=F.exec(t.substring(0,50));if(l){var c="rgb("+T(parseInt(""+l[1],10),parseInt(""+l[2],10)/100,parseInt(""+l[3],10)/100)+")",h=P.exec(c);if(!h)throw new M(4,t,c);return{red:parseInt(""+h[1],10),green:parseInt(""+h[2],10),blue:parseInt(""+h[3],10),alpha:parseFloat(""+l[4])>1?parseFloat(""+l[4])/100:parseFloat(""+l[4])}}throw new M(5)}var z=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function j(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function H(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return z("#"+j(e)+j(t)+j(n));if("object"===typeof e&&void 0===t&&void 0===n)return z("#"+j(e.red)+j(e.green)+j(e.blue));throw new M(6)}function G(e,t,n,r){if("string"===typeof e&&"number"===typeof t){var i=U(e);return"rgba("+i.red+","+i.green+","+i.blue+","+t+")"}if("number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r)return r>=1?H(e,t,n):"rgba("+e+","+t+","+n+","+r+")";if("object"===typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?H(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new M(7)}function V(e,t,n){return function(){var r=n.concat(Array.prototype.slice.call(arguments));return r.length>=t?e.apply(this,r):V(e,t,r)}}function Q(e){return V(e,e.length,[])}function W(e,t,n){return Math.max(e,Math.min(t,n))}function q(e,t){if("transparent"===t)return t;var n=U(t);return G(w({},n,{alpha:W(0,1,(100*("number"===typeof n.alpha?n.alpha:1)+100*parseFloat(e))/100)}))}var K=Q(q);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||ee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){if(e){if("string"===typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".graph-nav-info {\n  position: absolute;\n  bottom: 5px;\n  width: 100%;\n  text-align: center;\n  color: slategrey;\n  opacity: 0.7;\n  font-size: 10px;\n  font-family: Sans-serif;\n  z-index: 1000;\n}"),THREE&&THREE.MathUtils&&THREE.MathUtils.degToRad&&(THREE.Math={degToRad:THREE.MathUtils.degToRad});var ne=(0,b.Z)({props:{width:{default:window.innerWidth,triggerUpdate:!1,onChange:function(e,t){t.container&&(t.container.style.width="".concat(e,"px"))}},height:{default:window.innerHeight,triggerUpdate:!1,onChange:function(e,t){t.container&&(t.container.style.height="".concat(e,"px"))}},jsonUrl:{},graphData:{default:{nodes:[],links:[]}},numDimensions:{default:3},dagMode:{},dagLevelDistance:{},dagNodeFilter:{default:function(){return!0}},onDagError:{default:void 0},backgroundColor:{default:"#002"},showNavInfo:{default:!0},nodeRelSize:{default:4},nodeId:{default:"id"},nodeLabel:{default:"name"},nodeDesc:{default:"desc"},onNodeHover:{},onNodeClick:{},nodeVal:{default:"val"},nodeResolution:{default:8},nodeVisibility:{default:!0},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkLabel:{default:"name"},linkDesc:{default:"desc"},onLinkHover:{},onLinkClick:{},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{default:0},linkResolution:{default:6},linkCurvature:{default:0},linkCurveRotation:{default:0},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228},d3VelocityDecay:{default:.4},ngraphPhysics:{},warmupTicks:{default:0},cooldownTicks:{},cooldownTime:{default:15e3},onEngineTick:{},onEngineStop:{}},methods:Z(Z({},Object.assign.apply(Object,[{}].concat($(["getGraphBbox","emitParticle","d3Force","d3ReheatSimulation","refresh"].map((function(e){return Y({},e,(function(t){for(var n=t.forcegraph.components.forcegraph,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var o=n[e].apply(n,i);return o===n?this:o}))})))))),{},{_destructor:function(){this.graphData({nodes:[],links:[]})}}),init:function(e,t){e.innerHTML="",t.container=document.createElement("div"),e.appendChild(t.container),t.container.style.position="relative",t.container.style.width="".concat(t.width,"px"),t.container.style.height="".concat(t.height,"px"),t.container.appendChild(t.navInfo=document.createElement("div")),t.navInfo.className="graph-nav-info",t.navInfo.textContent="Mouse drag: look, gamepad/arrow/wasd keys: move";var n,r,i,a,o,s=document.createElement("a-scene");s.setAttribute("embedded",""),s.appendChild(t.sky=document.createElement("a-sky")),t.sky.setAttribute("radius",3e3),s.appendChild(n=document.createElement("a-entity")),n.setAttribute("position","0 0 300"),n.setAttribute("movement-controls","controls: gamepad; fly: true; speed: 7"),n.appendChild(r=document.createElement("a-entity")),r.setAttribute("camera",""),r.setAttribute("position","0 0 0"),r.setAttribute("look-controls","pointerLockEnabled: false"),r.setAttribute("wasd-controls","fly: true; acceleration: 700"),r.appendChild(i=document.createElement("a-text")),i.setAttribute("position","0 -0.3 -1"),i.setAttribute("width",2),i.setAttribute("align","center"),i.setAttribute("color","lavender"),i.setAttribute("value",""),r.appendChild(a=document.createElement("a-text")),a.setAttribute("position","0 -0.4 -1"),a.setAttribute("width",1.3),a.setAttribute("align","center"),a.setAttribute("color","lavender"),a.setAttribute("value",""),t.raycasterEls=[],s.appendChild(o=document.createElement("a-entity")),o.setAttribute("cursor","rayOrigin: mouse; mouseCursorStylesEnabled: true"),o.setAttribute("raycaster","objects: [forcegraph]; interval: 100"),t.raycasterEls.push(o),["left","right"].forEach((function(e){var r;n.appendChild(r=document.createElement("a-entity")),r.setAttribute("laser-controls","hand: ".concat(e,"; model: false;")),r.setAttribute("raycaster","objects: [forcegraph]; interval: 100; lineColor: steelblue; lineOpacity: 0.85"),t.raycasterEls.push(r)})),s.appendChild(t.forcegraph=document.createElement("a-entity")),t.forcegraph.setAttribute("forcegraph",null),t.container.appendChild(s),t.forcegraph.setAttribute("forcegraph",Object.assign.apply(Object,$(["node","link"].map((function(e){var n={node:"Node",link:"Link"}[e];return Y({},"on".concat(n,"Hover"),(function(r,o){var s=r&&(0,x.default)(t["".concat(e,"Label")])(r)||"",u=r&&(0,x.default)(t["".concat(e,"Desc")])(r)||"";i.setAttribute("value",s),a.setAttribute("value",u),t["on".concat(n,"Hover")]&&t["on".concat(n,"Hover")](r,o)}))})))))},update:function(e,t){if(t.hasOwnProperty("backgroundColor")){var n=U(e.backgroundColor).alpha;void 0===n&&(n=1),e.sky.setAttribute("color",K(1,e.backgroundColor)),e.sky.setAttribute("opacity",n)}t.hasOwnProperty("showNavInfo")&&(e.navInfo.style.display=e.showNavInfo?null:"none");var r=["onNodeHover","onLinkHover","onNodeClick","onLinkClick"].some((function(t){return e[t]}))||["nodeLabel","linkLabel"].some((function(t){return"name"!==e[t]}))||["nodeDesc","linkDesc"].some((function(t){return"desc"!==e[t]}));e.raycasterEls.forEach((function(e){return e.setAttribute("raycaster",r?"objects: [forcegraph]; interval: 100":"objects: __none__")}));var i=["jsonUrl","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","onNodeClick","nodeVal","nodeResolution","nodeVisibility","nodeColor","nodeAutoColorBy","nodeOpacity","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","onLinkClick","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"],a=Object.assign.apply(Object,[{}].concat($(Object.entries(e).filter((function(e){var n=J(e,2),r=n[0],a=n[1];return t.hasOwnProperty(r)&&-1!==i.indexOf(r)&&void 0!==a&&null!==a})).map((function(e){var t=J(e,2);return Y({},t[0],t[1])}))),$(Object.entries(e.graphData).map((function(e){var t=J(e,2);return Y({},t[0],t[1])})))));e.forcegraph.setAttribute("forcegraph",a)}}),re=r(2007);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){if(e){if("string"===typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(e,t):void 0}}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var he=(0,b.Z)({props:{width:{},height:{},yOffset:{default:1.5},glScale:{default:200},jsonUrl:{},graphData:{default:{nodes:[],links:[]}},numDimensions:{default:3},dagMode:{},dagLevelDistance:{},dagNodeFilter:{default:function(){return!0}},onDagError:{default:void 0},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeVisibility:{default:!0},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{default:0},linkResolution:{default:6},linkCurvature:{default:0},linkCurveRotation:{default:0},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},onNodeHover:{},onNodeClick:{},onLinkHover:{},onLinkClick:{},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228},d3VelocityDecay:{default:.4},ngraphPhysics:{},warmupTicks:{default:0},cooldownTicks:{},cooldownTime:{default:15e3},onEngineTick:{},onEngineStop:{}},methods:ae(ae({},Object.assign.apply(Object,[{}].concat(ue(["getGraphBbox","emitParticle","d3Force","d3ReheatSimulation","refresh"].map((function(e){return oe({},e,(function(t){for(var n=t.forcegraph.components.forcegraph,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var o=n[e].apply(n,i);return o===n?this:o}))})))))),{},{_destructor:function(){this.graphData({nodes:[],links:[]})}}),init:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).markerAttrs,r=void 0===n?{preset:"hiro"}:n;e.innerHTML="",t.container=document.createElement("div"),e.appendChild(t.container);var i=document.createElement("a-scene");i.setAttribute("embedded",""),i.setAttribute("arjs","debugUIEnabled: false;");var a,o=document.createElement("a-marker");Object.entries(r).forEach((function(e){var t=se(e,2),n=t[0],r=t[1];return o.setAttribute(n,r)})),i.appendChild(o),i.appendChild(a=document.createElement("a-entity")),a.setAttribute("cursor"),a.setAttribute("raycaster","objects: [forcegraph]"),t.forcegraph=document.createElement("a-entity"),t.forcegraph.setAttribute("forcegraph",null),o.appendChild(t.forcegraph);var s=document.createElement("a-entity");s.setAttribute("camera",""),i.appendChild(s),t.container.appendChild(i)},update:function(e,t){t.hasOwnProperty("width")&&e.width&&(e.container.style.width="".concat(e.width,"px")),t.hasOwnProperty("height")&&e.height&&(e.container.style.height="".concat(e.height,"px")),t.hasOwnProperty("glScale")&&e.forcegraph.setAttribute("scale",ue(new Array(3)).map((function(){return 1/e.glScale})).join(" ")),t.hasOwnProperty("yOffset")&&e.forcegraph.setAttribute("position","0 ".concat(e.yOffset," 0"));var n=["jsonUrl","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","nodeVal","nodeResolution","nodeVisibility","nodeColor","nodeAutoColorBy","nodeOpacity","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","onNodeHover","onNodeClick","onLinkHover","onLinkClick","forceEngine","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"],r=Object.assign.apply(Object,[{}].concat(ue(Object.entries(e).filter((function(e){var r=se(e,2),i=r[0],a=r[1];return t.hasOwnProperty(i)&&-1!==n.indexOf(i)&&void 0!==a&&null!==a})).map((function(e){var t=se(e,2);return oe({},t[0],t[1])}))),ue(Object.entries(e.graphData).map((function(e){var t=se(e,2);return oe({},t[0],t[1])})))));e.forcegraph.setAttribute("forcegraph",r)}}),de=r(323),ge=r(3144),pe=r(5671),fe=r(136),me=r(7277),ve=new de.JOQ,ye=new de.iMs,Ae=new de.FM8,be=new de.Pa4,xe=new de.Pa4,we=new de.Pa4,Ee=new de.yGw,_e=function(e){(0,fe.Z)(n,e);var t=(0,me.Z)(n);function n(e,r,i){var a;(0,pe.Z)(this,n),a=t.call(this),i.style.touchAction="none";var o=null,s=null,u=[],l=(0,E.Z)(a);function c(){i.addEventListener("pointermove",d),i.addEventListener("pointerdown",g),i.addEventListener("pointerup",p),i.addEventListener("pointerleave",p)}function h(){i.removeEventListener("pointermove",d),i.removeEventListener("pointerdown",g),i.removeEventListener("pointerup",p),i.removeEventListener("pointerleave",p),i.style.cursor=""}function d(t){if(!1!==l.enabled){if(f(t),ye.setFromCamera(Ae,r),o)return ye.ray.intersectPlane(ve,xe)&&o.position.copy(xe.sub(be).applyMatrix4(Ee)),void l.dispatchEvent({type:"drag",object:o});if("mouse"===t.pointerType||"pen"===t.pointerType)if(u.length=0,ye.setFromCamera(Ae,r),ye.intersectObjects(e,l.recursive,u),u.length>0){var n=u[0].object;ve.setFromNormalAndCoplanarPoint(r.getWorldDirection(ve.normal),we.setFromMatrixPosition(n.matrixWorld)),s!==n&&null!==s&&(l.dispatchEvent({type:"hoveroff",object:s}),i.style.cursor="auto",s=null),s!==n&&(l.dispatchEvent({type:"hoveron",object:n}),i.style.cursor="pointer",s=n)}else null!==s&&(l.dispatchEvent({type:"hoveroff",object:s}),i.style.cursor="auto",s=null)}}function g(t){!1!==l.enabled&&(f(t),u.length=0,ye.setFromCamera(Ae,r),ye.intersectObjects(e,l.recursive,u),u.length>0&&(o=!0===l.transformGroup?e[0]:u[0].object,ve.setFromNormalAndCoplanarPoint(r.getWorldDirection(ve.normal),we.setFromMatrixPosition(o.matrixWorld)),ye.ray.intersectPlane(ve,xe)&&(Ee.copy(o.parent.matrixWorld).invert(),be.copy(xe).sub(we.setFromMatrixPosition(o.matrixWorld))),i.style.cursor="move",l.dispatchEvent({type:"dragstart",object:o})))}function p(){!1!==l.enabled&&(o&&(l.dispatchEvent({type:"dragend",object:o}),o=null),i.style.cursor=s?"pointer":"auto")}function f(e){var t=i.getBoundingClientRect();Ae.x=(e.clientX-t.left)/t.width*2-1,Ae.y=-(e.clientY-t.top)/t.height*2+1}return c(),a.enabled=!0,a.recursive=!0,a.transformGroup=!1,a.activate=c,a.deactivate=h,a.dispose=function(){h()},a.getObjects=function(){return e},a.getRaycaster=function(){return ye},a}return(0,ge.Z)(n)}(de.pBf),Ce=r(94),Me={type:"change"},Se={type:"start"},Ie={type:"end"},Te=function(e){(0,fe.Z)(n,e);var t=(0,me.Z)(n);function n(e,r){var i;(0,pe.Z)(this,n),i=t.call(this);var a=(0,E.Z)(i),o={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};i.object=e,i.domElement=r,i.domElement.style.touchAction="none",i.enabled=!0,i.screen={left:0,top:0,width:0,height:0},i.rotateSpeed=1,i.zoomSpeed=1.2,i.panSpeed=.3,i.noRotate=!1,i.noZoom=!1,i.noPan=!1,i.staticMoving=!1,i.dynamicDampingFactor=.2,i.minDistance=0,i.maxDistance=1/0,i.minZoom=0,i.maxZoom=1/0,i.keys=["KeyA","KeyS","KeyD"],i.mouseButtons={LEFT:de.RsA.ROTATE,MIDDLE:de.RsA.DOLLY,RIGHT:de.RsA.PAN},i.target=new de.Pa4;var s=1e-6,u=new de.Pa4,l=1,c=o.NONE,h=o.NONE,d=0,g=0,p=0,f=new de.Pa4,m=new de.FM8,v=new de.FM8,y=new de.Pa4,A=new de.FM8,b=new de.FM8,x=new de.FM8,w=new de.FM8,_=[],C={};i.target0=i.target.clone(),i.position0=i.object.position.clone(),i.up0=i.object.up.clone(),i.zoom0=i.object.zoom,i.handleResize=function(){var e=a.domElement.getBoundingClientRect(),t=a.domElement.ownerDocument.documentElement;a.screen.left=e.left+window.pageXOffset-t.clientLeft,a.screen.top=e.top+window.pageYOffset-t.clientTop,a.screen.width=e.width,a.screen.height=e.height};var M=function(){var e=new de.FM8;return function(t,n){return e.set((t-a.screen.left)/a.screen.width,(n-a.screen.top)/a.screen.height),e}}(),S=function(){var e=new de.FM8;return function(t,n){return e.set((t-.5*a.screen.width-a.screen.left)/(.5*a.screen.width),(a.screen.height+2*(a.screen.top-n))/a.screen.width),e}}();function I(e){!1!==a.enabled&&(0===_.length&&(a.domElement.setPointerCapture(e.pointerId),a.domElement.addEventListener("pointermove",T),a.domElement.addEventListener("pointerup",k)),function(e){_.push(e)}(e),"touch"===e.pointerType?function(e){if(1===(N(e),_.length))c=o.TOUCH_ROTATE,v.copy(S(_[0].pageX,_[0].pageY)),m.copy(v);else{c=o.TOUCH_ZOOM_PAN;var t=_[0].pageX-_[1].pageX,n=_[0].pageY-_[1].pageY;g=d=Math.sqrt(t*t+n*n);var r=(_[0].pageX+_[1].pageX)/2,i=(_[0].pageY+_[1].pageY)/2;x.copy(M(r,i)),w.copy(x)}a.dispatchEvent(Se)}(e):function(e){if(c===o.NONE)switch(e.button){case a.mouseButtons.LEFT:c=o.ROTATE;break;case a.mouseButtons.MIDDLE:c=o.ZOOM;break;case a.mouseButtons.RIGHT:c=o.PAN}var t=h!==o.NONE?h:c;t!==o.ROTATE||a.noRotate?t!==o.ZOOM||a.noZoom?t!==o.PAN||a.noPan||(x.copy(M(e.pageX,e.pageY)),w.copy(x)):(A.copy(M(e.pageX,e.pageY)),b.copy(A)):(v.copy(S(e.pageX,e.pageY)),m.copy(v));a.dispatchEvent(Se)}(e))}function T(e){!1!==a.enabled&&("touch"===e.pointerType?function(e){if(1===(N(e),_.length))m.copy(v),v.copy(S(e.pageX,e.pageY));else{var t=function(e){var t=e.pointerId===_[0].pointerId?_[1]:_[0];return C[t.pointerId]}(e),n=e.pageX-t.x,r=e.pageY-t.y;g=Math.sqrt(n*n+r*r);var i=(e.pageX+t.x)/2,a=(e.pageY+t.y)/2;w.copy(M(i,a))}}(e):function(e){var t=h!==o.NONE?h:c;t!==o.ROTATE||a.noRotate?t!==o.ZOOM||a.noZoom?t!==o.PAN||a.noPan||w.copy(M(e.pageX,e.pageY)):b.copy(M(e.pageX,e.pageY)):(m.copy(v),v.copy(S(e.pageX,e.pageY)))}(e))}function k(e){!1!==a.enabled&&("touch"===e.pointerType?function(e){switch(_.length){case 0:c=o.NONE;break;case 1:c=o.TOUCH_ROTATE,v.copy(S(e.pageX,e.pageY)),m.copy(v);break;case 2:c=o.TOUCH_ZOOM_PAN;for(var t=0;t<_.length;t++)if(_[t].pointerId!==e.pointerId){var n=C[_[t].pointerId];v.copy(S(n.x,n.y)),m.copy(v);break}}a.dispatchEvent(Ie)}(e):(c=o.NONE,a.dispatchEvent(Ie)),O(e),0===_.length&&(a.domElement.releasePointerCapture(e.pointerId),a.domElement.removeEventListener("pointermove",T),a.domElement.removeEventListener("pointerup",k)))}function R(e){O(e)}function L(e){!1!==a.enabled&&(window.removeEventListener("keydown",L),h===o.NONE&&(e.code!==a.keys[o.ROTATE]||a.noRotate?e.code!==a.keys[o.ZOOM]||a.noZoom?e.code!==a.keys[o.PAN]||a.noPan||(h=o.PAN):h=o.ZOOM:h=o.ROTATE))}function B(){!1!==a.enabled&&(h=o.NONE,window.addEventListener("keydown",L))}function D(e){if(!1!==a.enabled&&!0!==a.noZoom){switch(e.preventDefault(),e.deltaMode){case 2:A.y-=.025*e.deltaY;break;case 1:A.y-=.01*e.deltaY;break;default:A.y-=25e-5*e.deltaY}a.dispatchEvent(Se),a.dispatchEvent(Ie)}}function P(e){!1!==a.enabled&&e.preventDefault()}function O(e){delete C[e.pointerId];for(var t=0;t<_.length;t++)if(_[t].pointerId==e.pointerId)return void _.splice(t,1)}function N(e){var t=C[e.pointerId];void 0===t&&(t=new de.FM8,C[e.pointerId]=t),t.set(e.pageX,e.pageY)}return i.rotateCamera=function(){var e=new de.Pa4,t=new de._fP,n=new de.Pa4,r=new de.Pa4,i=new de.Pa4,o=new de.Pa4;return function(){o.set(v.x-m.x,v.y-m.y,0);var s=o.length();s?(f.copy(a.object.position).sub(a.target),n.copy(f).normalize(),r.copy(a.object.up).normalize(),i.crossVectors(r,n).normalize(),r.setLength(v.y-m.y),i.setLength(v.x-m.x),o.copy(r.add(i)),e.crossVectors(o,f).normalize(),s*=a.rotateSpeed,t.setFromAxisAngle(e,s),f.applyQuaternion(t),a.object.up.applyQuaternion(t),y.copy(e),p=s):!a.staticMoving&&p&&(p*=Math.sqrt(1-a.dynamicDampingFactor),f.copy(a.object.position).sub(a.target),t.setFromAxisAngle(y,p),f.applyQuaternion(t),a.object.up.applyQuaternion(t)),m.copy(v)}}(),i.zoomCamera=function(){var e;c===o.TOUCH_ZOOM_PAN?(e=d/g,d=g,a.object.isPerspectiveCamera?f.multiplyScalar(e):a.object.isOrthographicCamera?(a.object.zoom=de.M8C.clamp(a.object.zoom/e,a.minZoom,a.maxZoom),l!==a.object.zoom&&a.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(1!==(e=1+(b.y-A.y)*a.zoomSpeed)&&e>0&&(a.object.isPerspectiveCamera?f.multiplyScalar(e):a.object.isOrthographicCamera?(a.object.zoom=de.M8C.clamp(a.object.zoom/e,a.minZoom,a.maxZoom),l!==a.object.zoom&&a.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),a.staticMoving?A.copy(b):A.y+=(b.y-A.y)*this.dynamicDampingFactor)},i.panCamera=function(){var e=new de.FM8,t=new de.Pa4,n=new de.Pa4;return function(){if(e.copy(w).sub(x),e.lengthSq()){if(a.object.isOrthographicCamera){var r=(a.object.right-a.object.left)/a.object.zoom/a.domElement.clientWidth,i=(a.object.top-a.object.bottom)/a.object.zoom/a.domElement.clientWidth;e.x*=r,e.y*=i}e.multiplyScalar(f.length()*a.panSpeed),n.copy(f).cross(a.object.up).setLength(e.x),n.add(t.copy(a.object.up).setLength(e.y)),a.object.position.add(n),a.target.add(n),a.staticMoving?x.copy(w):x.add(e.subVectors(w,x).multiplyScalar(a.dynamicDampingFactor))}}}(),i.checkDistances=function(){a.noZoom&&a.noPan||(f.lengthSq()>a.maxDistance*a.maxDistance&&(a.object.position.addVectors(a.target,f.setLength(a.maxDistance)),A.copy(b)),f.lengthSq()<a.minDistance*a.minDistance&&(a.object.position.addVectors(a.target,f.setLength(a.minDistance)),A.copy(b)))},i.update=function(){f.subVectors(a.object.position,a.target),a.noRotate||a.rotateCamera(),a.noZoom||a.zoomCamera(),a.noPan||a.panCamera(),a.object.position.addVectors(a.target,f),a.object.isPerspectiveCamera?(a.checkDistances(),a.object.lookAt(a.target),u.distanceToSquared(a.object.position)>s&&(a.dispatchEvent(Me),u.copy(a.object.position))):a.object.isOrthographicCamera?(a.object.lookAt(a.target),(u.distanceToSquared(a.object.position)>s||l!==a.object.zoom)&&(a.dispatchEvent(Me),u.copy(a.object.position),l=a.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},i.reset=function(){c=o.NONE,h=o.NONE,a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.up.copy(a.up0),a.object.zoom=a.zoom0,a.object.updateProjectionMatrix(),f.subVectors(a.object.position,a.target),a.object.lookAt(a.target),a.dispatchEvent(Me),u.copy(a.object.position),l=a.object.zoom},i.dispose=function(){a.domElement.removeEventListener("contextmenu",P),a.domElement.removeEventListener("pointerdown",I),a.domElement.removeEventListener("pointercancel",R),a.domElement.removeEventListener("wheel",D),a.domElement.removeEventListener("pointermove",T),a.domElement.removeEventListener("pointerup",k),window.removeEventListener("keydown",L),window.removeEventListener("keyup",B)},i.domElement.addEventListener("contextmenu",P),i.domElement.addEventListener("pointerdown",I),i.domElement.addEventListener("pointercancel",R),i.domElement.addEventListener("wheel",D,{passive:!1}),window.addEventListener("keydown",L),window.addEventListener("keyup",B),i.handleResize(),i.update(),i}return(0,ge.Z)(n)}(de.pBf),ke={type:"change"},Re={type:"start"},Le={type:"end"},Be=new de.zHn,De=new de.JOQ,Pe=Math.cos(70*de.M8C.DEG2RAD),Oe=function(e){(0,fe.Z)(n,e);var t=(0,me.Z)(n);function n(e,r){var i;(0,pe.Z)(this,n),(i=t.call(this)).object=e,i.domElement=r,i.domElement.style.touchAction="none",i.enabled=!0,i.target=new de.Pa4,i.minDistance=0,i.maxDistance=1/0,i.minZoom=0,i.maxZoom=1/0,i.minPolarAngle=0,i.maxPolarAngle=Math.PI,i.minAzimuthAngle=-1/0,i.maxAzimuthAngle=1/0,i.enableDamping=!1,i.dampingFactor=.05,i.enableZoom=!0,i.zoomSpeed=1,i.enableRotate=!0,i.rotateSpeed=1,i.enablePan=!0,i.panSpeed=1,i.screenSpacePanning=!0,i.keyPanSpeed=7,i.zoomToCursor=!1,i.autoRotate=!1,i.autoRotateSpeed=2,i.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},i.mouseButtons={LEFT:de.RsA.ROTATE,MIDDLE:de.RsA.DOLLY,RIGHT:de.RsA.PAN},i.touches={ONE:de.QmN.ROTATE,TWO:de.QmN.DOLLY_PAN},i.target0=i.target.clone(),i.position0=i.object.position.clone(),i.zoom0=i.object.zoom,i._domElementKeyEvents=null,i.getPolarAngle=function(){return l.phi},i.getAzimuthalAngle=function(){return l.theta},i.getDistance=function(){return this.object.position.distanceTo(this.target)},i.listenToKeyEvents=function(e){e.addEventListener("keydown",Z),this._domElementKeyEvents=e},i.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",Z),this._domElementKeyEvents=null},i.saveState=function(){a.target0.copy(a.target),a.position0.copy(a.object.position),a.zoom0=a.object.zoom},i.reset=function(){a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.zoom=a.zoom0,a.object.updateProjectionMatrix(),a.dispatchEvent(ke),a.update(),s=o.NONE},i.update=function(){var t=new de.Pa4,n=(new de._fP).setFromUnitVectors(e.up,new de.Pa4(0,1,0)),r=n.clone().invert(),i=new de.Pa4,g=new de._fP,p=new de.Pa4,f=2*Math.PI;return function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,v=a.object.position;t.copy(v).sub(a.target),t.applyQuaternion(n),l.setFromVector3(t),a.autoRotate&&s===o.NONE&&T(function(e){return null!==e?2*Math.PI/60*a.autoRotateSpeed*e:2*Math.PI/60/60*a.autoRotateSpeed}(m)),a.enableDamping?(l.theta+=c.theta*a.dampingFactor,l.phi+=c.phi*a.dampingFactor):(l.theta+=c.theta,l.phi+=c.phi);var y=a.minAzimuthAngle,A=a.maxAzimuthAngle;isFinite(y)&&isFinite(A)&&(y<-Math.PI?y+=f:y>Math.PI&&(y-=f),A<-Math.PI?A+=f:A>Math.PI&&(A-=f),l.theta=y<=A?Math.max(y,Math.min(A,l.theta)):l.theta>(y+A)/2?Math.max(y,l.theta):Math.min(A,l.theta)),l.phi=Math.max(a.minPolarAngle,Math.min(a.maxPolarAngle,l.phi)),l.makeSafe(),!0===a.enableDamping?a.target.addScaledVector(d,a.dampingFactor):a.target.add(d),a.zoomToCursor&&C||a.object.isOrthographicCamera?l.radius=N(l.radius):l.radius=N(l.radius*h),t.setFromSpherical(l),t.applyQuaternion(r),v.copy(a.target).add(t),a.object.lookAt(a.target),!0===a.enableDamping?(c.theta*=1-a.dampingFactor,c.phi*=1-a.dampingFactor,d.multiplyScalar(1-a.dampingFactor)):(c.set(0,0,0),d.set(0,0,0));var b=!1;if(a.zoomToCursor&&C){var x=null;if(a.object.isPerspectiveCamera){var E=t.length(),M=E-(x=N(E*h));a.object.position.addScaledVector(w,M),a.object.updateMatrixWorld()}else if(a.object.isOrthographicCamera){var S=new de.Pa4(_.x,_.y,0);S.unproject(a.object),a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/h)),a.object.updateProjectionMatrix(),b=!0;var I=new de.Pa4(_.x,_.y,0);I.unproject(a.object),a.object.position.sub(I).add(S),a.object.updateMatrixWorld(),x=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),a.zoomToCursor=!1;null!==x&&(this.screenSpacePanning?a.target.set(0,0,-1).transformDirection(a.object.matrix).multiplyScalar(x).add(a.object.position):(Be.origin.copy(a.object.position),Be.direction.set(0,0,-1).transformDirection(a.object.matrix),Math.abs(a.object.up.dot(Be.direction))<Pe?e.lookAt(a.target):(De.setFromNormalAndCoplanarPoint(a.object.up,a.target),Be.intersectPlane(De,a.target))))}else a.object.isOrthographicCamera&&(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/h)),a.object.updateProjectionMatrix(),b=!0);return h=1,C=!1,!!(b||i.distanceToSquared(a.object.position)>u||8*(1-g.dot(a.object.quaternion))>u||p.distanceToSquared(a.target)>0)&&(a.dispatchEvent(ke),i.copy(a.object.position),g.copy(a.object.quaternion),p.copy(a.target),b=!1,!0)}}(),i.dispose=function(){a.domElement.removeEventListener("contextmenu",Y),a.domElement.removeEventListener("pointerdown",W),a.domElement.removeEventListener("pointercancel",K),a.domElement.removeEventListener("wheel",X),a.domElement.removeEventListener("pointermove",q),a.domElement.removeEventListener("pointerup",K),null!==a._domElementKeyEvents&&(a._domElementKeyEvents.removeEventListener("keydown",Z),a._domElementKeyEvents=null)};var a=(0,E.Z)(i),o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=o.NONE,u=1e-6,l=new de.$V,c=new de.$V,h=1,d=new de.Pa4,g=new de.FM8,p=new de.FM8,f=new de.FM8,m=new de.FM8,v=new de.FM8,y=new de.FM8,A=new de.FM8,b=new de.FM8,x=new de.FM8,w=new de.Pa4,_=new de.FM8,C=!1,M=[],S={};function I(){return Math.pow(.95,a.zoomSpeed)}function T(e){c.theta-=e}function k(e){c.phi-=e}var R=function(){var e=new de.Pa4;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),d.add(e)}}(),L=function(){var e=new de.Pa4;return function(t,n){!0===a.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(a.object.up,e)),e.multiplyScalar(t),d.add(e)}}(),B=function(){var e=new de.Pa4;return function(t,n){var r=a.domElement;if(a.object.isPerspectiveCamera){var i=a.object.position;e.copy(i).sub(a.target);var o=e.length();o*=Math.tan(a.object.fov/2*Math.PI/180),R(2*t*o/r.clientHeight,a.object.matrix),L(2*n*o/r.clientHeight,a.object.matrix)}else a.object.isOrthographicCamera?(R(t*(a.object.right-a.object.left)/a.object.zoom/r.clientWidth,a.object.matrix),L(n*(a.object.top-a.object.bottom)/a.object.zoom/r.clientHeight,a.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),a.enablePan=!1)}}();function D(e){a.object.isPerspectiveCamera||a.object.isOrthographicCamera?h/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function P(e){a.object.isPerspectiveCamera||a.object.isOrthographicCamera?h*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function O(e){if(a.zoomToCursor){C=!0;var t=a.domElement.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top,i=t.width,o=t.height;_.x=n/i*2-1,_.y=-r/o*2+1,w.set(_.x,_.y,1).unproject(a.object).sub(a.object.position).normalize()}}function N(e){return Math.max(a.minDistance,Math.min(a.maxDistance,e))}function F(e){g.set(e.clientX,e.clientY)}function U(e){m.set(e.clientX,e.clientY)}function z(){if(1===M.length)g.set(M[0].pageX,M[0].pageY);else{var e=.5*(M[0].pageX+M[1].pageX),t=.5*(M[0].pageY+M[1].pageY);g.set(e,t)}}function j(){if(1===M.length)m.set(M[0].pageX,M[0].pageY);else{var e=.5*(M[0].pageX+M[1].pageX),t=.5*(M[0].pageY+M[1].pageY);m.set(e,t)}}function H(){var e=M[0].pageX-M[1].pageX,t=M[0].pageY-M[1].pageY,n=Math.sqrt(e*e+t*t);A.set(0,n)}function G(e){if(1==M.length)p.set(e.pageX,e.pageY);else{var t=$(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);p.set(n,r)}f.subVectors(p,g).multiplyScalar(a.rotateSpeed);var i=a.domElement;T(2*Math.PI*f.x/i.clientHeight),k(2*Math.PI*f.y/i.clientHeight),g.copy(p)}function V(e){if(1===M.length)v.set(e.pageX,e.pageY);else{var t=$(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);v.set(n,r)}y.subVectors(v,m).multiplyScalar(a.panSpeed),B(y.x,y.y),m.copy(v)}function Q(e){var t=$(e),n=e.pageX-t.x,r=e.pageY-t.y,i=Math.sqrt(n*n+r*r);b.set(0,i),x.set(0,Math.pow(b.y/A.y,a.zoomSpeed)),D(x.y),A.copy(b)}function W(e){!1!==a.enabled&&(0===M.length&&(a.domElement.setPointerCapture(e.pointerId),a.domElement.addEventListener("pointermove",q),a.domElement.addEventListener("pointerup",K)),function(e){M.push(e)}(e),"touch"===e.pointerType?function(e){switch(J(e),M.length){case 1:switch(a.touches.ONE){case de.QmN.ROTATE:if(!1===a.enableRotate)return;z(),s=o.TOUCH_ROTATE;break;case de.QmN.PAN:if(!1===a.enablePan)return;j(),s=o.TOUCH_PAN;break;default:s=o.NONE}break;case 2:switch(a.touches.TWO){case de.QmN.DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;a.enableZoom&&H(),a.enablePan&&j(),s=o.TOUCH_DOLLY_PAN;break;case de.QmN.DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;a.enableZoom&&H(),a.enableRotate&&z(),s=o.TOUCH_DOLLY_ROTATE;break;default:s=o.NONE}break;default:s=o.NONE}s!==o.NONE&&a.dispatchEvent(Re)}(e):function(e){var t;switch(e.button){case 0:t=a.mouseButtons.LEFT;break;case 1:t=a.mouseButtons.MIDDLE;break;case 2:t=a.mouseButtons.RIGHT;break;default:t=-1}switch(t){case de.RsA.DOLLY:if(!1===a.enableZoom)return;!function(e){O(e),A.set(e.clientX,e.clientY)}(e),s=o.DOLLY;break;case de.RsA.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enablePan)return;U(e),s=o.PAN}else{if(!1===a.enableRotate)return;F(e),s=o.ROTATE}break;case de.RsA.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enableRotate)return;F(e),s=o.ROTATE}else{if(!1===a.enablePan)return;U(e),s=o.PAN}break;default:s=o.NONE}s!==o.NONE&&a.dispatchEvent(Re)}(e))}function q(e){!1!==a.enabled&&("touch"===e.pointerType?function(e){switch(J(e),s){case o.TOUCH_ROTATE:if(!1===a.enableRotate)return;G(e),a.update();break;case o.TOUCH_PAN:if(!1===a.enablePan)return;V(e),a.update();break;case o.TOUCH_DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;!function(e){a.enableZoom&&Q(e),a.enablePan&&V(e)}(e),a.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;!function(e){a.enableZoom&&Q(e),a.enableRotate&&G(e)}(e),a.update();break;default:s=o.NONE}}(e):function(e){switch(s){case o.ROTATE:if(!1===a.enableRotate)return;!function(e){p.set(e.clientX,e.clientY),f.subVectors(p,g).multiplyScalar(a.rotateSpeed);var t=a.domElement;T(2*Math.PI*f.x/t.clientHeight),k(2*Math.PI*f.y/t.clientHeight),g.copy(p),a.update()}(e);break;case o.DOLLY:if(!1===a.enableZoom)return;!function(e){b.set(e.clientX,e.clientY),x.subVectors(b,A),x.y>0?D(I()):x.y<0&&P(I()),A.copy(b),a.update()}(e);break;case o.PAN:if(!1===a.enablePan)return;!function(e){v.set(e.clientX,e.clientY),y.subVectors(v,m).multiplyScalar(a.panSpeed),B(y.x,y.y),m.copy(v),a.update()}(e)}}(e))}function K(e){!function(e){delete S[e.pointerId];for(var t=0;t<M.length;t++)if(M[t].pointerId==e.pointerId)return void M.splice(t,1)}(e),0===M.length&&(a.domElement.releasePointerCapture(e.pointerId),a.domElement.removeEventListener("pointermove",q),a.domElement.removeEventListener("pointerup",K)),a.dispatchEvent(Le),s=o.NONE}function X(e){!1!==a.enabled&&!1!==a.enableZoom&&s===o.NONE&&(e.preventDefault(),a.dispatchEvent(Re),function(e){O(e),e.deltaY<0?P(I()):e.deltaY>0&&D(I()),a.update()}(e),a.dispatchEvent(Le))}function Z(e){!1!==a.enabled&&!1!==a.enablePan&&function(e){var t=!1;switch(e.code){case a.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?k(2*Math.PI*a.rotateSpeed/a.domElement.clientHeight):B(0,a.keyPanSpeed),t=!0;break;case a.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?k(-2*Math.PI*a.rotateSpeed/a.domElement.clientHeight):B(0,-a.keyPanSpeed),t=!0;break;case a.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?T(2*Math.PI*a.rotateSpeed/a.domElement.clientHeight):B(a.keyPanSpeed,0),t=!0;break;case a.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?T(-2*Math.PI*a.rotateSpeed/a.domElement.clientHeight):B(-a.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),a.update())}(e)}function Y(e){!1!==a.enabled&&e.preventDefault()}function J(e){var t=S[e.pointerId];void 0===t&&(t=new de.FM8,S[e.pointerId]=t),t.set(e.pageX,e.pageY)}function $(e){var t=e.pointerId===M[0].pointerId?M[1]:M[0];return S[t.pointerId]}return a.domElement.addEventListener("contextmenu",Y),a.domElement.addEventListener("pointerdown",W),a.domElement.addEventListener("pointercancel",K),a.domElement.addEventListener("wheel",X,{passive:!1}),i.update(),i}return(0,ge.Z)(n)}(de.pBf),Ne={type:"change"},Fe=function(e){(0,fe.Z)(n,e);var t=(0,me.Z)(n);function n(e,r){var i;(0,pe.Z)(this,n),(i=t.call(this)).object=e,i.domElement=r,i.enabled=!0,i.movementSpeed=1,i.rollSpeed=.005,i.dragToLook=!1,i.autoForward=!1;var a=(0,E.Z)(i),o=1e-6,s=new de._fP,u=new de.Pa4;i.tmpQuaternion=new de._fP,i.status=0,i.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},i.moveVector=new de.Pa4(0,0,0),i.rotationVector=new de.Pa4(0,0,0),i.keydown=function(e){if(!e.altKey&&!1!==this.enabled){switch(e.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=.1;break;case"KeyW":this.moveState.forward=1;break;case"KeyS":this.moveState.back=1;break;case"KeyA":this.moveState.left=1;break;case"KeyD":this.moveState.right=1;break;case"KeyR":this.moveState.up=1;break;case"KeyF":this.moveState.down=1;break;case"ArrowUp":this.moveState.pitchUp=1;break;case"ArrowDown":this.moveState.pitchDown=1;break;case"ArrowLeft":this.moveState.yawLeft=1;break;case"ArrowRight":this.moveState.yawRight=1;break;case"KeyQ":this.moveState.rollLeft=1;break;case"KeyE":this.moveState.rollRight=1}this.updateMovementVector(),this.updateRotationVector()}},i.keyup=function(e){if(!1!==this.enabled){switch(e.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=1;break;case"KeyW":this.moveState.forward=0;break;case"KeyS":this.moveState.back=0;break;case"KeyA":this.moveState.left=0;break;case"KeyD":this.moveState.right=0;break;case"KeyR":this.moveState.up=0;break;case"KeyF":this.moveState.down=0;break;case"ArrowUp":this.moveState.pitchUp=0;break;case"ArrowDown":this.moveState.pitchDown=0;break;case"ArrowLeft":this.moveState.yawLeft=0;break;case"ArrowRight":this.moveState.yawRight=0;break;case"KeyQ":this.moveState.rollLeft=0;break;case"KeyE":this.moveState.rollRight=0}this.updateMovementVector(),this.updateRotationVector()}},i.pointerdown=function(e){if(!1!==this.enabled)if(this.dragToLook)this.status++;else{switch(e.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1}this.updateMovementVector()}},i.pointermove=function(e){if(!1!==this.enabled&&(!this.dragToLook||this.status>0)){var t=this.getContainerDimensions(),n=t.size[0]/2,r=t.size[1]/2;this.moveState.yawLeft=-(e.pageX-t.offset[0]-n)/n,this.moveState.pitchDown=(e.pageY-t.offset[1]-r)/r,this.updateRotationVector()}},i.pointerup=function(e){if(!1!==this.enabled){if(this.dragToLook)this.status--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(e.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0}this.updateMovementVector()}this.updateRotationVector()}},i.contextMenu=function(e){!1!==this.enabled&&e.preventDefault()},i.update=function(e){if(!1!==this.enabled){var t=e*a.movementSpeed,n=e*a.rollSpeed;a.object.translateX(a.moveVector.x*t),a.object.translateY(a.moveVector.y*t),a.object.translateZ(a.moveVector.z*t),a.tmpQuaternion.set(a.rotationVector.x*n,a.rotationVector.y*n,a.rotationVector.z*n,1).normalize(),a.object.quaternion.multiply(a.tmpQuaternion),(u.distanceToSquared(a.object.position)>o||8*(1-s.dot(a.object.quaternion))>o)&&(a.dispatchEvent(Ne),s.copy(a.object.quaternion),u.copy(a.object.position))}},i.updateMovementVector=function(){var e=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-e+this.moveState.back},i.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft},i.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},i.dispose=function(){this.domElement.removeEventListener("contextmenu",l),this.domElement.removeEventListener("pointerdown",h),this.domElement.removeEventListener("pointermove",c),this.domElement.removeEventListener("pointerup",d),window.removeEventListener("keydown",g),window.removeEventListener("keyup",p)};var l=i.contextMenu.bind((0,E.Z)(i)),c=i.pointermove.bind((0,E.Z)(i)),h=i.pointerdown.bind((0,E.Z)(i)),d=i.pointerup.bind((0,E.Z)(i)),g=i.keydown.bind((0,E.Z)(i)),p=i.keyup.bind((0,E.Z)(i));return i.domElement.addEventListener("contextmenu",l),i.domElement.addEventListener("pointerdown",h),i.domElement.addEventListener("pointermove",c),i.domElement.addEventListener("pointerup",d),window.addEventListener("keydown",g),window.addEventListener("keyup",p),i.updateMovementVector(),i.updateRotationVector(),i}return(0,ge.Z)(n)}(de.pBf),Ue={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor = opacity * texel;\n\n\n\t\t}"},ze=function(){function e(){(0,pe.Z)(this,e),this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}return(0,ge.Z)(e,[{key:"setSize",value:function(){}},{key:"render",value:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}},{key:"dispose",value:function(){}}]),e}(),je=new de.iKG(-1,1,1,-1,0,1),He=new de.u9r;He.setAttribute("position",new de.a$l([-1,3,0,-1,-1,0,3,-1,0],3)),He.setAttribute("uv",new de.a$l([0,2,0,0,2,0],2));var Ge=function(){function e(t){(0,pe.Z)(this,e),this._mesh=new de.Kj0(He,t)}return(0,ge.Z)(e,[{key:"dispose",value:function(){this._mesh.geometry.dispose()}},{key:"render",value:function(e){e.render(this._mesh,je)}},{key:"material",get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}]),e}(),Ve=function(e){(0,fe.Z)(n,e);var t=(0,me.Z)(n);function n(e,r){var i;return(0,pe.Z)(this,n),(i=t.call(this)).textureID=void 0!==r?r:"tDiffuse",e instanceof de.jyz?(i.uniforms=e.uniforms,i.material=e):e&&(i.uniforms=de.rDY.clone(e.uniforms),i.material=new de.jyz({name:void 0!==e.name?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:i.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),i.fsQuad=new Ge(i.material),i}return(0,ge.Z)(n,[{key:"render",value:function(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}},{key:"dispose",value:function(){this.material.dispose(),this.fsQuad.dispose()}}]),n}(ze),Qe=function(e){(0,fe.Z)(n,e);var t=(0,me.Z)(n);function n(e,r){var i;return(0,pe.Z)(this,n),(i=t.call(this)).scene=e,i.camera=r,i.clear=!0,i.needsSwap=!1,i.inverse=!1,i}return(0,ge.Z)(n,[{key:"render",value:function(e,t,n){var r,i,a=e.getContext(),o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0),this.inverse?(r=0,i=1):(r=1,i=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(a.REPLACE,a.REPLACE,a.REPLACE),o.buffers.stencil.setFunc(a.ALWAYS,r,4294967295),o.buffers.stencil.setClear(i),o.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.color.setMask(!0),o.buffers.depth.setMask(!0),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(a.EQUAL,1,4294967295),o.buffers.stencil.setOp(a.KEEP,a.KEEP,a.KEEP),o.buffers.stencil.setLocked(!0)}}]),n}(ze),We=function(e){(0,fe.Z)(n,e);var t=(0,me.Z)(n);function n(){var e;return(0,pe.Z)(this,n),(e=t.call(this)).needsSwap=!1,e}return(0,ge.Z)(n,[{key:"render",value:function(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}]),n}(ze),qe=function(){function e(t,n){if((0,pe.Z)(this,e),this.renderer=t,this._pixelRatio=t.getPixelRatio(),void 0===n){var r=t.getSize(new de.FM8);this._width=r.width,this._height=r.height,(n=new de.dd2(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:de.cLu})).texture.name="EffectComposer.rt1"}else this._width=n.width,this._height=n.height;this.renderTarget1=n,this.renderTarget2=n.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new Ve(Ue),this.copyPass.material.blending=de.jFi,this.clock=new de.SUY}return(0,ge.Z)(e,[{key:"swapBuffers",value:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}},{key:"addPass",value:function(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}},{key:"insertPass",value:function(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}},{key:"removePass",value:function(e){var t=this.passes.indexOf(e);-1!==t&&this.passes.splice(t,1)}},{key:"isLastEnabledPass",value:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}},{key:"render",value:function(e){void 0===e&&(e=this.clock.getDelta());for(var t=this.renderer.getRenderTarget(),n=!1,r=0,i=this.passes.length;r<i;r++){var a=this.passes[r];if(!1!==a.enabled){if(a.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),a.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),a.needsSwap){if(n){var o=this.renderer.getContext(),s=this.renderer.state.buffers.stencil;s.setFunc(o.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),s.setFunc(o.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==Qe&&(a instanceof Qe?n=!0:a instanceof We&&(n=!1))}}this.renderer.setRenderTarget(t)}},{key:"reset",value:function(e){if(void 0===e){var t=this.renderer.getSize(new de.FM8);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}},{key:"setSize",value:function(e,t){this._width=e,this._height=t;var n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(var i=0;i<this.passes.length;i++)this.passes[i].setSize(n,r)}},{key:"setPixelRatio",value:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}},{key:"dispose",value:function(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}]),e}(),Ke=function(e){(0,fe.Z)(n,e);var t=(0,me.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return(0,pe.Z)(this,n),(i=t.call(this)).scene=e,i.camera=r,i.overrideMaterial=a,i.clearColor=o,i.clearAlpha=s,i.clear=!0,i.clearDepth=!1,i.needsSwap=!1,i._oldClearColor=new de.Ilk,i}return(0,ge.Z)(n,[{key:"render",value:function(e,t,n){var r,i,a=e.autoClear;e.autoClear=!1,null!==this.overrideMaterial&&(i=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),null!==this.clearColor&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor)),null!==this.clearAlpha&&(r=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),1==this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),!0===this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),null!==this.clearColor&&e.setClearColor(this._oldClearColor),null!==this.clearAlpha&&e.setClearAlpha(r),null!==this.overrideMaterial&&(this.scene.overrideMaterial=i),e.autoClear=a}}]),n}(ze),Xe=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return this.None(e)},Out:function(e){return this.None(e)},InOut:function(e){return this.None(e)}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}}),Back:Object.freeze({In:function(e){var t=1.70158;return 1===e?1:e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return 0===e?0:--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}}),Bounce:Object.freeze({In:function(e){return 1-Xe.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*Xe.Bounce.In(2*e):.5*Xe.Bounce.Out(2*e-1)+.5}}),generatePow:function(e){return void 0===e&&(e=4),e=(e=e<Number.EPSILON?Number.EPSILON:e)>1e4?1e4:e,{In:function(t){return Math.pow(t,e)},Out:function(t){return 1-Math.pow(1-t,e)},InOut:function(t){return t<.5?Math.pow(2*t,e)/2:(1-Math.pow(2-2*t,e))/2+.5}}}}),Ze=function(){return performance.now()},Ye=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map((function(t){return e._tweens[t]}))},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){void 0===e&&(e=Ze()),void 0===t&&(t=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]],a=!t;i&&!1===i.update(e,a)&&!t&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),Je={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),a=Je.Utils.Linear;return t<0?a(e[0],e[1],r):t>1?a(e[n],e[n-1],n-r):a(e[i],e[i+1>n?n:i+1],r-i)},Bezier:function(e,t){for(var n=0,r=e.length-1,i=Math.pow,a=Je.Utils.Bernstein,o=0;o<=r;o++)n+=i(1-t,r-o)*i(t,o)*e[o]*a(r,o);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),a=Je.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(i=Math.floor(r=n*(1+t))),a(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):t<0?e[0]-(a(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(a(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):a(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=Je.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var r=t;r>1;r--)n*=r;return e[t]=n,n}}(),CatmullRom:function(e,t,n,r,i){var a=.5*(n-e),o=.5*(r-t),s=i*i;return(2*t-2*n+a+o)*(i*s)+(-3*t+3*n-2*a-o)*s+a*i+t}}},$e=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),et=new Ye,tt=function(){function e(e,t){void 0===t&&(t=et),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Xe.Linear.None,this._interpolationFunction=Je.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=$e.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,t){if(void 0===t&&(t=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=t,this},e.prototype.duration=function(e){return void 0===e&&(e=1e3),this._duration=e,this},e.prototype.dynamic=function(e){return void 0===e&&(e=!1),this._isDynamic=e,this},e.prototype.start=function(e,t){if(void 0===e&&(e=Ze()),void 0===t&&(t=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var n in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||t){if(this._propertiesAreSetUp=!0,!this._isDynamic){var r={};for(var i in this._valuesEnd)r[i]=this._valuesEnd[i];this._valuesEnd=r}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,t)}return this},e.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},e.prototype._setupProperties=function(e,t,n,r,i){for(var a in n){var o=e[a],s=Array.isArray(o),u=s?"array":typeof o,l=!s&&Array.isArray(n[a]);if("undefined"!==u&&"function"!==u){if(l){if(0===(m=n[a]).length)continue;for(var c=[o],h=0,d=m.length;h<d;h+=1){var g=this._handleRelativeValue(o,m[h]);if(isNaN(g)){l=!1,console.warn("Found invalid interpolation list. Skipping.");break}c.push(g)}l&&(n[a]=c)}if("object"!==u&&!s||!o||l)("undefined"===typeof t[a]||i)&&(t[a]=o),s||(t[a]*=1),r[a]=l?n[a].slice().reverse():t[a]||0;else{t[a]=s?[]:{};var p=o;for(var f in p)t[a][f]=p[f];r[a]=s?[]:{};var m=n[a];if(!this._isDynamic){var v={};for(var f in m)v[f]=m[f];n[a]=m=v}this._setupProperties(p,t[a],m,r[a],i)}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(e){return void 0===e&&(e=Ze()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this)),this},e.prototype.resume=function(e){return void 0===e&&(e=Ze()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return void 0===e&&(e=et),this._group=e,this},e.prototype.delay=function(e){return void 0===e&&(e=0),this._delayTime=e,this},e.prototype.repeat=function(e){return void 0===e&&(e=0),this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return void 0===e&&(e=!1),this._yoyo=e,this},e.prototype.easing=function(e){return void 0===e&&(e=Xe.Linear.None),this._easingFunction=e,this},e.prototype.interpolation=function(e){return void 0===e&&(e=Je.Linear),this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e,t){if(void 0===e&&(e=Ze()),void 0===t&&(t=!0),this._isPaused)return!0;var n,r,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>i)return!1;t&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),!1===this._onEveryStartCallbackFired&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),r=(e-this._startTime)/this._duration,r=0===this._duration||r>1?1:r;var a=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,a),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!==typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var o=0,s=this._chainedTweens.length;o<s;o++)this._chainedTweens[o].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(e,t,n,r){for(var i in n)if(void 0!==t[i]){var a=t[i]||0,o=n[i],s=Array.isArray(e[i]),u=Array.isArray(o);!s&&u?e[i]=this._interpolationFunction(o,r):"object"===typeof o&&o?this._updateProperties(e[i],a,o,r):"number"===typeof(o=this._handleRelativeValue(a,o))&&(e[i]=a+(o-a)*r)}},e.prototype._handleRelativeValue=function(e,t){return"string"!==typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];this._valuesStartRepeat[e]="string"===typeof n?this._valuesStartRepeat[e]+parseFloat(n):this._valuesEnd[e],this._valuesEnd[e]=t},e}(),nt=($e.nextId,et),rt=(nt.getAll.bind(nt),nt.removeAll.bind(nt),nt.add.bind(nt),nt.remove.bind(nt),nt.update.bind(nt));function it(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||st(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e){return function(e){if(Array.isArray(e))return ut(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||st(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){if(e){if("string"===typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ut(e,t):void 0}}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".scene-nav-info {\n  bottom: 5px;\n  width: 100%;\n  text-align: center;\n  color: slategrey;\n  opacity: 0.7;\n  font-size: 10px;\n}\n\n.scene-tooltip {\n  top: 0;\n  color: lavender;\n  font-size: 15px;\n}\n\n.scene-nav-info, .scene-tooltip {\n  position: absolute;\n  font-family: sans-serif;\n  pointer-events: none;\n  user-select: none;\n}\n\n.scene-container canvas:focus {\n  outline: none;\n}");var lt=window.THREE?window.THREE:{WebGLRenderer:de.CP7,Scene:de.xsS,PerspectiveCamera:de.cPb,Raycaster:de.iMs,SRGBColorSpace:de.KI_,TextureLoader:de.dpR,Vector2:de.FM8,Vector3:de.Pa4,Box3:de.ZzF,Color:de.Ilk,Mesh:de.Kj0,SphereGeometry:de.xo$,MeshBasicMaterial:de.vBJ,BackSide:de._Li,EventDispatcher:de.pBf,MOUSE:de.RsA,Quaternion:de._fP,Spherical:de.$V,Clock:de.SUY},ct=(0,b.Z)({props:{width:{default:window.innerWidth,onChange:function(e,t,n){isNaN(e)&&(t.width=n)}},height:{default:window.innerHeight,onChange:function(e,t,n){isNaN(e)&&(t.height=n)}},backgroundColor:{default:"#000011"},backgroundImageUrl:{},onBackgroundImageLoaded:{},showNavInfo:{default:!0},skyRadius:{default:5e4},objects:{default:[]},enablePointerInteraction:{default:!0,onChange:function(e,t){t.hoverObj=null,t.toolTipElem&&(t.toolTipElem.innerHTML="")},triggerUpdate:!1},lineHoverPrecision:{default:1,triggerUpdate:!1},hoverOrderComparator:{default:function(){return-1},triggerUpdate:!1},hoverFilter:{default:function(){return!0},triggerUpdate:!1},tooltipContent:{triggerUpdate:!1},hoverDuringDrag:{default:!1,triggerUpdate:!1},clickAfterDrag:{default:!1,triggerUpdate:!1},onHover:{default:function(){},triggerUpdate:!1},onClick:{default:function(){},triggerUpdate:!1},onRightClick:{triggerUpdate:!1}},methods:{tick:function(e){if(e.initialised){if(e.controls.update&&e.controls.update(e.clock.getDelta()),e.postProcessingComposer?e.postProcessingComposer.render():e.renderer.render(e.scene,e.camera),e.extraRenderers.forEach((function(t){return t.render(e.scene,e.camera)})),e.enablePointerInteraction){var t=null;if(e.hoverDuringDrag||!e.isPointerDragging){var n=this.intersectingObjects(e.pointerPos.x,e.pointerPos.y).filter((function(t){return e.hoverFilter(t.object)})).sort((function(t,n){return e.hoverOrderComparator(t.object,n.object)})),r=n.length?n[0]:null;t=r?r.object:null,e.intersectionPoint=r?r.point:null}t!==e.hoverObj&&(e.onHover(t,e.hoverObj),e.toolTipElem.innerHTML=t&&(0,x.default)(e.tooltipContent)(t)||"",e.hoverObj=t)}rt()}return this},getPointerPos:function(e){var t=e.pointerPos;return{x:t.x,y:t.y}},cameraPosition:function(e,t,n,r){var i=e.camera;if(t&&e.initialised){var a=t,o=n||{x:0,y:0,z:0};if(r){var s=Object.assign({},i.position),u=h();new tt(s).to(a,r).easing(Xe.Quadratic.Out).onUpdate(l).start(),new tt(u).to(o,r/3).easing(Xe.Quadratic.Out).onUpdate(c).start()}else l(a),c(o);return this}return Object.assign({},i.position,{lookAt:h()});function l(e){var t=e.x,n=e.y,r=e.z;void 0!==t&&(i.position.x=t),void 0!==n&&(i.position.y=n),void 0!==r&&(i.position.z=r)}function c(t){var n=new lt.Vector3(t.x,t.y,t.z);e.controls.target?e.controls.target=n:i.lookAt(n)}function h(){return Object.assign(new lt.Vector3(0,0,-1e3).applyQuaternion(i.quaternion).add(i.position))}},zoomToFit:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];return this.fitToBbox(this.getBbox.apply(this,i),t,n)},fitToBbox:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,i=e.camera;if(t){var a=new lt.Vector3(0,0,0),o=2*Math.max.apply(Math,ot(Object.entries(t).map((function(e){var t=at(e,2),n=t[0],r=t[1];return Math.max.apply(Math,ot(r.map((function(e){return Math.abs(a[n]-e)}))))})))),s=(1-2*r/e.height)*i.fov,u=o/Math.atan(s*Math.PI/180),l=u/i.aspect,c=Math.max(u,l);if(c>0){var h=a.clone().sub(i.position).normalize().multiplyScalar(-c);this.cameraPosition(h,a,n)}}return this},getBbox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n=new lt.Box3(new lt.Vector3(0,0,0),new lt.Vector3(0,0,0)),r=e.objects.filter(t);return r.length?(r.forEach((function(e){return n.expandByObject(e)})),Object.assign.apply(Object,ot(["x","y","z"].map((function(e){return it({},e,[n.min[e],n.max[e]])}))))):null},getScreenCoords:function(e,t,n,r){var i=new lt.Vector3(t,n,r);return i.project(this.camera()),{x:(i.x+1)*e.width/2,y:-(i.y-1)*e.height/2}},getSceneCoords:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=new lt.Vector2(t/e.width*2-1,-n/e.height*2+1),a=new lt.Raycaster;return a.setFromCamera(i,e.camera),Object.assign({},a.ray.at(r,new lt.Vector3))},intersectingObjects:function(e,t,n){var r=new lt.Vector2(t/e.width*2-1,-n/e.height*2+1),i=new lt.Raycaster;return i.params.Line.threshold=e.lineHoverPrecision,i.setFromCamera(r,e.camera),i.intersectObjects(e.objects,!0)},renderer:function(e){return e.renderer},scene:function(e){return e.scene},camera:function(e){return e.camera},postProcessingComposer:function(e){return e.postProcessingComposer},controls:function(e){return e.controls},tbControls:function(e){return e.controls}},stateInit:function(){return{scene:new lt.Scene,camera:new lt.PerspectiveCamera,clock:new lt.Clock}},init:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.controlType,i=void 0===r?"trackball":r,a=n.rendererConfig,o=void 0===a?{}:a,s=n.extraRenderers,u=void 0===s?[]:s,l=n.waitForLoadComplete,c=void 0===l||l;e.innerHTML="",e.appendChild(t.container=document.createElement("div")),t.container.className="scene-container",t.container.style.position="relative",t.container.appendChild(t.navInfo=document.createElement("div")),t.navInfo.className="scene-nav-info",t.navInfo.textContent={orbit:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",trackball:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",fly:"WASD: move, R|F: up | down, Q|E: roll, up|down: pitch, left|right: yaw"}[i]||"",t.navInfo.style.display=t.showNavInfo?null:"none",t.toolTipElem=document.createElement("div"),t.toolTipElem.classList.add("scene-tooltip"),t.container.appendChild(t.toolTipElem),t.pointerPos=new lt.Vector2,t.pointerPos.x=-2,t.pointerPos.y=-2,["pointermove","pointerdown"].forEach((function(e){return t.container.addEventListener(e,(function(n){if("pointerdown"===e&&(t.isPointerPressed=!0),!t.isPointerDragging&&"pointermove"===n.type&&(n.pressure>0||t.isPointerPressed)&&("touch"!==n.pointerType||void 0===n.movementX||[n.movementX,n.movementY].some((function(e){return Math.abs(e)>1})))&&(t.isPointerDragging=!0),t.enablePointerInteraction){var r=function(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+r,left:t.left+n}}(t.container);t.pointerPos.x=n.pageX-r.left,t.pointerPos.y=n.pageY-r.top,t.toolTipElem.style.top="".concat(t.pointerPos.y,"px"),t.toolTipElem.style.left="".concat(t.pointerPos.x,"px"),t.toolTipElem.style.transform="translate(-".concat(t.pointerPos.x/t.width*100,"%, ").concat(t.height-t.pointerPos.y<100?"calc(-100% - 8px)":"21px",")")}}),{passive:!0})})),t.container.addEventListener("pointerup",(function(e){t.isPointerPressed=!1,t.isPointerDragging&&(t.isPointerDragging=!1,!t.clickAfterDrag)||requestAnimationFrame((function(){0===e.button&&t.onClick(t.hoverObj||null,e,t.intersectionPoint),2===e.button&&t.onRightClick&&t.onRightClick(t.hoverObj||null,e,t.intersectionPoint)}))}),{passive:!0,capture:!0}),t.container.addEventListener("contextmenu",(function(e){t.onRightClick&&e.preventDefault()})),t.renderer=new lt.WebGLRenderer(Object.assign({antialias:!0,alpha:!0},o)),t.renderer.setPixelRatio(Math.min(2,window.devicePixelRatio)),t.container.appendChild(t.renderer.domElement),t.extraRenderers=u,t.extraRenderers.forEach((function(e){e.domElement.style.position="absolute",e.domElement.style.top="0px",e.domElement.style.pointerEvents="none",t.container.appendChild(e.domElement)})),t.postProcessingComposer=new qe(t.renderer),t.postProcessingComposer.addPass(new Ke(t.scene,t.camera)),t.controls=new{trackball:Te,orbit:Oe,fly:Fe}[i](t.camera,t.renderer.domElement),"fly"===i&&(t.controls.movementSpeed=300,t.controls.rollSpeed=Math.PI/6,t.controls.dragToLook=!0),"trackball"!==i&&"orbit"!==i||(t.controls.minDistance=.1,t.controls.maxDistance=t.skyRadius,t.controls.addEventListener("start",(function(){t.controlsEngaged=!0})),t.controls.addEventListener("change",(function(){t.controlsEngaged&&(t.controlsDragging=!0)})),t.controls.addEventListener("end",(function(){t.controlsEngaged=!1,t.controlsDragging=!1}))),[t.renderer,t.postProcessingComposer].concat(ot(t.extraRenderers)).forEach((function(e){return e.setSize(t.width,t.height)})),t.camera.aspect=t.width/t.height,t.camera.updateProjectionMatrix(),t.camera.position.z=1e3,t.scene.add(t.skysphere=new lt.Mesh),t.skysphere.visible=!1,t.loadComplete=t.scene.visible=!c,window.scene=t.scene},update:function(e,t){if(e.width&&e.height&&(t.hasOwnProperty("width")||t.hasOwnProperty("height"))&&(e.container.style.width="".concat(e.width,"px"),e.container.style.height="".concat(e.height,"px"),[e.renderer,e.postProcessingComposer].concat(ot(e.extraRenderers)).forEach((function(t){return t.setSize(e.width,e.height)})),e.camera.aspect=e.width/e.height,e.camera.updateProjectionMatrix()),t.hasOwnProperty("skyRadius")&&e.skyRadius&&(e.controls.hasOwnProperty("maxDistance")&&t.skyRadius&&(e.controls.maxDistance=Math.min(e.controls.maxDistance,e.skyRadius)),e.camera.far=2.5*e.skyRadius,e.camera.updateProjectionMatrix(),e.skysphere.geometry=new lt.SphereGeometry(e.skyRadius)),t.hasOwnProperty("backgroundColor")){var n=U(e.backgroundColor).alpha;void 0===n&&(n=1),e.renderer.setClearColor(new lt.Color(K(1,e.backgroundColor)),n)}function r(){e.loadComplete=e.scene.visible=!0}t.hasOwnProperty("backgroundImageUrl")&&(e.backgroundImageUrl?(new lt.TextureLoader).load(e.backgroundImageUrl,(function(t){t.colorSpace=lt.SRGBColorSpace,e.skysphere.material=new lt.MeshBasicMaterial({map:t,side:lt.BackSide}),e.skysphere.visible=!0,e.onBackgroundImageLoaded&&setTimeout(e.onBackgroundImageLoaded),!e.loadComplete&&r()})):(e.skysphere.visible=!1,e.skysphere.material.map=null,!e.loadComplete&&r())),t.hasOwnProperty("showNavInfo")&&(e.navInfo.style.display=e.showNavInfo?null:"none"),t.hasOwnProperty("objects")&&((t.objects||[]).forEach((function(t){return e.scene.remove(t)})),e.objects.forEach((function(t){return e.scene.add(t)})))}});function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e){return function(e){if(Array.isArray(e))return ft(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ft(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mt(e,t){var n=new t;return n._destructor&&n._destructor(),{linkProp:function(t){return{default:n[t](),onChange:function(n,r){r[e][t](n)},triggerUpdate:!1}},linkMethod:function(t){return function(n){for(var r=n[e],i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];var s=r[t].apply(r,a);return s===r?this:s}}}}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".graph-info-msg {\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  color: lavender;\n  opacity: 0.7;\n  font-size: 22px;\n  position: absolute;\n  font-family: Sans-serif;\n}\n\n.scene-container .clickable {\n  cursor: pointer;\n}\n\n.scene-container .grabbable {\n  cursor: move;\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n\n.scene-container .grabbable:active {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n}");var vt=window.THREE?window.THREE:{AmbientLight:de.Mig,DirectionalLight:de.Ox3,Vector3:de.Pa4},yt=mt("forceGraph",Ce.default),At=Object.assign.apply(Object,pt(["jsonUrl","graphData","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","nodeVal","nodeResolution","nodeColor","nodeAutoColorBy","nodeOpacity","nodeVisibility","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaDecay","d3VelocityDecay","d3AlphaMin","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map((function(e){return gt({},e,yt.linkProp(e))})))),bt=Object.assign.apply(Object,pt(["refresh","getGraphBbox","d3Force","d3ReheatSimulation","emitParticle"].map((function(e){return gt({},e,yt.linkMethod(e))})))),xt=mt("renderObjs",ct),wt=Object.assign.apply(Object,pt(["width","height","backgroundColor","showNavInfo","enablePointerInteraction"].map((function(e){return gt({},e,xt.linkProp(e))})))),Et=Object.assign.apply(Object,pt(["cameraPosition","postProcessingComposer"].map((function(e){return gt({},e,xt.linkMethod(e))}))).concat([{graph2ScreenCoords:xt.linkMethod("getScreenCoords"),screen2GraphCoords:xt.linkMethod("getSceneCoords")}])),_t=(0,b.Z)({props:dt(dt({nodeLabel:{default:"name",triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:1,onChange:function(e,t){return t.renderObjs.lineHoverPrecision(e)},triggerUpdate:!1},enableNavigationControls:{default:!0,onChange:function(e,t){var n=t.renderObjs.controls();n&&(n.enabled=e,e&&n.domElement&&n.domElement.dispatchEvent(new PointerEvent("pointerup")))},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1}},At),wt),methods:dt(dt({zoomToFit:function(e,t,n){for(var r,i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];return e.renderObjs.fitToBbox((r=e.forceGraph).getGraphBbox.apply(r,a),t,n),this},pauseAnimation:function(e){return null!==e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return null===e.animationFrameRequestId&&this._animationCycle(),this},_animationCycle:function(e){e.enablePointerInteraction&&(this.renderer().domElement.style.cursor=null),e.forceGraph.tickFrame(),e.renderObjs.tick(),e.animationFrameRequestId=requestAnimationFrame(this._animationCycle)},scene:function(e){return e.renderObjs.scene()},camera:function(e){return e.renderObjs.camera()},renderer:function(e){return e.renderObjs.renderer()},controls:function(e){return e.renderObjs.controls()},tbControls:function(e){return e.renderObjs.tbControls()},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},bt),Et),stateInit:function(e){var t=e.controlType,n=e.rendererConfig,r=e.extraRenderers;return{forceGraph:new Ce.default,renderObjs:ct({controlType:t,rendererConfig:n,extraRenderers:r})}},init:function(e,t){e.innerHTML="",e.appendChild(t.container=document.createElement("div")),t.container.style.position="relative";var n=document.createElement("div");t.container.appendChild(n),t.renderObjs(n);var r,i=t.renderObjs.camera(),a=t.renderObjs.renderer(),o=t.renderObjs.controls();o.enabled=!!t.enableNavigationControls,t.lastSetCameraZ=i.position.z,t.container.appendChild(r=document.createElement("div")),r.className="graph-info-msg",r.textContent="",t.forceGraph.onLoading((function(){r.textContent="Loading..."})).onFinishLoading((function(){r.textContent=""})).onUpdate((function(){t.graphData=t.forceGraph.graphData(),0===i.position.x&&0===i.position.y&&i.position.z===t.lastSetCameraZ&&t.graphData.nodes.length&&(i.lookAt(t.forceGraph.position),t.lastSetCameraZ=i.position.z=170*Math.cbrt(t.graphData.nodes.length))})).onFinishUpdate((function(){if(t._dragControls){var e=t.graphData.nodes.find((function(e){return e.__initialFixedPos&&!e.__disposeControlsAfterDrag}));e?e.__disposeControlsAfterDrag=!0:t._dragControls.dispose(),t._dragControls=void 0}if(t.enableNodeDrag&&t.enablePointerInteraction&&"d3"===t.forceEngine){var n=t._dragControls=new _e(t.graphData.nodes.map((function(e){return e.__threeObj})).filter((function(e){return e})),i,a.domElement);n.addEventListener("dragstart",(function(e){o.enabled=!1,e.object.__initialPos=e.object.position.clone(),e.object.__prevPos=e.object.position.clone();var t=Ct(e.object).__data;!t.__initialFixedPos&&(t.__initialFixedPos={fx:t.fx,fy:t.fy,fz:t.fz}),!t.__initialPos&&(t.__initialPos={x:t.x,y:t.y,z:t.z}),["x","y","z"].forEach((function(e){return t["f".concat(e)]=t[e]})),a.domElement.classList.add("grabbable")})),n.addEventListener("drag",(function(e){var n=Ct(e.object);if(!e.object.hasOwnProperty("__graphObjType")){var r=e.object.__initialPos,i=e.object.__prevPos,a=e.object.position;n.position.add(a.clone().sub(i)),i.copy(a),a.copy(r)}var o=n.__data,s=n.position,u={x:s.x-o.x,y:s.y-o.y,z:s.z-o.z};["x","y","z"].forEach((function(e){return o["f".concat(e)]=o[e]=s[e]})),t.forceGraph.d3AlphaTarget(.3).resetCountdown(),o.__dragged=!0,t.onNodeDrag(o,u)})),n.addEventListener("dragend",(function(e){delete e.object.__initialPos,delete e.object.__prevPos;var r=Ct(e.object).__data;r.__disposeControlsAfterDrag&&(n.dispose(),delete r.__disposeControlsAfterDrag);var i=r.__initialFixedPos,s=r.__initialPos,u={x:s.x-r.x,y:s.y-r.y,z:s.z-r.z};i&&(["x","y","z"].forEach((function(e){var t="f".concat(e);void 0===i[t]&&delete r[t]})),delete r.__initialFixedPos,delete r.__initialPos,r.__dragged&&(delete r.__dragged,t.onNodeDragEnd(r,u))),t.forceGraph.d3AlphaTarget(0).resetCountdown(),t.enableNavigationControls&&(o.enabled=!0,o.domElement&&o.domElement.ownerDocument&&o.domElement.ownerDocument.dispatchEvent(new PointerEvent("pointerup",{pointerType:"touch"}))),a.domElement.classList.remove("grabbable")}))}})),t.renderObjs.renderer().useLegacyLights=!1,t.renderObjs.objects([new vt.AmbientLight(13421772,Math.PI),new vt.DirectionalLight(16777215,.6*Math.PI),t.forceGraph]).hoverOrderComparator((function(e,t){var n=Ct(e);if(!n)return 1;var r=Ct(t);if(!r)return-1;var i=function(e){return"node"===e.__graphObjType};return i(r)-i(n)})).tooltipContent((function(e){var n=Ct(e);return n&&(0,x.default)(t["".concat(n.__graphObjType,"Label")])(n.__data)||""})).hoverDuringDrag(!1).onHover((function(e){var n=Ct(e);if(n!==t.hoverObj){var r=t.hoverObj?t.hoverObj.__graphObjType:null,i=t.hoverObj?t.hoverObj.__data:null,o=n?n.__graphObjType:null,s=n?n.__data:null;if(r&&r!==o){var u=t["on".concat("node"===r?"Node":"Link","Hover")];u&&u(null,i)}if(o){var l=t["on".concat("node"===o?"Node":"Link","Hover")];l&&l(s,r===o?i:null)}a.domElement.classList[n&&t["on".concat("node"===o?"Node":"Link","Click")]||!n&&t.onBackgroundClick?"add":"remove"]("clickable"),t.hoverObj=n}})).clickAfterDrag(!1).onClick((function(e,n){var r=Ct(e);if(r){var i=t["on".concat("node"===r.__graphObjType?"Node":"Link","Click")];i&&i(r.__data,n)}else t.onBackgroundClick&&t.onBackgroundClick(n)})).onRightClick((function(e,n){var r=Ct(e);if(r){var i=t["on".concat("node"===r.__graphObjType?"Node":"Link","RightClick")];i&&i(r.__data,n)}else t.onBackgroundRightClick&&t.onBackgroundRightClick(n)})),this._animationCycle()}});function Ct(e){for(var t=e;t&&!t.hasOwnProperty("__graphObjType");)t=t.parent;return t}function Mt(){}function St(e){return null==e?Mt:function(){return this.querySelector(e)}}function It(){return[]}function Tt(e){return null==e?It:function(){return this.querySelectorAll(e)}}function kt(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function Rt(e){return function(){return this.matches(e)}}function Lt(e){return function(t){return t.matches(e)}}var Bt=Array.prototype.find;function Dt(){return this.firstElementChild}var Pt=Array.prototype.filter;function Ot(){return Array.from(this.children)}function Nt(e){return new Array(e.length)}function Ft(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Ut(e,t,n,r,i,a){for(var o,s=0,u=t.length,l=a.length;s<l;++s)(o=t[s])?(o.__data__=a[s],r[s]=o):n[s]=new Ft(e,a[s]);for(;s<u;++s)(o=t[s])&&(i[s]=o)}function zt(e,t,n,r,i,a,o){var s,u,l,c=new Map,h=t.length,d=a.length,g=new Array(h);for(s=0;s<h;++s)(u=t[s])&&(g[s]=l=o.call(u,u.__data__,s,t)+"",c.has(l)?i[s]=u:c.set(l,u));for(s=0;s<d;++s)l=o.call(e,a[s],s,a)+"",(u=c.get(l))?(r[s]=u,u.__data__=a[s],c.delete(l)):n[s]=new Ft(e,a[s]);for(s=0;s<h;++s)(u=t[s])&&c.get(g[s])===u&&(i[s]=u)}function jt(e){return e.__data__}function Ht(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Gt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Ft.prototype={constructor:Ft,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Vt=r(7762);var Qt="http://www.w3.org/1999/xhtml",Wt={svg:"http://www.w3.org/2000/svg",xhtml:Qt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function qt(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Wt.hasOwnProperty(t)?{space:Wt[t],local:e}:e}function Kt(e){return function(){this.removeAttribute(e)}}function Xt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Zt(e,t){return function(){this.setAttribute(e,t)}}function Yt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Jt(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function $t(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function en(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function tn(e){return function(){this.style.removeProperty(e)}}function nn(e,t,n){return function(){this.style.setProperty(e,t,n)}}function rn(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function an(e,t){return e.style.getPropertyValue(t)||en(e).getComputedStyle(e,null).getPropertyValue(t)}function on(e){return function(){delete this[e]}}function sn(e,t){return function(){this[e]=t}}function un(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function ln(e){return e.trim().split(/^|\s+/)}function cn(e){return e.classList||new hn(e)}function hn(e){this._node=e,this._names=ln(e.getAttribute("class")||"")}function dn(e,t){for(var n=cn(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function gn(e,t){for(var n=cn(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function pn(e){return function(){dn(this,e)}}function fn(e){return function(){gn(this,e)}}function mn(e,t){return function(){(t.apply(this,arguments)?dn:gn)(this,e)}}function vn(){this.textContent=""}function yn(e){return function(){this.textContent=e}}function An(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function bn(){this.innerHTML=""}function xn(e){return function(){this.innerHTML=e}}function wn(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function En(){this.nextSibling&&this.parentNode.appendChild(this)}function _n(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Cn(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Qt&&t.documentElement.namespaceURI===Qt?t.createElement(e):t.createElementNS(n,e)}}function Mn(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Sn(e){var t=qt(e);return(t.local?Mn:Cn)(t)}function In(){return null}function Tn(){var e=this.parentNode;e&&e.removeChild(this)}function kn(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Rn(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ln(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function Bn(e,t,n){return function(){var r,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function Dn(e,t,n){var r=en(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Pn(e,t){return function(){return Dn(this,e,t)}}function On(e,t){return function(){return Dn(this,e,t.apply(this,arguments))}}hn.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Nn=r(4165),Fn=(0,Nn.Z)().mark(Un);function Un(){var e,t,n,r,i,a,o;return(0,Nn.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:e=this._groups,t=0,n=e.length;case 1:if(!(t<n)){s.next=13;break}r=e[t],i=0,a=r.length;case 3:if(!(i<a)){s.next=10;break}if(!(o=r[i])){s.next=7;break}return s.next=7,o;case 7:++i,s.next=3;break;case 10:++t,s.next=1;break;case 13:case"end":return s.stop()}}),Fn,this)}var zn=[null];function jn(e,t){this._groups=e,this._parents=t}function Hn(){return new jn([[document.documentElement]],zn)}jn.prototype=Hn.prototype=(0,a.Z)({constructor:jn,select:function(e){"function"!==typeof e&&(e=St(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=t[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(a=s[c])&&(o=e.call(a,a.__data__,c,s))&&("__data__"in a&&(o.__data__=a.__data__),l[c]=o);return new jn(r,this._parents)},selectAll:function(e){e="function"===typeof e?kt(e):Tt(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o,s=t[a],u=s.length,l=0;l<u;++l)(o=s[l])&&(r.push(e.call(o,o.__data__,l,s)),i.push(o));return new jn(r,i)},selectChild:function(e){return this.select(null==e?Dt:function(e){return function(){return Bt.call(this.children,e)}}("function"===typeof e?e:Lt(e)))},selectChildren:function(e){return this.selectAll(null==e?Ot:function(e){return function(){return Pt.call(this.children,e)}}("function"===typeof e?e:Lt(e)))},filter:function(e){"function"!==typeof e&&(e=Rt(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&e.call(a,a.__data__,l,o)&&u.push(a);return new jn(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,jt);var n,r=t?zt:Ut,i=this._parents,a=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var o=a.length,s=new Array(o),u=new Array(o),l=new Array(o),c=0;c<o;++c){var h=i[c],d=a[c],g=d.length,p=Ht(e.call(h,h&&h.__data__,c,i)),f=p.length,m=u[c]=new Array(f),v=s[c]=new Array(f);r(h,d,m,v,l[c]=new Array(g),p,t);for(var y,A,b=0,x=0;b<f;++b)if(y=m[b]){for(b>=x&&(x=b+1);!(A=v[x])&&++x<f;);y._next=A||null}}return(s=new jn(s,i))._enter=u,s._exit=l,s},enter:function(){return new jn(this._enter||this._groups.map(Nt),this._parents)},exit:function(){return new jn(this._exit||this._groups.map(Nt),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,a=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),u=0;u<o;++u)for(var l,c=n[u],h=r[u],d=c.length,g=s[u]=new Array(d),p=0;p<d;++p)(l=c[p]||h[p])&&(g[p]=l);for(;u<i;++u)s[u]=n[u];return new jn(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Gt);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],u=s.length,l=i[a]=new Array(u),c=0;c<u;++c)(o=s[c])&&(l[c]=o);l.sort(t)}return new jn(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var e,t=0,n=(0,Vt.Z)(this);try{for(n.s();!(e=n.n()).done;){e.value;++t}}catch(r){n.e(r)}finally{n.f()}return t},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var n=qt(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Xt:Kt:"function"===typeof t?n.local?$t:Jt:n.local?Yt:Zt)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?tn:"function"===typeof t?rn:nn)(e,t,null==n?"":n)):an(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?on:"function"===typeof t?un:sn)(e,t)):this.node()[e]},classed:function(e,t){var n=ln(e+"");if(arguments.length<2){for(var r=cn(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?mn:t?pn:fn)(n,t))},text:function(e){return arguments.length?this.each(null==e?vn:("function"===typeof e?An:yn)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?bn:("function"===typeof e?wn:xn)(e)):this.node().innerHTML},raise:function(){return this.each(En)},lower:function(){return this.each(_n)},append:function(e){var t="function"===typeof e?e:Sn(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:Sn(e),r=null==t?In:"function"===typeof t?t:St(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Tn)},clone:function(e){return this.select(e?Rn:kn)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,a=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),o=a.length;if(!(arguments.length<2)){for(s=t?Bn:Ln,r=0;r<o;++r)this.each(s(a[r],t,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<o;++r)if((i=a[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(e,t){return this.each(("function"===typeof t?On:Pn)(e,t))}},Symbol.iterator,Un);var Gn=Hn;function Vn(e){return"string"===typeof e?new jn([[document.querySelector(e)]],[document.documentElement]):new jn([[e]],zn)}var Qn=r(6383),Wn={passive:!1},qn={capture:!0,passive:!1};function Kn(e){e.stopImmediatePropagation()}function Xn(e){e.preventDefault(),e.stopImmediatePropagation()}function Zn(e){var t=e.document.documentElement,n=Vn(e).on("dragstart.drag",Xn,qn);"onselectstart"in t?n.on("selectstart.drag",Xn,qn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Yn(e,t){var n=e.document.documentElement,r=Vn(e).on("dragstart.drag",null);t&&(r.on("click.drag",Xn,qn),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Jn(e){return((e=Math.exp(e))+1/e)/2}var $n=function e(t,n,r){function i(e,i){var a,o,s=e[0],u=e[1],l=e[2],c=i[0],h=i[1],d=i[2],g=c-s,p=h-u,f=g*g+p*p;if(f<1e-12)o=Math.log(d/l)/t,a=function(e){return[s+e*g,u+e*p,l*Math.exp(t*e*o)]};else{var m=Math.sqrt(f),v=(d*d-l*l+r*f)/(2*l*n*m),y=(d*d-l*l-r*f)/(2*d*n*m),A=Math.log(Math.sqrt(v*v+1)-v),b=Math.log(Math.sqrt(y*y+1)-y);o=(b-A)/t,a=function(e){var r,i=e*o,a=Jn(A),c=l/(n*m)*(a*(r=t*i+A,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(A));return[s+c*g,u+c*p,l*a/Jn(t*i+A)]}}return a.duration=1e3*o*t/Math.SQRT2,a}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function er(e,t){if(e=function(e){for(var t;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}var tr=r(5531);function nr(e,t,n){var r=new tr.B7;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r}var rr=(0,Qn.Z)("start","end","cancel","interrupt"),ir=[],ar=0,or=1,sr=2,ur=3,lr=4,cr=5,hr=6;function dr(e,t,n,r,i,a){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function a(e){n.state=or,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(a){var l,c,h,d;if(n.state!==or)return u();for(l in i)if((d=i[l]).name===n.name){if(d.state===ur)return nr(o);d.state===lr?(d.state=hr,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[l]):+l<t&&(d.state=hr,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[l])}if(nr((function(){n.state===ur&&(n.state=lr,n.timer.restart(s,n.delay,n.time),s(a))})),n.state=sr,n.on.call("start",e,e.__data__,n.index,n.group),n.state===sr){for(n.state=ur,r=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(d=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=d);r.length=c+1}}function s(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(u),n.state=cr,1),a=-1,o=r.length;++a<o;)r[a].call(e,i);n.state===cr&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){for(var r in n.state=hr,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=(0,tr.HT)(a,0,n.time)}(e,n,{name:t,index:r,group:i,on:rr,tween:ir,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:ar})}function gr(e,t){var n=fr(e,t);if(n.state>ar)throw new Error("too late; already scheduled");return n}function pr(e,t){var n=fr(e,t);if(n.state>ur)throw new Error("too late; already running");return n}function fr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function mr(e,t){var n,r,i,a=e.__transition,o=!0;if(a){for(i in t=null==t?null:t+"",a)(n=a[i]).name===t?(r=n.state>sr&&n.state<cr,n.state=hr,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete e.__transition}}function vr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var yr,Ar=180/Math.PI,br={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xr(e,t,n,r,i,a){var o,s,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Ar,skewX:Math.atan(u)*Ar,scaleX:o,scaleY:s}}function wr(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var s=[],u=[];return a=e(a),o=e(o),function(e,r,i,a,o,s){if(e!==i||r!==a){var u=o.push("translate(",null,t,null,n);s.push({i:u-4,x:vr(e,i)},{i:u-2,x:vr(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,u),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:vr(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,s,u),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:vr(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,s,u),function(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:vr(e,n)},{i:s-2,x:vr(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,u),a=o=null,function(e){for(var t,n=-1,r=u.length;++n<r;)s[(t=u[n]).i]=t.x(e);return s.join("")}}}var Er=wr((function(e){var t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?br:xr(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),_r=wr((function(e){return null==e?br:(yr||(yr=document.createElementNS("http://www.w3.org/2000/svg","g")),yr.setAttribute("transform",e),(e=yr.transform.baseVal.consolidate())?xr((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):br)}),", ",")",")");function Cr(e,t){var n,r;return function(){var i=pr(this,e),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}i.tween=r}}function Mr(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var a=pr(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=s;break}u===l&&i.push(s)}a.tween=i}}function Sr(e,t,n){var r=e._id;return e.each((function(){var e=pr(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return fr(e,r).value[t]}}function Ir(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Tr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function kr(){}var Rr=.7,Lr=1/Rr,Br="\\s*([+-]?\\d+)\\s*",Dr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Or=/^#([0-9a-f]{3,8})$/,Nr=new RegExp("^rgb\\(".concat(Br,",").concat(Br,",").concat(Br,"\\)$")),Fr=new RegExp("^rgb\\(".concat(Pr,",").concat(Pr,",").concat(Pr,"\\)$")),Ur=new RegExp("^rgba\\(".concat(Br,",").concat(Br,",").concat(Br,",").concat(Dr,"\\)$")),zr=new RegExp("^rgba\\(".concat(Pr,",").concat(Pr,",").concat(Pr,",").concat(Dr,"\\)$")),jr=new RegExp("^hsl\\(".concat(Dr,",").concat(Pr,",").concat(Pr,"\\)$")),Hr=new RegExp("^hsla\\(".concat(Dr,",").concat(Pr,",").concat(Pr,",").concat(Dr,"\\)$")),Gr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Vr(){return this.rgb().formatHex()}function Qr(){return this.rgb().formatRgb()}function Wr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Or.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?qr(t):3===n?new Zr(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Kr(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Kr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Nr.exec(e))?new Zr(t[1],t[2],t[3],1):(t=Fr.exec(e))?new Zr(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Ur.exec(e))?Kr(t[1],t[2],t[3],t[4]):(t=zr.exec(e))?Kr(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=jr.exec(e))?ni(t[1],t[2]/100,t[3]/100,1):(t=Hr.exec(e))?ni(t[1],t[2]/100,t[3]/100,t[4]):Gr.hasOwnProperty(e)?qr(Gr[e]):"transparent"===e?new Zr(NaN,NaN,NaN,0):null}function qr(e){return new Zr(e>>16&255,e>>8&255,255&e,1)}function Kr(e,t,n,r){return r<=0&&(e=t=n=NaN),new Zr(e,t,n,r)}function Xr(e,t,n,r){return 1===arguments.length?((i=e)instanceof kr||(i=Wr(i)),i?new Zr((i=i.rgb()).r,i.g,i.b,i.opacity):new Zr):new Zr(e,t,n,null==r?1:r);var i}function Zr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Yr(){return"#".concat(ti(this.r)).concat(ti(this.g)).concat(ti(this.b))}function Jr(){var e=$r(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(ei(this.r),", ").concat(ei(this.g),", ").concat(ei(this.b)).concat(1===e?")":", ".concat(e,")"))}function $r(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ei(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ti(e){return((e=ei(e))<16?"0":"")+e.toString(16)}function ni(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ii(e,t,n,r)}function ri(e){if(e instanceof ii)return new ii(e.h,e.s,e.l,e.opacity);if(e instanceof kr||(e=Wr(e)),!e)return new ii;if(e instanceof ii)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new ii(o,s,u,e.opacity)}function ii(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ai(e){return(e=(e||0)%360)<0?e+360:e}function oi(e){return Math.max(0,Math.min(1,e||0))}function si(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function ui(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}Ir(kr,Wr,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Vr,formatHex:Vr,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ri(this).formatHsl()},formatRgb:Qr,toString:Qr}),Ir(Zr,Xr,Tr(kr,{brighter:function(e){return e=null==e?Lr:Math.pow(Lr,e),new Zr(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?Rr:Math.pow(Rr,e),new Zr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},clamp:function(){return new Zr(ei(this.r),ei(this.g),ei(this.b),$r(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yr,formatHex:Yr,formatHex8:function(){return"#".concat(ti(this.r)).concat(ti(this.g)).concat(ti(this.b)).concat(ti(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Jr,toString:Jr})),Ir(ii,(function(e,t,n,r){return 1===arguments.length?ri(e):new ii(e,t,n,null==r?1:r)}),Tr(kr,{brighter:function(e){return e=null==e?Lr:Math.pow(Lr,e),new ii(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Rr:Math.pow(Rr,e),new ii(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Zr(si(e>=240?e-240:e+120,i,r),si(e,i,r),si(e<120?e+240:e-120,i,r),this.opacity)},clamp:function(){return new ii(ai(this.h),oi(this.s),oi(this.l),$r(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=$r(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(ai(this.h),", ").concat(100*oi(this.s),"%, ").concat(100*oi(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));var li=function(e){return function(){return e}};function ci(e,t){return function(n){return e+n*t}}function hi(e){return 1===(e=+e)?di:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):li(isNaN(t)?n:t)}}function di(e,t){var n=t-e;return n?ci(e,n):li(isNaN(e)?t:e)}var gi=function e(t){var n=hi(t);function r(e,t){var r=n((e=Xr(e)).r,(t=Xr(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=di(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function pi(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Xr(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}pi((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return ui((n-r/t)*t,o,i,a,s)}})),pi((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return ui((n-r/t)*t,i,a,o,s)}}));var fi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mi=new RegExp(fi.source,"g");function vi(e,t){var n,r,i,a=fi.lastIndex=mi.lastIndex=0,o=-1,s=[],u=[];for(e+="",t+="";(n=fi.exec(e))&&(r=mi.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:vr(n,r)})),a=mi.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function yi(e,t){var n;return("number"===typeof t?vr:t instanceof Wr?gi:(n=Wr(t))?(t=n,gi):vi)(e,t)}function Ai(e){return function(){this.removeAttribute(e)}}function bi(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xi(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function wi(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function Ei(e,t,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return(o=this.getAttribute(e))===(s=u+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,u));this.removeAttribute(e)}}function _i(e,t,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return(o=this.getAttributeNS(e.space,e.local))===(s=u+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,u));this.removeAttributeNS(e.space,e.local)}}function Ci(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Mi(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Si(e,t){return function(){gr(this,e).delay=+t.apply(this,arguments)}}function Ii(e,t){return t=+t,function(){gr(this,e).delay=t}}function Ti(e,t){return function(){pr(this,e).duration=+t.apply(this,arguments)}}function ki(e,t){return t=+t,function(){pr(this,e).duration=t}}var Ri=Gn.prototype.constructor;function Li(e){return function(){this.style.removeProperty(e)}}var Bi=0;function Di(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Pi(){return++Bi}var Oi=Gn.prototype;Di.prototype=function(e){return Gn().transition(e)}.prototype=(0,a.Z)({constructor:Di,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=St(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,u,l=r[o],c=l.length,h=a[o]=new Array(c),d=0;d<c;++d)(s=l[d])&&(u=e.call(s,s.__data__,d,l))&&("__data__"in s&&(u.__data__=s.__data__),h[d]=u,dr(h[d],t,n,d,h,fr(s,n)));return new Di(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Tt(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var d,g=e.call(u,u.__data__,h,l),p=fr(u,n),f=0,m=g.length;f<m;++f)(d=g[f])&&dr(d,t,n,f,g,p);a.push(g),o.push(u)}return new Di(a,o,t,n)},selectChild:Oi.selectChild,selectChildren:Oi.selectChildren,filter:function(e){"function"!==typeof e&&(e=Rt(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&e.call(a,a.__data__,l,o)&&u.push(a);return new Di(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,l=t[s],c=n[s],h=l.length,d=o[s]=new Array(h),g=0;g<h;++g)(u=l[g]||c[g])&&(d[g]=u);for(;s<r;++s)o[s]=t[s];return new Di(o,this._parents,this._name,this._id)},selection:function(){return new Ri(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Pi(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)if(o=s[l]){var c=fr(o,t);dr(o,e,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Di(r,this._parents,e,n)},call:Oi.call,nodes:Oi.nodes,node:Oi.node,size:Oi.size,empty:Oi.empty,each:Oi.each,on:function(e,t){var n=this._id;return arguments.length<2?fr(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?gr:pr;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}(n,e,t))},attr:function(e,t){var n=qt(e),r="transform"===n?_r:yi;return this.attrTween(e,"function"===typeof t?(n.local?_i:Ei)(n,r,Sr(this,"attr."+e,t)):null==t?(n.local?bi:Ai)(n):(n.local?wi:xi)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=qt(e);return this.tween(n,(r.local?Ci:Mi)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?Er:yi;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=an(this,e),o=(this.style.removeProperty(e),an(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}(e,r)).on("end.style."+e,Li(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var o=an(this,e),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(e),u=s=an(this,e)),o===u?null:o===r&&u===i?a:(i=u,a=t(r=o,s))}}(e,r,Sr(this,"style."+e,t))).each(function(e,t){var n,r,i,a,o="style."+t,s="end."+o;return function(){var u=pr(this,e),l=u.on,c=null==u.value[o]?a||(a=Li(t)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var o=an(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,a,n)),r}return a._value=t,a}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Sr(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=fr(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((null==t?Cr:Mr)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Si:Ii)(t,e)):fr(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Ti:ki)(t,e)):fr(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){pr(this,e).ease=t}}(t,e)):fr(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;pr(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},u={value:function(){0===--i&&a()}};n.each((function(){var n=pr(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),n.on=t})),0===i&&a()}))}},Symbol.iterator,Oi[Symbol.iterator]);var Ni={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Fi(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}Gn.prototype.interrupt=function(e){return this.each((function(){mr(this,e)}))},Gn.prototype.transition=function(e){var t,n;e instanceof Di?(t=e._id,e=e._name):(t=Pi(),(n=Ni).time=(0,tr.zO)(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)(o=s[l])&&dr(o,e,t,l,s,n||Fi(o,t));return new Di(r,this._parents,e,t)};var Ui=function(e){return function(){return e}};function zi(e,t){var n=t.sourceEvent,r=t.target,i=t.transform,a=t.dispatch;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function ji(e,t,n){this.k=e,this.x=t,this.y=n}ji.prototype={constructor:ji,scale:function(e){return 1===e?this:new ji(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new ji(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Hi=new ji(1,0,0);function Gi(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Hi;return e.__zoom}function Vi(e){e.stopImmediatePropagation()}function Qi(e){e.preventDefault(),e.stopImmediatePropagation()}function Wi(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function qi(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Ki(){return this.__zoom||Hi}function Xi(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Zi(){return navigator.maxTouchPoints||"ontouchstart"in this}function Yi(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function Ji(){var e,t,n,r=Wi,i=qi,a=Yi,o=Xi,s=Zi,u=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,h=$n,d=(0,Qn.Z)("start","zoom","end"),g=500,p=150,f=0,m=10;function v(e){e.property("__zoom",Ki).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",M).filter(s).on("touchstart.zoom",S).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(e,t){return(t=Math.max(u[0],Math.min(u[1],t)))===e.k?e:new ji(t,e.x,e.y)}function A(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new ji(e.k,r,i)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function x(e,t,n,r){e.on("start.zoom",(function(){w(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){w(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,a=arguments,o=w(e,a).event(r),s=i.apply(e,a),u=null==n?b(s):"function"===typeof n?n.apply(e,a):n,l=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),c=e.__zoom,d="function"===typeof t?t.apply(e,a):t,g=h(c.invert(u).concat(l/c.k),d.invert(u).concat(l/d.k));return function(e){if(1===e)e=d;else{var t=g(e),n=l/t[2];e=new ji(n,u[0]-t[0]*n,u[1]-t[1]*n)}o.zoom(null,e)}}))}function w(e,t,n){return!n&&e.__zooming||new E(e,t)}function E(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function _(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(r.apply(this,arguments)){var s=w(this,n).event(e),c=this.__zoom,h=Math.max(u[0],Math.min(u[1],c.k*Math.pow(2,o.apply(this,arguments)))),d=er(e);if(s.wheel)s.mouse[0][0]===d[0]&&s.mouse[0][1]===d[1]||(s.mouse[1]=c.invert(s.mouse[0]=d)),clearTimeout(s.wheel);else{if(c.k===h)return;s.mouse=[d,c.invert(d)],mr(this),s.start()}Qi(e),s.wheel=setTimeout((function(){s.wheel=null,s.end()}),p),s.zoom("mouse",a(A(y(c,h),s.mouse[0],s.mouse[1]),s.extent,l))}}function C(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];if(!n&&r.apply(this,arguments)){var s=e.currentTarget,u=w(this,i,!0).event(e),c=Vn(e.view).on("mousemove.zoom",(function(e){if(Qi(e),!u.moved){var t=e.clientX-d,n=e.clientY-g;u.moved=t*t+n*n>f}u.event(e).zoom("mouse",a(A(u.that.__zoom,u.mouse[0]=er(e,s),u.mouse[1]),u.extent,l))}),!0).on("mouseup.zoom",(function(e){c.on("mousemove.zoom mouseup.zoom",null),Yn(e.view,u.moved),Qi(e),u.event(e).end()}),!0),h=er(e,s),d=e.clientX,g=e.clientY;Zn(e.view),Vi(e),u.mouse=[h,this.__zoom.invert(h)],mr(this),u.start()}}function M(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(r.apply(this,arguments)){var s=this.__zoom,u=er(e.changedTouches?e.changedTouches[0]:e,this),h=s.invert(u),d=s.k*(e.shiftKey?.5:2),g=a(A(y(s,d),u,h),i.apply(this,n),l);Qi(e),c>0?Vn(this).transition().duration(c).call(x,g,u,e):Vn(this).call(v.transform,g,u,e)}}function S(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(r.apply(this,arguments)){var s,u,l,c,h=n.touches,d=h.length,p=w(this,a,n.changedTouches.length===d).event(n);for(Vi(n),u=0;u<d;++u)c=[c=er(l=h[u],this),this.__zoom.invert(c),l.identifier],p.touch0?p.touch1||p.touch0[2]===c[2]||(p.touch1=c,p.taps=0):(p.touch0=c,s=!0,p.taps=1+!!e);e&&(e=clearTimeout(e)),s&&(p.taps<2&&(t=c[0],e=setTimeout((function(){e=null}),g)),mr(this),p.start())}}function I(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s,u,c=w(this,n).event(e),h=e.changedTouches,d=h.length;for(Qi(e),i=0;i<d;++i)s=er(o=h[i],this),c.touch0&&c.touch0[2]===o.identifier?c.touch0[0]=s:c.touch1&&c.touch1[2]===o.identifier&&(c.touch1[0]=s);if(o=c.that.__zoom,c.touch1){var g=c.touch0[0],p=c.touch0[1],f=c.touch1[0],m=c.touch1[1],v=(v=f[0]-g[0])*v+(v=f[1]-g[1])*v,b=(b=m[0]-p[0])*b+(b=m[1]-p[1])*b;o=y(o,Math.sqrt(v/b)),s=[(g[0]+f[0])/2,(g[1]+f[1])/2],u=[(p[0]+m[0])/2,(p[1]+m[1])/2]}else{if(!c.touch0)return;s=c.touch0[0],u=c.touch0[1]}c.zoom("touch",a(A(o,s,u),c.extent,l))}}function T(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(this.__zooming){var o,s,u=w(this,i).event(e),l=e.changedTouches,c=l.length;for(Vi(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),g),o=0;o<c;++o)s=l[o],u.touch0&&u.touch0[2]===s.identifier?delete u.touch0:u.touch1&&u.touch1[2]===s.identifier&&delete u.touch1;if(u.touch1&&!u.touch0&&(u.touch0=u.touch1,delete u.touch1),u.touch0)u.touch0[1]=this.__zoom.invert(u.touch0[0]);else if(u.end(),2===u.taps&&(s=er(s,this),Math.hypot(t[0]-s[0],t[1]-s[1])<m)){var h=Vn(this).on("dblclick.zoom");h&&h.apply(this,arguments)}}}return v.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",Ki),e!==i?x(e,t,n,r):i.interrupt().each((function(){w(this,arguments).event(r).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},v.scaleBy=function(e,t,n,r){v.scaleTo(e,(function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)}),n,r)},v.scaleTo=function(e,t,n,r){v.transform(e,(function(){var e=i.apply(this,arguments),r=this.__zoom,o=null==n?b(e):"function"===typeof n?n.apply(this,arguments):n,s=r.invert(o),u="function"===typeof t?t.apply(this,arguments):t;return a(A(y(r,u),o,s),e,l)}),n,r)},v.translateBy=function(e,t,n,r){v.transform(e,(function(){return a(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),i.apply(this,arguments),l)}),null,r)},v.translateTo=function(e,t,n,r,o){v.transform(e,(function(){var e=i.apply(this,arguments),o=this.__zoom,s=null==r?b(e):"function"===typeof r?r.apply(this,arguments):r;return a(Hi.translate(s[0],s[1]).scale(o.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,l)}),r,o)},E.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Vn(this.that).datum();d.call(e,this.that,new zi(e,{sourceEvent:this.sourceEvent,target:v,type:e,transform:this.that.__zoom,dispatch:d}),t)}},v.wheelDelta=function(e){return arguments.length?(o="function"===typeof e?e:Ui(+e),v):o},v.filter=function(e){return arguments.length?(r="function"===typeof e?e:Ui(!!e),v):r},v.touchable=function(e){return arguments.length?(s="function"===typeof e?e:Ui(!!e),v):s},v.extent=function(e){return arguments.length?(i="function"===typeof e?e:Ui([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),v):i},v.scaleExtent=function(e){return arguments.length?(u[0]=+e[0],u[1]=+e[1],v):[u[0],u[1]]},v.translateExtent=function(e){return arguments.length?(l[0][0]=+e[0][0],l[1][0]=+e[1][0],l[0][1]=+e[0][1],l[1][1]=+e[1][1],v):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},v.constrain=function(e){return arguments.length?(a=e,v):a},v.duration=function(e){return arguments.length?(c=+e,v):c},v.interpolate=function(e){return arguments.length?(h=e,v):h},v.on=function(){var e=d.on.apply(d,arguments);return e===d?v:e},v.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,v):Math.sqrt(f)},v.tapDistance=function(e){return arguments.length?(m=+e,v):m},v}Gi.prototype=ji.prototype;var $i=function(e){return function(){return e}};function ea(e,t){var n=t.sourceEvent,r=t.subject,i=t.target,a=t.identifier,o=t.active,s=t.x,u=t.y,l=t.dx,c=t.dy,h=t.dispatch;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:h}})}function ta(e){return!e.ctrlKey&&!e.button}function na(){return this.parentNode}function ra(e,t){return null==t?{x:e.x,y:e.y}:t}function ia(){return navigator.maxTouchPoints||"ontouchstart"in this}ea.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var aa=r(420),oa=r(6556),sa=r(2665),ua=r(8465);var la=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return(0,ua.Z)(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),(0,sa.Z)(e,t,{leading:r,maxWait:t,trailing:i})},ca=r(707);function ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pa(r.key),r)}}function da(e){return function(e){if(Array.isArray(e))return ga(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ga(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pa(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var fa=function(e,t,n){return(e<<16)+(t<<8)+n},ma=function(e,t){return 123*e%Math.pow(2,t)},va=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.csBits=t,this.registry=["__reserved for background__"]}var t,n,r;return t=e,n=[{key:"register",value:function(e){if(this.registry.length>=Math.pow(2,24-this.csBits))return null;var t,n=this.registry.length,r=ma(n,this.csBits),i=(t=n+(r<<24-this.csBits),"#".concat(Math.min(t,Math.pow(2,24)).toString(16).padStart(6,"0")));return this.registry.push(e),i}},{key:"lookup",value:function(e){var t="string"===typeof e?function(e){var t=(0,ca.Z)(e).toRgb(),n=t.r,r=t.g,i=t.b;return fa(n,r,i)}(e):fa.apply(void 0,da(e));if(!t)return null;var n=t&Math.pow(2,24-this.csBits)-1,r=t>>24-this.csBits&Math.pow(2,this.csBits)-1;return ma(n,this.csBits)!==r||n>=this.registry.length?null:this.registry[n]}}],n&&ha(t.prototype,n),r&&ha(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ya=r(2105),Aa=r(1813),ba=r(2645),xa=r(5442),wa=r(9090),Ea=Math.abs,_a=Math.cos,Ca=Math.sin,Ma=Math.acos,Sa=Math.atan2,Ia=Math.sqrt,Ta=Math.pow;function ka(e){return e<0?-Ta(-e,1/3):Ta(e,1/3)}var Ra=Math.PI,La=2*Ra,Ba=Ra/2,Da=Number.MAX_SAFE_INTEGER||9007199254740991,Pa=Number.MIN_SAFE_INTEGER||-9007199254740991,Oa={x:0,y:0,z:0},Na={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,t){var n=t(e),r=n.x*n.x+n.y*n.y;return"undefined"!==typeof n.z&&(r+=n.z*n.z),Ia(r)},compute:function(e,t,n){if(0===e)return t[0].t=0,t[0];var r=t.length-1;if(1===e)return t[r].t=1,t[r];var i=1-e,a=t;if(0===r)return t[0].t=e,t[0];if(1===r){var o={x:i*a[0].x+e*a[1].x,y:i*a[0].y+e*a[1].y,t:e};return n&&(o.z=i*a[0].z+e*a[1].z),o}if(r<4){var s,u,l,c=i*i,h=e*e,d=0;2===r?(a=[a[0],a[1],a[2],Oa],s=c,u=i*e*2,l=h):3===r&&(s=c*i,u=c*e*3,l=i*h*3,d=e*h);var g={x:s*a[0].x+u*a[1].x+l*a[2].x+d*a[3].x,y:s*a[0].y+u*a[1].y+l*a[2].y+d*a[3].y,t:e};return n&&(g.z=s*a[0].z+u*a[1].z+l*a[2].z+d*a[3].z),g}for(var p=JSON.parse(JSON.stringify(t));p.length>1;){for(var f=0;f<p.length-1;f++)p[f]={x:p[f].x+(p[f+1].x-p[f].x)*e,y:p[f].y+(p[f+1].y-p[f].y)*e},"undefined"!==typeof p[f].z&&(p[f].z=p[f].z+(p[f+1].z-p[f].z)*e);p.splice(p.length-1,1)}return p[0].t=e,p[0]},computeWithRatios:function(e,t,n,r){var i,a=1-e,o=n,s=t,u=o[0],l=o[1],c=o[2],h=o[3];return u*=a,l*=e,2===s.length?(i=u+l,{x:(u*s[0].x+l*s[1].x)/i,y:(u*s[0].y+l*s[1].y)/i,z:!!r&&(u*s[0].z+l*s[1].z)/i,t:e}):(u*=a,l*=2*a,c*=e*e,3===s.length?(i=u+l+c,{x:(u*s[0].x+l*s[1].x+c*s[2].x)/i,y:(u*s[0].y+l*s[1].y+c*s[2].y)/i,z:!!r&&(u*s[0].z+l*s[1].z+c*s[2].z)/i,t:e}):(u*=a,l*=1.5*a,c*=3*a,h*=e*e*e,4===s.length?(i=u+l+c+h,{x:(u*s[0].x+l*s[1].x+c*s[2].x+h*s[3].x)/i,y:(u*s[0].y+l*s[1].y+c*s[2].y+h*s[3].y)/i,z:!!r&&(u*s[0].z+l*s[1].z+c*s[2].z+h*s[3].z)/i,t:e}):void 0))},derive:function(e,t){for(var n=[],r=e,i=r.length,a=i-1;i>1;i--,a--){for(var o,s=[],u=0;u<a;u++)o={x:a*(r[u+1].x-r[u].x),y:a*(r[u+1].y-r[u].y)},t&&(o.z=a*(r[u+1].z-r[u].z)),s.push(o);n.push(s),r=s}return n},between:function(e,t,n){return t<=e&&e<=n||Na.approximately(e,t)||Na.approximately(e,n)},approximately:function(e,t,n){return Ea(e-t)<=(n||1e-6)},length:function(e){for(var t,n=Na.Tvalues.length,r=0,i=0;i<n;i++)t=.5*Na.Tvalues[i]+.5,r+=Na.Cvalues[i]*Na.arcfn(t,e);return.5*r},map:function(e,t,n,r,i){return r+(i-r)*((e-t)/(n-t))},lerp:function(e,t,n){var r={x:t.x+e*(n.x-t.x),y:t.y+e*(n.y-t.y)};return void 0!==t.z&&void 0!==n.z&&(r.z=t.z+e*(n.z-t.z)),r},pointToString:function(e){var t=e.x+"/"+e.y;return"undefined"!==typeof e.z&&(t+="/"+e.z),t},pointsToString:function(e){return"["+e.map(Na.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,t,n){var r=t.x-e.x,i=t.y-e.y,a=n.x-e.x,o=n.y-e.y;return Sa(r*o-i*a,r*a+i*o)},round:function(e,t){var n=""+e,r=n.indexOf(".");return parseFloat(n.substring(0,r+1+t))},dist:function(e,t){var n=e.x-t.x,r=e.y-t.y;return Ia(n*n+r*r)},closest:function(e,t){var n,r,i=Ta(2,63);return e.forEach((function(e,a){(r=Na.dist(t,e))<i&&(i=r,n=a)})),{mdist:i,mpos:n}},abcratio:function(e,t){if(2!==t&&3!==t)return!1;if("undefined"===typeof e)e=.5;else if(0===e||1===e)return e;var n=Ta(e,t)+Ta(1-e,t);return Ea((n-1)/n)},projectionratio:function(e,t){if(2!==t&&3!==t)return!1;if("undefined"===typeof e)e=.5;else if(0===e||1===e)return e;var n=Ta(1-e,t);return n/(Ta(e,t)+n)},lli8:function(e,t,n,r,i,a,o,s){var u=(e-n)*(a-s)-(t-r)*(i-o);return 0!=u&&{x:((e*r-t*n)*(i-o)-(e-n)*(i*s-a*o))/u,y:((e*r-t*n)*(a-s)-(t-r)*(i*s-a*o))/u}},lli4:function(e,t,n,r){var i=e.x,a=e.y,o=t.x,s=t.y,u=n.x,l=n.y,c=r.x,h=r.y;return Na.lli8(i,a,o,s,u,l,c,h)},lli:function(e,t){return Na.lli4(e,e.c,t,t.c)},makeline:function(e,t){return new qa(e.x,e.y,(e.x+t.x)/2,(e.y+t.y)/2,t.x,t.y)},findbbox:function(e){var t=Da,n=Da,r=Pa,i=Pa;return e.forEach((function(e){var a=e.bbox();t>a.x.min&&(t=a.x.min),n>a.y.min&&(n=a.y.min),r<a.x.max&&(r=a.x.max),i<a.y.max&&(i=a.y.max)})),{x:{min:t,mid:(t+r)/2,max:r,size:r-t},y:{min:n,mid:(n+i)/2,max:i,size:i-n}}},shapeintersections:function(e,t,n,r,i){if(!Na.bboxoverlap(t,r))return[];var a=[],o=[e.startcap,e.forward,e.back,e.endcap],s=[n.startcap,n.forward,n.back,n.endcap];return o.forEach((function(t){t.virtual||s.forEach((function(r){if(!r.virtual){var o=t.intersects(r,i);o.length>0&&(o.c1=t,o.c2=r,o.s1=e,o.s2=n,a.push(o))}}))})),a},makeshape:function(e,t,n){var r=t.points.length,i=e.points.length,a=Na.makeline(t.points[r-1],e.points[0]),o=Na.makeline(e.points[i-1],t.points[0]),s={startcap:a,forward:e,back:t,endcap:o,bbox:Na.findbbox([a,e,t,o]),intersections:function(e){return Na.shapeintersections(s,s.bbox,e,e.bbox,n)}};return s},getminmax:function(e,t,n){if(!n)return{min:0,max:0};var r,i,a=Da,o=Pa;-1===n.indexOf(0)&&(n=[0].concat(n)),-1===n.indexOf(1)&&n.push(1);for(var s=0,u=n.length;s<u;s++)r=n[s],(i=e.get(r))[t]<a&&(a=i[t]),i[t]>o&&(o=i[t]);return{min:a,mid:(a+o)/2,max:o,size:o-a}},align:function(e,t){var n=t.p1.x,r=t.p1.y,i=-Sa(t.p2.y-r,t.p2.x-n);return e.map((function(e){return{x:(e.x-n)*_a(i)-(e.y-r)*Ca(i),y:(e.x-n)*Ca(i)+(e.y-r)*_a(i)}}))},roots:function(e,t){t=t||{p1:{x:0,y:0},p2:{x:1,y:0}};var n=e.length-1,r=Na.align(e,t),i=function(e){return 0<=e&&e<=1};if(2===n){var a=r[0].y,o=r[1].y,s=r[2].y,u=a-2*o+s;if(0!==u){var l=-Ia(o*o-a*s),c=-a+o;return[-(l+c)/u,-(-l+c)/u].filter(i)}return o!==s&&0===u?[(2*o-s)/(2*o-2*s)].filter(i):[]}var h=r[0].y,d=r[1].y,g=r[2].y,p=3*d-h-3*g+r[3].y,f=3*h-6*d+3*g,m=-3*h+3*d,v=h;if(Na.approximately(p,0)){if(Na.approximately(f,0))return Na.approximately(m,0)?[]:[-v/m].filter(i);var y=Ia(m*m-4*f*v),A=2*f;return[(y-m)/A,(-m-y)/A].filter(i)}var b,x=(3*(m/=p)-(f/=p)*f)/3,w=x/3,E=(2*f*f*f-9*f*m+27*(v/=p))/27,_=E/2,C=_*_+w*w*w;if(C<0){var M=-x/3,S=Ia(M*M*M),I=-E/(2*S),T=Ma(I<-1?-1:I>1?1:I),k=2*ka(S);return[k*_a(T/3)-f/3,k*_a((T+La)/3)-f/3,k*_a((T+2*La)/3)-f/3].filter(i)}if(0===C)return[2*(b=_<0?ka(-_):-ka(_))-f/3,-b-f/3].filter(i);var R=Ia(C);return[(b=ka(-_+R))-ka(_+R)-f/3].filter(i)},droots:function(e){if(3===e.length){var t=e[0],n=e[1],r=e[2],i=t-2*n+r;if(0!==i){var a=-Ia(n*n-t*r),o=-t+n;return[-(a+o)/i,-(-a+o)/i]}return n!==r&&0===i?[(2*n-r)/(2*(n-r))]:[]}if(2===e.length){var s=e[0],u=e[1];return s!==u?[s/(s-u)]:[]}return[]},curvature:function(e,t,n,r,i){var a,o,s,u,l,c,h=Na.compute(e,t),d=Na.compute(e,n),g=h.x*h.x+h.y*h.y;if(r?(a=Ia(Ta(h.y*d.z-d.y*h.z,2)+Ta(h.z*d.x-d.z*h.x,2)+Ta(h.x*d.y-d.x*h.y,2)),o=Ta(g+h.z*h.z,1.5)):(a=h.x*d.y-h.y*d.x,o=Ta(g,1.5)),0===a||0===o)return{k:0,r:0};if(l=a/o,c=o/a,!i){var p=Na.curvature(e-.001,t,n,r,!0).k,f=Na.curvature(e+.001,t,n,r,!0).k;u=(f-l+(l-p))/2,s=(Ea(f-l)+Ea(l-p))/2}return{k:l,r:c,dk:u,adk:s}},inflections:function(e){if(e.length<4)return[];var t=Na.align(e,{p1:e[0],p2:e.slice(-1)[0]}),n=t[2].x*t[1].y,r=t[3].x*t[1].y,i=t[1].x*t[2].y,a=18*(-3*n+2*r+3*i-t[3].x*t[2].y),o=18*(3*n-r-3*i),s=18*(i-n);if(Na.approximately(a,0)){if(!Na.approximately(o,0)){var u=-s/o;if(0<=u&&u<=1)return[u]}return[]}var l=2*a;if(Na.approximately(l,0))return[];var c=o*o-4*a*s;if(c<0)return[];var h=Math.sqrt(c);return[(h-o)/l,-(o+h)/l].filter((function(e){return 0<=e&&e<=1}))},bboxoverlap:function(e,t){for(var n,r,i,a,o=["x","y"],s=o.length,u=0;u<s;u++)if(r=e[n=o[u]].mid,i=t[n].mid,a=(e[n].size+t[n].size)/2,Ea(r-i)>=a)return!1;return!0},expandbox:function(e,t){t.x.min<e.x.min&&(e.x.min=t.x.min),t.y.min<e.y.min&&(e.y.min=t.y.min),t.z&&t.z.min<e.z.min&&(e.z.min=t.z.min),t.x.max>e.x.max&&(e.x.max=t.x.max),t.y.max>e.y.max&&(e.y.max=t.y.max),t.z&&t.z.max>e.z.max&&(e.z.max=t.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,t,n){var r=e.bbox(),i=t.bbox(),a=1e5,o=n||.5;if(r.x.size+r.y.size<o&&i.x.size+i.y.size<o)return[(a*(e._t1+e._t2)/2|0)/a+"/"+(a*(t._t1+t._t2)/2|0)/a];var s=e.split(.5),u=t.split(.5),l=[{left:s.left,right:u.left},{left:s.left,right:u.right},{left:s.right,right:u.right},{left:s.right,right:u.left}];l=l.filter((function(e){return Na.bboxoverlap(e.left.bbox(),e.right.bbox())}));var c=[];return 0===l.length?c:(l.forEach((function(e){c=c.concat(Na.pairiteration(e.left,e.right,o))})),c=c.filter((function(e,t){return c.indexOf(e)===t})))},getccenter:function(e,t,n){var r,i=t.x-e.x,a=t.y-e.y,o=n.x-t.x,s=n.y-t.y,u=i*_a(Ba)-a*Ca(Ba),l=i*Ca(Ba)+a*_a(Ba),c=o*_a(Ba)-s*Ca(Ba),h=o*Ca(Ba)+s*_a(Ba),d=(e.x+t.x)/2,g=(e.y+t.y)/2,p=(t.x+n.x)/2,f=(t.y+n.y)/2,m=d+u,v=g+l,y=p+c,A=f+h,b=Na.lli8(d,g,m,v,p,f,y,A),x=Na.dist(b,e),w=Sa(e.y-b.y,e.x-b.x),E=Sa(t.y-b.y,t.x-b.x),_=Sa(n.y-b.y,n.x-b.x);return w<_?((w>E||E>_)&&(w+=La),w>_&&(r=_,_=w,w=r)):_<E&&E<w?(r=_,_=w,w=r):_+=La,b.s=w,b.e=_,b.r=x,b},numberSort:function(e,t){return e-t}},Fa=function(){function e(t){(0,pe.Z)(this,e),this.curves=[],this._3d=!1,t&&(this.curves=t,this._3d=this.curves[0]._3d)}return(0,ge.Z)(e,[{key:"valueOf",value:function(){return this.toString()}},{key:"toString",value:function(){return"["+this.curves.map((function(e){return Na.pointsToString(e.points)})).join(", ")+"]"}},{key:"addCurve",value:function(e){this.curves.push(e),this._3d=this._3d||e._3d}},{key:"length",value:function(){return this.curves.map((function(e){return e.length()})).reduce((function(e,t){return e+t}))}},{key:"curve",value:function(e){return this.curves[e]}},{key:"bbox",value:function(){for(var e=this.curves,t=e[0].bbox(),n=1;n<e.length;n++)Na.expandbox(t,e[n].bbox());return t}},{key:"offset",value:function(t){var n=[];return this.curves.forEach((function(e){n.push.apply(n,(0,o.Z)(e.offset(t)))})),new e(n)}}]),e}(),Ua=Math.abs,za=Math.min,ja=Math.max,Ha=Math.cos,Ga=Math.sin,Va=Math.acos,Qa=Math.sqrt,Wa=Math.PI,qa=function(){function e(t){(0,pe.Z)(this,e);var n=t&&t.forEach?t:Array.from(arguments).slice(),r=!1;if("object"===typeof n[0]){r=n.length;var i=[];n.forEach((function(e){["x","y","z"].forEach((function(t){"undefined"!==typeof e[t]&&i.push(e[t])}))})),n=i}var a=!1,o=n.length;if(r){if(r>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");a=!0}}else if(6!==o&&8!==o&&9!==o&&12!==o&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");for(var s=this._3d=!a&&(9===o||12===o)||t&&t[0]&&"undefined"!==typeof t[0].z,u=this.points=[],l=0,c=s?3:2;l<o;l+=c){var h={x:n[l],y:n[l+1]};s&&(h.z=n[l+2]),u.push(h)}var d=this.order=u.length-1,g=this.dims=["x","y"];s&&g.push("z"),this.dimlen=g.length;var p=Na.align(u,{p1:u[0],p2:u[d]}),f=Na.dist(u[0],u[d]);this._linear=p.reduce((function(e,t){return e+Ua(t.y)}),0)<f/50,this._lut=[],this._t1=0,this._t2=1,this.update()}return(0,ge.Z)(e,[{key:"getUtils",value:function(){return e.getUtils()}},{key:"valueOf",value:function(){return this.toString()}},{key:"toString",value:function(){return Na.pointsToString(this.points)}},{key:"toSVG",value:function(){if(this._3d)return!1;for(var e=this.points,t=["M",e[0].x,e[0].y,2===this.order?"Q":"C"],n=1,r=e.length;n<r;n++)t.push(e[n].x),t.push(e[n].y);return t.join(" ")}},{key:"setRatios",value:function(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}},{key:"verify",value:function(){var e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}},{key:"coordDigest",value:function(){return this.points.map((function(e,t){return""+t+e.x+e.y+(e.z?e.z:0)})).join("")}},{key:"update",value:function(){this._lut=[],this.dpoints=Na.derive(this.points,this._3d),this.computedirection()}},{key:"computedirection",value:function(){var e=this.points,t=Na.angle(e[0],e[this.order],e[1]);this.clockwise=t>0}},{key:"length",value:function(){return Na.length(this.derivative.bind(this))}},{key:"getABC",value:function(t,n){n=n||this.get(t);var r=this.points[0],i=this.points[this.order];return e.getABC(this.order,r,n,i,t)}},{key:"getLUT",value:function(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(var t,n,r=0;r<e;r++)n=r/(e-1),(t=this.compute(n)).t=n,this._lut.push(t);return this._lut}},{key:"on",value:function(e,n){n=n||5;for(var r,i=this.getLUT(),a=[],o=0;o<i.length;o++)r=i[o],Na.dist(r,e)<n&&(a.push(r),o/i.length);return!!a.length&&(t/=a.length)}},{key:"project",value:function(e){var t,n,r=this.getLUT(),i=r.length-1,a=Na.closest(r,e),o=a.mpos,s=(o-1)/i,u=(o+1)/i,l=.1/i,c=a.mdist,h=s,d=h;for(c+=1;h<u+l;h+=l)t=this.compute(h),(n=Na.dist(e,t))<c&&(c=n,d=h);return d=d<0?0:d>1?1:d,(t=this.compute(d)).t=d,t.d=c,t}},{key:"get",value:function(e){return this.compute(e)}},{key:"point",value:function(e){return this.points[e]}},{key:"compute",value:function(e){return this.ratios?Na.computeWithRatios(e,this.points,this.ratios,this._3d):Na.compute(e,this.points,this._3d,this.ratios)}},{key:"raise",value:function(){for(var t,n,r=this.points,i=[r[0]],a=r.length,o=1;o<a;o++)t=r[o],n=r[o-1],i[o]={x:(a-o)/a*t.x+o/a*n.x,y:(a-o)/a*t.y+o/a*n.y};return i[a]=r[a-1],new e(i)}},{key:"derivative",value:function(e){return Na.compute(e,this.dpoints[0],this._3d)}},{key:"dderivative",value:function(e){return Na.compute(e,this.dpoints[1],this._3d)}},{key:"align",value:function(){var t=this.points;return new e(Na.align(t,{p1:t[0],p2:t[t.length-1]}))}},{key:"curvature",value:function(e){return Na.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}},{key:"inflections",value:function(){return Na.inflections(this.points)}},{key:"normal",value:function(e){return this._3d?this.__normal3(e):this.__normal2(e)}},{key:"__normal2",value:function(e){var t=this.derivative(e),n=Qa(t.x*t.x+t.y*t.y);return{t:e,x:-t.y/n,y:t.x/n}}},{key:"__normal3",value:function(e){var t=this.derivative(e),n=this.derivative(e+.01),r=Qa(t.x*t.x+t.y*t.y+t.z*t.z),i=Qa(n.x*n.x+n.y*n.y+n.z*n.z);t.x/=r,t.y/=r,t.z/=r,n.x/=i,n.y/=i,n.z/=i;var a={x:n.y*t.z-n.z*t.y,y:n.z*t.x-n.x*t.z,z:n.x*t.y-n.y*t.x},o=Qa(a.x*a.x+a.y*a.y+a.z*a.z);a.x/=o,a.y/=o,a.z/=o;var s=[a.x*a.x,a.x*a.y-a.z,a.x*a.z+a.y,a.x*a.y+a.z,a.y*a.y,a.y*a.z-a.x,a.x*a.z-a.y,a.y*a.z+a.x,a.z*a.z];return{t:e,x:s[0]*t.x+s[1]*t.y+s[2]*t.z,y:s[3]*t.x+s[4]*t.y+s[5]*t.z,z:s[6]*t.x+s[7]*t.y+s[8]*t.z}}},{key:"hull",value:function(e){var t=this.points,n=[],r=[],i=0;for(r[i++]=t[0],r[i++]=t[1],r[i++]=t[2],3===this.order&&(r[i++]=t[3]);t.length>1;){n=[];for(var a,o=0,s=t.length-1;o<s;o++)a=Na.lerp(e,t[o],t[o+1]),r[i++]=a,n.push(a);t=n}return r}},{key:"split",value:function(t,n){if(0===t&&n)return this.split(n).left;if(1===n)return this.split(t).right;var r=this.hull(t),i={left:2===this.order?new e([r[0],r[3],r[5]]):new e([r[0],r[4],r[7],r[9]]),right:2===this.order?new e([r[5],r[4],r[2]]):new e([r[9],r[8],r[6],r[3]]),span:r};return i.left._t1=Na.map(0,0,1,this._t1,this._t2),i.left._t2=Na.map(t,0,1,this._t1,this._t2),i.right._t1=Na.map(t,0,1,this._t1,this._t2),i.right._t2=Na.map(1,0,1,this._t1,this._t2),n?(n=Na.map(n,t,1,0,1),i.right.split(n).left):i}},{key:"extrema",value:function(){var e={},t=[];return this.dims.forEach(function(n){var r=function(e){return e[n]},i=this.dpoints[0].map(r);e[n]=Na.droots(i),3===this.order&&(i=this.dpoints[1].map(r),e[n]=e[n].concat(Na.droots(i))),e[n]=e[n].filter((function(e){return e>=0&&e<=1})),t=t.concat(e[n].sort(Na.numberSort))}.bind(this)),e.values=t.sort(Na.numberSort).filter((function(e,n){return t.indexOf(e)===n})),e}},{key:"bbox",value:function(){var e=this.extrema(),t={};return this.dims.forEach(function(n){t[n]=Na.getminmax(this,n,e[n])}.bind(this)),t}},{key:"overlaps",value:function(e){var t=this.bbox(),n=e.bbox();return Na.bboxoverlap(t,n)}},{key:"offset",value:function(t,n){if("undefined"!==typeof n){var r=this.get(t),i=this.normal(t),a={c:r,n:i,x:r.x+i.x*n,y:r.y+i.y*n};return this._3d&&(a.z=r.z+i.z*n),a}if(this._linear){var o=this.normal(0),s=this.points.map((function(e){var n={x:e.x+t*o.x,y:e.y+t*o.y};return e.z&&o.z&&(n.z=e.z+t*o.z),n}));return[new e(s)]}return this.reduce().map((function(e){return e._linear?e.offset(t)[0]:e.scale(t)}))}},{key:"simple",value:function(){if(3===this.order){var e=Na.angle(this.points[0],this.points[3],this.points[1]),t=Na.angle(this.points[0],this.points[3],this.points[2]);if(e>0&&t<0||e<0&&t>0)return!1}var n=this.normal(0),r=this.normal(1),i=n.x*r.x+n.y*r.y;return this._3d&&(i+=n.z*r.z),Ua(Va(i))<Wa/3}},{key:"reduce",value:function(){var e,t,n=0,r=0,i=.01,a=[],o=[],s=this.extrema().values;for(-1===s.indexOf(0)&&(s=[0].concat(s)),-1===s.indexOf(1)&&s.push(1),n=s[0],e=1;e<s.length;e++)r=s[e],(t=this.split(n,r))._t1=n,t._t2=r,a.push(t),n=r;return a.forEach((function(e){for(n=0,r=0;r<=1;)for(r=n+i;r<=1.01;r+=i)if(!(t=e.split(n,r)).simple()){if(Ua(n-(r-=i))<i)return[];(t=e.split(n,r))._t1=Na.map(n,0,1,e._t1,e._t2),t._t2=Na.map(r,0,1,e._t1,e._t2),o.push(t),n=r;break}n<1&&((t=e.split(n,1))._t1=Na.map(n,0,1,e._t1,e._t2),t._t2=e._t2,o.push(t))})),o}},{key:"translate",value:function(t,n,r){r="number"===typeof r?r:n;var i=this.order,a=this.points.map((function(e,t){return(1-t/i)*n+t/i*r}));return new e(this.points.map((function(e,n){return{x:e.x+t.x*a[n],y:e.y+t.y*a[n]}})))}},{key:"scale",value:function(t){var n=this,r=this.order,i=!1;if("function"===typeof t&&(i=t),i&&2===r)return this.raise().scale(i);var a=this.clockwise,o=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):t,i?i(1):t);var s=i?i(0):t,u=i?i(1):t,l=[this.offset(0,10),this.offset(1,10)],c=[],h=Na.lli4(l[0],l[0].c,l[1],l[1].c);if(!h)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach((function(e){var t=c[e*r]=Na.copy(o[e*r]);t.x+=(e?u:s)*l[e].n.x,t.y+=(e?u:s)*l[e].n.y})),i?([0,1].forEach((function(e){if(2!==r||!e){var n=o[e+1],s={x:n.x-h.x,y:n.y-h.y},u=i?i((e+1)/r):t;i&&!a&&(u=-u);var l=Qa(s.x*s.x+s.y*s.y);s.x/=l,s.y/=l,c[e+1]={x:n.x+u*s.x,y:n.y+u*s.y}}})),new e(c)):([0,1].forEach((function(e){if(2!==r||!e){var t=c[e*r],i=n.derivative(e),a={x:t.x+i.x,y:t.y+i.y};c[e+1]=Na.lli4(t,a,h,o[e+1])}})),new e(c))}},{key:"outline",value:function(t,n,r,i){if(n=void 0===n?t:n,this._linear){var a,o,s=this.normal(0),u=this.points[0],l=this.points[this.points.length-1];void 0===r&&(r=t,i=n),a={x:u.x+s.x*t,y:u.y+s.y*t},o={x:l.x+s.x*r,y:l.y+s.y*r};var c=[a,{x:(a.x+o.x)/2,y:(a.y+o.y)/2},o];a={x:u.x-s.x*n,y:u.y-s.y*n};var h=[o={x:l.x-s.x*i,y:l.y-s.y*i},{x:(a.x+o.x)/2,y:(a.y+o.y)/2},a],d=Na.makeline(h[2],c[0]),g=Na.makeline(c[2],h[0]),p=[d,new e(c),g,new e(h)];return new Fa(p)}var f,m=this.reduce(),v=m.length,y=[],A=[],b=0,x=this.length(),w="undefined"!==typeof r&&"undefined"!==typeof i;function E(e,t,n,r,i){return function(a){var o=r/n,s=(r+i)/n,u=t-e;return Na.map(a,0,1,e+o*u,e+s*u)}}m.forEach((function(e){var a=e.length();w?(y.push(e.scale(E(t,r,x,b,a))),A.push(e.scale(E(-n,-i,x,b,a)))):(y.push(e.scale(t)),A.push(e.scale(-n))),b+=a})),A=A.map((function(e){return(f=e.points)[3]?e.points=[f[3],f[2],f[1],f[0]]:e.points=[f[2],f[1],f[0]],e})).reverse();var _=y[0].points[0],C=y[v-1].points[y[v-1].points.length-1],M=A[v-1].points[A[v-1].points.length-1],S=A[0].points[0],I=Na.makeline(M,_),T=Na.makeline(C,S),k=[I].concat(y).concat([T]).concat(A);return new Fa(k)}},{key:"outlineshapes",value:function(e,t,n){t=t||e;for(var r=this.outline(e,t).curves,i=[],a=1,o=r.length;a<o/2;a++){var s=Na.makeshape(r[a],r[o-a],n);s.startcap.virtual=a>1,s.endcap.virtual=a<o/2-1,i.push(s)}return i}},{key:"intersects",value:function(t,n){return t?t.p1&&t.p2?this.lineIntersects(t):(t instanceof e&&(t=t.reduce()),this.curveintersects(this.reduce(),t,n)):this.selfintersects(n)}},{key:"lineIntersects",value:function(e){var t=this,n=za(e.p1.x,e.p2.x),r=za(e.p1.y,e.p2.y),i=ja(e.p1.x,e.p2.x),a=ja(e.p1.y,e.p2.y);return Na.roots(this.points,e).filter((function(e){var o=t.get(e);return Na.between(o.x,n,i)&&Na.between(o.y,r,a)}))}},{key:"selfintersects",value:function(e){for(var t,n,r,i=this.reduce(),a=i.length-2,s=[],u=0;u<a;u++)n=i.slice(u,u+1),r=i.slice(u+2),t=this.curveintersects(n,r,e),s.push.apply(s,(0,o.Z)(t));return s}},{key:"curveintersects",value:function(e,t,n){var r=[];e.forEach((function(e){t.forEach((function(t){e.overlaps(t)&&r.push({left:e,right:t})}))}));var i=[];return r.forEach((function(e){var t=Na.pairiteration(e.left,e.right,n);t.length>0&&(i=i.concat(t))})),i}},{key:"arcs",value:function(e){return e=e||.5,this._iterate(e,[])}},{key:"_error",value:function(e,t,n,r){var i=(r-n)/4,a=this.get(n+i),o=this.get(r-i),s=Na.dist(e,t),u=Na.dist(e,a),l=Na.dist(e,o);return Ua(u-s)+Ua(l-s)}},{key:"_iterate",value:function(e,t){var n,r=0,i=1;do{n=0,i=1;var a=this.get(r),o=void 0,s=void 0,u=void 0,l=void 0,c=!1,h=!1,d=void 0,g=i,p=1;do{if(h=c,l=u,g=(r+i)/2,o=this.get(g),s=this.get(i),(u=Na.getccenter(a,o,s)).interval={start:r,end:i},c=this._error(u,a,r,i)<=e,(d=h&&!c)||(p=i),c){if(i>=1){if(u.interval.end=p=1,l=u,i>1){var f={x:u.x+u.r*Ha(u.e),y:u.y+u.r*Ga(u.e)};u.e+=Na.angle({x:u.x,y:u.y},f,this.get(1))}break}i+=(i-r)/2}else i=g}while(!d&&n++<100);if(n>=100)break;l=l||u,t.push(l),r=p}while(i<1);return t}}],[{key:"quadraticFromPoints",value:function(t,n,r,i){if("undefined"===typeof i&&(i=.5),0===i)return new e(n,n,r);if(1===i)return new e(t,n,n);var a=e.getABC(2,t,n,r,i);return new e(t,a.A,r)}},{key:"cubicFromPoints",value:function(t,n,r,i,a){"undefined"===typeof i&&(i=.5);var o=e.getABC(3,t,n,r,i);"undefined"===typeof a&&(a=Na.dist(n,o.C));var s=a*(1-i)/i,u=Na.dist(t,r),l=(r.x-t.x)/u,c=(r.y-t.y)/u,h=a*l,d=a*c,g=s*l,p=s*c,f=n.x-h,m=n.y-d,v=n.x+g,y=n.y+p,A=o.A,b=A.x+(f-A.x)/(1-i),x=A.y+(m-A.y)/(1-i),w=A.x+(v-A.x)/i,E=A.y+(y-A.y)/i;return new e(t,{x:t.x+(b-t.x)/i,y:t.y+(x-t.y)/i},{x:r.x+(w-r.x)/(1-i),y:r.y+(E-r.y)/(1-i)},r)}},{key:"getUtils",value:function(){return Na}},{key:"PolyBezier",get:function(){return Fa}},{key:"getABC",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,a=Na.projectionratio(i,e),o=1-a,s={x:a*t.x+o*r.x,y:a*t.y+o*r.y},u=Na.abcratio(i,e);return{A:{x:n.x+(n.x-s.x)/u,y:n.y+(n.y-s.y)/u},B:n,C:s,S:t,E:r}}}]),e}(),Ka=r(2737),Xa=r(3482),Za=r(3824);function Ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ya(Object(n),!0).forEach((function(t){eo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $a(e){return $a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(e)}function eo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function to(e,t){return to=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},to(e,t)}function no(e,t,n){return no=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&to(i,n.prototype),i},no.apply(null,arguments)}function ro(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||ao(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function io(e){return function(e){if(Array.isArray(e))return oo(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ao(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ao(e,t){if(e){if("string"===typeof e)return oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oo(e,t):void 0}}function oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".force-graph-container canvas {\n  display: block;\n  user-select: none;\n  outline: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.force-graph-container .graph-tooltip {\n  position: absolute;\n  top: 0;\n  font-family: sans-serif;\n  font-size: 16px;\n  padding: 4px;\n  border-radius: 3px;\n  color: #eee;\n  background: rgba(0,0,0,0.65);\n  visibility: hidden; /* by default */\n}\n\n.force-graph-container .clickable {\n  cursor: pointer;\n}\n\n.force-graph-container .grabbable {\n  cursor: move;\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n\n.force-graph-container .grabbable:active {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n}\n");var so=(0,Xa.Z)(Za.Z);function uo(e,t,n){t&&"string"===typeof n&&e.filter((function(e){return!e[n]})).forEach((function(e){e[n]=so(t(e))}))}var lo=function(e,t){return t.onNeedsRedraw&&t.onNeedsRedraw()},co=function(e,t){if(!t.isShadow){var n=(0,x.default)(t.linkDirectionalParticles);t.graphData.links.forEach((function(e){var t=Math.round(Math.abs(n(e)));t?e.__photons=io(Array(t)).map((function(){return{}})):delete e.__photons}))}},ho=(0,b.Z)({props:{graphData:{default:{nodes:[],links:[]},onChange:function(e,t){t.engineRunning=!1,co(0,t)}},dagMode:{onChange:function(e,t){!e&&(t.graphData.nodes||[]).forEach((function(e){return e.fx=e.fy=void 0}))}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:lo},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:lo},nodeColor:{default:"color",triggerUpdate:!1,onChange:lo},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:lo},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:lo},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:lo},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:lo},linkColor:{default:"color",triggerUpdate:!1,onChange:lo},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:lo},linkWidth:{default:1,triggerUpdate:!1,onChange:lo},linkCurvature:{default:0,triggerUpdate:!1,onChange:lo},linkCanvasObject:{triggerUpdate:!1,onChange:lo},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:lo},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:lo},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:lo},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:lo},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:co},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,t){t.forceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,t){t.forceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,t){t.forceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(e,t,n){return void 0===n?e.forceLayout.force(t):(e.forceLayout.force(t,n),this)},d3ReheatSimulation:function(e){return e.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},isEngineRunning:function(e){return!!e.engineRunning},tickFrame:function(e){return!e.isShadow&&e.engineRunning&&(++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.forceLayout.tick(),e.onEngineTick())),function(){var t=(0,x.default)(e.linkVisibility),n=(0,x.default)(e.linkColor),r=(0,x.default)(e.linkWidth),i=(0,x.default)(e.linkLineDash),a=(0,x.default)(e.linkCurvature),o=(0,x.default)(e.linkCanvasObjectMode),s=e.ctx,u=2*e.isShadow,l=e.graphData.links.filter(t);l.forEach((function(e){var t=a(e);if(!t)return void(e.__controlPoints=null);var n=e.source,r=e.target;if(!n||!r||!n.hasOwnProperty("x")||!r.hasOwnProperty("x"))return;var i=Math.sqrt(Math.pow(r.x-n.x,2)+Math.pow(r.y-n.y,2));if(i>0){var o=Math.atan2(r.y-n.y,r.x-n.x),s=i*t,u={x:(n.x+r.x)/2+s*Math.cos(o-Math.PI/2),y:(n.y+r.y)/2+s*Math.sin(o-Math.PI/2)};e.__controlPoints=[u.x,u.y]}else{var l=70*t;e.__controlPoints=[r.x,r.y-l,r.x+l,r.y]}}));var c=[],h=[],d=l;if(e.linkCanvasObject){var g=[],p=[];l.forEach((function(e){return({before:c,after:h,replace:g}[o(e)]||p).push(e)})),d=[].concat(io(c),h,p),c=c.concat(g)}s.save(),c.forEach((function(t){return e.linkCanvasObject(t,s,e.globalScale)})),s.restore();var f=(0,Ka.Z)(d,[n,r,i]);s.save(),Object.entries(f).forEach((function(t){var n=ro(t,2),r=n[0],a=n[1],o=r&&"undefined"!==r?r:"rgba(0,0,0,0.15)";Object.entries(a).forEach((function(t){var n=ro(t,2),r=n[0],a=n[1],l=(r||1)/e.globalScale+u;Object.entries(a).forEach((function(e){var t=ro(e,2);t[0];var n=t[1],r=i(n[0]);s.beginPath(),n.forEach((function(e){var t=e.source,n=e.target;if(t&&n&&t.hasOwnProperty("x")&&n.hasOwnProperty("x")){s.moveTo(t.x,t.y);var r=e.__controlPoints;r?s[2===r.length?"quadraticCurveTo":"bezierCurveTo"].apply(s,io(r).concat([n.x,n.y])):s.lineTo(n.x,n.y)}})),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(r||[]),s.stroke()}))}))})),s.restore(),s.save(),h.forEach((function(t){return e.linkCanvasObject(t,s,e.globalScale)})),s.restore()}(),!e.isShadow&&function(){var t=(0,x.default)(e.linkDirectionalArrowLength),n=(0,x.default)(e.linkDirectionalArrowRelPos),r=(0,x.default)(e.linkVisibility),i=(0,x.default)(e.linkDirectionalArrowColor||e.linkColor),a=(0,x.default)(e.nodeVal),o=e.ctx;o.save(),e.graphData.links.filter(r).forEach((function(r){var s=t(r);if(s&&!(s<0)){var u=r.source,l=r.target;if(u&&l&&u.hasOwnProperty("x")&&l.hasOwnProperty("x")){var c=Math.sqrt(Math.max(0,a(u)||1))*e.nodeRelSize,h=Math.sqrt(Math.max(0,a(l)||1))*e.nodeRelSize,d=Math.min(1,Math.max(0,n(r))),g=i(r)||"rgba(0,0,0,0.28)",p=s/1.6/2,f=r.__controlPoints&&no(qa,[u.x,u.y].concat(io(r.__controlPoints),[l.x,l.y])),m=f?function(e){return f.get(e)}:function(e){return{x:u.x+(l.x-u.x)*e||0,y:u.y+(l.y-u.y)*e||0}},v=f?f.length():Math.sqrt(Math.pow(l.x-u.x,2)+Math.pow(l.y-u.y,2)),y=c+s+(v-c-h-s)*d,A=m(y/v),b=m((y-s)/v),x=m((y-.8*s)/v),w=Math.atan2(A.y-b.y,A.x-b.x)-Math.PI/2;o.beginPath(),o.moveTo(A.x,A.y),o.lineTo(b.x+p*Math.cos(w),b.y+p*Math.sin(w)),o.lineTo(x.x,x.y),o.lineTo(b.x-p*Math.cos(w),b.y-p*Math.sin(w)),o.fillStyle=g,o.fill()}}})),o.restore()}(),!e.isShadow&&function(){var t=(0,x.default)(e.linkDirectionalParticles),n=(0,x.default)(e.linkDirectionalParticleSpeed),r=(0,x.default)(e.linkDirectionalParticleWidth),i=(0,x.default)(e.linkVisibility),a=(0,x.default)(e.linkDirectionalParticleColor||e.linkColor),o=e.ctx;o.save(),e.graphData.links.filter(i).forEach((function(i){var s=t(i);if(i.hasOwnProperty("__photons")&&i.__photons.length){var u=i.source,l=i.target;if(u&&l&&u.hasOwnProperty("x")&&l.hasOwnProperty("x")){var c=n(i),h=i.__photons||[],d=Math.max(0,r(i)/2)/Math.sqrt(e.globalScale),g=a(i)||"rgba(0,0,0,0.28)";o.fillStyle=g;var p=i.__controlPoints?no(qa,[u.x,u.y].concat(io(i.__controlPoints),[l.x,l.y])):null,f=0,m=!1;h.forEach((function(e){var t=!!e.__singleHop;if(e.hasOwnProperty("__progressRatio")||(e.__progressRatio=t?0:f/s),!t&&f++,e.__progressRatio+=c,e.__progressRatio>=1){if(t)return void(m=!0);e.__progressRatio=e.__progressRatio%1}var n=e.__progressRatio,r=p?p.get(n):{x:u.x+(l.x-u.x)*n||0,y:u.y+(l.y-u.y)*n||0};o.beginPath(),o.arc(r.x,r.y,d,0,2*Math.PI,!1),o.fill()})),m&&(i.__photons=i.__photons.filter((function(e){return!e.__singleHop||e.__progressRatio<=1})))}}})),o.restore()}(),function(){var t=(0,x.default)(e.nodeVisibility),n=(0,x.default)(e.nodeVal),r=(0,x.default)(e.nodeColor),i=(0,x.default)(e.nodeCanvasObjectMode),a=e.ctx,o=e.isShadow/e.globalScale,s=e.graphData.nodes.filter(t);a.save(),s.forEach((function(t){var s=i(t);if(!e.nodeCanvasObject||"before"!==s&&"replace"!==s||(e.nodeCanvasObject(t,a,e.globalScale),"replace"!==s)){var u=Math.sqrt(Math.max(0,n(t)||1))*e.nodeRelSize+o;a.beginPath(),a.arc(t.x,t.y,u,0,2*Math.PI,!1),a.fillStyle=r(t)||"rgba(31, 120, 180, 0.92)",a.fill(),e.nodeCanvasObject&&"after"===s&&e.nodeCanvasObject(t,e.ctx,e.globalScale)}else a.restore()})),a.restore()}(),this},emitParticle:function(e,t){return t&&(!t.__photons&&(t.__photons=[]),t.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:(0,ya.Z)().force("link",(0,Aa.Z)()).force("charge",(0,ba.Z)()).force("center",(0,xa.Z)()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,t){t.ctx=e},update:function(e){e.engineRunning=!1,e.onUpdate(),null!==e.nodeAutoColorBy&&uo(e.graphData.nodes,(0,x.default)(e.nodeAutoColorBy),e.nodeColor),null!==e.linkAutoColorBy&&uo(e.graphData.links,(0,x.default)(e.linkAutoColorBy),e.linkColor),e.graphData.links.forEach((function(t){t.source=t[e.linkSource],t.target=t[e.linkTarget]})),e.forceLayout.stop().alpha(1).nodes(e.graphData.nodes);var t=e.forceLayout.force("link");t&&t.id((function(t){return t[e.nodeId]})).links(e.graphData.links);var n=e.dagMode&&function(e,t){var n=e.nodes,r=e.links,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.nodeFilter,o=void 0===a?function(){return!0}:a,s=i.onLoopError,u=void 0===s?function(e){throw"Invalid DAG structure! Found cycle in node path: ".concat(e.join(" -> "),".")}:s,l={};n.forEach((function(e){return l[t(e)]={data:e,out:[],depth:-1,skip:!o(e)}})),r.forEach((function(e){var n=e.source,r=e.target,i=u(n),a=u(r);if(!l.hasOwnProperty(i))throw"Missing source node with id: ".concat(i);if(!l.hasOwnProperty(a))throw"Missing target node with id: ".concat(a);var o=l[i],s=l[a];function u(e){return"object"===$a(e)?t(e):e}o.out.push(s)}));var c=[];return function e(n){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=function(){var a=n[o];if(-1!==r.indexOf(a)){var s=[].concat(io(r.slice(r.indexOf(a))),[a]).map((function(e){return t(e.data)}));return c.some((function(e){return e.length===s.length&&e.every((function(e,t){return e===s[t]}))}))||(c.push(s),u(s)),1}i>a.depth&&(a.depth=i,e(a.out,[].concat(io(r),[a]),i+(a.skip?0:1)))},o=0,s=n.length;o<s;o++)a()}(Object.values(l)),Object.assign.apply(Object,[{}].concat(io(Object.entries(l).filter((function(e){return!ro(e,2)[1].skip})).map((function(e){var t=ro(e,2);return eo({},t[0],t[1].depth)})))))}(e.graphData,(function(t){return t[e.nodeId]}),{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),r=Math.max.apply(Math,io(Object.values(n||[]))),i=e.dagLevelDistance||e.graphData.nodes.length/(r||1)*2*(-1!==["radialin","radialout"].indexOf(e.dagMode)?.7:1);if(e.dagMode){var a=function(t,a){return function(o){return t?(n[o[e.nodeId]]-r/2)*i*(a?-1:1):void 0}},o=a(-1!==["lr","rl"].indexOf(e.dagMode),"rl"===e.dagMode),s=a(-1!==["td","bu"].indexOf(e.dagMode),"bu"===e.dagMode);e.graphData.nodes.filter(e.dagNodeFilter).forEach((function(e){e.fx=o(e),e.fy=s(e)}))}e.forceLayout.force("dagRadial",-1!==["radialin","radialout"].indexOf(e.dagMode)?(0,wa.Z)((function(t){var a=n[t[e.nodeId]]||-1;return("radialin"===e.dagMode?r-a:a)*i})).strength((function(t){return e.dagNodeFilter(t)?1:0})):null);for(var u=0;u<e.warmupTicks&&!(e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin);u++)e.forceLayout.tick();this.resetCountdown(),e.onFinishUpdate()}});function go(e,t){var n=e instanceof Array?e:[e],r=new t;return r._destructor&&r._destructor(),{linkProp:function(e){return{default:r[e](),onChange:function(t,r){n.forEach((function(n){return r[n][e](t)}))},triggerUpdate:!1}},linkMethod:function(e){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var o=[];return n.forEach((function(n){var r=t[n],a=r[e].apply(r,i);a!==r&&o.push(a)})),o.length?o[0]:this}}}}var po=go("forceGraph",ho),fo=go(["forceGraph","shadowGraph"],ho),mo=Object.assign.apply(Object,io(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map((function(e){return eo({},e,po.linkProp(e))}))).concat(io(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map((function(e){return eo({},e,fo.linkProp(e))}))))),vo=Object.assign.apply(Object,io(["d3Force","d3ReheatSimulation","emitParticle"].map((function(e){return eo({},e,po.linkMethod(e))}))));function yo(e){if(e.canvas){var t=e.canvas.width,n=e.canvas.height;300===t&&150===n&&(t=n=0);var r=window.devicePixelRatio;t/=r,n/=r,[e.canvas,e.shadowCanvas].forEach((function(i){i.style.width="".concat(e.width,"px"),i.style.height="".concat(e.height,"px"),i.width=e.width*r,i.height=e.height*r,t||n||i.getContext("2d").scale(r,r)}));var i=Gi(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-t)/2/i,(e.height-n)/2/i),e.needsRedraw=!0}}function Ao(e){var t=window.devicePixelRatio;e.setTransform(t,0,0,t,0,0)}function bo(e,t,n){e.save(),Ao(e),e.clearRect(0,0,t,n),e.restore()}var xo=(0,b.Z)({props:Ja({width:{default:window.innerWidth,onChange:function(e,t){return yo(t)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(e,t){return yo(t)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,t){[{type:"Node",objs:e.nodes},{type:"Link",objs:e.links}].forEach((function(e){var n=e.type;e.objs.filter((function(e){if(!e.hasOwnProperty("__indexColor"))return!0;var n=t.colorTracker.lookup(e.__indexColor);return!n||!n.hasOwnProperty("d")||n.d!==e})).forEach((function(e){e.__indexColor=t.colorTracker.register({type:n,d:e})}))})),t.forceGraph.graphData(e),t.shadowGraph.graphData(e)},triggerUpdate:!1},backgroundColor:{onChange:function(e,t){t.canvas&&e&&(t.canvas.style.background=e)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(e,t){t.shadowGraph.nodeCanvasObject(e?function(t,n,r){return e(t,t.__indexColor,n,r)}:null),t.flushShadowCanvas&&t.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(e,t){t.shadowGraph.linkCanvasObject(e?function(t,n,r){return e(t,t.__indexColor,n,r)}:null),t.flushShadowCanvas&&t.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(e,t){t.zoom.scaleExtent([e,t.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(e,t){t.zoom.scaleExtent([t.zoom.scaleExtent()[0],e])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(e,t){t.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},mo),aliases:{stopAnimation:"pauseAnimation"},methods:Ja({graph2ScreenCoords:function(e,t,n){var r=Gi(e.canvas);return{x:t*r.k+r.x,y:n*r.k+r.y}},screen2GraphCoords:function(e,t,n){var r=Gi(e.canvas);return{x:(t-r.x)/r.k,y:(n-r.y)/r.k}},centerAt:function(e,t,n,r){if(!e.canvas)return null;if(void 0!==t||void 0!==n){var i=Object.assign({},void 0!==t?{x:t}:{},void 0!==n?{y:n}:{});return r?new tt(a()).to(i,r).easing(Xe.Quadratic.Out).onUpdate(o).start():o(i),this}return a();function a(){var t=Gi(e.canvas);return{x:(e.width/2-t.x)/t.k,y:(e.height/2-t.y)/t.k}}function o(t){var n=t.x,r=t.y;e.zoom.translateTo(e.zoom.__baseElem,void 0===n?a().x:n,void 0===r?a().y:r),e.needsRedraw=!0}},zoom:function(e,t,n){return e.canvas?void 0!==t?(n?new tt({k:r()}).to({k:t},n).easing(Xe.Quadratic.Out).onUpdate((function(e){return i(e.k)})).start():i(t),this):r():null;function r(){return Gi(e.canvas).k}function i(t){e.zoom.scaleTo(e.zoom.__baseElem,t),e.needsRedraw=!0}},zoomToFit:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o=this.getGraphBbox.apply(this,i);if(o){var s={x:(o.x[0]+o.x[1])/2,y:(o.y[0]+o.y[1])/2},u=Math.max(1e-12,Math.min(1e12,(e.width-2*n)/(o.x[1]-o.x[0]),(e.height-2*n)/(o.y[1]-o.y[0])));this.centerAt(s.x,s.y,t),this.zoom(u,t)}return this},getGraphBbox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n=(0,x.default)(e.nodeVal),r=function(t){return Math.sqrt(Math.max(0,n(t)||1))*e.nodeRelSize},i=e.graphData.nodes.filter(t).map((function(e){return{x:e.x,y:e.y,r:r(e)}}));return i.length?{x:[(0,aa.Z)(i,(function(e){return e.x-e.r})),(0,oa.Z)(i,(function(e){return e.x+e.r}))],y:[(0,aa.Z)(i,(function(e){return e.y-e.r})),(0,oa.Z)(i,(function(e){return e.y+e.r}))]}:null},pauseAnimation:function(e){return e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},vo),stateInit:function(){return{lastSetZoom:1,zoom:Ji(),forceGraph:new ho,shadowGraph:(new ho).cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new va}},init:function(e,t){var n=this;e.innerHTML="";var r=document.createElement("div");r.classList.add("force-graph-container"),r.style.position="relative",e.appendChild(r),t.canvas=document.createElement("canvas"),t.backgroundColor&&(t.canvas.style.background=t.backgroundColor),r.appendChild(t.canvas),t.shadowCanvas=document.createElement("canvas");var i=t.canvas.getContext("2d"),a=t.shadowCanvas.getContext("2d",{willReadFrequently:!0}),o={x:-1e12,y:-1e12},s=function(){var e=null,n=window.devicePixelRatio,r=o.x>0&&o.y>0?a.getImageData(o.x*n,o.y*n,1,1):null;return r&&(e=t.colorTracker.lookup(r.data)),e};Vn(t.canvas).call(function(){var e,t,n,r,i=ta,a=na,o=ra,s=ia,u={},l=(0,Qn.Z)("start","drag","end"),c=0,h=0;function d(e){e.on("mousedown.drag",g).filter(s).on("touchstart.drag",m).on("touchmove.drag",v,Wn).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(o,s){if(!r&&i.call(this,o,s)){var u=A(this,a.call(this,o,s),o,s,"mouse");u&&(Vn(o.view).on("mousemove.drag",p,qn).on("mouseup.drag",f,qn),Zn(o.view),Kn(o),n=!1,e=o.clientX,t=o.clientY,u("start",o))}}function p(r){if(Xn(r),!n){var i=r.clientX-e,a=r.clientY-t;n=i*i+a*a>h}u.mouse("drag",r)}function f(e){Vn(e.view).on("mousemove.drag mouseup.drag",null),Yn(e.view,n),Xn(e),u.mouse("end",e)}function m(e,t){if(i.call(this,e,t)){var n,r,o=e.changedTouches,s=a.call(this,e,t),u=o.length;for(n=0;n<u;++n)(r=A(this,s,e,t,o[n].identifier,o[n]))&&(Kn(e),r("start",e,o[n]))}}function v(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=u[r[t].identifier])&&(Xn(e),n("drag",e,r[t]))}function y(e){var t,n,i=e.changedTouches,a=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<a;++t)(n=u[i[t].identifier])&&(Kn(e),n("end",e,i[t]))}function A(e,t,n,r,i,a){var s,h,g,p=l.copy(),f=er(a||n,t);if(null!=(g=o.call(e,new ea("beforestart",{sourceEvent:n,target:d,identifier:i,active:c,x:f[0],y:f[1],dx:0,dy:0,dispatch:p}),r)))return s=g.x-f[0]||0,h=g.y-f[1]||0,function n(a,o,l){var m,v=f;switch(a){case"start":u[i]=n,m=c++;break;case"end":delete u[i],--c;case"drag":f=er(l||o,t),m=c}p.call(a,e,new ea(a,{sourceEvent:o,subject:g,target:d,identifier:i,active:m,x:f[0]+s,y:f[1]+h,dx:f[0]-v[0],dy:f[1]-v[1],dispatch:p}),r)}}return d.filter=function(e){return arguments.length?(i="function"===typeof e?e:$i(!!e),d):i},d.container=function(e){return arguments.length?(a="function"===typeof e?e:$i(e),d):a},d.subject=function(e){return arguments.length?(o="function"===typeof e?e:$i(e),d):o},d.touchable=function(e){return arguments.length?(s="function"===typeof e?e:$i(!!e),d):s},d.on=function(){var e=l.on.apply(l,arguments);return e===l?d:e},d.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,d):Math.sqrt(h)},d}().subject((function(){if(!t.enableNodeDrag)return null;var e=s();return e&&"Node"===e.type?e.d:null})).on("start",(function(e){var n=e.subject;n.__initialDragPos={x:n.x,y:n.y,fx:n.fx,fy:n.fy},e.active||(n.fx=n.x,n.fy=n.y),t.canvas.classList.add("grabbable")})).on("drag",(function(e){var n=e.subject,r=n.__initialDragPos,i=e,a=Gi(t.canvas).k,o={x:r.x+(i.x-r.x)/a-n.x,y:r.y+(i.y-r.y)/a-n.y};["x","y"].forEach((function(e){return n["f".concat(e)]=n[e]=r[e]+(i[e]-r[e])/a})),t.forceGraph.d3AlphaTarget(.3).resetCountdown(),t.isPointerDragging=!0,n.__dragged=!0,t.onNodeDrag(n,o)})).on("end",(function(e){var n=e.subject,r=n.__initialDragPos,i={x:n.x-r.x,y:n.y-r.y};void 0===r.fx&&(n.fx=void 0),void 0===r.fy&&(n.fy=void 0),delete n.__initialDragPos,t.forceGraph.d3AlphaTarget()&&t.forceGraph.d3AlphaTarget(0).resetCountdown(),t.canvas.classList.remove("grabbable"),t.isPointerDragging=!1,n.__dragged&&(delete n.__dragged,t.onNodeDragEnd(n,i))}))),t.zoom(t.zoom.__baseElem=Vn(t.canvas)),t.zoom.__baseElem.on("dblclick.zoom",null),t.zoom.filter((function(e){return!e.button&&t.enableZoomPanInteraction&&(t.enableZoomInteraction||"wheel"!==e.type)&&(t.enablePanInteraction||"wheel"===e.type)})).on("zoom",(function(e){var r=e.transform;[i,a].forEach((function(e){Ao(e),e.translate(r.x,r.y),e.scale(r.k,r.k)})),t.onZoom&&t.onZoom(Ja(Ja({},r),n.centerAt())),t.needsRedraw=!0})).on("end",(function(e){return t.onZoomEnd&&t.onZoomEnd(Ja(Ja({},e.transform),n.centerAt()))})),yo(t),t.forceGraph.onNeedsRedraw((function(){return t.needsRedraw=!0})).onFinishUpdate((function(){Gi(t.canvas).k===t.lastSetZoom&&t.graphData.nodes.length&&(t.zoom.scaleTo(t.zoom.__baseElem,t.lastSetZoom=4/Math.cbrt(t.graphData.nodes.length)),t.needsRedraw=!0)}));var u=document.createElement("div");u.classList.add("graph-tooltip"),r.appendChild(u),["pointermove","pointerdown"].forEach((function(e){return r.addEventListener(e,(function(n){"pointerdown"===e&&(t.isPointerPressed=!0,t.pointerDownEvent=n),!t.isPointerDragging&&"pointermove"===n.type&&t.onBackgroundClick&&(n.pressure>0||t.isPointerPressed)&&("touch"!==n.pointerType||void 0===n.movementX||[n.movementX,n.movementY].some((function(e){return Math.abs(e)>1})))&&(t.isPointerDragging=!0);var i=function(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+r,left:t.left+n}}(r);o.x=n.pageX-i.left,o.y=n.pageY-i.top,u.style.top="".concat(o.y,"px"),u.style.left="".concat(o.x,"px"),u.style.transform="translate(-".concat(o.x/t.width*100,"%, ").concat(t.height-o.y<100?"calc(-100% - 8px)":"21px",")")}),{passive:!0})})),r.addEventListener("pointerup",(function(e){if(t.isPointerPressed=!1,t.isPointerDragging)t.isPointerDragging=!1;else{var n=[e,t.pointerDownEvent];requestAnimationFrame((function(){if(0===e.button)if(t.hoverObj){var r=t["on".concat(t.hoverObj.type,"Click")];r&&r.apply(void 0,[t.hoverObj.d].concat(n))}else t.onBackgroundClick&&t.onBackgroundClick.apply(t,n);if(2===e.button)if(t.hoverObj){var i=t["on".concat(t.hoverObj.type,"RightClick")];i&&i.apply(void 0,[t.hoverObj.d].concat(n))}else t.onBackgroundRightClick&&t.onBackgroundRightClick.apply(t,n)}))}}),{passive:!0}),r.addEventListener("contextmenu",(function(e){return!(t.onBackgroundRightClick||t.onNodeRightClick||t.onLinkRightClick)||(e.preventDefault(),!1)})),t.forceGraph(i),t.shadowGraph(a);var l=la((function(){bo(a,t.width,t.height),t.shadowGraph.linkWidth((function(e){return(0,x.default)(t.linkWidth)(e)+t.linkHoverPrecision}));var e=Gi(t.canvas);t.shadowGraph.globalScale(e.k).tickFrame()}),800);t.flushShadowCanvas=l.flush,(this._animationCycle=function e(){var n=!t.autoPauseRedraw||!!t.needsRedraw||t.forceGraph.isEngineRunning()||t.graphData.links.some((function(e){return e.__photons&&e.__photons.length}));if(t.needsRedraw=!1,t.enablePointerInteraction){var r=t.isPointerDragging?null:s();if(r!==t.hoverObj){var a=t.hoverObj,o=a?a.type:null,c=r?r.type:null;if(o&&o!==c){var h=t["on".concat(o,"Hover")];h&&h(null,a.d)}if(c){var d=t["on".concat(c,"Hover")];d&&d(r.d,o===c?a.d:null)}var g=r&&(0,x.default)(t["".concat(r.type.toLowerCase(),"Label")])(r.d)||"";u.style.visibility=g?"visible":"hidden",u.innerHTML=g,t.canvas.classList[r&&t["on".concat(c,"Click")]||!r&&t.onBackgroundClick?"add":"remove"]("clickable"),t.hoverObj=r}n&&l()}if(n){bo(i,t.width,t.height);var p=Gi(t.canvas).k;t.onRenderFramePre&&t.onRenderFramePre(i,p),t.forceGraph.globalScale(p).tickFrame(),t.onRenderFramePost&&t.onRenderFramePost(i,p)}rt(),t.animationFrameRequestId=requestAnimationFrame(e)})()},update:function(e){}}),wo={width:re.number,height:re.number,graphData:re.shape({nodes:re.arrayOf(re.object).isRequired,links:re.arrayOf(re.object).isRequired}),backgroundColor:re.string,nodeRelSize:re.number,nodeId:re.string,nodeLabel:re.oneOfType([re.string,re.func]),nodeVal:re.oneOfType([re.number,re.string,re.func]),nodeVisibility:re.oneOfType([re.bool,re.string,re.func]),nodeColor:re.oneOfType([re.string,re.func]),nodeAutoColorBy:re.oneOfType([re.string,re.func]),onNodeHover:re.func,onNodeClick:re.func,linkSource:re.string,linkTarget:re.string,linkLabel:re.oneOfType([re.string,re.func]),linkVisibility:re.oneOfType([re.bool,re.string,re.func]),linkColor:re.oneOfType([re.string,re.func]),linkAutoColorBy:re.oneOfType([re.string,re.func]),linkWidth:re.oneOfType([re.number,re.string,re.func]),linkCurvature:re.oneOfType([re.number,re.string,re.func]),linkDirectionalArrowLength:re.oneOfType([re.number,re.string,re.func]),linkDirectionalArrowColor:re.oneOfType([re.string,re.func]),linkDirectionalArrowRelPos:re.oneOfType([re.number,re.string,re.func]),linkDirectionalParticles:re.oneOfType([re.number,re.string,re.func]),linkDirectionalParticleSpeed:re.oneOfType([re.number,re.string,re.func]),linkDirectionalParticleWidth:re.oneOfType([re.number,re.string,re.func]),linkDirectionalParticleColor:re.oneOfType([re.string,re.func]),onLinkHover:re.func,onLinkClick:re.func,dagMode:re.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:re.number,dagNodeFilter:re.func,onDagError:re.func,d3AlphaMin:re.number,d3AlphaDecay:re.number,d3VelocityDecay:re.number,warmupTicks:re.number,cooldownTicks:re.number,cooldownTime:re.number,onEngineTick:re.func,onEngineStop:re.func,getGraphBbox:re.func},Eo={zoomToFit:re.func,onNodeRightClick:re.func,onNodeDrag:re.func,onNodeDragEnd:re.func,onLinkRightClick:re.func,linkHoverPrecision:re.number,onBackgroundClick:re.func,onBackgroundRightClick:re.func,enablePointerInteraction:re.bool,enableNodeDrag:re.bool},_o={showNavInfo:re.bool,nodeOpacity:re.number,nodeResolution:re.number,nodeThreeObject:re.oneOfType([re.object,re.string,re.func]),nodeThreeObjectExtend:re.oneOfType([re.bool,re.string,re.func]),linkOpacity:re.number,linkResolution:re.number,linkCurveRotation:re.oneOfType([re.number,re.string,re.func]),linkMaterial:re.oneOfType([re.object,re.string,re.func]),linkThreeObject:re.oneOfType([re.object,re.string,re.func]),linkThreeObjectExtend:re.oneOfType([re.bool,re.string,re.func]),linkPositionUpdate:re.func,linkDirectionalArrowResolution:re.number,linkDirectionalParticleResolution:re.number,forceEngine:re.oneOf(["d3","ngraph"]),ngraphPhysics:re.object,numDimensions:re.oneOf([1,2,3])},Co=Object.assign({},wo,Eo,{linkLineDash:re.oneOfType([re.arrayOf(re.number),re.string,re.func]),nodeCanvasObjectMode:re.oneOfType([re.string,re.func]),nodeCanvasObject:re.func,nodePointerAreaPaint:re.func,linkCanvasObjectMode:re.oneOfType([re.string,re.func]),linkCanvasObject:re.func,linkPointerAreaPaint:re.func,autoPauseRedraw:re.bool,minZoom:re.number,maxZoom:re.number,enableZoomInteraction:re.bool,enablePanInteraction:re.bool,onZoom:re.func,onZoomEnd:re.func,onRenderFramePre:re.func,onRenderFramePost:re.func}),Mo=Object.assign({},wo,Eo,_o,{enableNavigationControls:re.bool,controlType:re.oneOf(["trackball","orbit","fly"]),rendererConfig:re.object,extraRenderers:re.arrayOf(re.shape({render:re.func.isRequired}))}),So=Object.assign({},wo,_o,{nodeDesc:re.oneOfType([re.string,re.func]),linkDesc:re.oneOfType([re.string,re.func])}),Io=Object.assign({},wo,_o,{markerAttrs:re.object,yOffset:re.number,glScale:re.number}),To=y(ne,{methodNames:["getGraphBbox","emitParticle","d3Force","d3ReheatSimulation","refresh"]});To.displayName="ForceGraphVR",To.propTypes=So;var ko=y(he,{methodNames:["getGraphBbox","emitParticle","d3Force","d3ReheatSimulation","refresh"],initPropNames:["markerAttrs"]});ko.displayName="ForceGraphAR",ko.propTypes=Io;var Ro=y(_t,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","cameraPosition","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords","postProcessingComposer","scene","camera","renderer","controls","refresh"],initPropNames:["controlType","rendererConfig","extraRenderers"]});Ro.displayName="ForceGraph3D",Ro.propTypes=Mo;var Lo=y(xo,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});function Bo(e,t){var n,r;if(void 0===t){var i,a=(0,Vt.Z)(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}}catch(h){a.e(h)}finally{a.f()}}else{var s,u=-1,l=(0,Vt.Z)(e);try{for(l.s();!(s=l.n()).done;){var c=s.value;null!=(c=t(c,++u,e))&&(void 0===n?c>=c&&(n=r=c):(n>c&&(n=c),r<c&&(r=c)))}}catch(h){l.e(h)}finally{l.f()}}return[n,r]}Lo.displayName="ForceGraph2D",Lo.propTypes=Co;Math.abs,Math.max,Math.min;function Do(e){return[+e[0],+e[1]]}function Po(e){return[Do(e[0]),Do(e[1])]}["w","e"].map(Oo),["n","s"].map(Oo),["n","w","e","s","nw","ne","sw","se"].map(Oo);function Oo(e){return{type:e}}var No=Math.sqrt(50),Fo=Math.sqrt(10),Uo=Math.sqrt(2);function zo(e,t,n){var r,i,a,o=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(o)),u=o/Math.pow(10,s),l=u>=No?10:u>=Fo?5:u>=Uo?2:1;return s<0?(a=Math.pow(10,-s)/l,(r=Math.round(e*a))/a<e&&++r,(i=Math.round(t*a))/a>t&&--i,a=-a):(a=Math.pow(10,s)*l,(r=Math.round(e/a))*a<e&&++r,(i=Math.round(t/a))*a>t&&--i),i<r&&.5<=n&&n<2?zo(e,t,2*n):[r,i,a]}function jo(e,t,n){return zo(e=+e,t=+t,n=+n)[2]}function Ho(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Go(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Vo(e){var t,n,r;function i(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{var o=i+a>>>1;n(e[o],r)<0?i=o+1:a=o}while(i<a)}return i}return 2!==e.length?(t=Ho,n=function(t,n){return Ho(e(t),n)},r=function(t,n){return e(t)-n}):(t=e===Ho||e===Go?e:Qo,n=e,r=e),{left:i,center:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{var o=i+a>>>1;n(e[o],r)<=0?i=o+1:a=o}while(i<a)}return i}}}function Qo(){return 0}var Wo=Vo(Ho),qo=Wo.right,Ko=(Wo.left,Vo((function(e){return null===e?NaN:+e})).center,qo);function Xo(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=$o(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function Zo(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Yo(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=$o(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}function Jo(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function $o(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?li(t):("number"===i?vr:"string"===i?(n=Wr(t))?(t=n,gi):vi:t instanceof Wr?gi:t instanceof Date?Zo:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?Xo:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Yo:vr:Jo))(e,t)}function es(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function ts(e){return+e}var ns=[0,1];function rs(e){return e}function is(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function as(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=is(i,r),a=n(o,a)):(r=is(r,i),a=n(a,o)),function(e){return a(r(e))}}function os(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=is(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=Ko(e,t,1,r)-1;return a[n](i[n](t))}}function ss(){var e,t,n,r,i,a,o=ns,s=ns,u=$o,l=rs;function c(){var e=Math.min(o.length,s.length);return l!==rs&&(l=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?os:as,i=a=null,h}function h(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),s,u)))(e(l(t)))}return h.invert=function(n){return l(t((a||(a=r(s,o.map(e),vr)))(n)))},h.domain=function(e){return arguments.length?(o=Array.from(e,ts),c()):o.slice()},h.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},h.rangeRound=function(e){return s=Array.from(e),u=es,c()},h.clamp=function(e){return arguments.length?(l=!!e||rs,c()):l!==rs},h.interpolate=function(e){return arguments.length?(u=e,c()):u},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,c()}}var us,ls=r(507),cs=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hs(e){if(!(t=cs.exec(e)))throw new Error("invalid format: "+e);var t;return new ds({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function ds(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function gs(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ps(e){return(e=gs(Math.abs(e)))?e[1]:NaN}function fs(e,t){var n=gs(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}hs.prototype=ds.prototype,ds.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ms={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return fs(100*e,t)},r:fs,s:function(e,t){var n=gs(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(us=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+gs(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function vs(e){return e}var ys,As,bs,xs=Array.prototype.map,ws=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Es(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?vs:(t=xs.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?vs:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(xs.call(e.numerals,String)),u=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"\u2212":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=hs(e)).fill,n=e.align,h=e.sign,d=e.symbol,g=e.zero,p=e.width,f=e.comma,m=e.precision,v=e.trim,y=e.type;"n"===y?(f=!0,y="g"):ms[y]||(void 0===m&&(m=12),v=!0,y="g"),(g||"0"===t&&"="===n)&&(g=!0,t="0",n="=");var A="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===d?a:/[%p]/.test(y)?u:"",x=ms[y],w=/[defgprs%]/.test(y);function E(e){var i,a,u,d=A,E=b;if("c"===y)E=x(e)+E,e="";else{var _=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:x(Math.abs(e),m),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),_&&0===+e&&"+"!==h&&(_=!1),d=(_?"("===h?h:l:"-"===h||"("===h?"":h)+d,E=("s"===y?ws[8+us/3]:"")+E+(_&&"("===h?")":""),w)for(i=-1,a=e.length;++i<a;)if(48>(u=e.charCodeAt(i))||u>57){E=(46===u?o+e.slice(i+1):e.slice(i))+E,e=e.slice(0,i);break}}f&&!g&&(e=r(e,1/0));var C=d.length+e.length+E.length,M=C<p?new Array(p-C+1).join(t):"";switch(f&&g&&(e=r(M+e,M.length?p-E.length:1/0),M=""),n){case"<":e=d+e+E+M;break;case"=":e=d+M+e+E;break;case"^":e=M.slice(0,C=M.length>>1)+d+e+E+M.slice(C);break;default:e=M+d+e+E}return s(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),E.toString=function(){return e+""},E}return{format:h,formatPrefix:function(e,t){var n=h(((e=hs(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(ps(t)/3))),i=Math.pow(10,-r),a=ws[8+r/3];return function(e){return n(i*e)+a}}}}function _s(e,t,n,r){var i,a=function(e,t,n){n=+n;var r=(t=+t)<(e=+e),i=r?jo(t,e,n):jo(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}(e,t,n);switch((r=hs(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ps(t)/3)))-ps(Math.abs(e)))}(a,o))||(r.precision=i),bs(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ps(t)-ps(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-ps(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return As(r)}function Cs(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];var r=t<e,a=r?zo(t,e,n):zo(e,t,n),o=(0,i.Z)(a,3),s=o[0],u=o[1],l=o[2];if(!(u>=s))return[];var c=u-s+1,h=new Array(c);if(r)if(l<0)for(var d=0;d<c;++d)h[d]=(u-d)/-l;else for(var g=0;g<c;++g)h[g]=(u-g)*l;else if(l<0)for(var p=0;p<c;++p)h[p]=(s+p)/-l;else for(var f=0;f<c;++f)h[f]=(s+f)*l;return h}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return _s(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,s=a.length-1,u=a[o],l=a[s],c=10;for(l<u&&(i=u,u=l,l=i,i=o,o=s,s=i);c-- >0;){if((i=jo(u,l,n))===r)return a[o]=u,a[s]=l,t(a);if(i>0)u=Math.floor(u/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,l=Math.floor(l*i)/i}r=i}return e},e}function Ms(){var e=ss()(rs,rs);return e.copy=function(){return t=e,Ms().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown());var t},ls.o.apply(e,arguments),Cs(e)}ys=Es({thousands:",",grouping:[3],currency:["$",""]}),As=ys.format,bs=ys.formatPrefix;var Ss=r(184);var Is=function(t){var n,r=t.data;r.sim_th,r=r.data,console.log(r.links),console.log(r.links);var i=1400,s=Ms().range([-1400,i]),u=Ms().range([-1400,i]),l=Bo(r.nodes,(function(e){return+e.x})),c=Bo(r.nodes,(function(e){return+e.y}));s.domain(l),u.domain(c),r.nodes=r.nodes.map((function(e){return e.x=s(+e.x),e.y=u(+e.y),e})),r.links=r.links.map((function(e){return e.value=+e.value,e}));var h=(0,e.useRef)(null);return(0,e.useEffect)((function(){h.current.d3Force("charge").strength(0)})),(0,Ss.jsx)(Ss.Fragment,{children:(0,Ss.jsx)(Lo,(n={graphData:r,nodeLabel:"id",nodeAutoColorBy:"group",nodeRelSize:8,d3VelocityDecay:.95,nodeOpacity:.01},(0,a.Z)(n,"nodeLabel","name"),(0,a.Z)(n,"nodeDesc","id"),(0,a.Z)(n,"linkWidth",1.5),(0,a.Z)(n,"linkVisibility",!0),(0,a.Z)(n,"onNodeClick",(function(e){console.log(e)})),(0,a.Z)(n,"onLinkClick",(function(e){console.log(e)})),(0,a.Z)(n,"ref",h),(0,a.Z)(n,"nodeCanvasObject",(function(e,t,n){e.group?function(e,t,n,r){n.fillStyle=t,n.lineWidth=.3,n.stroke(),n.globalAlpha=.6,n.beginPath(),n.arc(e.x,e.y,r,0,2*Math.PI,!1),n.fill(),n.fillStyle="rgba(0,0,0, 0.2)",n.shadowColor="black",n.shadowBlur=5}(e,"#"+(1234567*e.group%Math.pow(2,24)).toString(16).padStart(6,"0"),t,8):function(e,t,n){var r=e.label,i=12/n;t.font="".concat(i,"px Sans-Serif");var a=[t.measureText(r).width,i].map((function(e){return e+.2*i}));t.fillStyle="rgba(255, 255, 255, 0.1)",t.fillRect.apply(t,[e.x-a[0]/2,e.y-a[1]/2].concat((0,o.Z)(a))),t.textAlign="center",t.textBaseline="middle",t.fillStyle="black",t.fillText(r,e.x,e.y),t.shadowColor="black",t.shadowBlur=5,e.__bckgDimensions=a}(e,t,n)})),(0,a.Z)(n,"onNodeDragEnd",(function(e){e.fx=e.x,e.fy=e.y,e.fz=e.z})),n))})},Ts=JSON.parse('{"nodes":[{"id":"0","x":"1.0182675","y":"6.3525867","name":"Twitter as a corpus for sentiment analysis and opinion mining.","group":"-1"},{"id":"1","x":"7.079568","y":"7.257609","name":"A study on implementation and usage of web based programming assessment system: Code","group":"34"},{"id":"2","x":"7.214658","y":"7.9299703","name":"Computer-assisted scoring of short responses: the efficiency of a clustering-based approach in a real-life task","group":"-1"},{"id":"3","x":"6.5392275","y":"7.074977","name":"Programming pluralism: Using learning analytics to detect patterns in the learning of computer programming","group":"34"},{"id":"4","x":"7.2709775","y":"7.349255","name":"A system to grade computer programming skills using machine learning","group":"34"},{"id":"5","x":"5.9308147","y":"8.341536","name":"Peer mediated testing","group":"36"},{"id":"6","x":"6.6780863","y":"7.025489","name":"Test-driven synthesis for automated feedback for introductory computer science assignments","group":"34"},{"id":"7","x":"6.4609857","y":"7.895497","name":"Some scaling laws for MOOC assessments","group":"17"},{"id":"8","x":"6.300185","y":"6.424202","name":"Generating hints for programming problems using intermediate output","group":"43"},{"id":"9","x":"6.379022","y":"7.1135526","name":"Exploring problem solving paths in a Java programming course","group":"-1"},{"id":"10","x":"6.887361","y":"5.69395","name":"ACES: Automatic evaluation of coding style","group":"40"},{"id":"11","x":"7.3783245","y":"7.339732","name":"Automatic grading of computer programs: A machine learning approach","group":"34"},{"id":"12","x":"6.105555","y":"7.384079","name":"Facilitating human interaction in an online programming course","group":"-1"},{"id":"13","x":"5.9533224","y":"6.076519","name":"Teaching data structure design patterns","group":"43"},{"id":"14","x":"6.953015","y":"7.1408815","name":"Model solutions and properties for diagnosing student programs in ask-elle","group":"34"},{"id":"15","x":"1.456754","y":"5.8036413","name":"Text mining emergent human behaviors for interactive systems","group":"50"},{"id":"16","x":"4.696958","y":"6.137779","name":"Anthills built to order: Automating construction with artificial swarms","group":"15"},{"id":"17","x":"4.770559","y":"8.186732","name":"Integrating reflection into engineering education","group":"-1"},{"id":"18","x":"1.4479837","y":"9.606261","name":"Eliciting self-explanations improves understanding","group":"72"},{"id":"19","x":"7.040561","y":"7.0536776","name":"Clustering student programming assignments to multiply instructor leverage","group":"34"},{"id":"20","x":"1.4562662","y":"7.9667807","name":"Distance metric approximation for state-space RRTs using supervised learning","group":"-1"},{"id":"21","x":"6.836728","y":"5.6367917","name":"AutoStyle: Toward coding style feedback at scale","group":"-1"},{"id":"22","x":"3.6533637","y":"4.7751927","name":"What do exploratory searchers look at in a faceted search interface?","group":"-1"},{"id":"23","x":"3.5016108","y":"6.916988","name":"Spontaneous sourcing among students reading multiple documents","group":"-1"},{"id":"24","x":"5.7131343","y":"8.06544","name":"Enriching Online Classroom Communication with Collaborative Multi-Modal Annotations","group":"36"},{"id":"25","x":"6.3903255","y":"7.972162","name":"Towards attentive, bi-directional MOOC learning on mobile devices","group":"17"},{"id":"26","x":"6.142791","y":"7.475677","name":"Usability and usage of interactive features in an online ebook for CS teachers","group":"-1"},{"id":"27","x":"4.9702597","y":"8.308526","name":"Designing and evaluating a flipped signals and systems course","group":"36"},{"id":"28","x":"6.3438272","y":"7.9695253","name":"Context counts: How learners\' contexts influence learning in a MOOC","group":"17"},{"id":"29","x":"5.008243","y":"8.437423","name":"Why no difference? A controlled flipped classroom study for an introductory differential equations course","group":"36"},{"id":"30","x":"6.2952776","y":"6.625489","name":"Data-driven hint generation in vast solution spaces: a self-improving python programming tutor","group":"43"},{"id":"31","x":"6.4770355","y":"6.5415106","name":"Utilizing programmer communities for end user programmer feedback","group":"43"},{"id":"32","x":"6.2164516","y":"6.509176","name":"CSCL2015","group":"43"},{"id":"33","x":"6.153238","y":"7.129761","name":"The design of a programming environment to support greater social awareness and participation in early computing courses","group":"43"},{"id":"34","x":"6.383374","y":"7.948557","name":"M-CAFE 1.0: Motivating and prioritizing ongoing student feedback during MOOCs and large on-campus courses using collaborative filtering","group":"17"},{"id":"35","x":"4.9526734","y":"8.401671","name":"Transforming a fourth year modern optics course using a deliberate practice framework","group":"36"},{"id":"36","x":"7.191398","y":"7.9094863","name":"Learning to grade short answers using machine learning techniques","group":"33"},{"id":"37","x":"5.2369246","y":"8.85333","name":"Active Learning in Mathematics, Part II: Levels of Cognitive Demand","group":"-1"},{"id":"38","x":"6.1416125","y":"6.265377","name":"Tutorons: Generating context-relevant, on-demand explanations and demonstrations of online code","group":"43"},{"id":"39","x":"6.8542275","y":"7.89848","name":"Spoken english grading: Machine learning with crowd intelligence","group":"-1"},{"id":"40","x":"4.870154","y":"8.072471","name":"Educating engineers: Designing for the future of the field","group":"-1"},{"id":"41","x":"5.2409062","y":"7.1784945","name":"Rigor and flexibility in computer-based qualitative research: Introducing the Coding Analysis Toolkit","group":"8"},{"id":"42","x":"7.3838587","y":"4.2490644","name":"Automated feature discovery via sentence selection and source code summarization","group":"-1"},{"id":"43","x":"2.0055535","y":"9.269559","name":"The effect of automatic concern mapping strategies on conceptual cohesion measurement","group":"-1"},{"id":"44","x":"7.7995872","y":"4.469629","name":"Combining lexical and structural information to reconstruct software layers","group":"23"},{"id":"45","x":"0.75522614","y":"5.7819257","name":"A survey on the use of topic models when mining software repositories","group":"50"},{"id":"46","x":"7.6000924","y":"4.4195323","name":"Developing a model of loop actions by mining loop characteristics from a large code corpus","group":"-1"},{"id":"47","x":"7.481376","y":"4.694932","name":"Extraction of domain concepts from the source code","group":"23"},{"id":"48","x":"0.8403448","y":"5.759209","name":"Supporting Experts in Test Case Selection with Topic Models","group":"50"},{"id":"49","x":"8.2502775","y":"4.905996","name":"On the role of semantics in automated requirements tracing","group":"-1"},{"id":"50","x":"0.7930156","y":"5.8204284","name":"Modeling the evolution of development topics using dynamic topic models","group":"50"},{"id":"51","x":"8.323438","y":"4.368025","name":"Predicting component failures using latent Dirichlet allocation","group":"7"},{"id":"52","x":"7.693875","y":"4.52878","name":"Correlating Features and Code by Dynamic and Semantic Analysis","group":"23"},{"id":"53","x":"0.7993966","y":"5.952142","name":"Using latent dirichlet allocation for topic modelling in twitter","group":"50"},{"id":"54","x":"2.7889051","y":"4.9542027","name":"Using the structural location of terms to improve the results of text retrieval based approaches to feature location","group":"-1"},{"id":"55","x":"7.6292553","y":"4.4154105","name":"Understanding LDA in source code analysis","group":"-1"},{"id":"56","x":"7.45435","y":"4.2826076","name":"Estimating the optimal number of latent concepts in source code analysis","group":"-1"},{"id":"57","x":"4.889816","y":"8.574202","name":"Effectiveness of mastery learning programs: A meta-analysis","group":"36"},{"id":"58","x":"6.9160595","y":"7.244067","name":"Fuzz testing projects in massive courses","group":"34"},{"id":"59","x":"0.7441088","y":"5.8299894","name":"Machine reading tea leaves: Automatically evaluating topic coherence and topic model quality","group":"50"},{"id":"60","x":"0.70589614","y":"6.002159","name":"Gibbs sampling in the generative model of latent dirichlet allocation","group":"50"},{"id":"61","x":"5.517245","y":"8.346692","name":"The role of the lecturer as tutor: doing what effective tutors do in a large lecture class","group":"36"},{"id":"62","x":"4.6906667","y":"8.788416","name":"Making Chapter 1 make a difference","group":"-1"},{"id":"63","x":"0.73016256","y":"5.849093","name":"Optimizing semantic coherence in topic models","group":"50"},{"id":"64","x":"5.835347","y":"8.039162","name":"Feedback provision strategies in intelligent tutoring systems based on clustered solution spaces","group":"36"},{"id":"65","x":"1.8387913","y":"4.7895613","name":"Efficient aggregation for graph summarization","group":"-1"},{"id":"66","x":"1.2458124","y":"5.6562333","name":"Visual analysis of topical evolution in unstructured text: Design and evaluation of topicflow","group":"-1"},{"id":"67","x":"6.6840763","y":"6.7973228","name":"Automated style feedback for advanced beginner Java programmers","group":"43"},{"id":"68","x":"6.779357","y":"7.2412963","name":"Facilitating critiquing in education: The design and implementation of the Java Critiquer","group":"34"},{"id":"69","x":"6.9081793","y":"7.1528177","name":"FrenchPress gives students automated feedback on java program flaws","group":"34"},{"id":"70","x":"7.4603896","y":"6.859889","name":"JavaMarker: A marking system for Java programs","group":"34"},{"id":"71","x":"7.2434793","y":"7.3725405","name":"The Ceilidh system for the automatic grading of students on programming courses","group":"34"},{"id":"72","x":"7.0745225","y":"7.274676","name":"Ability-training-oriented automated assessment in introductory programming course","group":"34"},{"id":"73","x":"7.007322","y":"7.1155763","name":"Experiences with marmoset: designing and using an advanced submission and testing system for programming courses","group":"34"},{"id":"74","x":"7.1864276","y":"7.478127","name":"A review of the strategies for output correctness determination in automated assessment of student programs","group":"34"},{"id":"75","x":"7.14639","y":"6.947255","name":"The recent development of automated programming assessment","group":"34"},{"id":"76","x":"6.9284697","y":"7.230045","name":"An incremental model for developing educational critiquing systems: experiences with the Java Critiquer","group":"34"},{"id":"77","x":"7.3289046","y":"7.161572","name":"A tool for automated GUI program grading","group":"34"},{"id":"78","x":"7.078589","y":"7.2724547","name":"Automated Systems for Testing Student Programs: Practical Issues and Requirements","group":"34"},{"id":"79","x":"7.252455","y":"7.3717327","name":"Marking student programs using graph similarity","group":"34"},{"id":"80","x":"8.16932","y":"4.9772425","name":"Software repository mining with Marmoset: An automated programming project snapshot and testing system","group":"23"},{"id":"81","x":"7.1185946","y":"7.390911","name":"Automated Testing and Smart Tutoring System for Web Application","group":"34"},{"id":"82","x":"5.631047","y":"7.1421123","name":"Automatic marking with Sakai","group":"-1"},{"id":"83","x":"7.417246","y":"7.115822","name":"Interface-based programming assignments and automatic grading of java programs","group":"34"},{"id":"84","x":"6.429204","y":"7.073291","name":"iiOSProTrain: An Interactive Intelligent Online System for Programming Training","group":"34"},{"id":"85","x":"7.063844","y":"7.1802125","name":"A survey of automated assessment approaches for programming assignments","group":"34"},{"id":"86","x":"7.1869144","y":"6.787546","name":"Bringing together manual and automated code assessment","group":"-1"},{"id":"87","x":"7.2478256","y":"7.4802833","name":"Semantic similarity-based grading of student programs","group":"34"},{"id":"88","x":"7.6147795","y":"6.5161266","name":"Schema Detection and Beacon-Based Classification for Algorithm Recognition.","group":"-1"},{"id":"89","x":"7.4116726","y":"7.0881023","name":"A system for automatic evaluation of c programs: Features and interfaces","group":"34"},{"id":"90","x":"7.1041145","y":"7.6830792","name":"Lessons learned from using the automated assessment tool \u201cmooshak\u201d","group":"33"},{"id":"91","x":"7.0267158","y":"7.0391793","name":"GAME: A generic automated marking environment for programming assessment","group":"34"},{"id":"92","x":"7.341439","y":"7.2534857","name":"Software verification and graph similarity for automated evaluation of students\u2019 assignments","group":"34"},{"id":"93","x":"5.6490517","y":"7.187534","name":"An experimental analysis of GAME: a generic automated marking environment","group":"-1"},{"id":"94","x":"7.0582957","y":"7.1133366","name":"ProgTest: An environment for the submission and evaluation of programming assignments based on testing activities","group":"34"},{"id":"95","x":"7.5088515","y":"6.9214163","name":"Categorizing variations of student-implemented sorting algorithms","group":"34"},{"id":"96","x":"6.8724117","y":"7.2735376","name":"Software architecture for support of programming courses in university","group":"34"},{"id":"97","x":"6.5929346","y":"7.1725497","name":"How is Everyone Doing?: Automatic Project Feedback and Monitoring for Programming Courses","group":"34"},{"id":"98","x":"7.1708746","y":"7.1547017","name":"Current Practices of Programming Assessment at Higher Learning Institutions","group":"34"},{"id":"99","x":"7.343759","y":"6.963968","name":"A review on the static analysis approach in the automated programming assessment systems","group":"34"},{"id":"100","x":"7.1412406","y":"7.034193","name":"A Test Data Generation Method for Automatic Programming Assessment","group":"34"},{"id":"101","x":"7.480889","y":"6.9248466","name":"Algorithm recognition by static analysis and its application in students\' submissions assessment","group":"34"},{"id":"102","x":"7.2458515","y":"7.312602","name":"A flexible dynamic system for automatic grading of programming exercises","group":"34"},{"id":"103","x":"7.002752","y":"7.150865","name":"E-Lab: Web based system for automatic assessment of programming problems","group":"34"},{"id":"104","x":"7.3681583","y":"7.16397","name":"Architecture of an Automatic program evaluation system","group":"34"},{"id":"105","x":"7.4274793","y":"7.0430083","name":"A system for automatic evaluation of programs for correctness and performance","group":"34"},{"id":"106","x":"7.098174","y":"7.2375793","name":"Autolep: An automated learning and examination system for programming and its application in programming course","group":"34"},{"id":"107","x":"6.675068","y":"6.255733","name":"Towards generalizing expert programmers\' suggestions for novice programmers","group":"43"},{"id":"108","x":"7.093231","y":"7.69093","name":"A web-based automatic evaluation system","group":"33"},{"id":"109","x":"7.3879714","y":"7.0522337","name":"Towards improving automated evaluation of Java program","group":"34"},{"id":"110","x":"5.6705346","y":"7.195573","name":"Performance analysis of GAME: A generic automated marking environment","group":"-1"},{"id":"111","x":"7.6072097","y":"5.7417626","name":"Tree-based comparison for plagiarism detection and automatic marking of programming assignments","group":"-1"},{"id":"112","x":"7.094462","y":"7.333508","name":"Computer-based assessment system for e-Learning applied to programming education","group":"34"},{"id":"113","x":"7.547337","y":"6.927141","name":"Automatic recognition of students\' sorting algorithm implementations in a data structures and algorithms course","group":"34"},{"id":"114","x":"6.917257","y":"7.2496076","name":"Planting Bugs: A System for Testing Students\' Unit Tests","group":"34"},{"id":"115","x":"7.00816","y":"7.7055564","name":"Experiences in automatic assessment on mass courses and issues for designing virtual courses","group":"33"},{"id":"116","x":"5.9061127","y":"7.988176","name":"Automatic feedback and resubmissions as learning aid","group":"36"},{"id":"117","x":"7.00961","y":"7.7759233","name":"Experiences in web-based grading","group":"33"},{"id":"118","x":"7.0685","y":"7.6580377","name":"Towards generic and flexible web services for e-assessment","group":"33"},{"id":"119","x":"7.777084","y":"4.5913005","name":"Analyzing code evolution to uncover relations","group":"23"},{"id":"120","x":"6.981585","y":"7.665956","name":"Learning to grade student programs in a massive open online course","group":"33"},{"id":"121","x":"7.7652874","y":"4.610604","name":"Analyzing code evolution to uncover relations","group":"23"},{"id":"122","x":"7.664895","y":"6.6176186","name":"Using decision tree classifiers in source code analysis to recognize algorithms: An experiment with sorting algorithms","group":"-1"},{"id":"123","x":"7.0234113","y":"7.1869044","name":"E-LEARNING TOOL: A REVIEW ON TRENDS IN AUTOMATED PROGRAMMING CODES ASSESSMENT","group":"34"},{"id":"124","x":"7.3865023","y":"7.2686534","name":"First Experiences in Using Software Metrics in Automated Assesssment","group":"34"},{"id":"125","x":"6.9488997","y":"7.0858603","name":"FACT: A Formative Assessment Criteria Tool for the Assessment of Students\' Programming Tasks","group":"34"},{"id":"126","x":"7.282926","y":"6.8399487","name":"Static analysis of students\' Java programs","group":"-1"},{"id":"127","x":"6.262964","y":"7.249128","name":"Large introductory computer science classes: strategies for effective course management","group":"-1"},{"id":"128","x":"6.3792977","y":"6.7540097","name":"PETCHA: a programming exercises teaching assistant","group":"43"},{"id":"129","x":"7.361309","y":"6.4464316","name":"Automated clustering and program repair for introductory programming assignments","group":"-1"},{"id":"130","x":"7.649829","y":"4.4482007","name":"Solminer: mining distinct solutions in programs","group":"23"},{"id":"131","x":"6.2088203","y":"7.233718","name":"Codeopticon: Real-time, one-to-many human tutoring for computer programming","group":"-1"},{"id":"132","x":"5.922362","y":"3.7941916","name":"Semi-supervised verified feedback generation","group":"42"},{"id":"133","x":"5.8600736","y":"8.17661","name":"A model for content sequencing in intelligent tutoring systems based on the ecological approach and its validation through simulated students.","group":"36"},{"id":"134","x":"6.382384","y":"7.955514","name":"Learning in an introductory physics MOOC: All cohorts learn equally, including an on-campus class","group":"17"},{"id":"135","x":"5.8649373","y":"8.243157","name":"Peer-based intelligent tutoring systems: A corpus-oriented approach","group":"36"},{"id":"136","x":"5.828884","y":"8.291365","name":"Coping with poor advice from peers in peer-based intelligent tutoring: The case of avoiding bad annotations of learning objects","group":"36"},{"id":"137","x":"5.8415236","y":"8.329422","name":"Exploring the effects of errors in assessment and time requirements of learning objects in a peer-based intelligent tutoring system","group":"36"},{"id":"138","x":"5.8188877","y":"8.295206","name":"Peer-based intelligent tutoring systems: A corpus-oriented approach","group":"36"},{"id":"139","x":"0.7465868","y":"5.8625813","name":"Nonparametric spherical topic modeling with word embeddings","group":"50"},{"id":"140","x":"5.907896","y":"8.341579","name":"Peer produced peer learning","group":"36"},{"id":"141","x":"3.0759072","y":"8.646864","name":"Brain Changes in the Development of Expertise: Neuroanatomical and Neurophysiological Evidence about Skill-Based Adaptations.","group":"58"},{"id":"142","x":"5.5382237","y":"8.400749","name":"Properties and Applications of Wrong Answers in Online Educational Systems.","group":"36"},{"id":"143","x":"4.81662","y":"8.741191","name":"Novices Who Focused or Experts Who Didn\'t?","group":"36"},{"id":"144","x":"7.113124","y":"7.684688","name":"An exploration of automated grading of complex assignments","group":"33"},{"id":"145","x":"6.2014756","y":"8.136034","name":"Graders as meta-reviewers: Simultaneously scaling and improving expert evaluation for large online classrooms","group":"-1"},{"id":"146","x":"6.257851","y":"8.220466","name":"Dynamics of peer grading: An empirical study","group":"-1"},{"id":"147","x":"5.9538703","y":"7.766463","name":"Using learning analytics in personalized learning","group":"-1"},{"id":"148","x":"5.9181156","y":"8.075202","name":"An adaptive e-learning framework: crowdsourcing approach","group":"36"},{"id":"149","x":"7.180034","y":"7.9235644","name":"Rough Set based keyword selection and weighing for textual answer evaluation","group":"33"},{"id":"150","x":"6.516881","y":"4.6776133","name":"Automated correction for syntax errors in programming assignments using recurrent neural networks","group":"-1"},{"id":"151","x":"6.1976647","y":"7.3586965","name":"Do you think you can? The influence of student self-efficacy on the effectiveness of tutorial dialogue for computer science","group":"-1"},{"id":"152","x":"5.8757663","y":"8.098771","name":"Crowdsourcing the curriculum: Redefining e-learning practices through peer-generated approaches","group":"36"},{"id":"153","x":"6.4510984","y":"7.8879747","name":"A survey on artificial intelligence and data mining for MOOCs","group":"17"},{"id":"154","x":"6.599179","y":"7.7478075","name":"Competitive learning in informatics: The UVa online judge experience","group":"-1"},{"id":"155","x":"6.818308","y":"5.651866","name":"Autostyle: Toward coding style feedback at scale","group":"-1"},{"id":"156","x":"0.72352344","y":"5.85213","name":"Topic Modeling Historical Sources: Analyzing the Diary of Martha Ballard.","group":"50"},{"id":"157","x":"7.909575","y":"4.8700037","name":"Using IR methods for labeling source code artifacts: Is it worthwhile?","group":"23"},{"id":"158","x":"0.7760816","y":"5.842329","name":"Reading tea leaves: How humans interpret topic models","group":"50"},{"id":"159","x":"6.2064757","y":"6.5407414","name":"TRAKLA2: a framework for automatically assessed visual algorithm simulation exercises","group":"43"},{"id":"160","x":"5.3198214","y":"8.612477","name":"Improving the productivity of America\'s schools.","group":"36"},{"id":"161","x":"5.311744","y":"9.20429","name":"Applying the theory of variation in teaching reading","group":"35"},{"id":"162","x":"5.026278","y":"8.2076","name":"Laplace Transforms: Too difficult to teach, learn, and apply, or just a matter of how to do it?","group":"-1"},{"id":"163","x":"5.097703","y":"8.675482","name":"Sharpening a tool for teaching: the zone of proximal development","group":"36"},{"id":"164","x":"3.034234","y":"8.211685","name":"Analogical learning in negotiation teams: Comparing cases promotes learning and transfer","group":"66"},{"id":"165","x":"5.407536","y":"9.124052","name":"Variation theory applied to students\u2019 conceptions of computer programming","group":"35"},{"id":"166","x":"6.35633","y":"5.950148","name":"The concept of variable in programming-its meaning and use in problem-solving","group":"43"},{"id":"167","x":"6.30519","y":"6.078505","name":"Some difficulties of learning to program","group":"43"},{"id":"168","x":"4.314687","y":"6.169946","name":"Webzeitgeist: design mining the web","group":"-1"},{"id":"169","x":"4.1752896","y":"7.4291244","name":"Searching for analogical ideas with crowds","group":"29"},{"id":"170","x":"4.414433","y":"5.9870706","name":"Bricolage: example-based retargeting for web design","group":"15"},{"id":"171","x":"4.3270383","y":"5.97681","name":"Structural Learning for Web Design","group":"15"},{"id":"172","x":"3.3006718","y":"4.014569","name":"Learning structural semantics for the web","group":"32"},{"id":"173","x":"6.32602","y":"6.784997","name":"Emergent, crowd-scale programming practice in the IDE","group":"43"},{"id":"174","x":"4.4208417","y":"6.0379033","name":"Data-driven Web Design.","group":"15"},{"id":"175","x":"5.0120435","y":"7.33692","name":"Searching for design examples with crowdsourcing","group":"8"},{"id":"176","x":"6.7964563","y":"5.6473875","name":"Scale-driven automatic hint generation for coding style","group":"-1"},{"id":"177","x":"3.0305908","y":"7.570461","name":"Gender differences in facial expressions of affect during learning","group":"-1"},{"id":"178","x":"7.0710936","y":"7.7772636","name":"MAGIC: Massive Automated Grading in the Cloud.","group":"33"},{"id":"179","x":"7.140297","y":"7.719222","name":"Question independent grading using machine learning: The case of computer program grading","group":"33"},{"id":"180","x":"4.0286727","y":"9.120729","name":"Fostering deep understanding in geography by inducing and managing confusion: an online learning approach","group":"-1"},{"id":"181","x":"6.8242307","y":"7.1363792","name":"Patterns of innovation: a web-based MATLAB programming contest","group":"34"},{"id":"182","x":"1.9006683","y":"9.202064","name":"The curse of knowledge in reasoning about false beliefs","group":"59"},{"id":"183","x":"5.941972","y":"7.5749383","name":"Authoring tools for advanced technology learning environments: Toward cost-effective adaptive, interactive and intelligent educational software","group":"-1"},{"id":"184","x":"7.112585","y":"7.1482773","name":"Can computers compare student code solutions as well as teachers?","group":"34"},{"id":"185","x":"6.922382","y":"6.626312","name":"Syntactic and functional variability of a million code submissions in a machine learning mooc","group":"-1"},{"id":"186","x":"6.543691","y":"7.3791122","name":"Towards providing feedback to students in absence of formalized domain models","group":"-1"},{"id":"187","x":"7.9847283","y":"4.9265633","name":"Automatic refactoring detection in version archives","group":"23"},{"id":"188","x":"7.5928326","y":"6.733792","name":"Recognizing algorithms using language constructs, software metrics and roles of variables: An experiment with sorting algorithms","group":"-1"},{"id":"189","x":"7.585195","y":"6.836512","name":"Recognizing sorting algorithms with the C4. 5 decision tree classifier","group":"-1"},{"id":"190","x":"6.212979","y":"6.189184","name":"An empirical analysis of roles of variables in novice-level procedural programs","group":"43"},{"id":"191","x":"3.6667595","y":"9.266111","name":"An Empirical Investigation of the Tacit Plan Knowledge in","group":"53"},{"id":"192","x":"6.2909465","y":"6.093341","name":"The programmer\u2019s torch","group":"43"},{"id":"193","x":"5.3659234","y":"6.3007283","name":"Cognitive dimensions of notations","group":"11"},{"id":"194","x":"7.665771","y":"5.255795","name":"Comparison and evaluation of code clone detection techniques and tools: A qualitative approach","group":"23"},{"id":"195","x":"5.752482","y":"8.015585","name":"Focus on formative feedback","group":"36"},{"id":"196","x":"4.9927516","y":"8.499656","name":"Education theories on learning: an informal guide for the engineering education scholar","group":"36"},{"id":"197","x":"5.714181","y":"8.1583805","name":"Learning from human tutoring","group":"36"},{"id":"198","x":"5.584762","y":"8.468098","name":"The role of tutoring in problem solving","group":"36"},{"id":"199","x":"4.5561757","y":"8.651742","name":"Role of examples in how students learn to categorize statistics word problems.","group":"-1"},{"id":"200","x":"4.91259","y":"8.8180485","name":"Does comparing solution methods facilitate conceptual and procedural knowledge? An experimental study on learning to solve equations.","group":"-1"},{"id":"201","x":"2.173614","y":"8.617048","name":"Blueprints for complex learning: The 4C/ID-model","group":"65"},{"id":"202","x":"2.2995749","y":"8.312997","name":"Learning by analogical bootstrapping","group":"70"},{"id":"203","x":"3.8167732","y":"8.662876","name":"Overcoming contextual limitations on problem-solving transfer.","group":"-1"},{"id":"204","x":"3.0055351","y":"8.220688","name":"Educational implications of analogy: A view from case-based reasoning.","group":"66"},{"id":"205","x":"3.4481223","y":"8.733428","name":"Learning and awareness","group":"-1"},{"id":"206","x":"5.3077645","y":"8.407282","name":"Classroom discourse and the space of learning","group":"36"},{"id":"207","x":"5.3320665","y":"9.206303","name":"Variation theory and the improvement of teaching and learning","group":"35"},{"id":"208","x":"2.7839053","y":"7.6662593","name":"\'If anyone called me a wog, they wouldn\'t be speaking to me alone\'","group":"52"},{"id":"209","x":"2.3433845","y":"8.695194","name":"On some necessary conditions of learning","group":"65"},{"id":"210","x":"5.34425","y":"9.174419","name":"Applications of variation theory in computing education","group":"35"},{"id":"211","x":"5.008916","y":"8.8707905","name":"For each and everyone: Catering for individual differences through learning studies","group":"-1"},{"id":"212","x":"7.5458646","y":"6.07331","name":"Engineering software as a service: an agile approach using cloud computing","group":"40"},{"id":"213","x":"3.8804996","y":"6.8926234","name":"d. tour: Style-based exploration of design example galleries","group":"10"},{"id":"214","x":"6.5640473","y":"6.114164","name":"The zen of python","group":"43"},{"id":"215","x":"7.3355327","y":"4.6861873","name":"Mining idioms from source code","group":"23"},{"id":"216","x":"7.4976425","y":"4.6759577","name":"Mining specifications","group":"23"},{"id":"217","x":"9.232503","y":"5.687836","name":"Synthesizing API usage examples","group":"26"},{"id":"218","x":"6.540565","y":"4.9466615","name":"Operand names influence operator precedence decisions (part","group":"-1"},{"id":"219","x":"7.400851","y":"6.7952876","name":"The Java programmer\u2019s phrase book","group":"34"},{"id":"220","x":"8.034701","y":"5.471069","name":"Debugging method names","group":"-1"},{"id":"221","x":"3.865186","y":"6.6896152","name":"Autostyle: Automatic style transfer from image collections to users\' images","group":"-1"},{"id":"222","x":"2.4531686","y":"8.562381","name":"Effects of variation and prior knowledge on abstract concept learning","group":"65"},{"id":"223","x":"5.6431837","y":"8.418768","name":"Peer learning in higher education: Learning from and with each other","group":"36"},{"id":"224","x":"7.291497","y":"7.2847376","name":"GroverCode: code canonicalization and clustering applied to grading","group":"34"},{"id":"225","x":"6.0167117","y":"6.6771317","name":"Example-based learning in computer-aided stem education","group":"-1"},{"id":"226","x":"6.9830756","y":"6.9639688","name":"Codewebs: scalable homework search for massive open online programming courses","group":"34"},{"id":"227","x":"5.9995084","y":"8.274229","name":"PeerStudio: rapid peer feedback emphasizes revision and improves performance","group":"36"},{"id":"228","x":"5.7878966","y":"8.009541","name":"Uncovering patterns in student work: Machine learning to understand human learning","group":"36"},{"id":"229","x":"3.4576752","y":"7.0029197","name":"Six Frames for Information literacy Education: a conceptual framework for interpreting the relationships between theory and practice.","group":"-1"},{"id":"230","x":"9.231892","y":"6.076384","name":"Determining usability test sample size","group":"-1"},{"id":"231","x":"2.8763976","y":"8.766019","name":"The magical number seven, plus or minus two: Some limits on our capacity for processing information.","group":"58"},{"id":"232","x":"3.1974993","y":"5.3401003","name":"The sense of style: The thinking person\'s guide to writing in the 21st century","group":"46"},{"id":"233","x":"3.7742503","y":"5.0220737","name":"Survey of clustering algorithms","group":"-1"},{"id":"234","x":"0.7377763","y":"5.897997","name":"A correlated topic model of science","group":"50"},{"id":"235","x":"0.5623143","y":"6.8629074","name":"Mental health in American colleges and universities: variation across student subgroups and across campuses","group":"3"},{"id":"236","x":"1.9720764","y":"10.300657","name":"Economic dispatch with deliverable ramping capability constraint for high wind penetration","group":"51"},{"id":"237","x":"3.4212084","y":"4.129504","name":"Improving Educational Search and Question Answering","group":"32"},{"id":"238","x":"6.160632","y":"4.191906","name":"Learning syntactic program transformations from examples","group":"28"},{"id":"239","x":"2.4014711","y":"5.5149064","name":"Visual Corpus Interface--Putting Text Visualizations at Use","group":"64"},{"id":"240","x":"1.0403262","y":"5.7631364","name":"Textflow: Towards better understanding of evolving topics in text","group":"50"},{"id":"241","x":"6.32507","y":"6.493573","name":"Data-driven program synthesis for hint generation in programming tutors","group":"43"},{"id":"242","x":"3.5823205","y":"5.340919","name":"CEPT: Collaborative editing tool for non-native authors","group":"46"},{"id":"243","x":"2.9671931","y":"7.240088","name":"Inquire: Large-scale early insight discovery for qualitative research","group":"-1"},{"id":"244","x":"5.2837853","y":"9.044593","name":"Variation in tool-based mathematics pedagogy: The case of dynamic virtual tool","group":"35"},{"id":"245","x":"5.241057","y":"9.039871","name":"Variation in tool-based mathematics pedagogy: The case of dynamic virtual tool","group":"35"},{"id":"246","x":"5.723611","y":"8.065971","name":"A crowdsourcing approach to collecting tutorial videos--toward personalized learning-at-scale","group":"36"},{"id":"247","x":"5.7278833","y":"7.177429","name":"Pathviewer: Visualizing pathways through student data","group":"-1"},{"id":"248","x":"7.573595","y":"5.7062855","name":"Unsupervised learning based approach for plagiarism detection in programming assignments","group":"-1"},{"id":"249","x":"5.2882767","y":"8.542951","name":"All roads lead to Rome: Tracking students\u2019 affect as they overcome misconceptions","group":"36"},{"id":"250","x":"6.3665853","y":"7.9483757","name":"Developing a data-driven learning interest recommendation system to promoting self-paced learning on MOOCs","group":"17"},{"id":"251","x":"4.797526","y":"8.200679","name":"Facilitating habitual reflection in students-application to an engineering capstone project","group":"-1"},{"id":"252","x":"8.129093","y":"4.1035123","name":"20th Working Conference on Reverse Engineering (WCRE)","group":"-1"},{"id":"253","x":"9.242514","y":"5.569745","name":"Mining succinct and high-coverage API usage patterns from source code","group":"26"},{"id":"254","x":"9.284078","y":"5.494785","name":"Mining API patterns as partial orders from source code: from usage scenarios to specifications","group":"26"},{"id":"255","x":"5.6900597","y":"3.3924103","name":"Flashmeta: A framework for inductive program synthesis","group":"42"},{"id":"256","x":"3.5302007","y":"4.394067","name":"Finding likely errors with Bayesian specifications","group":"32"},{"id":"257","x":"8.608869","y":"4.253398","name":"Understanding the exception handling strategies of Java libraries: An empirical study","group":"7"},{"id":"258","x":"8.385016","y":"5.302153","name":"Findings from GitHub: methods, datasets and limitations","group":"22"},{"id":"259","x":"6.142563","y":"5.489505","name":"Predicting a correct program in programming by example","group":"-1"},{"id":"260","x":"5.2915606","y":"3.7859743","name":"Synthesizing program input grammars","group":"-1"},{"id":"261","x":"4.693284","y":"3.8278148","name":"Synthesizing context free grammars from sample strings based on inductive CYK algorithm","group":"-1"},{"id":"262","x":"3.4020648","y":"4.0858884","name":"Inference of probabilistic grammars in different rules systems of natural languages","group":"32"},{"id":"263","x":"4.0140634","y":"4.209063","name":"Learning design patterns with bayesian grammar induction","group":"4"},{"id":"264","x":"4.2470846","y":"7.3539715","name":"Distributed analogical idea generation: inventing with crowds","group":"29"},{"id":"265","x":"3.269919","y":"9.6058235","name":"Investigating the solution space of an open-ended educational game using conceptual feature extraction","group":"-1"},{"id":"266","x":"4.20309","y":"5.8534064","name":"Worldbrush: interactive example-based synthesis of procedural virtual worlds.","group":"-1"},{"id":"267","x":"4.408649","y":"5.8700404","name":"Learning layouts for single-pagegraphic designs","group":"15"},{"id":"268","x":"1.7016722","y":"7.9612656","name":"Trestle: Incremental learning in structured domains using partial matching and categorization","group":"-1"},{"id":"269","x":"3.646741","y":"5.5093813","name":"Interactive design of probability density functions for shape grammars","group":"46"},{"id":"270","x":"3.6955297","y":"5.749789","name":"Data-driven shape analysis and processing","group":"-1"},{"id":"271","x":"4.269717","y":"6.219006","name":"Data-driven interactions for web design","group":"-1"},{"id":"272","x":"4.048329","y":"4.117318","name":"Automated induction of general grammars for design","group":"-1"},{"id":"273","x":"4.0300674","y":"4.1952868","name":"Discovering New Designs through Stochastic Context-free Grammar Formulation","group":"4"},{"id":"274","x":"3.570784","y":"6.036266","name":"Learning design: aesthetic models for color, layout, and typography","group":"-1"},{"id":"275","x":"3.7911577","y":"10.301772","name":"Physics-based reinforcement learning for autonomous manipulation","group":"57"},{"id":"276","x":"7.0152373","y":"4.794262","name":"Codehint: Dynamic and interactive synthesis of code snippets","group":"-1"},{"id":"277","x":"4.559617","y":"5.868469","name":"Programming Layout by Manipulation","group":"15"},{"id":"278","x":"3.8149202","y":"10.194873","name":"Programming by demonstration: dual-arm manipulation tasks for humanoid robots","group":"57"},{"id":"279","x":"4.7070813","y":"5.7945256","name":"Programming by manipulation for layout.","group":"-1"},{"id":"280","x":"2.8051355","y":"6.179304","name":"DataSplash: A direct manipulation environment for programming semantic zoom visualizations of tabular data","group":"-1"},{"id":"281","x":"0.85999715","y":"5.9482455","name":"Twitter event detection: combining wavelet analysis and topic inference summarization","group":"50"},{"id":"282","x":"4.298896","y":"7.3699503","name":"Toward collaborative ideation at scale: Leveraging ideas from others to generate more creative and diverse ideas","group":"29"},{"id":"283","x":"4.324284","y":"7.36932","name":"Ideahound: Self-sustainable idea generation in creative online communities","group":"29"},{"id":"284","x":"4.6013794","y":"7.310867","name":"IdeaHound: improving large-scale collaborative ideation with crowd-powered real-time semantic modeling","group":"-1"},{"id":"285","x":"4.068204","y":"4.5030327","name":"Characterizing the usability of interactive applications through query log analysis","group":"-1"},{"id":"286","x":"6.045408","y":"4.1608567","name":"Multise: Multi-path symbolic execution using value summaries","group":"-1"},{"id":"287","x":"6.5900817","y":"6.549178","name":"Teaching students to recognize and implement good coding style","group":"43"},{"id":"288","x":"5.20199","y":"6.2804227","name":"Guided gui testing of android apps with minimal restart and approximate learning","group":"11"},{"id":"289","x":"5.90298","y":"5.157297","name":"Naturalizing a programming language via interactive learning","group":"-1"},{"id":"290","x":"1.6781126","y":"5.7979946","name":"INTERACTIVE TEXT ANALYTICS FOR USER-GENERATED CONTENT","group":"-1"},{"id":"291","x":"6.2040243","y":"3.6824677","name":"Neural sketch learning for conditional program generation","group":"41"},{"id":"292","x":"3.6512463","y":"4.183602","name":"From language to programs: Bridging reinforcement learning and maximum marginal likelihood","group":"-1"},{"id":"293","x":"6.567088","y":"3.7521572","name":"Deep API programmer: Learning to program with APIs","group":"-1"},{"id":"294","x":"2.3056154","y":"8.569231","name":"PACKER: An Exemplar Model of Category Generation.","group":"65"},{"id":"295","x":"3.6156342","y":"4.6995373","name":"Optimizing search results for human learning goals","group":"-1"},{"id":"296","x":"1.827378","y":"5.7684793","name":"Visual analysis of relationships between heterogeneous networks and texts: An application on the IEEE VIS publication dataset","group":"63"},{"id":"297","x":"8.71165","y":"3.8461852","name":"Automatic inference of code transforms and search spaces for automatic patch generation systems","group":"7"},{"id":"298","x":"5.9568686","y":"6.1373787","name":"Usability analysis of visual programming environments: a \u2018cognitive dimensions\u2019 framework","group":"43"},{"id":"299","x":"5.447374","y":"6.2334833","name":"Notational systems\u2013the cognitive dimensions of notations framework","group":"-1"},{"id":"300","x":"5.501305","y":"5.852657","name":"The \u201cphysics\u201d of notations: toward a scientific basis for constructing visual notations in software engineering","group":"-1"},{"id":"301","x":"4.095","y":"8.123986","name":"HCI models, theories, and frameworks: Toward a multidisciplinary science","group":"38"},{"id":"302","x":"7.1756063","y":"5.9657845","name":"Empirical analysis of programming language adoption","group":"40"},{"id":"303","x":"6.9570794","y":"6.130356","name":"Documenting and sharing software knowledge using screencasts","group":"40"},{"id":"304","x":"2.2466185","y":"9.248817","name":"Learning a commonsense moral theory","group":"54"},{"id":"305","x":"4.508214","y":"7.7914343","name":"Reasoning strategies in the context of engineering design with everyday materials","group":"39"},{"id":"306","x":"3.0630605","y":"4.4019666","name":"Dynamic bernoulli embeddings for language evolution","group":"-1"},{"id":"307","x":"3.0890827","y":"8.879282","name":"Interpreting actions by attributing compositional desires.","group":"58"},{"id":"308","x":"1.8486512","y":"8.266119","name":"Generalized 3d object representations using bayesian eigenobjects","group":"69"},{"id":"309","x":"2.1171415","y":"8.574598","name":"Bayesian Eigenobjects: A Unified Framework for 3D Robot Perception.","group":"65"},{"id":"310","x":"4.370181","y":"6.808228","name":"The probabilistic activity toolkit: Towards enabling activity-aware computer interfaces","group":"10"},{"id":"311","x":"2.146689","y":"9.73625","name":"Repairing decision-making programs under uncertainty","group":"59"},{"id":"312","x":"0.4137429","y":"9.079021","name":"Interpreting blackbox models via model extraction","group":"-1"},{"id":"313","x":"2.5139856","y":"9.103708","name":"Thinking and Guessing: Bayesian and Empirical Models of How Humans Search.","group":"54"},{"id":"314","x":"0.47305408","y":"9.041711","name":"Understanding black-box predictions via influence functions","group":"75"},{"id":"315","x":"0.0034055247","y":"9.40631","name":"A roadmap for a rigorous science of interpretability","group":"74"},{"id":"316","x":"0.4806046","y":"9.905077","name":"Right for the right reasons: Training differentiable models by constraining their explanations","group":"75"},{"id":"317","x":"1.8043383","y":"9.124144","name":"Rational inference: Deductive, inductive and probabilistic thinking","group":"59"},{"id":"318","x":"1.7604469","y":"5.698684","name":"BL-ECD: broad learning based enterprise community detection via hierarchical structure fusion","group":"63"},{"id":"319","x":"1.7074949","y":"8.622781","name":"Modeling cognition with probabilistic programs: representations and algorithms","group":"-1"},{"id":"320","x":"2.9273636","y":"8.186575","name":"Converging on a new role for analogy in problem solving and retrieval: When two problems are better than one","group":"66"},{"id":"321","x":"2.92065","y":"8.163657","name":"Converging on a new role for analogy in problem solving and retrieval","group":"66"},{"id":"322","x":"6.142605","y":"3.8335512","name":"Synthesis of data completion scripts using finite tree automata","group":"-1"},{"id":"323","x":"4.8285236","y":"8.297543","name":"Metacognitive development in engineering students through cooperative problem based learning (CPBL)","group":"-1"},{"id":"324","x":"5.488632","y":"5.2753043","name":"Protodash: Fast interpretable prototype selection","group":"-1"},{"id":"325","x":"7.8786564","y":"4.7849517","name":"Semantic zooming of code change history","group":"23"},{"id":"326","x":"2.4035616","y":"8.170862","name":"Comparison and categorization in the development of relational similarity","group":"70"},{"id":"327","x":"3.712303","y":"4.690177","name":"Exploratory search: from finding to understanding","group":"-1"},{"id":"328","x":"5.6624594","y":"3.5588539","name":"Program synthesis","group":"42"},{"id":"329","x":"6.319301","y":"6.629","name":"Automated data-driven hints for computer programming students","group":"43"},{"id":"330","x":"6.3160677","y":"6.6635695","name":"High-coverage hint generation for massive courses: Do automated hints help CS1 students?","group":"43"},{"id":"331","x":"7.0978017","y":"7.097382","name":"Evaluating test suite effectiveness and assessing student code via constraint logic programming","group":"34"},{"id":"332","x":"6.960551","y":"7.1826215","name":"Automatic grading and feedback using program repair for introductory programming courses","group":"34"},{"id":"333","x":"7.045585","y":"6.6348925","name":"Automatic extraction of AST patterns for debugging student programs","group":"-1"},{"id":"334","x":"4.675112","y":"6.0436163","name":"Refinement of web software motivated by real-world patterns","group":"15"},{"id":"335","x":"2.14891","y":"7.3278065","name":"Uncertainty modeling with SymPy stats","group":"-1"},{"id":"336","x":"6.226448","y":"6.5767913","name":"Using programming language concepts to teach general thinking skills","group":"43"},{"id":"337","x":"1.1482457","y":"5.8224883","name":"PhenoLines: Phenotype comparison visualizations for disease subtyping via topic models","group":"50"},{"id":"338","x":"9.2245865","y":"5.2622447","name":"API code recommendation using statistical learning from fine-grained changes","group":"26"},{"id":"339","x":"6.851335","y":"4.026884","name":"Code completion with statistical language models","group":"37"},{"id":"340","x":"7.064372","y":"6.0348616","name":"Mining stackoverflow to turn the ide into a self-confident programming prompter","group":"40"},{"id":"341","x":"1.3859944","y":"8.307543","name":"Hidden Markov model induction by Bayesian model merging","group":"-1"},{"id":"342","x":"3.3565216","y":"4.2282453","name":"Inducing probabilistic grammars by Bayesian model merging","group":"32"},{"id":"343","x":"3.221763","y":"4.1437435","name":"Bayesian learning of probabilistic language models","group":"32"},{"id":"344","x":"4.320242","y":"5.7125635","name":"Inverse procedural modeling by automatic generation of L\u2010systems","group":"-1"},{"id":"345","x":"5.181208","y":"3.9535286","name":"Example-based model synthesis","group":"30"},{"id":"346","x":"1.9328575","y":"8.551723","name":"Exploring the influence of particle filter parameters on order effects in causal learning","group":"-1"},{"id":"347","x":"0.65573025","y":"9.488081","name":"Why machine learning works","group":"75"},{"id":"348","x":"0.69698495","y":"9.32666","name":"Why Machine Learning Works: A Search (for Simplicity)","group":"-1"},{"id":"349","x":"1.8150703","y":"9.273342","name":"A rational analysis of confirmation with deterministic hypotheses","group":"59"},{"id":"350","x":"1.7422644","y":"8.515479","name":"Analyzing human feature learning as nonparametric Bayesian inference","group":"-1"},{"id":"351","x":"2.4128222","y":"8.470955","name":"Learning to perceive while perceiving to learn","group":"65"},{"id":"352","x":"3.0990438","y":"8.815925","name":"Is human cognition adaptive?","group":"58"},{"id":"353","x":"0.98930293","y":"7.939395","name":"Infinite latent feature models and the Indian buffet process","group":"-1"},{"id":"354","x":"9.184184","y":"5.8482747","name":"DemoMatch: API discovery from demonstrations","group":"26"},{"id":"355","x":"4.365416","y":"4.8959103","name":"Generating concise entity matching rules","group":"-1"},{"id":"356","x":"2.2443986","y":"8.422795","name":"Rules and similarity in concept learning","group":"-1"},{"id":"357","x":"2.1999238","y":"7.0605836","name":"Probability Distributome: a web computational infrastructure for exploring the properties, interrelations, and applications of probability distributions","group":"48"},{"id":"358","x":"3.4184418","y":"4.7639294","name":"Retrieval algorithms optimized for human learning","group":"45"},{"id":"359","x":"7.6262956","y":"5.168008","name":"Managing duplicated code with linked editing","group":"23"},{"id":"360","x":"0.5491458","y":"9.559264","name":"Searching for Meaning in RNNs using Deep Neural Inspection","group":"75"},{"id":"361","x":"0.715457","y":"5.8902636","name":"Adapting topic models using lexical associations with tree priors","group":"50"},{"id":"362","x":"8.002195","y":"5.9438944","name":"What makes a good code example?: A study of programming Q&A in StackOverflow","group":"-1"},{"id":"363","x":"5.219656","y":"7.1734357","name":"Can we crowdsource language design?","group":"8"},{"id":"364","x":"2.0758777","y":"8.711517","name":"Learning to acquire information","group":"65"},{"id":"365","x":"5.026975","y":"8.448266","name":"Data-mining textual responses to uncover misconception patterns","group":"36"},{"id":"366","x":"2.2798598","y":"7.549129","name":"Designing for uncertainty in hci: When does uncertainty help?","group":"-1"},{"id":"367","x":"2.117053","y":"7.2304254","name":"Why evaluating uncertainty visualization is error prone","group":"48"},{"id":"368","x":"5.3185163","y":"5.198354","name":"Supporting the restructuring of data abstractions through manipulation of a program visualization","group":"-1"},{"id":"369","x":"8.259379","y":"5.265184","name":"Why we refactor? confessions of github contributors","group":"22"},{"id":"370","x":"7.9860444","y":"5.0123296","name":"How we refactor, and how we know it","group":"23"},{"id":"371","x":"7.9927063","y":"5.072618","name":"Use, disuse, and misuse of automated refactorings","group":"23"},{"id":"372","x":"7.97441","y":"5.048452","name":"Use, disuse, and misuse of automated refactorings (Extended Version)","group":"23"},{"id":"373","x":"5.068095","y":"5.5678053","name":"Variolite: Supporting Exploratory Programming by Data Scientists.","group":"14"},{"id":"374","x":"5.8027854","y":"5.789152","name":"Omnicode: A novice-oriented live programming environment with always-on run-time value visualizations","group":"43"},{"id":"375","x":"6.787713","y":"6.708833","name":"37 million compilations: Investigating novice programming mistakes in large-scale student data","group":"43"},{"id":"376","x":"6.978266","y":"6.2085977","name":"Faith, hope, and love: an essay on software science\'s neglect of human factors","group":"-1"},{"id":"377","x":"5.00238","y":"3.8684268","name":"Interactive parser synthesis by example","group":"-1"},{"id":"378","x":"3.0706377","y":"10.372682","name":"Ivy: safety verification by interactive generalization","group":"-1"},{"id":"379","x":"4.777399","y":"3.9445047","name":"Finding counterexamples from parsing conflicts","group":"-1"},{"id":"380","x":"6.743964","y":"6.6628256","name":"Explaining failures of program analyses","group":"43"},{"id":"381","x":"2.384825","y":"6.797657","name":"Thin slicing","group":"-1"},{"id":"382","x":"5.5789013","y":"4.291649","name":"Pruning dynamic slices with confidence","group":"-1"},{"id":"383","x":"6.3761597","y":"4.4642124","name":"Exploring and enforcing security guarantees via program dependence graphs","group":"-1"},{"id":"384","x":"4.917623","y":"4.8566866","name":"Learning constraints in spreadsheets and tabular data","group":"20"},{"id":"385","x":"1.7474577","y":"9.291224","name":"\'Superstition\'in the pigeon.","group":"59"},{"id":"386","x":"6.170515","y":"5.7718525","name":"Browsing and analyzing the command-level structure of large collections of image manipulation tutorials","group":"-1"},{"id":"387","x":"2.3102884","y":"5.3608966","name":"The word tree, an interactive visual concordance","group":"64"},{"id":"388","x":"1.8689768","y":"5.307841","name":"WordSeer: a text analysis environment for literature study","group":"-1"},{"id":"389","x":"1.7964776","y":"5.458205","name":"Designing an Exploratory Text Analysis Tool for Humanities and Social Sciences Research","group":"63"},{"id":"390","x":"9.061034","y":"5.9058685","name":"Apatite: A new interface for exploring APIs","group":"26"},{"id":"391","x":"8.886477","y":"6.186182","name":"Using association metrics to help users navigate API documentation","group":"21"},{"id":"392","x":"8.988926","y":"5.6853967","name":"Export: Detecting and visualizing api usages in large source code repositories","group":"-1"},{"id":"393","x":"9.116926","y":"5.72937","name":"Multi-dimensional exploration of api usage","group":"26"},{"id":"394","x":"4.341323","y":"7.982496","name":"A case study of using HCI methods to improve tools for programmers","group":"-1"},{"id":"395","x":"7.631055","y":"4.6688232","name":"Symbolic automata for static specification mining","group":"23"},{"id":"396","x":"3.7844918","y":"6.2907453","name":"Keeping multiple views consistent: Constraints, validations, and exceptions in visualization authoring","group":"12"},{"id":"397","x":"0.67441267","y":"9.14976","name":"Visualizing dataflow graphs of deep learning models in tensorflow","group":"75"},{"id":"398","x":"0.6323211","y":"9.230969","name":"Lstmvis: A tool for visual analysis of hidden state dynamics in recurrent neural networks","group":"75"},{"id":"399","x":"3.8468704","y":"9.9374075","name":"Active exploration for learning symbolic representations","group":"-1"},{"id":"400","x":"1.639267","y":"8.588169","name":"Complex probabilistic inference: from cognition to neural computation","group":"-1"},{"id":"401","x":"1.8838087","y":"7.0429482","name":"Visualizing A Walk Through the Random Forest","group":"-1"},{"id":"402","x":"6.827573","y":"3.983117","name":"Advances in statistical script learning","group":"37"},{"id":"403","x":"8.697198","y":"3.8693523","name":"An investigation into the use of mutation analysis for automated program repair","group":"7"},{"id":"404","x":"6.2787237","y":"6.0907426","name":"How do Scratch programmers name variables and procedures?","group":"43"},{"id":"405","x":"9.072974","y":"5.1905665","name":"CodeReco-A Semantic Java Method Recommender","group":"26"},{"id":"406","x":"0.57739776","y":"9.723922","name":"Explanation and justification in machine learning: A survey","group":"75"},{"id":"407","x":"7.6513267","y":"3.7974238","name":"Understanding the impact of support for iteration on code search","group":"24"},{"id":"408","x":"3.2549","y":"7.1344714","name":"Science and data science","group":"-1"},{"id":"409","x":"8.622377","y":"3.9088876","name":"Automatic inference of code transforms for patch generation","group":"7"},{"id":"410","x":"6.694639","y":"5.345744","name":"CodeCarbonCopy","group":"-1"},{"id":"411","x":"2.8913298","y":"7.931672","name":"How linguistic metaphor scaffolds reasoning","group":"52"},{"id":"412","x":"6.1462054","y":"3.8547835","name":"Learning to infer graphics programs from hand-drawn images","group":"41"},{"id":"413","x":"2.480925","y":"4.578097","name":"Lexicons on Demand: Neural Word Embeddings for Large-Scale Text Analysis.","group":"-1"},{"id":"414","x":"8.328056","y":"6.328033","name":"On-demand developer documentation","group":"19"},{"id":"415","x":"6.179648","y":"6.0148277","name":"Making end user development more natural","group":"43"},{"id":"416","x":"1.4604384","y":"6.06688","name":"Detecting and Characterizing Events: Appendices","group":"-1"},{"id":"417","x":"0.8697723","y":"5.782147","name":"Tandem anchoring: A multiword anchor approach for interactive topic modeling","group":"50"},{"id":"418","x":"2.2839255","y":"5.740282","name":"newsLens: building and visualizing long-ranging news stories","group":"64"},{"id":"419","x":"3.403255","y":"5.4185467","name":"Now that we can write simultaneously, how do we use that to our advantage?","group":"46"},{"id":"420","x":"2.1391494","y":"6.0828185","name":"Persistent homology guided exploration of time-varying graphs","group":"60"},{"id":"421","x":"3.5017326","y":"9.472953","name":"Iris: A conversational agent for complex tasks","group":"-1"},{"id":"422","x":"0.4988623","y":"9.226796","name":"A causal framework for explaining the predictions of black-box sequence-to-sequence models","group":"75"},{"id":"423","x":"5.6980743","y":"7.0317206","name":"4th International Workshop on Crowd Sourcing in Software Engineering (CSI-SE 2017)","group":"-1"},{"id":"424","x":"6.135781","y":"5.7351727","name":"User interaction models for disambiguation in programming by example","group":"-1"},{"id":"425","x":"5.1807084","y":"3.9151468","name":"Synthesis from examples: Interaction models and algorithms","group":"30"},{"id":"426","x":"5.8509426","y":"3.7448266","name":"Program synthesis using natural language","group":"42"},{"id":"427","x":"5.174406","y":"3.9124198","name":"Synthesis from examples","group":"30"},{"id":"428","x":"6.495118","y":"3.7271175","name":"Deepcoder: Learning to write programs","group":"-1"},{"id":"429","x":"5.3651924","y":"3.918395","name":"Optimizing synthesis with metasketches","group":"30"},{"id":"430","x":"5.6584744","y":"3.59623","name":"Program synthesis in the industrial world: Inductive, incremental, interactive","group":"42"},{"id":"431","x":"6.0405807","y":"4.247885","name":"Blinkfill: Semi-supervised programming by example for syntactic string transformations","group":"28"},{"id":"432","x":"4.9889812","y":"4.902763","name":"FIDEX: filtering spreadsheet data using examples","group":"20"},{"id":"433","x":"6.393197","y":"3.8416538","name":"Robustfill: Neural program learning under noisy i/o","group":"-1"},{"id":"434","x":"5.143907","y":"6.2979937","name":"Automating repetitive tasks for the masses","group":"11"},{"id":"435","x":"6.0593185","y":"5.428706","name":"Programming by examples: Applications, algorithms, and ambiguity resolution","group":"-1"},{"id":"436","x":"5.730854","y":"3.949119","name":"Interactive program synthesis","group":"42"},{"id":"437","x":"5.175254","y":"3.8438137","name":"FlashProfile: Interactive Synthesis of Syntactic Profiles.","group":"30"},{"id":"438","x":"4.487586","y":"4.124497","name":"Synthesizing highly expressive SQL queries from input-output examples","group":"4"},{"id":"439","x":"5.7820563","y":"3.7547188","name":"Automated data extraction using predictive program synthesis","group":"42"},{"id":"440","x":"5.654315","y":"3.4342296","name":"Scaling enumerative program synthesis via divide and conquer","group":"42"},{"id":"441","x":"7.19856","y":"4.9513016","name":"Automating repetitive code changes using examples","group":"23"},{"id":"442","x":"5.5628915","y":"3.6802356","name":"Searching for software diversity: attaining artificial diversity through program synthesis","group":"42"},{"id":"443","x":"6.1407413","y":"6.0032215","name":"Programming by examples","group":"43"},{"id":"444","x":"5.7368927","y":"3.4805663","name":"A Framework for Mass-Market Inductive Program Synthesis","group":"42"},{"id":"445","x":"5.80089","y":"3.504422","name":"Inductive Program Synthesis from Input-Output Examples","group":"42"},{"id":"446","x":"6.073687","y":"5.6686563","name":"Learning to Learn Programs from Examples: Going Beyond Program Structure.","group":"-1"},{"id":"447","x":"5.2515807","y":"3.7818203","name":"Synthesis with abstract examples","group":"30"},{"id":"448","x":"6.1831045","y":"3.6259792","name":"Terpret: A probabilistic programming language for program induction","group":"-1"},{"id":"449","x":"5.4641643","y":"3.7728112","name":"At the end of synthesis: narrowing program candidates","group":"-1"},{"id":"450","x":"7.3529716","y":"4.740261","name":"Tracediff: Debugging unexpected code behavior using trace divergences","group":"23"},{"id":"451","x":"8.622117","y":"3.9492106","name":"Empirical study on synthesis engines for semantics-based program repair","group":"7"},{"id":"452","x":"2.5670927","y":"6.7436657","name":"New trends on exploratory methods for data analytics","group":"67"},{"id":"453","x":"6.764132","y":"4.545693","name":"Optimal Learning of Specifications from Examples","group":"-1"},{"id":"454","x":"5.6838517","y":"3.8676584","name":"Program Synthesis for Empowering End Users and Stress-Testing Compilers","group":"42"},{"id":"455","x":"3.2559178","y":"3.767472","name":"Learning disjunctions of predicates","group":"18"},{"id":"456","x":"6.037518","y":"3.6968472","name":"Bayesian Sketch Learning for Program Synthesis","group":"-1"},{"id":"457","x":"1.0142545","y":"10.479558","name":"Synthesizing interpretable strategies for solving puzzle games","group":"62"},{"id":"458","x":"5.6103406","y":"3.8368707","name":"Polynomial-time proactive synthesis of tree-to-string functions from examples","group":"42"},{"id":"459","x":"6.270266","y":"3.86889","name":"Data-driven program completion","group":"41"},{"id":"460","x":"6.9703336","y":"3.9646363","name":"A survey of machine learning for big code and naturalness","group":"-1"},{"id":"461","x":"0.07162369","y":"9.418587","name":"Towards a rigorous science of interpretable machine learning","group":"74"},{"id":"462","x":"-0.060829632","y":"9.391314","name":"A formal framework to characterize interpretability of procedures","group":"74"},{"id":"463","x":"-0.040205367","y":"9.43601","name":"Tip: Typifying the interpretability of procedures","group":"74"},{"id":"464","x":"2.6331542","y":"6.3734674","name":"Finding a clear path: Structuring strategies for visualization sequences","group":"68"},{"id":"465","x":"2.593867","y":"6.3768086","name":"Finding a Clear Path: Structuring Strategies for Visualization Sequences","group":"68"},{"id":"466","x":"4.528606","y":"4.577998","name":"Dataplay: interactive tweaking and example-driven correction of graphical database queries","group":"-1"},{"id":"467","x":"6.4148808","y":"5.1661024","name":"End-user programming of mashups with vegemite","group":"-1"},{"id":"468","x":"3.2214348","y":"5.6540513","name":"Visual web information extraction with lixto","group":"-1"},{"id":"469","x":"3.3152025","y":"4.802093","name":"Generating sentences by editing prototypes","group":"45"},{"id":"470","x":"0.46718526","y":"9.598702","name":"Human understandable explanation extraction for black-box classification models based on matrix factorization","group":"75"},{"id":"471","x":"8.280974","y":"4.9105783","name":"On the benefits of providing versioning support for end users: an empirical study","group":"-1"},{"id":"472","x":"4.155352","y":"7.7822275","name":"Three Essays on Information Systems: The Egyptian Protest in 2011 and a Framework forKeyword Analysis and Classification","group":"-1"},{"id":"473","x":"0.8979109","y":"9.841699","name":"Deep learning for case-based reasoning through prototypes: A neural network that explains its predictions","group":"-1"},{"id":"474","x":"6.0184617","y":"5.730739","name":"Programming by examples: PL meets ML","group":"-1"},{"id":"475","x":"0.43493688","y":"9.139505","name":"Interpretable & explorable approximations of black box models","group":"75"},{"id":"476","x":"4.3558393","y":"7.2714396","name":"Leveraging Logged Intermediate Design Attributes for Improved Knowledge Discovery in Engineering Design","group":"29"},{"id":"477","x":"3.1232893","y":"8.513692","name":"A wavelet-like filter based on neuron action potentials for analysis of human scalp electroencephalographs","group":"-1"},{"id":"478","x":"0.91059285","y":"9.424132","name":"iBCM: Interactive Bayesian case model empowering humans via intuitive interaction","group":"-1"},{"id":"479","x":"3.7697732","y":"10.229901","name":"A quadratic regulator-based heuristic for rapidly exploring state space","group":"57"},{"id":"480","x":"3.588881","y":"10.291043","name":"Region of attraction estimation for a perching aircraft: A Lyapunov method exploiting barrier certificates","group":"56"},{"id":"481","x":"6.064729","y":"6.950045","name":"Unlocking the clubhouse: Women in computing","group":"43"},{"id":"482","x":"3.0294893","y":"8.975166","name":"\\" Augmenting human intellect: A conceptual framework\\"(1962)","group":"58"},{"id":"483","x":"3.0549738","y":"9.026787","name":"Augmenting human intellect: A conceptual framework","group":"58"},{"id":"484","x":"5.0086718","y":"7.28642","name":"Generating Component-based Supervised Learning Programs From Crowdsourced Examples","group":"8"},{"id":"485","x":"1.3018595","y":"9.717604","name":"The nature of explanation","group":"72"},{"id":"486","x":"0.84538037","y":"8.687436","name":"Developing bug-free machine learning systems with formal mathematics","group":"-1"},{"id":"487","x":"7.884146","y":"4.8651175","name":"Vector Abstraction and Concretization for Scalable Detection of Refactorings (A Technical Report)","group":"23"},{"id":"488","x":"7.9604526","y":"4.8970475","name":"Vector abstraction and concretization for scalable detection of refactorings","group":"23"},{"id":"489","x":"6.827411","y":"6.2872243","name":"Thirty years of software problems in the news","group":"-1"},{"id":"490","x":"7.582315","y":"3.9131117","name":"Codeexchange: Supporting reformulation of internet-scale code queries in context (T)","group":"24"},{"id":"491","x":"7.1880803","y":"7.8981447","name":"Quantext: Analysing student responses to short-answer questions","group":"33"},{"id":"492","x":"6.85748","y":"6.6266594","name":"Rewrite rules for debugging student programs in programming tutors","group":"43"},{"id":"493","x":"8.538851","y":"4.019756","name":"NoFAQ: Synthesizing command repairs from examples","group":"7"},{"id":"494","x":"6.373119","y":"6.52707","name":"Exploring the design space of automatically synthesized hints for introductory programming assignments","group":"43"},{"id":"495","x":"4.5755577","y":"7.8834915","name":"Interactive guidance techniques for improving creative feedback","group":"39"},{"id":"496","x":"6.3082824","y":"6.561772","name":"Position paper: Block-based programming should offer intelligent support for learners","group":"43"},{"id":"497","x":"6.7101684","y":"7.03889","name":"Providing meaningful feedback for autograding of programming assignments","group":"34"},{"id":"498","x":"4.0508375","y":"5.193681","name":"The continuous hint factory-providing hints in vast and sparsely populated edit distance spaces","group":"-1"},{"id":"499","x":"8.313387","y":"5.869526","name":"Are code examples on an online q&a forum reliable? a study of api misuse on stack overflow","group":"-1"},{"id":"500","x":"4.7014832","y":"6.312375","name":"Reactile: Programming swarm user interfaces through direct physical manipulation","group":"-1"},{"id":"501","x":"6.555561","y":"6.3099775","name":"Towards understanding human mistakes of programming by example: an online user study","group":"43"},{"id":"502","x":"8.699491","y":"3.8924372","name":"Program Repair via Direct State Manipulation","group":"7"},{"id":"503","x":"5.159791","y":"8.588221","name":"Automatic diagnosis of students\' misconceptions in k-8 mathematics","group":"36"},{"id":"504","x":"7.9553194","y":"6.0356884","name":"Sotorrent: reconstructing and analyzing the evolution of stack overflow posts","group":"-1"},{"id":"505","x":"6.3229733","y":"6.3915405","name":"Towards block code examples that help young novices notice critical elements","group":"43"},{"id":"506","x":"7.403065","y":"5.1488934","name":"Towards better code snippets: Exploring how code snippet recall differs with programming experience","group":"23"},{"id":"507","x":"7.66945","y":"5.1238613","name":"Usage and attribution of Stack Overflow code snippets in GitHub projects","group":"23"},{"id":"508","x":"6.5090876","y":"6.885427","name":"Data-driven feedback generation for introductory programming exercises","group":"34"},{"id":"509","x":"6.1639752","y":"7.8390765","name":"Learnsourcing: Is it working or failing, and where to go from here?","group":"-1"},{"id":"510","x":"3.378113","y":"4.122204","name":"Probing the linguistic strengths and limitations of unsupervised grammar induction","group":"32"},{"id":"511","x":"2.8765254","y":"6.3200974","name":"Effortless data exploration with zenvisage: an expressive and interactive visual analytics system","group":"-1"},{"id":"512","x":"2.0263338","y":"6.0764184","name":"Integrating visual analytics support for grounded theory practice in qualitative text analysis","group":"60"},{"id":"513","x":"2.3812673","y":"5.5026298","name":"TopoText: Interactive Digital Mapping of Literary Text","group":"64"},{"id":"514","x":"2.2855523","y":"5.639087","name":"Topotext: Context-preserving text data exploration across multiple spatial scales","group":"64"},{"id":"515","x":"9.102444","y":"5.52387","name":"Mining framework usage graphs from app corpora","group":"-1"},{"id":"516","x":"6.27476","y":"3.5956557","name":"Neural-guided deductive search for real-time program synthesis from examples","group":"41"},{"id":"517","x":"9.135714","y":"5.7719545","name":"Visualizing API usage examples at scale","group":"26"},{"id":"518","x":"2.5631123","y":"4.5002403","name":"Evaluating Vector-Space Models of Word Representation, or, The Unreasonable Effectiveness of Counting Words Near Other Words.","group":"-1"},{"id":"519","x":"4.738271","y":"7.8059416","name":"Reflection before/after practice: learnersourcing for drawing support","group":"39"},{"id":"520","x":"7.72729","y":"5.2202244","name":"Detecting and characterizing developer behavior following opportunistic reuse of code snippets from the web","group":"23"},{"id":"521","x":"1.8627027","y":"8.345831","name":"Compositional inductive biases in function learning","group":"-1"},{"id":"522","x":"9.0329685","y":"5.125053","name":"EdSynth: Synthesizing API sequences with conditionals and loops","group":"26"},{"id":"523","x":"0.7416102","y":"5.82564","name":"Pulling out the stops: Rethinking stopword removal for topic models","group":"50"},{"id":"524","x":"0.68082845","y":"8.351947","name":"A review of user interface design for interactive machine learning","group":"71"},{"id":"525","x":"5.503473","y":"5.6805377","name":"Appinite: A multi-modal interface for specifying data descriptions in programming by demonstration using natural language instructions","group":"-1"},{"id":"526","x":"0.8592444","y":"5.8199515","name":"The human touch: How non-expert users perceive, interpret, and fix topic models","group":"50"},{"id":"527","x":"0.22127783","y":"9.607609","name":"Interpretable and pedagogical examples","group":"-1"},{"id":"528","x":"2.8471563","y":"5.17079","name":"The science of scientific writing","group":"-1"},{"id":"529","x":"7.2397313","y":"3.730609","name":"code2vec: Learning distributed representations of code","group":"-1"},{"id":"530","x":"9.4201975","y":"5.7103305","name":"A large-scale empirical study on linguistic antipatterns affecting apis","group":"26"},{"id":"531","x":"8.97853","y":"5.7016106","name":"Augmenting stack overflow with API usage patterns mined from GitHub","group":"-1"},{"id":"532","x":"8.894397","y":"5.256848","name":"Improving reusability of software libraries through usage pattern mining","group":"-1"},{"id":"533","x":"9.163776","y":"5.477985","name":"API library-based identification and documentation of usage patterns","group":"26"},{"id":"534","x":"7.6615376","y":"4.6619916","name":"An oversampling approach for mining program specifications","group":"23"},{"id":"535","x":"9.344561","y":"5.5510345","name":"Towards the automated recovery of complex temporal api-usage patterns","group":"26"},{"id":"536","x":"7.4454927","y":"5.0182676","name":"Codecatch: Extracting source code snippets from online sources","group":"23"},{"id":"537","x":"6.640143","y":"6.898488","name":"Glanceable code history: Visualizing student code for better instructor feedback","group":"34"},{"id":"538","x":"6.532938","y":"6.817181","name":"Search, align, and repair: data-driven feedback generation for introductory programming exercises","group":"34"},{"id":"539","x":"8.816279","y":"6.294702","name":"When not to comment: questions and tradeoffs with api documentation for c++ projects","group":"21"},{"id":"540","x":"7.598638","y":"3.8084753","name":"FaCoY: a code-to-code search engine","group":"24"},{"id":"541","x":"8.340116","y":"5.9100986","name":"Are code examples on an online q&a forum reliable? a study of api misuse on stack overflow","group":"-1"},{"id":"542","x":"6.1451707","y":"4.5508995","name":"Hierarchical abstraction of execution traces for program comprehension","group":"-1"},{"id":"543","x":"8.434684","y":"4.1730485","name":"Deepbugs: A learning approach to name-based bug detection","group":"7"},{"id":"544","x":"3.9220731","y":"5.132675","name":"Revisiting the tree edit distance and its backtracing: A tutorial","group":"-1"},{"id":"545","x":"6.1181426","y":"4.1986866","name":"Learning syntactic program transformations from examples.","group":"28"},{"id":"546","x":"3.9770262","y":"9.361546","name":"PETALS: Improving Learning of Expert Skill in Humanitarian Demining","group":"-1"},{"id":"547","x":"5.2316303","y":"8.30414","name":"Misconception-driven feedback: Results from an experimental study","group":"-1"},{"id":"548","x":"6.463534","y":"6.465607","name":"Semi-automatic suggestion generation for young novice programmers in an open-ended context","group":"43"},{"id":"549","x":"8.313942","y":"4.3784127","name":"Less is more: Temporal fault predictive performance over multiple hadoop releases","group":"7"},{"id":"550","x":"7.056689","y":"6.2039347","name":"The emerging role of data scientists on software development teams","group":"-1"},{"id":"551","x":"9.259922","y":"5.622834","name":"Bayesian specification learning for finding API usage errors","group":"26"},{"id":"552","x":"6.933247","y":"4.05936","name":"PHOG: probabilistic model for code","group":"37"},{"id":"553","x":"6.918874","y":"4.0939994","name":"PHOG: Probabilistic Model for Code","group":"37"},{"id":"554","x":"6.966108","y":"4.011355","name":"Probabilistic model for code with decision trees","group":"37"},{"id":"555","x":"6.3062377","y":"3.6122632","name":"Neuro-symbolic program synthesis","group":"41"},{"id":"556","x":"7.2268443","y":"3.6925783","name":"Are deep neural networks the best choice for modeling source code?","group":"-1"},{"id":"557","x":"6.6274276","y":"4.719735","name":"Understanding formal specifications through good examples","group":"-1"},{"id":"558","x":"4.9435782","y":"6.100355","name":"Ringer: web automation by demonstration","group":"-1"},{"id":"559","x":"5.807682","y":"3.6175604","name":"Data-driven synthesis of full probabilistic programs","group":"42"},{"id":"560","x":"3.921394","y":"5.5237837","name":"Rousillon: Scraping distributed hierarchical web data","group":"-1"},{"id":"561","x":"3.7677102","y":"5.7696915","name":"Idyll: A markup language for authoring and publishing interactive articles on the web","group":"-1"},{"id":"562","x":"2.5435283","y":"8.151103","name":"Memorable words are monogamous: The role of synonymy and homonymy in word recognition memory","group":"-1"},{"id":"563","x":"3.3635406","y":"9.674993","name":"An end user development approach for failure handling in goal-oriented conversational agents","group":"-1"},{"id":"564","x":"6.1340895","y":"6.4696755","name":"Real-time programming and the big ideas of computational literacy","group":"43"},{"id":"565","x":"3.2241719","y":"7.120173","name":"Research and Scholarship","group":"-1"},{"id":"566","x":"8.983496","y":"5.8760905","name":"Using program analysis to improve API learnability","group":"-1"},{"id":"567","x":"6.5661488","y":"7.310845","name":"TipsC: Tips and corrections for programming MOOCs","group":"-1"},{"id":"568","x":"4.1013513","y":"5.347953","name":"Measuring Swampiness: Quantifying Chaos in Large Heterogeneous Data Repositories","group":"-1"},{"id":"569","x":"8.018147","y":"4.7278175","name":"Mining function call sequence patterns across different versions of the project for defect detection","group":"23"},{"id":"570","x":"7.5095882","y":"3.726612","name":"Semantics-based code search using input/output examples","group":"24"},{"id":"571","x":"7.451321","y":"4.7959414","name":"Catalogen: Generating catalogs of code examples collected from oss","group":"23"},{"id":"572","x":"7.975631","y":"6.065061","name":"The evolution of stack overflow posts: Reconstruction and analysis","group":"-1"},{"id":"573","x":"6.38819","y":"6.2881894","name":"A Vision for Interactive Suggested Examples for Novice Programmers","group":"43"},{"id":"574","x":"8.074412","y":"4.581442","name":"Conflict resolution for structured merge via version space algebra","group":"-1"},{"id":"575","x":"7.1952896","y":"7.901814","name":"Creating scoring rubric from representative student answers for improved short answer grading","group":"33"},{"id":"576","x":"2.381073","y":"9.273248","name":"Judgment under uncertainty: Heuristics and biases","group":"54"},{"id":"577","x":"2.2848577","y":"9.347266","name":"Judgment under uncertainty: Heuristics and biases","group":"54"},{"id":"578","x":"2.970366","y":"8.796312","name":"Telling more than we can know: Verbal reports on mental processes.","group":"58"},{"id":"579","x":"2.39738","y":"9.228335","name":"Judgment under Uncertainty: Heuristics and Biases: Biases in judgments reveal some heuristics of thinking under uncertainty.","group":"54"},{"id":"580","x":"4.2202597","y":"7.4001307","name":"Do the best design ideas (really) come from conceptually distant sources of inspiration?","group":"29"},{"id":"581","x":"4.935427","y":"7.270917","name":"Alloy: Clustering with crowds and computation","group":"8"},{"id":"582","x":"3.3504026","y":"4.4059496","name":"Grammar variational autoencoder","group":"32"},{"id":"583","x":"7.550373","y":"3.7566102","name":"Active inductive logic programming for code search","group":"24"},{"id":"584","x":"7.0401125","y":"5.9669337","name":"Syntax-Based Analysis of Programming Concepts in Python","group":"40"},{"id":"585","x":"6.3341436","y":"6.5377135","name":"The impact of data quantity and source on the quality of data-driven hints for programming","group":"43"},{"id":"586","x":"3.230904","y":"8.582661","name":"Learn piano with BACh: An adaptive learning interface that adjusts task difficulty based on brain state","group":"-1"},{"id":"587","x":"1.9325066","y":"8.724562","name":"Vision as Bayesian inference: analysis by synthesis?","group":"-1"},{"id":"588","x":"5.03057","y":"4.9129777","name":"ExceLint: automatically finding spreadsheet formula errors","group":"20"},{"id":"589","x":"6.603926","y":"4.146159","name":"Learning natural coding conventions","group":"-1"},{"id":"590","x":"6.552819","y":"6.4059935","name":"Meta: Enabling programming languages to learn from the crowd","group":"43"},{"id":"591","x":"7.268397","y":"6.4139752","name":"SemCluster: Clustering of Programming Assignments based on Quantitative Semantic Features","group":"-1"},{"id":"592","x":"3.1269221","y":"6.185498","name":"Beagle: automated extraction and interpretation of visualizations from the web","group":"61"},{"id":"593","x":"7.4863243","y":"5.016816","name":"Mining rule violations in javascript code snippets","group":"23"},{"id":"594","x":"9.026339","y":"5.175235","name":"Mining Scala framework extensions for recommendation patterns","group":"26"},{"id":"595","x":"8.588473","y":"5.886378","name":"Bootstrapping cookbooks for APIs from crowd knowledge on Stack Overflow","group":"-1"},{"id":"596","x":"9.118654","y":"5.1540303","name":"Acceptance evaluation of code recommendation systems by programming behaviors detection and analysis","group":"26"},{"id":"597","x":"7.66014","y":"5.384565","name":"Scalable source code plagiarism detection using source code vectors clustering","group":"23"},{"id":"598","x":"9.25516","y":"5.393835","name":"Focus: A recommender system for mining api function calls and usage patterns","group":"26"},{"id":"599","x":"9.166396","y":"5.28269","name":"Exposing library API misuses via mutation analysis","group":"26"},{"id":"600","x":"7.0984683","y":"7.7318","name":"Human-assisted computation for auto-grading","group":"33"},{"id":"601","x":"6.560838","y":"6.5136895","name":"Pensieve: Feedback on coding process for novices","group":"43"},{"id":"602","x":"7.2889853","y":"6.409267","name":"SemCluster: clustering of imperative programming assignments based on quantitative semantic features","group":"-1"},{"id":"603","x":"5.8615546","y":"6.7693815","name":"Isopleth: Supporting sensemaking of professional web applications to create readily available learning experiences","group":"-1"},{"id":"604","x":"7.584222","y":"4.677849","name":"Enabling Open-World Specification Mining via Unsupervised Learning","group":"23"},{"id":"605","x":"9.288385","y":"5.5608497","name":"Meditor: inference and application of API migration edits","group":"26"},{"id":"606","x":"1.4049863","y":"9.7152195","name":"\u201cLet me tell you why!\u201d. When argumentation in doctor\u2013patient interaction makes a difference","group":"72"},{"id":"607","x":"1.7859786","y":"9.537016","name":"Doctor-patient communication: a review of the literature","group":"59"},{"id":"608","x":"0.8553601","y":"9.330873","name":"A study on trust in black box models and post-hoc explanations","group":"-1"},{"id":"609","x":"6.206656","y":"6.3808274","name":"Readily Available Learning Experiences in Production Code","group":"43"},{"id":"610","x":"8.038558","y":"6.257725","name":"Implementing microservices through microtasks","group":"-1"},{"id":"611","x":"0.76984364","y":"9.615124","name":"Explaining decision-making algorithms through UI: Strategies to help non-expert stakeholders","group":"75"},{"id":"612","x":"0.5157475","y":"9.758835","name":"Why should you trust my interpretation? Understanding uncertainty in LIME predictions","group":"75"},{"id":"613","x":"2.3519866","y":"6.1959653","name":"Best paper: A knowledge task-based framework for design and evaluation of information visualizations","group":"-1"},{"id":"614","x":"1.092623","y":"9.889848","name":"Minimalistic explanations: capturing the essence of decisions","group":"72"},{"id":"615","x":"2.6179826","y":"8.6723385","name":"Information compression as a unifying principle in human learning, perception, and cognition","group":"-1"},{"id":"616","x":"6.9259753","y":"4.8368726","name":"Interactive synthesis of code snippets","group":"-1"},{"id":"617","x":"5.062114","y":"4.028993","name":"Interactive synthesis using free-form queries","group":"-1"},{"id":"618","x":"5.9095273","y":"4.5309925","name":"Interactive program verification using virtual programs","group":"28"},{"id":"619","x":"5.611366","y":"3.5463288","name":"Dimensions in program synthesis","group":"42"},{"id":"620","x":"5.7191167","y":"4.9445453","name":"Toward interactive design of correct programs","group":"-1"},{"id":"621","x":"5.7963142","y":"4.08549","name":"Interactive program derivation","group":"42"},{"id":"622","x":"4.9933057","y":"5.026682","name":"Nlyze: Interactive programming by natural language for spreadsheet data analysis and manipulation","group":"20"},{"id":"623","x":"5.1072097","y":"4.622189","name":"ITAS: A Portable, Interactive Transportation Scheduling Tool Using a Search Engine Generated from Formal Specifications.","group":"-1"},{"id":"624","x":"5.688255","y":"3.7183042","name":"Turning eureka steps into calculations in automatic program synthesis","group":"42"},{"id":"625","x":"6.0213375","y":"6.9862566","name":"Teaching and learning programming and software engineering via interactive gaming","group":"-1"},{"id":"626","x":"5.748416","y":"3.9353397","name":"Interactive program derivation using program schemata and incrementally generated strategies","group":"42"},{"id":"627","x":"5.5625944","y":"3.604573","name":"Why and how program synthesis?","group":"42"},{"id":"628","x":"5.5807443","y":"5.785549","name":"JProver: Integrating connection-based theorem proving into interactive proof assistants","group":"-1"},{"id":"629","x":"5.9174843","y":"3.8791203","name":"Program synthesis by sketching","group":"42"},{"id":"630","x":"8.62825","y":"3.9878612","name":"Tortoise: Interactive system configuration repair","group":"7"},{"id":"631","x":"5.7548513","y":"3.5873132","name":"Logic program synthesis from incomplete specifications","group":"42"},{"id":"632","x":"5.8048487","y":"3.8401165","name":"The sketching approach to program synthesis","group":"42"},{"id":"633","x":"5.741186","y":"3.5224195","name":"Recursive program synthesis","group":"42"},{"id":"634","x":"6.030956","y":"3.948235","name":"Inferring flow of control in program synthesis by example","group":"-1"},{"id":"635","x":"5.6348066","y":"3.3765676","name":"On the use of inductive reasoning in program synthesis: Prejudice and prospects","group":"42"},{"id":"636","x":"5.613601","y":"4.347751","name":"StriSynth: synthesis for live programming","group":"-1"},{"id":"637","x":"5.6928787","y":"3.8454356","name":"Program synthesis using abstraction refinement","group":"42"},{"id":"638","x":"6.873439","y":"4.096412","name":"Probabilistic automated language learning for configuration files","group":"37"},{"id":"639","x":"1.7500482","y":"8.176997","name":"Bias reformulation for one-shot function induction","group":"69"},{"id":"640","x":"1.0713716","y":"9.885632","name":"Explanations based on the missing: Towards contrastive explanations with pertinent negatives","group":"72"},{"id":"641","x":"5.994653","y":"3.624243","name":"Learning to select examples for program synthesis","group":"-1"},{"id":"642","x":"2.3621857","y":"9.354326","name":"On cognitive preferences and the plausibility of rule-based models","group":"54"},{"id":"643","x":"5.272714","y":"4.60631","name":"Synthesizing data structure transformations from input-output examples","group":"-1"},{"id":"644","x":"7.1151795","y":"4.023815","name":"Learning from large codebases","group":"-1"},{"id":"645","x":"7.778512","y":"4.6706715","name":"Mining Extension Point Patterns in Scala.","group":"23"},{"id":"646","x":"9.183423","y":"5.7759976","name":"Inferring Concise Specifications of APIs","group":"26"},{"id":"647","x":"9.198653","y":"5.6249175","name":"Automatically generating API usage patterns from natural language queries","group":"26"},{"id":"648","x":"5.5855765","y":"7.484377","name":"Agile research studios: Orchestrating communities of practice to advance research training","group":"-1"},{"id":"649","x":"4.944929","y":"5.475687","name":"Managing messes in computational notebooks","group":"14"},{"id":"650","x":"5.660594","y":"7.711857","name":"RePlay: contextually presenting learning videos across software applications","group":"-1"},{"id":"651","x":"0.123392","y":"9.330746","name":"The mythos of model interpretability: In machine learning, the concept of interpretability is both important and slippery.","group":"74"},{"id":"652","x":"0.4461753","y":"9.254045","name":"A survey of methods for explaining black box models","group":"-1"},{"id":"653","x":"1.329749","y":"10.402331","name":"Trends and trajectories for explainable, accountable and intelligible systems: An hci research agenda","group":"62"},{"id":"654","x":"0.052369934","y":"9.358604","name":"Considerations for evaluation and generalization in interpretable machine learning","group":"74"},{"id":"655","x":"3.9195726","y":"6.3020186","name":"Dynamicslide: Exploring the design space of reference-based interaction techniques for slide-based lecture videos","group":"12"},{"id":"656","x":"4.940454","y":"7.226184","name":"Exploring trade-offs between learning and productivity in crowdsourced history","group":"8"},{"id":"657","x":"3.5364413","y":"4.0048985","name":"The learnability of abstract syntactic principles","group":"32"},{"id":"658","x":"7.7613034","y":"5.1847305","name":"Interactive code review for systematic changes","group":"23"},{"id":"659","x":"7.882393","y":"5.066712","name":"Critics: An interactive code review tool for searching and inspecting systematic changes","group":"23"},{"id":"660","x":"7.948262","y":"4.8876686","name":"Software evolution","group":"23"},{"id":"661","x":"2.718457","y":"6.2293177","name":"Visualization rhetoric: Framing effects in narrative visualization","group":"68"},{"id":"662","x":"2.0628867","y":"7.131145","name":"When (ish) is my bus? user-centered visualizations of uncertainty in everyday, mobile predictive systems","group":"48"},{"id":"663","x":"2.6890914","y":"7.9946356","name":"The impact of social information on visual judgments","group":"-1"},{"id":"664","x":"0.75655234","y":"9.268088","name":"The effects of example-based explanations in a machine learning interface","group":"75"},{"id":"665","x":"0.12289644","y":"9.4091215","name":"Interpretability beyond feature attribution: Quantitative testing with concept activation vectors (tcav)","group":"74"},{"id":"666","x":"6.7420077","y":"6.130278","name":"Analyzing and supporting adaptation of online code examples","group":"43"},{"id":"667","x":"8.485819","y":"6.330435","name":"Contextual documentation referencing on stack overflow","group":"19"},{"id":"668","x":"9.16246","y":"5.4262533","name":"Mining likely analogical apis across third-party libraries via large-scale unsupervised api semantics embedding","group":"26"},{"id":"669","x":"9.231339","y":"5.237567","name":"Generative API usage code recommendation with parameter concretization","group":"26"},{"id":"670","x":"8.629123","y":"6.2700424","name":"A Human-as-Sensors Approach to API Documentation Integration and Its Effects on Novice Programmers","group":"19"},{"id":"671","x":"8.763197","y":"6.209688","name":"How developers use API documentation: An observation study","group":"21"},{"id":"672","x":"8.199268","y":"6.270402","name":"Mining specifications from documentation using a crowd","group":"19"},{"id":"673","x":"9.346411","y":"5.585031","name":"Pivot: learning api-device correlations to facilitate android compatibility issue detection","group":"26"},{"id":"674","x":"7.1962323","y":"7.807492","name":"Reducing annotation effort in automatic essay evaluation using locality sensitive hashing","group":"33"},{"id":"675","x":"1.4405962","y":"7.8553553","name":"Metric learning for structured data","group":"-1"},{"id":"676","x":"6.625565","y":"7.0762424","name":"Eliph: Effective visualization of code history for peer assessment in programming education","group":"34"},{"id":"677","x":"1.4939481","y":"7.833125","name":"A global geometric framework for nonlinear dimensionality reduction","group":"-1"},{"id":"678","x":"4.534134","y":"7.856782","name":"Technology probes: inspiring design for and with families","group":"39"},{"id":"679","x":"6.896817","y":"4.3737717","name":"Nli2code: Reusing libraries with natural language interface","group":"-1"},{"id":"680","x":"2.439955","y":"9.229441","name":"Neural systems responding to degrees of uncertainty in human decision-making","group":"54"},{"id":"681","x":"1.9717058","y":"8.826649","name":"A theory of learning to infer.","group":"-1"},{"id":"682","x":"3.6610634","y":"9.223499","name":"Planning with uncertain specifications (puns)","group":"53"},{"id":"683","x":"3.2335014","y":"9.788627","name":"Improved human-robot team performance using chaski, a human-inspired plan execution system","group":"-1"},{"id":"684","x":"1.006962","y":"9.639314","name":"The bayesian case model: A generative approach for case-based reasoning and prototype classification","group":"-1"},{"id":"685","x":"0.12677042","y":"9.308195","name":"Mind the gap: A generative approach to interpretable feature selection and extraction","group":"74"},{"id":"686","x":"3.5823836","y":"9.406147","name":"Shared mental models in expert team decision making.","group":"53"},{"id":"687","x":"3.625552","y":"9.3534155","name":"Planning, shared mental models, and coordinated performance: An empirical link is established","group":"53"},{"id":"688","x":"3.7790563","y":"9.376504","name":"Cognitive divergence and shared mental models in software development project teams","group":"53"},{"id":"689","x":"3.6950908","y":"9.383412","name":"The measurement of team mental models: We have no shared schema","group":"53"},{"id":"690","x":"3.289465","y":"9.862719","name":"Human-robot teaming using shared mental models","group":"-1"},{"id":"691","x":"3.2397346","y":"9.992301","name":"The importance of shared mental models and shared situation awareness for transforming robots from tools to teammates","group":"-1"},{"id":"692","x":"2.9237664","y":"10.326701","name":"Can you trust your robot?","group":"-1"},{"id":"693","x":"3.1534665","y":"10.156877","name":"Measurement of trust in human-robot collaboration","group":"56"},{"id":"694","x":"3.195936","y":"9.565485","name":"Learning and Communicating the Latent States of Human-Machine Collaboration.","group":"56"},{"id":"695","x":"0.4768739","y":"8.833665","name":"Discovering blind spots of predictive models: Representations and policies for guided exploration","group":"73"},{"id":"696","x":"3.7256076","y":"10.101103","name":"Discovering blind spots in reinforcement learning","group":"57"},{"id":"697","x":"3.8558626","y":"9.377137","name":"Identifying unknown unknowns in the open world: Representations and policies for guided exploration","group":"53"},{"id":"698","x":"0.08298397","y":"9.358424","name":"Interpretable decision sets: A joint framework for description and prediction","group":"74"},{"id":"699","x":"8.421058","y":"5.263807","name":"Framework code samples: How are they maintained and used by developers?","group":"22"},{"id":"700","x":"5.9551897","y":"4.522977","name":"Direct manipulation for imperative programs","group":"28"},{"id":"701","x":"7.0558543","y":"5.2576184","name":"Why aren\u2019t regular expressions a lingua franca? an empirical study on the re-use and portability of regular expressions","group":"23"},{"id":"702","x":"5.5238237","y":"6.6831627","name":"Bag-of-features for clustering online handwritten mathematical expressions","group":"5"},{"id":"703","x":"7.5504637","y":"5.068274","name":"Executability of python snippets in stack overflow","group":"23"},{"id":"704","x":"8.316478","y":"4.241103","name":"Enhancing python compiler error messages via stack","group":"7"},{"id":"705","x":"2.1507149","y":"8.73234","name":"Explanation recruits comparison in a category-learning task","group":"65"},{"id":"706","x":"5.282473","y":"3.839947","name":"Overfitting in synthesis: Theory and practice","group":"30"},{"id":"707","x":"5.7686963","y":"3.7726333","name":"The synthesis of LISP programs from examples: A survey","group":"42"},{"id":"708","x":"5.725083","y":"5.3893447","name":"Anteater: Interactive visualization for program understanding","group":"44"},{"id":"709","x":"0.6451254","y":"8.425327","name":"Visus: An interactive system for automatic machine learning model building and curation","group":"71"},{"id":"710","x":"0.7880156","y":"8.61915","name":"Vine: Visualizing statistical interactions in black box models","group":"-1"},{"id":"711","x":"0.50278246","y":"9.496043","name":"S ummit: Scaling deep learning interpretability by visualizing activation and attribution summarizations","group":"75"},{"id":"712","x":"0.5811208","y":"8.60898","name":"The what-if tool: Interactive probing of machine learning models","group":"-1"},{"id":"713","x":"9.181704","y":"6.165553","name":"A systematic mapping study of API usability evaluation methods","group":"25"},{"id":"714","x":"9.091242","y":"6.2160997","name":"API designers in the field: Design practices and challenges for creating usable APIs","group":"25"},{"id":"715","x":"4.336627","y":"8.127574","name":"Designing for Dystopia","group":"-1"},{"id":"716","x":"4.401491","y":"5.9588637","name":"Ply: A visual web inspector for learning from professional webpages","group":"15"},{"id":"717","x":"6.635333","y":"6.3842363","name":"It\'s like python but: Towards supporting transfer of programming language knowledge","group":"43"},{"id":"718","x":"4.485556","y":"6.1325493","name":"Telescope: Fine-tuned discovery of interactive web UI feature implementation","group":"15"},{"id":"719","x":"2.9682834","y":"6.568223","name":"Searching the visual style and structure of d3 visualizations","group":"-1"},{"id":"720","x":"7.9562407","y":"5.9880195","name":"Same-same but different: on understanding duplicates in stack overflow","group":"-1"},{"id":"721","x":"7.0485573","y":"5.245501","name":"Why aren\u2019t regular expressions a lingua franca? an empirical study on the re-use and portability of regular expressions","group":"23"},{"id":"722","x":"8.383102","y":"4.1572814","name":"Targeted example generation for compilation errors","group":"7"},{"id":"723","x":"8.283645","y":"5.9637623","name":"Stackdoc-a stack overflow plug-in for novice programmers that integrates q&a with API examples","group":"-1"},{"id":"724","x":"4.951251","y":"5.496714","name":"Jupyter\u2019s Archive: Searchable Output Histories for Computational Notebooks","group":"14"},{"id":"725","x":"9.546059","y":"5.7105336","name":"API Misuse Correction: A Statistical Approach","group":"-1"},{"id":"726","x":"9.309168","y":"5.328245","name":"LSTM-based with deterministic negative sampling for API suggestion","group":"26"},{"id":"727","x":"1.6778744","y":"5.1100116","name":"Analogies between Logic Programming and linguistics for developing students\' understanding of argumentation texts","group":"-1"},{"id":"728","x":"1.5058621","y":"9.998801","name":"Rationalization is rational","group":"-1"},{"id":"729","x":"6.3924685","y":"7.106884","name":"A Berkeley View of Teaching CS at Scale","group":"-1"},{"id":"730","x":"9.350118","y":"5.568799","name":"Codekernel: A graph kernel based approach to the selection of API usage examples","group":"26"},{"id":"731","x":"3.3866553","y":"5.405473","name":"Quilt: A collaborative tool for cooperative writing","group":"46"},{"id":"732","x":"3.4064844","y":"5.3603063","name":"The user-centered iterative design of collaborative writing software","group":"46"},{"id":"733","x":"8.155141","y":"5.3115687","name":"Collaborative Writing at Scale: A Case Study of Two Open-Text Projects Done on GitHub","group":"-1"},{"id":"734","x":"2.9417455","y":"8.630426","name":"Instrument designs for validating cross-language behavioral differences","group":"58"},{"id":"735","x":"1.4566337","y":"10.242363","name":"AI models as a variety of psychological explanation","group":"-1"},{"id":"736","x":"1.0689825","y":"9.786368","name":"Explanation in case-based reasoning\u2013perspectives and goals","group":"72"},{"id":"737","x":"0.56056184","y":"9.840156","name":"Explainable artificial intelligence: Understanding, visualizing and interpreting deep learning models","group":"75"},{"id":"738","x":"0.89955986","y":"10.291315","name":"What do we need to build explainable AI systems for the medical domain?","group":"62"},{"id":"739","x":"1.2995107","y":"10.480654","name":"Transparent, explainable, and accountable AI for robotics","group":"62"},{"id":"740","x":"1.091902","y":"10.525927","name":"Explainable AI: Beware of inmates running the asylum or: How I learnt to stop worrying and love the social and behavioural sciences","group":"62"},{"id":"741","x":"1.1890001","y":"10.485718","name":"What does explainable AI really mean? A new conceptualization of perspectives","group":"62"},{"id":"742","x":"0.72851634","y":"10.125947","name":"Towards the augmented pathologist: Challenges of explainable-ai in digital pathology","group":"-1"},{"id":"743","x":"0.87640065","y":"10.381037","name":"XAI\u2014Explainable artificial intelligence","group":"62"},{"id":"744","x":"1.0628326","y":"10.519616","name":"Explainable AI: the new 42?","group":"62"},{"id":"745","x":"0.5875249","y":"9.714434","name":"Explanation methods in deep learning: Users, values, concerns and challenges","group":"75"},{"id":"746","x":"1.7846954","y":"9.045426","name":"Why isn\'t everyone a Bayesian?","group":"59"},{"id":"747","x":"1.8065585","y":"8.948109","name":"Teaching Bayesian reasoning in less than two hours.","group":"59"},{"id":"748","x":"5.2812943","y":"8.571088","name":"Showing versus doing: Teaching by demonstration","group":"36"},{"id":"749","x":"4.8892674","y":"7.2784505","name":"On actively teaching the crowd to classify","group":"8"},{"id":"750","x":"5.9658384","y":"6.0002193","name":"Live programming by example","group":"43"},{"id":"751","x":"8.603232","y":"3.9556146","name":"Infix: Automatically repairing novice program inputs","group":"7"},{"id":"752","x":"2.5507123","y":"4.601832","name":"Word embeddings: What works, what doesn\u2019t, and how to tell the difference for applied research","group":"-1"},{"id":"753","x":"9.204251","y":"5.527185","name":"Efficient searching for essential API member sets based on inclusion relation extraction","group":"26"},{"id":"754","x":"9.046533","y":"5.820303","name":"The long tail: Understanding the discoverability of api functionality","group":"26"},{"id":"755","x":"7.9831476","y":"5.9403105","name":"An empirical study of c++ vulnerabilities in crowd-sourced code examples","group":"-1"},{"id":"756","x":"9.244157","y":"5.839831","name":"Marble: Mining for boilerplate code to identify API usability problems","group":"26"},{"id":"757","x":"1.9260947","y":"11.151755","name":"Predict responsibly: improving fairness and accuracy by learning to defer","group":"9"},{"id":"758","x":"7.2861037","y":"7.0721703","name":"Evaluating programming systems design","group":"34"},{"id":"759","x":"3.0221534","y":"10.090764","name":"On the utility of learning about humans for human-ai coordination","group":"-1"},{"id":"760","x":"7.917739","y":"6.029582","name":"Why do they ask? An exploratory study of crowd discussions about Android application programming interface in stack overflow","group":"-1"},{"id":"761","x":"9.234063","y":"5.958914","name":"Designing a Support Tool for API Debugging","group":"26"},{"id":"762","x":"9.220367","y":"5.6139584","name":"Extracting Inclusion Graphs of API Member Sets to Improve Searchability","group":"26"},{"id":"763","x":"9.106107","y":"5.8049526","name":"Towards a model of API learning","group":"26"},{"id":"764","x":"7.0220795","y":"6.023151","name":"Unakite: Scaffolding developers\' decision-making using the web","group":"40"},{"id":"765","x":"7.197687","y":"6.3972983","name":"Clustering recurrent and semantically cohesive program statements in introductory programming assignments","group":"-1"},{"id":"766","x":"9.30134","y":"5.382563","name":"Accelerating API-based program synthesis via API usage pattern mining","group":"26"},{"id":"767","x":"8.288362","y":"4.2869716","name":"Enhancing python compiler error messages via stack","group":"7"},{"id":"768","x":"5.098093","y":"5.533152","name":"CircuitStyle: a system for peripherally reinforcing best practices in hardware computing","group":"14"},{"id":"769","x":"6.917917","y":"7.7067757","name":"Clustering LaTeX Solutions to Machine Learning Assignments for Rapid Assessment","group":"33"},{"id":"770","x":"2.4445221","y":"9.216231","name":"Individual differences in intuitive\u2013experiential and analytical\u2013rational thinking styles.","group":"54"},{"id":"771","x":"6.015926","y":"6.1342235","name":"Visual programming, programming by example, and program visualization: a taxonomy","group":"43"},{"id":"772","x":"2.6464627","y":"6.338864","name":"Visualization by example-a constructive visual component-based interface for direct volume rendering","group":"68"},{"id":"773","x":"2.5454218","y":"5.859165","name":"Visualization of a document collection: The VIBE system","group":"-1"},{"id":"774","x":"2.668171","y":"6.4765844","name":"Visualization by Examples: Mapping Data to Visual Representations using Few Correspondences.","group":"68"},{"id":"775","x":"2.744252","y":"6.298724","name":"Ideation through visualization: the VIBE system","group":"68"},{"id":"776","x":"2.5789928","y":"6.144791","name":"Information visualization within a digital video library","group":"-1"},{"id":"777","x":"4.142007","y":"5.1847596","name":"InfoCrystal: Integrating exact and partial matching approaches through visualization","group":"-1"},{"id":"778","x":"2.115604","y":"5.3614674","name":"Accessing news video libraries through dynamic information extraction, summarization, and visualization","group":"64"},{"id":"779","x":"2.3326032","y":"5.7507796","name":"Visualization of a document collection with implicit and explicit links","group":"64"},{"id":"780","x":"9.087917","y":"5.839589","name":"Towards Validation of a Model of API Learning","group":"26"},{"id":"781","x":"7.704435","y":"6.162143","name":"Understanding wikipedia as a resource for opportunistic learning of computing concepts","group":"-1"},{"id":"782","x":"9.349163","y":"5.554854","name":"Towards assisting developers in API usage by automated recovery of complex temporal patterns","group":"26"},{"id":"783","x":"4.8564773","y":"7.1478186","name":"Read-agree-predict: A crowdsourced approach to discovering relevant primary sources for historians","group":"8"},{"id":"784","x":"6.3550467","y":"7.1160398","name":"Real-Time Feedback for In-Class Introductory Computer Programming Exercises","group":"-1"},{"id":"785","x":"5.767802","y":"6.999586","name":"Crowdsourced behavior-driven development","group":"-1"},{"id":"786","x":"5.1416154","y":"7.219984","name":"Crowdsourced Microservices","group":"8"},{"id":"787","x":"6.598605","y":"6.2943807","name":"Replicating novices\' struggles with coding style","group":"43"},{"id":"788","x":"5.6746435","y":"3.5651135","name":"Towards answering \u201cAm I on the right track?\u201d automatically using program synthesis","group":"42"},{"id":"789","x":"6.8361955","y":"6.9273105","name":"Giving automated feedback about student code identifiers: a method based on the description of programming problem","group":"34"},{"id":"790","x":"6.4103436","y":"7.9747787","name":"Adaptive review for mobile MOOC learning via implicit physiological signal sensing","group":"17"},{"id":"791","x":"5.4824414","y":"7.7298937","name":"Scaling reflection prompts in large classrooms via mobile interfaces and natural language processing","group":"-1"},{"id":"792","x":"6.100982","y":"7.471157","name":"A case study on the effect of using an anchored-discussion forum in a programming course","group":"-1"},{"id":"793","x":"5.819245","y":"7.6660175","name":"Scalable teaching and learning via intelligent user interfaces","group":"-1"},{"id":"794","x":"5.693568","y":"8.035704","name":"Anchored discussion as a source of feedback for lecturers","group":"36"},{"id":"795","x":"5.707694","y":"7.9920573","name":"Video\u2010based consensus annotations for learning: A feasibility study","group":"36"},{"id":"796","x":"5.4378343","y":"8.303346","name":"NO STUDENT IS AN ISLAND: DEGRADATION OF INSTRUCTOR PRESENCE IN THE MULTI-SITE IS CLASSROOM.","group":"36"},{"id":"797","x":"5.510898","y":"8.314934","name":"Exploring the Effects of Audience Visibility on Presenters and Attendees in Online Educational Presentations","group":"36"},{"id":"798","x":"5.7573867","y":"7.945095","name":"Instructors desire student activity, literacy, and video quality analytics to improve video-based blended courses","group":"36"},{"id":"799","x":"5.6809545","y":"7.8614674","name":"VISA: a supervised approach to indexing video lectures with semantic annotations","group":"36"},{"id":"800","x":"2.9371028","y":"7.8850627","name":"Preconceptions and individual differences in understanding visual metaphors","group":"-1"},{"id":"801","x":"1.4977008","y":"7.8707237","name":"Umap: Uniform manifold approximation and projection for dimension reduction","group":"-1"},{"id":"802","x":"7.468583","y":"5.705785","name":"The usage of web search for software engineering","group":"-1"},{"id":"803","x":"9.0589485","y":"6.262067","name":"What do developers discuss about biometric apis?","group":"25"},{"id":"804","x":"7.0931854","y":"6.4601445","name":"Neural attribution for semantic bug-localization in student programs","group":"-1"},{"id":"805","x":"6.111536","y":"6.138066","name":"Not everyone writes good examples but good examples can come from anywhere","group":"43"},{"id":"806","x":"8.288887","y":"6.323171","name":"Active documentation: Helping developers follow design decisions","group":"19"},{"id":"807","x":"6.5688405","y":"6.301293","name":"What would other programmers do: suggesting solutions to error messages","group":"43"},{"id":"808","x":"4.599604","y":"5.6071215","name":"The story in the notebook: Exploratory data science using a literate programming tool","group":"14"},{"id":"809","x":"9.178387","y":"6.304626","name":"Cryptoexplorer: An interactive web platform supporting secure use of cryptography apis","group":"25"},{"id":"810","x":"4.17961","y":"9.15963","name":"Learning from human teachers with socially guided exploration","group":"-1"},{"id":"811","x":"4.790188","y":"8.828464","name":"Policy Shaping with Human Teachers.","group":"36"},{"id":"812","x":"3.6925552","y":"10.13588","name":"Deep reinforcement learning from human preferences","group":"57"},{"id":"813","x":"5.7504745","y":"3.5432975","name":"Glass-box program synthesis: A machine learning approach","group":"42"},{"id":"814","x":"5.9366465","y":"4.513411","name":"The behavior of gradual types: a user study","group":"28"},{"id":"815","x":"5.820045","y":"4.3737993","name":"Hazelnut: a bidirectionally typed structure editor calculus","group":"28"},{"id":"816","x":"6.980518","y":"5.799726","name":"An empirical investigation into programming language syntax","group":"40"},{"id":"817","x":"1.0268636","y":"6.5273004","name":"Text-based inference of moral sentiment change","group":"-1"},{"id":"818","x":"5.5878143","y":"6.636988","name":"CNN based spatial classification features for clustering offline handwritten mathematical expressions","group":"5"},{"id":"819","x":"5.83668","y":"5.672586","name":"Supporting visual artists in programming through direct inspection and control of program execution","group":"-1"},{"id":"820","x":"3.0965245","y":"5.249668","name":"Predictive text encourages predictable writing","group":"46"},{"id":"821","x":"8.6957655","y":"3.8717217","name":"The living review on automated program repair","group":"7"},{"id":"822","x":"5.899438","y":"3.766583","name":"Writing reusable code feedback at scale with mixed-initiative program synthesis","group":"42"},{"id":"823","x":"7.0918255","y":"5.0222316","name":"Interactive extraction of examples from existing code","group":"23"},{"id":"824","x":"5.783535","y":"5.5873213","name":"PointerViz-towards visualizing pointers for novice programmers","group":"43"},{"id":"825","x":"5.472513","y":"4.4602275","name":"Smoothgrad: removing noise by adding noise","group":"-1"},{"id":"826","x":"0.9850807","y":"10.448037","name":"Explainable Artificial Intelligence (XAI): Concepts, taxonomies, opportunities and challenges toward responsible AI","group":"62"},{"id":"827","x":"0.060562655","y":"9.426803","name":"Fostering interpretability of data mining models through data perturbation","group":"74"},{"id":"828","x":"0.71817917","y":"9.932375","name":"Evaluating explainers via perturbation","group":"-1"},{"id":"829","x":"0.13731003","y":"9.272892","name":"Interpretable models in probabilistic machine learning","group":"74"},{"id":"830","x":"0.95058584","y":"8.219574","name":"Power to the oracle? design principles for interactive labeling systems in machine learning","group":"-1"},{"id":"831","x":"1.0522217","y":"10.021463","name":"Do end-users want explanations? Analyzing the role of explainability as an emerging aspect of non-functional requirements","group":"72"},{"id":"832","x":"0.1877245","y":"9.277342","name":"Making Bayesian predictive models interpretable: A decision theoretic approach","group":"74"},{"id":"833","x":"7.4773955","y":"4.9029193","name":"Scalable comparison of javascript V8 bytecode traces","group":"23"},{"id":"834","x":"2.5028746","y":"6.3049912","name":"An algebraic process for visualization design","group":"68"},{"id":"835","x":"5.544043","y":"7.342714","name":"\\" Why is\' Chicago\'deceptive?\\" Towards Building Model-Driven Tutorials for Humans","group":"-1"},{"id":"836","x":"1.1187255","y":"10.4651985","name":"Proxy tasks and subjective measures can be misleading in evaluating explainable ai systems","group":"62"},{"id":"837","x":"0.6406433","y":"9.35795","name":"One explanation does not fit all: The promise of interactive explanations for machine learning transparency","group":"75"},{"id":"838","x":"9.344688","y":"5.3374944","name":"Hirec: Api recommendation using hierarchical context","group":"26"},{"id":"839","x":"9.363361","y":"5.833335","name":"Demystify official api usage directives with crowdsourced api misuse scenarios, erroneous code examples and patches","group":"26"},{"id":"840","x":"9.375187","y":"5.8197765","name":"When apis are intentionally bypassed: An exploratory study of api workarounds","group":"-1"},{"id":"841","x":"9.348056","y":"5.6848736","name":"Inferring API Correct Usage Rules: A Tree-based Approach","group":"26"},{"id":"842","x":"7.6559253","y":"5.2834516","name":"Code duplication on stack overflow","group":"23"},{"id":"843","x":"7.658791","y":"5.4387107","name":"Source code comprehension and appropriation by novice programmers: understanding novice programmers\u2019 perception about source code reuse","group":"23"},{"id":"844","x":"2.0367763","y":"7.059301","name":"Visualizing uncertainty and alternatives in event sequence predictions","group":"48"},{"id":"845","x":"9.136517","y":"5.4323373","name":"Similarapi: mining analogical apis for library migration","group":"-1"},{"id":"846","x":"9.627166","y":"5.695076","name":"Cooperative API misuse detection using correction rules","group":"-1"},{"id":"847","x":"7.526967","y":"3.7071404","name":"Enhancing example-based code search with functional semantics","group":"24"},{"id":"848","x":"9.252557","y":"5.8315787","name":"An empirical study on API parameter rules","group":"26"},{"id":"849","x":"6.5919847","y":"7.202354","name":"Evaluating feedback tools in introductory programming classes","group":"34"},{"id":"850","x":"2.1698666","y":"9.800772","name":"\\" Hello AI\\": uncovering the onboarding needs of medical practitioners for human-AI collaborative decision-making","group":"59"},{"id":"851","x":"3.7214375","y":"9.147179","name":"Learning language games through interaction","group":"53"},{"id":"852","x":"3.2841995","y":"10.12635","name":"Enabling robots to communicate their objectives","group":"56"},{"id":"853","x":"7.5116715","y":"5.058463","name":"Optimising the fit of stack overflow code snippets into existing code","group":"23"},{"id":"854","x":"7.4451737","y":"3.5891886","name":"Improving code search with co-attentive representation learning","group":"24"},{"id":"855","x":"8.706942","y":"3.8583312","name":"Exploring the differences between plausible and correct patches at fine-grained level","group":"7"},{"id":"856","x":"8.62314","y":"3.9343805","name":"Interactive Patch Filtering as Debugging Aid","group":"7"},{"id":"857","x":"5.855961","y":"8.172776","name":"Learnersourcing: improving learning with collective learner activity","group":"36"},{"id":"858","x":"8.949696","y":"5.6697","name":"Bridging the divide between API users and API developers by mining public code repositories","group":"-1"},{"id":"859","x":"5.2280335","y":"5.507582","name":"Wrex: A unified programming-by-example interaction for synthesizing readable code for data scientists","group":"14"},{"id":"860","x":"4.045649","y":"8.0842705","name":"Artificial intelligence for HCI: a modern approach","group":"38"},{"id":"861","x":"7.649905","y":"5.034848","name":"Mining Source Code for Snippet Reuse","group":"23"},{"id":"862","x":"8.9801235","y":"5.971918","name":"API as Curriculum: Designing High-Level API Affordances as Instructional Scaffolds","group":"-1"},{"id":"863","x":"6.9291053","y":"6.6763997","name":"Bugs as Features: Describing Patterns in Student Code through a Classification of Bugs","group":"-1"},{"id":"864","x":"8.8869505","y":"6.126308","name":"Exploring Usage of Web Resources Through a Model of API Learning","group":"21"},{"id":"865","x":"3.2110848","y":"4.028931","name":"Extracting Semantics from Question-Answering Services for Snippet Reuse","group":"32"},{"id":"866","x":"8.913927","y":"5.54015","name":"AUSearch: Accurate API usage search in GitHub repositories with type resolution","group":"-1"},{"id":"867","x":"7.610045","y":"4.0664735","name":"Are the code snippets what we are searching for? a benchmark and an empirical study on code search with natural-language queries","group":"24"},{"id":"868","x":"7.249714","y":"3.7161686","name":"A code-description representation learning model based on attention","group":"-1"},{"id":"869","x":"7.0834885","y":"5.705912","name":"How graduate computing students search when using an unfamiliar programming language","group":"-1"},{"id":"870","x":"7.532731","y":"3.9803345","name":"Towards summarizing program statements in source code search","group":"24"},{"id":"871","x":"6.332989","y":"4.852684","name":"An empirical study of ownership, typestate, and assets in the obsidian smart contract language","group":"-1"},{"id":"872","x":"1.3347789","y":"10.136356","name":"Harnessing explanations to bridge ai and humans","group":"62"},{"id":"873","x":"9.2665415","y":"5.5593123","name":"Discovering API Related Functions with Spectral Clustering","group":"26"},{"id":"874","x":"1.753453","y":"7.9859347","name":"Good-enough compositional data augmentation","group":"69"},{"id":"875","x":"2.7030234","y":"6.7568493","name":"The E\ufb00ects of Mixed-Initiative Visualization Systems on Exploratory Data Analysis","group":"67"},{"id":"876","x":"0.2353172","y":"9.269701","name":"Variable importance clouds: A way to explore variable importance for the set of good models","group":"74"},{"id":"877","x":"0.6155726","y":"9.259817","name":"ExplainExplore: Visual exploration of machine learning explanations","group":"75"},{"id":"878","x":"6.39362","y":"5.6233263","name":"Composing flexibly-organized step-by-step tutorials from linked source code, snippets, and outputs","group":"-1"},{"id":"879","x":"0.73826987","y":"8.477069","name":"Data-driven inference of representation invariants","group":"71"},{"id":"880","x":"2.40319","y":"5.874709","name":"Visualization for information retrieval","group":"-1"},{"id":"881","x":"2.5740814","y":"6.4194975","name":"Visualization by example","group":"68"},{"id":"882","x":"2.5288646","y":"6.1756845","name":"Visualization of PICO Elements for Information Needs Clarification and Query Refinement","group":"-1"},{"id":"883","x":"3.3141465","y":"5.974068","name":"Accelerating adult readers with typeface: a study of individual preferences and effectiveness","group":"61"},{"id":"884","x":"3.107849","y":"9.749755","name":"Is the most accurate ai the best teammate? optimizing ai for teamwork","group":"56"},{"id":"885","x":"7.515712","y":"4.958506","name":"Are the code snippets what we are searching for","group":"23"},{"id":"886","x":"4.491055","y":"4.361146","name":"Synthesizing Queries via Interactive Sketching","group":"4"},{"id":"887","x":"0.80168664","y":"8.563324","name":"Hype: A benchmark for human eye perceptual evaluation of generative models","group":"-1"},{"id":"888","x":"8.398215","y":"6.259271","name":"Generating unit tests for documentation","group":"19"},{"id":"889","x":"2.5254223","y":"5.6324725","name":"Redesigning a Document Viewer for Legal Documents","group":"64"},{"id":"890","x":"4.479639","y":"4.9799695","name":"A dataset and an examination of identifying passages for due diligence","group":"-1"},{"id":"891","x":"2.1872175","y":"9.508436","name":"Variations in Assessor Agreement in Due Diligence","group":"-1"},{"id":"892","x":"5.865417","y":"3.5950541","name":"Program synthesis using deduction-guided reinforcement learning","group":"42"},{"id":"893","x":"1.2475908","y":"8.467488","name":"Supervised learning in the presence of concept drift: a modelling framework","group":"-1"},{"id":"894","x":"0.13086386","y":"9.420128","name":"Which evaluations uncover sense representations that actually make sense?","group":"74"},{"id":"895","x":"0.29145518","y":"8.632669","name":"Using hypotheses as a debugging aid","group":"73"},{"id":"896","x":"8.172789","y":"5.535711","name":"Find Unique Usages: Helping Developers Understand Common Usages","group":"-1"},{"id":"897","x":"0.5690269","y":"9.941866","name":"Explainable inference on sequential data via memory-tracking","group":"75"},{"id":"898","x":"1.7718384","y":"5.58555","name":"Blind men and elephants: What do citation summaries tell us about a research article?","group":"63"},{"id":"899","x":"2.236092","y":"8.311464","name":"Omnidirectional visual image detector and processor","group":"-1"},{"id":"900","x":"2.30182","y":"3.7117782","name":"Speech therapy using computer based minimal consonant pair discrimination","group":"6"},{"id":"901","x":"1.416702","y":"7.9703646","name":"A network of localized linear discriminants","group":"-1"},{"id":"902","x":"2.1454008","y":"3.6735182","name":"Minimal consonant pair discrimination for speech therapy using an expanded feature set and pattern element selection in time and frequency.","group":"6"},{"id":"903","x":"0.45499948","y":"9.902245","name":"Explaining explanations: Axiomatic feature interactions for deep networks","group":"75"},{"id":"904","x":"5.220384","y":"7.108206","name":"Bashon: A Hybrid Crowd-Machine Workflow for Shell Command Synthesis","group":"8"},{"id":"905","x":"2.7946126","y":"9.603099","name":"Using artificial intelligence to augment human intelligence","group":"-1"},{"id":"906","x":"4.543241","y":"6.039164","name":"Poirot: A Web Inspector for Designers","group":"15"},{"id":"907","x":"8.83041","y":"6.291686","name":"Optimizing API Documentation: Some Guidelines and Effects","group":"21"},{"id":"908","x":"8.8500805","y":"6.059903","name":"Exploring programmers\' api learning processes: Collecting web resources as external memory","group":"-1"},{"id":"909","x":"7.462037","y":"3.5534174","name":"Simplifying deep-learning-based model for code search","group":"24"},{"id":"910","x":"6.761632","y":"7.2046537","name":"Using Peer Code Review as an Educational Tool","group":"34"},{"id":"911","x":"4.9378247","y":"5.499808","name":"The design space of computational notebooks: An analysis of 60 systems in academia and industry","group":"14"},{"id":"912","x":"4.5317197","y":"4.2955356","name":"Insights from student solutions to sql homework problems","group":"4"},{"id":"913","x":"9.597747","y":"5.6601925","name":"Api misuse correction: A fuzzy logic approach","group":"-1"},{"id":"914","x":"3.9262247","y":"9.328877","name":"Critical success factors for creating superb self-managing teams","group":"53"},{"id":"915","x":"3.0415535","y":"9.709593","name":"Does the whole exceed its parts? the effect of ai explanations on complementary team performance","group":"56"},{"id":"916","x":"2.3758774","y":"5.6373863","name":"A framework for a text-centric user interface for navigating complex news stories","group":"64"},{"id":"917","x":"3.941287","y":"4.060911","name":"Zero-Shot Learning of Hint Policy via Reinforcement Learning and Program Synthesis.","group":"-1"},{"id":"918","x":"5.8422003","y":"5.6453395","name":"Live programming by example: using direct manipulation for live program synthesis","group":"-1"},{"id":"919","x":"4.512113","y":"5.7247767","name":"Semi-automated svg programming via direct manipulation","group":"15"},{"id":"920","x":"6.8767796","y":"5.207533","name":"Towards Live Programming Environments for Statically Verified JavaScript","group":"-1"},{"id":"921","x":"5.554898","y":"4.1198597","name":"Composable higher-order reactors as the basis for a live reactive programming environment","group":"-1"},{"id":"922","x":"4.4577236","y":"5.641684","name":"Sketch-n-sketch: Output-directed programming for SVG","group":"-1"},{"id":"923","x":"5.320154","y":"3.7763672","name":"Grammar filtering for syntax-guided synthesis","group":"30"},{"id":"924","x":"5.216981","y":"4.725027","name":"Automating common data science matrix transformations","group":"-1"},{"id":"925","x":"2.3216429","y":"6.7029934","name":"Design features of graphs in health risk communication: a systematic review","group":"-1"},{"id":"926","x":"8.788674","y":"5.3782225","name":"From api to nli: A new interface for library reuse","group":"-1"},{"id":"927","x":"1.4693722","y":"9.99762","name":"The rationale of rationalization","group":"-1"},{"id":"928","x":"0.7377355","y":"5.9192176","name":"Authorless topic models: Biasing models away from known structure","group":"50"},{"id":"929","x":"2.477095","y":"8.613581","name":"Necessary conditions of learning","group":"65"},{"id":"930","x":"6.5256553","y":"3.713297","name":"Execution-guided neural program decoding","group":"-1"},{"id":"931","x":"5.8567357","y":"3.9022582","name":"Program synthesis and semantic parsing with learned code idioms","group":"42"},{"id":"932","x":"5.604945","y":"3.6084504","name":"Program synthesis in 2017-18","group":"42"},{"id":"933","x":"5.3289566","y":"5.0247917","name":"PROGRAMMING BY EXAMPLES FOR INDUSTRIAL DATA WRANGLING","group":"-1"},{"id":"934","x":"5.531532","y":"6.6753435","name":"Structure and term prediction for mathematical text","group":"5"},{"id":"935","x":"4.957762","y":"6.3837137","name":"Learning Web-based Procedures by Reasoning over Explanations and Demonstrations in Context","group":"11"},{"id":"936","x":"6.023707","y":"4.6627","name":"Are my invariants valid? a learning approach","group":"28"},{"id":"937","x":"4.464829","y":"4.092548","name":"Rat-sql: Relation-aware schema encoding and linking for text-to-sql parsers","group":"4"},{"id":"938","x":"8.609337","y":"3.9536505","name":"Repairing programs with semantic code search (t)","group":"7"},{"id":"939","x":"7.2873774","y":"4.715445","name":"SWIM: synthesizing what I mean: code search and idiomatic snippet synthesis","group":"23"},{"id":"940","x":"8.936088","y":"5.171235","name":"Component-based synthesis for complex APIs","group":"26"},{"id":"941","x":"7.6096005","y":"4.007151","name":"Query expansion based on crowd knowledge for code search","group":"24"},{"id":"942","x":"8.622256","y":"3.9541724","name":"Towards practical program repair with on-demand candidate generation","group":"7"},{"id":"943","x":"8.728674","y":"3.8366797","name":"An analysis of patch plausibility and correctness for generate-and-validate patch generation systems","group":"7"},{"id":"944","x":"5.5691786","y":"6.750215","name":"Mathematical language processing: Automatic grading and feedback for open response mathematical questions","group":"5"},{"id":"945","x":"7.5744014","y":"3.8723922","name":"Code search with input/output queries: Generalizing, ranking, and assessment","group":"24"},{"id":"946","x":"8.163168","y":"5.3454194","name":"How do developers utilize source code from stack overflow?","group":"-1"},{"id":"947","x":"8.666472","y":"3.917125","name":"Dynamoth: dynamic code synthesis for automatic program repair","group":"7"},{"id":"948","x":"5.8420672","y":"4.0742855","name":"EdSketch: Execution-driven sketching for Java","group":"42"},{"id":"949","x":"5.6681137","y":"5.7009244","name":"Codemend: Assisting interactive programming with bimodal embedding","group":"-1"},{"id":"950","x":"5.361639","y":"5.0746694","name":"An interactive system for data structure development","group":"-1"},{"id":"951","x":"8.589805","y":"5.1798778","name":"Hunter: next-generation code reuse for java","group":"22"},{"id":"952","x":"6.0497527","y":"6.0397444","name":"Programming not only by example","group":"43"},{"id":"953","x":"4.3715296","y":"5.8802886","name":"Cross-supervised synthesis of web-crawlers","group":"15"},{"id":"954","x":"5.301646","y":"4.022493","name":"Frangel: component-based synthesis with control structures","group":"30"},{"id":"955","x":"5.7111387","y":"3.9130032","name":"Accessible programming using program synthesis.","group":"42"},{"id":"956","x":"9.330193","y":"5.730721","name":"Mining unit test cases to synthesize API usage examples","group":"26"},{"id":"957","x":"5.788866","y":"3.6831317","name":"Scaling program synthesis by exploiting existing code","group":"42"},{"id":"958","x":"7.8765073","y":"5.4551687","name":"Call by meaning","group":"-1"},{"id":"959","x":"5.214929","y":"3.9276874","name":"Abstraction-based interaction model for synthesis","group":"30"},{"id":"960","x":"8.676727","y":"3.8804796","name":"Automatic patch generation via learning from successful human patches","group":"7"},{"id":"961","x":"8.475684","y":"5.0830035","name":"Reusing software libraries using semantic graphs","group":"-1"},{"id":"962","x":"6.6935","y":"4.0615506","name":"Generation of code from text description with syntactic parsing and Tree2Tree model","group":"37"},{"id":"963","x":"8.227729","y":"5.0375156","name":"Utilizing semantic techniques for automatic code reuse in software repositories","group":"22"},{"id":"964","x":"5.8439884","y":"4.064021","name":"Sketch4J: Execution-driven sketching for Java","group":"42"},{"id":"965","x":"7.445275","y":"3.8739989","name":"Search Techniques for Code Generation","group":"24"},{"id":"966","x":"6.0856524","y":"6.080524","name":"Programming by Example: Efficient, but Not\\" Helpful\\"","group":"43"},{"id":"967","x":"5.754574","y":"4.0152035","name":"Type-directed code reuse using integer linear programming","group":"42"},{"id":"968","x":"7.5206313","y":"5.8691654","name":"Information Foraging Theory as a Unifying Foundation for Software Engineering Research: Connecting the Dots","group":"40"},{"id":"969","x":"5.773023","y":"4.0256443","name":"Program synthesis by type-guided abstraction refinement","group":"42"},{"id":"970","x":"8.61986","y":"3.9534962","name":"Unifying Program Repair and Program Synthesis","group":"7"},{"id":"971","x":"5.6806006","y":"3.5951295","name":"Program Synthesis Without Full Specifications for Novel Applications","group":"42"},{"id":"972","x":"5.7621536","y":"7.810249","name":"Machine learning techniques for personalized learning","group":"-1"},{"id":"973","x":"5.5622234","y":"3.944938","name":"Programming Abstractions and Synthesis-Aided Compilation for Emerging Computing Platforms","group":"-1"},{"id":"974","x":"4.5218472","y":"4.1529183","name":"On synthesizing code from free-form queries","group":"4"},{"id":"975","x":"5.5776367","y":"6.7626123","name":"Mathematical language processing: automatic grading and feedback for open response mathematical questions","group":"5"},{"id":"976","x":"7.414067","y":"4.9437437","name":"Squirrel: A Code Snippet Repository","group":"23"},{"id":"977","x":"7.484571","y":"4.9409647","name":"Sni\'per: a Code Snippet RESTful API","group":"23"},{"id":"978","x":"7.217198","y":"4.910048","name":"Systematic adaptation of dynamically generated source code via domain\u2010specific examples","group":"23"},{"id":"979","x":"5.1899214","y":"4.0019984","name":"Automated Synthesis and Debugging of Declarative Models in Alloy","group":"30"},{"id":"980","x":"4.4505916","y":"4.178887","name":"Synthesizing Highly Expressive SQL Queries from Input-Output Examples","group":"4"},{"id":"981","x":"8.248725","y":"4.8299265","name":"Mining source code for component reuse","group":"-1"},{"id":"982","x":"5.7424827","y":"4.072499","name":"Program Synthesis by Type-Guided Abstraction Refinement","group":"42"},{"id":"983","x":"5.5273604","y":"4.021227","name":"Programming by Predicates","group":"-1"},{"id":"984","x":"7.5681686","y":"3.6562226","name":"Semantic code search via equational reasoning","group":"24"},{"id":"985","x":"5.421828","y":"3.954481","name":"Programming by predicates: a formal model for interactive synthesis","group":"-1"},{"id":"986","x":"7.2593656","y":"5.077908","name":"IDVE: an integrated development and verification environment for JavaScript","group":"23"},{"id":"987","x":"5.7135744","y":"4.1141486","name":"Question selection for interactive program synthesis","group":"42"},{"id":"988","x":"5.6157246","y":"3.677085","name":"Automatic program synthesis for software diversification","group":"42"},{"id":"989","x":"7.3073707","y":"6.0702567","name":"Supporting information needs of developers through web Q&A discussions","group":"40"},{"id":"990","x":"5.8715553","y":"5.8309174","name":"Interactive Programming by Example","group":"43"},{"id":"991","x":"9.31219","y":"5.7130384","name":"Mining unit test cases to synthesize API usage examples","group":"26"},{"id":"992","x":"6.398122","y":"6.2720714","name":"Smart programming playgrounds","group":"43"},{"id":"993","x":"5.864634","y":"3.641966","name":"Program synthesis using statistical models and logical reasoning","group":"42"},{"id":"994","x":"6.7283444","y":"3.9217596","name":"Neural Language Models for Data-Driven Programming Support","group":"37"},{"id":"995","x":"2.5808434","y":"9.9529915","name":"Re-examining whether, why, and how human-AI interaction is uniquely difficult to design","group":"55"},{"id":"996","x":"5.1697917","y":"9.0042925","name":"Comparing Solution Strategies to Promote Algebra Learning and Flexibility","group":"35"},{"id":"997","x":"5.979393","y":"6.9906673","name":"Identifying barriers to adoption for Rust through online discourse","group":"-1"},{"id":"998","x":"2.8241096","y":"10.1475315","name":"A model for types and levels of human interaction with automation","group":"-1"},{"id":"999","x":"2.7817838","y":"10.162782","name":"Human performance consequences of stages and levels of automation: An integrated meta-analysis","group":"55"},{"id":"1000","x":"4.854919","y":"5.5144353","name":"Aiding collaborative reuse of computational notebooks with annotated cell folding","group":"14"},{"id":"1001","x":"6.016753","y":"4.3240876","name":"Semantic program alignment for equivalence checking","group":"28"},{"id":"1002","x":"1.6773548","y":"9.500291","name":"Multiple explanation: A consider-an-alternative strategy for debiasing judgments.","group":"59"},{"id":"1003","x":"2.0819592","y":"9.449743","name":"Improving decision making by means of dissent 1","group":"-1"},{"id":"1004","x":"4.8712053","y":"7.946067","name":"Explicitly Training Metacognition and Self-Regulation for Computer Programming","group":"-1"},{"id":"1005","x":"6.1359425","y":"4.5883317","name":"CLX: Towards verifiable PBE data transformation","group":"-1"},{"id":"1006","x":"5.850417","y":"5.9542613","name":"Small-step live programming by example","group":"-1"},{"id":"1007","x":"9.454572","y":"5.4878755","name":"Guided pattern mining for API misuse detection by change-based code analysis","group":"-1"},{"id":"1008","x":"2.1336038","y":"10.203169","name":"A human-centered review of algorithms used within the us child welfare system","group":"51"},{"id":"1009","x":"3.8889153","y":"7.8375826","name":"Why do I keep interrupting myself? Environment, habit and self-interruption","group":"38"},{"id":"1010","x":"1.9853321","y":"9.494448","name":"Cognitive forcing strategies in clinical decisionmaking","group":"59"},{"id":"1011","x":"3.1148896","y":"8.887559","name":"The very efficient assessment of need for cognition: Developing a six-item version","group":"58"},{"id":"1012","x":"3.0997114","y":"8.989318","name":"Dispositional differences in cognitive motivation: The life and times of individuals varying in need for cognition.","group":"58"},{"id":"1013","x":"5.635976","y":"3.6476562","name":"Program synthesis with pragmatic communication","group":"42"},{"id":"1014","x":"5.686695","y":"3.743925","name":"Write, execute, assess: Program synthesis with a repl","group":"42"},{"id":"1015","x":"2.2548835","y":"8.678748","name":"Bignav: Bayesian information gain for guiding multiscale navigation","group":"65"},{"id":"1016","x":"1.9743398","y":"9.770248","name":"Human-centered tools for coping with imperfect algorithms during medical decision-making","group":"59"},{"id":"1017","x":"1.9662931","y":"10.345006","name":"Towards algorithmic experience: Initial efforts for social media contexts","group":"51"},{"id":"1018","x":"2.5763495","y":"6.908601","name":"Data flakes: An afterword to \u201craw data\u201d is an oxymoron","group":"-1"},{"id":"1019","x":"3.62199","y":"8.116742","name":"Empirically studying participatory sense-making in abstract drawing with a co-creative cognitive agent","group":"31"},{"id":"1020","x":"5.824768","y":"4.2640185","name":"Interactive program synthesis by augmented examples","group":"28"},{"id":"1021","x":"8.777265","y":"6.2900615","name":"Information correspondence between types of documentation for APIs","group":"21"},{"id":"1022","x":"9.004619","y":"5.2628484","name":"FIXR: Mining and Understanding Bug Fixes to Address Application Framework Protocol Defects","group":"26"},{"id":"1023","x":"0.60916245","y":"8.512565","name":"Towards understanding the challenges faced by machine learning software developers and enabling automated solutions","group":"71"},{"id":"1024","x":"0.7933449","y":"8.145922","name":"Users & machine learning-based curation systems","group":"-1"},{"id":"1025","x":"2.7088306","y":"4.535617","name":"How useful are the machine-generated interpretations to general users? A human evaluation on guessing the incorrectly predicted labels","group":"-1"},{"id":"1026","x":"0.53157085","y":"9.658502","name":"Machine learning explainability for external stakeholders","group":"75"},{"id":"1027","x":"3.7337832","y":"7.9349556","name":"Cognitive control in media multitaskers","group":"-1"},{"id":"1028","x":"3.0403833","y":"10.054322","name":"Guidelines for human-AI interaction","group":"-1"},{"id":"1029","x":"1.1044065","y":"9.874027","name":"Too much, too little, or just right? Ways explanations impact end users\' mental models","group":"72"},{"id":"1030","x":"1.8936965","y":"5.4118037","name":"Utilization of the PICO framework to improve searching PubMed for clinical questions","group":"63"},{"id":"1031","x":"3.7477694","y":"5.003778","name":"Grouper: a dynamic clustering interface to Web search results","group":"-1"},{"id":"1032","x":"3.7619705","y":"5.0413284","name":"Syntactic clustering of the web","group":"-1"},{"id":"1033","x":"1.8491563","y":"10.37412","name":"Adapting user experience research methods for AI-driven experiences","group":"51"},{"id":"1034","x":"0.5806075","y":"9.1727085","name":"Play MNIST for me! User studies on the effects of post-hoc, example-based explanations & error rates on debugging a deep learning, black-box classifier","group":"75"},{"id":"1035","x":"1.9445622","y":"10.202073","name":"Opening the AI Black Box for a better HCI","group":"51"},{"id":"1036","x":"6.3198185","y":"6.814429","name":"ClassCode: An interactive teaching and learning environment for programming education in classrooms","group":"43"},{"id":"1037","x":"6.1776037","y":"6.5460925","name":"Examining Student Coding Behaviours in Creative Computing Lessons using Abstract Syntax Trees and Vocabulary Analysis","group":"43"},{"id":"1038","x":"3.1813438","y":"8.472611","name":"EEG signal processing","group":"-1"},{"id":"1039","x":"0.71304375","y":"9.137117","name":"When black box algorithms are (not) appropriate: a principled prediction-problem ontology","group":"-1"},{"id":"1040","x":"2.6839151","y":"10.274849","name":"Trust in automation: Designing for appropriate reliance","group":"55"},{"id":"1041","x":"2.844865","y":"8.571468","name":"Hierarchical encoding in visual working memory: Ensemble statistics bias memory for individual items","group":"58"},{"id":"1042","x":"2.469322","y":"6.2848687","name":"Visual search: A retrospective","group":"68"},{"id":"1043","x":"5.875443","y":"3.8478518","name":"Feedback-driven semi-supervised synthesis of program transformations.","group":"42"},{"id":"1044","x":"5.6128683","y":"3.4649065","name":"Perfect is the enemy of good: Best-effort program synthesis","group":"42"},{"id":"1045","x":"9.215968","y":"5.8931875","name":"Web API search: discover web API and its endpoint with natural language queries","group":"26"},{"id":"1046","x":"2.3310013","y":"3.6879227","name":"iAligner: A tool for syntax-based intra-language text alignment","group":"6"},{"id":"1047","x":"6.828675","y":"4.632008","name":"Patterns in property specifications for finite-state verification","group":"-1"},{"id":"1048","x":"0.8988282","y":"8.949031","name":"Parallel embeddings: a visualization technique for contrasting learned representations","group":"-1"},{"id":"1049","x":"4.777446","y":"6.252927","name":"Situated tangible robot programming","group":"-1"},{"id":"1050","x":"0.7720467","y":"8.325991","name":"Towards rapid interactive machine learning: evaluating tradeoffs of classification without representation","group":"71"},{"id":"1051","x":"5.0976844","y":"6.3369446","name":"SUGILITE: creating multimodal smartphone automation by demonstration","group":"11"},{"id":"1052","x":"9.250212","y":"5.5888653","name":"APISonar: Mining API usage examples","group":"26"},{"id":"1053","x":"7.3424683","y":"5.0172334","name":"Exempla gratis (EG): Code examples for free","group":"23"},{"id":"1054","x":"8.847023","y":"6.2651653","name":"Optimizing API Documentation: Some Guidelines and Effects","group":"21"},{"id":"1055","x":"4.676891","y":"6.0014777","name":"Preference elicitation for interface optimization","group":"15"},{"id":"1056","x":"9.28732","y":"5.301396","name":"Holistic combination of structural and textual code information for context based api recommendation","group":"26"},{"id":"1057","x":"5.6519456","y":"3.7919078","name":"Programming with a read-eval-synth loop","group":"42"},{"id":"1058","x":"3.0867674","y":"8.707312","name":"Working memory span tasks: A methodological review and user\u2019s guide","group":"58"},{"id":"1059","x":"3.011449","y":"8.688539","name":"Complex working memory span tasks and higher-order cognition: A latent-variable analysis of the relationship between processing and storage","group":"58"},{"id":"1060","x":"4.173455","y":"5.987576","name":"Comparative layouts revisited: Design space, guidelines, and future directions","group":"12"},{"id":"1061","x":"6.1358337","y":"4.871892","name":"Can advanced type systems be usable? an empirical study of ownership, assets, and typestate in obsidian","group":"-1"},{"id":"1062","x":"7.306924","y":"7.1471677","name":"Program Equivalence for Assisted Grading of Functional Programs (Extended Version)","group":"34"},{"id":"1063","x":"5.6788874","y":"3.4811418","name":"Effective Iterative Program Synthesis with Knowledge Searched from Internet","group":"42"},{"id":"1064","x":"8.496818","y":"4.240609","name":"No strings attached: An empirical study of string-related software bugs","group":"7"},{"id":"1065","x":"1.9014016","y":"11.160708","name":"Fairness without demographics in repeated loss minimization","group":"9"},{"id":"1066","x":"2.1777408","y":"5.9851465","name":"Metro maps of science","group":"60"},{"id":"1067","x":"1.9648492","y":"3.4951522","name":"Determining word sequence variation patterns in clinical documents using multiple sequence alignment","group":"6"},{"id":"1068","x":"1.8688774","y":"4.4927845","name":"Sentence fusion for multidocument news summarization","group":"13"},{"id":"1069","x":"2.316031","y":"4.662857","name":"Computer-supported collation with CollateX: managing textual variance in an environment with varying requirements","group":"13"},{"id":"1070","x":"1.0054773","y":"10.1396","name":"Interpretable and interactive summaries ofactionable recourses","group":"-1"},{"id":"1071","x":"6.6120872","y":"6.0780034","name":"Fifty years of the psychology of programming","group":"43"},{"id":"1072","x":"4.7783084","y":"5.910883","name":"Direct manipulation: A step beyond programming languages","group":"-1"},{"id":"1073","x":"5.0768566","y":"5.00044","name":"Integrating automated test generation into the WYSIWYT spreadsheet testing methodology","group":"20"},{"id":"1074","x":"6.618283","y":"6.1587243","name":"Programmers Are People, too: Programming language and API designers can learn a lot from the field of human-factors design.","group":"43"},{"id":"1075","x":"5.1726265","y":"3.9275458","name":"Augmented example-based synthesis using relational perturbation properties","group":"30"},{"id":"1076","x":"8.652993","y":"6.070707","name":"API topics issues in stack overflow q&as posts: An empirical study","group":"-1"},{"id":"1077","x":"0.9001042","y":"8.455921","name":"Overview based example selection in end user interactive concept learning","group":"-1"},{"id":"1078","x":"4.0693755","y":"8.220371","name":"Wizard of oz studies in hri: a systematic review and new reporting guidelines","group":"38"},{"id":"1079","x":"4.2760553","y":"6.919338","name":"Prototyping an intelligent agent through Wizard of Oz","group":"10"},{"id":"1080","x":"4.2485437","y":"6.911872","name":"Suede: a wizard of oz prototyping tool for speech user interfaces","group":"10"},{"id":"1081","x":"4.18169","y":"6.8494186","name":"NottReal: A tool for voice-based Wizard of Oz studies","group":"10"},{"id":"1082","x":"4.3444476","y":"6.8929586","name":"SketchWizard: Wizard of Oz prototyping of pen-based user interfaces","group":"10"},{"id":"1083","x":"4.28946","y":"6.8735633","name":"Wizard of Oz interfaces for mixed reality applications","group":"10"},{"id":"1084","x":"4.2500305","y":"6.8873434","name":"Wizard of oz for participatory design: inventing a gestural interface for 3d selection of neural pathway estimates","group":"10"},{"id":"1085","x":"4.2469096","y":"6.892157","name":"Applying the wizard of oz technique to the study of multimodal systems","group":"10"},{"id":"1086","x":"4.253165","y":"6.987831","name":"The rapid development of user interfaces: Experience with the Wizard of Oz method","group":"10"},{"id":"1087","x":"4.228254","y":"6.8769965","name":"Wizard of oz prototyping for machine learning experiences","group":"10"},{"id":"1088","x":"4.270482","y":"6.8924584","name":"Wizard of Oz support throughout an iterative design process","group":"10"},{"id":"1089","x":"4.2873354","y":"6.8109045","name":"WozARd: a wizard of oz tool for mobile AR","group":"10"},{"id":"1090","x":"0.6964078","y":"9.497311","name":"Explainable active learning (xal): An empirical study of how local explanations impact annotator experience","group":"75"},{"id":"1091","x":"0.6710138","y":"8.511483","name":"Toward Machine-Guided, Human-Initiated Explanatory Interactive Learning","group":"71"},{"id":"1092","x":"1.1843091","y":"10.507021","name":"Human-centered explainable ai: Towards a reflective sociotechnical approach","group":"62"},{"id":"1093","x":"1.3286482","y":"9.454293","name":"Understanding the effect of accuracy on trust in machine learning models","group":"-1"},{"id":"1094","x":"7.6298556","y":"3.8338602","name":"Opportunities and challenges in code search tools","group":"24"},{"id":"1095","x":"3.1630535","y":"8.956954","name":"Mental Model Elicitation Device (MMED) methods and apparatus","group":"58"},{"id":"1096","x":"3.141387","y":"9.043554","name":"Evaluating mental model elicitation methods","group":"58"},{"id":"1097","x":"6.800038","y":"4.3948874","name":"Intellicode compose: Code generation using transformer","group":"-1"},{"id":"1098","x":"6.6068254","y":"5.7716594","name":"Do programmers prefer predictable expressions in code?","group":"-1"},{"id":"1099","x":"6.8391747","y":"4.419073","name":"Codebleu: a method for automatic evaluation of code synthesis","group":"-1"},{"id":"1100","x":"6.6986547","y":"4.247437","name":"PyMT5: multi-mode translation of natural language and Python code with transformers","group":"-1"},{"id":"1101","x":"3.138595","y":"9.621998","name":"Mental models of AI agents in a cooperative game setting","group":"56"},{"id":"1102","x":"3.3763304","y":"7.698638","name":"You can\'t always sketch what you want: Understanding sensemaking in visual query systems","group":"47"},{"id":"1103","x":"5.3932567","y":"3.4750748","name":"Just-in-time learning for bottom-up enumerative synthesis","group":"-1"},{"id":"1104","x":"2.5270827","y":"5.069425","name":"Structure interpretation of text formats","group":"-1"},{"id":"1105","x":"7.682058","y":"4.625906","name":"Automating program structure classification","group":"23"},{"id":"1106","x":"4.4695253","y":"5.9541016","name":"Scout: Rapid exploration of interface layout alternatives through high-level design constraints","group":"15"},{"id":"1107","x":"7.48927","y":"3.6137915","name":"Search4Code: Code search intent classification using weak supervision","group":"24"},{"id":"1108","x":"6.2400312","y":"6.354878","name":"Model-Driven Synthesis for Programming Tutors","group":"43"},{"id":"1109","x":"8.906177","y":"5.4418044","name":"Characterization and Automatic Updates of Deprecated Machine-Learning API Usages","group":"-1"},{"id":"1110","x":"8.745099","y":"5.335351","name":"Exploring how deprecated Python library APIs are (not) handled","group":"-1"},{"id":"1111","x":"5.518589","y":"8.116531","name":"Community enhanced tutorials: improving tutorials with multiple demonstrations","group":"-1"},{"id":"1112","x":"2.1211371","y":"7.01435","name":"In pursuit of error: A survey of uncertainty visualization evaluation","group":"48"},{"id":"1113","x":"6.187387","y":"8.099669","name":"Juxtapeer: Comparative peer review yields higher quality feedback and promotes deeper reflection","group":"17"},{"id":"1114","x":"3.6729403","y":"10.15563","name":"Reward-rational (implicit) choice: A unifying formalism for reward learning","group":"57"},{"id":"1115","x":"2.486151","y":"6.4184427","name":"Strategies for evaluating information visualization tools: multi-dimensional in-depth long-term case studies","group":"68"},{"id":"1116","x":"2.3970287","y":"6.6366835","name":"Assessment and improvement of figures to visually convey benefit and risk of stroke thrombolysis","group":"-1"},{"id":"1117","x":"0.21505575","y":"9.57437","name":"Challenging common interpretability assumptions in feature attribution explanations","group":"74"},{"id":"1118","x":"4.4007845","y":"8.146975","name":"Reducing confusion about grounded theory and qualitative content analysis: Similarities and differences.","group":"-1"},{"id":"1119","x":"7.7831974","y":"5.5344863","name":"How developers choose names","group":"-1"},{"id":"1120","x":"6.6368937","y":"5.9744673","name":"How do professional developers comprehend software?","group":"43"},{"id":"1121","x":"7.087713","y":"5.4847717","name":"Linguistic antipatterns: What they are and how developers perceive them","group":"-1"},{"id":"1122","x":"7.65267","y":"5.4931927","name":"How developers perceive smells in source code: A replicated study","group":"23"},{"id":"1123","x":"2.5252125","y":"10.356724","name":"Bridging the gap between ethics and practice: guidelines for reliable, safe, and trustworthy human-centered AI systems","group":"55"},{"id":"1124","x":"6.0899935","y":"6.2950244","name":"Sander. E.(2013)","group":"43"},{"id":"1125","x":"2.288209","y":"9.117659","name":"Peirce\'s triadic logic revisited","group":"54"},{"id":"1126","x":"5.0174966","y":"8.878153","name":"Peirce and education: An introduction","group":"-1"},{"id":"1127","x":"7.005508","y":"5.1885343","name":"Multi-modal synthesis of regular expressions","group":"-1"},{"id":"1128","x":"7.0452037","y":"6.4853163","name":"A rhetorical framework for programming language evaluation","group":"-1"},{"id":"1129","x":"8.386436","y":"6.2787375","name":"Wikifying software artifacts","group":"19"},{"id":"1130","x":"9.151608","y":"6.255285","name":"A design guide for usable web APIs","group":"25"},{"id":"1131","x":"1.9797649","y":"10.753383","name":"Can i still trust you?: Understanding the impact of distribution shifts on algorithmic recourses","group":"9"},{"id":"1132","x":"6.016303","y":"7.5503902","name":"Code in place: Online section leading for scalable human-centered learning","group":"-1"},{"id":"1133","x":"5.6557183","y":"3.3307467","name":"Combining the top-down propagation and bottom-up enumeration for inductive program synthesis","group":"-1"},{"id":"1134","x":"9.634673","y":"5.629922","name":"API misuse detection an immune system inspired approach","group":"-1"},{"id":"1135","x":"8.869838","y":"6.267015","name":"Requirements of API documentation: a case study into computer vision services","group":"21"},{"id":"1136","x":"3.3272223","y":"5.4128304","name":"Composing letters with a simulated listening typewriter","group":"46"},{"id":"1137","x":"2.2287693","y":"8.655148","name":"A theory of universal learning","group":"65"},{"id":"1138","x":"3.3011067","y":"10.250694","name":"Authoring and verifying human-robot interactions","group":"56"},{"id":"1139","x":"3.3106503","y":"10.20787","name":"Bodystorming human-robot interactions","group":"56"},{"id":"1140","x":"1.9117142","y":"5.8088627","name":"Citeology: visualizing paper genealogy","group":"-1"},{"id":"1141","x":"1.8222134","y":"5.7570715","name":"Citevis: Exploring conference paper citation data visually","group":"63"},{"id":"1142","x":"1.7884098","y":"5.8499303","name":"CiteRivers: Visual analytics of citation patterns","group":"-1"},{"id":"1143","x":"6.400849","y":"5.410551","name":"CodeCity","group":"-1"},{"id":"1144","x":"5.728409","y":"5.377012","name":"Codecity: 3d visualization of large-scale software","group":"44"},{"id":"1145","x":"6.6676464","y":"5.3919144","name":"Empirical validation of CodeCity: A controlled experiment","group":"-1"},{"id":"1146","x":"5.6697407","y":"5.4622526","name":"Scripting 3d visualizations with codecity","group":"44"},{"id":"1147","x":"5.7065187","y":"5.3721366","name":"Visualizing software systems as cities","group":"44"},{"id":"1148","x":"3.8397825","y":"6.198447","name":"Comparing and managing multiple versions of slide presentations","group":"12"},{"id":"1149","x":"7.5842433","y":"4.749199","name":"Content-based textual file type detection at scale","group":"23"},{"id":"1150","x":"6.548859","y":"5.6733828","name":"Tweakit: Supporting end-user programmers who transmogrify code","group":"-1"},{"id":"1151","x":"3.9666433","y":"6.1567054","name":"Falx: Synthesis-powered visualization authoring","group":"12"},{"id":"1152","x":"5.363688","y":"4.49694","name":"TF-Coder: Program synthesis for tensor manipulations","group":"-1"},{"id":"1153","x":"6.17294","y":"3.7941363","name":"Learning to infer program sketches","group":"-1"},{"id":"1154","x":"3.0937674","y":"9.774599","name":"Is the most accurate ai the best teammate? optimizing ai for teamwork","group":"56"},{"id":"1155","x":"3.7991753","y":"10.276545","name":"Rocus: Robot controller understanding via sampling","group":"57"},{"id":"1156","x":"5.3366456","y":"4.0991006","name":"Interactive synthesis of temporal specifications from examples and natural language","group":"-1"},{"id":"1157","x":"9.220031","y":"5.7907486","name":"A theory of robust API knowledge","group":"26"},{"id":"1158","x":"6.6563654","y":"4.2315288","name":"In-ide code generation from natural language: Promise and challenges","group":"-1"},{"id":"1159","x":"0.16468251","y":"9.534816","name":"Beyond expertise and roles: A framework to characterize the stakeholders of interpretable machine learning and their needs","group":"74"},{"id":"1160","x":"3.865772","y":"7.8583226","name":"CHS: Medium: A Human-Centered Information Space: Designing Dynamic Personalized Visual Information","group":"38"},{"id":"1161","x":"0.3823854","y":"8.676844","name":"Umlaut: Debugging deep learning programs using program structure and model behavior","group":"73"},{"id":"1162","x":"2.5212364","y":"8.168398","name":"Learning to Characterize Matching Experts","group":"-1"},{"id":"1163","x":"2.2110093","y":"10.30552","name":"The changing roles of humans and algorithms in (process) matching","group":"-1"},{"id":"1164","x":"3.268208","y":"8.571736","name":"Humans In and Humans Out in Matching","group":"-1"},{"id":"1165","x":"-0.01490952","y":"9.360189","name":"Towards falsifiable interpretability research","group":"74"},{"id":"1166","x":"3.7790246","y":"7.758715","name":"Large scale analysis of multitasking behavior during remote meetings","group":"-1"},{"id":"1167","x":"2.3653066","y":"10.138301","name":"Overcoming failures of imagination in AI infused system development and deployment","group":"-1"},{"id":"1168","x":"2.0006306","y":"11.0155735","name":"Co-designing checklists to understand organizational challenges and opportunities around fairness in AI","group":"9"},{"id":"1169","x":"9.135761","y":"6.2847757","name":"RAPID: a knowledge-based assistant for designing web APIs","group":"25"},{"id":"1170","x":"4.7598343","y":"5.505691","name":"Nbsearch: Semantic search and visual exploration of computational notebooks","group":"14"},{"id":"1171","x":"6.592906","y":"6.042595","name":"An inquisitive code editor for addressing novice programmers\' misconceptions of program behavior","group":"43"},{"id":"1172","x":"6.9095984","y":"5.7542896","name":"Enhancing developer interactions with programming screencasts through accurate code extraction","group":"40"},{"id":"1173","x":"6.75469","y":"4.635995","name":"Property Tests as Specifications Towards Better Code Completion","group":"-1"},{"id":"1174","x":"8.731523","y":"3.841357","name":"A comprehensive study of code-removal patches in automated program repair","group":"7"},{"id":"1175","x":"7.1703877","y":"4.7451167","name":"Macros for domain-specific languages","group":"23"},{"id":"1176","x":"2.985804","y":"4.998103","name":"Sketching nlp: A case study of exploring the right things to design with language intelligence","group":"46"},{"id":"1177","x":"5.719109","y":"5.383713","name":"Software visualization in the large","group":"44"},{"id":"1178","x":"5.7489634","y":"5.387858","name":"Live trace visualization for comprehending large software landscapes: The ExplorViz approach","group":"44"},{"id":"1179","x":"6.292475","y":"3.9431548","name":"Complete completion using types and weights","group":"-1"},{"id":"1180","x":"2.2309365","y":"5.696909","name":"Seeing things in the clouds: the effect of visual features on tag cloud selections","group":"-1"},{"id":"1181","x":"0.86852807","y":"10.377692","name":"Interestingness elements for explainable reinforcement learning: Understanding agents\' capabilities and limitations","group":"62"},{"id":"1182","x":"4.4831357","y":"6.6385446","name":"Bricks: laying the foundations for graspable user interfaces","group":"-1"},{"id":"1183","x":"1.4938692","y":"10.069769","name":"I Don\u2019t Think So\u201d: Disagreement-Based Policy Summaries for Comparing Agents","group":"62"},{"id":"1184","x":"1.2603049","y":"10.016462","name":"Explanation in artificial intelligence: Insights from the social sciences","group":"-1"},{"id":"1185","x":"2.1698418","y":"10.730898","name":"Suspending damage: A letter to communities","group":"-1"},{"id":"1186","x":"4.784734","y":"8.178225","name":"Co-editors\u2019 introduction: Reimagining damaged-centered research as community wealth-centered research","group":"-1"},{"id":"1187","x":"3.1940944","y":"7.368019","name":"The Grey Hoodie Project: Big tobacco, big tech, and the threat on academic integrity","group":"49"},{"id":"1188","x":"3.1984475","y":"9.834822","name":"Communicating intent to develop shared situation awareness and engender trust in human-agent teams","group":"-1"},{"id":"1189","x":"3.0982535","y":"9.911003","name":"Communicating intent of automated vehicles to pedestrians","group":"56"},{"id":"1190","x":"3.2240894","y":"9.440459","name":"Communicating intent and imparting presence","group":"-1"},{"id":"1191","x":"3.2527952","y":"9.3478775","name":"Learning the communication of intent prior to physical collaboration","group":"-1"},{"id":"1192","x":"2.9319837","y":"10.313082","name":"Expressing robot incapability","group":"-1"},{"id":"1193","x":"3.1248655","y":"9.896747","name":"Communicating awareness and intent in autonomous vehicle-pedestrian interaction","group":"56"},{"id":"1194","x":"3.2944381","y":"10.093766","name":"Goal inference improves objective and perceived performance in human-robot collaboration","group":"56"},{"id":"1195","x":"3.8875296","y":"5.4641957","name":"wranglesearch: Mining Data","group":"-1"},{"id":"1196","x":"0.9509037","y":"9.747539","name":"Human evaluation of spoken vs. visual explanations for open-domain qa","group":"72"},{"id":"1197","x":"8.342999","y":"4.2446704","name":"Errudite: Scalable, reproducible, and testable error analysis","group":"7"},{"id":"1198","x":"5.6998463","y":"4.9553967","name":"On language interfaces","group":"-1"},{"id":"1199","x":"5.282834","y":"5.623489","name":"Do we need natural language? Exploring restricted language interfaces for complex domains","group":"-1"},{"id":"1200","x":"6.1783056","y":"3.7257557","name":"Modular language composition for the masses","group":"41"},{"id":"1201","x":"6.2285514","y":"4.31353","name":"Behavioral interfaces for executable DSLs","group":"-1"},{"id":"1202","x":"0.82925147","y":"9.521334","name":"Explanations as mechanisms for supporting algorithmic transparency","group":"-1"},{"id":"1203","x":"2.7674022","y":"8.410152","name":"Seeing what\u2019s possible: Disconnected visual parts are confused for their potential wholes.","group":"66"},{"id":"1204","x":"1.5053047","y":"9.600624","name":"When explanations compete: The role of explanatory coherence on judgements of likelihood","group":"-1"},{"id":"1205","x":"1.2807044","y":"9.740522","name":"The structure and function of explanations","group":"72"},{"id":"1206","x":"1.3405229","y":"9.712245","name":"When Do Scientific Explanations Compete? Steps Toward a Heuristic Checklist","group":"72"},{"id":"1207","x":"2.1725793","y":"8.386298","name":"When similarity and causality compete in category-based property generalization","group":"-1"},{"id":"1208","x":"2.058905","y":"9.655581","name":"To trust or to think: cognitive forcing functions can reduce overreliance on AI in AI-assisted decision-making","group":"59"},{"id":"1209","x":"4.443204","y":"4.1969843","name":"Duoquest: a dual-specification system for expressive SQL queries","group":"4"},{"id":"1210","x":"4.462486","y":"4.192303","name":"Interactive query synthesis from input-output examples","group":"4"},{"id":"1211","x":"4.5333977","y":"4.16158","name":"Constructing Expressive Relational Queries with Dual-Specification Synthesis.","group":"4"},{"id":"1212","x":"4.478545","y":"4.1601567","name":"Synthesis of SQL queries from narrations","group":"4"},{"id":"1213","x":"4.4797306","y":"4.169104","name":"Automatically synthesizing sql queries from input-output examples","group":"4"},{"id":"1214","x":"4.462739","y":"4.120433","name":"Sqlnet: Generating structured queries from natural language without reinforcement learning","group":"4"},{"id":"1215","x":"4.5026016","y":"4.1495852","name":"PATSQL: efficient synthesis of SQL queries from example tables with quick inference of projected columns","group":"4"},{"id":"1216","x":"7.5472994","y":"3.6511254","name":"Codesearchnet challenge: Evaluating the state of semantic code search","group":"24"},{"id":"1217","x":"7.6074276","y":"3.649546","name":"A Graph-Based Approach for Semantic Code Search","group":"24"},{"id":"1218","x":"6.755424","y":"4.039231","name":"Automatic Code Generation using Pre-Trained Language Models","group":"37"},{"id":"1219","x":"7.508188","y":"3.6019268","name":"Semantic Code Search with Neural Bag-of-Words and Graph Convolutional Networks","group":"24"},{"id":"1220","x":"6.7220707","y":"3.9999595","name":"Automatic Code Generation using Pre-Trained Language Models","group":"37"},{"id":"1221","x":"7.527501","y":"3.6425595","name":"Survey of Embedding Performance for Semantic Code Search","group":"24"},{"id":"1222","x":"7.5124917","y":"3.6184196","name":"Semantic code search using Code2Vec: A bag-of-paths model","group":"24"},{"id":"1223","x":"6.580984","y":"3.9541862","name":"Codebert: A pre-trained model for programming and natural languages","group":"-1"},{"id":"1224","x":"6.6858997","y":"3.8850327","name":"Codexglue: A machine learning benchmark dataset for code understanding and generation","group":"37"},{"id":"1225","x":"1.0203241","y":"8.30307","name":"The selective labels problem: Evaluating algorithmic predictions in the presence of unobservables","group":"-1"},{"id":"1226","x":"4.119472","y":"7.441566","name":"Accelerating innovation through analogy mining","group":"29"},{"id":"1227","x":"1.8794394","y":"4.482626","name":"Bottom-up abstractive summarization","group":"13"},{"id":"1228","x":"1.8806393","y":"4.549499","name":"Boosting factual correctness of abstractive summarization with knowledge graph","group":"13"},{"id":"1229","x":"1.9000236","y":"4.5183377","name":"Analyzing sentence fusion in abstractive summarization","group":"13"},{"id":"1230","x":"1.1584636","y":"9.328293","name":"A review of possible effects of cognitive biases on interpretation of rule-based machine learning models","group":"-1"},{"id":"1231","x":"2.3882222","y":"6.240663","name":"Metrosets: Visualizing sets as metro maps","group":"68"},{"id":"1232","x":"2.5080788","y":"6.3672285","name":"On the readability of abstract set visualizations","group":"68"},{"id":"1233","x":"3.4304988","y":"5.6817007","name":"A probabilistic grammar of graphics","group":"-1"},{"id":"1234","x":"3.2566273","y":"5.888098","name":"The grammar of graphics","group":"61"},{"id":"1235","x":"1.9838798","y":"6.246348","name":"Increasing the transparency of research papers with explorable multiverse analyses","group":"-1"},{"id":"1236","x":"1.7040823","y":"8.898771","name":"Prior setting in practice: Strategies and rationales used in choosing prior distributions for Bayesian analysis","group":"-1"},{"id":"1237","x":"2.7117746","y":"7.9225783","name":"Visual reasoning strategies for effect size judgments and decisions","group":"52"},{"id":"1238","x":"2.694705","y":"7.8986597","name":"Visual reasoning strategies for effect size judgments and decisions","group":"52"},{"id":"1239","x":"2.4221454","y":"7.0845075","name":"Communicating statistical information","group":"-1"},{"id":"1240","x":"2.0822198","y":"4.9425654","name":"To reuse or not to reuse? A framework and system for evaluating summarized knowledge","group":"-1"},{"id":"1241","x":"9.119841","y":"5.216931","name":"FACER: An API usage-based code-example recommender for opportunistic reuse","group":"26"},{"id":"1242","x":"0.1324412","y":"9.563415","name":"Epistemic values in feature importance methods: Lessons from feminist epistemology","group":"74"},{"id":"1243","x":"8.371065","y":"6.2689266","name":"Understanding Emotions of Developer Community Towards Software Documentation","group":"19"},{"id":"1244","x":"5.593968","y":"7.126546","name":"Crowdsourcing as a tool to elicit software requirements","group":"-1"},{"id":"1245","x":"2.734325","y":"7.769935","name":"Gender bias in medical images affects students\u2019 implicit but not explicit gender attitudes","group":"52"},{"id":"1246","x":"1.3156548","y":"8.624384","name":"Nuanced metrics for measuring unintended bias with real data for text classification","group":"-1"},{"id":"1247","x":"2.7199278","y":"7.7175345","name":"Unsupervised discovery of implicit gender bias","group":"52"},{"id":"1248","x":"0.24647391","y":"10.318785","name":"Generative counterfactual introspection for explainable deep learning","group":"1"},{"id":"1249","x":"0.13773887","y":"10.451657","name":"Sensitivity analysis for causal inference under unmeasured confounding and measurement error problems","group":"1"},{"id":"1250","x":"1.8616292","y":"11.198341","name":"Fair attribute classification through latent space de-biasing","group":"9"},{"id":"1251","x":"1.978606","y":"10.922048","name":"How we\'ve taught algorithms to see identity: Constructing race and gender in image databases for facial analysis","group":"9"},{"id":"1252","x":"3.2117655","y":"4.7560754","name":"Information retrieval system: An overview, issues, and challenges","group":"45"},{"id":"1253","x":"7.9991484","y":"5.047858","name":"An empirical study of refactoringchallenges and benefits at microsoft","group":"23"},{"id":"1254","x":"1.7117646","y":"7.9758","name":"Augmenting Neural Nets with Symbolic Synthesis: Applications to Few-Shot Learning","group":"-1"},{"id":"1255","x":"0.12118583","y":"10.45072","name":"Explaining the efficacy of counterfactually augmented data","group":"1"},{"id":"1256","x":"1.3928078","y":"7.0369434","name":"Shifting attention to accuracy can reduce misinformation online","group":"27"},{"id":"1257","x":"0.10663634","y":"9.445975","name":"Towards connecting use cases and methods in interpretable machine learning","group":"74"},{"id":"1258","x":"5.757196","y":"4.177585","name":"Houdini: Lifelong learning as program synthesis","group":"-1"},{"id":"1259","x":"1.6326368","y":"8.037353","name":"A semantic loss function for deep learning with symbolic knowledge","group":"-1"},{"id":"1260","x":"9.245877","y":"5.680747","name":"Comprehensive Integration of API Usage Patterns","group":"26"},{"id":"1261","x":"7.436213","y":"5.611076","name":"Googling for software development: What developers search for and what they find","group":"-1"},{"id":"1262","x":"3.4901762","y":"9.061643","name":"Predicting pragmatic reasoning in language games","group":"-1"},{"id":"1263","x":"0.58686066","y":"9.599248","name":"Deep learning saliency maps do not accurately highlight diagnostically relevant regions for medical image interpretation","group":"75"},{"id":"1264","x":"3.9484189","y":"8.697878","name":"Variability of worked examples and transfer of geometrical problem-solving skills: A cognitive-load approach.","group":"16"},{"id":"1265","x":"4.4246397","y":"8.714855","name":"Learning from worked-out examples: The effects of example variability and elicited self-explanations","group":"-1"},{"id":"1266","x":"3.998515","y":"8.65456","name":"Process-oriented worked examples: Improving transfer performance through enhanced understanding","group":"16"},{"id":"1267","x":"5.058894","y":"8.954338","name":"The variability effect: When instructional variability is advantageous","group":"-1"},{"id":"1268","x":"3.8198628","y":"8.848763","name":"Looking past yesterday\'s tomorrow: using futures studies methods to extend the research horizon","group":"-1"},{"id":"1269","x":"3.241465","y":"6.3868933","name":"Data comics for reporting controlled user studies in human-computer interaction","group":"-1"},{"id":"1270","x":"3.3678033","y":"4.3131075","name":"A bayesian approach to identifying representational errors","group":"32"},{"id":"1271","x":"4.634192","y":"7.8120174","name":"Implications for design","group":"39"},{"id":"1272","x":"4.988249","y":"8.080878","name":"Situated cognition and learning environments: Roles, structures, and implications for design","group":"-1"},{"id":"1273","x":"3.0332725","y":"8.309109","name":"Learning and transfer: A general role for analogical encoding.","group":"66"},{"id":"1274","x":"4.6972275","y":"8.678884","name":"Toward an instructionally oriented theory of example\u2010based learning","group":"-1"},{"id":"1275","x":"4.2045484","y":"8.704826","name":"Example-based learning in heuristic domains: A cognitive load theory account","group":"16"},{"id":"1276","x":"3.09175","y":"8.22139","name":"Avoiding missed opportunities in managerial life: Analogical training more powerful than individual case training","group":"66"},{"id":"1277","x":"5.340339","y":"9.226585","name":"Variation theory based approaches to teaching subject-specific vocabulary within differing practical subjects","group":"35"},{"id":"1278","x":"5.095761","y":"8.736962","name":"Patterns of variation in teaching the colour of light to primary 3 students","group":"36"},{"id":"1279","x":"5.2833767","y":"9.100367","name":"The merits of teaching mathematics with variation","group":"35"},{"id":"1280","x":"5.278514","y":"9.163666","name":"Variation theory: A theory of learning and a useful theoretical framework for chemical education research","group":"35"},{"id":"1281","x":"5.3281384","y":"9.233012","name":"Elaborating the concepts of part and whole in variation theory: The case of learning chinese characters","group":"35"},{"id":"1282","x":"2.4658694","y":"6.4585447","name":"The visual display of quantitative information","group":"68"},{"id":"1283","x":"2.539773","y":"6.363653","name":"A generic framework and library for exploration of small multiples through interactive piling","group":"68"},{"id":"1284","x":"2.6199293","y":"6.367045","name":"Pattern-driven navigation in 2D multiscale visualizations with scalable insets","group":"68"},{"id":"1285","x":"3.6888804","y":"6.732855","name":"The xerox star: A retrospective","group":"-1"},{"id":"1286","x":"3.7290661","y":"10.183681","name":"A survey of robot learning from demonstration","group":"57"},{"id":"1287","x":"3.6711397","y":"10.234652","name":"A survey of robot learning from demonstrations for human-robot collaboration","group":"57"},{"id":"1288","x":"4.165027","y":"8.087569","name":"Mind the theoretical gap: interpreting, using, and developing behavioral theory in HCI research","group":"38"},{"id":"1289","x":"8.331308","y":"5.3108435","name":"Why Google stores billions of lines of code in a single repository","group":"22"},{"id":"1290","x":"2.4476473","y":"6.3413105","name":"A tour through the visualization zoo: A survey of powerful visualization techniques, from the obvious to the obscure","group":"68"},{"id":"1291","x":"7.749287","y":"5.06454","name":"Identifying versions of libraries used in stack overflow code snippets","group":"23"},{"id":"1292","x":"7.464981","y":"4.9325995","name":"Semantic patches for adaptation of JavaScript programs to evolving libraries","group":"23"},{"id":"1293","x":"6.094847","y":"3.934566","name":"Learning programs from noisy data","group":"-1"},{"id":"1294","x":"0.8280905","y":"9.706376","name":"Learning explanatory rules from noisy data","group":"-1"},{"id":"1295","x":"5.846555","y":"3.5115492","name":"Inductive learning of answer set programs from noisy examples","group":"42"},{"id":"1296","x":"2.5210252","y":"6.5298424","name":"Low-level components of analytic activity in information visualization","group":"-1"},{"id":"1297","x":"2.0340521","y":"7.3479424","name":"The exploratory labeling assistant: Mixed-initiative label curation with large document collections","group":"-1"},{"id":"1298","x":"3.5583405","y":"4.8931446","name":"Clustering versus faceted categories for information exploration","group":"-1"},{"id":"1299","x":"7.319171","y":"3.8217702","name":"Learning and evaluating contextual embedding of source code","group":"24"},{"id":"1300","x":"7.1387835","y":"4.179776","name":"Ams: Generating automl search spaces from weak specifications","group":"-1"},{"id":"1301","x":"0.6652891","y":"8.2993145","name":"Aimmx: Artificial intelligence model metadata extractor","group":"71"},{"id":"1302","x":"3.166845","y":"7.444916","name":"How data scientistswork together with domain experts in scientific collaborations: To find the right answer or to ask the right question?","group":"49"},{"id":"1303","x":"3.3727775","y":"7.378866","name":"Collaboratories to support distributed science: the example of international HIV/AIDS research","group":"49"},{"id":"1304","x":"3.5243576","y":"7.3660073","name":"Does distance still matter? Revisiting the CSCW fundamentals on distributed collaboration","group":"-1"},{"id":"1305","x":"7.580621","y":"6.0348926","name":"Managing the development of large software systems: concepts and techniques","group":"40"},{"id":"1306","x":"7.6102285","y":"5.9636126","name":"The waterfall model in large-scale development","group":"40"},{"id":"1307","x":"2.3576071","y":"3.6877735","name":"Tailoring word alignments to syntactic machine translation","group":"6"},{"id":"1308","x":"2.3349998","y":"3.6451106","name":"Better word alignments with supervised ITG models","group":"6"},{"id":"1309","x":"2.7144392","y":"3.8097446","name":"Supervised learning of complete morphological paradigms","group":"-1"},{"id":"1310","x":"2.3447545","y":"3.6206937","name":"The complexity of phrase alignment problems","group":"6"},{"id":"1311","x":"2.2672162","y":"3.7309113","name":"Inducing sentence structure from parallel corpora for reordering","group":"6"},{"id":"1312","x":"1.2447176","y":"8.136514","name":"Painless unsupervised learning with features","group":"-1"},{"id":"1313","x":"1.8067926","y":"8.040323","name":"Orbit: A real-world few-shot dataset for teachable object recognition","group":"69"},{"id":"1314","x":"2.0794609","y":"8.11456","name":"A large-scale corpus for conversation disentanglement","group":"69"},{"id":"1315","x":"5.9264336","y":"5.2087474","name":"Interactive Assignments for Teaching Structured Neural NLP","group":"-1"},{"id":"1316","x":"1.190478","y":"8.195968","name":"Ratt: Leveraging unlabeled data to guarantee generalization","group":"-1"},{"id":"1317","x":"1.6246138","y":"5.916603","name":"User ex machina: Simulation as a design probe in human-in-the-loop text analytics","group":"-1"},{"id":"1318","x":"1.8303514","y":"7.060446","name":"Viral visualizations: How coronavirus skeptics use orthodox data practices to promote unorthodox science online","group":"-1"},{"id":"1319","x":"3.213507","y":"9.648508","name":"Trade-offs for substituting a human with an agent in a pair programming context: the good, the bad, and the ugly","group":"56"},{"id":"1320","x":"2.6063547","y":"10.222465","name":"Designing AI to Work with or for People?","group":"55"},{"id":"1321","x":"3.2556129","y":"5.866102","name":"Special interest group on visualization grammars","group":"61"},{"id":"1322","x":"5.608874","y":"8.153725","name":"\u201cIt feels like I am talking into a void\u201d: Understanding interaction gaps in synchronous online classrooms","group":"36"},{"id":"1323","x":"2.8745227","y":"9.944361","name":"Onboarding Materials as Cross-functional Boundary Objects for Developing AI Assistants","group":"-1"},{"id":"1324","x":"3.560556","y":"8.369937","name":"Ai as social glue: Uncovering the roles of deep generative ai during social music composition","group":"31"},{"id":"1325","x":"4.9977517","y":"7.1087484","name":"Rubyslippers: Supporting content-based voice navigation for how-to videos","group":"8"},{"id":"1326","x":"3.431941","y":"8.171464","name":"Constructing Embodied Algebra by Sketching","group":"-1"},{"id":"1327","x":"4.2236066","y":"6.528351","name":"Scraps: Enabling Mobile Capture, Contextualization, and Use of Document Resources","group":"-1"},{"id":"1328","x":"7.891261","y":"5.0605464","name":"The usability (or not) of refactoring tools","group":"23"},{"id":"1329","x":"6.6272917","y":"6.7275352","name":"Csf: Formative feedback in autograding","group":"43"},{"id":"1330","x":"3.091515","y":"6.789922","name":"Beyond show of hands: Engaging viewers via expressive and scalable visual communication in live streaming","group":"-1"},{"id":"1331","x":"3.3509793","y":"7.301121","name":"Videoconferencing in the Age of COVID: How Well Has It Worked Out?","group":"49"},{"id":"1332","x":"3.9503238","y":"7.338242","name":"Think-Aloud Computing: Supporting Rich and Low-Effort Knowledge Capture","group":"-1"},{"id":"1333","x":"4.3392105","y":"7.392763","name":"PatchProv: Supporting Improvisational Design Practices for Modern Quilting","group":"29"},{"id":"1334","x":"5.098527","y":"5.5707827","name":"Glinda: Supporting data science with live programming, GUIs and a Domain-specific Language","group":"14"},{"id":"1335","x":"4.881645","y":"5.545634","name":"Dsworkflow: A framework for capturing data scientists\u2019 workflows","group":"14"},{"id":"1336","x":"4.9001026","y":"4.8296413","name":"Spreadsheet comprehension: Guesswork, giving up and going back to the author","group":"20"},{"id":"1337","x":"3.5430853","y":"5.4313564","name":"Effective interfaces for student-driven revision sessions for argumentative writing","group":"46"},{"id":"1338","x":"4.7341065","y":"5.515791","name":"Toonnote: Improving communication in computational notebooks using interactive data comics","group":"14"},{"id":"1339","x":"1.083184","y":"10.474571","name":"Operationalizing human-centered perspectives in explainable AI","group":"62"},{"id":"1340","x":"1.4184183","y":"10.217271","name":"Interfaces for explanations in human-AI interaction: proposing a design evaluation approach","group":"-1"},{"id":"1341","x":"7.8493743","y":"4.5929666","name":"Learning to find naming issues with big code and small supervision","group":"23"},{"id":"1342","x":"5.958216","y":"4.604728","name":"Introduction to neural network verification","group":"28"},{"id":"1343","x":"0.84455466","y":"6.673073","name":"Crank That Feed: A Physical Intervention for Active Twitter Users","group":"3"},{"id":"1344","x":"3.8814535","y":"4.5094104","name":"CoNotate: Suggesting Queries Based on Notes Promotes Knowledge Discovery","group":"-1"},{"id":"1345","x":"3.5316918","y":"7.44323","name":"Winder: linking speech and visual objects to support communication in asynchronous collaboration","group":"-1"},{"id":"1346","x":"4.641779","y":"6.671312","name":"\u201cI Am Iron Man\u201d Priming Improves the Learnability and Memorability of User-Elicited Gestures","group":"-1"},{"id":"1347","x":"0.9098033","y":"10.382051","name":"Abstraction, validation, and generalization for explainable artificial intelligence","group":"62"},{"id":"1348","x":"1.965114","y":"11.119237","name":"Image cropping on twitter: fairness metrics, their limitations, and the importance of representation, design, and agency","group":"9"},{"id":"1349","x":"2.976216","y":"9.150779","name":"Control of mental representations in human planning","group":"-1"},{"id":"1350","x":"2.9705784","y":"8.322012","name":"Shades of confusion: Lexical uncertainty modulates ad hoc coordination in an interactive communication task","group":"66"},{"id":"1351","x":"6.6709604","y":"4.545439","name":"Rules generation using learned repetitive code edits","group":"-1"},{"id":"1352","x":"0.7640841","y":"10.299474","name":"Explainable dynamic programming","group":"-1"},{"id":"1353","x":"0.12962092","y":"10.426852","name":"Convex optimization for actionable\\\\& plausible counterfactual explanations","group":"1"},{"id":"1354","x":"0.57004917","y":"10.0284","name":"Explainable machine learning with prior knowledge: An overview","group":"-1"},{"id":"1355","x":"8.56096","y":"4.017222","name":"Automatic program repair as semantic suggestions: An empirical study","group":"7"},{"id":"1356","x":"3.5701559","y":"10.290237","name":"Simulation for robotics test automation: Developer perspectives","group":"-1"},{"id":"1357","x":"3.053345","y":"6.1873336","name":"Visual representation of negation: real world data analysis on comic image design","group":"61"},{"id":"1358","x":"3.7859247","y":"10.235729","name":"Accelerate then imitate: Learning from task and motion planning","group":"57"},{"id":"1359","x":"2.2161126","y":"5.0785246","name":"Utilizing Text Structure for Information Extraction","group":"-1"},{"id":"1360","x":"1.1360521","y":"9.767677","name":"Probabilistic sufficient explanations","group":"72"},{"id":"1361","x":"1.7662866","y":"5.6954474","name":"Towards integrated, interactive, and extensible text data analytics with LEAM","group":"63"},{"id":"1362","x":"2.8320036","y":"6.6020927","name":"Understanding and Evaluating the User Data Exploration Experience with Lux","group":"-1"},{"id":"1363","x":"2.921071","y":"10.132679","name":"Towards teachable autonomous agents","group":"-1"},{"id":"1364","x":"2.446734","y":"9.438435","name":"Extending rational models of communication from beliefs to actions","group":"54"},{"id":"1365","x":"2.904352","y":"7.8666115","name":"Linguistic metaphors shape attitudes towards immigration","group":"52"},{"id":"1366","x":"4.926779","y":"5.024796","name":"Spreadsheet Bubbles: Showing Contextually Relevant Data During Formula Editing","group":"20"},{"id":"1367","x":"2.8105865","y":"4.2036424","name":"Swords: A benchmark for lexical substitution with improved data coverage and quality","group":"-1"},{"id":"1368","x":"2.985615","y":"5.56706","name":"FanfictionNLP: A text processing pipeline for fanfiction","group":"-1"},{"id":"1369","x":"3.6759343","y":"10.151023","name":"Robustly learning composable options in deep reinforcement learning","group":"57"},{"id":"1370","x":"2.9098873","y":"8.298403","name":"The neural blending of words and movement: event-related potential signatures of semantic and action processes during motor\u2013language coupling","group":"66"},{"id":"1371","x":"1.9024047","y":"8.073071","name":"Flexible Compositional Learning of Structured Visual Concepts","group":"69"},{"id":"1372","x":"4.9804506","y":"5.486797","name":"Margo: Margin Notes for Computational Notebooks","group":"14"},{"id":"1373","x":"2.973472","y":"5.7588487","name":"Reading and writing fluid hypertext narratives","group":"-1"},{"id":"1374","x":"3.7812576","y":"6.204422","name":"Fluid annotations in an open world","group":"12"},{"id":"1375","x":"3.9459913","y":"6.135793","name":"Fluid annotations through open hypermedia: using and extending emerging web standards","group":"12"},{"id":"1376","x":"4.0350056","y":"6.11738","name":"Creating and Styling Fluid Annotations on Third-Party Web","group":"12"},{"id":"1377","x":"3.9284506","y":"6.25169","name":"Fluid links for informed and incremental link transitions","group":"12"},{"id":"1378","x":"3.5455658","y":"4.4207096","name":"IntelliCAT: Intelligent machine translation post-editing with quality estimation and translation suggestion","group":"-1"},{"id":"1379","x":"2.453527","y":"6.9239316","name":"Crowdsourcing urban narratives for a post-pandemic world","group":"-1"},{"id":"1380","x":"7.878859","y":"4.7392597","name":"Mining Software Artifacts for use in Automated Machine Learning","group":"23"},{"id":"1381","x":"0.6576111","y":"6.9010754","name":"A web-based group cognitive behavioral therapy intervention for symptoms of anxiety and depression among university students: open-label, pragmatic trial","group":"3"},{"id":"1382","x":"2.3044512","y":"4.110725","name":"Linguistic Threat Assessment: Understanding Targeted Violence through Computational Linguistics","group":"-1"},{"id":"1383","x":"6.272008","y":"4.5219226","name":"Work in Progress: A Unified Algebraic Framework Of Program Analyses","group":"-1"},{"id":"1384","x":"8.489941","y":"4.0126896","name":"Self-supervised bug detection and repair","group":"7"},{"id":"1385","x":"6.5366035","y":"6.0773163","name":"A Layered Model of Comprehension in Collaborative Software Development: Programs, Programming, and Programmers","group":"43"},{"id":"1386","x":"2.3195472","y":"4.1938095","name":"1\xb7 Noisy Words","group":"-1"},{"id":"1387","x":"7.0912776","y":"6.084058","name":"Visual Resume: Exploring developers\u2019 online contributions for hiring","group":"40"},{"id":"1388","x":"4.269451","y":"6.809092","name":"EMBody: A data-centric toolkit for EMG-Based interface prototyping and experimentation","group":"10"},{"id":"1389","x":"8.135312","y":"5.476386","name":"Student experiences with github and stack overflow: An exploratory study","group":"-1"},{"id":"1390","x":"6.29826","y":"3.726842","name":"Program synthesis from natural language using recurrent neural networks","group":"41"},{"id":"1391","x":"8.538413","y":"4.117485","name":"An empirical investigation of command-line customization","group":"7"},{"id":"1392","x":"3.0170302","y":"5.760237","name":"Guidelines for effective usage of text highlighting techniques","group":"-1"},{"id":"1393","x":"2.5908034","y":"9.051294","name":"Lines of Thought","group":"-1"},{"id":"1394","x":"0.12923123","y":"9.089903","name":"Understanding instance-based interpretability of variational auto-encoders","group":"-1"},{"id":"1395","x":"7.0108204","y":"7.198477","name":"Techniques for analyzing the proficiency of users of software applications in real-time","group":"34"},{"id":"1396","x":"4.372272","y":"8.019066","name":"Pedagogical strategies for reflection in project-based HCI education with end users","group":"38"},{"id":"1397","x":"1.9093248","y":"9.512777","name":"Confirmation bias: why psychiatrists stick to wrong preliminary diagnoses","group":"59"},{"id":"1398","x":"2.163838","y":"8.643396","name":"The role of explanation in discovery and generalization: Evidence from category learning","group":"65"},{"id":"1399","x":"2.2781909","y":"8.639183","name":"The role of explanation in discovery and generalization: Evidence from category learning: Erratum.","group":"65"},{"id":"1400","x":"3.2351754","y":"8.51428","name":"A closed-loop adaptive brain-computer interface framework: Improving the classifier with the use of error-related potentials","group":"-1"},{"id":"1401","x":"3.545458","y":"8.43091","name":"An in situ, child-led intervention to promote emotion regulation competence in middle childhood: Protocol for an exploratory randomized controlled trial","group":"-1"},{"id":"1402","x":"2.1036377","y":"9.886003","name":"A Survey of Human\u2010Centered Evaluations in Human\u2010Centered Machine Learning","group":"59"},{"id":"1403","x":"4.9451714","y":"5.5193634","name":"On computational notebooks to empower physical computing novices","group":"14"},{"id":"1404","x":"7.9676147","y":"5.5185146","name":"Assessing Function Names and Quantifying the Relationship Between Identifiers and Their Functionality to Improve Them","group":"-1"},{"id":"1405","x":"6.344629","y":"7.9085994","name":"What\'s In It for the Learners? Evidence from a Randomized Field Experiment on Learnersourcing Questions in a MOOC","group":"17"},{"id":"1406","x":"0.8704884","y":"5.9504986","name":"Twics: Lightweight entity mention detection in targeted twitter streams","group":"50"},{"id":"1407","x":"2.1808705","y":"6.5985346","name":"TimeElide: Visual Analysis of Non-Contiguous Time Series Slices","group":"-1"},{"id":"1408","x":"3.6492712","y":"4.0635786","name":"Zero-shot task adaptation using natural language","group":"-1"},{"id":"1409","x":"0.118965976","y":"10.436109","name":"Counterfactual explanations can be manipulated","group":"1"},{"id":"1410","x":"0.1283039","y":"10.441232","name":"Polyjuice: Generating counterfactuals for explaining, evaluating, and improving models","group":"1"},{"id":"1411","x":"2.3723152","y":"7.1284328","name":"Exploring User Perception of Causality in Automated Data Insights","group":"-1"},{"id":"1412","x":"2.4270341","y":"9.389031","name":"Using large-scale experiments and machine learning to discover theories of human decision-making","group":"54"},{"id":"1413","x":"6.3812346","y":"5.9702826","name":"Programming puzzles","group":"43"},{"id":"1414","x":"6.0095816","y":"3.8547404","name":"Program Sketching by Automatically Generating Mocks from Tests","group":"42"},{"id":"1415","x":"0.65223247","y":"8.386853","name":"Interactive feature selection for training a machine learning system and displaying discrepancies within the context of the document","group":"71"},{"id":"1416","x":"5.298007","y":"8.520196","name":"Curriculum Design for Teaching via Demonstrations: Theory and Applications","group":"36"},{"id":"1417","x":"2.4676309","y":"6.1554956","name":"Readings in information visualization: using vision to think","group":"68"},{"id":"1418","x":"3.2964818","y":"6.2802496","name":"Happy\ud83d\ude0a, Sad\ud83d\ude25 or Pizza\ud83c\udf55: A Review of Emoji Effects on Reading Times and their Relation to Mood","group":"-1"},{"id":"1419","x":"3.0879383","y":"6.059524","name":"The essentials of clear storytelling in comics","group":"61"},{"id":"1420","x":"1.6175381","y":"8.452853","name":"Therapeutics data commons: Machine learning datasets and tasks for drug discovery and development","group":"-1"},{"id":"1421","x":"0.71491116","y":"10.229382","name":"Explaining by imitating: Understanding decisions by interpretable policy learning","group":"-1"},{"id":"1422","x":"3.710423","y":"10.007616","name":"Self-paced context evaluation for contextual reinforcement learning","group":"57"},{"id":"1423","x":"2.5884306","y":"4.418483","name":"Evaluation Examples Are Not Equally Informative: How Should That Change NLP Leaderboards?","group":"-1"},{"id":"1424","x":"2.033055","y":"10.677177","name":"Algorithmic bias: Senses, sources, solutions","group":"-1"},{"id":"1425","x":"2.5138443","y":"9.97273","name":"In the hearts and minds of employees: A model of pre-adoptive appraisal toward artificial intelligence in organizations","group":"55"},{"id":"1426","x":"6.2790704","y":"3.66492","name":"Graph neural networks in program analysis","group":"41"},{"id":"1427","x":"1.8606478","y":"4.479561","name":"Corpora evaluation and system bias detection in multi-document summarization","group":"13"},{"id":"1428","x":"0.86938924","y":"5.9063306","name":"An evaluation of document clustering and topic modelling in two online social networks: Twitter and Reddit","group":"50"},{"id":"1429","x":"2.1959167","y":"5.4579616","name":"A taxonomy generation tool for semantic visual analysis of large corpus of documents","group":"64"},{"id":"1430","x":"2.5704825","y":"4.987173","name":"The METER corpus: a corpus for analysing journalistic text reuse","group":"-1"},{"id":"1431","x":"7.317469","y":"5.9547","name":"An empirical study of developer discussions on low-code software development challenges","group":"40"},{"id":"1432","x":"6.9383454","y":"5.9705133","name":"Supporting the understanding and comparison of low-code development platforms","group":"40"},{"id":"1433","x":"1.0700958","y":"9.064914","name":"Interpreting expert annotation differences in animal behavior","group":"-1"},{"id":"1434","x":"0.9979351","y":"9.889699","name":"Generating contrastive explanations for inductive logic programming based on a near miss approach","group":"72"},{"id":"1435","x":"5.0243673","y":"7.8708253","name":"Towards Bringing Human-Centered Design to K-12 and Post-Secondary Education","group":"-1"},{"id":"1436","x":"2.868422","y":"8.671342","name":"Children\u2019s exploratory play tracks the discriminability of hypotheses","group":"58"},{"id":"1437","x":"5.393407","y":"5.3170724","name":"Communicating natural programs to humans and machines","group":"-1"},{"id":"1438","x":"4.0413046","y":"6.599886","name":"Post-wimp interaction for information visualization","group":"-1"},{"id":"1439","x":"1.2506158","y":"9.260505","name":"You\u2019d better stop! Understanding human reliance on machine learning models under covariate shift","group":"-1"},{"id":"1440","x":"8.604668","y":"3.9619417","name":"Break-it-fix-it: Unsupervised learning for program repair","group":"7"},{"id":"1441","x":"9.351205","y":"5.5139003","name":"PatternLens: Inferring evolutive patterns from web API usage logs","group":"26"},{"id":"1442","x":"1.3103579","y":"9.729078","name":"How can I choose an explainer? An application-grounded evaluation of post-hoc explanations","group":"72"},{"id":"1443","x":"0.960123","y":"10.216108","name":"One explanation does not fit all: A toolkit and taxonomy of ai explainability techniques","group":"62"},{"id":"1444","x":"0.4735863","y":"8.969617","name":"Accurate and robust feature importance estimation under distribution shifts","group":"-1"},{"id":"1445","x":"0.3345772","y":"9.158178","name":"Local Post-hoc Interpretability for Black-box Classifiers","group":"-1"},{"id":"1446","x":"0.5301077","y":"9.897544","name":"c-Eval: A unified metric to evaluate feature-based explanations via perturbation","group":"75"},{"id":"1447","x":"1.3175561","y":"9.605835","name":"On the Objective Evaluation of Post Hoc Explainers.","group":"72"},{"id":"1448","x":"1.3559026","y":"7.001729","name":"Towards a Unified Framework for the UX Design of News Credibility Tools","group":"27"},{"id":"1449","x":"0.47508097","y":"9.932514","name":"Towards a rigorous theoretical analysis and evaluation of gnn explanations","group":"75"},{"id":"1450","x":"0.44281697","y":"9.0404415","name":"The holdout randomization test for feature selection in black box models","group":"-1"},{"id":"1451","x":"3.59902","y":"8.306204","name":"Designing co-creative ai for virtual environments","group":"31"},{"id":"1452","x":"4.630154","y":"7.7315826","name":"Framing Creative Work: Helping Novices Frame Better Problems through Interactive Scaffolding","group":"39"},{"id":"1453","x":"5.744703","y":"5.687807","name":"Filling typed holes with live GUIs","group":"-1"},{"id":"1454","x":"7.1710258","y":"5.880224","name":"Assessing developer expertise from the statistical distribution of programming syntax patterns","group":"40"},{"id":"1455","x":"5.9622335","y":"3.6268954","name":"Dreamcoder: Bootstrapping inductive program synthesis with wake-sleep library learning","group":"-1"},{"id":"1456","x":"3.1341667","y":"7.6321955","name":"Eye see what you see: Exploring how bi-directional augmented reality gaze visualisation influences co-located symmetric collaboration","group":"-1"},{"id":"1457","x":"6.5966663","y":"6.1960583","name":"Culturally responsive debugging: A method to support cultural experts\u2019 early engagement with code","group":"43"},{"id":"1458","x":"6.000824","y":"6.3859024","name":"NIME 2021","group":"43"},{"id":"1459","x":"1.4508994","y":"6.9359264","name":"Journalism as eschatology: Kairos and reporting a materially changing world","group":"27"},{"id":"1460","x":"2.7855484","y":"7.008634","name":"Boomerang: Proactive insight-based recommendations for guiding conversational data analysis","group":"-1"},{"id":"1461","x":"3.2915962","y":"6.2155476","name":"The Time Course and Interaction of Emoji and Text Processing during Natural Reading: Evidence from Eye Movements","group":"-1"},{"id":"1462","x":"8.6708355","y":"3.9005246","name":"Understanding and Improving Automatic Program Repair: A Study of Code-removal Patches and a New Exception-driven Fault Localization Approach","group":"7"},{"id":"1463","x":"0.5056616","y":"9.649863","name":"Amazon sagemaker clarify: Machine learning bias detection and explainability in the cloud","group":"75"},{"id":"1464","x":"4.7165985","y":"5.006636","name":"Coco: Interactive exploration of conformance constraints for data understanding and data cleaning","group":"-1"},{"id":"1465","x":"3.752177","y":"10.136973","name":"Pebble: Feedback-efficient interactive reinforcement learning via relabeling experience and unsupervised pre-training","group":"57"},{"id":"1466","x":"8.516165","y":"5.4848776","name":"What makes a good Node. js package? Investigating Users, Contributors, and Runnability","group":"22"},{"id":"1467","x":"0.9564152","y":"8.8963785","name":"Visualizing graph neural networks with corgie: Corresponding a graph to its embedding","group":"-1"},{"id":"1468","x":"8.624832","y":"3.9158213","name":"VarFix: balancing edit expressiveness and search effectiveness in automated program repair","group":"7"},{"id":"1469","x":"0.12028202","y":"10.403291","name":"On the connections between counterfactual explanations and adversarial examples","group":"1"},{"id":"1470","x":"0.09341908","y":"10.463658","name":"Model-based counterfactual synthesizer for interpretation","group":"1"},{"id":"1471","x":"2.9737177","y":"8.764237","name":"Clustering and the efficient use of cognitive resources","group":"58"},{"id":"1472","x":"2.6278505","y":"9.906048","name":"How do children\u2019s perceptions of machine intelligence change when training and coding smart programs?","group":"55"},{"id":"1473","x":"3.0435524","y":"8.585561","name":"Executive function, language, and the toddler\u2019s discovery of representational drawing","group":"58"},{"id":"1474","x":"2.1533504","y":"8.933244","name":"Here\u2019s what I\u2019ve learned: Asking questions that reveal reward learning","group":"-1"},{"id":"1475","x":"9.22183","y":"5.978396","name":"Discovering API Usability Problems at Scale","group":"26"},{"id":"1476","x":"2.322862","y":"9.340044","name":"Modeling the mistakes of boundedly rational agents within a Bayesian theory of mind","group":"54"},{"id":"1477","x":"6.468798","y":"4.2327127","name":"Tfix: Learning to fix coding errors with a text-to-text transformer","group":"-1"},{"id":"1478","x":"1.3354281","y":"7.0075965","name":"Measuring Belief in Fake News in Real-Time Invited Talk","group":"27"},{"id":"1479","x":"3.8878102","y":"8.282239","name":"Sh\xf6wn: Adaptive Conceptual Guidance Aids Example Use in Creative Tasks","group":"-1"},{"id":"1480","x":"3.8921783","y":"8.9008665","name":"Using narrative-based gamification to motivate users in language learning","group":"-1"},{"id":"1481","x":"0.14721723","y":"10.341904","name":"Contrastive counterfactual visual explanations with overdetermination","group":"1"},{"id":"1482","x":"0.076135695","y":"10.46307","name":"Counterfactual explanations for arbitrary regression models","group":"1"},{"id":"1483","x":"1.968973","y":"11.1053095","name":"What will it take to generate fairness-preserving explanations?","group":"9"},{"id":"1484","x":"9.297896","y":"5.6190104","name":"Chatbot or Chat-Blocker: Predicting chatbot popularity before deployment","group":"26"},{"id":"1485","x":"1.9827094","y":"8.784478","name":"Which Echo Chamber? Regions of Attraction in Learning with Decision-Dependent Distributions","group":"-1"},{"id":"1486","x":"0.41751492","y":"9.354754","name":"The values encoded in machine learning research","group":"-1"},{"id":"1487","x":"1.1279963","y":"8.654844","name":"Promises and pitfalls of black-box concept learning models","group":"-1"},{"id":"1488","x":"1.2034988","y":"9.770037","name":"Explanations in Relational Domains","group":"72"},{"id":"1489","x":"3.1892366","y":"6.4175687","name":"Emojis and words work together in the service of communication","group":"-1"},{"id":"1490","x":"5.2516046","y":"8.733703","name":"Teaching versus active learning: A computational analysis of conditions that affect learning","group":"36"},{"id":"1491","x":"4.741427","y":"8.8469095","name":"A rational account of pedagogical reasoning: Teaching by, and learning from, examples","group":"-1"},{"id":"1492","x":"1.7600719","y":"8.9355345","name":"Generalizing the theory of cooperative inference","group":"-1"},{"id":"1493","x":"6.7553577","y":"4.299014","name":"Perfection not required? human-ai partnerships in code translation","group":"-1"},{"id":"1494","x":"0.59208024","y":"6.675812","name":"Predicting depression and suicide ideation in the Canadian population using social media data","group":"3"},{"id":"1495","x":"4.110245","y":"8.467118","name":"A Conversation with CHCCS 2021 Achievement Award Winner Tamara Munzner","group":"16"},{"id":"1496","x":"8.227406","y":"4.066019","name":"EqFix: Fixing LATEX Equation Errors by Examples","group":"7"},{"id":"1497","x":"2.6504052","y":"9.834658","name":"Human-AI Complementarity in Hybrid Intelligence Systems: A Structured Literature Review.","group":"55"},{"id":"1498","x":"3.0951076","y":"6.5410028","name":"Computational Methods to Understand the Association Between Emojis and Emotions","group":"-1"},{"id":"1499","x":"3.1550126","y":"10.0134535","name":"Spoken language interaction with robots: Recommendations for future research","group":"56"},{"id":"1500","x":"1.145045","y":"8.245696","name":"Tractable computation of expected kernels","group":"-1"},{"id":"1501","x":"0.284817","y":"9.253588","name":"Model Positionality: A Novel Framework for Data Science with Subjective Target Concepts","group":"-1"},{"id":"1502","x":"4.6654987","y":"7.786327","name":"Communicating design-based research: A workshop for creating and interpreting design arguments","group":"39"},{"id":"1503","x":"0.7767578","y":"5.8411717","name":"On-the-Fly Rectification for Robust Large-Vocabulary Topic Inference","group":"50"},{"id":"1504","x":"5.762465","y":"3.4446135","name":"A large-scale benchmark for few-shot program induction and synthesis","group":"42"},{"id":"1505","x":"0.76078796","y":"5.8164287","name":"Is automated topic model evaluation broken? the incoherence of coherence","group":"50"},{"id":"1506","x":"0.11890023","y":"10.445456","name":"Counterfactual explanations in sequential decision making under uncertainty","group":"1"},{"id":"1507","x":"0.6440132","y":"9.804416","name":"Studying and exploiting the relationship between model accuracy and explanation quality","group":"75"},{"id":"1508","x":"3.2649739","y":"4.7564836","name":"Deep extrapolation for attribute-enhanced generation","group":"45"},{"id":"1509","x":"1.1037446","y":"8.932236","name":"Improving coherence and consistency in neural sequence models with dual-system, neuro-symbolic reasoning","group":"-1"},{"id":"1510","x":"0.6717071","y":"9.53295","name":"Explaining mispredictions of machine learning models using rule induction","group":"75"},{"id":"1511","x":"6.80233","y":"4.0248685","name":"Evaluating large language models trained on code","group":"37"},{"id":"1512","x":"2.218859","y":"8.629361","name":"Certified perception for autonomous cars","group":"65"},{"id":"1513","x":"3.4313955","y":"7.263601","name":"Pasteur\'s quadrant: Basic science and technological innovation","group":"49"},{"id":"1514","x":"4.608502","y":"7.861978","name":"Design-based research process: Problems, phases, and applications","group":"39"},{"id":"1515","x":"1.6955234","y":"9.648588","name":"Uncertainty quantification 360: A holistic toolkit for quantifying and communicating the uncertainty of ai","group":"-1"},{"id":"1516","x":"1.3103112","y":"10.457537","name":"Expanding explainability: Towards social transparency in ai systems","group":"62"},{"id":"1517","x":"0.66059935","y":"8.346599","name":"Model lineupper: Supporting interactive model comparison at multiple levels for automl","group":"71"},{"id":"1518","x":"1.3166337","y":"10.409902","name":"Question-driven design process for explainable AI user experiences","group":"62"},{"id":"1519","x":"0.9681159","y":"10.228458","name":"Explainable active learning (xal) toward ai explanations as interfaces for machine teachers","group":"62"},{"id":"1520","x":"2.18366","y":"7.4931126","name":"Uncertainty as a form of transparency: Measuring, communicating, and using uncertainty","group":"-1"},{"id":"1521","x":"1.482596","y":"10.427603","name":"Questioning the AI: informing design practices for explainable AI user experiences","group":"-1"},{"id":"1522","x":"1.7254543","y":"9.804924","name":"Effect of confidence and explanation on accuracy and trust calibration in AI-assisted decision making","group":"-1"},{"id":"1523","x":"2.1483831","y":"10.320855","name":"Enabling value sensitive AI systems through participatory design fictions","group":"51"},{"id":"1524","x":"7.199306","y":"7.17594","name":"SimGrade: Using Code Similarity Measures for More Accurate Human Grading.","group":"34"},{"id":"1525","x":"5.0962744","y":"6.074828","name":"Understanding the challenges and needs of programmers writing web automation scripts","group":"11"},{"id":"1526","x":"2.5203402","y":"6.323366","name":"Inventing discovery tools: combining information visualization with data mining","group":"68"},{"id":"1527","x":"1.9061844","y":"5.4675627","name":"Conceptual biology, hypothesis discovery, and text mining: Swanson\'s legacy","group":"63"},{"id":"1528","x":"6.246659","y":"6.003713","name":"Lessons Learned From Using Reprogrammable Prototypes With End-User Developers","group":"43"},{"id":"1529","x":"6.7745323","y":"6.5627904","name":"Teaching and assessing programming language tracing","group":"43"},{"id":"1530","x":"1.2805319","y":"8.0550785","name":"Self-supervised noisy label learning for source-free unsupervised domain adaptation","group":"-1"},{"id":"1531","x":"9.152248","y":"6.3725057","name":"On the limited impact of visualizing encryption: Perceptions of E2E messaging security","group":"-1"},{"id":"1532","x":"5.783513","y":"3.722734","name":"Bottom-up synthesis of recursive functional programs using angelic execution","group":"42"},{"id":"1533","x":"0.3769554","y":"9.582089","name":"How Teams Communicate about the Quality of ML Models: A Case Study at an International Technology Company","group":"74"},{"id":"1534","x":"0.6192311","y":"9.35844","name":"Attribution and Generation of Saliency Visualizations for Machine-Learning Models","group":"75"},{"id":"1535","x":"3.4423506","y":"10.317132","name":"BMT: Behavior driven development-based metamorphic testing for autonomous driving models","group":"56"},{"id":"1536","x":"1.3780822","y":"7.318484","name":"The backfire effect after correcting misinformation is strongly associated with reliability.","group":"-1"},{"id":"1537","x":"6.683336","y":"6.7137127","name":"Current Trends in Online Programming Languages Learning Tools: A Systematic Literature Review","group":"43"},{"id":"1538","x":"3.4099383","y":"9.778608","name":"Comparison-based conversational recommender system with relative bandit feedback","group":"-1"},{"id":"1539","x":"3.3688736","y":"7.4647217","name":"Being Together in Place as a Catalyst for Scientific Advance","group":"49"},{"id":"1540","x":"0.7115992","y":"6.8791866","name":"Designing asynchronous remote support for behavioral activation in teenagers with depression: formative study","group":"3"},{"id":"1541","x":"0.35497648","y":"9.439156","name":"Intuitively assessing ml model reliability through example-based explanations and editing model inputs","group":"-1"},{"id":"1542","x":"6.946107","y":"7.1396356","name":"Can I Code? User Experience of an Assessment Platform for Programming Assignments (Short Paper)","group":"34"},{"id":"1543","x":"1.8227088","y":"9.488077","name":"The well-built clinical question: a key to evidence-based decisions","group":"59"},{"id":"1544","x":"6.061135","y":"7.364836","name":"Design for Just-In-Time: Resource Design for Self-Teaching Computer Science and Online Learning","group":"-1"},{"id":"1545","x":"0.69348466","y":"9.148913","name":"Visualizing examples of deep neural networks at scale","group":"75"},{"id":"1546","x":"2.4311886","y":"5.750104","name":"Trains of thought: Generating information maps","group":"64"},{"id":"1547","x":"2.4573061","y":"5.8808556","name":"Information cartography: creating zoomable, large-scale maps of information","group":"-1"},{"id":"1548","x":"2.3042717","y":"3.658405","name":"Intra-language text alignment using ialigner","group":"6"},{"id":"1549","x":"2.3334084","y":"4.9761815","name":"A survey of text alignment visualization","group":"-1"},{"id":"1550","x":"2.2215545","y":"4.6098623","name":"Computer-supported collation of modern manuscripts: CollateX and the Beckett Digital Manuscript Project","group":"-1"},{"id":"1551","x":"2.1197457","y":"6.0436525","name":"TRAViz: A visualization for variant graphs","group":"60"},{"id":"1552","x":"2.1048157","y":"6.078198","name":"TRAViz: A visualization for variant graphs","group":"60"},{"id":"1553","x":"1.8520435","y":"3.425918","name":"Multiple Sequence Alignment for characterizing the linear structure of revision","group":"6"},{"id":"1554","x":"2.460556","y":"5.6231294","name":"Designing close and distant reading visualizations for text re-use","group":"64"},{"id":"1555","x":"5.357757","y":"9.2277775","name":"Analysis of variation significance in artificial traditions using Stemmaweb","group":"35"},{"id":"1556","x":"8.221915","y":"4.609598","name":"The versioning machine","group":"-1"},{"id":"1557","x":"8.184896","y":"4.8796597","name":"Re-envisioning versioning: a scholar\u2019s toolkit","group":"23"},{"id":"1558","x":"3.283426","y":"6.7723365","name":"On close and distant reading in digital humanities: A survey and future challenges","group":"-1"},{"id":"1559","x":"3.3463478","y":"6.7398467","name":"Distant reading","group":"-1"},{"id":"1560","x":"3.315476","y":"6.7226844","name":"A Genealogy of Distant Reading.","group":"-1"},{"id":"1561","x":"3.297909","y":"6.6915035","name":"Why Distant Reading Isn\'t","group":"-1"},{"id":"1562","x":"2.4666948","y":"5.459672","name":"Visualizations for text re-use","group":"64"},{"id":"1563","x":"2.2947607","y":"5.7177753","name":"Improving the layout for text variant graphs","group":"64"},{"id":"1564","x":"2.419202","y":"5.460069","name":"5 Design Rules for Visualizing Text Variant Graphs.","group":"64"},{"id":"1565","x":"2.4542687","y":"6.311565","name":"Improving graph drawing readability by incorporating readability metrics: A software tool for network analysts","group":"68"},{"id":"1566","x":"2.579903","y":"5.067147","name":"A data structure for representing multi-version texts online","group":"-1"},{"id":"1567","x":"2.2291071","y":"5.227399","name":"Graphs, maps, trees: abstract models for a literary history","group":"-1"},{"id":"1568","x":"2.6494415","y":"6.2744064","name":"The eyes have it: A task by data type taxonomy for information visualizations","group":"68"},{"id":"1569","x":"3.414551","y":"6.8669252","name":"Lateral reading: Reading less and learning more when evaluating digital information","group":"-1"},{"id":"1570","x":"3.4528298","y":"6.9267325","name":"Lateral reading and the nature of expertise: Reading less and learning more when evaluating digital information","group":"-1"},{"id":"1571","x":"5.432804","y":"8.167859","name":"Learning to evaluate: An intervention in civic online reasoning","group":"36"},{"id":"1572","x":"3.6447275","y":"7.0828147","name":"Lateral reading: College students learn to critically evaluate internet sources in an online course","group":"-1"},{"id":"1573","x":"3.356688","y":"7.0254536","name":"Solitary Mind, Collaborative Mind: Close Reading and Interdisciplinary Research.","group":"-1"},{"id":"1574","x":"6.3853536","y":"5.3236785","name":"Juxta Commons.","group":"-1"},{"id":"1575","x":"3.1087074","y":"3.639286","name":"Web based probabilistic textual entailment","group":"18"},{"id":"1576","x":"2.1676083","y":"3.595478","name":"A systematic comparison of various statistical alignment models","group":"6"},{"id":"1577","x":"2.8776648","y":"3.6436083","name":"A phrase-based alignment model for natural language inference","group":"18"},{"id":"1578","x":"2.9018233","y":"3.7261431","name":"Learning alignments and leveraging natural logic","group":"18"},{"id":"1579","x":"2.2754772","y":"3.6969702","name":"Alignment by agreement","group":"6"},{"id":"1580","x":"4.691118","y":"7.7989836","name":"Parallel prototyping leads to better design results, more divergence, and increased self-efficacy","group":"39"},{"id":"1581","x":"5.2080507","y":"8.844406","name":"On the theoretical, conceptual, and philosophical foundations for research in mathematics education","group":"35"},{"id":"1582","x":"2.1409295","y":"3.5384219","name":"Using cognates to align sentences in bilingual corpora","group":"6"},{"id":"1583","x":"2.0689254","y":"3.4849477","name":"Automatic detection of cognates using orthographic alignment","group":"6"},{"id":"1584","x":"2.0639188","y":"3.4707294","name":"Cognates alignment","group":"6"},{"id":"1585","x":"2.0499737","y":"3.4736502","name":"Using support vector machines and state-of-the-art algorithms for phonetic alignment to identify cognates in multi-lingual wordlists","group":"6"},{"id":"1586","x":"0.74653536","y":"6.8234043","name":"Use of smartphones, mobile apps and wearables for health promotion by people with anxiety or depression: An analysis of a nationally representative survey data","group":"3"},{"id":"1587","x":"5.7467346","y":"3.6863952","name":"Programmable program synthesis","group":"42"},{"id":"1588","x":"0.18176603","y":"8.9808655","name":"Towards an Interpretable Latent Space in Structured Models for Video Prediction","group":"-1"},{"id":"1589","x":"5.74744","y":"3.754183","name":"Deductive Synthesis of Programs with Pointers: Techniques, Challenges, Opportunities","group":"42"},{"id":"1590","x":"3.3301578","y":"5.56232","name":"Designing tools for high-quality alt text authoring","group":"46"},{"id":"1591","x":"1.3930279","y":"7.190749","name":"When does an individual accept misinformation?","group":"27"},{"id":"1592","x":"1.3155938","y":"9.618695","name":"Explaining machine learned relational concepts in visual domains-effects of perceived accuracy on joint performance and trust","group":"72"},{"id":"1593","x":"1.8420837","y":"9.746922","name":"Using a sociotechnical systems analysis to evaluate an intervention to improve opioid prescribing in emergency medicine","group":"-1"},{"id":"1594","x":"2.527565","y":"7.792066","name":"Language as a bootstrap for compositional visual reasoning","group":"-1"},{"id":"1595","x":"1.7544813","y":"9.20149","name":"Explaining the Gestalt principle of common fate as amortized inference","group":"59"},{"id":"1596","x":"2.5402856","y":"9.160156","name":"Unpacking the computations of human spatial search under uncertainty: noisy utility maximization, discounting, and probability warping","group":"54"},{"id":"1597","x":"4.136913","y":"8.765284","name":"Explore, Exploit, Create: Inventing goals in play","group":"16"},{"id":"1598","x":"3.3143227","y":"4.1457286","name":"Core knowledge objects in reasoning and language use for highly abstract inductive tasks","group":"32"},{"id":"1599","x":"3.6158385","y":"8.718372","name":"Growing knowledge culturally across generations to solve novel, complex task","group":"-1"},{"id":"1600","x":"2.8477075","y":"8.718023","name":"Combining rules and simulation to explain infant physical learning","group":"58"},{"id":"1601","x":"3.480222","y":"3.9867783","name":"LARC: Language annotated Abstraction and Reasoning Corpus","group":"32"},{"id":"1602","x":"1.4615375","y":"6.8370705","name":"Curation Bubbles: Domain Versus URL Level Analysis of Partisan News Sharing on Social Media","group":"27"},{"id":"1603","x":"2.8255959","y":"6.3693647","name":"An automated approach to reasoning about task-oriented insights in responsive visualization","group":"-1"},{"id":"1604","x":"5.6656923","y":"3.4771764","name":"Theory Acquisition as Constraint-Based Program Synthesis","group":"42"},{"id":"1605","x":"1.9741576","y":"8.11551","name":"Learning part-based abstractions for visual object concepts","group":"-1"},{"id":"1606","x":"3.3893156","y":"3.7868435","name":"Mining idioms in the wild","group":"-1"},{"id":"1607","x":"2.9245703","y":"5.821193","name":"Anaphoric distance dependencies in the sequential structure of wordless visual narratives","group":"-1"},{"id":"1608","x":"3.0377069","y":"6.0237575","name":"Sequential meaning-making in language and visual narratives","group":"-1"},{"id":"1609","x":"2.3893585","y":"3.6538024","name":"Multi-Level Linguistic Alignment in a Virtual Collaborative Problem-Solving Task","group":"6"},{"id":"1610","x":"6.3584776","y":"5.8493595","name":"PLIERS: a process that integrates user-centered methods into programming language design","group":"-1"},{"id":"1611","x":"0.29845968","y":"9.584257","name":"Audit, Don\'t Explain--Recommendations Based on a Socio-Technical Understanding of ML-Based Systems","group":"74"},{"id":"1612","x":"1.1560695","y":"7.8036847","name":"Online structural kernel selection for mobile health","group":"-1"},{"id":"1613","x":"2.5827832","y":"6.6992917","name":"Designing for interactive exploratory data analysis requires theories of graphical inference","group":"67"},{"id":"1614","x":"1.0173216","y":"9.659966","name":"A Case-Based Reasoning Approach for a Decision Support System in Manufacturing","group":"-1"},{"id":"1615","x":"6.275886","y":"4.161507","name":"AutoTap: Synthesizing and repairing trigger-action programs using LTL properties","group":"-1"},{"id":"1616","x":"3.6650128","y":"4.2622347","name":"TempAMLSI: Temporal Action Model Learning based on Grammar Induction","group":"-1"},{"id":"1617","x":"3.0316632","y":"3.61395","name":"Probabilistic textual entailment: Generic applied modeling of language variability","group":"18"},{"id":"1618","x":"2.9791443","y":"3.5861495","name":"A lexical alignment model for probabilistic textual entailment","group":"18"},{"id":"1619","x":"3.0692081","y":"3.587007","name":"A probabilistic setting and lexical coocurrence model for textual entailment","group":"18"},{"id":"1620","x":"3.0443845","y":"3.6086764","name":"Applied textual entailment","group":"18"},{"id":"1621","x":"3.0728798","y":"3.6369076","name":"Discovering entailment relations using \u201ctextual entailment patterns\u201d","group":"18"},{"id":"1622","x":"3.038801","y":"3.5983548","name":"A probabilistic classification approach for lexical textual entailment","group":"18"},{"id":"1623","x":"3.162211","y":"11.016635","name":"Universal semantic communication I","group":"0"},{"id":"1624","x":"3.1476676","y":"10.991296","name":"Universal semantic communication","group":"0"},{"id":"1625","x":"3.1596227","y":"10.956218","name":"Universal semantic communication ii: A theory of goal-oriented communication","group":"0"},{"id":"1626","x":"3.1497576","y":"10.997696","name":"Semantic typology and efficient communication","group":"0"},{"id":"1627","x":"3.1858737","y":"10.890289","name":"Semantic communication for simple goals is equivalent to on-line learning","group":"0"},{"id":"1628","x":"3.1571214","y":"10.947062","name":"Towards a theory of semantic communication","group":"0"},{"id":"1629","x":"3.1462955","y":"10.9995575","name":"Towards Universal Semantic Communication","group":"0"},{"id":"1630","x":"3.1211362","y":"10.977155","name":"Efficient semantic communication via compatible beliefs","group":"0"},{"id":"1631","x":"5.4326587","y":"4.404811","name":"Guided Optimization for Image Processing Pipelines","group":"-1"},{"id":"1632","x":"0.70825106","y":"9.8429","name":"User centric explanations: a breakthrough for explainable models","group":"-1"},{"id":"1633","x":"2.6837964","y":"4.251193","name":"Bad seeds: Evaluating lexical methods for bias measurement","group":"-1"},{"id":"1634","x":"6.6650324","y":"6.124292","name":"HowToo: A Platform for Sharing, Finding, and Using Programming Strategies","group":"43"},{"id":"1635","x":"2.7934947","y":"4.286613","name":"Extending challenge sets to uncover gender bias in machine translation: Impact of stereotypical verbs and adjectives","group":"-1"},{"id":"1636","x":"8.812125","y":"5.092836","name":"Prognosis: closed-box analysis of network protocol implementations","group":"-1"},{"id":"1637","x":"2.1437795","y":"7.0244775","name":"User Perception of Privacy with Ubiquitous Devices","group":"48"},{"id":"1638","x":"3.529012","y":"6.7263503","name":"Perceiving Images and Styles","group":"-1"},{"id":"1639","x":"2.429338","y":"10.361932","name":"Responsible AI: bridging from ethics to practice","group":"-1"},{"id":"1640","x":"1.9996082","y":"4.685316","name":"Multi-timeline summarization (mtls): Improving timeline summarization by generating multiple summaries","group":"13"},{"id":"1641","x":"1.9509165","y":"11.146505","name":"Stereotyping Norwegian salmon: An inventory of pitfalls in fairness benchmark datasets","group":"9"},{"id":"1642","x":"1.6282146","y":"9.349967","name":"A conceptual framework for investigating and mitigating machine-learning measurement bias (MLMB) in psychological assessment","group":"-1"},{"id":"1643","x":"1.3197601","y":"7.013546","name":"User Perceptions of Article Credibility Warnings: Towards Understanding the Influence of Journalists and AI Agents","group":"27"},{"id":"1644","x":"1.4086857","y":"6.9356465","name":"Measuring the Misinformation Ecosystem: Audiences, Platforms, and Storytellers","group":"27"},{"id":"1645","x":"1.0401747","y":"9.632258","name":"Do explanations help users detect errors in open-domain QA? an evaluation of spoken vs. visual explanations","group":"-1"},{"id":"1646","x":"5.1057534","y":"7.262759","name":"On the state of reporting in crowdsourcing experiments and a checklist to aid current practices","group":"8"},{"id":"1647","x":"4.4086604","y":"5.9230494","name":"Synthesis of web layouts from examples","group":"15"},{"id":"1648","x":"2.3974226","y":"6.1371093","name":"Feature highlighting visualization","group":"-1"},{"id":"1649","x":"5.787918","y":"3.689145","name":"BUSTLE: Bottom-Up program synthesis through learning-guided exploration","group":"42"},{"id":"1650","x":"2.1383255","y":"7.30277","name":"Causal support: modeling causal inferences with visualizations","group":"-1"},{"id":"1651","x":"2.6019943","y":"6.745417","name":"Challenges in Incorporating Exploratory Data Analysis Into Statistical Workflow","group":"67"},{"id":"1652","x":"3.9724936","y":"6.9594903","name":"Toward AI assistants that let designers design","group":"10"},{"id":"1653","x":"2.5810404","y":"6.725536","name":"Exploratory Analysis and Its Malcontents","group":"67"},{"id":"1654","x":"2.5941608","y":"8.949633","name":"Exploring the Gap Between Informal Mental and Formal Statistical Models","group":"-1"},{"id":"1655","x":"7.643206","y":"5.4090424","name":"An empirical study of developers\u2019 discussions about security challenges of different programming languages","group":"23"},{"id":"1656","x":"4.2405157","y":"5.4190016","name":"Hans: Ide-based editing support for embedded feature annotations","group":"-1"},{"id":"1657","x":"2.9686587","y":"4.482196","name":"RetroGAN: A Cyclic Post-Specialization System for Improving Out-of-Knowledge and Rare Word Representations","group":"-1"},{"id":"1658","x":"3.2630022","y":"6.0646486","name":"PI2: Generating Visual Analysis Interfaces from Queries","group":"-1"},{"id":"1659","x":"2.5875723","y":"6.723069","name":"Exploratory data analysis","group":"67"},{"id":"1660","x":"0.20139451","y":"10.451367","name":"Accelerating the Convergence of Human-in-the-Loop Reinforcement Learning with Counterfactual Explanations.","group":"1"},{"id":"1661","x":"5.4730206","y":"6.737744","name":"Miogatto: A math identifier-oriented grounding annotation tool","group":"5"},{"id":"1662","x":"2.778142","y":"9.805165","name":"Understanding Diversity in Human-AI Data: What Cognitive Style Disaggregation Reveals","group":"55"},{"id":"1663","x":"6.82153","y":"4.261603","name":"An empirical study on the usage of transformer models for code completion","group":"-1"},{"id":"1664","x":"1.9557922","y":"9.199377","name":"The Social View of Evidence","group":"59"},{"id":"1665","x":"4.2085853","y":"5.0126505","name":"Relational e-matching","group":"-1"},{"id":"1666","x":"0.48283315","y":"8.930254","name":"Trends in explanations: Understanding and debugging data-driven systems","group":"73"},{"id":"1667","x":"3.1458838","y":"10.968233","name":"Emergent discrete communication in semantic spaces","group":"0"},{"id":"1668","x":"1.1827781","y":"10.23648","name":"Evaluating human understanding in XAI systems","group":"-1"},{"id":"1669","x":"2.9428966","y":"6.6462455","name":"Exploring visualization implementation challenges faced by D3 users online","group":"-1"},{"id":"1670","x":"1.4864591","y":"5.8185177","name":"Graph-based activity discovery in heterogeneous personal corpora","group":"-1"},{"id":"1671","x":"0.5981757","y":"6.69327","name":"Uncovering of Depression Through User Profiling","group":"3"},{"id":"1672","x":"0.61003125","y":"6.6403713","name":"Detecting Suicidal Ideation from Online Texts","group":"3"},{"id":"1673","x":"1.9393795","y":"11.139392","name":"Non-empirical problems in fair machine learning","group":"9"},{"id":"1674","x":"2.5973897","y":"5.7138286","name":"Narrative Visualization of News Stories","group":"-1"},{"id":"1675","x":"1.8777946","y":"5.735085","name":"PaperMaps: Using Title Keywords for Visual Exploration of Academic Citation Networks","group":"63"},{"id":"1676","x":"1.2522336","y":"10.296858","name":"Explaining by Conversing: The Argument for Conversational Xai Systems","group":"62"},{"id":"1677","x":"8.792842","y":"6.282273","name":"Improving API Reference Documentation: A Cognitivist Approach to Design and Evaluation","group":"21"},{"id":"1678","x":"3.1063113","y":"6.204716","name":"Interactive data comics","group":"61"},{"id":"1679","x":"4.0384755","y":"7.641094","name":"Interaction History for Building Human-Data Interfaces","group":"-1"},{"id":"1680","x":"9.549589","y":"5.695233","name":"Assisting Example-Based API Misuse Detection via Complementary Artificial Examples","group":"26"},{"id":"1681","x":"6.1940703","y":"6.7942963","name":"Older adults learning computer programming: Motivations, frustrations, and design opportunities","group":"43"},{"id":"1682","x":"0.5839108","y":"6.803394","name":"Gender\u2010specificity of resilience in major depressive disorder","group":"3"},{"id":"1683","x":"0.63042355","y":"6.637083","name":"Screening for suicidal ideation with text messages","group":"3"},{"id":"1684","x":"1.0971301","y":"10.137484","name":"Exploring explainability: a definition, a model, and a knowledge catalogue","group":"-1"},{"id":"1685","x":"5.6442094","y":"6.713882","name":"HelpViz: Automatic Generation of Contextual Visual Mobile Tutorials from Text-Based Instructions","group":"5"},{"id":"1686","x":"1.8217949","y":"5.565046","name":"An Analytic Graph Data Model and Query Language for Exploring the Evolution of Science","group":"63"},{"id":"1687","x":"4.5212884","y":"7.2614813","name":"Drawventure: Teaching Design Sketching Through Gameplay","group":"-1"},{"id":"1688","x":"2.4393666","y":"6.527652","name":"Visualization equilibrium","group":"-1"},{"id":"1689","x":"4.49521","y":"6.1847014","name":"Tabs. do: Task-centric browser tab management","group":"-1"},{"id":"1690","x":"6.901536","y":"4.795176","name":"Autosynthesized sublanguage snippet presentation","group":"-1"},{"id":"1691","x":"1.616376","y":"6.371467","name":"The automatic analysis of emotion in political speech based on transcripts","group":"-1"},{"id":"1692","x":"4.7751083","y":"5.5593443","name":"Semantic Search and Visual Exploration of Computational Notebooks","group":"14"},{"id":"1693","x":"2.8950827","y":"7.1852655","name":"Making sense of emotion-sensing: Workshop on quantifying human emotions","group":"-1"},{"id":"1694","x":"0.570588","y":"9.940776","name":"Leveraging latent features for local explanations","group":"75"},{"id":"1695","x":"1.0340064","y":"8.081867","name":"Quantifying and Addressing Ranking Disparity in Human-Powered Data Acquisition","group":"-1"},{"id":"1696","x":"6.3432612","y":"3.7530735","name":"Program synthesis with large language models","group":"41"},{"id":"1697","x":"6.360283","y":"3.9702718","name":"Augmenting decompiler output with learned variable names and types","group":"-1"},{"id":"1698","x":"2.446239","y":"7.4015055","name":"Part of a series on Statistics","group":"-1"},{"id":"1699","x":"2.8446875","y":"6.254242","name":"Narrative sensemaking: strategies for narrative maps construction","group":"68"},{"id":"1700","x":"0.58144873","y":"6.678568","name":"A novel imbalanced data classification approach for suicidal ideation detection on social media","group":"3"},{"id":"1701","x":"3.1452394","y":"9.019639","name":"Interaction Considerations in Learning from Humans.","group":"58"},{"id":"1702","x":"3.6208508","y":"5.4522233","name":"Collabally: Accessible collaboration awareness in document editing","group":"46"},{"id":"1703","x":"2.7296178","y":"7.7638493","name":"Beyond doubt in a dangerous world: The effect of existential threats on the certitude of societal discourse","group":"52"},{"id":"1704","x":"1.4108227","y":"7.02129","name":"Informed crowds can effectively identify misinformation","group":"27"},{"id":"1705","x":"5.1721478","y":"5.4968734","name":"A qualitative study of cleaning in Jupyter notebooks","group":"14"},{"id":"1706","x":"6.016525","y":"5.482311","name":"Human-in-the-loop program synthesis for live coding","group":"-1"},{"id":"1707","x":"8.484325","y":"5.314394","name":"Contrasting third-party package management user experience","group":"22"},{"id":"1708","x":"2.2623692","y":"6.5454144","name":"HumourSpace: A Novel Framework for Quantification and Characterisation of Humour","group":"-1"},{"id":"1709","x":"9.229704","y":"5.701328","name":"Learning-based extraction of first-order logic representations of API directives","group":"26"},{"id":"1710","x":"1.9645174","y":"6.8975697","name":"How Young Adults Manage Privacy and Maintain Social Norms in the Era of Pervasive Photography and Social Media","group":"48"},{"id":"1711","x":"1.4957911","y":"8.512211","name":"A compositional atlas of tractable circuit operations for probabilistic inference","group":"-1"},{"id":"1712","x":"2.649776","y":"6.7665133","name":"Explore Data, Enjoy Yourself-KUbism, A Playful Approach to Data Exploration","group":"67"},{"id":"1713","x":"2.3013957","y":"8.228742","name":"Structure learning principles of stereotype change","group":"70"},{"id":"1714","x":"1.7409999","y":"5.536226","name":"Harnessing Scholarly Literature as Data to Curate, Explore, and Evaluate Scientific Research","group":"63"},{"id":"1715","x":"1.2985688","y":"10.26379","name":"Human-xai interaction: A review and design principles for explanation user interfaces","group":"62"},{"id":"1716","x":"5.0506024","y":"5.066366","name":"Subtle bugs everywhere: Generating documentation for data wrangling code","group":"20"},{"id":"1717","x":"7.327662","y":"3.9513025","name":"Retrieval augmented code generation and summarization","group":"-1"},{"id":"1718","x":"3.015149","y":"6.289493","name":"User-centric semi-automated infographics authoring and recommendation","group":"-1"},{"id":"1719","x":"2.5922835","y":"6.4753594","name":"Gevitrec: Data reconnaissance through recommendation using a domain-specific visualization prevalence design space","group":"68"},{"id":"1720","x":"2.5727093","y":"10.135886","name":"Human-centered AI: A new synthesis","group":"55"},{"id":"1721","x":"2.5854473","y":"10.119183","name":"Artificial intelligence for humankind: a panel on how to create truly interactive and Human-Centered AI for the benefit of individuals and Society","group":"55"},{"id":"1722","x":"1.4999613","y":"6.7192416","name":"Improving Readers\u2019 Awareness of Divergent Viewpoints by Displaying Agendas of Comments in Online News Discussions","group":"27"},{"id":"1723","x":"1.3136173","y":"7.0137043","name":"UAICS at CheckThat! 2021: Fake news detection.","group":"27"},{"id":"1724","x":"0.5810531","y":"6.737064","name":"Predicting Sign of Depression via Using Frozen Pre-trained Models and Random Forest Classifier.","group":"3"},{"id":"1725","x":"2.975849","y":"5.538118","name":"Authorship in Fanfiction: Textual and Paratextual Analysis of Identity Performance","group":"-1"},{"id":"1726","x":"6.1904635","y":"4.3781767","name":"Rewrite rule inference using equality saturation","group":"28"},{"id":"1727","x":"2.090008","y":"6.947646","name":"Visualizing Uncertainty in Probabilistic Graphs with Network Hypothetical Outcome Plots (NetHOPs)","group":"48"},{"id":"1728","x":"2.706506","y":"8.868132","name":"Information-seeking in the brain","group":"-1"},{"id":"1729","x":"1.62678","y":"6.6464877","name":"Exploring the Utility Versus Intrusiveness of Dynamic Audience Selection on Facebook","group":"27"},{"id":"1730","x":"1.0193678","y":"10.184028","name":"Cases for explainable software systems: Characteristics and examples","group":"62"},{"id":"1731","x":"4.317288","y":"7.379697","name":"Evaluating Quantitative Measures for Assessing Functional Similarity in Engineering Design","group":"29"},{"id":"1732","x":"3.9165637","y":"7.197511","name":"Queries and cues: textual stimuli for reflective thinking in digital mind-mapping","group":"-1"},{"id":"1733","x":"1.4054099","y":"7.9433236","name":"A taxonomy of property measures to unify active learning and human-centered approaches to data labeling","group":"-1"},{"id":"1734","x":"6.387061","y":"5.8040714","name":"PLIERS: A Process that Integrates User-Centered Methods into Programming Language Design","group":"-1"},{"id":"1735","x":"2.7549999","y":"10.036776","name":"The principal-agent alignment problem in artificial intelligence","group":"55"},{"id":"1736","x":"2.6452007","y":"9.265403","name":"Cognitive science as a source of forward and inverse models of human decisions for robotics and control","group":"54"},{"id":"1737","x":"1.0174874","y":"8.89942","name":"Reduced, reused and recycled: The life of a dataset in machine learning research","group":"-1"},{"id":"1738","x":"5.247316","y":"4.7133245","name":"Programming-by-example for data transformation to improve machine learning performance","group":"-1"},{"id":"1739","x":"6.0151753","y":"6.163064","name":"Programming by example: visual generalization in programming by example","group":"43"},{"id":"1740","x":"2.7151988","y":"5.734459","name":"A colorful approach to text processing by example","group":"-1"},{"id":"1741","x":"4.6870985","y":"6.0596175","name":"No code required: giving users tools to transform the web","group":"-1"},{"id":"1742","x":"5.0344005","y":"4.9269996","name":"Automating string processing in spreadsheets using input-output examples","group":"20"},{"id":"1743","x":"5.0666804","y":"4.9697657","name":"Wrangler: Interactive visual specification of data transformation scripts","group":"20"},{"id":"1744","x":"5.8506994","y":"6.305467","name":"Why programming-by-demonstration systems fail: Lessons learned for usable ai","group":"-1"},{"id":"1745","x":"5.711756","y":"5.4598703","name":"Design principles for the enhanced presentation of computer program source text","group":"44"},{"id":"1746","x":"5.000261","y":"6.366901","name":"Proton: multitouch gestures as regular expressions","group":"11"},{"id":"1747","x":"4.7325597","y":"6.3957987","name":"Proton++ a customizable declarative multitouch framework","group":"-1"},{"id":"1748","x":"5.7910137","y":"3.7924244","name":"Interpretable program synthesis","group":"42"},{"id":"1749","x":"7.1007037","y":"5.9718966","name":"I can do text analytics! Designing development tools for novice developers","group":"40"},{"id":"1750","x":"4.943836","y":"4.892167","name":"Spreadsheet data manipulation using examples","group":"20"},{"id":"1751","x":"4.212509","y":"8.010194","name":"Fake it to make it: Exploratory prototyping in hri","group":"38"},{"id":"1752","x":"4.4463515","y":"9.5767765","name":"Exit versus voice","group":"2"},{"id":"1753","x":"4.417378","y":"9.562191","name":"A formal model of exit and voice","group":"2"},{"id":"1754","x":"4.4610505","y":"9.562329","name":"Exit and Voice in the Age of Globalization","group":"2"},{"id":"1755","x":"4.4396944","y":"9.576155","name":"Co-governance for accountability: beyond \u201cexit\u201d and \u201cvoice\u201d","group":"2"},{"id":"1756","x":"4.4565306","y":"9.560774","name":"No Exit, No Voice: The Bind of Risky Voice Opportunities in Organizations.","group":"2"},{"id":"1757","x":"4.4660277","y":"9.593193","name":"The economics of internal organization: exit and voice in relation to markets and hierarchies","group":"2"},{"id":"1758","x":"4.399984","y":"9.46089","name":"No exit, no voice: Women\'s economic dependency and the welfare state","group":"2"},{"id":"1759","x":"4.4342813","y":"9.585092","name":"Institutional convergence: Exit or voice?","group":"2"},{"id":"1760","x":"4.472939","y":"9.567161","name":"The three exit, three voice and loyalty framework: A test with survey data on local services","group":"2"},{"id":"1761","x":"1.6992729","y":"8.091789","name":"Fs-mol: A few-shot learning dataset of molecules","group":"69"},{"id":"1762","x":"7.983349","y":"5.020898","name":"A study of refactorings during software change tasks","group":"23"},{"id":"1763","x":"2.8293087","y":"5.6284485","name":"Identifying Large-Scale Structures and Patterns in Narrative Data","group":"-1"},{"id":"1764","x":"3.4917567","y":"7.435378","name":"The effects of remote work on collaboration among information workers","group":"-1"},{"id":"1765","x":"6.311775","y":"3.7318132","name":"Program Synthesis with Large Language Models","group":"41"},{"id":"1766","x":"8.457251","y":"3.8614562","name":"Edit-Run Behavior in Programming and Debugging","group":"7"},{"id":"1767","x":"5.3908963","y":"3.726575","name":"Semantics-guided synthesis","group":"-1"},{"id":"1768","x":"2.0885983","y":"10.374832","name":"The impact of algorithmic risk assessments on human predictions and its analysis via crowdsourcing studies","group":"51"},{"id":"1769","x":"1.9224801","y":"11.136916","name":"Fairness in prediction and allocation","group":"9"},{"id":"1770","x":"3.1987667","y":"7.3702044","name":"Working from home is the new black: into the private world of remote collaboration in COVID-19 lockdowns","group":"49"},{"id":"1771","x":"2.2712564","y":"9.866815","name":"Consumer Perception of Artificial Intelligence in US Healthcare","group":"-1"},{"id":"1772","x":"6.7947655","y":"3.830389","name":"Thinking like a developer? comparing the attention of humans with neural models of code","group":"-1"},{"id":"1773","x":"1.0538288","y":"10.489043","name":"An objective metric for explainable AI: how and why to estimate the degree of explainability","group":"62"},{"id":"1774","x":"8.240306","y":"6.3960986","name":"Augmenting Software Documentation through Crowd-sourcing Annotations with ADAMITE","group":"19"},{"id":"1775","x":"3.3664153","y":"10.373843","name":"Safe Human-Interactive Control via Shielding","group":"-1"},{"id":"1776","x":"3.16812","y":"3.965778","name":"What\'s in a Name? Answer Equivalence For Open-Domain Question Answering","group":"32"},{"id":"1777","x":"4.865734","y":"4.723441","name":"Making table understanding work in practice","group":"-1"},{"id":"1778","x":"3.4288","y":"4.348531","name":"LM-Critic: language models for unsupervised grammatical error correction","group":"32"},{"id":"1779","x":"4.3203263","y":"7.5390215","name":"Novelty and the structure of design landscapes: A relational view of online innovation communities","group":"29"},{"id":"1780","x":"1.5425804","y":"5.89259","name":"Exploding TV Sets & Disappointing Laptops: Suggesting Interesting Content in News Archives based on Surprise Estimation","group":"-1"},{"id":"1781","x":"3.1279528","y":"10.300398","name":"Reactive and safe road user simulations using neural barrier certificates","group":"-1"},{"id":"1782","x":"4.9833155","y":"7.2003202","name":"Accelerating Deductive Coding of Qualitative Data: An Experimental Study on the Applicability of Crowdsourcing","group":"8"},{"id":"1783","x":"4.9627337","y":"5.0743084","name":"The value of data abstraction and transformation of provenance data for visual analysis","group":"20"},{"id":"1784","x":"4.676936","y":"7.7278314","name":"An Exploratory Study of Problem Framing in Distributed Collaborative Design","group":"39"},{"id":"1785","x":"8.699355","y":"4.5476503","name":"APIfix: output-oriented program synthesis for combating breaking changes in libraries.","group":"-1"},{"id":"1786","x":"6.686775","y":"6.6543074","name":"Learnersourcing at Scale for Introductory Programming: Longitudinal Data Collection on the Python Tutor Website","group":"43"},{"id":"1787","x":"3.2001815","y":"4.6038857","name":"Adapting language complexity for ai-based assistance","group":"32"},{"id":"1788","x":"2.6056023","y":"4.7722363","name":"Comparing text representations: A theory-driven approach","group":"-1"},{"id":"1789","x":"3.0243785","y":"6.1869316","name":"Book review: Who Understands Comics? Questioning the Universality of Visual Language Comprehension","group":"61"},{"id":"1790","x":"2.0749032","y":"5.6520886","name":"Argo scholar: Interactive visual exploration of literature in browsers","group":"-1"},{"id":"1791","x":"0.6777376","y":"9.698888","name":"Towards user-centric explanations for explainable models: A review","group":"75"},{"id":"1792","x":"7.046761","y":"4.0654917","name":"Leveraging Language for Abstraction and Program Search","group":"-1"},{"id":"1793","x":"3.2531261","y":"4.841066","name":"Bertscore: Evaluating text generation with bert","group":"45"},{"id":"1794","x":"5.7199287","y":"3.9754632","name":"LooPy: interactive program synthesis with control structures","group":"42"},{"id":"1795","x":"0.73375845","y":"9.724633","name":"SalienTrack: providing salient information for semi-automated self-tracking feedback with model explanations","group":"75"},{"id":"1796","x":"0.5786898","y":"9.589497","name":"Interpretable Directed Diversity: Leveraging Model Explanations for Iterative Crowd Ideation","group":"75"},{"id":"1797","x":"1.0098505","y":"10.438909","name":"An exploration of combinatorial testing-based approaches to fault localization for explainable AI","group":"62"},{"id":"1798","x":"2.7660785","y":"6.1881814","name":"Automatic Y-axis Rescaling in Dynamic Visualizations","group":"-1"},{"id":"1799","x":"0.14756443","y":"9.43236","name":"From Human Explanation to Model Interpretability: A Framework Based on Weight of Evidence","group":"74"},{"id":"1800","x":"4.378805","y":"6.3945932","name":"Geno: A Developer Tool for Authoring Multimodal Interaction on Existing Web Applications","group":"10"},{"id":"1801","x":"3.7806935","y":"10.167197","name":"Learning reward functions from diverse sources of human feedback: Optimally integrating demonstrations and preferences","group":"57"},{"id":"1802","x":"3.6283736","y":"10.190254","name":"Familiarization to robot motion","group":"57"},{"id":"1803","x":"3.2949336","y":"10.14337","name":"Effects of robot motion on human-robot collaboration","group":"56"},{"id":"1804","x":"3.4989853","y":"10.211358","name":"Understanding robot motion in domestic settings","group":"-1"},{"id":"1805","x":"1.8784544","y":"4.4785047","name":"Alignment-based sentence position policy in a news corpus for multi-document summarization","group":"13"},{"id":"1806","x":"4.3888006","y":"4.9531446","name":"Unsupervised alignment of privacy policies using hidden markov models","group":"-1"},{"id":"1807","x":"1.9403212","y":"4.457412","name":"Improving latent alignment in text summarization by generalizing the pointer generator","group":"13"},{"id":"1808","x":"1.9274571","y":"4.403023","name":"Monotonic alignments for summarization","group":"13"},{"id":"1809","x":"4.40935","y":"4.970216","name":"A step towards usable privacy policy: Automatic alignment of privacy statements","group":"-1"},{"id":"1810","x":"2.0666037","y":"4.6636915","name":"AligNarr: Aligning Narratives of Different Length for Movie Summarization","group":"13"},{"id":"1811","x":"2.671824","y":"9.885937","name":"Highlights: Summarizing agent behavior to people","group":"55"},{"id":"1812","x":"3.0807292","y":"6.111205","name":"Comics and Diagrams: An Introductory Overview","group":"61"},{"id":"1813","x":"1.8954948","y":"4.566224","name":"Mitigating Data Scarceness through Data Synthesis, Augmentation and Curriculum for Abstractive Summarization","group":"13"},{"id":"1814","x":"2.5713","y":"9.213356","name":"Trait somatic anxiety is associated with reduced directed exploration and underestimation of uncertainty","group":"54"},{"id":"1815","x":"2.606554","y":"6.6662745","name":"Understanding the effects of visualizing missing values on visual data exploration","group":"67"},{"id":"1816","x":"1.2935635","y":"9.429649","name":"Trust in Prediction Models: A Mixed-Methods Pilot Study on the Impact of Domain Expertise","group":"-1"},{"id":"1817","x":"0.6799157","y":"8.555913","name":"Enki: a diversity-driven approach to test and train robust learning-enabled systems","group":"71"},{"id":"1818","x":"2.1811597","y":"5.9851","name":"Proactive visual and statistical analysis of genomic data in Epiviz","group":"60"},{"id":"1819","x":"2.6396756","y":"9.903187","name":"With great power comes great responsibility: inquiry into the social roles and the power dynamics in human-AI interactions","group":"55"},{"id":"1820","x":"1.7923124","y":"5.6686974","name":"Exploring, browsing and interacting with multi-level and multi-scale dynamics of knowledge","group":"63"},{"id":"1821","x":"2.0405784","y":"6.456932","name":"Conceptualizing Visual Analytic Interventions for Content Moderation","group":"-1"},{"id":"1822","x":"0.36892545","y":"9.548808","name":"Learning Predictive and Interpretable Timeseries Summaries from ICU Data","group":"-1"},{"id":"1823","x":"1.3149998","y":"6.976369","name":"Testing The Effect of Information on Discerning the Veracity of News in Real-Time","group":"27"},{"id":"1824","x":"3.8057487","y":"10.20555","name":"Discovering state and action abstractions for generalized task and motion planning","group":"57"},{"id":"1825","x":"7.1193132","y":"5.4150457","name":"Naturally!: How breakthroughs in natural language processing can dramatically help developers","group":"-1"},{"id":"1826","x":"9.302616","y":"5.6077957","name":"An Experimental Analysis of Graph-Distance Algorithms for Comparing API Usages","group":"26"},{"id":"1827","x":"7.008924","y":"4.0405993","name":"Pr\xe4zi: from package-based to call-based dependency networks","group":"-1"},{"id":"1828","x":"2.5846822","y":"8.381737","name":"The ecological approach to visual perception: classic edition","group":"-1"},{"id":"1829","x":"2.7380035","y":"8.324368","name":"Affordances and the body: An intentional analysis of Gibson\'s ecological approach to visual perception.","group":"-1"},{"id":"1830","x":"2.6728356","y":"8.338628","name":"Perception as information detection: Reflections on Gibson\'s ecological approach to visual perception","group":"-1"},{"id":"1831","x":"2.7232924","y":"8.305319","name":"How direct is visual perception? Some reflections on Gibson\'s\\" ecological approach.\\"","group":"-1"},{"id":"1832","x":"2.6533144","y":"8.323724","name":"Are theories of perception necessary? A review of Gibson\'s The ecological approach to visual perception","group":"-1"},{"id":"1833","x":"2.3787947","y":"9.189591","name":"Resistance to position change, motivated reasoning, and polarization","group":"54"},{"id":"1834","x":"4.2550144","y":"8.072893","name":"Challenges and paradoxes in decolonising HCI: A critical discussion","group":"38"},{"id":"1835","x":"6.76211","y":"5.7663975","name":"Experiments with Auto-generated Socratic Dialogue for Source Code Understanding.","group":"-1"},{"id":"1836","x":"1.9761224","y":"11.05268","name":"Socially Responsible Machine Learning: On the Preservation of Individual Privacy and Fairness","group":"9"},{"id":"1837","x":"3.3433285","y":"6.1622615","name":"VizSmith: automated visualization synthesis by mining data-science notebooks","group":"61"},{"id":"1838","x":"2.620165","y":"3.9167755","name":"Adapting entities across languages and cultures","group":"-1"},{"id":"1839","x":"5.854004","y":"3.6799963","name":"Gauss: program synthesis by reasoning over graphs","group":"42"},{"id":"1840","x":"0.82256454","y":"8.302454","name":"Sibyl: Understanding and addressing the usability challenges of machine learning in high-stakes decision making","group":"71"},{"id":"1841","x":"0.2776786","y":"9.564506","name":"Explanation Strategies as an Empirical-Analytical Lens for Socio-Technical Contextualization of Machine Learning Interpretability","group":"74"},{"id":"1842","x":"6.6964536","y":"7.232284","name":"Hacked: A pedagogical analysis of online vulnerability discovery exercises","group":"34"},{"id":"1843","x":"9.157487","y":"6.2143307","name":"Scrapir: making web data apis accessible to end users","group":"25"},{"id":"1844","x":"1.4700916","y":"6.065925","name":"The lifetime of email messages: a large-scale analysis of email revisitation","group":"-1"},{"id":"1845","x":"1.7541132","y":"6.9009557","name":"Do Cathegories have Politics","group":"-1"},{"id":"1846","x":"0.09433591","y":"10.447656","name":"Supplementary Material Beyond Trivial Counterfactual Explanations with Diverse Valuable Explanations","group":"1"},{"id":"1847","x":"8.167399","y":"4.1103725","name":"Learning quick fixes from code repositories","group":"7"},{"id":"1848","x":"3.4779873","y":"9.3691435","name":"Ai chains: Transparent and controllable human-ai interaction by chaining large language model prompts","group":"53"},{"id":"1849","x":"4.4207754","y":"5.7060623","name":"Differentiable 3d cad programs for bidirectional editing","group":"15"},{"id":"1850","x":"1.4944729","y":"8.424897","name":"Strudel: A fast and accurate learner of structured-decomposable probabilistic circuits","group":"-1"},{"id":"1851","x":"2.2388341","y":"3.6091166","name":"Efficient bilingual lexicon extraction from comparable corpora based on formal concepts analysis","group":"6"},{"id":"1852","x":"2.0988476","y":"4.188293","name":"Monotonic chunkwise attention","group":"6"},{"id":"1853","x":"2.2381659","y":"3.968052","name":"Online and linear-time attention by enforcing monotonic alignments","group":"6"},{"id":"1854","x":"1.8967946","y":"4.5127997","name":"Simple unsupervised summarization by contextual matching","group":"13"},{"id":"1855","x":"1.9221021","y":"4.427474","name":"Induction of word and phrase alignments for automatic document summarization","group":"13"},{"id":"1856","x":"4.407693","y":"4.9314427","name":"Unsupervised Alignment of Privacy Policies using Hidden Markov Models","group":"-1"},{"id":"1857","x":"3.2749717","y":"6.7658515","name":"On close and distant reading in digital humanities: A survey and future challenges","group":"-1"},{"id":"1858","x":"2.14012","y":"6.0084605","name":"A distant reading visualization for variant graphs","group":"60"},{"id":"1859","x":"2.4174645","y":"5.296001","name":"Visualizing Mouvance: Toward a visual analysis of variant medieval text traditions","group":"-1"},{"id":"1860","x":"3.0102441","y":"6.8010387","name":"Valuable research for visualization and digital humanities: A balancing act","group":"-1"},{"id":"1861","x":"2.560712","y":"5.5722666","name":"TexTile: A Pixel-Based Focus+ Context Tool For Analyzing Variants Across Multiple Text Scales.","group":"64"},{"id":"1862","x":"2.4515224","y":"5.20538","name":"Version variation visualization (vvv): Case studies on the hebrew haggadah in english","group":"-1"},{"id":"1863","x":"2.3083708","y":"4.7796745","name":"Ugarit: Translation alignment visualization","group":"-1"},{"id":"1864","x":"2.3247995","y":"4.989489","name":"From graveyard to graph: Visualisation of textual collation in a digital paradigm","group":"-1"},{"id":"1865","x":"2.510805","y":"5.55978","name":"Detecting Text Reuse and Similarities between Artists in Rap Music through Visualization","group":"64"},{"id":"1866","x":"1.9989198","y":"5.308599","name":"Graph Models for Textual Data: Between Text and Information","group":"-1"},{"id":"1867","x":"2.2773216","y":"4.9156327","name":"Visualizing collation results","group":"-1"},{"id":"1868","x":"2.3454587","y":"5.1054907","name":"Interactive visual alignment of medieval text versions","group":"-1"},{"id":"1869","x":"2.893236","y":"3.655556","name":"A Phrase-Based Alignment Model for Natural Language Inference","group":"18"},{"id":"1870","x":"1.9656368","y":"3.4972775","name":"Multiple sequence alignments in linguistics","group":"6"},{"id":"1871","x":"1.9236313","y":"3.6143143","name":"Multiple sequence alignment in historical linguistics","group":"6"},{"id":"1872","x":"1.9408869","y":"3.6226614","name":"Multiple alignments of inflectional paradigms","group":"6"},{"id":"1873","x":"1.9895158","y":"3.7170522","name":"Sequence comparison in computational historical linguistics","group":"6"},{"id":"1874","x":"2.023327","y":"3.673788","name":"A Benchmark Database of Phonetic Alignments in Historical Linguistics and Dialectology.","group":"6"},{"id":"1875","x":"2.0323582","y":"3.5269861","name":"Sequence alignment with arbitrary steps and further generalizations, with applications to alignments in linguistics","group":"6"},{"id":"1876","x":"1.9638674","y":"3.839969","name":"A pipeline for computational historical linguistics","group":"6"},{"id":"1877","x":"1.9184268","y":"3.802306","name":"Sequence comparison in historical linguistics","group":"6"},{"id":"1878","x":"2.0242257","y":"3.9122572","name":"Computational historical linguistics","group":"6"},{"id":"1879","x":"2.112011","y":"3.5516827","name":"Phonetic alignment based on sound classes","group":"6"},{"id":"1880","x":"2.1559584","y":"3.976436","name":"Topics in Computational Linguistics","group":"6"},{"id":"1881","x":"2.1318717","y":"3.5563447","name":"Automatic inference of sound correspondence patterns across multiple languages","group":"6"},{"id":"1882","x":"1.9847536","y":"3.8186529","name":"An open source toolkit for quantitative historical linguistics","group":"6"},{"id":"1883","x":"1.9828025","y":"3.47504","name":"Prenominal modifier ordering via multiple sequence alignment","group":"6"},{"id":"1884","x":"2.0896413","y":"3.603441","name":"Alignment of multiple languages for historical comparison","group":"6"},{"id":"1885","x":"2.0823233","y":"3.51794","name":"Evaluating the pairwise string alignment of pronunciations","group":"6"},{"id":"1886","x":"1.9425622","y":"3.7891002","name":"A Python Library for Historical Comparative Linguistics","group":"6"},{"id":"1887","x":"1.9021913","y":"3.4022589","name":"On the number of many-to-many alignments of multiple sequences","group":"6"},{"id":"1888","x":"1.9563522","y":"3.7720652","name":"The art of doing science: alignments in historical linguistics","group":"6"},{"id":"1889","x":"1.9830469","y":"3.5383997","name":"Multiword expression recognition using multiple sequence alignment","group":"6"},{"id":"1890","x":"1.981899","y":"3.5125217","name":"Support for linguistic macrofamilies from weighted sequence alignment","group":"6"},{"id":"1891","x":"1.8883531","y":"3.4747055","name":"SVM-based Automatic Annotation of Multiple Sequence Alignments.","group":"6"},{"id":"1892","x":"1.8881011","y":"3.428819","name":"On the complexity of multiple sequence alignment","group":"6"},{"id":"1893","x":"1.9723637","y":"3.821821","name":"Automatic identification and production of related words for historical linguistics","group":"6"},{"id":"1894","x":"1.9442762","y":"3.4381242","name":"Morphological analysis by multiple sequence alignment","group":"6"},{"id":"1895","x":"1.8719474","y":"3.4703002","name":"Algorithms for normalized multiple sequence alignments","group":"6"},{"id":"1896","x":"2.0377288","y":"3.8531868","name":"Open problems in computational diversity linguistics","group":"6"},{"id":"1897","x":"2.2307382","y":"3.5650496","name":"Exploiting alignment in multiparallel corpora for applications in linguistics and language learning","group":"6"},{"id":"1898","x":"2.0102644","y":"3.879194","name":"Lemon-aid: using lemon to aid quantitative historical linguistic analysis","group":"6"},{"id":"1899","x":"2.0748484","y":"3.5330083","name":"LexStat: Automatic detection of cognates in multilingual wordlists","group":"6"},{"id":"1900","x":"1.1167206","y":"6.7376547","name":"Disease trajectory browser for exploring temporal, population-wide disease progression patterns in 7.2 million Danish patients","group":"3"},{"id":"1901","x":"3.858039","y":"8.9076","name":"Lifelike Pedagogical Agents for Mixed-Initiative Problem Solving in Constructivist Learning","group":"-1"},{"id":"1902","x":"2.3347712","y":"6.1605916","name":"Family metro maps: Visualizing family relations by metro lines","group":"-1"},{"id":"1903","x":"3.0547817","y":"5.067956","name":"Unsupervised Text Generation and its Application to News Interfaces","group":"46"},{"id":"1904","x":"3.7547266","y":"9.305638","name":"Situated dialogue learning through procedural environment generation","group":"53"},{"id":"1905","x":"3.7956846","y":"10.295057","name":"Correct me if i am wrong: Interactive learning for robotic manipulation","group":"57"},{"id":"1906","x":"3.768857","y":"10.308334","name":"Inverse Reinforcement Learning with Hybrid Weight Tuning and Trust Region Optimization for Autonomous Maneuvering","group":"57"},{"id":"1907","x":"3.5679922","y":"8.242888","name":"An interaction framework for studying co-creative ai","group":"31"},{"id":"1908","x":"3.9061878","y":"7.966453","name":"A human-computer interaction framework for media-independent knowledge","group":"38"},{"id":"1909","x":"3.9094365","y":"7.909278","name":"A Human-Computer Interaction Framework for Media-Independent Knowledge (Position Paper)","group":"38"},{"id":"1910","x":"3.5689704","y":"8.232893","name":"Overview of human-computer collaboration","group":"31"},{"id":"1911","x":"4.6758585","y":"7.644764","name":"Knowledge communication in design communities","group":"39"},{"id":"1912","x":"7.6231465","y":"3.9511192","name":"A Systematic Literature Review of Automated Query Reformulations in Source Code Search","group":"24"},{"id":"1913","x":"8.862275","y":"6.072578","name":"API Topic Issues Indexing, Exploration and Discovery for API Community Knowledge","group":"-1"},{"id":"1914","x":"9.048788","y":"5.3713746","name":"Are you sure you are using this method correctly? Usage Pattern Mining of Code Methods.","group":"-1"},{"id":"1915","x":"5.9888277","y":"4.3104544","name":"Natural language-guided programming","group":"28"},{"id":"1916","x":"7.14781","y":"5.4388967","name":"Readability and Understandability Scores for Snippet Assessment: an Exploratory Study","group":"-1"},{"id":"1917","x":"9.594663","y":"5.6612196","name":"KGAMD: an API-misuse detector driven by fine-grained API-constraint knowledge graph","group":"-1"},{"id":"1918","x":"7.8913913","y":"4.9889193","name":"Stepwise refactoring tools","group":"23"},{"id":"1919","x":"1.8681414","y":"9.556906","name":"Medical dead-ends and learning to identify high-risk states and treatments","group":"59"},{"id":"1920","x":"3.7136538","y":"10.164301","name":"Side information, robustness, and self supervision in imitation learning","group":"57"},{"id":"1921","x":"1.8681316","y":"11.10388","name":"Quantifying Inequality in Underreported Medical Conditions","group":"9"},{"id":"1922","x":"3.306502","y":"10.033152","name":"Explaining Reward Functions to Humans for Better Human-Robot Collaboration","group":"-1"},{"id":"1923","x":"4.1910195","y":"8.702306","name":"Commentary: extraordinary excitement empowering enhancing everyone","group":"16"},{"id":"1924","x":"3.8213673","y":"10.188069","name":"Efficiently training on-policy actor-critic networks in robotic deep reinforcement learning with demonstration-like sampled exploration","group":"57"},{"id":"1925","x":"1.1737224","y":"8.012536","name":"Field Extraction from Forms with Unlabeled Data","group":"-1"},{"id":"1926","x":"7.315705","y":"4.012318","name":"Contrastive learning for source code with structural and functional properties","group":"-1"},{"id":"1927","x":"7.3503723","y":"4.672334","name":"Searching for Replacement Classes","group":"23"},{"id":"1928","x":"6.714616","y":"4.4476933","name":"Genline and genform: Two tools for interacting with generative language models in a code editor","group":"-1"},{"id":"1929","x":"3.1340683","y":"4.0539365","name":"Distantly-supervised evidence retrieval enables question answering without evidence annotation","group":"32"},{"id":"1930","x":"3.3642812","y":"10.319819","name":"Safe Human-Interactive Control via Shielding","group":"-1"},{"id":"1931","x":"1.3492832","y":"8.923436","name":"Certifying robustness to programmable data bias in decision trees","group":"-1"},{"id":"1932","x":"3.244101","y":"3.962547","name":"Generalizing to New Domains by Mapping Natural Language to Lifted LTL","group":"32"},{"id":"1933","x":"1.6134661","y":"6.604919","name":"Dealing with disagreements: Looking beyond the majority vote in subjective annotations","group":"27"},{"id":"1934","x":"3.1555607","y":"5.1508565","name":"SymbolFinder: Brainstorming Diverse Symbols Using Local Semantic Networks","group":"46"},{"id":"1935","x":"5.045169","y":"5.0251884","name":"Unravel: A fluent code explorer for data wrangling","group":"20"},{"id":"1936","x":"3.7708733","y":"10.096343","name":"Towards Sample-efficient Apprenticeship Learning from Suboptimal Demonstration","group":"57"},{"id":"1937","x":"2.227992","y":"5.8365498","name":"KondoCloud: Improving information management in cloud storage via recommendations based on file similarity","group":"60"},{"id":"1938","x":"3.657832","y":"5.448014","name":"Idyll studio: A structured editor for authoring interactive & data-driven articles","group":"46"},{"id":"1939","x":"3.592442","y":"5.2524347","name":"Eloquent: Improving Text Editing for Mobile","group":"46"},{"id":"1940","x":"3.5413432","y":"10.255238","name":"Auditing Robot Learning for Safety and Compliance during Deployment","group":"-1"},{"id":"1941","x":"2.804227","y":"7.005152","name":"Snowy: Recommending utterances for conversational visual analysis","group":"-1"},{"id":"1942","x":"1.5059246","y":"6.0616183","name":"Anticipating attention: on the predictability of news headline tests","group":"-1"},{"id":"1943","x":"3.9250288","y":"6.828558","name":"ProbMap: Automatically constructing design galleries through feature extraction and semantic clustering","group":"10"},{"id":"1944","x":"2.7614908","y":"5.4201984","name":"A Narratology-Based Framework for Storyline Extraction","group":"-1"},{"id":"1945","x":"3.9981294","y":"7.391608","name":"Computer-based techniques for capturing knowledge about computer-based tasks","group":"29"},{"id":"1946","x":"2.3147693","y":"9.118976","name":"False Positives vs. False Negatives: The effects of recovery time and cognitive costs on input error preference","group":"54"},{"id":"1947","x":"2.633531","y":"6.364512","name":"Route tapestries: Navigating 360 virtual tour videos using slit-scan visualizations","group":"68"},{"id":"1948","x":"5.2620287","y":"8.64903","name":"MathMap: Supporting Exploratory Problem Solving with Algebra","group":"36"},{"id":"1949","x":"8.808196","y":"5.796154","name":"How do developers use the Java Stream API?","group":"-1"},{"id":"1950","x":"6.037311","y":"4.5154223","name":"How Statically-Typed Functional Programmers Author Code","group":"28"},{"id":"1951","x":"0.677243","y":"9.404613","name":"Explaining black-box classifiers using post-hoc explanations-by-example: The effect of explanations and error-rates in XAI user studies","group":"75"},{"id":"1952","x":"6.10736","y":"4.2213025","name":"Semantic programming by example with pre-trained models","group":"28"},{"id":"1953","x":"7.140122","y":"4.843127","name":"recode: A lightweight find-and-replace interaction in the ide for transforming code by example","group":"23"},{"id":"1954","x":"9.192261","y":"6.179772","name":"Systems to Democratize and Standardize Access to Web APIs","group":"25"},{"id":"1955","x":"3.002363","y":"6.7037034","name":"Voyagers and voyeurs: supporting asynchronous collaborative information visualization","group":"-1"},{"id":"1956","x":"0.43485665","y":"8.650657","name":"Principles of explanatory debugging to personalize interactive machine learning","group":"73"},{"id":"1957","x":"0.38699114","y":"8.680538","name":"Explanatory debugging: Supporting end-user debugging of machine-learned programs","group":"73"},{"id":"1958","x":"1.5906181","y":"8.683173","name":"Pragmatic Image Compression for Human-in-the-Loop Decision-Making","group":"-1"},{"id":"1959","x":"6.543948","y":"6.1832542","name":"Post-literate programming: Linking discussion and code in software development teams","group":"43"},{"id":"1960","x":"1.6977208","y":"6.52396","name":"Social navigation of information space","group":"27"},{"id":"1961","x":"1.7759113","y":"6.61332","name":"Social navigation: Techniques for building more usable systems","group":"-1"},{"id":"1962","x":"1.7498018","y":"6.7195315","name":"Motion squared: A second look at the concept of social navigation","group":"-1"},{"id":"1963","x":"6.55663","y":"6.5553055","name":"Ten million users and ten years later: Python tutor\u2019s design guidelines for building scalable and sustainable research software in academia","group":"43"},{"id":"1964","x":"4.8468313","y":"6.7451477","name":"App-Based Task Shortcuts for Virtual Assistants","group":"-1"},{"id":"1965","x":"5.7323766","y":"3.7695165","name":"Opportunities for Approachable Game Development via Program Synthesis","group":"42"},{"id":"1966","x":"5.996422","y":"4.4212146","name":"How statically-typed functional programmers write code","group":"28"},{"id":"1967","x":"1.4686935","y":"10.050951","name":"The irrationality of neural rationale models","group":"62"},{"id":"1968","x":"6.519395","y":"7.2783093","name":"Immediate Feedback for Students to Solve Notebook Reproducibility Problems in the Classroom","group":"-1"},{"id":"1969","x":"0.61264753","y":"8.86308","name":"Practical benefits of feature feedback under distribution shift","group":"-1"},{"id":"1970","x":"4.4665837","y":"6.0262766","name":"Umitation: Retargeting UI Behavior Examples for Website Design","group":"15"},{"id":"1971","x":"5.006555","y":"4.941018","name":"Spreadsheet debugging: The perils of tool over-reliance","group":"20"},{"id":"1972","x":"9.164788","y":"6.226936","name":"Shapir: Standardizing and Democratizing Access to Web APIs","group":"25"},{"id":"1973","x":"3.5115447","y":"5.429356","name":"Just speak it: Minimize cognitive load for eyes-free text editing with a smart voice assistant","group":"46"},{"id":"1974","x":"1.2643577","y":"8.973281","name":"Mithra: Anomaly Detection as an Oracle for Cyberphysical Systems","group":"-1"},{"id":"1975","x":"4.943803","y":"5.5160203","name":"Weaving Schematics and Code: Interactive Visual Editing for Hardware Description Languages","group":"14"},{"id":"1976","x":"2.0443408","y":"9.175752","name":"Can Knowledge Construction Be Harmful? A Theory Building Approach to Explain Mr. Bolsonaro","group":"-1"},{"id":"1977","x":"7.3129926","y":"3.9634414","name":"Retrieval Augmented Code Generation and Summarization","group":"-1"},{"id":"1978","x":"8.513001","y":"5.4645996","name":"An exploration of npm package co-usage examples from stack overflow: A case study","group":"22"},{"id":"1979","x":"8.562177","y":"6.275077","name":"What programmers really want: results of a needs assessment for SDK documentation","group":"-1"},{"id":"1980","x":"8.478912","y":"5.4418273","name":"Why do developers use trivial packages? an empirical case study on npm","group":"22"},{"id":"1981","x":"8.474121","y":"5.25838","name":"How do developers use parallel libraries?","group":"22"},{"id":"1982","x":"2.4613953","y":"5.3084574","name":"An evaluation of semantically grouped word cloud designs","group":"-1"},{"id":"1983","x":"1.6600442","y":"5.5430684","name":"Word association thematic analysis: A social media text exploration strategy","group":"-1"},{"id":"1984","x":"2.8052802","y":"5.56436","name":"Dancingwords: exploring animated word clouds to tell stories","group":"-1"},{"id":"1985","x":"2.9726725","y":"4.72337","name":"A survey of text matching techniques","group":"-1"},{"id":"1986","x":"2.3801408","y":"5.423167","name":"Architecture of a Semantic WordCloud Visualization","group":"64"},{"id":"1987","x":"2.3331993","y":"5.7930956","name":"Comparative study of graphic-based tag clouds: theory and experimental evaluation for information search","group":"64"},{"id":"1988","x":"2.651289","y":"5.660093","name":"Utility and usability of intrinsic tag maps","group":"-1"},{"id":"1989","x":"2.2475288","y":"5.443304","name":"Using semantically-organized networks for the visualiza-tion of short texts","group":"64"},{"id":"1990","x":"0.9289269","y":"6.576406","name":"Impact of health-related Twitter messages on rates of diabetes screening in the Saudi Arabian population","group":"3"},{"id":"1991","x":"6.8082914","y":"7.1304774","name":"Progress networks as a tool for analysing student programming difficulties","group":"34"},{"id":"1992","x":"4.7360873","y":"7.868377","name":"The human touch: participatory practice and the role of facilitation in designing with communities","group":"39"},{"id":"1993","x":"3.067166","y":"9.720659","name":"What can ai do for me? evaluating machine learning interpretations in cooperative play","group":"56"},{"id":"1994","x":"2.8783858","y":"4.578175","name":"Putting humans in the natural language processing loop: A survey","group":"-1"},{"id":"1995","x":"1.0665997","y":"5.7478895","name":"Topic-time Heatmaps for Human-in-the-loop Topic Detection and Tracking","group":"50"},{"id":"1996","x":"0.8183192","y":"5.890249","name":"Developing a curated topic model for COVID-19 medical research literature","group":"50"},{"id":"1997","x":"4.7903733","y":"7.237755","name":"Evaluating crowdsourcing and topic modeling in generating knowledge components from explanations","group":"8"},{"id":"1998","x":"1.127385","y":"5.712913","name":"Visual analytics for topic model optimization based on user-steerable speculative execution","group":"50"},{"id":"1999","x":"0.6844154","y":"8.411493","name":"The UX of interactive machine learning","group":"71"},{"id":"2000","x":"1.2176522","y":"5.693432","name":"Designing interactive topic discovery systems for research and decision making","group":"50"},{"id":"2001","x":"3.3234706","y":"7.7579546","name":"A sensemaking environment for literature study","group":"47"},{"id":"2002","x":"3.3561676","y":"7.785668","name":"ClaimSpotter: an environment to support sensemaking with knowledge triples","group":"47"},{"id":"2003","x":"1.8002293","y":"5.55721","name":"CiteSense: supporting sensemaking of research literature","group":"63"},{"id":"2004","x":"2.242102","y":"4.975691","name":"Wordseer: Exploring language use in literary text","group":"-1"},{"id":"2005","x":"2.2382553","y":"5.2773275","name":"WordSeer: a knowledge synthesis environment for textual data","group":"-1"},{"id":"2006","x":"1.786061","y":"5.498172","name":"Scholarly Requirements for Large Scale Text Analysis: A User Needs Assessment by the HathiTrust Research Center.","group":"63"},{"id":"2007","x":"1.7567699","y":"5.50286","name":"Supporting exploratory text analysis in literature study","group":"63"},{"id":"2008","x":"2.5794404","y":"5.275418","name":"A Text Analysis Tool for Examining Stylistic Similarities in Narrative Collections","group":"-1"},{"id":"2009","x":"2.4018924","y":"5.630154","name":"WordWanderer: a navigational approach to text visualisation","group":"64"},{"id":"2010","x":"2.40462","y":"5.47038","name":"Compare clouds: Visualizing text corpora to compare media frames","group":"64"},{"id":"2011","x":"1.8391598","y":"5.514698","name":"MiTextExplorer: Linked brushing and mutual information for exploratory text data analysis","group":"63"},{"id":"2012","x":"1.1622967","y":"5.676395","name":"TOME: Interactive TOpic Model and MEtadata Visualization","group":"50"},{"id":"2013","x":"2.5413358","y":"5.5630255","name":"Poemage: Visualizing the sonic topology of a poem","group":"64"},{"id":"2014","x":"2.4024286","y":"5.702852","name":"Needs and expectations in a tool for exploring slave narratives: a survey of prospective users","group":"64"},{"id":"2015","x":"5.8564224","y":"7.889048","name":"DocMatrix: Self\u2010teaching from multiple sources","group":"36"},{"id":"2016","x":"2.8060613","y":"5.844325","name":"The narrative explorer","group":"-1"},{"id":"2017","x":"7.298704","y":"5.2391295","name":"Readability and Understandability of Snippets Recommended by General-purpose Web Search Engines: a Comparative Study","group":"-1"},{"id":"2018","x":"1.8443882","y":"9.15015","name":"False Positives vs. False Negatives","group":"59"},{"id":"2019","x":"6.0952497","y":"6.741304","name":"Exploring Individual and Collaborative Storytelling in an Introductory Creative Coding Class","group":"-1"},{"id":"2020","x":"3.8664434","y":"6.79683","name":"Visual Design Reuse Through Style Recognition and Transfer","group":"10"},{"id":"2021","x":"4.762326","y":"5.601536","name":"Typed Image-based Programming with Structure Editing","group":"14"},{"id":"2022","x":"5.430701","y":"4.023755","name":"A Guide for Rapid Creation of New HDLs","group":"30"},{"id":"2023","x":"1.9630797","y":"8.144539","name":"Learning to Infer Kinematic Hierarchies for Novel Object Instances","group":"-1"},{"id":"2024","x":"1.1292434","y":"9.376384","name":"Vicause: Simultaneous missing value imputation and causal discovery with groups","group":"-1"},{"id":"2025","x":"7.410909","y":"6.127919","name":"PaCon: a symbolic analysis approach for tactic-oriented clustering of programming submissions","group":"40"},{"id":"2026","x":"5.1699867","y":"5.457721","name":"Splitting, renaming, removing: a study of common cleaning activities in jupyter notebooks","group":"14"},{"id":"2027","x":"1.9513581","y":"11.079393","name":"Bias and fairness in multimodal machine learning: A case study of automated video interviews","group":"9"},{"id":"2028","x":"2.0150135","y":"10.452773","name":"The Societal Impacts of Algorithmic Decision-Making","group":"51"},{"id":"2029","x":"8.791934","y":"6.1739855","name":"API-Related Developer Information Needs in Stack Overflow","group":"21"},{"id":"2030","x":"0.6233765","y":"9.480435","name":"Crowdsourcing and evaluating concept-driven explanations of machine learning models","group":"75"},{"id":"2031","x":"5.826309","y":"4.4581957","name":"User-driven Design and Evaluation of Liquid Types in Java","group":"28"},{"id":"2032","x":"0.45684156","y":"9.87881","name":"Explaining generalization in deep learning: progress and fundamental limits","group":"75"},{"id":"2033","x":"1.3688185","y":"6.9893284","name":"\u201cIf this account is true, it is most enormously wonderful\u201d: Interestingness-if-true and the sharing of true and false news","group":"27"},{"id":"2034","x":"5.307199","y":"8.733867","name":"Active learning:\u201cHands-on\u201d meets \u201cminds-on\u201d","group":"36"},{"id":"2035","x":"1.0527532","y":"9.883562","name":"Explanation as a process: user-centric construction of multi-level and multi-modal explanations","group":"72"},{"id":"2036","x":"2.9291408","y":"6.310805","name":"VizSnippets: Compressing Visualization Bundles Into Representative Previews for Browsing Visualization Collections","group":"-1"},{"id":"2037","x":"0.10925461","y":"10.4434","name":"Designing counterfactual generators using deep model inversion","group":"1"},{"id":"2038","x":"3.3056116","y":"10.271439","name":"Safety assurances for human-robot interaction via confidence-aware game-theoretic human models","group":"56"},{"id":"2039","x":"0.46454823","y":"9.042979","name":"Common Component in Black-Boxes Is Prone to Attacks","group":"-1"},{"id":"2040","x":"3.1700342","y":"8.780816","name":"Educational psychology is evolving to accommodate technology, multiple disciplines, and Twenty-First-Century skills","group":"58"},{"id":"2041","x":"8.284526","y":"6.4250927","name":"Editing documentation","group":"19"},{"id":"2042","x":"4.060915","y":"9.361623","name":"Startups\u2013Tom Eisenmann analyzes the most prevalent failure patterns and how to avoid them","group":"-1"},{"id":"2043","x":"2.787161","y":"10.072897","name":"Understanding reliance on automation: effects of error type, error distribution, age and experience","group":"55"},{"id":"2044","x":"1.5555292","y":"9.779316","name":"Understanding the effect of out-of-distribution examples and interactive explanations on human-ai decision making","group":"-1"},{"id":"2045","x":"4.566262","y":"4.9818335","name":"Honeysuckle: Annotation-guided code generation of in-app privacy notices","group":"-1"},{"id":"2046","x":"1.0513353","y":"10.45285","name":"Human-centered explainable ai (xai): From algorithms to user experiences","group":"62"},{"id":"2047","x":"0.14145201","y":"9.331364","name":"Can Omics Help in Prognostic Machine Learning Interpretability?","group":"74"},{"id":"2048","x":"0.7283804","y":"10.145554","name":"Explainable ai for medical imaging: Knowledge matters","group":"-1"},{"id":"2049","x":"2.5201976","y":"10.014669","name":"If You Go for AI, Be Aware of the Psychological Hurdles Around It\u2014Practical and Theoretical Insights on the Industrial Application of Artificial Intelligence","group":"55"},{"id":"2050","x":"0.9191405","y":"6.09766","name":"What makes tweetorials tick: How experts communicate complex topics on twitter","group":"-1"},{"id":"2051","x":"3.19586","y":"6.0610657","name":"DashBot: An ML-Guided Dashboard Generation System","group":"61"},{"id":"2052","x":"2.310233","y":"7.093483","name":"Narratives+ diagrams: An integrated approach for externalizing and sharing people\'s causal beliefs","group":"-1"},{"id":"2053","x":"4.234062","y":"7.306358","name":"Ideaterelate: An examples gallery that helps creators explore ideas in relation to their own","group":"29"},{"id":"2054","x":"1.5247679","y":"6.8411183","name":"Reporting the Community Beat: Practices for Moderating Online Discussion at a News Website","group":"27"},{"id":"2055","x":"3.5359218","y":"9.13442","name":"Measuring and modelling how people learn how to plan and how people adapt their planning strategies the to structure of the environment","group":"53"},{"id":"2056","x":"2.1409304","y":"5.4923515","name":"SciA11y: Converting Scientific Papers to Accessible HTML","group":"-1"},{"id":"2057","x":"3.633736","y":"10.123025","name":"On Estimating the Probabilistic Region of Attraction for Partially Unknown Nonlinear Systems: An Sum-of-Squares Approach","group":"57"},{"id":"2058","x":"2.6372066","y":"9.914935","name":"Artificial intelligence (AI), don\'t surprise me and stay in your lane: An experimental testing of perceiving humanlike performances of AI","group":"55"},{"id":"2059","x":"2.511485","y":"9.940988","name":"What influences attitudes about artificial intelligence adoption: Evidence from US local officials","group":"55"},{"id":"2060","x":"2.0330064","y":"10.945343","name":"Algorithmic fairness and the situated dynamics of justice","group":"9"},{"id":"2061","x":"2.0031266","y":"7.9314013","name":"Towards optimal correlational object search","group":"-1"},{"id":"2062","x":"1.816716","y":"9.112846","name":"Set-based state estimation with probabilistic consistency guarantee under epistemic uncertainty","group":"59"},{"id":"2063","x":"5.7111464","y":"8.449624","name":"Scaffolding the Online Peer-support Experience: Novice Supporters\' Strategies and Challenges","group":"36"},{"id":"2064","x":"5.9463415","y":"8.308827","name":"Challenges and opportunities for data-centric peer evaluation tools for teamwork","group":"36"},{"id":"2065","x":"2.9123304","y":"7.9726257","name":"E Pluribus Unum: Using Conceptual Metaphor Theory to Explore and Support Mixed-Ability Workplaces","group":"-1"},{"id":"2066","x":"2.060223","y":"3.9746163","name":"Track Changes: A Literary History of Word Processing by Matthew G. Kirschenbaum","group":"6"},{"id":"2067","x":"2.0409172","y":"3.987397","name":"Track changes: A literary history of word processing","group":"6"},{"id":"2068","x":"2.865306","y":"7.769925","name":"Metaphoria: An algorithmic companion for metaphor creation","group":"52"},{"id":"2069","x":"3.1993423","y":"5.375298","name":"BunCho: ai supported story co-creation via unsupervised multitask learning to increase writers\u2019 creativity in japanese","group":"46"},{"id":"2070","x":"1.8057595","y":"7.1940727","name":"Vaccine hesitancy in online spaces: A scoping review of the research literature, 2000-2020","group":"-1"},{"id":"2071","x":"2.2385592","y":"5.3754983","name":"Dosvis: Document stance visualization","group":"64"},{"id":"2072","x":"1.8148875","y":"5.229145","name":"Visual analysis of argumentation in essays","group":"-1"},{"id":"2073","x":"1.6732157","y":"5.1902766","name":"Topics2Themes: Computer-Assisted Argument Extraction by Visual Analysis of Important Topics","group":"-1"},{"id":"2074","x":"2.4112148","y":"5.483657","name":"Supporting multifaceted viewing of word clouds with focus+ context display","group":"64"},{"id":"2075","x":"5.656444","y":"3.9930634","name":"AutumnSynth: Synthesis of Reactive Programs with Structured Latent State","group":"42"},{"id":"2076","x":"3.723435","y":"9.739592","name":"Map Induction: Compositional spatial submap learning for efficient exploration in novel environments","group":"-1"},{"id":"2077","x":"3.5143123","y":"7.0542603","name":"Factors and outcomes of collaborative information seeking: A mixed studies review with a framework synthesis","group":"-1"},{"id":"2078","x":"4.554693","y":"6.559595","name":"Tool capture and presentation system","group":"-1"},{"id":"2079","x":"3.5268586","y":"5.4937716","name":"SYNC: A Crowdsourcing Platform for News Co-editing","group":"46"},{"id":"2080","x":"2.5710807","y":"6.356855","name":"Topology-aware space distortion for structured visualization spaces","group":"68"},{"id":"2081","x":"9.076535","y":"5.8584504","name":"A systematic review of API evolution literature","group":"26"},{"id":"2082","x":"7.462767","y":"5.8964195","name":"Are comments on Stack Overflow well organized for easy retrieval by developers?","group":"40"},{"id":"2083","x":"5.7109027","y":"4.0545235","name":"Interactive Program Distillation","group":"42"},{"id":"2084","x":"8.33197","y":"6.326055","name":"Software documentation: automation and challenges","group":"19"},{"id":"2085","x":"5.0928335","y":"7.158627","name":"On the Maintenance of Crowdsourced Knowledge on Stack Overflow","group":"8"},{"id":"2086","x":"1.1524909","y":"9.846739","name":"The effect of explanation styles on user\'s trust","group":"72"},{"id":"2087","x":"0.04587664","y":"9.3461075","name":"Manipulating and measuring model interpretability","group":"74"},{"id":"2088","x":"0.075348556","y":"9.401872","name":"Human evaluation of models built for interpretability","group":"74"},{"id":"2089","x":"0.961738","y":"9.877892","name":"An evaluation of the human-interpretability of explanation","group":"72"},{"id":"2090","x":"0.6630092","y":"9.68055","name":"How do humans understand explanations from machine learning systems? an evaluation of the human-interpretability of explanation","group":"75"},{"id":"2091","x":"0.1547962","y":"9.421836","name":"Interpreting interpretability: understanding data scientists\' use of interpretability tools for machine learning","group":"74"},{"id":"2092","x":"0.12232791","y":"9.326301","name":"Measuring Machine Learning Model Interpretability","group":"74"},{"id":"2093","x":"0.23784764","y":"9.003047","name":"Evaluating the interpretability of generative models by interactive reconstruction","group":"-1"},{"id":"2094","x":"4.8046403","y":"8.247468","name":"Promoting metacognitive learning through systematic reflection","group":"-1"},{"id":"2095","x":"3.6387064","y":"9.233168","name":"Have I done enough planning or should I plan more?","group":"53"},{"id":"2096","x":"4.2556877","y":"7.2872243","name":"Ideaterelate: An examples gallery that helps creators explore ideas in relation to their own","group":"29"},{"id":"2097","x":"1.7774847","y":"8.311634","name":"Decomposed Inductive Procedure Learning","group":"-1"},{"id":"2098","x":"2.7655962","y":"6.4440703","name":"A mixed-initiative approach to reusing infographic charts","group":"-1"},{"id":"2099","x":"1.0225806","y":"8.432721","name":"Prediction-focused Mixture Models","group":"-1"},{"id":"2100","x":"5.4483676","y":"6.616875","name":"Modeling mathematical notation semantics in academic papers","group":"5"},{"id":"2101","x":"7.631819","y":"5.444469","name":"What makes security-related code examples different","group":"23"},{"id":"2102","x":"4.0151753","y":"6.8874474","name":"Attribute spaces: Supporting design space exploration in virtual reality","group":"10"},{"id":"2103","x":"1.6736447","y":"7.674772","name":"Smore: Knowledge graph completion and multi-hop reasoning in massive knowledge graphs","group":"-1"},{"id":"2104","x":"3.169887","y":"4.0416617","name":"Eliciting Bias in Question Answering Models through Ambiguity","group":"32"},{"id":"2105","x":"3.9508672","y":"6.4267526","name":"A Visualization Authoring Model for Post-WIMP Interfaces","group":"-1"},{"id":"2106","x":"2.4291418","y":"8.1537075","name":"Towards a Human-AI Hybrid Framework for Inter-Researcher Similarity Detection","group":"70"},{"id":"2107","x":"1.3560414","y":"7.0052257","name":"Moderating with the mob: Evaluating the efficacy of real-time crowdsourced fact-checking","group":"27"},{"id":"2108","x":"2.0344038","y":"10.987643","name":"On the fairness of machine-assisted human decisions","group":"9"},{"id":"2109","x":"0.030981824","y":"9.361096","name":"Extracting Clinician\'s Goals by What-if Interpretable Modeling.","group":"74"},{"id":"2110","x":"3.1012945","y":"9.476552","name":"Keeping it Real","group":"-1"},{"id":"2111","x":"2.564191","y":"5.545573","name":"Using font attributes in knowledge maps and information retrieval","group":"64"},{"id":"2112","x":"9.235449","y":"5.274298","name":"Application programming interface recommendation according to the knowledge indexed by app feature mined from app stores","group":"26"},{"id":"2113","x":"4.448533","y":"4.1022077","name":"DIY: Assessing the correctness of natural language to sql systems","group":"4"},{"id":"2114","x":"4.499361","y":"4.3531985","name":"QueryVis: Logic-based diagrams help users understand complicated SQL queries faster","group":"4"},{"id":"2115","x":"6.8136973","y":"6.05877","name":"Studying the language and structure in non-programmers\' solutions to programming problems","group":"-1"},{"id":"2116","x":"3.3381863","y":"6.0206556","name":"Towards readability individuation: the right changes to text format make large impacts on reading speed","group":"-1"},{"id":"2117","x":"3.027229","y":"5.278202","name":"\u201cI Can\u2019t Reply with That\u201d: Characterizing Problematic Email Reply Suggestions","group":"46"},{"id":"2118","x":"3.2383666","y":"5.8858","name":"Characterchat: Supporting the creation of fictional characters through conversation and progressive manifestation with a chatbot","group":"61"},{"id":"2119","x":"3.2142735","y":"5.3794584","name":"Creative help: A story writing assistant","group":"46"},{"id":"2120","x":"3.1437397","y":"5.182028","name":"Automated assistance for creative writing with an rnn language model","group":"46"},{"id":"2121","x":"3.5940282","y":"9.314747","name":"SideControl: Controlled open-domain dialogue generation via additive side networks","group":"53"},{"id":"2122","x":"3.844179","y":"4.810159","name":"Guided Policy Search for Parameterized Skills using Adverbs","group":"-1"},{"id":"2123","x":"0.6936945","y":"10.070872","name":"Explainable artificial intelligence for predictive analytics on customer turnover: A user-friendly interface for non-expert users","group":"-1"},{"id":"2124","x":"5.9499073","y":"7.08772","name":"Streamers teaching programming, art, and gaming: Cognitive apprenticeship, serendipitous teachable moments, and tacit expert knowledge","group":"-1"},{"id":"2125","x":"2.187526","y":"5.1691318","name":"Application of Natural Language Processing Toward Scientific Text Understanding","group":"-1"},{"id":"2126","x":"5.858439","y":"8.115465","name":"Can Automated Feedback Improve Teachers\' Uptake of Student Ideas? Evidence from a Randomized Controlled Trial in a Large-Scale Online Course. EdWorkingPaper No. 21-483.","group":"36"},{"id":"2127","x":"1.508636","y":"6.886234","name":"Characterizing partisan political narrative frameworks about COVID-19 on Twitter","group":"27"},{"id":"2128","x":"4.797924","y":"3.938378","name":"Patchcomm: using commonsense knowledge to guide syntactic parsers","group":"-1"},{"id":"2129","x":"2.66745","y":"5.4402776","name":"50 Ways to Bake a Cookie: Mapping the Landscape of Procedural Texts","group":"-1"},{"id":"2130","x":"0.15222609","y":"9.912076","name":"A survey on the robustness of feature importance and counterfactual explanations","group":"-1"},{"id":"2131","x":"6.4041295","y":"3.6055079","name":"Neural program generation modulo static analysis","group":"-1"},{"id":"2132","x":"5.242042","y":"5.4803414","name":"Restoring the executability of jupyter notebooks by automatic upgrade of deprecated APIs","group":"14"},{"id":"2133","x":"1.9067539","y":"10.614022","name":"Towards Reliable and Practicable Algorithmic Recourse","group":"-1"},{"id":"2134","x":"1.9657454","y":"8.501062","name":"3DP3: 3D scene perception via probabilistic programming","group":"-1"},{"id":"2135","x":"6.2146606","y":"6.660636","name":"Making Students\' Ideas Visible through Coding a Scientific Computational Model","group":"43"},{"id":"2136","x":"2.2032945","y":"10.396347","name":"Stakeholder Participation in AI: Beyond\\" Add Diverse Stakeholders and Stir\\"","group":"-1"},{"id":"2137","x":"5.604834","y":"8.541188","name":"Interactions with Peers on the Path to Math Success","group":"36"},{"id":"2138","x":"5.660823","y":"4.390041","name":"Build systems \xe0 la carte","group":"-1"},{"id":"2139","x":"5.8431993","y":"4.7927966","name":"Build systems \xe0 la carte: Theory and practice","group":"-1"},{"id":"2140","x":"2.6774623","y":"8.531923","name":"Visual intelligence through human interaction","group":"65"},{"id":"2141","x":"1.8747706","y":"8.768977","name":"A bayesian-symbolic approach to reasoning and learning in intuitive physics","group":"-1"},{"id":"2142","x":"3.0568857","y":"4.082715","name":"Semantic novelty detection in natural language descriptions","group":"32"},{"id":"2143","x":"3.8274174","y":"9.270319","name":"Demonstration+ natural language: multimodal interfaces for GUI-based interactive task learning agents","group":"53"},{"id":"2144","x":"1.8418235","y":"8.668588","name":"An explanation of in-context learning as implicit bayesian inference","group":"-1"},{"id":"2145","x":"3.3044398","y":"3.8314722","name":"Flexible generation of natural language deductions","group":"-1"},{"id":"2146","x":"1.5129967","y":"6.8463316","name":"Aligning multidimensional worldviews and discovering ideological differences","group":"27"},{"id":"2147","x":"2.915205","y":"7.5963216","name":"Warning signs: The semiotics of danger","group":"-1"},{"id":"2148","x":"3.2345908","y":"5.3564377","name":"Wordcraft: a human-ai collaborative editor for story writing","group":"46"},{"id":"2149","x":"1.7418869","y":"7.6415453","name":"Improving human-labeled data through dynamic automatic conflict resolution","group":"-1"},{"id":"2150","x":"3.1953294","y":"5.832135","name":"Revamp: Enhancing Accessible Information Seeking Experience of Online Shopping for Blind or Low Vision Users","group":"-1"},{"id":"2151","x":"4.6633635","y":"8.808573","name":"Pragmatic-pedagogic value alignment","group":"-1"},{"id":"2152","x":"3.0636477","y":"10.860223","name":"A mathematical theory of cooperative communication","group":"0"},{"id":"2153","x":"3.0685744","y":"10.881551","name":"Cooperative communication as belief transport","group":"0"},{"id":"2154","x":"2.285249","y":"3.6642191","name":"Overview of current AI Alignment Approaches","group":"6"},{"id":"2155","x":"3.463881","y":"10.19182","name":"Towards Socially Aware Robot Learning: Inferring Human Objectives and Latent Safety Preferences from Observations","group":"-1"},{"id":"2156","x":"3.2807205","y":"8.927404","name":"Literal or pedagogic human? analyzing human model misspecification in objective learning","group":"58"},{"id":"2157","x":"1.5415353","y":"8.626219","name":"Sequential cooperative Bayesian inference","group":"-1"},{"id":"2158","x":"1.934888","y":"10.22214","name":"The surprising creativity of digital evolution: A collection of anecdotes from the evolutionary computation and artificial life research communities","group":"51"},{"id":"2159","x":"1.948968","y":"10.219777","name":"The surprising creativity of digital evolution: A collection of anecdotes from the evolutionary computation and artificial life research communities","group":"51"},{"id":"2160","x":"3.0923584","y":"6.0869546","name":"Where to draw the line when the lines are blurred: A computational and functional analysis of cohesion in superhero comics","group":"61"},{"id":"2161","x":"2.378491","y":"3.655084","name":"Automatic bilingual markup transfer","group":"6"},{"id":"2162","x":"3.7580283","y":"10.20402","name":"Interactive Reinforcement Learning for Autonomous Behavior Design","group":"57"},{"id":"2163","x":"3.210058","y":"5.354986","name":"The scenes of violence in a digital writing environment: The sample of Wattpad","group":"46"},{"id":"2164","x":"0.5718684","y":"6.7047534","name":"Evaluating the heterogeneous effect of a modifiable risk factor on suicide: The case of vitamin D deficiency","group":"3"},{"id":"2165","x":"3.0007503","y":"4.2574058","name":"Self-trained Pretrained Language Models for Evidence Detection","group":"32"},{"id":"2166","x":"1.6639665","y":"5.108151","name":"Multi-task learning in argument mining for persuasive online discussions","group":"-1"},{"id":"2167","x":"2.52783","y":"6.1755233","name":"Reflections on the evolution of the Jigsaw visual analytics system","group":"-1"},{"id":"2168","x":"1.7150344","y":"6.141395","name":"Tile based visual analytics for twitter big data exploratory analysis","group":"-1"},{"id":"2169","x":"1.1221913","y":"6.1726794","name":"Twitter data analytics","group":"-1"},{"id":"2170","x":"1.4947242","y":"6.160513","name":"Visual sentiment analysis on twitter data streams","group":"-1"},{"id":"2171","x":"1.9713217","y":"6.073052","name":"Diamonds in the rough: Social media visual analytics for journalistic inquiry","group":"-1"},{"id":"2172","x":"1.6351075","y":"6.0546427","name":"Vartta: a visual analytics system for making sense of real-time twitter data","group":"-1"},{"id":"2173","x":"1.7744884","y":"6.46349","name":"Visualizing YouTube\u2019s comment space: online hostility as a networked phenomena","group":"-1"},{"id":"2174","x":"1.7719231","y":"6.5014653","name":"Visualizing YouTube\u2019s comment space: online hostility as a network phenomena","group":"27"},{"id":"2175","x":"4.1922364","y":"7.305012","name":"PopNet: a Pop Culture Knowledge Association Network for Supporting Creative Connections.","group":"29"},{"id":"2176","x":"8.560225","y":"5.3052397","name":"Analyzing the Impact of Pull Requests to Guide Library Evolution","group":"22"},{"id":"2177","x":"3.1586738","y":"4.0920434","name":"Distantly-supervised dense retrieval enables open-domain question answering without evidence annotation","group":"32"},{"id":"2178","x":"6.291823","y":"6.2861433","name":"Recovering from errors during programming by demonstration","group":"43"},{"id":"2179","x":"6.405808","y":"5.103424","name":"Building mashups by example","group":"-1"},{"id":"2180","x":"0.760009","y":"8.31764","name":"Designing for effective end-user interaction with machine learning","group":"71"},{"id":"2181","x":"0.38832167","y":"8.705094","name":"Why-oriented end-user debugging of naive Bayes text classification","group":"73"},{"id":"2182","x":"6.629402","y":"6.297604","name":"Fixing the program my computer learned: Barriers for end users, challenges for the machine","group":"43"},{"id":"2183","x":"3.3886876","y":"4.4760327","name":"Key challenges for modeling language creation by demonstration","group":"32"},{"id":"2184","x":"4.4432693","y":"6.592028","name":"AUGUR: providing context-aware interaction support","group":"10"},{"id":"2185","x":"5.0489817","y":"4.680938","name":"Specification and verification of complex location events with panoramic","group":"20"},{"id":"2186","x":"5.158899","y":"6.305334","name":"Keep doing what i just did: automating smartphones by demonstration","group":"11"},{"id":"2187","x":"3.4379127","y":"9.696339","name":"Teaching agents when they fail: end user development in goal-oriented conversational agents","group":"-1"},{"id":"2188","x":"5.4474936","y":"7.900551","name":"Human tutorial instruction in the raw","group":"-1"},{"id":"2189","x":"3.9725654","y":"7.4095845","name":"Integrating knowledge capture and supervised learning through a human-computer interface","group":"-1"},{"id":"2190","x":"3.6014466","y":"9.227089","name":"Interacting with context","group":"53"},{"id":"2191","x":"5.1624107","y":"6.157345","name":"Learn to automate GUI tasks from demonstration","group":"11"},{"id":"2192","x":"5.81936","y":"5.9498153","name":"A formal framework for combining natural instruction and demonstration for end-user programming","group":"-1"},{"id":"2193","x":"5.1278405","y":"6.2469406","name":"End user mobile task automation using multimodal programming by demonstration","group":"11"},{"id":"2194","x":"1.2228007","y":"8.695404","name":"Data-driven training development: deriving performance constraints from operational examples","group":"-1"},{"id":"2195","x":"5.09316","y":"6.3292737","name":"Automating by demonstration: making smartphone automations accessible for end-users, the elderly and the blind","group":"11"},{"id":"2196","x":"5.992331","y":"6.209276","name":"Towards the Integration of Programming by Demonstration and Programming by Instruction using Golog.","group":"43"},{"id":"2197","x":"4.572672","y":"6.7294574","name":"Intelligent User Interfaces with Adaptive Knowledge Assistants","group":"-1"},{"id":"2198","x":"3.3762782","y":"4.3980536","name":"Modeling Language Creation by Demonstration","group":"32"},{"id":"2199","x":"1.7844827","y":"8.255906","name":"Broadening the Applicability of Relational Learning","group":"69"},{"id":"2200","x":"6.0149703","y":"6.227591","name":"Towards the integration of programming by demonstration and programming by instruction using golog: Extended version with proofs","group":"43"},{"id":"2201","x":"8.174647","y":"4.5613112","name":"Error-tolerant version space algebra","group":"-1"},{"id":"2202","x":"5.782311","y":"4.400348","name":"Constraint specification by example in a meta-CASE tool","group":"-1"},{"id":"2203","x":"5.170442","y":"6.310339","name":"Keep Doing What I Just Did: Automating Smartphones by Demonstration","group":"11"},{"id":"2204","x":"3.7573214","y":"9.695832","name":"A Multi-Modal Intelligent Agent that Learns from Demonstrations and Natural Language Instructions","group":"-1"},{"id":"2205","x":"0.3764015","y":"8.691396","name":"Why-Oriented End-User Debugging of Naive Bayes Text Classification","group":"73"},{"id":"2206","x":"3.624493","y":"9.604384","name":"A Multi-modal Approach to Concept Learning in Task Oriented Conversational Agents","group":"-1"},{"id":"2207","x":"5.3776474","y":"6.2513895","name":"Lumos: Improving Smart Home IoT Visibility and Interoperability Through Analyzing Mobile Apps","group":"11"},{"id":"2208","x":"5.2005334","y":"6.3075457","name":"Automating Smartphones by Demonstration","group":"11"},{"id":"2209","x":"5.1762853","y":"6.2481184","name":"TeachMe, a Programming by Example Customizable Gesture Recognition System","group":"11"},{"id":"2210","x":"4.9691586","y":"6.4095535","name":"Enhancing Demonstration-Based Recognition Tools with Interactive Declarative Guidance for Authoring Touch Gestures","group":"11"},{"id":"2211","x":"0.42870384","y":"8.683149","name":"Toward end-user debugging of machine-learned programs","group":"73"},{"id":"2212","x":"3.5336118","y":"5.4194155","name":"How to serve soup: interleaving demonstration and assisted editing to support nonprogrammers","group":"46"},{"id":"2213","x":"5.0903077","y":"4.729682","name":"Enabling End-User Specification and Debugging of Complex Events for Location Systems","group":"20"},{"id":"2214","x":"3.2958505","y":"7.8735147","name":"Principles of human\u2014computer collaboration for knowledge discovery in science","group":"47"},{"id":"2215","x":"3.7443018","y":"8.156896","name":"An affordance-based framework for human computation and human-computer collaboration","group":"31"},{"id":"2216","x":"3.3337135","y":"8.054497","name":"Human\u2013computer collaboration for skin cancer recognition","group":"-1"},{"id":"2217","x":"3.6456761","y":"8.176595","name":"Modes for creative human-computer collaboration: Alternating and task-divided co-creativity","group":"31"},{"id":"2218","x":"4.036851","y":"8.038236","name":"The experience of agency in human-computer interactions: a review","group":"38"},{"id":"2219","x":"3.2883112","y":"9.534793","name":"Model-based communicative acts: human-computer collaboration in supervisory control","group":"-1"},{"id":"2220","x":"3.695356","y":"8.24867","name":"A Human-Computer Collaboration Paradgim for Bridging Besign Conceptualization and Implementation","group":"31"},{"id":"2221","x":"3.9575193","y":"7.754793","name":"The scope and importance of human interruption in human-computer interaction design","group":"38"},{"id":"2222","x":"3.90934","y":"7.8944426","name":"Encyclopedia of human computer interaction","group":"38"},{"id":"2223","x":"3.170665","y":"7.5902705","name":"WITH: human-computer collaboration for data annotation and enrichment","group":"-1"},{"id":"2224","x":"3.1340544","y":"8.7729645","name":"Accelerating the evolution of cognitive behaviors through human-computer collaboration","group":"58"},{"id":"2225","x":"3.658032","y":"8.381768","name":"Toward hybrid teams: A platform to understand human-computer collaboration during the design of complex engineered systems","group":"31"},{"id":"2226","x":"3.9750972","y":"7.8885183","name":"The art of human-computer interface design","group":"38"},{"id":"2227","x":"3.6523693","y":"8.198921","name":"Knowledge requirements for human-computer collaboration","group":"31"},{"id":"2228","x":"3.2701378","y":"8.092165","name":"Development of a human-computer collaborative sleep scoring system for polysomnography recordings","group":"-1"},{"id":"2229","x":"3.967144","y":"7.932516","name":"Human-computer interaction: Psychological aspects of the human use of computing","group":"38"},{"id":"2230","x":"3.9384098","y":"8.098247","name":"Collagen: Applying collaborative discourse theory to human-computer interaction","group":"38"},{"id":"2231","x":"3.4026513","y":"9.272216","name":"Dynamic human-computer collaboration in real-time unmanned vehicle scheduling","group":"-1"},{"id":"2232","x":"3.9994154","y":"7.992651","name":"Human-computer interaction: psychology as a science of design","group":"38"},{"id":"2233","x":"3.9390216","y":"7.948946","name":"An introduction to human-computer interaction","group":"38"},{"id":"2234","x":"5.3218","y":"9.2094755","name":"Issues in variation theory and how it could inform pedagogical choices","group":"35"},{"id":"2235","x":"2.0970654","y":"8.5167265","name":"Human Learning Meets Representation Learning","group":"65"},{"id":"2236","x":"1.7836846","y":"5.675174","name":"Draw me Science: Multi-level and multi-scale reconstruction of knowledge dynamics with phylomemies","group":"63"},{"id":"2237","x":"0.77979124","y":"8.104087","name":"Lensing Machines: Representing Perspective in Latent Variable Models","group":"-1"},{"id":"2238","x":"6.14245","y":"6.5042114","name":"Live programming and programming by example: better together (keynote)","group":"43"},{"id":"2239","x":"6.3639803","y":"4.914178","name":"Rules of program behavior","group":"-1"},{"id":"2240","x":"1.3645955","y":"8.987531","name":"Teaching humans when to defer to a classifier via exemplars","group":"-1"},{"id":"2241","x":"1.5599439","y":"8.516746","name":"Lossless compression with probabilistic circuits","group":"-1"},{"id":"2242","x":"0.50046295","y":"8.753266","name":"Revealing the structure of prediction models through feature interaction detection","group":"73"},{"id":"2243","x":"0.6308275","y":"6.6573696","name":"Text mining for online mental health state and personality assessment","group":"3"},{"id":"2244","x":"7.2600484","y":"4.820689","name":"Source code text replacement by example","group":"23"},{"id":"2245","x":"1.0065393","y":"8.4870405","name":"A survey of domain knowledge elicitation in applied machine learning","group":"-1"},{"id":"2246","x":"3.8821676","y":"5.1593685","name":"Analysis of Edit Operations for Post-editing Systems","group":"-1"},{"id":"2247","x":"0.6615911","y":"8.384561","name":"Local decision pitfalls in interactive machine learning: An investigation into feature selection in sentiment analysis","group":"71"},{"id":"2248","x":"4.2399635","y":"4.2747254","name":"Tempura: Query analysis with structural templates","group":"4"},{"id":"2249","x":"1.460885","y":"6.3489356","name":"Dependency syntax in the automatic detection of irony and stance","group":"-1"},{"id":"2250","x":"3.2901134","y":"7.396506","name":"The social abduction of science","group":"49"},{"id":"2251","x":"1.739131","y":"10.241603","name":"Identification of Subgroups With Similar Benefits in Off-Policy Policy Evaluation","group":"-1"},{"id":"2252","x":"3.2879949","y":"9.219742","name":"Expressive communication: A common framework for evaluating developments in generative models and steering interfaces","group":"-1"},{"id":"2253","x":"1.0993067","y":"9.800637","name":"Simulated user studies for explanation evaluation","group":"72"},{"id":"2254","x":"1.9436641","y":"9.562634","name":"Experts\' Gists Drive Antibiotic Prescription Decisions","group":"59"},{"id":"2255","x":"8.53019","y":"5.329792","name":"How are framework code samples maintained and used by developers? The case of Android and Spring Boot","group":"22"},{"id":"2256","x":"0.6895172","y":"6.617948","name":"Identifying insomnia from social media posts: psycholinguistic analyses of user tweets","group":"3"},{"id":"2257","x":"0.6463222","y":"6.650253","name":"Identifying, Analyzing and Predicting Depression on Twitter","group":"3"},{"id":"2258","x":"6.121816","y":"7.2649913","name":"How Computer Science and Statistics Instructors Approach Data Science Pedagogy Differently: Three Case Studies","group":"-1"},{"id":"2259","x":"6.4419847","y":"3.7991087","name":"Neurosymbolic programming","group":"-1"},{"id":"2260","x":"1.2795861","y":"8.090995","name":"Extending the wilds benchmark for unsupervised adaptation","group":"-1"},{"id":"2261","x":"1.8547497","y":"11.159413","name":"Fair Structure Learning in Heterogeneous Graphical Models","group":"9"},{"id":"2262","x":"7.689992","y":"5.183088","name":"Dicos: Discovering insecure code snippets from stack overflow posts by leveraging user discussions","group":"23"},{"id":"2263","x":"1.940823","y":"10.329518","name":"The principles and limits of algorithm-in-the-loop decision making","group":"51"},{"id":"2264","x":"2.0450108","y":"8.268652","name":"Interactive disentanglement: Learning concepts by interacting with their prototype representations","group":"-1"},{"id":"2265","x":"6.946641","y":"6.229372","name":"AI in software engineering at Facebook","group":"-1"},{"id":"2266","x":"5.2800484","y":"3.9718416","name":"Assuage: Assembly synthesis using a guided exploration","group":"30"},{"id":"2267","x":"0.03790354","y":"9.356345","name":"Manipulating and Measuring Model Interpretability","group":"74"},{"id":"2268","x":"2.0212038","y":"10.821903","name":"\'It\'s Reducing a Human Being to a Percentage\' Perceptions of Justice in Algorithmic Decisions","group":"9"},{"id":"2269","x":"0.5726882","y":"9.158253","name":"No explainability without accountability: An empirical study of explanations and feedback in interactive ml","group":"75"},{"id":"2270","x":"1.013758","y":"10.412698","name":"Designing theory-driven user-centric explainable AI","group":"62"},{"id":"2271","x":"2.966202","y":"4.5928326","name":"On the Dangers of Stochastic Parrots: Can Language Models Be Too Big?\ud83e\udd9c","group":"-1"},{"id":"2272","x":"2.0238404","y":"10.322002","name":"Algorithmic anxiety and coping strategies of Airbnb hosts","group":"51"},{"id":"2273","x":"1.9628994","y":"11.086192","name":"Improving fairness in machine learning systems: What do industry practitioners need?","group":"9"},{"id":"2274","x":"2.014105","y":"10.96804","name":"Fairness and abstraction in sociotechnical systems","group":"9"},{"id":"2275","x":"2.913055","y":"8.918095","name":"Mental labour","group":"58"},{"id":"2276","x":"2.9605453","y":"8.897684","name":"Mental labour","group":"58"},{"id":"2277","x":"2.9141414","y":"8.890685","name":"On the division of mental labour","group":"58"},{"id":"2278","x":"1.9341649","y":"11.053908","name":"Inherent trade-offs in the fair determination of risk scores","group":"9"},{"id":"2279","x":"4.902164","y":"8.593311","name":"Types of motivation affect study selection, attention, and dropouts in online experiments","group":"36"},{"id":"2280","x":"2.7552552","y":"4.238318","name":"Semantics derived automatically from language corpora contain human-like biases","group":"-1"},{"id":"2281","x":"8.382937","y":"6.3911963","name":"Understanding How Programmers Can Use Annotations on Documentation","group":"19"},{"id":"2282","x":"3.1113932","y":"4.21575","name":"Varclr: Variable semantic representation pre-training via contrastive learning","group":"32"},{"id":"2283","x":"0.71023667","y":"8.512968","name":"Gam changer: Editing generalized additive models with interactive visualization","group":"71"},{"id":"2284","x":"0.10465258","y":"10.4462385","name":"Diverse, global and amortised counterfactual explanations for uncertainty estimates","group":"1"},{"id":"2285","x":"1.8079624","y":"8.117397","name":"How does Contrastive Pre-training Connect Disparate Domains?","group":"69"},{"id":"2286","x":"3.2725503","y":"4.777346","name":"Ensembles and cocktails: Robust finetuning for natural language generation","group":"45"},{"id":"2287","x":"3.966095","y":"6.264863","name":"User-driven programming support for rapid visualization authoring in d3","group":"12"},{"id":"2288","x":"2.439947","y":"10.346665","name":"Key concepts in AI safety: specification in machine learning","group":"-1"},{"id":"2289","x":"1.90515","y":"11.165374","name":"Unfairness despite awareness: Group-fair classification with strategic agents","group":"9"},{"id":"2290","x":"2.043621","y":"5.633851","name":"Iterative machine learning applied to annotation of text datasets","group":"-1"},{"id":"2291","x":"7.0450015","y":"6.967321","name":"Hyperstyle: A tool for assessing the code quality of solutions to programming assignments","group":"34"},{"id":"2292","x":"4.141738","y":"8.091939","name":"Mapping HCI research methods for studying social media interaction: A systematic literature review","group":"38"},{"id":"2293","x":"4.5257783","y":"6.427705","name":"Direct manipulation interfaces","group":"-1"},{"id":"2294","x":"4.5129805","y":"6.5601854","name":"Direct manipulation vs. interface agents","group":"-1"},{"id":"2295","x":"4.0218353","y":"7.7777343","name":"Resumption strategies for interrupted programming tasks","group":"38"},{"id":"2296","x":"2.568556","y":"6.6638613","name":"The science of visual data communication: What works","group":"67"},{"id":"2297","x":"2.415666","y":"6.9986796","name":"An accessible interaction model for data visualisation in statistics","group":"-1"},{"id":"2298","x":"1.794716","y":"5.5147595","name":"Understanding and supporting academic literature review workflows with litsense","group":"63"},{"id":"2299","x":"4.1903696","y":"6.5884175","name":"Hybrid Paper-Digital Interfaces: A Systematic Literature Review","group":"-1"},{"id":"2300","x":"3.4199235","y":"6.2589803","name":"A literature review of quantitative persona creation","group":"-1"},{"id":"2301","x":"4.0644016","y":"8.243","name":"Standardizing reporting of participant compensation in hci: A systematic literature review and recommendations for the field","group":"-1"},{"id":"2302","x":"7.58843","y":"3.6714048","name":"Semantic Code Search for Smart Contracts","group":"24"},{"id":"2303","x":"5.598603","y":"3.73668","name":"Efficient Pragmatic Program Synthesis with Informative Specifications","group":"42"},{"id":"2304","x":"9.070368","y":"6.1827793","name":"API Design","group":"25"},{"id":"2305","x":"2.987774","y":"4.17847","name":"Can Pre-trained Language Models be Used to Resolve Textual and Semantic Merge Conflicts?","group":"32"},{"id":"2306","x":"2.679012","y":"6.3516393","name":"Special issue on visualization teaching and literacy","group":"68"},{"id":"2307","x":"5.2193823","y":"5.4173985","name":"Nalin: learning from runtime behavior to find name-value inconsistencies in jupyter notebooks","group":"14"},{"id":"2308","x":"3.3470557","y":"6.070426","name":"Towards Individuated Reading Experiences: Different Fonts Increase Reading Speed for Different Individuals","group":"61"},{"id":"2309","x":"2.637008","y":"10.145277","name":"An instrument for measuring teachers\u2019 trust in AI-based educational technology","group":"55"},{"id":"2310","x":"3.0971518","y":"8.973443","name":"Coordinating social action: a primer for the cross-species investigation of communicative repair","group":"58"},{"id":"2311","x":"8.496914","y":"4.0128226","name":"Getafix: Learning to fix bugs automatically","group":"7"},{"id":"2312","x":"3.873643","y":"5.0684094","name":"On the fly synthesis of edit suggestions","group":"-1"},{"id":"2313","x":"7.7255063","y":"5.243938","name":"Deckard: Scalable and accurate tree-based detection of code clones","group":"23"},{"id":"2314","x":"3.2904994","y":"6.0772533","name":"Reading normal versus rapid, sequential text formats: Effects of text structure and reading ability","group":"61"},{"id":"2315","x":"3.2255754","y":"5.868307","name":"Text formats and web design for visually impaired and dyslexic readers\u2014Clear Text for All","group":"61"},{"id":"2316","x":"3.2529025","y":"5.835509","name":"Designing instructional and informational text","group":"61"},{"id":"2317","x":"2.3547761","y":"6.8482003","name":"Warning, bias may occur: A proposed approach to detecting cognitive bias in interactive visual analytics","group":"-1"},{"id":"2318","x":"2.2733498","y":"6.8260465","name":"A framework for cognitive bias detection and feedback in a visual analytics environment","group":"-1"},{"id":"2319","x":"2.1200044","y":"6.8467445","name":"Ensemble-vis: A framework for the statistical visualization of ensemble data","group":"-1"},{"id":"2320","x":"1.7572374","y":"7.2739735","name":"Viruses, vaccines, and COVID-19: explaining and improving risky decision-making","group":"-1"},{"id":"2321","x":"2.0375881","y":"10.981002","name":"Assessing the Fairness of AI Systems: AI Practitioners\' Processes, Challenges, and Needs for Support","group":"9"},{"id":"2322","x":"6.076188","y":"6.994786","name":"Recruiting participants with programming skills: a comparison of four crowdsourcing platforms and a CS student mailing list","group":"-1"},{"id":"2323","x":"5.8814125","y":"4.602114","name":"Types for Tables: A Language Design Benchmark","group":"-1"},{"id":"2324","x":"7.8912683","y":"4.761427","name":"Discovering repetitive code changes in ML systems","group":"23"},{"id":"2325","x":"2.5423462","y":"10.174292","name":"Human-centered AI","group":"55"},{"id":"2326","x":"4.9664845","y":"5.5149693","name":"EDAssistant: Supporting Exploratory Data Analysis in Computational Notebooks with In Situ Code Search and Recommendation","group":"14"},{"id":"2327","x":"6.20398","y":"6.946592","name":"Investigating the impact of using a live programming environment in a CS1 course","group":"43"},{"id":"2328","x":"6.0227466","y":"4.435859","name":"On Proving and Disproving Equivalence of Functional Programming Assignments","group":"28"},{"id":"2329","x":"3.001438","y":"6.1200123","name":"The Divergent of Ideational Metafunction Realizations in Novel Graphic Translation","group":"61"},{"id":"2330","x":"6.1406465","y":"6.915139","name":"Data Visualizations to Foster Self-regulated Learning with Intelligent Programming Tutors: Towards an Instructional Design Framework","group":"-1"},{"id":"2331","x":"3.6342928","y":"10.058638","name":"Programmatic Reward Design by Example","group":"57"},{"id":"2332","x":"5.9275045","y":"7.3801036","name":"Five Pedagogical Principles of a User-Centered Design Course that Prepares Computing Undergraduates for Industry Jobs","group":"-1"},{"id":"2333","x":"3.0054314","y":"8.2068205","name":"Human Languages with Greater Information Density Increase Communication Speed, but Decrease Conversation Breadth","group":"66"},{"id":"2334","x":"5.726681","y":"7.5807314","name":"User-Centered Design for a Student-Facing Dashboard Grounded in Learning Theory","group":"-1"},{"id":"2335","x":"4.9459047","y":"7.6878943","name":"A framework for open civic design: Integrating public participation, crowdsourcing, and design thinking","group":"-1"},{"id":"2336","x":"1.4444299","y":"9.477034","name":"Inference from explanation.","group":"-1"},{"id":"2337","x":"0.11772029","y":"10.439305","name":"Inference and explanation in counterfactual reasoning","group":"1"},{"id":"2338","x":"1.5052059","y":"7.9045763","name":"Supporting analysis of dimensionality reduction results with contrastive learning","group":"-1"},{"id":"2339","x":"2.9401314","y":"6.2510266","name":"Meetingvis: Visual narratives to assist in recalling meeting context and content","group":"61"},{"id":"2340","x":"9.547048","y":"5.650001","name":"Kg2code: Correct code examples mining service based on knowledge graph for fixing api misuses","group":"26"},{"id":"2341","x":"9.078174","y":"5.1423616","name":"PERSONA: A personalized model for code recommendation","group":"26"},{"id":"2342","x":"5.848475","y":"6.1176147","name":"Asyncflow: A visual programming tool for game artificial intelligence","group":"43"},{"id":"2343","x":"8.757492","y":"3.842207","name":"Towards More Reliable Automated Program Repair by Integrating Static Analysis Techniques","group":"7"},{"id":"2344","x":"9.107704","y":"6.30986","name":"A Usability Study of Cryptographic API Design","group":"25"},{"id":"2345","x":"2.4796686","y":"10.339295","name":"Towards evaluating ethical accountability and trustworthiness in AI systems","group":"55"},{"id":"2346","x":"2.2565174","y":"9.832721","name":"Prediction Accuracy And Autonomy: Assessing how recommender systems objectives can align with user autonomy","group":"-1"},{"id":"2347","x":"5.5933695","y":"5.409662","name":"Show your work: Scratchpads for intermediate computation with language models","group":"44"},{"id":"2348","x":"0.14702494","y":"10.380466","name":"Deduce: Generating counterfactual explanations efficiently","group":"1"},{"id":"2349","x":"3.3176515","y":"4.012803","name":"Grammar-based grounded lexicon learning","group":"32"},{"id":"2350","x":"1.8625274","y":"11.171425","name":"Latent space smoothing for individually fair representations","group":"9"},{"id":"2351","x":"1.0814784","y":"8.610963","name":"Combining graph convolutional neural networks and label propagation","group":"-1"},{"id":"2352","x":"0.7061356","y":"9.732544","name":"Explaining artificial intelligence with visual analytics in healthcare","group":"75"},{"id":"2353","x":"0.95916384","y":"10.4932375","name":"A multi-component framework for the analysis and design of explainable artificial intelligence","group":"62"},{"id":"2354","x":"1.045951","y":"10.417651","name":"Levels of explainable artificial intelligence for human-aligned conversational explanations","group":"62"},{"id":"2355","x":"1.3019814","y":"10.430281","name":"The who in explainable ai: How ai background shapes perceptions of ai explanations","group":"62"},{"id":"2356","x":"8.07985","y":"4.3107553","name":"Can OpenAI Codex and Other Large Language Models Help Us Fix Security Bugs?","group":"-1"},{"id":"2357","x":"8.582438","y":"3.981419","name":"Automatic Program Repair with OpenAI\'s Codex: Evaluating QuixBugs","group":"7"},{"id":"2358","x":"0.64633447","y":"9.2922735","name":"Visual analytics in deep learning: An interrogative survey for the next frontiers","group":"75"},{"id":"2359","x":"6.962457","y":"4.3905306","name":"Demonstration informed specification search","group":"-1"},{"id":"2360","x":"5.762414","y":"3.72065","name":"Program synthesis: does feedback help?","group":"42"},{"id":"2361","x":"2.6598916","y":"9.905733","name":"Towards a science of human-ai decision making: a survey of empirical studies","group":"55"},{"id":"2362","x":"1.167337","y":"8.586473","name":"Concept bottleneck models","group":"-1"},{"id":"2363","x":"9.017771","y":"5.1694374","name":"Predictive synthesis of API-centric code","group":"26"},{"id":"2364","x":"7.4419866","y":"3.6070616","name":"Cross-domain deep code search with few-shot meta learning","group":"24"},{"id":"2365","x":"0.09759722","y":"9.30687","name":"Learning interpretable concept-based models with human feedback","group":"74"},{"id":"2366","x":"1.7315357","y":"9.147478","name":"An open source machine learning framework for efficient and transparent systematic reviews","group":"59"},{"id":"2367","x":"5.448703","y":"6.158157","name":"Exploring end user programming needs in home automation","group":"-1"},{"id":"2368","x":"2.5577939","y":"6.750565","name":"The interactive visualization gap in initial exploratory data analysis","group":"67"},{"id":"2369","x":"7.701977","y":"4.6418104","name":"Static specification mining using automata-based abstractions","group":"23"},{"id":"2370","x":"3.0040836","y":"7.480764","name":"The Role of Facial Expressions and Emotion in ASL","group":"49"},{"id":"2371","x":"1.2124004","y":"9.350189","name":"Learning-from-disagreement: A model comparison and visual analytics framework","group":"-1"},{"id":"2372","x":"3.4774683","y":"6.959711","name":"Hubble Spacer Telescope","group":"-1"},{"id":"2373","x":"0.6242095","y":"8.866228","name":"Visual exploration of machine learning model behavior with hierarchical surrogate rule sets","group":"-1"},{"id":"2374","x":"7.3213305","y":"3.941052","name":"Meta Learning for Code Summarization","group":"-1"},{"id":"2375","x":"0.57772833","y":"6.701304","name":"Emu: Early mental health uncovering framework and dataset","group":"3"},{"id":"2376","x":"0.18958658","y":"9.5259495","name":"Summarize with Caution: Comparing Global Feature Attributions.","group":"74"},{"id":"2377","x":"7.6059155","y":"3.9936707","name":"Generating clarifying questions for query refinement in source code search","group":"24"},{"id":"2378","x":"1.8192496","y":"8.188561","name":"Learning from One and Only One Shot","group":"69"},{"id":"2379","x":"5.758377","y":"5.254834","name":"Understanding trigger-action programs through novel visualizations of program differences","group":"-1"},{"id":"2380","x":"2.7282388","y":"6.4975214","name":"The stories we tell about data: Media types for data-driven storytelling","group":"-1"},{"id":"2381","x":"2.5257502","y":"9.233288","name":"The Cost of Thinking, Journal of Consumer Research","group":"54"},{"id":"2382","x":"7.3854084","y":"5.6556134","name":"Debugging with stack overflow: Web search behavior in novice and expert programmers","group":"-1"},{"id":"2383","x":"8.407693","y":"3.9719641","name":"Can We Automatically Fix Bugs by Learning Edit Operations?","group":"7"},{"id":"2384","x":"2.091794","y":"6.1938953","name":"A survey of tasks and visualizations in multiverse analysis reports","group":"-1"},{"id":"2385","x":"7.4108415","y":"5.031813","name":"On the Utility of Marrying GIN and PMD for Improving Stack Overflow Code Snippets","group":"23"},{"id":"2386","x":"0.5042038","y":"9.766488","name":"The disagreement problem in explainable machine learning: A practitioner\'s perspective","group":"75"},{"id":"2387","x":"1.1802108","y":"9.869736","name":"Machine explanations and human understanding","group":"72"},{"id":"2388","x":"2.2797878","y":"5.821254","name":"Gosling: A grammar-based toolkit for scalable and interactive genomics data visualization","group":"-1"},{"id":"2389","x":"2.2417955","y":"6.0139136","name":"Tasks, techniques, and tools for genomic data visualization","group":"-1"},{"id":"2390","x":"1.0709031","y":"9.988579","name":"Rethinking Explainability as a Dialogue: A Practitioner\'s Perspective","group":"72"},{"id":"2391","x":"4.610126","y":"7.8135595","name":"Comparing parallel and iterative prototyping strategies during engineering design","group":"39"},{"id":"2392","x":"7.446942","y":"3.6022305","name":"On the importance of building high-quality training datasets for neural code search","group":"24"},{"id":"2393","x":"8.625486","y":"3.93839","name":"Trust enhancement issues in program repair","group":"7"},{"id":"2394","x":"6.7744064","y":"3.9112859","name":"Codefill: Multi-token code completion by jointly learning from structure and naming sequences","group":"37"},{"id":"2395","x":"8.701795","y":"3.876617","name":"Feature-fl: Feature-based fault localization","group":"7"},{"id":"2396","x":"9.272911","y":"5.25264","name":"Holistic combination of structural and textual code information for context based api recommendation","group":"26"},{"id":"2397","x":"9.330627","y":"5.638399","name":"Apiro: A framework for automated security tools api recommendation","group":"26"},{"id":"2398","x":"0.59911585","y":"6.768545","name":"Efficiently identifying individuals at high risk for treatment resistance in major depressive disorder using electronic health records","group":"3"},{"id":"2399","x":"8.633372","y":"3.900276","name":"Better code search and reuse for better program repair","group":"7"},{"id":"2400","x":"8.621301","y":"3.9448144","name":"Exploring a Larger Search Space for Automatic Program Repair","group":"7"},{"id":"2401","x":"8.702081","y":"3.878081","name":"Effective Lightweight Software Fault Localization based on Test Suite Optimization","group":"7"},{"id":"2402","x":"9.296141","y":"5.5583086","name":"A3: Assisting android api migrations using code examples","group":"26"},{"id":"2403","x":"4.3774877","y":"5.941996","name":"Stylette: Styling the Web with Natural Language","group":"15"},{"id":"2404","x":"5.8964167","y":"3.952179","name":"Tree traversal synthesis using domain-specific symbolic compilation","group":"42"},{"id":"2405","x":"5.091371","y":"4.140216","name":"View composition algebra for ad hoc comparison","group":"-1"},{"id":"2406","x":"2.5929945","y":"6.726901","name":"Diff in the loop: Supporting data comparison in exploratory data analysis","group":"67"},{"id":"2407","x":"8.426508","y":"4.1778665","name":"CHEX: Multiversion Replay with Ordered Checkpoints","group":"7"},{"id":"2408","x":"4.0737658","y":"8.798903","name":"Intrinsically motivated exploration as empowerment","group":"16"},{"id":"2409","x":"6.7848306","y":"4.218812","name":"Better together? an evaluation of ai-supported code translation","group":"-1"},{"id":"2410","x":"7.490609","y":"3.6705415","name":"Code search based on context-aware code translation","group":"24"},{"id":"2411","x":"0.39025933","y":"8.64394","name":"Data distribution debugging in machine learning pipelines","group":"73"},{"id":"2412","x":"1.6671408","y":"8.258576","name":"Zero-shot assistance in novel decision problems","group":"-1"},{"id":"2413","x":"3.7345386","y":"10.268668","name":"Active uncertainty learning for human-robot interaction: An implicit dual control approach","group":"57"},{"id":"2414","x":"3.722904","y":"9.998928","name":"Strategy Discovery and Mixture in Lifelong Learning from Heterogeneous Demonstration","group":"57"},{"id":"2415","x":"2.6437488","y":"9.937682","name":"HINT: Integration Testing for AI-based features with Humans in the Loop","group":"55"},{"id":"2416","x":"1.944109","y":"6.106732","name":"Designing Word Filter Tools for Creator-led Comment Moderation","group":"-1"},{"id":"2417","x":"2.5237126","y":"10.156312","name":"Three Maxims for Developing Human-Centered AI for Decision Making","group":"55"},{"id":"2418","x":"2.4612584","y":"6.317679","name":"A comparative evaluation on tree visualization methods for hierarchical structures with large fan-outs","group":"68"},{"id":"2419","x":"5.1623416","y":"7.0869536","name":"Cody: An AI-based system to semi-automate coding for qualitative research","group":"8"},{"id":"2420","x":"1.2561349","y":"5.721483","name":"Topiclens: Efficient multi-level visual topic exploration of large-scale document collections","group":"50"},{"id":"2421","x":"3.041746","y":"9.772488","name":"Uncalibrated models can improve human-ai collaboration","group":"56"},{"id":"2422","x":"5.730349","y":"3.5655644","name":"Iterative Genetic Improvement: Scaling Stochastic Program Synthesis","group":"42"},{"id":"2423","x":"9.142044","y":"6.242199","name":"Web APIs: Features, Issues, and Expectations--A Large-Scale Empirical Study of Web APIs from Two Publicly Accessible Registries Using Stack Overflow and A User Survey","group":"25"},{"id":"2424","x":"5.3299007","y":"3.7794132","name":"Special Issue on Syntax-Guided Synthesis Preface","group":"-1"},{"id":"2425","x":"9.462403","y":"5.5833254","name":"ArgusDroid: detecting Android malware variants by mining permission-API knowledge graph","group":"26"},{"id":"2426","x":"2.0113215","y":"5.3937078","name":"Paper plain: Making medical research papers approachable to healthcare consumers with natural language processing","group":"-1"},{"id":"2427","x":"8.666718","y":"3.91654","name":"Program Repair: Automated vs. Manual","group":"7"},{"id":"2428","x":"5.6205707","y":"3.7147765","name":"A Position on Program Synthesis for Processor Development","group":"42"},{"id":"2429","x":"0.41930908","y":"9.171073","name":"Data Representativity for Machine Learning and AI Systems","group":"75"},{"id":"2430","x":"4.0024004","y":"8.1707945","name":"Designing for emotion regulation interventions: an agenda for HCI theory and research","group":"38"},{"id":"2431","x":"8.660085","y":"3.926682","name":"Program repair with repeated learning","group":"7"},{"id":"2432","x":"8.000481","y":"5.989055","name":"Does this apply to me? An empirical study of technical context in Stack Overflow","group":"-1"},{"id":"2433","x":"0.534954","y":"9.950801","name":"Explainable Online Lane Change Predictions on a Digital Twin with a Layer Normalized LSTM and Layer-wise Relevance Propagation","group":"75"},{"id":"2434","x":"6.387895","y":"3.6505592","name":"Compositional Generalization and Decomposition in Neural Program Synthesis","group":"41"},{"id":"2435","x":"5.6860213","y":"3.8188415","name":"POSTER: Automatic Synthesis of Parallel Unix Commands and Pipelines with KumQuat","group":"42"},{"id":"2436","x":"8.627253","y":"3.987457","name":"Language models can prioritize patches for practical program patching","group":"7"},{"id":"2437","x":"6.6482463","y":"3.9202158","name":"Can NMT understand me? towards perturbation-based evaluation of NMT models for code generation","group":"37"},{"id":"2438","x":"3.0721173","y":"6.580838","name":"A Web-Scale Analysis of the Community Origins of Image Memes","group":"-1"},{"id":"2439","x":"3.1704886","y":"6.4335694","name":"Improving Video Interfaces by Presenting Informational Units of Videos","group":"-1"},{"id":"2440","x":"5.5817723","y":"8.229611","name":"Easier Said or Easier Done? Exploring the Relative Merits of Common Feedback Presentations","group":"36"},{"id":"2441","x":"0.5193902","y":"9.779461","name":"Why was this cited? Explainable machine learning applied to COVID-19 research literature","group":"75"},{"id":"2442","x":"7.5519514","y":"3.786049","name":"Code search: A survey of techniques for finding code","group":"24"},{"id":"2443","x":"8.018192","y":"4.805408","name":"DiffSearch: A Scalable and Precise Search Engine for Code Changes","group":"23"},{"id":"2444","x":"0.66217417","y":"9.689631","name":"Caipi in practice: Towards explainable interactive medical image classification","group":"75"},{"id":"2445","x":"4.135981","y":"6.7673197","name":"A call for collaborative interfaces","group":"10"},{"id":"2446","x":"4.573243","y":"5.0940175","name":"An interactive constraint-based system for drawing graphs","group":"-1"},{"id":"2447","x":"2.6467607","y":"4.4529815","name":"Monte Carlo Tree Search for Interpreting Stress in Natural Language","group":"-1"},{"id":"2448","x":"6.0272593","y":"5.871772","name":"Supercharging Trial-and-Error for Learning Complex Software Applications","group":"43"},{"id":"2449","x":"1.0808474","y":"10.512687","name":"xxAI-beyond explainable artificial intelligence","group":"62"},{"id":"2450","x":"2.0262861","y":"9.706576","name":"Inclusion of clinicians in the development and evaluation of clinical artificial intelligence tools: a systematic literature review","group":"59"},{"id":"2451","x":"0.91041964","y":"9.179035","name":"A comprehensive survey on trustworthy graph neural networks: Privacy, robustness, fairness, and explainability","group":"-1"},{"id":"2452","x":"2.4787438","y":"6.335173","name":"A Tour of Visualization Techniques for Computer Vision Datasets","group":"68"},{"id":"2453","x":"0.52854466","y":"9.7984705","name":"Explainable artificial intelligence in meteorology and climate science: Model fine-tuning, calibrating trust and learning new science","group":"75"},{"id":"2454","x":"3.1474519","y":"9.651746","name":"The role of shared mental models in human-AI teams: a theoretical review","group":"56"},{"id":"2455","x":"1.5298433","y":"10.016433","name":"The best of both worlds: Dual systems of reasoning in animals and AI","group":"-1"},{"id":"2456","x":"4.020578","y":"6.92158","name":"Concept Design Moves","group":"10"},{"id":"2457","x":"3.5302746","y":"10.033848","name":"Interpretable, Verifiable, and Robust Reinforcement Learning via Program Synthesis","group":"-1"},{"id":"2458","x":"3.129846","y":"4.7079415","name":"Transformer feed-forward layers build predictions by promoting concepts in the vocabulary space","group":"45"},{"id":"2459","x":"6.7503433","y":"3.987236","name":"Synchromesh: Reliable code generation from pre-trained language models","group":"37"},{"id":"2460","x":"6.131571","y":"3.733143","name":"Learning to complete code with sketches","group":"-1"},{"id":"2461","x":"7.1328516","y":"7.8773217","name":"Powergrading: a clustering approach to amplify human effort for short answer grading","group":"33"},{"id":"2462","x":"1.3126175","y":"9.480174","name":"Post hoc explanations may be ineffective for detecting unknown spurious correlation","group":"-1"},{"id":"2463","x":"7.030644","y":"5.711882","name":"Practitioners\' expectations on automated code comment generation","group":"-1"},{"id":"2464","x":"3.624119","y":"9.295472","name":"Collaborative decision making is grounded in representations of other people\u2019s competence and effort.","group":"53"},{"id":"2465","x":"2.5543816","y":"10.09756","name":"The deskilling of domain expertise in ai development","group":"55"},{"id":"2466","x":"5.5472765","y":"4.4446573","name":"ODEN: Live Programming for Neural Network Architecture Editing","group":"-1"},{"id":"2467","x":"2.715778","y":"7.78172","name":"A Personalized Visual Aid for Selections of Appearance Building Products with Long-term Effects","group":"52"},{"id":"2468","x":"3.913743","y":"6.542539","name":"ONYX-User Interfaces for Assisting in Interactive Task Learning for Natural Language Interfaces of Data Visualization Tools","group":"-1"},{"id":"2469","x":"4.090807","y":"7.197777","name":"Investigating positive and negative qualities of human-in-the-loop optimization for designing interaction techniques","group":"-1"},{"id":"2470","x":"2.6205902","y":"8.885641","name":"Generative theories of interaction","group":"-1"},{"id":"2471","x":"1.8596072","y":"3.4703336","name":"Manual and Automatic Tree Editing with Applications to Microbiome Time-series Data","group":"6"},{"id":"2472","x":"3.6728323","y":"4.8280144","name":"Supporting Complex Information-Seeking Tasks with Implicit Constraints","group":"-1"},{"id":"2473","x":"0.6098742","y":"9.841185","name":"Exsum: From local explanations to model understanding","group":"75"},{"id":"2474","x":"2.752007","y":"6.234937","name":"How Do Captions Affect Visualization Reading?","group":"68"},{"id":"2475","x":"3.1838856","y":"5.9097166","name":"A Grammar for Hypothesis-Driven Visual Analysis","group":"61"},{"id":"2476","x":"4.973015","y":"4.31902","name":"Extending the View Composition Algebra to Hierarchical Data","group":"-1"},{"id":"2477","x":"1.5353857","y":"10.398759","name":"Explaining Artificial Intelligence Generation and Creativity: Human interpretability for novel ideas and artifacts","group":"-1"},{"id":"2478","x":"2.4718435","y":"10.27583","name":"Designing for responsible trust in AI systems: A communication perspective","group":"55"},{"id":"2479","x":"1.7559845","y":"8.352399","name":"Object Representations as Equilibria: Training Iterative Inference Algorithms with Implicit Differentiation","group":"69"},{"id":"2480","x":"5.6455097","y":"3.6028647","name":"utomating Mechanism Design with Program Synthesis","group":"42"},{"id":"2481","x":"2.7845056","y":"6.147489","name":"Math Augmentation: How Authors Enhance the Readability of Formulas using Novel Visual Design Practices","group":"-1"},{"id":"2482","x":"2.4199405","y":"6.8181515","name":"Concept splatters: Exploration of latent spaces based on human interpretable concepts","group":"-1"},{"id":"2483","x":"5.6106944","y":"4.2127924","name":"Bolt-on, Compact, and Rapid Program Slicing for Notebooks [Technical Report]","group":"-1"},{"id":"2484","x":"2.5517807","y":"4.833082","name":"Mobilizing conceptual spaces: How word embedding models can inform measurement and theory within organization science","group":"-1"},{"id":"2485","x":"3.6399639","y":"5.5769744","name":"Crossdata: Leveraging text-data connections for authoring data documents","group":"46"},{"id":"2486","x":"2.2949154","y":"6.1335764","name":"Supporting data-driven basketball journalism through interactive visualization","group":"-1"},{"id":"2487","x":"3.0231879","y":"5.556137","name":"TaleBrush: visual sketching of story generation with pretrained language models","group":"-1"},{"id":"2488","x":"1.5642438","y":"9.850207","name":"Effects of explanations in AI-assisted decision making: principles and comparisons","group":"-1"},{"id":"2489","x":"4.197898","y":"7.575377","name":"\u201d I don\u2019t want to feel like I\u2019m working in a 1960s factory\u201d: The Practitioner Perspective on Creativity Support Tool Adoption","group":"29"},{"id":"2490","x":"5.2188563","y":"6.038985","name":"Informing housing policy through web automation: Lessons for designing programming tools for domain experts","group":"-1"},{"id":"2491","x":"3.395749","y":"9.556585","name":"\u201cAlexa, Do You Want to Build a Snowman?\u201d Characterizing Playful Requests to Conversational Agents","group":"-1"},{"id":"2492","x":"5.2465024","y":"7.012704","name":"Templates and Trust-o-meters: Towards a widely deployable indicator of trust in Wikipedia","group":"-1"},{"id":"2493","x":"1.3705462","y":"9.159952","name":"Exploring How Anomalous Model Input and Output Alerts Affect Decision-Making in Healthcare","group":"-1"},{"id":"2494","x":"6.3296742","y":"4.291214","name":"Discovering the syntax and strategies of natural language programming with generative language models","group":"-1"},{"id":"2495","x":"2.7791376","y":"6.6470537","name":"Movie emotion map: an interactive tool for exploring movies according to their emotional signature","group":"-1"},{"id":"2496","x":"0.29262674","y":"9.253565","name":"Using Expert Interpretation and Reasoning to Guide Model Selection in Machine Learning","group":"-1"},{"id":"2497","x":"6.7301345","y":"3.8569026","name":"Productivity assessment of neural code completion","group":"37"},{"id":"2498","x":"2.9366899","y":"5.522629","name":"Opal: Multimodal Image Generation for News Illustration","group":"-1"},{"id":"2499","x":"2.9810095","y":"5.0962305","name":"Sparks: Inspiration for science writing using language models","group":"46"},{"id":"2500","x":"0.9444329","y":"8.3105755","name":"GANSlider: How Users Control Generative Models for Images using Multiple Sliders with and without Feedforward Information","group":"-1"},{"id":"2501","x":"5.5699","y":"8.536227","name":"Why does peer instruction benefit student learning?","group":"36"},{"id":"2502","x":"1.0561894","y":"10.420107","name":"Sensible AI: Re-imagining interpretability and explainability using sensemaking theory","group":"62"},{"id":"2503","x":"3.4164155","y":"7.833652","name":"Sensemaking in organizations","group":"47"},{"id":"2504","x":"3.338116","y":"7.793077","name":"Making sense of sensemaking: the critical sensemaking approach","group":"47"},{"id":"2505","x":"2.3131282","y":"10.175998","name":"How Experienced Designers of Enterprise Applications Engage AI as a Design Material","group":"51"},{"id":"2506","x":"4.205487","y":"8.707288","name":"Problem-solving efficiency and cognitive load for adaptive parsons problems vs. writing the equivalent code","group":"16"},{"id":"2507","x":"7.375058","y":"4.9412746","name":"Adapting existing source code snippets to new contexts","group":"23"},{"id":"2508","x":"2.927501","y":"9.465145","name":"Everyday Diplomacy","group":"-1"},{"id":"2509","x":"5.528174","y":"6.772063","name":"Do the math: Making mathematics in wikipedia computable","group":"5"},{"id":"2510","x":"3.1558623","y":"5.2847586","name":"Suggestion Lists vs. Continuous Generation: Interaction Design for Writing with Generative Models on Mobile Devices Affect Text Length, Wording and Perceived Authorship","group":"46"},{"id":"2511","x":"1.131169","y":"7.0201707","name":"Wigglite: Low-cost Information Collection and Triage","group":"27"},{"id":"2512","x":"6.5482454","y":"3.8255267","name":"Generating diverse code explanations using the gpt-3 large language model","group":"37"},{"id":"2513","x":"2.3297799","y":"10.15681","name":"Trust, but Verify: Using Self-supervised Probing to Improve Trustworthiness","group":"-1"},{"id":"2514","x":"1.2190491","y":"8.04827","name":"Unsupervised learning under latent label shift","group":"-1"},{"id":"2515","x":"3.1171763","y":"10.1177435","name":"Transparency through Explanations and Justifications in Human-Robot Task-Based Communications","group":"-1"},{"id":"2516","x":"2.371871","y":"6.5243278","name":"A nested model for visualization design and validation","group":"-1"},{"id":"2517","x":"4.2914033","y":"6.868328","name":"Reality-based interaction: a framework for post-WIMP interfaces","group":"10"},{"id":"2518","x":"4.295238","y":"6.890511","name":"Instrumental interaction: an interaction model for designing post-WIMP user interfaces","group":"10"},{"id":"2519","x":"6.612697","y":"4.37257","name":"Interactive Code Generation via Test-Driven User-Intent Formalization","group":"-1"},{"id":"2520","x":"2.6984587","y":"6.61323","name":"Understanding how Designers Find and Use Data Visualization Examples","group":"-1"},{"id":"2521","x":"2.2679012","y":"8.175473","name":"Enhancing the Cognition and Efficacy of Machine Learning Through Similarity","group":"70"},{"id":"2522","x":"7.1231437","y":"4.9424663","name":"DevReplay: Linter that generates regular expressions for repeating code changes","group":"23"},{"id":"2523","x":"7.413547","y":"6.1568103","name":"Evidence-based programming language design: a philosophical and methodological exploration","group":"40"},{"id":"2524","x":"7.3689294","y":"6.1076984","name":"Belief & evidence in empirical software engineering","group":"40"},{"id":"2525","x":"7.449333","y":"6.055623","name":"The nature of evidence in empirical software engineering","group":"40"},{"id":"2526","x":"7.461167","y":"6.080749","name":"Writing for synthesis of evidence in empirical software engineering","group":"40"},{"id":"2527","x":"7.479266","y":"6.058607","name":"Empirical software engineering: from discipline to interdiscipline","group":"40"},{"id":"2528","x":"7.5096865","y":"6.036051","name":"Selecting empirical methods for software engineering research","group":"40"},{"id":"2529","x":"7.4066567","y":"6.169018","name":"Evidence-based software engineering","group":"40"},{"id":"2530","x":"7.0260997","y":"5.727169","name":"Code readability testing, an empirical study","group":"-1"},{"id":"2531","x":"7.0188475","y":"5.2264996","name":"Regexes are hard: Decision-making, difficulties, and risks in programming regular expressions","group":"-1"},{"id":"2532","x":"6.99144","y":"5.2983975","name":"An empirical study on the readability of regular expressions: Textual versus graphical","group":"23"},{"id":"2533","x":"9.070662","y":"6.137765","name":"The factory pattern in API design: A usability evaluation","group":"25"},{"id":"2534","x":"9.123427","y":"6.0411334","name":"API Usability at Scale.","group":"25"},{"id":"2535","x":"9.183065","y":"5.9496007","name":"Discovering API usability problems at scale","group":"26"},{"id":"2536","x":"9.135097","y":"6.200922","name":"Api usability: report on special interest group at chi","group":"25"},{"id":"2537","x":"9.087109","y":"6.2168884","name":"API usability peer reviews: a method for evaluating the usability of application programming interfaces","group":"25"},{"id":"2538","x":"1.7060413","y":"5.038249","name":"Approaches to text mining arguments from legal cases","group":"-1"},{"id":"2539","x":"1.6562923","y":"4.9743104","name":"Using argument mining for legal text summarization","group":"-1"},{"id":"2540","x":"2.6389186","y":"9.841049","name":"Do people engage cognitively with ai? impact of ai assistance on incidental learning","group":"55"},{"id":"2541","x":"2.5261185","y":"10.249896","name":"Challenges in Creating Responsible and Human-Centered AI","group":"55"},{"id":"2542","x":"6.684236","y":"4.082762","name":"Incorporating domain knowledge through task augmentation for front-end JavaScript code generation","group":"-1"},{"id":"2543","x":"6.7407036","y":"3.8891969","name":"Antecedent Predictions Are Dominant for Tree-Based Code Generation","group":"37"},{"id":"2544","x":"7.468027","y":"4.8245645","name":"Security Implications of Large Language Model Code Assistants: A User Study","group":"23"},{"id":"2545","x":"2.8009555","y":"5.0188274","name":"Beyond Text Generation: Supporting Writers with Continuous Automatic Text Summaries","group":"46"},{"id":"2546","x":"2.5195136","y":"9.221263","name":"Mental control of uncertainty","group":"54"},{"id":"2547","x":"9.0792055","y":"5.1624093","name":"Taming Multi-Output Recommenders for Software Engineering","group":"26"},{"id":"2548","x":"3.8400285","y":"7.564291","name":"Loose Ends: a mixed-initiative creative interface for playful storytelling","group":"-1"},{"id":"2549","x":"2.674705","y":"9.992951","name":"Examining Agency, Expertise, and Roles of AI Systems in AI-Mediated Communication","group":"55"},{"id":"2550","x":"2.980044","y":"4.959105","name":"Interacting with Opinionated Language Models Changes Users\u2019 Views","group":"46"},{"id":"2551","x":"1.223623","y":"9.163365","name":"MediCoSpace: Visual Decision-Support for Doctor-Patient Consultations using Medical Concept Spaces from EHRs","group":"-1"},{"id":"2552","x":"2.255892","y":"6.595785","name":"A Tale of Two Centers: Visual Exploration of Health Disparities in Cancer Care","group":"-1"},{"id":"2553","x":"2.4425669","y":"7.3806","name":"How do we measure trust in visual data communication?","group":"-1"},{"id":"2554","x":"6.2784376","y":"6.0889564","name":"Exploring the Learnability of Program Synthesizers by Novice Programmers","group":"43"},{"id":"2555","x":"5.335783","y":"4.459647","name":"INTENT: Interactive Tensor Transformation Synthesis","group":"-1"},{"id":"2556","x":"6.292174","y":"5.667794","name":"Grounded copilot: How programmers interact with code-generating models","group":"-1"},{"id":"2557","x":"5.0509667","y":"4.784769","name":"Rigel: Transforming tabular data by declarative mapping","group":"20"},{"id":"2558","x":"5.9274077","y":"6.332234","name":"An Integrative Human-Centered Architecture for Interactive Programming Assistants","group":"43"},{"id":"2559","x":"4.9609914","y":"6.056767","name":"SemanticOn: Specifying Content-Based Semantic Conditions for Web Automation Programs","group":"-1"},{"id":"2560","x":"0.4294001","y":"8.701192","name":"Interactive AI Model Debugging and Correction","group":"73"},{"id":"2561","x":"5.413727","y":"5.8098087","name":"Supporting Just-in-time Learning for Data Science Programming","group":"-1"},{"id":"2562","x":"5.4333057","y":"5.808571","name":"ParamMacros: Creating UI Automation Leveraging End-User Natural Language Parameterization","group":"-1"},{"id":"2563","x":"6.1323047","y":"4.257618","name":"Spine: Scaling up Programming-by-Negative-Example for String Filtering and Transformation","group":"28"},{"id":"2564","x":"4.9211845","y":"6.151415","name":"Webrobot: Web robotic process automation using interactive programming-by-demonstration","group":"-1"},{"id":"2565","x":"3.2115638","y":"9.425517","name":"Reducing conversational agents\u2019 overconfidence through linguistic calibration","group":"-1"},{"id":"2566","x":"5.0893335","y":"8.231143","name":"Changing social contexts to foster equity in college science courses: An ecological-belonging intervention","group":"-1"},{"id":"2567","x":"6.242989","y":"5.9903255","name":"Study of Program Synthesizers & Novice Programmers","group":"43"},{"id":"2568","x":"2.843049","y":"5.6504364","name":"COINS: Dynamically generating COntextualized inference rules for narrative story completion","group":"-1"},{"id":"2569","x":"4.105513","y":"8.722698","name":"Emotional exploration and the eudaimonic gameplay experience: a grounded theory","group":"16"},{"id":"2570","x":"1.2159234","y":"10.360888","name":"Automated rationale generation: a technique for explainable AI and its effects on human perceptions","group":"62"},{"id":"2571","x":"2.2658434","y":"6.25856","name":"Of Course it\'s Political! A Critical Inquiry into Underemphasized Dimensions in Civic Text Visualization","group":"-1"},{"id":"2572","x":"2.0232298","y":"6.0240307","name":"Characterizing Uncertainty in the Visual Text Analysis Pipeline","group":"60"},{"id":"2573","x":"2.0105886","y":"5.977624","name":"An Interdisciplinary Perspective on Evaluation and Experimental Design for Visual Text Analytics: Position Paper","group":"60"},{"id":"2574","x":"2.6006842","y":"4.9365478","name":"SciBERT: A pretrained language model for scientific text","group":"-1"},{"id":"2575","x":"4.3099427","y":"7.9439955","name":"Postcolonial computing: a lens on design and development","group":"-1"},{"id":"2576","x":"1.0722617","y":"10.430004","name":"Explainability pitfalls: Beyond dark patterns in explainable AI","group":"62"},{"id":"2577","x":"1.5392989","y":"6.398578","name":"Configuring audiences: A case study of email communication","group":"-1"},{"id":"2578","x":"3.3111372","y":"7.794669","name":"The cost structure of sensemaking","group":"47"},{"id":"2579","x":"3.3588183","y":"7.801635","name":"The Cost Structure of Sensemaking: Analysis of Three Case Studies","group":"47"},{"id":"2580","x":"3.3640356","y":"7.770356","name":"Introduction to this special issue on sensemaking","group":"47"},{"id":"2581","x":"3.3375967","y":"7.772262","name":"The sensemaking process and leverage points for analyst technology as identified through cognitive task analysis","group":"47"},{"id":"2582","x":"3.4083836","y":"7.8328223","name":"Towards a comprehensive model of the cognitive process and mechanisms of individual sensemaking","group":"47"},{"id":"2583","x":"3.3110309","y":"7.784702","name":"Sensemaking in a senseless world: 2018 workshop abstract","group":"47"},{"id":"2584","x":"3.377004","y":"7.8044524","name":"Improving the cost structure of sensemaking tasks: Analysing user concepts to inform information system design","group":"47"},{"id":"2585","x":"1.5935111","y":"9.907271","name":"Explanations can reduce overreliance on ai systems during decision-making","group":"62"},{"id":"2586","x":"2.072975","y":"9.746645","name":"Under-reliance or misalignment? How proxy outcomes limit measurement of appropriate reliance in AI-assisted decision-making","group":"59"},{"id":"2587","x":"3.7136266","y":"6.423204","name":"What can i say? effects of discoverability in vuis on task performance and user experience","group":"-1"},{"id":"2588","x":"2.9720528","y":"8.701343","name":"Working memory is complex and dynamic, like your thoughts","group":"58"},{"id":"2589","x":"3.0495083","y":"4.3812995","name":"Using natural language and program abstractions to instill human inductive biases in machines","group":"-1"},{"id":"2590","x":"2.637106","y":"8.69606","name":"The best game in town: The re-emergence of the language of thought hypothesis across the cognitive sciences","group":"-1"},{"id":"2591","x":"4.038763","y":"8.694293","name":"\u201cFun, fun, fun\u201d: Types of fun, attitudes to fun, and their relation to personality and biographical factors","group":"16"},{"id":"2592","x":"3.3737304","y":"4.2393994","name":"Synthesizing theories of human language with Bayesian program induction","group":"32"},{"id":"2593","x":"2.2991982","y":"5.3682637","name":"Structure-aware visualization of text corpora","group":"64"},{"id":"2594","x":"2.056657","y":"5.4655504","name":"Unsupervised classification and visualization of unstructured text for the support of interdisciplinary collaboration","group":"63"},{"id":"2595","x":"4.6580486","y":"7.8912206","name":"Advancing an understanding of design cognition and design metacognition: Progress and prospects","group":"39"},{"id":"2596","x":"2.1467354","y":"8.056205","name":"Foraging among an overabundance of similar variants","group":"-1"},{"id":"2597","x":"4.696503","y":"7.9852257","name":"The design risks framework: Understanding metacognition for iteration","group":"39"},{"id":"2598","x":"3.727983","y":"9.36414","name":"Team mental models in a team knowledge framework: Expanding theory and measurement across disciplinary boundaries","group":"53"},{"id":"2599","x":"7.623532","y":"3.9781466","name":"You Don\'t Know Search: Helping Users Find Code by Automatically Evaluating Alternative Queries","group":"24"},{"id":"2600","x":"2.1430185","y":"4.043104","name":"Problems and mysteries in the study of human language","group":"6"},{"id":"2601","x":"4.2468905","y":"8.070406","name":"Interface design for HCI classroom: from learners\u2019 perspective","group":"38"},{"id":"2602","x":"1.5058893","y":"9.587559","name":"Inducing self-explanation: A meta-analysis","group":"-1"},{"id":"2603","x":"1.5422481","y":"9.459574","name":"The misunderstood limits of folk science: An illusion of explanatory depth","group":"-1"},{"id":"2604","x":"4.0955954","y":"7.428485","name":"Augmenting scientific creativity with an analogical search engine","group":"29"},{"id":"2605","x":"3.6776652","y":"4.73056","name":"FeedLens: Polymorphic Lenses for Personalizing Exploratory Search over Knowledge Graphs","group":"-1"},{"id":"2606","x":"5.1782074","y":"7.657175","name":"CommunityPulse: Facilitating community input analysis by surfacing hidden insights, reflections, and priorities","group":"-1"},{"id":"2607","x":"5.2062917","y":"7.6560616","name":"CommunityClick: Capturing and reporting community feedback from town halls to improve inclusivity","group":"-1"},{"id":"2608","x":"2.9169543","y":"7.8154707","name":"The division of labor in communication: Speakers help listeners account for asymmetries in visual perspective","group":"52"},{"id":"2609","x":"1.3779408","y":"6.9006486","name":"Social media sharing of low-quality news sources by political elites","group":"27"},{"id":"2610","x":"3.887041","y":"5.073793","name":"LASE: locating and applying systematic edits by learning from examples","group":"-1"},{"id":"2611","x":"3.0948555","y":"5.153273","name":"Coauthor: Designing a human-ai collaborative writing dataset for exploring language model capabilities","group":"46"},{"id":"2612","x":"3.151328","y":"5.2739987","name":"The impact of multiple parallel phrase suggestions on email input and composition behaviour of native and non-native english writers","group":"46"},{"id":"2613","x":"2.086467","y":"5.973643","name":"Evaluating visual analytics for text information retrieval","group":"60"},{"id":"2614","x":"2.880389","y":"3.8999093","name":"Improving large-scale paraphrase acquisition and generation","group":"-1"},{"id":"2615","x":"2.6029935","y":"6.3779135","name":"A multi-level typology of abstract visualization tasks","group":"68"},{"id":"2616","x":"2.744548","y":"6.2084494","name":"Striking a balance: Reader takeaways and preferences when integrating text and charts","group":"68"},{"id":"2617","x":"0.69643325","y":"6.014384","name":"Toward a general, scaleable framework for bayesian teaching with applications to topic models","group":"50"},{"id":"2618","x":"3.3540897","y":"9.062981","name":"Calibrate your listeners! Robust communication-based training for pragmatic speakers","group":"-1"},{"id":"2619","x":"1.8686028","y":"4.494735","name":"Using only cross-document relationships for both generic and topic-focused multi-document summarizations","group":"13"},{"id":"2620","x":"0.8919487","y":"6.104276","name":"Domain-based Latent Personal Analysis and its use for impersonation detection in social media","group":"-1"},{"id":"2621","x":"1.6799241","y":"5.0455356","name":"Mining legal arguments in court decisions","group":"-1"},{"id":"2622","x":"2.3537936","y":"9.290808","name":"How reasoning, judgment, and decision making are colored by gist-based intuition: A fuzzy-trace theory approach","group":"54"},{"id":"2623","x":"5.334494","y":"8.599831","name":"Measuring actual learning versus feeling of learning in response to being actively engaged in the classroom","group":"36"},{"id":"2624","x":"5.23608","y":"8.674204","name":"The relative benefits of learning by teaching and teaching expectancy","group":"36"},{"id":"2625","x":"5.514558","y":"8.544535","name":"Better being wrong (sometimes): classroom assessment that enhances student learning and motivation","group":"36"},{"id":"2626","x":"4.868447","y":"8.76737","name":"Benefits and problems with student teams: Suggestions for improving team projects","group":"36"},{"id":"2627","x":"3.9051125","y":"9.261776","name":"The secrets of great teamwork","group":"53"},{"id":"2628","x":"4.950109","y":"8.564345","name":"Putting Structure to Flipped Classrooms Using Team-Based Learning.","group":"36"},{"id":"2629","x":"4.899012","y":"8.684372","name":"The essential elements of team\u2010based learning","group":"-1"},{"id":"2630","x":"5.2145996","y":"8.545907","name":"The affective dimension of learning: Faculty-student relationships that enhance intellectual development.","group":"36"},{"id":"2631","x":"5.353437","y":"8.246392","name":"Social learning and social entrepreneurship education","group":"36"},{"id":"2632","x":"5.185738","y":"8.576863","name":"Understanding teaching and teaching for understanding","group":"36"},{"id":"2633","x":"4.4884324","y":"8.664918","name":"Exploring play/playfulness and learning in the adult and higher education classroom","group":"-1"},{"id":"2634","x":"5.498625","y":"8.158171","name":"Learning communities in higher education: Best practices","group":"36"},{"id":"2635","x":"5.3302374","y":"8.280271","name":"Learning communities in classrooms: A reconceptualization of educational practice","group":"36"},{"id":"2636","x":"5.3101153","y":"8.198335","name":"The Challenge of Learning Communities as a Growing National Movement.","group":"-1"},{"id":"2637","x":"5.537774","y":"8.434822","name":"Student presentations: Do they benefit those who listen","group":"36"},{"id":"2638","x":"5.5038095","y":"8.368204","name":"The importance of oral presentations for university students","group":"36"},{"id":"2639","x":"5.479095","y":"8.45095","name":"Benefits of Student Verbal Presentations to the Class","group":"36"},{"id":"2640","x":"4.790852","y":"7.879657","name":"Collaborative design as a form of professional development","group":"39"},{"id":"2641","x":"5.421395","y":"8.332922","name":"Enhancing teaching and learning through dialogue: A student and staff partnership model","group":"36"},{"id":"2642","x":"5.077547","y":"8.458886","name":"Making Hay from Wheats: A Classsourcing Method to Identify Misconceptions","group":"36"},{"id":"2643","x":"1.9148327","y":"4.5888915","name":"News summarization and evaluation in the era of gpt-3","group":"13"},{"id":"2644","x":"3.176071","y":"7.432032","name":"\\" Is It My Turn?\\" Assessing Teamwork and Taskwork in Collaborative Immersive Analytics","group":"49"},{"id":"2645","x":"2.7914732","y":"7.7356505","name":"Examining Gender Bias in Student Evaluations of Teaching for Graduate Teaching Assistants","group":"52"},{"id":"2646","x":"1.9534703","y":"9.605466","name":"How machine-learning recommendations influence clinician treatment selections: the example of antidepressant selection","group":"59"},{"id":"2647","x":"2.6170928","y":"6.5869274","name":"Data hunches: Incorporating personal knowledge into visualizations","group":"67"},{"id":"2648","x":"2.7219899","y":"10.090633","name":"Artificial intelligence and communication: A Human\u2013Machine Communication research agenda","group":"55"},{"id":"2649","x":"1.6985883","y":"9.126362","name":"Why most published research findings are false","group":"59"},{"id":"2650","x":"1.6836354","y":"9.125129","name":"Most published research findings are false\u2014but a little replication goes a long way","group":"59"},{"id":"2651","x":"1.6950504","y":"9.163859","name":"Why most published research findings are false: problems in the analysis","group":"59"},{"id":"2652","x":"1.6656489","y":"9.093418","name":"Why most published research findings are false: author\'s reply to Goodman and Greenland","group":"59"},{"id":"2653","x":"1.6993501","y":"9.142354","name":"Why most published research findings are false","group":"59"},{"id":"2654","x":"2.5020206","y":"6.4576645","name":"Knowledge precepts for design and evaluation of information visualizations","group":"68"},{"id":"2655","x":"2.9103608","y":"6.6104636","name":"Learning visual importance for graphic designs and data visualizations","group":"-1"},{"id":"2656","x":"1.0315857","y":"5.7444205","name":"ContraVis: contrastive and visual topic modeling for comparing document collections","group":"50"},{"id":"2657","x":"3.5487332","y":"4.176342","name":"Generating clarifying questions for information retrieval","group":"32"},{"id":"2658","x":"3.235546","y":"4.997101","name":"Tailor: Generating and perturbing text with semantic controls","group":"-1"},{"id":"2659","x":"3.209717","y":"4.3302584","name":"Enabling language models to fill in the blanks","group":"32"},{"id":"2660","x":"1.7117746","y":"8.057251","name":"Relational labeling unlocks inert knowledge","group":"69"},{"id":"2661","x":"2.2143521","y":"8.200018","name":"Learning same and different relations: cross-species comparisons","group":"70"},{"id":"2662","x":"2.8436632","y":"8.522278","name":"Interventions to Enhance the Initial Encoding of Source Analogs","group":"-1"},{"id":"2663","x":"2.493462","y":"8.558032","name":"Do graded representations support abstract thought?","group":"65"},{"id":"2664","x":"2.3645072","y":"8.599927","name":"Preventing inert knowledge: Category status promotes spontaneous structure-based retrieval of prior knowledge.","group":"65"},{"id":"2665","x":"2.7392125","y":"7.7164598","name":"Spatial alignment facilitates visual comparison.","group":"52"},{"id":"2666","x":"1.9984164","y":"5.414932","name":"Scholastic: Graphical Human-AI Collaboration for Inductive and Interpretive Text Analysis","group":"-1"},{"id":"2667","x":"2.508679","y":"8.61398","name":"General cognitive principles for learning structure in time and space","group":"65"},{"id":"2668","x":"2.8773735","y":"5.9483366","name":"Visage: A user interface environment for exploring information","group":"-1"},{"id":"2669","x":"3.131787","y":"5.9063687","name":"Autobrief: an experimental system for the automatic generation of briefings in integrated text and information graphics","group":"61"},{"id":"2670","x":"2.9094265","y":"5.836523","name":"Interactive multimedia summaries of evaluative text","group":"-1"},{"id":"2671","x":"4.6225457","y":"7.986678","name":"Planning to Iterate: Supporting iterative practices for real-world ill-structured problem-solving","group":"39"},{"id":"2672","x":"2.434901","y":"8.715089","name":"Psychobiome feeding mind: Polyphenolics in depression and anxiety","group":"65"},{"id":"2673","x":"2.5515716","y":"8.74726","name":"Meet the psychobiome","group":"-1"},{"id":"2674","x":"2.4979808","y":"8.797392","name":"Psychobiome and the microbe-mind interface","group":"65"},{"id":"2675","x":"2.3758287","y":"8.830387","name":"From Probiotics to Psychobiotics: A Focused Review","group":"-1"},{"id":"2676","x":"2.3377657","y":"8.87283","name":"Probiotics in disease prevention and treatment","group":"-1"},{"id":"2677","x":"1.5417455","y":"5.855271","name":"Visualizing social media content with sententree","group":"-1"},{"id":"2678","x":"1.5042964","y":"5.8856926","name":"Visualizing Social Media Content with SentenTree","group":"-1"},{"id":"2679","x":"2.4883475","y":"5.6231294","name":"Document thumbnails with variable text scaling","group":"64"},{"id":"2680","x":"1.5366861","y":"7.7694182","name":"Dimensionality reduction for documents with nearest neighbor queries","group":"-1"},{"id":"2681","x":"1.9008051","y":"5.3459554","name":"Extraction and interactive exploration of knowledge from aggregated news and social media content","group":"-1"},{"id":"2682","x":"2.4992867","y":"7.276999","name":"New Data? The Role of Statistics in DH","group":"-1"},{"id":"2683","x":"1.6967549","y":"6.538593","name":"Social navigation","group":"27"},{"id":"2684","x":"3.968309","y":"4.4521747","name":"Concept-based interactive query expansion","group":"4"},{"id":"2685","x":"3.973821","y":"4.4860463","name":"A study of user interaction with a concept-based interactive query expansion support tool","group":"-1"},{"id":"2686","x":"3.9179788","y":"4.4841475","name":"Contextual and concept-based interactive query expansion","group":"4"},{"id":"2687","x":"3.968361","y":"4.445298","name":"Concept-based Interactive Query Expansion Support Tool (CIQUEST)","group":"4"},{"id":"2688","x":"3.981562","y":"4.4223623","name":"Concept based query expansion","group":"4"},{"id":"2689","x":"2.3032298","y":"8.678465","name":"Toward a universal law of generalization for psychological science","group":"65"},{"id":"2690","x":"2.4026084","y":"8.139319","name":"Similarity as an explanatory construct","group":"70"},{"id":"2691","x":"2.1585624","y":"8.112987","name":"Nonintentional similarity processing","group":"-1"},{"id":"2692","x":"1.5790925","y":"10.074113","name":"The rational basis of representativeness","group":"-1"},{"id":"2693","x":"2.4490206","y":"8.10573","name":"Respects for similarity.","group":"70"},{"id":"2694","x":"1.9734391","y":"5.819317","name":"A survey on visual approaches for analyzing scientific literature and patents","group":"-1"},{"id":"2695","x":"2.4543912","y":"5.4584594","name":"WORDGRAPH: Keyword-in-context visualization for NETSPEAK\'s wildcard search","group":"64"},{"id":"2696","x":"3.0537586","y":"10.347617","name":"Towards human-agent communication via the information bottleneck principle","group":"-1"},{"id":"2697","x":"4.5091677","y":"4.229549","name":"Synthesizing analytical SQL queries from computation demonstration","group":"4"},{"id":"2698","x":"2.2135239","y":"4.9014077","name":"Mapping the design space of human-ai interaction in text summarization","group":"-1"},{"id":"2699","x":"1.3063903","y":"9.792728","name":"A psychological theory of explainability","group":"72"},{"id":"2700","x":"1.8455588","y":"9.390018","name":"The role of theories in conceptual coherence.","group":"59"},{"id":"2701","x":"1.8958268","y":"9.26444","name":"The role of theories in conceptual coherence","group":"59"},{"id":"2702","x":"2.457432","y":"8.169322","name":"Features of similarity.","group":"70"},{"id":"2703","x":"2.3811948","y":"8.139081","name":"Relational similarity and the nonindependence of features in similarity judgments","group":"70"},{"id":"2704","x":"2.3175352","y":"8.163281","name":"Latent features in similarity judgments: A nonparametric Bayesian approach","group":"70"},{"id":"2705","x":"2.0566547","y":"7.9426875","name":"Combining dimensions and features in similarity-based representations","group":"-1"},{"id":"2706","x":"4.7131968","y":"7.9209948","name":"The promise of empathy: Design, disability, and knowing the\\" other\\"","group":"39"},{"id":"2707","x":"1.4057225","y":"6.9210515","name":"On the misinformation beat: Understanding the work of investigative journalists reporting on problematic information online","group":"27"},{"id":"2708","x":"2.4613624","y":"9.471562","name":"The domain of preference","group":"-1"},{"id":"2709","x":"1.4284793","y":"9.67029","name":"Understanding explanation: Studies in teleology, simplicity, and causal knowledge","group":"72"},{"id":"2710","x":"2.1152604","y":"9.48898","name":"How do people come to judge what is \u201creasonable\u201d? Effects of legal and sociological systems on human psychology","group":"-1"},{"id":"2711","x":"2.9898274","y":"8.883946","name":"Acceptance and commitment therapy: Altering the verbal support for experiential avoidance","group":"58"},{"id":"2712","x":"4.913697","y":"7.2338033","name":"Cascade: Crowdsourcing taxonomy creation","group":"8"},{"id":"2713","x":"4.9228797","y":"7.273003","name":"Crowdsourcing multi-label classification for taxonomy creation","group":"8"},{"id":"2714","x":"4.932534","y":"7.2466283","name":"Building hierarchies of concepts via crowdsourcing","group":"8"},{"id":"2715","x":"4.934701","y":"7.326467","name":"Community clustering: Leveraging an academic crowd to form coherent conference sessions","group":"8"},{"id":"2716","x":"4.917518","y":"7.281619","name":"Crowd synthesis: Extracting categories and clusters from complex data","group":"8"},{"id":"2717","x":"3.5450077","y":"4.9149103","name":"Evaluating task-dependent taxonomies for navigation","group":"-1"},{"id":"2718","x":"5.1416974","y":"6.35887","name":"Selfsourcing personal tasks","group":"11"},{"id":"2719","x":"3.5927613","y":"7.827186","name":"Designing for Collaborative Sensemaking: Leveraging Human Cognition For Complex Tasks","group":"-1"},{"id":"2720","x":"7.649535","y":"3.9749095","name":"Query quality prediction and reformulation for source code search: The refoqus tool","group":"24"},{"id":"2721","x":"8.767419","y":"6.278957","name":"Patterns of knowledge in API reference documentation","group":"21"},{"id":"2722","x":"3.1007946","y":"9.708216","name":"Updates in human-ai teams: Understanding and addressing the performance/compatibility tradeoff","group":"56"},{"id":"2723","x":"3.0281172","y":"9.752091","name":"Beyond accuracy: The role of mental models in human-AI team performance","group":"56"},{"id":"2724","x":"3.27719","y":"10.190461","name":"Design patterns for sociality in human-robot interaction","group":"56"},{"id":"2725","x":"2.1035228","y":"9.239112","name":"Expanding the dimensions of epistemic cognition: Arguments from philosophy and psychology","group":"54"},{"id":"2726","x":"3.9740427","y":"6.9006376","name":"Dream lens: Exploration and visualization of large-scale generative design datasets","group":"10"},{"id":"2727","x":"4.108739","y":"6.9009285","name":"GeneratiVR: Spatial Interactions in Virtual Reality to Explore Generative Design Spaces","group":"10"},{"id":"2728","x":"3.930668","y":"5.865616","name":"Interactive shape based brushing technique for trail sets","group":"-1"},{"id":"2729","x":"3.815449","y":"6.0574465","name":"Is GPT-3 a Good Data Annotator?","group":"12"},{"id":"2730","x":"3.6242197","y":"6.167495","name":"Want to reduce labeling cost? GPT-3 can help","group":"-1"},{"id":"2731","x":"0.9712733","y":"10.368421","name":"Introduction to explainable ai","group":"62"},{"id":"2732","x":"2.9956121","y":"9.887949","name":"Improving Human-AI Collaboration with Descriptions of AI Behavior","group":"-1"},{"id":"2733","x":"5.440834","y":"3.6544569","name":"Top-down synthesis for library learning","group":"-1"},{"id":"2734","x":"1.1275996","y":"8.545545","name":"Modeling the data-generating process is necessary for out-of-distribution generalization","group":"-1"},{"id":"2735","x":"1.268834","y":"8.308988","name":"Extracting training data from diffusion models","group":"-1"},{"id":"2736","x":"2.6485426","y":"9.313936","name":"Everything I ever needed to know about economics I learned from online dating","group":"-1"},{"id":"2737","x":"7.483632","y":"3.7810926","name":"If beam search is the answer, what was the question?","group":"24"},{"id":"2738","x":"0.49061576","y":"8.725599","name":"AnchorViz: Facilitating classifier error discovery through interactive semantic data exploration","group":"73"},{"id":"2739","x":"0.15192698","y":"10.464148","name":"Reasoning about Counterfactuals to Improve Human Inverse Reinforcement Learning","group":"1"},{"id":"2740","x":"2.7269897","y":"10.365362","name":"Rube-Goldberg Machines, Transparent Technology, and the Morally Competent Robot","group":"-1"},{"id":"2741","x":"2.0744429","y":"9.710974","name":"Ignore, trust, or negotiate: understanding clinician acceptance of AI-based treatment recommendations in health care","group":"59"},{"id":"2742","x":"8.579078","y":"5.390793","name":"Self-Admitted Library Migrations in Java, JavaScript, and Python Packaging Ecosystems: A Comparative Study","group":"22"},{"id":"2743","x":"3.009879","y":"5.132315","name":"Co-writing with opinionated language models affects users\u2019 views","group":"46"},{"id":"2744","x":"3.003771","y":"5.041124","name":"ASSESSING THE EFFECTS AND RISKS OF LARGE LANGUAGE MODELS IN AI-MEDIATED COMMUNICATION","group":"46"},{"id":"2745","x":"7.464843","y":"6.0070453","name":"Navigating Complexity in Software Engineering: A Prototype for Comparing GPT-n Solutions","group":"40"},{"id":"2746","x":"4.272193","y":"5.8076305","name":"3DALL-E: Integrating Text-to-Image AI in 3D Design Workflows","group":"15"},{"id":"2747","x":"1.3236592","y":"7.0614514","name":"Believe it or not: Designing a human-ai partnership for mixed-initiative fact-checking","group":"27"},{"id":"2748","x":"3.1551135","y":"5.2946277","name":"Creative writing with a machine in the loop: Case studies on slogans and stories","group":"46"},{"id":"2749","x":"0.82387525","y":"8.383674","name":"Power to the people: The role of humans in interactive machine learning","group":"71"},{"id":"2750","x":"6.676013","y":"3.8242254","name":"A syntactic neural model for general-purpose code generation","group":"37"},{"id":"2751","x":"5.244913","y":"4.0467005","name":"ObSynth: An Interactive Synthesis System for Generating Object Models from Natural Language Specifications","group":"30"},{"id":"2752","x":"4.1183906","y":"8.098001","name":"How does HCI Understand Human Autonomy and Agency?","group":"38"},{"id":"2753","x":"0.9857958","y":"8.460321","name":"The design space of generative models","group":"-1"},{"id":"2754","x":"2.657295","y":"9.731401","name":"Supporting serendipity: Opportunities and challenges for Human-AI Collaboration in qualitative analysis","group":"55"},{"id":"2755","x":"2.7092428","y":"9.778701","name":"Putting Tools in Their Place: The Role of Time and Perspective in Human-AI Collaboration for Qualitative Analysis","group":"55"},{"id":"2756","x":"2.1468422","y":"5.5530195","name":"Scim: Intelligent Faceted Highlights for Interactive, Multi-Pass Skimming of Scientific Papers","group":"-1"},{"id":"2757","x":"3.368554","y":"6.196596","name":"Why read if you can skim: towards enabling faster screen reading","group":"-1"},{"id":"2758","x":"3.4036002","y":"5.978931","name":"Slide Gestalt: Automatic Structure Extraction in Slide Decks for Non-Visual Access","group":"-1"},{"id":"2759","x":"1.5756367","y":"5.776506","name":"Pattern-Based Semantic and Temporal Exploration of Social Media Messages","group":"-1"},{"id":"2760","x":"1.9305754","y":"5.1748195","name":"Interactive Hierarchical Quote Extraction for Content Insights.","group":"-1"},{"id":"2761","x":"2.191861","y":"4.613388","name":"ELSKE: efficient large-scale keyphrase extraction","group":"-1"},{"id":"2762","x":"4.1403875","y":"7.47496","name":"Scaling up analogical innovation with crowds and AI","group":"29"},{"id":"2763","x":"2.4807596","y":"8.50182","name":"Latent diversity in human concepts","group":"65"},{"id":"2764","x":"2.8321903","y":"4.775962","name":"Navigating the grey area: Expressions of overconfidence and uncertainty in language models","group":"-1"},{"id":"2765","x":"4.5226755","y":"8.004996","name":"Reflective informatics: conceptual dimensions for designing technologies of reflection","group":"38"},{"id":"2766","x":"0.950573","y":"6.8735523","name":"Challenges in personal health tracking: the data isn\'t enough","group":"-1"},{"id":"2767","x":"3.253988","y":"4.974829","name":"ScatterShot: Interactive In-context Example Curation for Text Transformation","group":"45"},{"id":"2768","x":"4.5122256","y":"7.70154","name":"Reviewing reflection: on the use of reflection in interactive system design","group":"39"},{"id":"2769","x":"4.313579","y":"4.1758065","name":"An empirical study of model errors and user error discovery and repair strategies in natural language database queries","group":"4"},{"id":"2770","x":"2.172453","y":"5.552663","name":"The Semantic Reader Project: Augmenting Scholarly Documents through AI-Powered Interactive Reading Interfaces","group":"-1"},{"id":"2771","x":"3.2362432","y":"6.846912","name":"Investigating perceptual biases in icon arrays","group":"-1"},{"id":"2772","x":"5.794407","y":"6.296686","name":"Understanding the Usability of AI Programming Assistants","group":"-1"},{"id":"2773","x":"1.1227275","y":"10.416109","name":"Human-Centered Explainable AI (HCXAI): beyond opening the black-box of AI","group":"62"},{"id":"2774","x":"2.9928348","y":"10.017553","name":"\u201cCan you rely on me?\u201d Evaluating a Confidence HMI for Cooperative, Automated Driving","group":"-1"},{"id":"2775","x":"1.8420794","y":"9.948832","name":"How to Support Users in Understanding Intelligent Systems? An Analysis and Conceptual Framework of User Questions Considering User Mindsets, Involvement, and Knowledge Outcomes","group":"-1"},{"id":"2776","x":"4.391558","y":"7.7840242","name":"Design through matchmaking: technology in search of users","group":"-1"},{"id":"2777","x":"3.616951","y":"8.229352","name":"Designing Creative AI Partners with COFI: A Framework for Modeling Interaction in Human-AI Co-Creative Systems","group":"31"},{"id":"2778","x":"2.5995967","y":"4.3798046","name":"Transparent Value Alignment","group":"-1"},{"id":"2779","x":"2.0427487","y":"10.624634","name":"Mirror, Mirror on the Wall: Algorithmic Assessments, Transparency, and Self-Fulfilling Prophecies","group":"-1"},{"id":"2780","x":"2.3066354","y":"9.967072","name":"Beyond End Predictions: Stop Putting Machine Learning First and Design Human-Centered AI for Decision Support","group":"-1"},{"id":"2781","x":"2.5674045","y":"6.9603786","name":"Data Statements: From Technical Concept to Community Practice","group":"-1"},{"id":"2782","x":"4.864275","y":"3.9343288","name":"Guiding the PLMs with Semantic Anchors as Intermediate Supervision: Towards Interpretable Semantic Parsing","group":"-1"},{"id":"2783","x":"0.76882493","y":"5.8531675","name":"A Topic is Not a Theme: Towards a Contextualised Approach to Topic Modelling","group":"50"},{"id":"2784","x":"3.1451662","y":"4.688157","name":"Deep learning for information retrieval: studying relevant signals for ad hoc search based on transformer models","group":"45"},{"id":"2785","x":"5.665277","y":"3.6713207","name":"A program synthesis approach for adding architectural tactics to an existing code base","group":"42"},{"id":"2786","x":"6.7482285","y":"4.782085","name":"On the Design of AI-powered Code Assistants for Notebooks","group":"-1"},{"id":"2787","x":"1.9178157","y":"5.613802","name":"Text mining and manual curation of chemical-gene-disease networks for the comparative toxicogenomics database (CTD)","group":"63"},{"id":"2788","x":"1.8113558","y":"3.7474315","name":"LocText: relation extraction of protein localizations to assist database curation","group":"6"},{"id":"2789","x":"3.6530738","y":"5.2555156","name":"Langsmith: An interactive academic text revision system","group":"-1"},{"id":"2790","x":"2.589047","y":"6.274832","name":"Using typography to expand the design space of data visualization","group":"68"},{"id":"2791","x":"2.4713886","y":"5.7052827","name":"Visualizing with Text","group":"64"},{"id":"2792","x":"5.2689576","y":"9.155622","name":"From phenomenography to variation theory: A review of the development of the variation theory of learning and implications for pedagogical design in higher education","group":"35"},{"id":"2793","x":"0.5186302","y":"9.417895","name":"The Role of Interactive Visualization in Explaining (Large) NLP Models: from Data to Inference","group":"-1"},{"id":"2794","x":"7.206708","y":"6.0406036","name":"From Code Complexity Metrics to Program Comprehension","group":"40"},{"id":"2795","x":"4.1897388","y":"7.6588993","name":"Should Computers Be Easy To Use? Questioning the Doctrine of Simplicity in User Interface Design","group":"-1"},{"id":"2796","x":"1.7870121","y":"9.081072","name":"The Systematic Review-lution: A Manifesto to Promote Rigour and Inclusivity in Research Synthesis","group":"59"},{"id":"2797","x":"2.910791","y":"5.125741","name":"Anglekindling: Supporting journalistic angle ideation with large language models","group":"46"},{"id":"2798","x":"1.4005016","y":"9.682233","name":"Explanation Is Effective Because It Is Selective","group":"72"},{"id":"2799","x":"3.0074286","y":"8.2302885","name":"Effects of comparison and explanation on analogical transfer","group":"66"},{"id":"2800","x":"1.9772966","y":"8.974248","name":"Explanation and Comparison Interact to Support Learning","group":"-1"},{"id":"2801","x":"3.687905","y":"5.2087965","name":"Reverse outlining: A method for effective revision of document structure","group":"-1"},{"id":"cluster0","x":"3.137072","y":"10.953265","label":"Semantic Communication Theories"},{"id":"cluster1","x":"0.13136408","y":"10.428629","label":"Counterfactual Explanations Research"},{"id":"cluster2","x":"4.443804","y":"9.560507","label":"Exit and Voice Studies"},{"id":"cluster3","x":"0.67303824","y":"6.7209725","label":"Mental Health Digitization"},{"id":"cluster4","x":"4.34172","y":"4.237479","label":"SQL Query Synthesis"},{"id":"cluster5","x":"5.5426397","y":"6.7054315","label":"Mathematical Text Processing"},{"id":"cluster6","x":"2.0793118","y":"3.6621673","label":"Computational Linguistic Alignment"},{"id":"cluster7","x":"8.562518","y":"4.0018954","label":"Automated Program Repair"},{"id":"cluster8","x":"5.01041","y":"7.2211194","label":"Crowdsourcing in Research"},{"id":"cluster9","x":"1.9521002","y":"11.05939","label":"Algorithmic Fairness in AI"},{"id":"cluster10","x":"4.185527","y":"6.846655","label":"Interface Design Prototyping"},{"id":"cluster11","x":"5.14364","y":"6.292132","label":"Automated Task Learning"},{"id":"cluster12","x":"3.9232903","y":"6.178826","label":"Visualization and Annotation Techniques"},{"id":"cluster13","x":"1.9384956","y":"4.5289836","label":"Abstractive Text Summarization"},{"id":"cluster14","x":"4.9697165","y":"5.517753","label":"Computational Notebooks"},{"id":"cluster15","x":"4.4688787","y":"5.9483123","label":"Web Design Automation"},{"id":"cluster16","x":"4.101319","y":"8.691515","label":"Cognitive Load and Exploration"},{"id":"cluster17","x":"6.372094","y":"7.956065","label":"MOOC Learning Research"},{"id":"cluster18","x":"3.0248573","y":"3.642101","label":"Textual Entailment Models"},{"id":"cluster19","x":"8.360551","y":"6.3222885","label":"Software Documentation Development"},{"id":"cluster20","x":"5.007909","y":"4.9203053","label":"Spreadsheet Data Management"},{"id":"cluster21","x":"8.820876","y":"6.242366","label":"API Documentation Research"},{"id":"cluster22","x":"8.453593","y":"5.3106627","label":"Software Development Practices"},{"id":"cluster23","x":"7.616455","y":"4.940131","label":"Code Analysis and Refactoring"},{"id":"cluster24","x":"7.5410476","y":"3.7736804","label":"Semantic Code Search"},{"id":"cluster25","x":"9.128037","y":"6.215062","label":"API Usability Studies"},{"id":"cluster26","x":"9.227405","y":"5.5575323","label":"API Usage and Recommendations"},{"id":"cluster27","x":"1.445148","y":"6.883723","label":"News Misinformation Analysis"},{"id":"cluster28","x":"6.0034714","y":"4.3912334","label":"Program Synthesis and Verification"},{"id":"cluster29","x":"4.2254086","y":"7.3950596","label":"Crowdsourced Creative Innovation"},{"id":"cluster30","x":"5.251051","y":"3.9242308","label":"Synthesis Techniques and Models"},{"id":"cluster31","x":"3.6301103","y":"8.241897","label":"Human-Computer Collaboration"},{"id":"cluster32","x":"3.2915418","y":"4.181308","label":"Bayesian Language Learning"},{"id":"cluster33","x":"7.099411","y":"7.771591","label":"Automated Grading Systems"},{"id":"cluster34","x":"7.0577703","y":"7.139128","label":"Automated Programming Assessment"},{"id":"cluster35","x":"5.2984776","y":"9.130582","label":"Variation Theory in Education"},{"id":"cluster36","x":"5.4708652","y":"8.362059","label":"Peer-Based Learning"},{"id":"cluster37","x":"6.769802","y":"3.969375","label":"Code Generation and Understanding"},{"id":"cluster38","x":"4.0624757","y":"7.9980884","label":"Human-Computer Interaction Studies"},{"id":"cluster39","x":"4.6462116","y":"7.828862","label":"Design Thinking Strategies"},{"id":"cluster40","x":"7.27083","y":"5.999249","label":"Software Engineering Research"},{"id":"cluster41","x":"6.2727327","y":"3.715184","label":"Neural Program Synthesis"},{"id":"cluster42","x":"5.738305","y":"3.731665","label":"Program Synthesis Research"},{"id":"cluster43","x":"6.326871","y":"6.340685","label":"Programming Education Research"},{"id":"cluster44","x":"5.700369","y":"5.405231","label":"Software Visualization Techniques"},{"id":"cluster45","x":"3.2516735","y":"4.7853246","label":"Text Generation & Information Retrieval"},{"id":"cluster46","x":"3.263112","y":"5.2951784","label":"AI in Writing Assistance"},{"id":"cluster47","x":"3.3518736","y":"7.7925696","label":"Sensemaking Processes Studies"},{"id":"cluster48","x":"2.0920103","y":"7.045687","label":"Uncertainty Visualization"},{"id":"cluster49","x":"3.2554002","y":"7.3900747","label":"Scientific Collaboration Dynamics"},{"id":"cluster50","x":"0.88496715","y":"5.836166","label":"Topic Modeling Techniques"},{"id":"cluster51","x":"2.0214872","y":"10.295609","label":"Algorithmic Impact Studies"},{"id":"cluster52","x":"2.7845125","y":"7.7966404","label":"Visual Linguistic Bias"},{"id":"cluster53","x":"3.6947832","y":"9.296747","label":"Team Collaboration and AI Planning"},{"id":"cluster54","x":"2.4051595","y":"9.2485","label":"Cognitive Decision-Making"},{"id":"cluster55","x":"2.6209352","y":"10.038422","label":"Human-AI Interaction"},{"id":"cluster56","x":"3.20031","y":"9.939389","label":"Human-AI Collaboration"},{"id":"cluster57","x":"3.7369056","y":"10.177453","label":"Robotics Reinforcement Learning"},{"id":"cluster58","x":"3.0313568","y":"8.823678","label":"Cognitive Processes and Development"},{"id":"cluster59","x":"1.8715855","y":"9.381514","label":"Cognitive Decision-Making"},{"id":"cluster60","x":"2.1124856","y":"6.0065126","label":"Visual Text Analytics"},{"id":"cluster61","x":"3.1690097","y":"6.0427704","label":"Visual Communication Studies"},{"id":"cluster62","x":"1.12853","y":"10.370648","label":"Explainable AI Systems"},{"id":"cluster63","x":"1.8256258","y":"5.584504","label":"Text Data Analysis"},{"id":"cluster64","x":"2.3867831","y":"5.5589194","label":"Text Visualization Techniques"},{"id":"cluster65","x":"2.3266096","y":"8.622002","label":"Learning and Perception Theories"},{"id":"cluster66","x":"2.9703214","y":"8.252798","label":"Analogical Problem Solving"},{"id":"cluster67","x":"2.6013563","y":"6.712906","label":"Exploratory Data Analysis"},{"id":"cluster68","x":"2.5796628","y":"6.3354406","label":"Data Visualization Techniques"},{"id":"cluster69","x":"1.8099614","y":"8.143359","label":"Machine Learning Techniques"},{"id":"cluster70","x":"2.3567016","y":"8.178048","label":"Similarity Learning Research"},{"id":"cluster71","x":"0.70232344","y":"8.406615","label":"Interactive Machine Learning"},{"id":"cluster72","x":"1.1942436","y":"9.788082","label":"Explanation Studies"},{"id":"cluster73","x":"0.4199662","y":"8.716021","label":"Debugging Machine Learning"},{"id":"cluster74","x":"0.119831875","y":"9.409496","label":"Interpretable Machine Learning"},{"id":"cluster75","x":"0.5844182","y":"9.572432","label":"Explainable Machine Learning"}],"links":[{"source":"1","target":"75","strength":"0.7235895587112721"},{"source":"1","target":"85","strength":"0.7009285943852137"},{"source":"1","target":"103","strength":"0.7830380857724264"},{"source":"1","target":"112","strength":"0.7930767446990612"},{"source":"1","target":"123","strength":"0.8168808549680463"},{"source":"1","target":"1542","strength":"0.7014530193106944"},{"source":"2","target":"2461","strength":"0.7122103757420721"},{"source":"4","target":"11","strength":"0.763529802019919"},{"source":"4","target":"72","strength":"0.7093954986607809"},{"source":"4","target":"75","strength":"0.7050867035027557"},{"source":"6","target":"100","strength":"0.7381880362203079"},{"source":"6","target":"508","strength":"0.7571916608634752"},{"source":"6","target":"538","strength":"0.7219313980497186"},{"source":"8","target":"30","strength":"0.7180398003710435"},{"source":"8","target":"241","strength":"0.8117376641486246"},{"source":"8","target":"259","strength":"0.7209660366887524"},{"source":"8","target":"329","strength":"0.7729876955385635"},{"source":"8","target":"494","strength":"0.8234401264461852"},{"source":"8","target":"508","strength":"0.712396921297905"},{"source":"8","target":"585","strength":"0.7412033486410435"},{"source":"10","target":"21","strength":"0.7217453090505056"},{"source":"10","target":"155","strength":"0.7217453090505056"},{"source":"10","target":"176","strength":"0.749922031291736"},{"source":"10","target":"1099","strength":"0.7321322734300442"},{"source":"10","target":"2291","strength":"0.7097553941601182"},{"source":"11","target":"4","strength":"0.763529802019919"},{"source":"11","target":"71","strength":"0.7298751258564762"},{"source":"11","target":"77","strength":"0.78308369720149"},{"source":"11","target":"102","strength":"0.7003454735432383"},{"source":"11","target":"104","strength":"0.7493438487071405"},{"source":"11","target":"105","strength":"0.7207690688783468"},{"source":"11","target":"179","strength":"0.7590353754845508"},{"source":"11","target":"332","strength":"0.7243149747928277"},{"source":"12","target":"792","strength":"0.7075851349011418"},{"source":"17","target":"251","strength":"0.7794672836809365"},{"source":"18","target":"1265","strength":"0.7319920085776204"},{"source":"18","target":"2602","strength":"0.8329182278233325"},{"source":"19","target":"591","strength":"0.7143337234824272"},{"source":"21","target":"10","strength":"0.7217453090505056"},{"source":"21","target":"155","strength":"0.9999999999999996"},{"source":"21","target":"176","strength":"0.7600652203584675"},{"source":"30","target":"8","strength":"0.7180398003710435"},{"source":"30","target":"241","strength":"0.8105784900945654"},{"source":"30","target":"329","strength":"0.7939400331928288"},{"source":"30","target":"494","strength":"0.753725376889633"},{"source":"30","target":"508","strength":"0.7036673854497267"},{"source":"30","target":"585","strength":"0.7982781587814125"},{"source":"40","target":"196","strength":"0.7025859538943346"},{"source":"42","target":"870","strength":"0.7234819547980829"},{"source":"45","target":"50","strength":"0.7039060266006233"},{"source":"50","target":"45","strength":"0.7039060266006233"},{"source":"52","target":"119","strength":"0.73524273834449"},{"source":"52","target":"121","strength":"0.73524273834449"},{"source":"53","target":"1428","strength":"0.7634728567481477"},{"source":"59","target":"63","strength":"0.7804375527318658"},{"source":"59","target":"158","strength":"0.7815626452831017"},{"source":"59","target":"1505","strength":"0.7998787047665823"},{"source":"63","target":"59","strength":"0.7804375527318658"},{"source":"63","target":"1505","strength":"0.7955733147544092"},{"source":"66","target":"240","strength":"0.7647036112907389"},{"source":"68","target":"76","strength":"0.9456758651385082"},{"source":"70","target":"83","strength":"0.707213944461939"},{"source":"71","target":"11","strength":"0.7298751258564762"},{"source":"71","target":"72","strength":"0.7317701483168261"},{"source":"71","target":"77","strength":"0.730439165139403"},{"source":"71","target":"85","strength":"0.741870132624662"},{"source":"71","target":"102","strength":"0.7836663051025294"},{"source":"71","target":"103","strength":"0.7241766847469011"},{"source":"71","target":"106","strength":"0.7281662734813117"},{"source":"71","target":"112","strength":"0.7510772662922913"},{"source":"71","target":"123","strength":"0.7025675340193148"},{"source":"71","target":"179","strength":"0.7093205656198668"},{"source":"71","target":"332","strength":"0.7556961058141323"},{"source":"72","target":"4","strength":"0.7093954986607809"},{"source":"72","target":"71","strength":"0.7317701483168261"},{"source":"72","target":"75","strength":"0.7907552719771043"},{"source":"72","target":"85","strength":"0.8560318949804027"},{"source":"72","target":"91","strength":"0.737541108877109"},{"source":"72","target":"98","strength":"0.7596294177193891"},{"source":"72","target":"100","strength":"0.7336170565464069"},{"source":"72","target":"102","strength":"0.7646532236602959"},{"source":"72","target":"103","strength":"0.7246670443435211"},{"source":"72","target":"106","strength":"0.7574165695375188"},{"source":"72","target":"112","strength":"0.7705472051258706"},{"source":"72","target":"125","strength":"0.7803088368945287"},{"source":"73","target":"85","strength":"0.7081548413200209"},{"source":"73","target":"91","strength":"0.7031328716015529"},{"source":"73","target":"94","strength":"0.8034131462038162"},{"source":"73","target":"103","strength":"0.7340894705560967"},{"source":"73","target":"106","strength":"0.7039034596645106"},{"source":"73","target":"125","strength":"0.7021957485573085"},{"source":"74","target":"78","strength":"0.736089386085846"},{"source":"75","target":"1","strength":"0.7235895587112721"},{"source":"75","target":"4","strength":"0.7050867035027557"},{"source":"75","target":"72","strength":"0.7907552719771043"},{"source":"75","target":"77","strength":"0.7120143827585024"},{"source":"75","target":"85","strength":"0.86268271474409"},{"source":"75","target":"86","strength":"0.8282956632419879"},{"source":"75","target":"91","strength":"0.8228002132322693"},{"source":"75","target":"94","strength":"0.769890752035984"},{"source":"75","target":"98","strength":"0.7866970363979156"},{"source":"75","target":"99","strength":"0.7871845564416902"},{"source":"75","target":"100","strength":"0.8547529313765149"},{"source":"75","target":"102","strength":"0.745282209762037"},{"source":"75","target":"103","strength":"0.7916067016842897"},{"source":"75","target":"104","strength":"0.7179097611345764"},{"source":"75","target":"106","strength":"0.7557979249857002"},{"source":"75","target":"123","strength":"0.772373750728494"},{"source":"75","target":"125","strength":"0.7636357665416478"},{"source":"75","target":"332","strength":"0.7206817437668124"},{"source":"75","target":"2291","strength":"0.7068133124951586"},{"source":"76","target":"68","strength":"0.9456758651385082"},{"source":"77","target":"11","strength":"0.78308369720149"},{"source":"77","target":"71","strength":"0.730439165139403"},{"source":"77","target":"75","strength":"0.7120143827585024"},{"source":"77","target":"83","strength":"0.7222776471588057"},{"source":"77","target":"85","strength":"0.7069422344189349"},{"source":"77","target":"89","strength":"0.7134832006953388"},{"source":"77","target":"91","strength":"0.732053053882421"},{"source":"77","target":"102","strength":"0.7154601986263389"},{"source":"77","target":"103","strength":"0.7213790721613911"},{"source":"77","target":"104","strength":"0.715356122512933"},{"source":"77","target":"105","strength":"0.7251727206398781"},{"source":"77","target":"109","strength":"0.7036892929762436"},{"source":"77","target":"332","strength":"0.73484048070952"},{"source":"78","target":"74","strength":"0.736089386085846"},{"source":"79","target":"87","strength":"0.7744207957581986"},{"source":"79","target":"92","strength":"0.7768770949577481"},{"source":"83","target":"70","strength":"0.707213944461939"},{"source":"83","target":"77","strength":"0.7222776471588057"},{"source":"83","target":"85","strength":"0.7141205407453397"},{"source":"83","target":"91","strength":"0.700596478650783"},{"source":"83","target":"102","strength":"0.7280248557281708"},{"source":"83","target":"332","strength":"0.7170153663495493"},{"source":"84","target":"103","strength":"0.7199618553792597"},{"source":"85","target":"1","strength":"0.7009285943852137"},{"source":"85","target":"71","strength":"0.741870132624662"},{"source":"85","target":"72","strength":"0.8560318949804027"},{"source":"85","target":"73","strength":"0.7081548413200209"},{"source":"85","target":"75","strength":"0.86268271474409"},{"source":"85","target":"77","strength":"0.7069422344189349"},{"source":"85","target":"83","strength":"0.7141205407453397"},{"source":"85","target":"86","strength":"0.730685142891456"},{"source":"85","target":"91","strength":"0.8338337429988918"},{"source":"85","target":"94","strength":"0.8366430125891473"},{"source":"85","target":"98","strength":"0.7862692081083063"},{"source":"85","target":"100","strength":"0.8132923980603363"},{"source":"85","target":"102","strength":"0.8324977084062547"},{"source":"85","target":"103","strength":"0.8043447610929173"},{"source":"85","target":"106","strength":"0.7756617392892965"},{"source":"85","target":"112","strength":"0.776797240126019"},{"source":"85","target":"123","strength":"0.7447148675775969"},{"source":"85","target":"125","strength":"0.8000312128518404"},{"source":"85","target":"144","strength":"0.7184111760057187"},{"source":"85","target":"332","strength":"0.7416822650469327"},{"source":"85","target":"497","strength":"0.7300512334474049"},{"source":"85","target":"1542","strength":"0.7189511797207752"},{"source":"85","target":"2291","strength":"0.7376339518319392"},{"source":"86","target":"75","strength":"0.8282956632419879"},{"source":"86","target":"85","strength":"0.730685142891456"},{"source":"86","target":"91","strength":"0.7094939147257742"},{"source":"86","target":"99","strength":"0.7543963647270352"},{"source":"86","target":"100","strength":"0.752062799023551"},{"source":"86","target":"123","strength":"0.7267312987483497"},{"source":"87","target":"79","strength":"0.7744207957581986"},{"source":"87","target":"1524","strength":"0.7195285518667923"},{"source":"89","target":"77","strength":"0.7134832006953388"},{"source":"89","target":"104","strength":"0.7862780956357767"},{"source":"89","target":"105","strength":"0.7603086822999703"},{"source":"91","target":"72","strength":"0.737541108877109"},{"source":"91","target":"73","strength":"0.7031328716015529"},{"source":"91","target":"75","strength":"0.8228002132322693"},{"source":"91","target":"77","strength":"0.732053053882421"},{"source":"91","target":"83","strength":"0.700596478650783"},{"source":"91","target":"85","strength":"0.8338337429988918"},{"source":"91","target":"86","strength":"0.7094939147257742"},{"source":"91","target":"94","strength":"0.7732225530582566"},{"source":"91","target":"100","strength":"0.7665631593007605"},{"source":"91","target":"102","strength":"0.779335272827829"},{"source":"91","target":"103","strength":"0.7748460899739937"},{"source":"91","target":"106","strength":"0.761984930947675"},{"source":"91","target":"123","strength":"0.721951049148305"},{"source":"91","target":"125","strength":"0.7476529270687451"},{"source":"91","target":"128","strength":"0.7227319678146475"},{"source":"91","target":"332","strength":"0.7067455254823587"},{"source":"91","target":"2291","strength":"0.7193371120335165"},{"source":"92","target":"79","strength":"0.7768770949577481"},{"source":"93","target":"110","strength":"0.9005107861604745"},{"source":"94","target":"73","strength":"0.8034131462038162"},{"source":"94","target":"75","strength":"0.769890752035984"},{"source":"94","target":"85","strength":"0.8366430125891473"},{"source":"94","target":"91","strength":"0.7732225530582566"},{"source":"94","target":"100","strength":"0.7776827216997407"},{"source":"94","target":"102","strength":"0.7137022372029076"},{"source":"94","target":"103","strength":"0.7895790004469363"},{"source":"94","target":"106","strength":"0.7162661516794353"},{"source":"94","target":"125","strength":"0.7285124012782052"},{"source":"94","target":"331","strength":"0.7049308984781972"},{"source":"94","target":"2291","strength":"0.7633113237947957"},{"source":"95","target":"113","strength":"0.7955391244098732"},{"source":"97","target":"497","strength":"0.7023412930152249"},{"source":"97","target":"784","strength":"0.7473031907437123"},{"source":"97","target":"849","strength":"0.7185091461136989"},{"source":"98","target":"72","strength":"0.7596294177193891"},{"source":"98","target":"75","strength":"0.7866970363979156"},{"source":"98","target":"85","strength":"0.7862692081083063"},{"source":"98","target":"112","strength":"0.7408155612773724"},{"source":"98","target":"125","strength":"0.7472088682836169"},{"source":"99","target":"75","strength":"0.7871845564416902"},{"source":"99","target":"86","strength":"0.7543963647270352"},{"source":"99","target":"100","strength":"0.7053787110832561"},{"source":"99","target":"126","strength":"0.7108612890382032"},{"source":"100","target":"6","strength":"0.7381880362203079"},{"source":"100","target":"72","strength":"0.7336170565464069"},{"source":"100","target":"75","strength":"0.8547529313765149"},{"source":"100","target":"85","strength":"0.8132923980603363"},{"source":"100","target":"86","strength":"0.752062799023551"},{"source":"100","target":"91","strength":"0.7665631593007605"},{"source":"100","target":"94","strength":"0.7776827216997407"},{"source":"100","target":"99","strength":"0.7053787110832561"},{"source":"100","target":"102","strength":"0.7498026327183572"},{"source":"100","target":"103","strength":"0.7535609082708983"},{"source":"100","target":"106","strength":"0.7313672480893842"},{"source":"100","target":"332","strength":"0.7038128101355217"},{"source":"100","target":"508","strength":"0.746822349733366"},{"source":"100","target":"538","strength":"0.7169733725859316"},{"source":"102","target":"11","strength":"0.7003454735432383"},{"source":"102","target":"71","strength":"0.7836663051025294"},{"source":"102","target":"72","strength":"0.7646532236602959"},{"source":"102","target":"75","strength":"0.745282209762037"},{"source":"102","target":"77","strength":"0.7154601986263389"},{"source":"102","target":"83","strength":"0.7280248557281708"},{"source":"102","target":"85","strength":"0.8324977084062547"},{"source":"102","target":"91","strength":"0.779335272827829"},{"source":"102","target":"94","strength":"0.7137022372029076"},{"source":"102","target":"100","strength":"0.7498026327183572"},{"source":"102","target":"103","strength":"0.7720953734805409"},{"source":"102","target":"106","strength":"0.739868058536817"},{"source":"102","target":"112","strength":"0.7100917610754247"},{"source":"102","target":"144","strength":"0.7513423633244343"},{"source":"102","target":"179","strength":"0.722478619185925"},{"source":"102","target":"332","strength":"0.7591248397867267"},{"source":"102","target":"497","strength":"0.7065834239897302"},{"source":"103","target":"1","strength":"0.7830380857724264"},{"source":"103","target":"71","strength":"0.7241766847469011"},{"source":"103","target":"72","strength":"0.7246670443435211"},{"source":"103","target":"73","strength":"0.7340894705560967"},{"source":"103","target":"75","strength":"0.7916067016842897"},{"source":"103","target":"77","strength":"0.7213790721613911"},{"source":"103","target":"84","strength":"0.7199618553792597"},{"source":"103","target":"85","strength":"0.8043447610929173"},{"source":"103","target":"91","strength":"0.7748460899739937"},{"source":"103","target":"94","strength":"0.7895790004469363"},{"source":"103","target":"100","strength":"0.7535609082708983"},{"source":"103","target":"102","strength":"0.7720953734805409"},{"source":"103","target":"106","strength":"0.8123621354516901"},{"source":"103","target":"112","strength":"0.8166845061168702"},{"source":"103","target":"123","strength":"0.8043122368812701"},{"source":"103","target":"125","strength":"0.7198434303975018"},{"source":"103","target":"128","strength":"0.7008596141245912"},{"source":"103","target":"332","strength":"0.7121252264299703"},{"source":"103","target":"2291","strength":"0.7077185390926429"},{"source":"104","target":"11","strength":"0.7493438487071405"},{"source":"104","target":"75","strength":"0.7179097611345764"},{"source":"104","target":"77","strength":"0.715356122512933"},{"source":"104","target":"89","strength":"0.7862780956357767"},{"source":"104","target":"105","strength":"0.7898743509577303"},{"source":"105","target":"11","strength":"0.7207690688783468"},{"source":"105","target":"77","strength":"0.7251727206398781"},{"source":"105","target":"89","strength":"0.7603086822999703"},{"source":"105","target":"104","strength":"0.7898743509577303"},{"source":"105","target":"109","strength":"0.7195113419658561"},{"source":"106","target":"71","strength":"0.7281662734813117"},{"source":"106","target":"72","strength":"0.7574165695375188"},{"source":"106","target":"73","strength":"0.7039034596645106"},{"source":"106","target":"75","strength":"0.7557979249857002"},{"source":"106","target":"85","strength":"0.7756617392892965"},{"source":"106","target":"91","strength":"0.761984930947675"},{"source":"106","target":"94","strength":"0.7162661516794353"},{"source":"106","target":"100","strength":"0.7313672480893842"},{"source":"106","target":"102","strength":"0.739868058536817"},{"source":"106","target":"103","strength":"0.8123621354516901"},{"source":"106","target":"112","strength":"0.7491259415008212"},{"source":"106","target":"123","strength":"0.7404951934090742"},{"source":"107","target":"548","strength":"0.7287029118517272"},{"source":"107","target":"573","strength":"0.7220193169723567"},{"source":"109","target":"77","strength":"0.7036892929762436"},{"source":"109","target":"105","strength":"0.7195113419658561"},{"source":"110","target":"93","strength":"0.9005107861604745"},{"source":"111","target":"248","strength":"0.8370373437174188"},{"source":"112","target":"1","strength":"0.7930767446990612"},{"source":"112","target":"71","strength":"0.7510772662922913"},{"source":"112","target":"72","strength":"0.7705472051258706"},{"source":"112","target":"85","strength":"0.776797240126019"},{"source":"112","target":"98","strength":"0.7408155612773724"},{"source":"112","target":"102","strength":"0.7100917610754247"},{"source":"112","target":"103","strength":"0.8166845061168702"},{"source":"112","target":"106","strength":"0.7491259415008212"},{"source":"112","target":"123","strength":"0.8149688740015795"},{"source":"112","target":"125","strength":"0.7273337833497681"},{"source":"113","target":"95","strength":"0.7955391244098732"},{"source":"119","target":"52","strength":"0.73524273834449"},{"source":"119","target":"121","strength":"1.0000000000000009"},{"source":"119","target":"569","strength":"0.7038815308628251"},{"source":"119","target":"1105","strength":"0.7079948359519378"},{"source":"119","target":"2324","strength":"0.7284048845091854"},{"source":"121","target":"52","strength":"0.73524273834449"},{"source":"121","target":"119","strength":"1.0000000000000009"},{"source":"121","target":"569","strength":"0.7038815308628251"},{"source":"121","target":"1105","strength":"0.7079948359519378"},{"source":"121","target":"2324","strength":"0.7284048845091854"},{"source":"122","target":"188","strength":"0.7353744334890145"},{"source":"122","target":"189","strength":"0.761519890698245"},{"source":"123","target":"1","strength":"0.8168808549680463"},{"source":"123","target":"71","strength":"0.7025675340193148"},{"source":"123","target":"75","strength":"0.772373750728494"},{"source":"123","target":"85","strength":"0.7447148675775969"},{"source":"123","target":"86","strength":"0.7267312987483497"},{"source":"123","target":"91","strength":"0.721951049148305"},{"source":"123","target":"103","strength":"0.8043122368812701"},{"source":"123","target":"106","strength":"0.7404951934090742"},{"source":"123","target":"112","strength":"0.8149688740015795"},{"source":"125","target":"72","strength":"0.7803088368945287"},{"source":"125","target":"73","strength":"0.7021957485573085"},{"source":"125","target":"75","strength":"0.7636357665416478"},{"source":"125","target":"85","strength":"0.8000312128518404"},{"source":"125","target":"91","strength":"0.7476529270687451"},{"source":"125","target":"94","strength":"0.7285124012782052"},{"source":"125","target":"98","strength":"0.7472088682836169"},{"source":"125","target":"103","strength":"0.7198434303975018"},{"source":"125","target":"112","strength":"0.7273337833497681"},{"source":"125","target":"1542","strength":"0.726682256796401"},{"source":"126","target":"99","strength":"0.7108612890382032"},{"source":"128","target":"91","strength":"0.7227319678146475"},{"source":"128","target":"103","strength":"0.7008596141245912"},{"source":"128","target":"508","strength":"0.7125454719778166"},{"source":"128","target":"538","strength":"0.7022548179799774"},{"source":"128","target":"1036","strength":"0.73133653871911"},{"source":"129","target":"332","strength":"0.778597868825946"},{"source":"129","target":"970","strength":"0.7175116381245773"},{"source":"129","target":"1440","strength":"0.7098675349742029"},{"source":"129","target":"2400","strength":"0.7223057667280817"},{"source":"129","target":"2431","strength":"0.7223603950172663"},{"source":"135","target":"136","strength":"0.736251918104805"},{"source":"135","target":"137","strength":"0.7202346201633162"},{"source":"135","target":"138","strength":"1.0"},{"source":"136","target":"135","strength":"0.736251918104805"},{"source":"136","target":"137","strength":"0.7885568193109422"},{"source":"136","target":"138","strength":"0.736251918104805"},{"source":"137","target":"135","strength":"0.7202346201633162"},{"source":"137","target":"136","strength":"0.7885568193109422"},{"source":"137","target":"138","strength":"0.7202346201633162"},{"source":"138","target":"135","strength":"1.0"},{"source":"138","target":"136","strength":"0.736251918104805"},{"source":"138","target":"137","strength":"0.7202346201633162"},{"source":"140","target":"223","strength":"0.7141435792120068"},{"source":"144","target":"85","strength":"0.7184111760057187"},{"source":"144","target":"102","strength":"0.7513423633244343"},{"source":"144","target":"178","strength":"0.7277418115893254"},{"source":"144","target":"179","strength":"0.7321814235812523"},{"source":"144","target":"600","strength":"0.7755454334003234"},{"source":"148","target":"152","strength":"0.7326323216966926"},{"source":"152","target":"148","strength":"0.7326323216966926"},{"source":"155","target":"10","strength":"0.7217453090505056"},{"source":"155","target":"21","strength":"0.9999999999999996"},{"source":"155","target":"176","strength":"0.7600652203584675"},{"source":"158","target":"59","strength":"0.7815626452831017"},{"source":"158","target":"526","strength":"0.7965228619190233"},{"source":"158","target":"1505","strength":"0.7755213993236214"},{"source":"158","target":"2783","strength":"0.7740419662894402"},{"source":"161","target":"207","strength":"0.7348493363161049"},{"source":"161","target":"1277","strength":"0.7166731221754709"},{"source":"161","target":"2234","strength":"0.739876678248665"},{"source":"165","target":"210","strength":"0.882600647554264"},{"source":"167","target":"1413","strength":"0.7187419983752826"},{"source":"169","target":"264","strength":"0.8326128827605153"},{"source":"169","target":"2762","strength":"0.844608714501643"},{"source":"170","target":"1970","strength":"0.7206463419179134"},{"source":"173","target":"590","strength":"0.7144309243998648"},{"source":"174","target":"271","strength":"0.801996309314257"},{"source":"176","target":"10","strength":"0.749922031291736"},{"source":"176","target":"21","strength":"0.7600652203584675"},{"source":"176","target":"155","strength":"0.7600652203584675"},{"source":"178","target":"144","strength":"0.7277418115893254"},{"source":"178","target":"179","strength":"0.7195134031198931"},{"source":"178","target":"600","strength":"0.7380515659286987"},{"source":"179","target":"11","strength":"0.7590353754845508"},{"source":"179","target":"71","strength":"0.7093205656198668"},{"source":"179","target":"102","strength":"0.722478619185925"},{"source":"179","target":"144","strength":"0.7321814235812523"},{"source":"179","target":"178","strength":"0.7195134031198931"},{"source":"187","target":"487","strength":"0.7686640167326125"},{"source":"187","target":"488","strength":"0.7758786622351475"},{"source":"187","target":"1762","strength":"0.7057571232740846"},{"source":"187","target":"2443","strength":"0.7244535108825223"},{"source":"188","target":"122","strength":"0.7353744334890145"},{"source":"189","target":"122","strength":"0.761519890698245"},{"source":"193","target":"299","strength":"0.9182571754047097"},{"source":"194","target":"2313","strength":"0.8307590811240831"},{"source":"195","target":"2440","strength":"0.7325786312213604"},{"source":"196","target":"40","strength":"0.7025859538943346"},{"source":"197","target":"2188","strength":"0.7207731886618688"},{"source":"204","target":"320","strength":"0.7716697796460052"},{"source":"204","target":"321","strength":"0.7557415124592289"},{"source":"204","target":"1273","strength":"0.7067142423772492"},{"source":"204","target":"2799","strength":"0.7495441150709893"},{"source":"207","target":"161","strength":"0.7348493363161049"},{"source":"207","target":"210","strength":"0.7560920364551688"},{"source":"207","target":"1277","strength":"0.707818782915422"},{"source":"207","target":"1279","strength":"0.7181166540539248"},{"source":"207","target":"2234","strength":"0.8463561208362594"},{"source":"209","target":"929","strength":"0.9089999998987199"},{"source":"210","target":"165","strength":"0.882600647554264"},{"source":"210","target":"207","strength":"0.7560920364551688"},{"source":"210","target":"2234","strength":"0.7653981625284073"},{"source":"215","target":"1606","strength":"0.7507943260029277"},{"source":"216","target":"395","strength":"0.7047906859822647"},{"source":"216","target":"604","strength":"0.7513312268782292"},{"source":"216","target":"2369","strength":"0.7187793235788398"},{"source":"217","target":"253","strength":"0.712019161761859"},{"source":"217","target":"517","strength":"0.7481240691229099"},{"source":"217","target":"533","strength":"0.7406669689701473"},{"source":"217","target":"566","strength":"0.7065702478145255"},{"source":"217","target":"647","strength":"0.7557114965180743"},{"source":"217","target":"766","strength":"0.7120386537366342"},{"source":"217","target":"841","strength":"0.7090530784134926"},{"source":"217","target":"956","strength":"0.7517468783661623"},{"source":"217","target":"991","strength":"0.7517468414944379"},{"source":"217","target":"1052","strength":"0.7288661962689253"},{"source":"217","target":"1260","strength":"0.7278174061185824"},{"source":"217","target":"1680","strength":"0.7026097258157508"},{"source":"223","target":"140","strength":"0.7141435792120068"},{"source":"224","target":"1524","strength":"0.704387376830541"},{"source":"238","target":"259","strength":"0.7339051915879578"},{"source":"238","target":"431","strength":"0.8056251604695086"},{"source":"238","target":"445","strength":"0.7118891937774761"},{"source":"238","target":"446","strength":"0.7341166033003496"},{"source":"238","target":"545","strength":"0.9799782711751666"},{"source":"238","target":"634","strength":"0.7149780606448531"},{"source":"238","target":"641","strength":"0.7500979492607093"},{"source":"238","target":"1043","strength":"0.7244230890751642"},{"source":"238","target":"2494","strength":"0.7104963378943767"},{"source":"240","target":"66","strength":"0.7647036112907389"},{"source":"241","target":"8","strength":"0.8117376641486246"},{"source":"241","target":"30","strength":"0.8105784900945654"},{"source":"241","target":"329","strength":"0.8330989517886431"},{"source":"241","target":"494","strength":"0.8498863191428249"},{"source":"241","target":"508","strength":"0.7723524314206559"},{"source":"241","target":"538","strength":"0.7241527442250719"},{"source":"241","target":"548","strength":"0.7159350041984217"},{"source":"241","target":"585","strength":"0.8338110238487679"},{"source":"241","target":"1108","strength":"0.75334859593865"},{"source":"242","target":"1702","strength":"0.7405868024488341"},{"source":"244","target":"245","strength":"0.9999999999999993"},{"source":"245","target":"244","strength":"0.9999999999999993"},{"source":"248","target":"111","strength":"0.8370373437174188"},{"source":"248","target":"597","strength":"0.7013513855495741"},{"source":"251","target":"17","strength":"0.7794672836809365"},{"source":"253","target":"217","strength":"0.712019161761859"},{"source":"253","target":"254","strength":"0.8346557556560571"},{"source":"253","target":"338","strength":"0.7046073775578654"},{"source":"253","target":"392","strength":"0.7448919400131799"},{"source":"253","target":"533","strength":"0.7508272508126193"},{"source":"253","target":"535","strength":"0.7380242961561612"},{"source":"253","target":"551","strength":"0.7592276401505509"},{"source":"253","target":"598","strength":"0.7377240187019088"},{"source":"253","target":"646","strength":"0.7095982784809305"},{"source":"253","target":"647","strength":"0.7310207070820519"},{"source":"253","target":"669","strength":"0.7045176777264827"},{"source":"253","target":"730","strength":"0.7081353382016695"},{"source":"253","target":"756","strength":"0.7328658797118331"},{"source":"253","target":"766","strength":"0.7794549719303638"},{"source":"253","target":"782","strength":"0.7280417816974057"},{"source":"253","target":"841","strength":"0.7489155617120289"},{"source":"253","target":"866","strength":"0.7142574952523014"},{"source":"253","target":"956","strength":"0.7490036675401514"},{"source":"253","target":"991","strength":"0.749003664286023"},{"source":"253","target":"1007","strength":"0.7444333300053094"},{"source":"253","target":"1052","strength":"0.7865145737463035"},{"source":"253","target":"1260","strength":"0.7541229987594011"},{"source":"254","target":"253","strength":"0.8346557556560571"},{"source":"254","target":"533","strength":"0.7234833564256058"},{"source":"254","target":"535","strength":"0.7375486933380162"},{"source":"254","target":"551","strength":"0.7209833221565041"},{"source":"254","target":"598","strength":"0.7679047561504665"},{"source":"254","target":"647","strength":"0.7465365273187581"},{"source":"254","target":"766","strength":"0.8123959511872386"},{"source":"254","target":"782","strength":"0.7488040432723018"},{"source":"254","target":"841","strength":"0.7220292519179207"},{"source":"254","target":"1007","strength":"0.7378851298021905"},{"source":"254","target":"1052","strength":"0.7717721780754996"},{"source":"254","target":"1260","strength":"0.7393451429671609"},{"source":"254","target":"1441","strength":"0.7205115266827475"},{"source":"255","target":"328","strength":"0.7136782656418187"},{"source":"255","target":"430","strength":"0.7402463285136418"},{"source":"255","target":"436","strength":"0.7045613923929843"},{"source":"255","target":"444","strength":"0.7741395307817875"},{"source":"255","target":"445","strength":"0.7365610078787724"},{"source":"255","target":"624","strength":"0.7029279139074074"},{"source":"255","target":"1587","strength":"0.7587754572368046"},{"source":"258","target":"369","strength":"0.7114406225495973"},{"source":"258","target":"866","strength":"0.7084652553799773"},{"source":"259","target":"8","strength":"0.7209660366887524"},{"source":"259","target":"238","strength":"0.7339051915879578"},{"source":"259","target":"435","strength":"0.7012025749330124"},{"source":"259","target":"443","strength":"0.8066781635288399"},{"source":"259","target":"445","strength":"0.7139612961232011"},{"source":"259","target":"446","strength":"0.7676592395231265"},{"source":"259","target":"545","strength":"0.7006835506781568"},{"source":"259","target":"634","strength":"0.7079787751684187"},{"source":"259","target":"641","strength":"0.7307060054308963"},{"source":"259","target":"952","strength":"0.7353145194538424"},{"source":"260","target":"272","strength":"0.7164920032088387"},{"source":"260","target":"436","strength":"0.7077872953052704"},{"source":"260","target":"923","strength":"0.7472784155291766"},{"source":"260","target":"2424","strength":"0.7001001923648029"},{"source":"263","target":"272","strength":"0.7412765264009942"},{"source":"264","target":"169","strength":"0.8326128827605153"},{"source":"264","target":"2762","strength":"0.835432835951163"},{"source":"271","target":"174","strength":"0.801996309314257"},{"source":"272","target":"260","strength":"0.7164920032088387"},{"source":"272","target":"263","strength":"0.7412765264009942"},{"source":"276","target":"436","strength":"0.7423710966643955"},{"source":"276","target":"616","strength":"0.9450740697632265"},{"source":"276","target":"823","strength":"0.71097627580688"},{"source":"276","target":"939","strength":"0.7610381183257986"},{"source":"276","target":"976","strength":"0.7450740455199176"},{"source":"276","target":"1099","strength":"0.757535663011784"},{"source":"276","target":"1794","strength":"0.7238170346622561"},{"source":"277","target":"279","strength":"0.9345761257650337"},{"source":"279","target":"277","strength":"0.9345761257650337"},{"source":"287","target":"787","strength":"0.7216718930141952"},{"source":"289","target":"990","strength":"0.7639226086700853"},{"source":"291","target":"456","strength":"0.8160565266374532"},{"source":"291","target":"516","strength":"0.7050194641938772"},{"source":"291","target":"555","strength":"0.7110931728831299"},{"source":"291","target":"629","strength":"0.7322362418543248"},{"source":"291","target":"1153","strength":"0.7371797380684062"},{"source":"291","target":"2434","strength":"0.731645689102934"},{"source":"292","target":"2592","strength":"0.7008746307306457"},{"source":"293","target":"428","strength":"0.7339576966337776"},{"source":"295","target":"358","strength":"0.7015936679187563"},{"source":"297","target":"409","strength":"0.9424557325061972"},{"source":"297","target":"943","strength":"0.7687857665124077"},{"source":"297","target":"947","strength":"0.7139631877975336"},{"source":"297","target":"960","strength":"0.7509240129846485"},{"source":"297","target":"1174","strength":"0.761554000351006"},{"source":"297","target":"2436","strength":"0.7038915417845664"},{"source":"299","target":"193","strength":"0.9182571754047097"},{"source":"299","target":"300","strength":"0.7146985189349331"},{"source":"300","target":"299","strength":"0.7146985189349331"},{"source":"301","target":"1288","strength":"0.7579893454726945"},{"source":"303","target":"1172","strength":"0.7174231328683676"},{"source":"308","target":"309","strength":"0.7602755684471135"},{"source":"309","target":"308","strength":"0.7602755684471135"},{"source":"312","target":"475","strength":"0.7988870279484009"},{"source":"312","target":"652","strength":"0.771645134450669"},{"source":"314","target":"475","strength":"0.718249348043634"},{"source":"315","target":"461","strength":"0.8277848633046526"},{"source":"315","target":"462","strength":"0.7190933025426683"},{"source":"315","target":"651","strength":"0.7944273500620667"},{"source":"315","target":"654","strength":"0.7096353641234011"},{"source":"315","target":"1159","strength":"0.7168612804946344"},{"source":"315","target":"1165","strength":"0.8331251680926829"},{"source":"315","target":"1684","strength":"0.7059592630534897"},{"source":"315","target":"1799","strength":"0.75754767187121"},{"source":"315","target":"1841","strength":"0.7130130806127708"},{"source":"315","target":"2087","strength":"0.7942924497421068"},{"source":"315","target":"2088","strength":"0.775040268064175"},{"source":"315","target":"2089","strength":"0.7648773206825165"},{"source":"315","target":"2090","strength":"0.733117135259506"},{"source":"315","target":"2091","strength":"0.7534487386208187"},{"source":"315","target":"2092","strength":"0.7199368494100408"},{"source":"315","target":"2267","strength":"0.7942924497421068"},{"source":"315","target":"2386","strength":"0.7113435098707821"},{"source":"315","target":"2502","strength":"0.7192361258899069"},{"source":"320","target":"204","strength":"0.7716697796460052"},{"source":"320","target":"321","strength":"0.9746833929022404"},{"source":"320","target":"1273","strength":"0.7247748890720309"},{"source":"320","target":"2690","strength":"0.70125306973447"},{"source":"320","target":"2799","strength":"0.7684671494591988"},{"source":"321","target":"204","strength":"0.7557415124592289"},{"source":"321","target":"320","strength":"0.9746833929022404"},{"source":"321","target":"1273","strength":"0.7148620277418088"},{"source":"321","target":"2799","strength":"0.7527169247824348"},{"source":"325","target":"2443","strength":"0.7648727861775145"},{"source":"326","target":"2690","strength":"0.7055815455432355"},{"source":"326","target":"2702","strength":"0.7215580400706596"},{"source":"326","target":"2703","strength":"0.7930471761231443"},{"source":"328","target":"255","strength":"0.7136782656418187"},{"source":"328","target":"426","strength":"0.820173634874862"},{"source":"328","target":"430","strength":"0.8152771660156013"},{"source":"328","target":"436","strength":"0.8367372467989662"},{"source":"328","target":"440","strength":"0.7203416804680067"},{"source":"328","target":"444","strength":"0.7112976887225251"},{"source":"328","target":"445","strength":"0.746774543771984"},{"source":"328","target":"449","strength":"0.7539333883630972"},{"source":"328","target":"624","strength":"0.7065906773720131"},{"source":"328","target":"627","strength":"0.7989077713833226"},{"source":"328","target":"629","strength":"0.7912065713151032"},{"source":"328","target":"632","strength":"0.7514715582931716"},{"source":"328","target":"633","strength":"0.8399599992993058"},{"source":"328","target":"634","strength":"0.7223793130191819"},{"source":"328","target":"637","strength":"0.7886411500112824"},{"source":"328","target":"641","strength":"0.7011705162261731"},{"source":"328","target":"707","strength":"0.7103243530872615"},{"source":"328","target":"788","strength":"0.7078669635724801"},{"source":"328","target":"892","strength":"0.7029591425124092"},{"source":"328","target":"932","strength":"0.8568037469571657"},{"source":"328","target":"955","strength":"0.7295256059480878"},{"source":"328","target":"957","strength":"0.708618811396094"},{"source":"328","target":"969","strength":"0.7066751389455044"},{"source":"328","target":"971","strength":"0.843136005593448"},{"source":"328","target":"982","strength":"0.7066752493284381"},{"source":"328","target":"985","strength":"0.7101451078257882"},{"source":"328","target":"993","strength":"0.7713237721547573"},{"source":"328","target":"1013","strength":"0.7365525279053005"},{"source":"328","target":"1014","strength":"0.7580505992221106"},{"source":"328","target":"1020","strength":"0.712819610747757"},{"source":"328","target":"1044","strength":"0.7256007301135038"},{"source":"328","target":"1063","strength":"0.746065551556743"},{"source":"328","target":"1099","strength":"0.7086384169319803"},{"source":"328","target":"1587","strength":"0.8905232247646151"},{"source":"328","target":"1696","strength":"0.7361200643295598"},{"source":"328","target":"1748","strength":"0.7927248417974516"},{"source":"328","target":"1765","strength":"0.7361201094824043"},{"source":"328","target":"1767","strength":"0.7126085368214489"},{"source":"328","target":"1794","strength":"0.7109386511799016"},{"source":"328","target":"2303","strength":"0.7424116041370971"},{"source":"328","target":"2360","strength":"0.7354427467513975"},{"source":"328","target":"2428","strength":"0.812715333251382"},{"source":"329","target":"8","strength":"0.7729876955385635"},{"source":"329","target":"30","strength":"0.7939400331928288"},{"source":"329","target":"241","strength":"0.8330989517886431"},{"source":"329","target":"330","strength":"0.70588963463678"},{"source":"329","target":"494","strength":"0.8616482718258524"},{"source":"329","target":"508","strength":"0.7962798519259764"},{"source":"329","target":"538","strength":"0.7605087472257611"},{"source":"329","target":"573","strength":"0.7256357396109222"},{"source":"329","target":"585","strength":"0.8908046922541394"},{"source":"330","target":"329","strength":"0.70588963463678"},{"source":"331","target":"94","strength":"0.7049308984781972"},{"source":"332","target":"11","strength":"0.7243149747928277"},{"source":"332","target":"71","strength":"0.7556961058141323"},{"source":"332","target":"75","strength":"0.7206817437668124"},{"source":"332","target":"77","strength":"0.73484048070952"},{"source":"332","target":"83","strength":"0.7170153663495493"},{"source":"332","target":"85","strength":"0.7416822650469327"},{"source":"332","target":"91","strength":"0.7067455254823587"},{"source":"332","target":"100","strength":"0.7038128101355217"},{"source":"332","target":"102","strength":"0.7591248397867267"},{"source":"332","target":"103","strength":"0.7121252264299703"},{"source":"332","target":"129","strength":"0.778597868825946"},{"source":"332","target":"497","strength":"0.7541201545181931"},{"source":"332","target":"508","strength":"0.7169773485063364"},{"source":"332","target":"538","strength":"0.7481090628198929"},{"source":"332","target":"849","strength":"0.7201823904483791"},{"source":"338","target":"253","strength":"0.7046073775578654"},{"source":"338","target":"551","strength":"0.7114043209897583"},{"source":"338","target":"669","strength":"0.7557476473806167"},{"source":"338","target":"1056","strength":"0.7628081328521761"},{"source":"338","target":"1241","strength":"0.7380926668015416"},{"source":"338","target":"2396","strength":"0.7628081328521761"},{"source":"339","target":"459","strength":"0.7394012935933381"},{"source":"339","target":"552","strength":"0.7553043882184852"},{"source":"339","target":"553","strength":"0.7553043882184852"},{"source":"339","target":"1218","strength":"0.7532279708316892"},{"source":"339","target":"1220","strength":"0.7532279708316892"},{"source":"339","target":"1663","strength":"0.7158143034862992"},{"source":"341","target":"342","strength":"0.7391707658476735"},{"source":"342","target":"341","strength":"0.7391707658476735"},{"source":"342","target":"2592","strength":"0.7233059420955735"},{"source":"345","target":"425","strength":"0.7627356794294471"},{"source":"345","target":"427","strength":"0.7136567666970277"},{"source":"345","target":"1075","strength":"0.7111092262514741"},{"source":"347","target":"348","strength":"0.8320631956867012"},{"source":"348","target":"347","strength":"0.8320631956867012"},{"source":"358","target":"295","strength":"0.7015936679187563"},{"source":"362","target":"499","strength":"0.7117352006442454"},{"source":"362","target":"541","strength":"0.7117352006442454"},{"source":"367","target":"1112","strength":"0.8982001779316731"},{"source":"368","target":"708","strength":"0.7130375141234305"},{"source":"369","target":"258","strength":"0.7114406225495973"},{"source":"370","target":"371","strength":"0.7062497018035516"},{"source":"370","target":"1253","strength":"0.7062448250666129"},{"source":"370","target":"1762","strength":"0.7521972441798462"},{"source":"371","target":"370","strength":"0.7062497018035516"},{"source":"371","target":"372","strength":"0.9800164532219793"},{"source":"371","target":"1253","strength":"0.7585985011423737"},{"source":"371","target":"1328","strength":"0.7570170740894595"},{"source":"371","target":"1762","strength":"0.762716999650107"},{"source":"372","target":"371","strength":"0.9800164532219793"},{"source":"372","target":"1253","strength":"0.7440663219434372"},{"source":"372","target":"1328","strength":"0.738042234194353"},{"source":"372","target":"1762","strength":"0.7392566268799063"},{"source":"373","target":"808","strength":"0.7690773825436517"},{"source":"373","target":"859","strength":"0.7130220414425531"},{"source":"373","target":"1334","strength":"0.770378163820547"},{"source":"373","target":"2326","strength":"0.7103880179696291"},{"source":"374","target":"750","strength":"0.7025327983105841"},{"source":"374","target":"1006","strength":"0.706431220109826"},{"source":"389","target":"2007","strength":"0.7786997570106461"},{"source":"390","target":"392","strength":"0.7106271501172561"},{"source":"390","target":"393","strength":"0.7261496020771686"},{"source":"390","target":"517","strength":"0.714600118053622"},{"source":"390","target":"566","strength":"0.7375833555147382"},{"source":"392","target":"253","strength":"0.7448919400131799"},{"source":"392","target":"390","strength":"0.7106271501172561"},{"source":"392","target":"393","strength":"0.7639262023774684"},{"source":"392","target":"517","strength":"0.7871503101898712"},{"source":"392","target":"858","strength":"0.7661353034096681"},{"source":"392","target":"866","strength":"0.7698767191714087"},{"source":"392","target":"1052","strength":"0.7053560458666523"},{"source":"393","target":"390","strength":"0.7261496020771686"},{"source":"393","target":"392","strength":"0.7639262023774684"},{"source":"393","target":"517","strength":"0.7833776764684952"},{"source":"393","target":"533","strength":"0.7329030568409478"},{"source":"393","target":"754","strength":"0.7209474423627583"},{"source":"393","target":"1052","strength":"0.7634080179764859"},{"source":"393","target":"1826","strength":"0.7429527865394503"},{"source":"395","target":"216","strength":"0.7047906859822647"},{"source":"395","target":"2369","strength":"0.9342754360023822"},{"source":"396","target":"2105","strength":"0.7086097340830202"},{"source":"403","target":"821","strength":"0.8509293859018943"},{"source":"403","target":"938","strength":"0.7086402317274282"},{"source":"403","target":"947","strength":"0.7610078392632978"},{"source":"403","target":"970","strength":"0.7198450744316671"},{"source":"403","target":"1174","strength":"0.7955885184339814"},{"source":"403","target":"1440","strength":"0.7132542049568467"},{"source":"403","target":"1462","strength":"0.7943522460321187"},{"source":"403","target":"1468","strength":"0.7650694581975747"},{"source":"403","target":"2343","strength":"0.8166713038633858"},{"source":"403","target":"2400","strength":"0.8064687622425597"},{"source":"403","target":"2427","strength":"0.7787229222418405"},{"source":"406","target":"652","strength":"0.7211326592021989"},{"source":"406","target":"664","strength":"0.7225744006543712"},{"source":"406","target":"745","strength":"0.7259953272587282"},{"source":"406","target":"828","strength":"0.7168066560518607"},{"source":"406","target":"837","strength":"0.7520531272517585"},{"source":"406","target":"877","strength":"0.7051480579444712"},{"source":"406","target":"903","strength":"0.7112867673798605"},{"source":"406","target":"1026","strength":"0.7421532793233442"},{"source":"406","target":"1184","strength":"0.7110472009028818"},{"source":"406","target":"1347","strength":"0.7436006909644015"},{"source":"406","target":"1354","strength":"0.7172015656884884"},{"source":"406","target":"1446","strength":"0.7002514319280114"},{"source":"406","target":"1507","strength":"0.7355309435833385"},{"source":"406","target":"1510","strength":"0.7423583078501714"},{"source":"406","target":"1632","strength":"0.7076953883409488"},{"source":"406","target":"1791","strength":"0.7120509480405056"},{"source":"406","target":"1841","strength":"0.7202029101303496"},{"source":"406","target":"1951","strength":"0.71655055026766"},{"source":"406","target":"2030","strength":"0.7255671724460889"},{"source":"406","target":"2090","strength":"0.7604821775823313"},{"source":"406","target":"2386","strength":"0.7966252197121781"},{"source":"406","target":"2387","strength":"0.7211195565172152"},{"source":"407","target":"945","strength":"0.7151040038723729"},{"source":"407","target":"1094","strength":"0.7166206695559922"},{"source":"409","target":"297","strength":"0.9424557325061972"},{"source":"409","target":"943","strength":"0.7236083288213843"},{"source":"409","target":"947","strength":"0.7219453774738996"},{"source":"409","target":"960","strength":"0.7373479470740557"},{"source":"409","target":"1174","strength":"0.7456306162897294"},{"source":"409","target":"2436","strength":"0.7519451376987448"},{"source":"411","target":"800","strength":"0.7082174163842402"},{"source":"412","target":"1153","strength":"0.7003035540141771"},{"source":"418","target":"1674","strength":"0.7952919053061561"},{"source":"425","target":"345","strength":"0.7627356794294471"},{"source":"425","target":"427","strength":"0.8277868022154914"},{"source":"425","target":"447","strength":"0.711450820150504"},{"source":"425","target":"959","strength":"0.7735105841667663"},{"source":"425","target":"1075","strength":"0.7077341784133215"},{"source":"426","target":"328","strength":"0.820173634874862"},{"source":"426","target":"430","strength":"0.7521375354551598"},{"source":"426","target":"436","strength":"0.7332290357562219"},{"source":"426","target":"445","strength":"0.7163601734922052"},{"source":"426","target":"633","strength":"0.7228438136622951"},{"source":"426","target":"931","strength":"0.7558600669203582"},{"source":"426","target":"932","strength":"0.7225679734742344"},{"source":"426","target":"971","strength":"0.7334966519044718"},{"source":"426","target":"993","strength":"0.7936066298890716"},{"source":"426","target":"1063","strength":"0.723214287919286"},{"source":"426","target":"1158","strength":"0.7573155076157049"},{"source":"426","target":"1390","strength":"0.8197817847504976"},{"source":"426","target":"1587","strength":"0.7711361510189378"},{"source":"426","target":"1696","strength":"0.7353155497933267"},{"source":"426","target":"1748","strength":"0.7460913844744252"},{"source":"426","target":"1765","strength":"0.735315546337822"},{"source":"426","target":"1915","strength":"0.75296251760334"},{"source":"426","target":"2303","strength":"0.7056254538098025"},{"source":"427","target":"345","strength":"0.7136567666970277"},{"source":"427","target":"425","strength":"0.8277868022154914"},{"source":"427","target":"447","strength":"0.8360797526501351"},{"source":"427","target":"617","strength":"0.7208861459287489"},{"source":"428","target":"293","strength":"0.7339576966337776"},{"source":"428","target":"1223","strength":"0.7006053111613916"},{"source":"430","target":"255","strength":"0.7402463285136418"},{"source":"430","target":"328","strength":"0.8152771660156013"},{"source":"430","target":"426","strength":"0.7521375354551598"},{"source":"430","target":"436","strength":"0.8029700962356512"},{"source":"430","target":"444","strength":"0.7711173891660492"},{"source":"430","target":"445","strength":"0.7573903965239734"},{"source":"430","target":"629","strength":"0.715832318320837"},{"source":"430","target":"632","strength":"0.7284802074252675"},{"source":"430","target":"633","strength":"0.7193607778654315"},{"source":"430","target":"634","strength":"0.7059523493171028"},{"source":"430","target":"635","strength":"0.7281252934986177"},{"source":"430","target":"637","strength":"0.7366699004846238"},{"source":"430","target":"788","strength":"0.7179241937908155"},{"source":"430","target":"932","strength":"0.8018844915537771"},{"source":"430","target":"971","strength":"0.776876889608003"},{"source":"430","target":"985","strength":"0.713204929889399"},{"source":"430","target":"993","strength":"0.7376509574090613"},{"source":"430","target":"1020","strength":"0.737601008998269"},{"source":"430","target":"1063","strength":"0.7425795628446875"},{"source":"430","target":"1587","strength":"0.7751402502977687"},{"source":"430","target":"1748","strength":"0.7197285179138899"},{"source":"430","target":"2303","strength":"0.7136426431201454"},{"source":"430","target":"2428","strength":"0.733610663186095"},{"source":"431","target":"238","strength":"0.8056251604695086"},{"source":"431","target":"545","strength":"0.8078237495172726"},{"source":"432","target":"1750","strength":"0.7338190447899958"},{"source":"435","target":"259","strength":"0.7012025749330124"},{"source":"435","target":"443","strength":"0.768626879374629"},{"source":"436","target":"255","strength":"0.7045613923929843"},{"source":"436","target":"260","strength":"0.7077872953052704"},{"source":"436","target":"276","strength":"0.7423710966643955"},{"source":"436","target":"328","strength":"0.8367372467989662"},{"source":"436","target":"426","strength":"0.7332290357562219"},{"source":"436","target":"430","strength":"0.8029700962356512"},{"source":"436","target":"445","strength":"0.7105344896852946"},{"source":"436","target":"449","strength":"0.7137472719506257"},{"source":"436","target":"454","strength":"0.7576606746221967"},{"source":"436","target":"616","strength":"0.8004128474577776"},{"source":"436","target":"617","strength":"0.7856310076993502"},{"source":"436","target":"620","strength":"0.783057372433923"},{"source":"436","target":"621","strength":"0.7694476569998958"},{"source":"436","target":"624","strength":"0.7162014568208114"},{"source":"436","target":"626","strength":"0.7413153012649825"},{"source":"436","target":"629","strength":"0.7581632579213247"},{"source":"436","target":"632","strength":"0.7241865715090801"},{"source":"436","target":"633","strength":"0.7145065862409169"},{"source":"436","target":"634","strength":"0.7445174404006806"},{"source":"436","target":"636","strength":"0.7242727040520035"},{"source":"436","target":"637","strength":"0.7353191747233392"},{"source":"436","target":"707","strength":"0.7089029261713538"},{"source":"436","target":"918","strength":"0.7411091157841193"},{"source":"436","target":"932","strength":"0.7699282250106344"},{"source":"436","target":"955","strength":"0.7620518683171178"},{"source":"436","target":"957","strength":"0.7200990633322716"},{"source":"436","target":"969","strength":"0.702999897012221"},{"source":"436","target":"971","strength":"0.7984084963205791"},{"source":"436","target":"982","strength":"0.7029999787845145"},{"source":"436","target":"985","strength":"0.812022132406329"},{"source":"436","target":"987","strength":"0.790254206827194"},{"source":"436","target":"990","strength":"0.7470581170719659"},{"source":"436","target":"993","strength":"0.7011903314200536"},{"source":"436","target":"1013","strength":"0.7158037278214862"},{"source":"436","target":"1014","strength":"0.7545610905545216"},{"source":"436","target":"1020","strength":"0.8792181385360337"},{"source":"436","target":"1043","strength":"0.7127674840738456"},{"source":"436","target":"1099","strength":"0.7128375972502112"},{"source":"436","target":"1587","strength":"0.8529031865512183"},{"source":"436","target":"1649","strength":"0.7376916392501011"},{"source":"436","target":"1748","strength":"0.8014185178766844"},{"source":"436","target":"1794","strength":"0.8905784864195085"},{"source":"436","target":"2303","strength":"0.7490931920010084"},{"source":"436","target":"2360","strength":"0.7211643555101481"},{"source":"436","target":"2428","strength":"0.7457634322916963"},{"source":"438","target":"974","strength":"0.7425300376809053"},{"source":"438","target":"980","strength":"0.9999999999999993"},{"source":"438","target":"1209","strength":"0.759460033977036"},{"source":"438","target":"1210","strength":"0.8114516662470755"},{"source":"438","target":"1211","strength":"0.7176954517025953"},{"source":"438","target":"1212","strength":"0.711944973980568"},{"source":"438","target":"1213","strength":"0.912949543984092"},{"source":"438","target":"1215","strength":"0.7748905663043564"},{"source":"438","target":"2697","strength":"0.7927585468393287"},{"source":"440","target":"328","strength":"0.7203416804680067"},{"source":"440","target":"633","strength":"0.7210308190676514"},{"source":"440","target":"957","strength":"0.7753762599575654"},{"source":"440","target":"1133","strength":"0.7322943162894063"},{"source":"440","target":"1587","strength":"0.7290449333901738"},{"source":"441","target":"823","strength":"0.7162433524148194"},{"source":"441","target":"978","strength":"0.7283868021888104"},{"source":"441","target":"1351","strength":"0.7416589442465819"},{"source":"441","target":"1953","strength":"0.7663407462266579"},{"source":"441","target":"2244","strength":"0.7065369425263343"},{"source":"442","target":"988","strength":"0.8615840493091408"},{"source":"443","target":"259","strength":"0.8066781635288399"},{"source":"443","target":"435","strength":"0.768626879374629"},{"source":"443","target":"446","strength":"0.7738785423674999"},{"source":"443","target":"474","strength":"0.775949746128925"},{"source":"443","target":"573","strength":"0.7453791958738338"},{"source":"443","target":"750","strength":"0.7896730925308124"},{"source":"443","target":"952","strength":"0.8879224074378242"},{"source":"443","target":"966","strength":"0.779551183524941"},{"source":"443","target":"990","strength":"0.8050435621150175"},{"source":"443","target":"1006","strength":"0.7043836611864212"},{"source":"443","target":"1739","strength":"0.7504667277771457"},{"source":"444","target":"255","strength":"0.7741395307817875"},{"source":"444","target":"328","strength":"0.7112976887225251"},{"source":"444","target":"430","strength":"0.7711173891660492"},{"source":"444","target":"445","strength":"0.7916454077696309"},{"source":"444","target":"635","strength":"0.7799467695672312"},{"source":"444","target":"1063","strength":"0.7095906019248392"},{"source":"444","target":"1133","strength":"0.7418869884727105"},{"source":"444","target":"1587","strength":"0.7035423110341936"},{"source":"445","target":"238","strength":"0.7118891937774761"},{"source":"445","target":"255","strength":"0.7365610078787724"},{"source":"445","target":"259","strength":"0.7139612961232011"},{"source":"445","target":"328","strength":"0.746774543771984"},{"source":"445","target":"426","strength":"0.7163601734922052"},{"source":"445","target":"430","strength":"0.7573903965239734"},{"source":"445","target":"436","strength":"0.7105344896852946"},{"source":"445","target":"444","strength":"0.7916454077696309"},{"source":"445","target":"633","strength":"0.7808814125022014"},{"source":"445","target":"634","strength":"0.7231671455494788"},{"source":"445","target":"635","strength":"0.7089181249075172"},{"source":"445","target":"641","strength":"0.765588103060345"},{"source":"445","target":"971","strength":"0.7292589511797642"},{"source":"445","target":"1020","strength":"0.7102988132989004"},{"source":"445","target":"1063","strength":"0.7403893706683142"},{"source":"445","target":"1133","strength":"0.7924769305870079"},{"source":"445","target":"1587","strength":"0.7729339993296409"},{"source":"445","target":"1748","strength":"0.7103787320748942"},{"source":"446","target":"238","strength":"0.7341166033003496"},{"source":"446","target":"259","strength":"0.7676592395231265"},{"source":"446","target":"443","strength":"0.7738785423674999"},{"source":"446","target":"545","strength":"0.7466639868894764"},{"source":"446","target":"952","strength":"0.7371338956083129"},{"source":"446","target":"1739","strength":"0.714441284751859"},{"source":"447","target":"425","strength":"0.711450820150504"},{"source":"447","target":"427","strength":"0.8360797526501351"},{"source":"449","target":"328","strength":"0.7539333883630972"},{"source":"449","target":"436","strength":"0.7137472719506257"},{"source":"449","target":"627","strength":"0.7102377649017361"},{"source":"449","target":"932","strength":"0.7998332252494604"},{"source":"449","target":"971","strength":"0.7387701700090595"},{"source":"449","target":"1587","strength":"0.7110484418498055"},{"source":"449","target":"2428","strength":"0.7306731534706246"},{"source":"451","target":"938","strength":"0.753161770145919"},{"source":"451","target":"947","strength":"0.7587617788784621"},{"source":"451","target":"970","strength":"0.8079032060676536"},{"source":"451","target":"1355","strength":"0.7328765006453828"},{"source":"452","target":"1659","strength":"0.7488728370745745"},{"source":"454","target":"436","strength":"0.7576606746221967"},{"source":"454","target":"1794","strength":"0.7234761801822773"},{"source":"456","target":"291","strength":"0.8160565266374532"},{"source":"456","target":"629","strength":"0.775862954057648"},{"source":"456","target":"632","strength":"0.7395533592788011"},{"source":"456","target":"641","strength":"0.7231139242860293"},{"source":"456","target":"1153","strength":"0.7393837988468539"},{"source":"456","target":"2460","strength":"0.7245707514048437"},{"source":"459","target":"339","strength":"0.7394012935933381"},{"source":"461","target":"315","strength":"0.8277848633046526"},{"source":"461","target":"651","strength":"0.8372818171335227"},{"source":"461","target":"654","strength":"0.831505227830096"},{"source":"461","target":"698","strength":"0.7386848321176699"},{"source":"461","target":"737","strength":"0.7532393230942449"},{"source":"461","target":"829","strength":"0.7628383936290866"},{"source":"461","target":"1159","strength":"0.7850630035353263"},{"source":"461","target":"1257","strength":"0.8203556500399263"},{"source":"461","target":"1339","strength":"0.7019999967008852"},{"source":"461","target":"1347","strength":"0.751715758835658"},{"source":"461","target":"1354","strength":"0.7538371830887095"},{"source":"461","target":"1421","strength":"0.7007945477377158"},{"source":"461","target":"1773","strength":"0.7024664098642474"},{"source":"461","target":"1799","strength":"0.7217281413964781"},{"source":"461","target":"1841","strength":"0.7396345072387036"},{"source":"461","target":"2087","strength":"0.7419387098065279"},{"source":"461","target":"2088","strength":"0.7091542553302261"},{"source":"461","target":"2090","strength":"0.7550180080596774"},{"source":"461","target":"2091","strength":"0.7329253983384895"},{"source":"461","target":"2092","strength":"0.7767716800614307"},{"source":"461","target":"2267","strength":"0.7419387098065279"},{"source":"461","target":"2353","strength":"0.7013448363795994"},{"source":"461","target":"2386","strength":"0.8134496206154365"},{"source":"461","target":"2731","strength":"0.7429778331374516"},{"source":"462","target":"315","strength":"0.7190933025426683"},{"source":"462","target":"463","strength":"0.7645814465287589"},{"source":"463","target":"462","strength":"0.7645814465287589"},{"source":"464","target":"465","strength":"0.9999999999999994"},{"source":"464","target":"2615","strength":"0.7010725855854236"},{"source":"465","target":"464","strength":"0.9999999999999994"},{"source":"465","target":"2615","strength":"0.7010725855854236"},{"source":"467","target":"2179","strength":"0.731259513683354"},{"source":"470","target":"652","strength":"0.7376810544643565"},{"source":"470","target":"1026","strength":"0.7076501802176053"},{"source":"470","target":"1354","strength":"0.7035745933482225"},{"source":"470","target":"1443","strength":"0.7015750171017194"},{"source":"470","target":"1632","strength":"0.7103361234681752"},{"source":"470","target":"1791","strength":"0.7000414673150092"},{"source":"470","target":"1951","strength":"0.715447548069338"},{"source":"470","target":"2090","strength":"0.7091291120824452"},{"source":"471","target":"1557","strength":"0.7639654096554922"},{"source":"474","target":"443","strength":"0.775949746128925"},{"source":"475","target":"312","strength":"0.7988870279484009"},{"source":"475","target":"314","strength":"0.718249348043634"},{"source":"475","target":"652","strength":"0.8306626148499617"},{"source":"475","target":"1445","strength":"0.7379963203179851"},{"source":"482","target":"483","strength":"0.8720355984963943"},{"source":"483","target":"482","strength":"0.8720355984963943"},{"source":"483","target":"905","strength":"0.705044186848735"},{"source":"485","target":"1184","strength":"0.7489654737431128"},{"source":"485","target":"1205","strength":"0.8634553739767051"},{"source":"485","target":"2089","strength":"0.7276222854468409"},{"source":"485","target":"2387","strength":"0.7028463928497272"},{"source":"485","target":"2390","strength":"0.7072472573621962"},{"source":"485","target":"2699","strength":"0.8037786623953518"},{"source":"485","target":"2709","strength":"0.7914835021325225"},{"source":"485","target":"2798","strength":"0.7494143031150516"},{"source":"487","target":"187","strength":"0.7686640167326125"},{"source":"487","target":"488","strength":"0.9913853404646406"},{"source":"488","target":"187","strength":"0.7758786622351475"},{"source":"488","target":"487","strength":"0.9913853404646406"},{"source":"494","target":"8","strength":"0.8234401264461852"},{"source":"494","target":"30","strength":"0.753725376889633"},{"source":"494","target":"241","strength":"0.8498863191428249"},{"source":"494","target":"329","strength":"0.8616482718258524"},{"source":"494","target":"508","strength":"0.741335070676401"},{"source":"494","target":"538","strength":"0.7012071465410451"},{"source":"494","target":"548","strength":"0.7380276727578912"},{"source":"494","target":"573","strength":"0.733388829314701"},{"source":"494","target":"585","strength":"0.8197149532997974"},{"source":"496","target":"505","strength":"0.7419582569797036"},{"source":"497","target":"85","strength":"0.7300512334474049"},{"source":"497","target":"97","strength":"0.7023412930152249"},{"source":"497","target":"102","strength":"0.7065834239897302"},{"source":"497","target":"332","strength":"0.7541201545181931"},{"source":"497","target":"508","strength":"0.75852987856034"},{"source":"497","target":"538","strength":"0.7154935711604465"},{"source":"497","target":"849","strength":"0.7501289210568013"},{"source":"499","target":"362","strength":"0.7117352006442454"},{"source":"499","target":"541","strength":"0.9999999999999987"},{"source":"499","target":"1076","strength":"0.7193883515099078"},{"source":"501","target":"2178","strength":"0.7229686428263846"},{"source":"502","target":"821","strength":"0.7402876507090126"},{"source":"502","target":"947","strength":"0.7192531268392064"},{"source":"502","target":"970","strength":"0.7983288767240415"},{"source":"502","target":"1440","strength":"0.701387117259711"},{"source":"502","target":"1462","strength":"0.7162846492043966"},{"source":"502","target":"2343","strength":"0.7059838333779589"},{"source":"502","target":"2431","strength":"0.739169133603202"},{"source":"504","target":"572","strength":"0.8911161082738225"},{"source":"505","target":"496","strength":"0.7419582569797036"},{"source":"506","target":"976","strength":"0.705500026650915"},{"source":"508","target":"6","strength":"0.7571916608634752"},{"source":"508","target":"8","strength":"0.712396921297905"},{"source":"508","target":"30","strength":"0.7036673854497267"},{"source":"508","target":"100","strength":"0.746822349733366"},{"source":"508","target":"128","strength":"0.7125454719778166"},{"source":"508","target":"241","strength":"0.7723524314206559"},{"source":"508","target":"329","strength":"0.7962798519259764"},{"source":"508","target":"332","strength":"0.7169773485063364"},{"source":"508","target":"494","strength":"0.741335070676401"},{"source":"508","target":"497","strength":"0.75852987856034"},{"source":"508","target":"538","strength":"0.9219642296678671"},{"source":"508","target":"585","strength":"0.7419614813894586"},{"source":"508","target":"784","strength":"0.7510918816208676"},{"source":"508","target":"849","strength":"0.7711159922851974"},{"source":"511","target":"1658","strength":"0.700161724699648"},{"source":"516","target":"291","strength":"0.7050194641938772"},{"source":"516","target":"555","strength":"0.7333794870714865"},{"source":"516","target":"641","strength":"0.7575276202865926"},{"source":"516","target":"892","strength":"0.751465121716835"},{"source":"516","target":"1390","strength":"0.7123657611036033"},{"source":"516","target":"2434","strength":"0.7131167642754137"},{"source":"517","target":"217","strength":"0.7481240691229099"},{"source":"517","target":"390","strength":"0.714600118053622"},{"source":"517","target":"392","strength":"0.7871503101898712"},{"source":"517","target":"393","strength":"0.7833776764684952"},{"source":"517","target":"1052","strength":"0.7343043577462204"},{"source":"520","target":"536","strength":"0.7068834878679787"},{"source":"520","target":"861","strength":"0.769150615991864"},{"source":"524","target":"664","strength":"0.7427675804615494"},{"source":"524","target":"709","strength":"0.7733874358545749"},{"source":"524","target":"830","strength":"0.7305028322915622"},{"source":"524","target":"1050","strength":"0.7460638353870612"},{"source":"524","target":"1999","strength":"0.8919282556462438"},{"source":"524","target":"2180","strength":"0.7753325919168533"},{"source":"524","target":"2468","strength":"0.7009599894968939"},{"source":"524","target":"2749","strength":"0.7795794777334564"},{"source":"525","target":"949","strength":"0.7088744325979703"},{"source":"525","target":"2192","strength":"0.7417627830494502"},{"source":"526","target":"158","strength":"0.7965228619190233"},{"source":"528","target":"2499","strength":"0.727238453394686"},{"source":"529","target":"868","strength":"0.7175437531717835"},{"source":"530","target":"1121","strength":"0.7992514267156385"},{"source":"531","target":"533","strength":"0.7000428425863616"},{"source":"531","target":"647","strength":"0.7077205658884927"},{"source":"531","target":"858","strength":"0.7068443483662491"},{"source":"531","target":"1260","strength":"0.7175101941412283"},{"source":"533","target":"217","strength":"0.7406669689701473"},{"source":"533","target":"253","strength":"0.7508272508126193"},{"source":"533","target":"254","strength":"0.7234833564256058"},{"source":"533","target":"393","strength":"0.7329030568409478"},{"source":"533","target":"531","strength":"0.7000428425863616"},{"source":"533","target":"535","strength":"0.7603710717967519"},{"source":"533","target":"598","strength":"0.7177743886552942"},{"source":"533","target":"647","strength":"0.7537776451956482"},{"source":"533","target":"766","strength":"0.7021203054007975"},{"source":"533","target":"782","strength":"0.750198150445702"},{"source":"533","target":"841","strength":"0.758993107408481"},{"source":"533","target":"1052","strength":"0.7495932183477957"},{"source":"533","target":"1260","strength":"0.8310007871983218"},{"source":"533","target":"1441","strength":"0.7249988869091966"},{"source":"533","target":"2721","strength":"0.7005671711809667"},{"source":"535","target":"253","strength":"0.7380242961561612"},{"source":"535","target":"254","strength":"0.7375486933380162"},{"source":"535","target":"533","strength":"0.7603710717967519"},{"source":"535","target":"782","strength":"0.9063179816192054"},{"source":"535","target":"1052","strength":"0.7173498730875502"},{"source":"535","target":"1260","strength":"0.7455729745428631"},{"source":"535","target":"1441","strength":"0.7278941671913663"},{"source":"536","target":"520","strength":"0.7068834878679787"},{"source":"536","target":"861","strength":"0.7619135320440319"},{"source":"536","target":"976","strength":"0.7803141000623464"},{"source":"537","target":"676","strength":"0.8526858520988495"},{"source":"538","target":"6","strength":"0.7219313980497186"},{"source":"538","target":"100","strength":"0.7169733725859316"},{"source":"538","target":"128","strength":"0.7022548179799774"},{"source":"538","target":"241","strength":"0.7241527442250719"},{"source":"538","target":"329","strength":"0.7605087472257611"},{"source":"538","target":"332","strength":"0.7481090628198929"},{"source":"538","target":"494","strength":"0.7012071465410451"},{"source":"538","target":"497","strength":"0.7154935711604465"},{"source":"538","target":"508","strength":"0.9219642296678671"},{"source":"538","target":"585","strength":"0.7385761824239258"},{"source":"538","target":"849","strength":"0.7367865197703306"},{"source":"539","target":"671","strength":"0.7041616105902258"},{"source":"539","target":"907","strength":"0.7000069134982715"},{"source":"539","target":"1054","strength":"0.7000069134982715"},{"source":"540","target":"945","strength":"0.7220603814049359"},{"source":"540","target":"1094","strength":"0.7296467295595307"},{"source":"540","target":"1216","strength":"0.7136749713947858"},{"source":"540","target":"1217","strength":"0.7013121122866934"},{"source":"541","target":"362","strength":"0.7117352006442454"},{"source":"541","target":"499","strength":"0.9999999999999987"},{"source":"541","target":"1076","strength":"0.7193883515099078"},{"source":"545","target":"238","strength":"0.9799782711751666"},{"source":"545","target":"259","strength":"0.7006835506781568"},{"source":"545","target":"431","strength":"0.8078237495172726"},{"source":"545","target":"446","strength":"0.7466639868894764"},{"source":"545","target":"634","strength":"0.7017294076168015"},{"source":"545","target":"641","strength":"0.7183565309241132"},{"source":"545","target":"1043","strength":"0.7203214545408598"},{"source":"548","target":"107","strength":"0.7287029118517272"},{"source":"548","target":"241","strength":"0.7159350041984217"},{"source":"548","target":"494","strength":"0.7380276727578912"},{"source":"548","target":"573","strength":"0.7878749044571549"},{"source":"551","target":"253","strength":"0.7592276401505509"},{"source":"551","target":"254","strength":"0.7209833221565041"},{"source":"551","target":"338","strength":"0.7114043209897583"},{"source":"551","target":"646","strength":"0.7364982352574161"},{"source":"551","target":"841","strength":"0.7313996071712605"},{"source":"551","target":"1475","strength":"0.7107878541322618"},{"source":"551","target":"2535","strength":"0.7107878541322618"},{"source":"552","target":"339","strength":"0.7553043882184852"},{"source":"552","target":"553","strength":"0.9999999999999991"},{"source":"552","target":"554","strength":"0.7566836078402202"},{"source":"553","target":"339","strength":"0.7553043882184852"},{"source":"553","target":"552","strength":"0.9999999999999991"},{"source":"553","target":"554","strength":"0.7566836078402202"},{"source":"554","target":"552","strength":"0.7566836078402202"},{"source":"554","target":"553","strength":"0.7566836078402202"},{"source":"555","target":"291","strength":"0.7110931728831299"},{"source":"555","target":"516","strength":"0.7333794870714865"},{"source":"555","target":"1390","strength":"0.7316862122644087"},{"source":"555","target":"2131","strength":"0.7640893620279288"},{"source":"555","target":"2259","strength":"0.7059792109926835"},{"source":"555","target":"2434","strength":"0.8114762820306645"},{"source":"555","target":"2750","strength":"0.7173698089965181"},{"source":"558","target":"1525","strength":"0.7361895693701297"},{"source":"558","target":"2564","strength":"0.8186755366563023"},{"source":"561","target":"1938","strength":"0.8247328730644519"},{"source":"563","target":"2187","strength":"0.8300887305412636"},{"source":"566","target":"217","strength":"0.7065702478145255"},{"source":"566","target":"390","strength":"0.7375833555147382"},{"source":"566","target":"763","strength":"0.7597822372362437"},{"source":"566","target":"780","strength":"0.7589606491145534"},{"source":"566","target":"908","strength":"0.7018910423335554"},{"source":"569","target":"119","strength":"0.7038815308628251"},{"source":"569","target":"121","strength":"0.7038815308628251"},{"source":"569","target":"2324","strength":"0.7048627603055507"},{"source":"570","target":"583","strength":"0.7046887059576709"},{"source":"570","target":"847","strength":"0.865736032767982"},{"source":"570","target":"939","strength":"0.7201643829989465"},{"source":"570","target":"945","strength":"0.8391415860591962"},{"source":"570","target":"965","strength":"0.7611660216184462"},{"source":"570","target":"984","strength":"0.786213265527631"},{"source":"570","target":"1094","strength":"0.7307985763740005"},{"source":"570","target":"1216","strength":"0.752693682775546"},{"source":"570","target":"1217","strength":"0.8142039580696232"},{"source":"570","target":"1222","strength":"0.7354295305150055"},{"source":"570","target":"1792","strength":"0.7210532592136428"},{"source":"570","target":"2392","strength":"0.7080005542142931"},{"source":"570","target":"2410","strength":"0.7858877991705906"},{"source":"570","target":"2442","strength":"0.7415095483791224"},{"source":"571","target":"823","strength":"0.7069913959127432"},{"source":"572","target":"504","strength":"0.8911161082738225"},{"source":"573","target":"107","strength":"0.7220193169723567"},{"source":"573","target":"329","strength":"0.7256357396109222"},{"source":"573","target":"443","strength":"0.7453791958738338"},{"source":"573","target":"494","strength":"0.733388829314701"},{"source":"573","target":"548","strength":"0.7878749044571549"},{"source":"573","target":"585","strength":"0.705372148327101"},{"source":"573","target":"990","strength":"0.7357154634128853"},{"source":"576","target":"577","strength":"1.0"},{"source":"576","target":"579","strength":"0.9548706240780849"},{"source":"577","target":"576","strength":"1.0"},{"source":"577","target":"579","strength":"0.9548706240780849"},{"source":"579","target":"576","strength":"0.9548706240780849"},{"source":"579","target":"577","strength":"0.9548706240780849"},{"source":"579","target":"2546","strength":"0.7029528505848391"},{"source":"583","target":"570","strength":"0.7046887059576709"},{"source":"583","target":"847","strength":"0.7006266659003978"},{"source":"583","target":"945","strength":"0.7285658800027204"},{"source":"583","target":"984","strength":"0.7164595766915841"},{"source":"584","target":"816","strength":"0.7382470109636995"},{"source":"585","target":"8","strength":"0.7412033486410435"},{"source":"585","target":"30","strength":"0.7982781587814125"},{"source":"585","target":"241","strength":"0.8338110238487679"},{"source":"585","target":"329","strength":"0.8908046922541394"},{"source":"585","target":"494","strength":"0.8197149532997974"},{"source":"585","target":"508","strength":"0.7419614813894586"},{"source":"585","target":"538","strength":"0.7385761824239258"},{"source":"585","target":"573","strength":"0.705372148327101"},{"source":"590","target":"173","strength":"0.7144309243998648"},{"source":"590","target":"717","strength":"0.7148002530048657"},{"source":"591","target":"19","strength":"0.7143337234824272"},{"source":"591","target":"602","strength":"0.903345164942357"},{"source":"591","target":"2025","strength":"0.7628433034827923"},{"source":"594","target":"645","strength":"0.7057254526839326"},{"source":"597","target":"248","strength":"0.7013513855495741"},{"source":"597","target":"2313","strength":"0.7024562628708152"},{"source":"598","target":"253","strength":"0.7377240187019088"},{"source":"598","target":"254","strength":"0.7679047561504665"},{"source":"598","target":"533","strength":"0.7177743886552942"},{"source":"598","target":"669","strength":"0.7125084763257381"},{"source":"598","target":"766","strength":"0.7308960989141805"},{"source":"598","target":"873","strength":"0.7008201517265976"},{"source":"598","target":"1052","strength":"0.7705965157006315"},{"source":"598","target":"1241","strength":"0.7218399841730632"},{"source":"600","target":"144","strength":"0.7755454334003234"},{"source":"600","target":"178","strength":"0.7380515659286987"},{"source":"601","target":"787","strength":"0.7171073115476883"},{"source":"602","target":"591","strength":"0.903345164942357"},{"source":"602","target":"765","strength":"0.7113771368298647"},{"source":"602","target":"2025","strength":"0.7285520527977523"},{"source":"604","target":"216","strength":"0.7513312268782292"},{"source":"604","target":"2369","strength":"0.718160928503288"},{"source":"608","target":"652","strength":"0.731029715650773"},{"source":"608","target":"1093","strength":"0.7068986109510178"},{"source":"613","target":"1417","strength":"0.7210980476861416"},{"source":"613","target":"1568","strength":"0.7755736936563673"},{"source":"613","target":"2654","strength":"0.8383336388148543"},{"source":"614","target":"1029","strength":"0.7075981264765707"},{"source":"616","target":"276","strength":"0.9450740697632265"},{"source":"616","target":"436","strength":"0.8004128474577776"},{"source":"616","target":"823","strength":"0.7563531745450505"},{"source":"616","target":"939","strength":"0.7378640687333323"},{"source":"616","target":"1020","strength":"0.7096609991433771"},{"source":"616","target":"1099","strength":"0.7165684987794947"},{"source":"616","target":"1794","strength":"0.7336288836927577"},{"source":"617","target":"427","strength":"0.7208861459287489"},{"source":"617","target":"436","strength":"0.7856310076993502"},{"source":"617","target":"886","strength":"0.7167976892940559"},{"source":"617","target":"974","strength":"0.7339822547045552"},{"source":"617","target":"985","strength":"0.7774127697204847"},{"source":"617","target":"1210","strength":"0.7826801114794351"},{"source":"617","target":"1794","strength":"0.7199963821804669"},{"source":"620","target":"436","strength":"0.783057372433923"},{"source":"620","target":"708","strength":"0.7072891882211456"},{"source":"620","target":"990","strength":"0.7342834248275784"},{"source":"620","target":"1020","strength":"0.7665818750955034"},{"source":"620","target":"1794","strength":"0.732983060422596"},{"source":"621","target":"436","strength":"0.7694476569998958"},{"source":"621","target":"626","strength":"0.8262743695100532"},{"source":"621","target":"1020","strength":"0.7088783075316382"},{"source":"621","target":"1794","strength":"0.701310969096609"},{"source":"621","target":"2083","strength":"0.7173003298904057"},{"source":"622","target":"1742","strength":"0.7062520084039368"},{"source":"624","target":"255","strength":"0.7029279139074074"},{"source":"624","target":"328","strength":"0.7065906773720131"},{"source":"624","target":"436","strength":"0.7162014568208114"},{"source":"624","target":"1587","strength":"0.7185958043592383"},{"source":"626","target":"436","strength":"0.7413153012649825"},{"source":"626","target":"621","strength":"0.8262743695100532"},{"source":"626","target":"1020","strength":"0.7251408053261998"},{"source":"626","target":"1794","strength":"0.7039088129992901"},{"source":"627","target":"328","strength":"0.7989077713833226"},{"source":"627","target":"449","strength":"0.7102377649017361"},{"source":"627","target":"932","strength":"0.7030375211259644"},{"source":"627","target":"2428","strength":"0.7066148610967823"},{"source":"629","target":"291","strength":"0.7322362418543248"},{"source":"629","target":"328","strength":"0.7912065713151032"},{"source":"629","target":"430","strength":"0.715832318320837"},{"source":"629","target":"436","strength":"0.7581632579213247"},{"source":"629","target":"456","strength":"0.775862954057648"},{"source":"629","target":"632","strength":"0.9479407679519651"},{"source":"629","target":"633","strength":"0.7074442761928571"},{"source":"629","target":"634","strength":"0.7019459391818298"},{"source":"629","target":"637","strength":"0.721419379190684"},{"source":"629","target":"932","strength":"0.7156284838186174"},{"source":"629","target":"948","strength":"0.7074586983848221"},{"source":"629","target":"964","strength":"0.7184122605344444"},{"source":"629","target":"971","strength":"0.7323256296179657"},{"source":"629","target":"1414","strength":"0.727374372486435"},{"source":"629","target":"1587","strength":"0.727058525478482"},{"source":"629","target":"1748","strength":"0.7083172212317053"},{"source":"631","target":"971","strength":"0.759978552977643"},{"source":"631","target":"993","strength":"0.7104404806374195"},{"source":"632","target":"328","strength":"0.7514715582931716"},{"source":"632","target":"430","strength":"0.7284802074252675"},{"source":"632","target":"436","strength":"0.7241865715090801"},{"source":"632","target":"456","strength":"0.7395533592788011"},{"source":"632","target":"629","strength":"0.9479407679519651"},{"source":"632","target":"637","strength":"0.7138656789626069"},{"source":"632","target":"932","strength":"0.7069432500877119"},{"source":"632","target":"964","strength":"0.7004078800900252"},{"source":"632","target":"971","strength":"0.7101375186374473"},{"source":"632","target":"1587","strength":"0.7080316660058927"},{"source":"633","target":"328","strength":"0.8399599992993058"},{"source":"633","target":"426","strength":"0.7228438136622951"},{"source":"633","target":"430","strength":"0.7193607778654315"},{"source":"633","target":"436","strength":"0.7145065862409169"},{"source":"633","target":"440","strength":"0.7210308190676514"},{"source":"633","target":"445","strength":"0.7808814125022014"},{"source":"633","target":"629","strength":"0.7074442761928571"},{"source":"633","target":"637","strength":"0.7363513375749107"},{"source":"633","target":"892","strength":"0.7029327103109431"},{"source":"633","target":"932","strength":"0.7270005200896955"},{"source":"633","target":"971","strength":"0.7415662843125345"},{"source":"633","target":"993","strength":"0.7076291151915176"},{"source":"633","target":"1014","strength":"0.7013209507382826"},{"source":"633","target":"1063","strength":"0.7416283446690033"},{"source":"633","target":"1133","strength":"0.758008575681504"},{"source":"633","target":"1532","strength":"0.712058998784011"},{"source":"633","target":"1587","strength":"0.8225838486395719"},{"source":"633","target":"1748","strength":"0.733576226080964"},{"source":"634","target":"238","strength":"0.7149780606448531"},{"source":"634","target":"259","strength":"0.7079787751684187"},{"source":"634","target":"328","strength":"0.7223793130191819"},{"source":"634","target":"430","strength":"0.7059523493171028"},{"source":"634","target":"436","strength":"0.7445174404006806"},{"source":"634","target":"445","strength":"0.7231671455494788"},{"source":"634","target":"545","strength":"0.7017294076168015"},{"source":"634","target":"629","strength":"0.7019459391818298"},{"source":"634","target":"641","strength":"0.7561196231332703"},{"source":"634","target":"957","strength":"0.7103854499025841"},{"source":"634","target":"971","strength":"0.7277080931876823"},{"source":"634","target":"1014","strength":"0.7068515777211147"},{"source":"634","target":"1020","strength":"0.7078313476445875"},{"source":"634","target":"1043","strength":"0.7251018697392044"},{"source":"634","target":"1587","strength":"0.7422303321840321"},{"source":"634","target":"1748","strength":"0.7655516576422067"},{"source":"634","target":"1794","strength":"0.7475110831367051"},{"source":"635","target":"430","strength":"0.7281252934986177"},{"source":"635","target":"444","strength":"0.7799467695672312"},{"source":"635","target":"445","strength":"0.7089181249075172"},{"source":"635","target":"993","strength":"0.7354255230915432"},{"source":"635","target":"1133","strength":"0.708946118722594"},{"source":"636","target":"436","strength":"0.7242727040520035"},{"source":"636","target":"750","strength":"0.7141685014157081"},{"source":"636","target":"918","strength":"0.7855504288470568"},{"source":"636","target":"1006","strength":"0.7120646004320607"},{"source":"636","target":"1706","strength":"0.7579678843876948"},{"source":"636","target":"1794","strength":"0.7241830848153884"},{"source":"637","target":"328","strength":"0.7886411500112824"},{"source":"637","target":"430","strength":"0.7366699004846238"},{"source":"637","target":"436","strength":"0.7353191747233392"},{"source":"637","target":"629","strength":"0.721419379190684"},{"source":"637","target":"632","strength":"0.7138656789626069"},{"source":"637","target":"633","strength":"0.7363513375749107"},{"source":"637","target":"932","strength":"0.714893345303531"},{"source":"637","target":"969","strength":"0.8866275706200271"},{"source":"637","target":"971","strength":"0.7678321023891573"},{"source":"637","target":"982","strength":"0.8866276784764783"},{"source":"637","target":"1014","strength":"0.7097549512738512"},{"source":"637","target":"1020","strength":"0.7201500197028582"},{"source":"637","target":"1587","strength":"0.7925743220296643"},{"source":"637","target":"1748","strength":"0.7162844752977535"},{"source":"637","target":"2303","strength":"0.7115807785305227"},{"source":"637","target":"2428","strength":"0.7374672565712312"},{"source":"640","target":"1205","strength":"0.7382079368497306"},{"source":"640","target":"1481","strength":"0.7437629713553814"},{"source":"641","target":"238","strength":"0.7500979492607093"},{"source":"641","target":"259","strength":"0.7307060054308963"},{"source":"641","target":"328","strength":"0.7011705162261731"},{"source":"641","target":"445","strength":"0.765588103060345"},{"source":"641","target":"456","strength":"0.7231139242860293"},{"source":"641","target":"516","strength":"0.7575276202865926"},{"source":"641","target":"545","strength":"0.7183565309241132"},{"source":"641","target":"634","strength":"0.7561196231332703"},{"source":"641","target":"892","strength":"0.7447859660199612"},{"source":"641","target":"932","strength":"0.7011349542112113"},{"source":"641","target":"987","strength":"0.7084730903719332"},{"source":"641","target":"1020","strength":"0.7140436607096674"},{"source":"641","target":"1587","strength":"0.7302138640317379"},{"source":"641","target":"1649","strength":"0.7202839335561522"},{"source":"645","target":"594","strength":"0.7057254526839326"},{"source":"646","target":"253","strength":"0.7095982784809305"},{"source":"646","target":"551","strength":"0.7364982352574161"},{"source":"646","target":"841","strength":"0.7660269999407084"},{"source":"646","target":"848","strength":"0.7120778236000005"},{"source":"646","target":"1157","strength":"0.7075948958302269"},{"source":"647","target":"217","strength":"0.7557114965180743"},{"source":"647","target":"253","strength":"0.7310207070820519"},{"source":"647","target":"254","strength":"0.7465365273187581"},{"source":"647","target":"531","strength":"0.7077205658884927"},{"source":"647","target":"533","strength":"0.7537776451956482"},{"source":"647","target":"766","strength":"0.7274328937927987"},{"source":"647","target":"782","strength":"0.7092036854675452"},{"source":"647","target":"841","strength":"0.7107094031147487"},{"source":"647","target":"1045","strength":"0.7037349070422256"},{"source":"647","target":"1052","strength":"0.7599259054551777"},{"source":"647","target":"1260","strength":"0.7423688630379666"},{"source":"647","target":"1441","strength":"0.7159775614852889"},{"source":"649","target":"911","strength":"0.7162819976532752"},{"source":"651","target":"315","strength":"0.7944273500620667"},{"source":"651","target":"461","strength":"0.8372818171335227"},{"source":"651","target":"654","strength":"0.7970442962520472"},{"source":"651","target":"698","strength":"0.7282765594288457"},{"source":"651","target":"737","strength":"0.7435139469505732"},{"source":"651","target":"829","strength":"0.7773932704368826"},{"source":"651","target":"1117","strength":"0.7266647195711399"},{"source":"651","target":"1159","strength":"0.7393354359590552"},{"source":"651","target":"1165","strength":"0.7180338175216645"},{"source":"651","target":"1257","strength":"0.7975924993272692"},{"source":"651","target":"1445","strength":"0.7557533073977662"},{"source":"651","target":"1799","strength":"0.7938308686562041"},{"source":"651","target":"1841","strength":"0.7564138786055578"},{"source":"651","target":"2087","strength":"0.8424438094865632"},{"source":"651","target":"2088","strength":"0.7748462406701941"},{"source":"651","target":"2090","strength":"0.7729203628119394"},{"source":"651","target":"2091","strength":"0.8161631227374214"},{"source":"651","target":"2092","strength":"0.85319969049404"},{"source":"651","target":"2267","strength":"0.8424438094865632"},{"source":"651","target":"2386","strength":"0.7719825256965234"},{"source":"652","target":"312","strength":"0.771645134450669"},{"source":"652","target":"406","strength":"0.7211326592021989"},{"source":"652","target":"470","strength":"0.7376810544643565"},{"source":"652","target":"475","strength":"0.8306626148499617"},{"source":"652","target":"608","strength":"0.731029715650773"},{"source":"652","target":"1445","strength":"0.7215462480432501"},{"source":"652","target":"1951","strength":"0.7402928648535984"},{"source":"654","target":"315","strength":"0.7096353641234011"},{"source":"654","target":"461","strength":"0.831505227830096"},{"source":"654","target":"651","strength":"0.7970442962520472"},{"source":"654","target":"698","strength":"0.7439796874418966"},{"source":"654","target":"829","strength":"0.7717205944721482"},{"source":"654","target":"1159","strength":"0.7084748778876557"},{"source":"654","target":"1257","strength":"0.7956372033922131"},{"source":"654","target":"1347","strength":"0.7246726552902386"},{"source":"654","target":"1445","strength":"0.732378782289378"},{"source":"654","target":"2087","strength":"0.7412696349207621"},{"source":"654","target":"2088","strength":"0.7325312901143117"},{"source":"654","target":"2091","strength":"0.7089459917413918"},{"source":"654","target":"2092","strength":"0.7938189121662353"},{"source":"654","target":"2267","strength":"0.7412696349207621"},{"source":"654","target":"2386","strength":"0.7237203059240295"},{"source":"656","target":"783","strength":"0.7022868481900295"},{"source":"658","target":"659","strength":"0.8843072782538454"},{"source":"659","target":"658","strength":"0.8843072782538454"},{"source":"659","target":"2443","strength":"0.7121759588304323"},{"source":"664","target":"406","strength":"0.7225744006543712"},{"source":"664","target":"524","strength":"0.7427675804615494"},{"source":"664","target":"745","strength":"0.7170657668507131"},{"source":"664","target":"837","strength":"0.8002628541344707"},{"source":"664","target":"877","strength":"0.84038221694239"},{"source":"664","target":"1026","strength":"0.7132256800519112"},{"source":"664","target":"1034","strength":"0.7159392160631992"},{"source":"664","target":"1340","strength":"0.7064390991270857"},{"source":"664","target":"1507","strength":"0.7060224620859052"},{"source":"664","target":"1632","strength":"0.7550765050082285"},{"source":"664","target":"1666","strength":"0.721005026638306"},{"source":"664","target":"1791","strength":"0.769746522257786"},{"source":"664","target":"1951","strength":"0.7615442115150046"},{"source":"664","target":"1956","strength":"0.7182245841241952"},{"source":"664","target":"1999","strength":"0.7409989393540997"},{"source":"664","target":"2030","strength":"0.7322778761440568"},{"source":"664","target":"2044","strength":"0.7000197549172567"},{"source":"664","target":"2090","strength":"0.7676228994061515"},{"source":"664","target":"2253","strength":"0.7201000928112383"},{"source":"664","target":"2269","strength":"0.7552336411572528"},{"source":"664","target":"2352","strength":"0.7095312164713791"},{"source":"664","target":"2387","strength":"0.7388159402346142"},{"source":"664","target":"2488","strength":"0.7208452585740592"},{"source":"665","target":"1117","strength":"0.7649223970047354"},{"source":"668","target":"845","strength":"0.7313785244751893"},{"source":"669","target":"253","strength":"0.7045176777264827"},{"source":"669","target":"338","strength":"0.7557476473806167"},{"source":"669","target":"598","strength":"0.7125084763257381"},{"source":"669","target":"766","strength":"0.7231109196482829"},{"source":"669","target":"1056","strength":"0.7001631896488608"},{"source":"669","target":"1241","strength":"0.7462684291742768"},{"source":"669","target":"2396","strength":"0.7001631896488608"},{"source":"670","target":"671","strength":"0.7904971213095081"},{"source":"670","target":"1677","strength":"0.7578297735194462"},{"source":"671","target":"539","strength":"0.7041616105902258"},{"source":"671","target":"670","strength":"0.7904971213095081"},{"source":"671","target":"907","strength":"0.8211160159940359"},{"source":"671","target":"1021","strength":"0.7195935181479021"},{"source":"671","target":"1054","strength":"0.8211160159940359"},{"source":"671","target":"1135","strength":"0.755774911093985"},{"source":"671","target":"1677","strength":"0.7492318060424404"},{"source":"671","target":"1979","strength":"0.7459257605106197"},{"source":"671","target":"2721","strength":"0.7485480540187605"},{"source":"676","target":"537","strength":"0.8526858520988495"},{"source":"677","target":"801","strength":"0.7289715571341724"},{"source":"679","target":"926","strength":"0.7331613723907425"},{"source":"680","target":"2546","strength":"0.7874726837563315"},{"source":"686","target":"689","strength":"0.7596765108831288"},{"source":"686","target":"2454","strength":"0.7516484621241323"},{"source":"686","target":"2464","strength":"0.7094758040032727"},{"source":"686","target":"2598","strength":"0.7574522756252913"},{"source":"689","target":"686","strength":"0.7596765108831288"},{"source":"689","target":"2454","strength":"0.7020269711047595"},{"source":"689","target":"2598","strength":"0.8878470420873125"},{"source":"690","target":"691","strength":"0.8208829570679754"},{"source":"690","target":"2454","strength":"0.776330833337084"},{"source":"690","target":"2723","strength":"0.7045694176718532"},{"source":"691","target":"690","strength":"0.8208829570679754"},{"source":"691","target":"2454","strength":"0.7136473422630315"},{"source":"698","target":"461","strength":"0.7386848321176699"},{"source":"698","target":"651","strength":"0.7282765594288457"},{"source":"698","target":"654","strength":"0.7439796874418966"},{"source":"698","target":"829","strength":"0.7591487039655447"},{"source":"699","target":"2255","strength":"0.8458678015925263"},{"source":"700","target":"1072","strength":"0.740417095794715"},{"source":"701","target":"721","strength":"0.9999999999999998"},{"source":"701","target":"2531","strength":"0.7876951004026728"},{"source":"702","target":"818","strength":"0.7993172371566245"},{"source":"704","target":"767","strength":"1.0000000000000009"},{"source":"705","target":"1398","strength":"0.7883358368590183"},{"source":"705","target":"1399","strength":"0.7589871229189972"},{"source":"705","target":"2800","strength":"0.7632503780475757"},{"source":"707","target":"328","strength":"0.7103243530872615"},{"source":"707","target":"436","strength":"0.7089029261713538"},{"source":"707","target":"971","strength":"0.7148499258346324"},{"source":"707","target":"1020","strength":"0.7028825341013568"},{"source":"707","target":"1587","strength":"0.7047746167991777"},{"source":"708","target":"368","strength":"0.7130375141234305"},{"source":"708","target":"620","strength":"0.7072891882211456"},{"source":"708","target":"1739","strength":"0.7105365776735884"},{"source":"709","target":"524","strength":"0.7733874358545749"},{"source":"709","target":"712","strength":"0.7226073060230974"},{"source":"709","target":"1999","strength":"0.7980472484136454"},{"source":"709","target":"2749","strength":"0.7071907816871675"},{"source":"711","target":"737","strength":"0.737980492804377"},{"source":"712","target":"709","strength":"0.7226073060230974"},{"source":"712","target":"1999","strength":"0.7109405937888376"},{"source":"712","target":"2373","strength":"0.7147918387358376"},{"source":"713","target":"1475","strength":"0.7245260511232914"},{"source":"713","target":"2534","strength":"0.7110396244097656"},{"source":"713","target":"2535","strength":"0.7245260511232914"},{"source":"713","target":"2536","strength":"0.7461324978993813"},{"source":"713","target":"2537","strength":"0.7825495350500945"},{"source":"714","target":"1130","strength":"0.707946775495454"},{"source":"716","target":"906","strength":"0.811039254567385"},{"source":"717","target":"590","strength":"0.7148002530048657"},{"source":"721","target":"701","strength":"0.9999999999999998"},{"source":"721","target":"2531","strength":"0.7876951004026728"},{"source":"725","target":"839","strength":"0.7182973031000845"},{"source":"725","target":"846","strength":"0.7984046233354449"},{"source":"725","target":"913","strength":"0.8492287294708828"},{"source":"725","target":"1134","strength":"0.722649954054646"},{"source":"725","target":"1680","strength":"0.7189941749482224"},{"source":"725","target":"1917","strength":"0.7076234452968246"},{"source":"728","target":"927","strength":"0.8401860318136507"},{"source":"730","target":"253","strength":"0.7081353382016695"},{"source":"730","target":"1052","strength":"0.7369822737164244"},{"source":"730","target":"1826","strength":"0.7422074795081859"},{"source":"731","target":"732","strength":"0.7238822309332532"},{"source":"732","target":"731","strength":"0.7238822309332532"},{"source":"735","target":"740","strength":"0.7094962926593625"},{"source":"735","target":"741","strength":"0.7649350558560283"},{"source":"735","target":"744","strength":"0.7153229968143899"},{"source":"735","target":"1184","strength":"0.776447047353166"},{"source":"735","target":"2355","strength":"0.7194729011182295"},{"source":"735","target":"2576","strength":"0.7137219992702379"},{"source":"735","target":"2585","strength":"0.7317123345891626"},{"source":"736","target":"1184","strength":"0.7330875203032793"},{"source":"736","target":"1488","strength":"0.7031695262188402"},{"source":"737","target":"461","strength":"0.7532393230942449"},{"source":"737","target":"651","strength":"0.7435139469505732"},{"source":"737","target":"711","strength":"0.737980492804377"},{"source":"737","target":"741","strength":"0.7280509196300349"},{"source":"737","target":"743","strength":"0.7901481378027952"},{"source":"737","target":"744","strength":"0.7116603554890357"},{"source":"737","target":"745","strength":"0.7721527891914084"},{"source":"737","target":"826","strength":"0.7372228117038523"},{"source":"737","target":"877","strength":"0.7106723183204129"},{"source":"737","target":"903","strength":"0.7170251718143672"},{"source":"737","target":"1026","strength":"0.7043432548805235"},{"source":"737","target":"1257","strength":"0.7302494090803773"},{"source":"737","target":"1347","strength":"0.7710513980290833"},{"source":"737","target":"1354","strength":"0.786716526421343"},{"source":"737","target":"1421","strength":"0.7158636369080668"},{"source":"737","target":"1443","strength":"0.7322237526241022"},{"source":"737","target":"1449","strength":"0.7112666064475051"},{"source":"737","target":"1632","strength":"0.7686001722527455"},{"source":"737","target":"1773","strength":"0.7291726180414659"},{"source":"737","target":"1791","strength":"0.7563380095597616"},{"source":"737","target":"1799","strength":"0.709909774009714"},{"source":"737","target":"2046","strength":"0.7468858294996683"},{"source":"737","target":"2090","strength":"0.7759452714377572"},{"source":"737","target":"2270","strength":"0.7046186876947321"},{"source":"737","target":"2352","strength":"0.7003074272142678"},{"source":"737","target":"2353","strength":"0.7305451284213134"},{"source":"737","target":"2386","strength":"0.7533759816354065"},{"source":"737","target":"2576","strength":"0.7629899238081173"},{"source":"737","target":"2731","strength":"0.7955551524919633"},{"source":"737","target":"2773","strength":"0.7485159794574745"},{"source":"738","target":"743","strength":"0.710053203359394"},{"source":"738","target":"826","strength":"0.7155414961195796"},{"source":"738","target":"2046","strength":"0.7016610890171207"},{"source":"738","target":"2048","strength":"0.7461911729462973"},{"source":"738","target":"2352","strength":"0.7256754748081069"},{"source":"738","target":"2731","strength":"0.7274664723343571"},{"source":"738","target":"2773","strength":"0.722836894333392"},{"source":"739","target":"744","strength":"0.7003248493948276"},{"source":"739","target":"1516","strength":"0.7516588755348091"},{"source":"739","target":"2046","strength":"0.7055192381918721"},{"source":"739","target":"2731","strength":"0.7314505464579131"},{"source":"739","target":"2773","strength":"0.7177102752676203"},{"source":"740","target":"735","strength":"0.7094962926593625"},{"source":"740","target":"741","strength":"0.7560724814534705"},{"source":"740","target":"743","strength":"0.7027657087090498"},{"source":"740","target":"744","strength":"0.779969776846344"},{"source":"740","target":"826","strength":"0.7529941719228911"},{"source":"740","target":"836","strength":"0.7135285203341303"},{"source":"740","target":"1092","strength":"0.7781668828600523"},{"source":"740","target":"1184","strength":"0.7384866963765092"},{"source":"740","target":"1339","strength":"0.7119598262611382"},{"source":"740","target":"1521","strength":"0.7172550285861433"},{"source":"740","target":"1773","strength":"0.7062201942795499"},{"source":"740","target":"2046","strength":"0.7442235998870096"},{"source":"740","target":"2270","strength":"0.7101821102727741"},{"source":"740","target":"2355","strength":"0.7352891621702238"},{"source":"740","target":"2449","strength":"0.7212383702345047"},{"source":"740","target":"2502","strength":"0.713198969712455"},{"source":"740","target":"2576","strength":"0.7810879066869654"},{"source":"740","target":"2731","strength":"0.7587004580770129"},{"source":"740","target":"2773","strength":"0.7786554597020522"},{"source":"741","target":"735","strength":"0.7649350558560283"},{"source":"741","target":"737","strength":"0.7280509196300349"},{"source":"741","target":"740","strength":"0.7560724814534705"},{"source":"741","target":"743","strength":"0.763774677003199"},{"source":"741","target":"744","strength":"0.8431263759726552"},{"source":"741","target":"826","strength":"0.801269527071744"},{"source":"741","target":"836","strength":"0.786113168048415"},{"source":"741","target":"1092","strength":"0.7917662141480333"},{"source":"741","target":"1184","strength":"0.7808341771692071"},{"source":"741","target":"1339","strength":"0.8357339821088006"},{"source":"741","target":"1347","strength":"0.767160818769498"},{"source":"741","target":"1443","strength":"0.7688601392185378"},{"source":"741","target":"1516","strength":"0.714902947047221"},{"source":"741","target":"1521","strength":"0.7255698538302146"},{"source":"741","target":"1684","strength":"0.7388055114370061"},{"source":"741","target":"1773","strength":"0.8511682862657013"},{"source":"741","target":"2046","strength":"0.7636419735231509"},{"source":"741","target":"2270","strength":"0.7510717191385462"},{"source":"741","target":"2353","strength":"0.8090002989066769"},{"source":"741","target":"2355","strength":"0.8106621129294554"},{"source":"741","target":"2386","strength":"0.7106623604365051"},{"source":"741","target":"2449","strength":"0.757351841485351"},{"source":"741","target":"2477","strength":"0.7035027492780642"},{"source":"741","target":"2502","strength":"0.751264948445344"},{"source":"741","target":"2570","strength":"0.7766564617059313"},{"source":"741","target":"2576","strength":"0.8512993096810099"},{"source":"741","target":"2585","strength":"0.7074715202203877"},{"source":"741","target":"2699","strength":"0.7374262780802142"},{"source":"741","target":"2731","strength":"0.8450920620200559"},{"source":"741","target":"2773","strength":"0.8235419746631134"},{"source":"742","target":"2048","strength":"0.7639924693295765"},{"source":"743","target":"737","strength":"0.7901481378027952"},{"source":"743","target":"738","strength":"0.710053203359394"},{"source":"743","target":"740","strength":"0.7027657087090498"},{"source":"743","target":"741","strength":"0.763774677003199"},{"source":"743","target":"744","strength":"0.8081291784444372"},{"source":"743","target":"826","strength":"0.8469343548400968"},{"source":"743","target":"836","strength":"0.72507895459948"},{"source":"743","target":"872","strength":"0.7299709682960112"},{"source":"743","target":"1092","strength":"0.7123627084944433"},{"source":"743","target":"1184","strength":"0.7098719176769813"},{"source":"743","target":"1339","strength":"0.7546353592462322"},{"source":"743","target":"1347","strength":"0.8186472153692121"},{"source":"743","target":"1354","strength":"0.7733787829066608"},{"source":"743","target":"1443","strength":"0.7674769832916639"},{"source":"743","target":"1519","strength":"0.7283680749744541"},{"source":"743","target":"1632","strength":"0.7206066001601966"},{"source":"743","target":"1676","strength":"0.759008662256963"},{"source":"743","target":"1773","strength":"0.8008291989954157"},{"source":"743","target":"2046","strength":"0.8676749744907968"},{"source":"743","target":"2048","strength":"0.7044289097649095"},{"source":"743","target":"2270","strength":"0.7403706125447229"},{"source":"743","target":"2353","strength":"0.80080039180608"},{"source":"743","target":"2354","strength":"0.7476962341078712"},{"source":"743","target":"2386","strength":"0.7062652712321239"},{"source":"743","target":"2449","strength":"0.8694370178344357"},{"source":"743","target":"2570","strength":"0.7438553758834184"},{"source":"743","target":"2576","strength":"0.7923149572488818"},{"source":"743","target":"2731","strength":"0.8608803079672098"},{"source":"743","target":"2773","strength":"0.7994658667171811"},{"source":"744","target":"735","strength":"0.7153229968143899"},{"source":"744","target":"737","strength":"0.7116603554890357"},{"source":"744","target":"739","strength":"0.7003248493948276"},{"source":"744","target":"740","strength":"0.779969776846344"},{"source":"744","target":"741","strength":"0.8431263759726552"},{"source":"744","target":"743","strength":"0.8081291784444372"},{"source":"744","target":"826","strength":"0.7913732496367316"},{"source":"744","target":"836","strength":"0.7554042875589116"},{"source":"744","target":"1092","strength":"0.7823157953020409"},{"source":"744","target":"1184","strength":"0.7779919266688907"},{"source":"744","target":"1339","strength":"0.7823638717310649"},{"source":"744","target":"1347","strength":"0.8044631479892026"},{"source":"744","target":"1354","strength":"0.7189137398627191"},{"source":"744","target":"1443","strength":"0.7665192136850713"},{"source":"744","target":"1516","strength":"0.7134376869817405"},{"source":"744","target":"1521","strength":"0.7338601209721947"},{"source":"744","target":"1632","strength":"0.7011987971154856"},{"source":"744","target":"1684","strength":"0.7045321021519381"},{"source":"744","target":"1773","strength":"0.838823733010228"},{"source":"744","target":"2046","strength":"0.7702865856107245"},{"source":"744","target":"2270","strength":"0.7708819073254543"},{"source":"744","target":"2353","strength":"0.79530022838562"},{"source":"744","target":"2354","strength":"0.7105135907656246"},{"source":"744","target":"2355","strength":"0.7865091571279477"},{"source":"744","target":"2387","strength":"0.7044148439283693"},{"source":"744","target":"2449","strength":"0.815977581074746"},{"source":"744","target":"2502","strength":"0.7562887028327238"},{"source":"744","target":"2570","strength":"0.7471816361080694"},{"source":"744","target":"2576","strength":"0.8791124856101661"},{"source":"744","target":"2731","strength":"0.8637898949263343"},{"source":"744","target":"2773","strength":"0.8292647240148159"},{"source":"745","target":"406","strength":"0.7259953272587282"},{"source":"745","target":"664","strength":"0.7170657668507131"},{"source":"745","target":"737","strength":"0.7721527891914084"},{"source":"745","target":"837","strength":"0.7327823719360803"},{"source":"745","target":"877","strength":"0.7122060260742741"},{"source":"745","target":"903","strength":"0.746242023590407"},{"source":"745","target":"1026","strength":"0.7161897408584903"},{"source":"745","target":"1034","strength":"0.7399104721798633"},{"source":"745","target":"1449","strength":"0.7001732544632432"},{"source":"745","target":"1507","strength":"0.7189587853018599"},{"source":"745","target":"1632","strength":"0.769781884052997"},{"source":"745","target":"1791","strength":"0.738948460191919"},{"source":"745","target":"1841","strength":"0.7032609361597977"},{"source":"745","target":"1951","strength":"0.7124095970776898"},{"source":"745","target":"2090","strength":"0.756667034983229"},{"source":"745","target":"2386","strength":"0.7104858900260402"},{"source":"748","target":"1416","strength":"0.7544069981820933"},{"source":"750","target":"374","strength":"0.7025327983105841"},{"source":"750","target":"443","strength":"0.7896730925308124"},{"source":"750","target":"636","strength":"0.7141685014157081"},{"source":"750","target":"918","strength":"0.8388752974064818"},{"source":"750","target":"952","strength":"0.7561465450558241"},{"source":"750","target":"990","strength":"0.7966682659438888"},{"source":"750","target":"1006","strength":"0.9329834086073049"},{"source":"750","target":"1706","strength":"0.7102858660278774"},{"source":"750","target":"2238","strength":"0.8040658080681653"},{"source":"753","target":"762","strength":"0.88757662976901"},{"source":"754","target":"393","strength":"0.7209474423627583"},{"source":"756","target":"253","strength":"0.7328658797118331"},{"source":"756","target":"1475","strength":"0.7920763603140146"},{"source":"756","target":"2535","strength":"0.7920763603140146"},{"source":"757","target":"1769","strength":"0.7452005993638966"},{"source":"757","target":"2273","strength":"0.7539822096060801"},{"source":"762","target":"753","strength":"0.88757662976901"},{"source":"763","target":"566","strength":"0.7597822372362437"},{"source":"763","target":"780","strength":"0.9576813533212825"},{"source":"763","target":"908","strength":"0.7042348318428431"},{"source":"763","target":"1157","strength":"0.7665678897190004"},{"source":"765","target":"602","strength":"0.7113771368298647"},{"source":"766","target":"217","strength":"0.7120386537366342"},{"source":"766","target":"253","strength":"0.7794549719303638"},{"source":"766","target":"254","strength":"0.8123959511872386"},{"source":"766","target":"533","strength":"0.7021203054007975"},{"source":"766","target":"598","strength":"0.7308960989141805"},{"source":"766","target":"647","strength":"0.7274328937927987"},{"source":"766","target":"669","strength":"0.7231109196482829"},{"source":"766","target":"782","strength":"0.7063557184609719"},{"source":"766","target":"1007","strength":"0.7235759969435156"},{"source":"766","target":"1052","strength":"0.7194459081653078"},{"source":"766","target":"1260","strength":"0.7242871485161846"},{"source":"767","target":"704","strength":"1.0000000000000009"},{"source":"771","target":"1739","strength":"0.8183851329354126"},{"source":"773","target":"775","strength":"0.7338592534909585"},{"source":"774","target":"881","strength":"0.7883098874406135"},{"source":"775","target":"773","strength":"0.7338592534909585"},{"source":"776","target":"2439","strength":"0.730601278978974"},{"source":"780","target":"566","strength":"0.7589606491145534"},{"source":"780","target":"763","strength":"0.9576813533212825"},{"source":"780","target":"864","strength":"0.7114113596624987"},{"source":"780","target":"908","strength":"0.7112925563452598"},{"source":"780","target":"1157","strength":"0.7237312008230439"},{"source":"782","target":"253","strength":"0.7280417816974057"},{"source":"782","target":"254","strength":"0.7488040432723018"},{"source":"782","target":"533","strength":"0.750198150445702"},{"source":"782","target":"535","strength":"0.9063179816192054"},{"source":"782","target":"647","strength":"0.7092036854675452"},{"source":"782","target":"766","strength":"0.7063557184609719"},{"source":"782","target":"1052","strength":"0.7604841443764228"},{"source":"782","target":"1260","strength":"0.717190050364266"},{"source":"782","target":"1441","strength":"0.7226371668221003"},{"source":"783","target":"656","strength":"0.7022868481900295"},{"source":"784","target":"97","strength":"0.7473031907437123"},{"source":"784","target":"508","strength":"0.7510918816208676"},{"source":"784","target":"849","strength":"0.8314653258567803"},{"source":"787","target":"287","strength":"0.7216718930141952"},{"source":"787","target":"601","strength":"0.7171073115476883"},{"source":"788","target":"328","strength":"0.7078669635724801"},{"source":"788","target":"430","strength":"0.7179241937908155"},{"source":"792","target":"12","strength":"0.7075851349011418"},{"source":"800","target":"411","strength":"0.7082174163842402"},{"source":"801","target":"677","strength":"0.7289715571341724"},{"source":"802","target":"1261","strength":"0.8038590912163167"},{"source":"802","target":"2382","strength":"0.7060385181047077"},{"source":"808","target":"373","strength":"0.7690773825436517"},{"source":"809","target":"2344","strength":"0.7443368864032283"},{"source":"816","target":"584","strength":"0.7382470109636995"},{"source":"816","target":"1454","strength":"0.7264436313597233"},{"source":"818","target":"702","strength":"0.7993172371566245"},{"source":"821","target":"403","strength":"0.8509293859018943"},{"source":"821","target":"502","strength":"0.7402876507090126"},{"source":"821","target":"938","strength":"0.7434467001108815"},{"source":"821","target":"942","strength":"0.7162562740422441"},{"source":"821","target":"947","strength":"0.8075668758428592"},{"source":"821","target":"970","strength":"0.8047487183387061"},{"source":"821","target":"1174","strength":"0.7793119329304877"},{"source":"821","target":"1355","strength":"0.7349090841713655"},{"source":"821","target":"1440","strength":"0.7748160616890929"},{"source":"821","target":"1462","strength":"0.8088525451978537"},{"source":"821","target":"1468","strength":"0.7744257149371832"},{"source":"821","target":"2343","strength":"0.8403610950207214"},{"source":"821","target":"2357","strength":"0.7375005592369389"},{"source":"821","target":"2399","strength":"0.7004150155832558"},{"source":"821","target":"2400","strength":"0.8866325598213068"},{"source":"821","target":"2427","strength":"0.8811220451834051"},{"source":"821","target":"2431","strength":"0.7938803044726696"},{"source":"822","target":"2360","strength":"0.7415968225843116"},{"source":"823","target":"276","strength":"0.71097627580688"},{"source":"823","target":"441","strength":"0.7162433524148194"},{"source":"823","target":"571","strength":"0.7069913959127432"},{"source":"823","target":"616","strength":"0.7563531745450505"},{"source":"826","target":"737","strength":"0.7372228117038523"},{"source":"826","target":"738","strength":"0.7155414961195796"},{"source":"826","target":"740","strength":"0.7529941719228911"},{"source":"826","target":"741","strength":"0.801269527071744"},{"source":"826","target":"743","strength":"0.8469343548400968"},{"source":"826","target":"744","strength":"0.7913732496367316"},{"source":"826","target":"836","strength":"0.7467218748447064"},{"source":"826","target":"1092","strength":"0.755546027181603"},{"source":"826","target":"1184","strength":"0.7536600835633599"},{"source":"826","target":"1339","strength":"0.7449512047675878"},{"source":"826","target":"1347","strength":"0.7711264070082443"},{"source":"826","target":"1443","strength":"0.7619405021399461"},{"source":"826","target":"1684","strength":"0.7323706185485448"},{"source":"826","target":"1773","strength":"0.7835939097939232"},{"source":"826","target":"2046","strength":"0.8413491445402475"},{"source":"826","target":"2270","strength":"0.7152331859630728"},{"source":"826","target":"2353","strength":"0.8017140294930944"},{"source":"826","target":"2354","strength":"0.7136954516473095"},{"source":"826","target":"2355","strength":"0.7173733421615912"},{"source":"826","target":"2449","strength":"0.809071867227875"},{"source":"826","target":"2502","strength":"0.7330323981679634"},{"source":"826","target":"2570","strength":"0.7635825861229482"},{"source":"826","target":"2576","strength":"0.7938444509389516"},{"source":"826","target":"2731","strength":"0.8053704130510568"},{"source":"826","target":"2773","strength":"0.8334518818779394"},{"source":"827","target":"2091","strength":"0.7211748761471217"},{"source":"828","target":"406","strength":"0.7168066560518607"},{"source":"828","target":"1446","strength":"0.8003183238685176"},{"source":"829","target":"461","strength":"0.7628383936290866"},{"source":"829","target":"651","strength":"0.7773932704368826"},{"source":"829","target":"654","strength":"0.7717205944721482"},{"source":"829","target":"698","strength":"0.7591487039655447"},{"source":"829","target":"1257","strength":"0.7235495623172238"},{"source":"829","target":"2087","strength":"0.7346535184605961"},{"source":"829","target":"2092","strength":"0.7507593195409045"},{"source":"829","target":"2267","strength":"0.7346535184605961"},{"source":"830","target":"524","strength":"0.7305028322915622"},{"source":"830","target":"1999","strength":"0.7486355930341213"},{"source":"830","target":"2749","strength":"0.7039132581018663"},{"source":"831","target":"1730","strength":"0.7095509426670233"},{"source":"835","target":"2188","strength":"0.7488396797467228"},{"source":"836","target":"740","strength":"0.7135285203341303"},{"source":"836","target":"741","strength":"0.786113168048415"},{"source":"836","target":"743","strength":"0.72507895459948"},{"source":"836","target":"744","strength":"0.7554042875589116"},{"source":"836","target":"826","strength":"0.7467218748447064"},{"source":"836","target":"1092","strength":"0.7314112882918896"},{"source":"836","target":"1184","strength":"0.7236926471763115"},{"source":"836","target":"1339","strength":"0.7434178831255532"},{"source":"836","target":"1347","strength":"0.7280229909822831"},{"source":"836","target":"1443","strength":"0.7502133066357015"},{"source":"836","target":"1521","strength":"0.7214812802391858"},{"source":"836","target":"1773","strength":"0.8419810402626496"},{"source":"836","target":"2046","strength":"0.7489395054143351"},{"source":"836","target":"2090","strength":"0.7048038191718726"},{"source":"836","target":"2270","strength":"0.705204621532623"},{"source":"836","target":"2353","strength":"0.7420260913713482"},{"source":"836","target":"2355","strength":"0.7650789395959512"},{"source":"836","target":"2570","strength":"0.7257990358055774"},{"source":"836","target":"2576","strength":"0.7864282572243441"},{"source":"836","target":"2585","strength":"0.7209214935780659"},{"source":"836","target":"2731","strength":"0.7520173386908854"},{"source":"836","target":"2773","strength":"0.747943596106629"},{"source":"837","target":"406","strength":"0.7520531272517585"},{"source":"837","target":"664","strength":"0.8002628541344707"},{"source":"837","target":"745","strength":"0.7327823719360803"},{"source":"837","target":"877","strength":"0.8272340096848263"},{"source":"837","target":"1026","strength":"0.7759027794567286"},{"source":"837","target":"1202","strength":"0.7732181026189308"},{"source":"837","target":"1632","strength":"0.718247278966624"},{"source":"837","target":"1791","strength":"0.7264937163101925"},{"source":"837","target":"1841","strength":"0.7260813470041753"},{"source":"837","target":"1951","strength":"0.74446695813931"},{"source":"837","target":"2030","strength":"0.7500191525341049"},{"source":"837","target":"2090","strength":"0.7611415052928516"},{"source":"837","target":"2091","strength":"0.7010664027726909"},{"source":"837","target":"2269","strength":"0.7519167480864388"},{"source":"838","target":"1056","strength":"0.723600193438579"},{"source":"838","target":"2396","strength":"0.723600193438579"},{"source":"839","target":"725","strength":"0.7182973031000845"},{"source":"839","target":"841","strength":"0.704914765733409"},{"source":"841","target":"217","strength":"0.7090530784134926"},{"source":"841","target":"253","strength":"0.7489155617120289"},{"source":"841","target":"254","strength":"0.7220292519179207"},{"source":"841","target":"533","strength":"0.758993107408481"},{"source":"841","target":"551","strength":"0.7313996071712605"},{"source":"841","target":"646","strength":"0.7660269999407084"},{"source":"841","target":"647","strength":"0.7107094031147487"},{"source":"841","target":"839","strength":"0.704914765733409"},{"source":"841","target":"846","strength":"0.7047914443444937"},{"source":"841","target":"848","strength":"0.776014621449119"},{"source":"841","target":"1260","strength":"0.7401759369266666"},{"source":"845","target":"668","strength":"0.7313785244751893"},{"source":"846","target":"725","strength":"0.7984046233354449"},{"source":"846","target":"841","strength":"0.7047914443444937"},{"source":"846","target":"913","strength":"0.7804671336147536"},{"source":"846","target":"1007","strength":"0.7375697188400901"},{"source":"846","target":"1134","strength":"0.7804611301391506"},{"source":"846","target":"1680","strength":"0.7648794846093375"},{"source":"846","target":"1917","strength":"0.7643319721385268"},{"source":"846","target":"2340","strength":"0.7029815628428107"},{"source":"847","target":"570","strength":"0.865736032767982"},{"source":"847","target":"583","strength":"0.7006266659003978"},{"source":"847","target":"945","strength":"0.7473341343243554"},{"source":"847","target":"984","strength":"0.7626159592626229"},{"source":"847","target":"1094","strength":"0.754136922180229"},{"source":"847","target":"1216","strength":"0.7376432342584175"},{"source":"847","target":"1217","strength":"0.7878185018067456"},{"source":"847","target":"1222","strength":"0.7198080656934699"},{"source":"847","target":"2410","strength":"0.7297882191733593"},{"source":"848","target":"646","strength":"0.7120778236000005"},{"source":"848","target":"841","strength":"0.776014621449119"},{"source":"848","target":"907","strength":"0.7088734440479727"},{"source":"848","target":"1054","strength":"0.7088734440479727"},{"source":"849","target":"97","strength":"0.7185091461136989"},{"source":"849","target":"332","strength":"0.7201823904483791"},{"source":"849","target":"497","strength":"0.7501289210568013"},{"source":"849","target":"508","strength":"0.7711159922851974"},{"source":"849","target":"538","strength":"0.7367865197703306"},{"source":"849","target":"784","strength":"0.8314653258567803"},{"source":"850","target":"2741","strength":"0.7019392269875324"},{"source":"853","target":"2507","strength":"0.7392759362275425"},{"source":"854","target":"868","strength":"0.7119952147161819"},{"source":"854","target":"909","strength":"0.7565049223179675"},{"source":"854","target":"2392","strength":"0.7570249800438557"},{"source":"854","target":"2410","strength":"0.7144453485868448"},{"source":"858","target":"392","strength":"0.7661353034096681"},{"source":"858","target":"531","strength":"0.7068443483662491"},{"source":"858","target":"866","strength":"0.7041161928302204"},{"source":"858","target":"1052","strength":"0.7093360193466314"},{"source":"859","target":"373","strength":"0.7130220414425531"},{"source":"859","target":"1334","strength":"0.7088712677309447"},{"source":"860","target":"1035","strength":"0.7603254808436917"},{"source":"861","target":"520","strength":"0.769150615991864"},{"source":"861","target":"536","strength":"0.7619135320440319"},{"source":"861","target":"939","strength":"0.7079290850355224"},{"source":"861","target":"976","strength":"0.7408628333544824"},{"source":"861","target":"981","strength":"0.7967557540863072"},{"source":"864","target":"780","strength":"0.7114113596624987"},{"source":"864","target":"908","strength":"0.7667242857192809"},{"source":"866","target":"253","strength":"0.7142574952523014"},{"source":"866","target":"258","strength":"0.7084652553799773"},{"source":"866","target":"392","strength":"0.7698767191714087"},{"source":"866","target":"858","strength":"0.7041161928302204"},{"source":"867","target":"939","strength":"0.733729262748691"},{"source":"867","target":"941","strength":"0.7132532058645302"},{"source":"867","target":"945","strength":"0.7009633315898587"},{"source":"867","target":"1094","strength":"0.7241591113760889"},{"source":"867","target":"1216","strength":"0.737907401070346"},{"source":"867","target":"2599","strength":"0.7737177235356627"},{"source":"868","target":"529","strength":"0.7175437531717835"},{"source":"868","target":"854","strength":"0.7119952147161819"},{"source":"870","target":"42","strength":"0.7234819547980829"},{"source":"870","target":"945","strength":"0.7123884732198003"},{"source":"870","target":"1912","strength":"0.7547181517860475"},{"source":"870","target":"2377","strength":"0.7463861733354642"},{"source":"872","target":"743","strength":"0.7299709682960112"},{"source":"872","target":"1092","strength":"0.7086294862904152"},{"source":"872","target":"1184","strength":"0.7488785757091649"},{"source":"872","target":"1339","strength":"0.7475309410614137"},{"source":"872","target":"1340","strength":"0.7428925488590128"},{"source":"872","target":"1443","strength":"0.7416467282039795"},{"source":"872","target":"1676","strength":"0.720951350952423"},{"source":"872","target":"2046","strength":"0.7135209769715251"},{"source":"872","target":"2090","strength":"0.7225678865653565"},{"source":"872","target":"2270","strength":"0.701089327739238"},{"source":"872","target":"2354","strength":"0.744748740045244"},{"source":"872","target":"2387","strength":"0.7737026872627982"},{"source":"872","target":"2570","strength":"0.7121928103183174"},{"source":"872","target":"2585","strength":"0.7255485726543068"},{"source":"872","target":"2731","strength":"0.71926250925535"},{"source":"872","target":"2773","strength":"0.7294358506578077"},{"source":"873","target":"598","strength":"0.7008201517265976"},{"source":"875","target":"2098","strength":"0.7044151372811952"},{"source":"875","target":"2368","strength":"0.7102887634681"},{"source":"877","target":"406","strength":"0.7051480579444712"},{"source":"877","target":"664","strength":"0.84038221694239"},{"source":"877","target":"737","strength":"0.7106723183204129"},{"source":"877","target":"745","strength":"0.7122060260742741"},{"source":"877","target":"837","strength":"0.8272340096848263"},{"source":"877","target":"1026","strength":"0.7139066530458116"},{"source":"877","target":"1632","strength":"0.7366648159147255"},{"source":"877","target":"1666","strength":"0.7206092079567301"},{"source":"877","target":"1791","strength":"0.7827547480401756"},{"source":"877","target":"2030","strength":"0.7504078804060108"},{"source":"877","target":"2090","strength":"0.7912140491655978"},{"source":"877","target":"2352","strength":"0.7770148551220883"},{"source":"877","target":"2373","strength":"0.7280193374575387"},{"source":"877","target":"2793","strength":"0.7034960976157131"},{"source":"880","target":"1417","strength":"0.7042697425943758"},{"source":"880","target":"2613","strength":"0.8037630111575567"},{"source":"881","target":"774","strength":"0.7883098874406135"},{"source":"881","target":"1739","strength":"0.7766836500088579"},{"source":"883","target":"2308","strength":"0.7771926973699645"},{"source":"884","target":"1154","strength":"0.9999999999999994"},{"source":"886","target":"617","strength":"0.7167976892940559"},{"source":"886","target":"1210","strength":"0.7069295629889343"},{"source":"886","target":"1658","strength":"0.7222276833818897"},{"source":"892","target":"328","strength":"0.7029591425124092"},{"source":"892","target":"516","strength":"0.751465121716835"},{"source":"892","target":"633","strength":"0.7029327103109431"},{"source":"892","target":"641","strength":"0.7447859660199612"},{"source":"892","target":"1587","strength":"0.721084663041701"},{"source":"892","target":"1589","strength":"0.7054131669640041"},{"source":"892","target":"1649","strength":"0.7400521520405472"},{"source":"900","target":"902","strength":"0.8893061383523958"},{"source":"902","target":"900","strength":"0.8893061383523958"},{"source":"903","target":"406","strength":"0.7112867673798605"},{"source":"903","target":"737","strength":"0.7170251718143672"},{"source":"903","target":"745","strength":"0.746242023590407"},{"source":"903","target":"1117","strength":"0.7018610855086597"},{"source":"903","target":"1446","strength":"0.7179773367933339"},{"source":"903","target":"1449","strength":"0.7314567051147121"},{"source":"905","target":"483","strength":"0.705044186848735"},{"source":"906","target":"716","strength":"0.811039254567385"},{"source":"907","target":"539","strength":"0.7000069134982715"},{"source":"907","target":"671","strength":"0.8211160159940359"},{"source":"907","target":"848","strength":"0.7088734440479727"},{"source":"907","target":"1021","strength":"0.8098682554355802"},{"source":"907","target":"1054","strength":"1.0000000000000007"},{"source":"907","target":"1135","strength":"0.744000741931414"},{"source":"907","target":"1677","strength":"0.7493891638928821"},{"source":"907","target":"2721","strength":"0.7459077968972192"},{"source":"908","target":"566","strength":"0.7018910423335554"},{"source":"908","target":"763","strength":"0.7042348318428431"},{"source":"908","target":"780","strength":"0.7112925563452598"},{"source":"908","target":"864","strength":"0.7667242857192809"},{"source":"909","target":"854","strength":"0.7565049223179675"},{"source":"909","target":"1216","strength":"0.7048699080075268"},{"source":"909","target":"1219","strength":"0.748958649843891"},{"source":"909","target":"1222","strength":"0.7263630400016734"},{"source":"909","target":"2392","strength":"0.782404105154858"},{"source":"911","target":"649","strength":"0.7162819976532752"},{"source":"911","target":"1372","strength":"0.7345732988799564"},{"source":"911","target":"1692","strength":"0.731235649664215"},{"source":"913","target":"725","strength":"0.8492287294708828"},{"source":"913","target":"846","strength":"0.7804671336147536"},{"source":"913","target":"1134","strength":"0.723561793295047"},{"source":"913","target":"1680","strength":"0.7189714015543129"},{"source":"913","target":"1917","strength":"0.7078991481059151"},{"source":"915","target":"2585","strength":"0.7023621873276666"},{"source":"918","target":"436","strength":"0.7411091157841193"},{"source":"918","target":"636","strength":"0.7855504288470568"},{"source":"918","target":"750","strength":"0.8388752974064818"},{"source":"918","target":"990","strength":"0.7559648871560238"},{"source":"918","target":"1006","strength":"0.8175735300478827"},{"source":"918","target":"1020","strength":"0.7377950190555624"},{"source":"918","target":"1706","strength":"0.8104849485858634"},{"source":"918","target":"1794","strength":"0.7188755505822935"},{"source":"918","target":"2238","strength":"0.7223561877567356"},{"source":"919","target":"922","strength":"0.8213884440839415"},{"source":"920","target":"986","strength":"0.7949311546521167"},{"source":"922","target":"919","strength":"0.8213884440839415"},{"source":"923","target":"260","strength":"0.7472784155291766"},{"source":"923","target":"1767","strength":"0.7003338611858824"},{"source":"923","target":"2424","strength":"0.8557422254020648"},{"source":"926","target":"679","strength":"0.7331613723907425"},{"source":"927","target":"728","strength":"0.8401860318136507"},{"source":"929","target":"209","strength":"0.9089999998987199"},{"source":"931","target":"426","strength":"0.7558600669203582"},{"source":"931","target":"993","strength":"0.7299622866527978"},{"source":"931","target":"1748","strength":"0.7143017207680407"},{"source":"931","target":"2303","strength":"0.7073564195355477"},{"source":"932","target":"328","strength":"0.8568037469571657"},{"source":"932","target":"426","strength":"0.7225679734742344"},{"source":"932","target":"430","strength":"0.8018844915537771"},{"source":"932","target":"436","strength":"0.7699282250106344"},{"source":"932","target":"449","strength":"0.7998332252494604"},{"source":"932","target":"627","strength":"0.7030375211259644"},{"source":"932","target":"629","strength":"0.7156284838186174"},{"source":"932","target":"632","strength":"0.7069432500877119"},{"source":"932","target":"633","strength":"0.7270005200896955"},{"source":"932","target":"637","strength":"0.714893345303531"},{"source":"932","target":"641","strength":"0.7011349542112113"},{"source":"932","target":"957","strength":"0.705288437755419"},{"source":"932","target":"971","strength":"0.7808260586419502"},{"source":"932","target":"993","strength":"0.7033513161404915"},{"source":"932","target":"1013","strength":"0.7081971858496641"},{"source":"932","target":"1014","strength":"0.7327146788397505"},{"source":"932","target":"1044","strength":"0.7440873058521396"},{"source":"932","target":"1587","strength":"0.8145591576961347"},{"source":"932","target":"1696","strength":"0.7181002890100843"},{"source":"932","target":"1748","strength":"0.7358093459187595"},{"source":"932","target":"1765","strength":"0.718100344176632"},{"source":"932","target":"2303","strength":"0.7175184200136226"},{"source":"932","target":"2360","strength":"0.7054066857543664"},{"source":"932","target":"2424","strength":"0.7006671644781598"},{"source":"932","target":"2428","strength":"0.7435250527849473"},{"source":"938","target":"403","strength":"0.7086402317274282"},{"source":"938","target":"451","strength":"0.753161770145919"},{"source":"938","target":"821","strength":"0.7434467001108815"},{"source":"938","target":"942","strength":"0.7163114616031465"},{"source":"938","target":"947","strength":"0.744020611181132"},{"source":"938","target":"970","strength":"0.7541044784912445"},{"source":"938","target":"1355","strength":"0.8039801092255235"},{"source":"938","target":"1440","strength":"0.7384216454749956"},{"source":"938","target":"1462","strength":"0.7251954884880044"},{"source":"938","target":"1468","strength":"0.7578936475559327"},{"source":"938","target":"2343","strength":"0.7152042383521692"},{"source":"938","target":"2399","strength":"0.8210852345100077"},{"source":"938","target":"2400","strength":"0.8159789533676225"},{"source":"938","target":"2431","strength":"0.7569658576464358"},{"source":"939","target":"276","strength":"0.7610381183257986"},{"source":"939","target":"570","strength":"0.7201643829989465"},{"source":"939","target":"616","strength":"0.7378640687333323"},{"source":"939","target":"861","strength":"0.7079290850355224"},{"source":"939","target":"867","strength":"0.733729262748691"},{"source":"939","target":"965","strength":"0.7240025666268132"},{"source":"939","target":"976","strength":"0.7320193848521919"},{"source":"940","target":"954","strength":"0.7044506906032412"},{"source":"940","target":"2363","strength":"0.7348424167128773"},{"source":"941","target":"867","strength":"0.7132532058645302"},{"source":"941","target":"2377","strength":"0.7120727254963775"},{"source":"941","target":"2599","strength":"0.7025535585834468"},{"source":"942","target":"821","strength":"0.7162562740422441"},{"source":"942","target":"938","strength":"0.7163114616031465"},{"source":"942","target":"947","strength":"0.7326181803541164"},{"source":"942","target":"970","strength":"0.7540014263602595"},{"source":"942","target":"1355","strength":"0.7045163840464728"},{"source":"942","target":"1440","strength":"0.7417176882604943"},{"source":"942","target":"2400","strength":"0.78037570720847"},{"source":"942","target":"2431","strength":"0.7819674490879729"},{"source":"943","target":"297","strength":"0.7687857665124077"},{"source":"943","target":"409","strength":"0.7236083288213843"},{"source":"943","target":"960","strength":"0.7509848904610968"},{"source":"944","target":"975","strength":"1.0000000000000002"},{"source":"945","target":"407","strength":"0.7151040038723729"},{"source":"945","target":"540","strength":"0.7220603814049359"},{"source":"945","target":"570","strength":"0.8391415860591962"},{"source":"945","target":"583","strength":"0.7285658800027204"},{"source":"945","target":"847","strength":"0.7473341343243554"},{"source":"945","target":"867","strength":"0.7009633315898587"},{"source":"945","target":"870","strength":"0.7123884732198003"},{"source":"945","target":"965","strength":"0.7589268206199297"},{"source":"945","target":"984","strength":"0.7068295463533877"},{"source":"945","target":"1094","strength":"0.7802825544879386"},{"source":"945","target":"1217","strength":"0.7308686373633565"},{"source":"945","target":"1912","strength":"0.7075548210822346"},{"source":"945","target":"2377","strength":"0.7170663619890331"},{"source":"945","target":"2410","strength":"0.7180272818187663"},{"source":"945","target":"2442","strength":"0.7147623381398417"},{"source":"945","target":"2599","strength":"0.7323494443855754"},{"source":"947","target":"297","strength":"0.7139631877975336"},{"source":"947","target":"403","strength":"0.7610078392632978"},{"source":"947","target":"409","strength":"0.7219453774738996"},{"source":"947","target":"451","strength":"0.7587617788784621"},{"source":"947","target":"502","strength":"0.7192531268392064"},{"source":"947","target":"821","strength":"0.8075668758428592"},{"source":"947","target":"938","strength":"0.744020611181132"},{"source":"947","target":"942","strength":"0.7326181803541164"},{"source":"947","target":"970","strength":"0.8457182373032687"},{"source":"947","target":"1174","strength":"0.7572205613785157"},{"source":"947","target":"1355","strength":"0.71214585483454"},{"source":"947","target":"1440","strength":"0.7388952497071782"},{"source":"947","target":"1462","strength":"0.7538330580394368"},{"source":"947","target":"1468","strength":"0.7544881202702868"},{"source":"947","target":"2343","strength":"0.7656843445661426"},{"source":"947","target":"2399","strength":"0.7196160906765467"},{"source":"947","target":"2400","strength":"0.8120259720449596"},{"source":"947","target":"2427","strength":"0.7102702407446309"},{"source":"947","target":"2431","strength":"0.7544887031619155"},{"source":"948","target":"629","strength":"0.7074586983848221"},{"source":"948","target":"964","strength":"0.9295360010737673"},{"source":"949","target":"525","strength":"0.7088744325979703"},{"source":"952","target":"259","strength":"0.7353145194538424"},{"source":"952","target":"443","strength":"0.8879224074378242"},{"source":"952","target":"446","strength":"0.7371338956083129"},{"source":"952","target":"750","strength":"0.7561465450558241"},{"source":"952","target":"966","strength":"0.7930153772605574"},{"source":"952","target":"990","strength":"0.7260686935734904"},{"source":"952","target":"1739","strength":"0.7118554787516451"},{"source":"954","target":"940","strength":"0.7044506906032412"},{"source":"955","target":"328","strength":"0.7295256059480878"},{"source":"955","target":"436","strength":"0.7620518683171178"},{"source":"955","target":"985","strength":"0.7032323489393413"},{"source":"955","target":"1013","strength":"0.7114378213381605"},{"source":"955","target":"1587","strength":"0.7293480860073158"},{"source":"955","target":"1748","strength":"0.7378417785526494"},{"source":"956","target":"217","strength":"0.7517468783661623"},{"source":"956","target":"253","strength":"0.7490036675401514"},{"source":"956","target":"991","strength":"0.999999999999589"},{"source":"956","target":"1052","strength":"0.7380709394838575"},{"source":"957","target":"328","strength":"0.708618811396094"},{"source":"957","target":"436","strength":"0.7200990633322716"},{"source":"957","target":"440","strength":"0.7753762599575654"},{"source":"957","target":"634","strength":"0.7103854499025841"},{"source":"957","target":"932","strength":"0.705288437755419"},{"source":"957","target":"971","strength":"0.740038282373942"},{"source":"957","target":"1043","strength":"0.7493932556666876"},{"source":"957","target":"1587","strength":"0.7726214440898579"},{"source":"957","target":"1696","strength":"0.7242471744481267"},{"source":"957","target":"1765","strength":"0.7242471671645662"},{"source":"957","target":"2428","strength":"0.7031301152976062"},{"source":"959","target":"425","strength":"0.7735105841667663"},{"source":"960","target":"297","strength":"0.7509240129846485"},{"source":"960","target":"409","strength":"0.7373479470740557"},{"source":"960","target":"943","strength":"0.7509848904610968"},{"source":"961","target":"963","strength":"0.7323201218727491"},{"source":"962","target":"1158","strength":"0.7214055547240932"},{"source":"962","target":"1218","strength":"0.7105898638083457"},{"source":"962","target":"1220","strength":"0.7105898638083457"},{"source":"963","target":"961","strength":"0.7323201218727491"},{"source":"964","target":"629","strength":"0.7184122605344444"},{"source":"964","target":"632","strength":"0.7004078800900252"},{"source":"964","target":"948","strength":"0.9295360010737673"},{"source":"965","target":"570","strength":"0.7611660216184462"},{"source":"965","target":"939","strength":"0.7240025666268132"},{"source":"965","target":"945","strength":"0.7589268206199297"},{"source":"965","target":"1717","strength":"0.7044370601063557"},{"source":"965","target":"1977","strength":"0.7044370601063557"},{"source":"965","target":"2410","strength":"0.7044119562420416"},{"source":"965","target":"2442","strength":"0.710343281202331"},{"source":"966","target":"443","strength":"0.779551183524941"},{"source":"966","target":"952","strength":"0.7930153772605574"},{"source":"969","target":"328","strength":"0.7066751389455044"},{"source":"969","target":"436","strength":"0.702999897012221"},{"source":"969","target":"637","strength":"0.8866275706200271"},{"source":"969","target":"982","strength":"0.9999999999995667"},{"source":"969","target":"1020","strength":"0.7216328401732524"},{"source":"969","target":"1043","strength":"0.7164528073994408"},{"source":"969","target":"1587","strength":"0.7539120846163362"},{"source":"970","target":"129","strength":"0.7175116381245773"},{"source":"970","target":"403","strength":"0.7198450744316671"},{"source":"970","target":"451","strength":"0.8079032060676536"},{"source":"970","target":"502","strength":"0.7983288767240415"},{"source":"970","target":"821","strength":"0.8047487183387061"},{"source":"970","target":"938","strength":"0.7541044784912445"},{"source":"970","target":"942","strength":"0.7540014263602595"},{"source":"970","target":"947","strength":"0.8457182373032687"},{"source":"970","target":"1043","strength":"0.7186267620686293"},{"source":"970","target":"1174","strength":"0.7148095782050838"},{"source":"970","target":"1440","strength":"0.7606596967242831"},{"source":"970","target":"1462","strength":"0.7341442473713602"},{"source":"970","target":"1468","strength":"0.7275810803388034"},{"source":"970","target":"1587","strength":"0.7243356300290488"},{"source":"970","target":"2343","strength":"0.7233705713260106"},{"source":"970","target":"2399","strength":"0.727561101790072"},{"source":"970","target":"2400","strength":"0.7779956186311192"},{"source":"970","target":"2427","strength":"0.7063694157888291"},{"source":"970","target":"2431","strength":"0.8171654612198656"},{"source":"971","target":"328","strength":"0.843136005593448"},{"source":"971","target":"426","strength":"0.7334966519044718"},{"source":"971","target":"430","strength":"0.776876889608003"},{"source":"971","target":"436","strength":"0.7984084963205791"},{"source":"971","target":"445","strength":"0.7292589511797642"},{"source":"971","target":"449","strength":"0.7387701700090595"},{"source":"971","target":"629","strength":"0.7323256296179657"},{"source":"971","target":"631","strength":"0.759978552977643"},{"source":"971","target":"632","strength":"0.7101375186374473"},{"source":"971","target":"633","strength":"0.7415662843125345"},{"source":"971","target":"634","strength":"0.7277080931876823"},{"source":"971","target":"637","strength":"0.7678321023891573"},{"source":"971","target":"707","strength":"0.7148499258346324"},{"source":"971","target":"932","strength":"0.7808260586419502"},{"source":"971","target":"957","strength":"0.740038282373942"},{"source":"971","target":"993","strength":"0.7174524055971726"},{"source":"971","target":"1014","strength":"0.7248998029941117"},{"source":"971","target":"1020","strength":"0.7173790259597904"},{"source":"971","target":"1063","strength":"0.74026154738447"},{"source":"971","target":"1587","strength":"0.8410913624870525"},{"source":"971","target":"1696","strength":"0.7107399363700688"},{"source":"971","target":"1748","strength":"0.7587303687998648"},{"source":"971","target":"1765","strength":"0.7107400003894052"},{"source":"971","target":"1794","strength":"0.7087206448572265"},{"source":"971","target":"2303","strength":"0.755101258192033"},{"source":"971","target":"2428","strength":"0.7921523068312494"},{"source":"974","target":"438","strength":"0.7425300376809053"},{"source":"974","target":"617","strength":"0.7339822547045552"},{"source":"974","target":"980","strength":"0.7425300376809053"},{"source":"974","target":"1210","strength":"0.7335428630483882"},{"source":"974","target":"1213","strength":"0.7555419278837466"},{"source":"975","target":"944","strength":"1.0000000000000002"},{"source":"976","target":"276","strength":"0.7450740455199176"},{"source":"976","target":"506","strength":"0.705500026650915"},{"source":"976","target":"536","strength":"0.7803141000623464"},{"source":"976","target":"861","strength":"0.7408628333544824"},{"source":"976","target":"939","strength":"0.7320193848521919"},{"source":"978","target":"441","strength":"0.7283868021888104"},{"source":"980","target":"438","strength":"0.9999999999999993"},{"source":"980","target":"974","strength":"0.7425300376809053"},{"source":"980","target":"1209","strength":"0.759460033977036"},{"source":"980","target":"1210","strength":"0.8114516662470755"},{"source":"980","target":"1211","strength":"0.7176954517025953"},{"source":"980","target":"1212","strength":"0.711944973980568"},{"source":"980","target":"1213","strength":"0.912949543984092"},{"source":"980","target":"1215","strength":"0.7748905663043564"},{"source":"980","target":"2697","strength":"0.7927585468393287"},{"source":"981","target":"861","strength":"0.7967557540863072"},{"source":"982","target":"328","strength":"0.7066752493284381"},{"source":"982","target":"436","strength":"0.7029999787845145"},{"source":"982","target":"637","strength":"0.8866276784764783"},{"source":"982","target":"969","strength":"0.9999999999995667"},{"source":"982","target":"1020","strength":"0.7216329094218583"},{"source":"982","target":"1043","strength":"0.7164529252292814"},{"source":"982","target":"1587","strength":"0.7539122402091654"},{"source":"983","target":"985","strength":"0.718359812649241"},{"source":"984","target":"570","strength":"0.786213265527631"},{"source":"984","target":"583","strength":"0.7164595766915841"},{"source":"984","target":"847","strength":"0.7626159592626229"},{"source":"984","target":"945","strength":"0.7068295463533877"},{"source":"984","target":"1216","strength":"0.7669219501629381"},{"source":"984","target":"1217","strength":"0.8245250878900583"},{"source":"984","target":"1222","strength":"0.7221010123861146"},{"source":"984","target":"2410","strength":"0.7199758016854275"},{"source":"985","target":"328","strength":"0.7101451078257882"},{"source":"985","target":"430","strength":"0.713204929889399"},{"source":"985","target":"436","strength":"0.812022132406329"},{"source":"985","target":"617","strength":"0.7774127697204847"},{"source":"985","target":"955","strength":"0.7032323489393413"},{"source":"985","target":"983","strength":"0.718359812649241"},{"source":"985","target":"990","strength":"0.7111264830068755"},{"source":"985","target":"1020","strength":"0.7221819139373594"},{"source":"985","target":"1587","strength":"0.7308474265656859"},{"source":"985","target":"1794","strength":"0.7540500500041294"},{"source":"985","target":"2303","strength":"0.7120129038239301"},{"source":"986","target":"920","strength":"0.7949311546521167"},{"source":"987","target":"436","strength":"0.790254206827194"},{"source":"987","target":"641","strength":"0.7084730903719332"},{"source":"987","target":"1020","strength":"0.7319255388188508"},{"source":"988","target":"442","strength":"0.8615840493091408"},{"source":"990","target":"289","strength":"0.7639226086700853"},{"source":"990","target":"436","strength":"0.7470581170719659"},{"source":"990","target":"443","strength":"0.8050435621150175"},{"source":"990","target":"573","strength":"0.7357154634128853"},{"source":"990","target":"620","strength":"0.7342834248275784"},{"source":"990","target":"750","strength":"0.7966682659438888"},{"source":"990","target":"918","strength":"0.7559648871560238"},{"source":"990","target":"952","strength":"0.7260686935734904"},{"source":"990","target":"985","strength":"0.7111264830068755"},{"source":"990","target":"1006","strength":"0.7367827515735199"},{"source":"990","target":"1020","strength":"0.7972621346514294"},{"source":"990","target":"1739","strength":"0.7054613004391166"},{"source":"990","target":"2192","strength":"0.7123120697782341"},{"source":"991","target":"217","strength":"0.7517468414944379"},{"source":"991","target":"253","strength":"0.749003664286023"},{"source":"991","target":"956","strength":"0.999999999999589"},{"source":"991","target":"1052","strength":"0.7380709774521129"},{"source":"993","target":"328","strength":"0.7713237721547573"},{"source":"993","target":"426","strength":"0.7936066298890716"},{"source":"993","target":"430","strength":"0.7376509574090613"},{"source":"993","target":"436","strength":"0.7011903314200536"},{"source":"993","target":"631","strength":"0.7104404806374195"},{"source":"993","target":"633","strength":"0.7076291151915176"},{"source":"993","target":"635","strength":"0.7354255230915432"},{"source":"993","target":"931","strength":"0.7299622866527978"},{"source":"993","target":"932","strength":"0.7033513161404915"},{"source":"993","target":"971","strength":"0.7174524055971726"},{"source":"993","target":"1587","strength":"0.7334523409495792"},{"source":"993","target":"1696","strength":"0.7176695651163717"},{"source":"993","target":"1748","strength":"0.7240822743270066"},{"source":"993","target":"1765","strength":"0.7176695606010582"},{"source":"993","target":"1839","strength":"0.7038397589931036"},{"source":"994","target":"1223","strength":"0.7117815664045581"},{"source":"994","target":"2750","strength":"0.703708636832324"},{"source":"999","target":"2043","strength":"0.7100945310497473"},{"source":"1002","target":"1204","strength":"0.7170053141127145"},{"source":"1006","target":"374","strength":"0.706431220109826"},{"source":"1006","target":"443","strength":"0.7043836611864212"},{"source":"1006","target":"636","strength":"0.7120646004320607"},{"source":"1006","target":"750","strength":"0.9329834086073049"},{"source":"1006","target":"918","strength":"0.8175735300478827"},{"source":"1006","target":"990","strength":"0.7367827515735199"},{"source":"1006","target":"2238","strength":"0.7718066409853975"},{"source":"1007","target":"253","strength":"0.7444333300053094"},{"source":"1007","target":"254","strength":"0.7378851298021905"},{"source":"1007","target":"766","strength":"0.7235759969435156"},{"source":"1007","target":"846","strength":"0.7375697188400901"},{"source":"1007","target":"1680","strength":"0.7341406858533052"},{"source":"1013","target":"328","strength":"0.7365525279053005"},{"source":"1013","target":"436","strength":"0.7158037278214862"},{"source":"1013","target":"932","strength":"0.7081971858496641"},{"source":"1013","target":"955","strength":"0.7114378213381605"},{"source":"1013","target":"1587","strength":"0.7287141048819167"},{"source":"1013","target":"1748","strength":"0.7150275766442523"},{"source":"1013","target":"2303","strength":"0.8669830986671258"},{"source":"1014","target":"328","strength":"0.7580505992221106"},{"source":"1014","target":"436","strength":"0.7545610905545216"},{"source":"1014","target":"633","strength":"0.7013209507382826"},{"source":"1014","target":"634","strength":"0.7068515777211147"},{"source":"1014","target":"637","strength":"0.7097549512738512"},{"source":"1014","target":"932","strength":"0.7327146788397505"},{"source":"1014","target":"971","strength":"0.7248998029941117"},{"source":"1014","target":"1587","strength":"0.7813295773115916"},{"source":"1014","target":"1748","strength":"0.7059949037132969"},{"source":"1014","target":"1794","strength":"0.7327617511269876"},{"source":"1014","target":"2303","strength":"0.7114659960236017"},{"source":"1014","target":"2428","strength":"0.7194284765371811"},{"source":"1020","target":"328","strength":"0.712819610747757"},{"source":"1020","target":"430","strength":"0.737601008998269"},{"source":"1020","target":"436","strength":"0.8792181385360337"},{"source":"1020","target":"445","strength":"0.7102988132989004"},{"source":"1020","target":"616","strength":"0.7096609991433771"},{"source":"1020","target":"620","strength":"0.7665818750955034"},{"source":"1020","target":"621","strength":"0.7088783075316382"},{"source":"1020","target":"626","strength":"0.7251408053261998"},{"source":"1020","target":"634","strength":"0.7078313476445875"},{"source":"1020","target":"637","strength":"0.7201500197028582"},{"source":"1020","target":"641","strength":"0.7140436607096674"},{"source":"1020","target":"707","strength":"0.7028825341013568"},{"source":"1020","target":"918","strength":"0.7377950190555624"},{"source":"1020","target":"969","strength":"0.7216328401732524"},{"source":"1020","target":"971","strength":"0.7173790259597904"},{"source":"1020","target":"982","strength":"0.7216329094218583"},{"source":"1020","target":"985","strength":"0.7221819139373594"},{"source":"1020","target":"987","strength":"0.7319255388188508"},{"source":"1020","target":"990","strength":"0.7972621346514294"},{"source":"1020","target":"1587","strength":"0.7361140940165751"},{"source":"1020","target":"1649","strength":"0.7085057441578405"},{"source":"1020","target":"1748","strength":"0.7178743189385327"},{"source":"1020","target":"1794","strength":"0.8048694832799932"},{"source":"1021","target":"671","strength":"0.7195935181479021"},{"source":"1021","target":"907","strength":"0.8098682554355802"},{"source":"1021","target":"1054","strength":"0.8098682554355802"},{"source":"1021","target":"1677","strength":"0.7045826581792145"},{"source":"1021","target":"2721","strength":"0.7687693046921307"},{"source":"1026","target":"406","strength":"0.7421532793233442"},{"source":"1026","target":"470","strength":"0.7076501802176053"},{"source":"1026","target":"664","strength":"0.7132256800519112"},{"source":"1026","target":"737","strength":"0.7043432548805235"},{"source":"1026","target":"745","strength":"0.7161897408584903"},{"source":"1026","target":"837","strength":"0.7759027794567286"},{"source":"1026","target":"877","strength":"0.7139066530458116"},{"source":"1026","target":"1159","strength":"0.7464911706327363"},{"source":"1026","target":"1257","strength":"0.7320046878749008"},{"source":"1026","target":"1354","strength":"0.7249938250956964"},{"source":"1026","target":"1443","strength":"0.7425957144824005"},{"source":"1026","target":"1632","strength":"0.7579234291752627"},{"source":"1026","target":"1791","strength":"0.7539006069583973"},{"source":"1026","target":"1841","strength":"0.7686996935767633"},{"source":"1026","target":"2030","strength":"0.7266896348332992"},{"source":"1026","target":"2090","strength":"0.7688893314530744"},{"source":"1026","target":"2091","strength":"0.7077404198612581"},{"source":"1026","target":"2092","strength":"0.7004374695414575"},{"source":"1026","target":"2386","strength":"0.7719831044535619"},{"source":"1029","target":"614","strength":"0.7075981264765707"},{"source":"1029","target":"2253","strength":"0.7294695402713465"},{"source":"1034","target":"664","strength":"0.7159392160631992"},{"source":"1034","target":"745","strength":"0.7399104721798633"},{"source":"1034","target":"1951","strength":"0.8018928790180827"},{"source":"1034","target":"1956","strength":"0.7263396940060126"},{"source":"1034","target":"1957","strength":"0.7274123349193264"},{"source":"1035","target":"860","strength":"0.7603254808436917"},{"source":"1036","target":"128","strength":"0.73133653871911"},{"source":"1043","target":"238","strength":"0.7244230890751642"},{"source":"1043","target":"436","strength":"0.7127674840738456"},{"source":"1043","target":"545","strength":"0.7203214545408598"},{"source":"1043","target":"634","strength":"0.7251018697392044"},{"source":"1043","target":"957","strength":"0.7493932556666876"},{"source":"1043","target":"969","strength":"0.7164528073994408"},{"source":"1043","target":"970","strength":"0.7186267620686293"},{"source":"1043","target":"982","strength":"0.7164529252292814"},{"source":"1043","target":"1587","strength":"0.7685208915121741"},{"source":"1043","target":"1748","strength":"0.700372993008062"},{"source":"1043","target":"1794","strength":"0.7108974662883277"},{"source":"1044","target":"328","strength":"0.7256007301135038"},{"source":"1044","target":"932","strength":"0.7440873058521396"},{"source":"1045","target":"647","strength":"0.7037349070422256"},{"source":"1046","target":"1548","strength":"0.8529418163410527"},{"source":"1046","target":"1576","strength":"0.7806920759292849"},{"source":"1050","target":"524","strength":"0.7460638353870612"},{"source":"1050","target":"1999","strength":"0.7740816711823687"},{"source":"1050","target":"2749","strength":"0.7622808845070447"},{"source":"1051","target":"2186","strength":"0.7654158140263438"},{"source":"1051","target":"2193","strength":"0.7955131685137906"},{"source":"1051","target":"2195","strength":"0.7371595366765823"},{"source":"1051","target":"2203","strength":"0.7654158140263438"},{"source":"1051","target":"2208","strength":"0.7537030777831466"},{"source":"1052","target":"217","strength":"0.7288661962689253"},{"source":"1052","target":"253","strength":"0.7865145737463035"},{"source":"1052","target":"254","strength":"0.7717721780754996"},{"source":"1052","target":"392","strength":"0.7053560458666523"},{"source":"1052","target":"393","strength":"0.7634080179764859"},{"source":"1052","target":"517","strength":"0.7343043577462204"},{"source":"1052","target":"533","strength":"0.7495932183477957"},{"source":"1052","target":"535","strength":"0.7173498730875502"},{"source":"1052","target":"598","strength":"0.7705965157006315"},{"source":"1052","target":"647","strength":"0.7599259054551777"},{"source":"1052","target":"730","strength":"0.7369822737164244"},{"source":"1052","target":"766","strength":"0.7194459081653078"},{"source":"1052","target":"782","strength":"0.7604841443764228"},{"source":"1052","target":"858","strength":"0.7093360193466314"},{"source":"1052","target":"956","strength":"0.7380709394838575"},{"source":"1052","target":"991","strength":"0.7380709774521129"},{"source":"1052","target":"1441","strength":"0.7451592046968047"},{"source":"1052","target":"1826","strength":"0.7121261606389655"},{"source":"1054","target":"539","strength":"0.7000069134982715"},{"source":"1054","target":"671","strength":"0.8211160159940359"},{"source":"1054","target":"848","strength":"0.7088734440479727"},{"source":"1054","target":"907","strength":"1.0000000000000007"},{"source":"1054","target":"1021","strength":"0.8098682554355802"},{"source":"1054","target":"1135","strength":"0.744000741931414"},{"source":"1054","target":"1677","strength":"0.7493891638928821"},{"source":"1054","target":"2721","strength":"0.7459077968972192"},{"source":"1056","target":"338","strength":"0.7628081328521761"},{"source":"1056","target":"669","strength":"0.7001631896488608"},{"source":"1056","target":"838","strength":"0.723600193438579"},{"source":"1056","target":"2396","strength":"1.0000000000000004"},{"source":"1058","target":"1059","strength":"0.7794658076504464"},{"source":"1059","target":"1058","strength":"0.7794658076504464"},{"source":"1063","target":"328","strength":"0.746065551556743"},{"source":"1063","target":"426","strength":"0.723214287919286"},{"source":"1063","target":"430","strength":"0.7425795628446875"},{"source":"1063","target":"444","strength":"0.7095906019248392"},{"source":"1063","target":"445","strength":"0.7403893706683142"},{"source":"1063","target":"633","strength":"0.7416283446690033"},{"source":"1063","target":"971","strength":"0.74026154738447"},{"source":"1063","target":"1587","strength":"0.7136133708395715"},{"source":"1068","target":"1229","strength":"0.7345180490855807"},{"source":"1068","target":"1805","strength":"0.7714943887098641"},{"source":"1072","target":"700","strength":"0.740417095794715"},{"source":"1075","target":"345","strength":"0.7111092262514741"},{"source":"1075","target":"425","strength":"0.7077341784133215"},{"source":"1076","target":"499","strength":"0.7193883515099078"},{"source":"1076","target":"541","strength":"0.7193883515099078"},{"source":"1076","target":"1913","strength":"0.7104458399831931"},{"source":"1082","target":"1086","strength":"0.7312538471937488"},{"source":"1086","target":"1082","strength":"0.7312538471937488"},{"source":"1090","target":"1519","strength":"0.7638125929847381"},{"source":"1092","target":"740","strength":"0.7781668828600523"},{"source":"1092","target":"741","strength":"0.7917662141480333"},{"source":"1092","target":"743","strength":"0.7123627084944433"},{"source":"1092","target":"744","strength":"0.7823157953020409"},{"source":"1092","target":"826","strength":"0.755546027181603"},{"source":"1092","target":"836","strength":"0.7314112882918896"},{"source":"1092","target":"872","strength":"0.7086294862904152"},{"source":"1092","target":"1184","strength":"0.7680063479539182"},{"source":"1092","target":"1339","strength":"0.8418459598124131"},{"source":"1092","target":"1347","strength":"0.7140253425216663"},{"source":"1092","target":"1443","strength":"0.7238263663330395"},{"source":"1092","target":"1516","strength":"0.7901158954292034"},{"source":"1092","target":"1518","strength":"0.7077108767455186"},{"source":"1092","target":"1521","strength":"0.7732526506964653"},{"source":"1092","target":"1684","strength":"0.7013587686074789"},{"source":"1092","target":"1773","strength":"0.7321386021739751"},{"source":"1092","target":"2046","strength":"0.8038453974104625"},{"source":"1092","target":"2270","strength":"0.8046040581304563"},{"source":"1092","target":"2353","strength":"0.7340581970830329"},{"source":"1092","target":"2354","strength":"0.7441585907618428"},{"source":"1092","target":"2355","strength":"0.7913769615973755"},{"source":"1092","target":"2502","strength":"0.75290791762024"},{"source":"1092","target":"2570","strength":"0.746718950776055"},{"source":"1092","target":"2576","strength":"0.7616338062825334"},{"source":"1092","target":"2731","strength":"0.7859387445326476"},{"source":"1092","target":"2773","strength":"0.8631801770763519"},{"source":"1093","target":"608","strength":"0.7068986109510178"},{"source":"1094","target":"407","strength":"0.7166206695559922"},{"source":"1094","target":"540","strength":"0.7296467295595307"},{"source":"1094","target":"570","strength":"0.7307985763740005"},{"source":"1094","target":"847","strength":"0.754136922180229"},{"source":"1094","target":"867","strength":"0.7241591113760889"},{"source":"1094","target":"945","strength":"0.7802825544879386"},{"source":"1094","target":"1216","strength":"0.723805306327482"},{"source":"1094","target":"1217","strength":"0.743786031393014"},{"source":"1094","target":"1912","strength":"0.7162943945806551"},{"source":"1094","target":"2442","strength":"0.7031817131155975"},{"source":"1094","target":"2599","strength":"0.707655238700196"},{"source":"1095","target":"1096","strength":"0.8321148329355086"},{"source":"1096","target":"1095","strength":"0.8321148329355086"},{"source":"1099","target":"10","strength":"0.7321322734300442"},{"source":"1099","target":"276","strength":"0.757535663011784"},{"source":"1099","target":"328","strength":"0.7086384169319803"},{"source":"1099","target":"436","strength":"0.7128375972502112"},{"source":"1099","target":"616","strength":"0.7165684987794947"},{"source":"1099","target":"1218","strength":"0.7422903663682971"},{"source":"1099","target":"1220","strength":"0.7422903663682971"},{"source":"1099","target":"1587","strength":"0.7035507665018933"},{"source":"1101","target":"2454","strength":"0.7422018159019789"},{"source":"1105","target":"119","strength":"0.7079948359519378"},{"source":"1105","target":"121","strength":"0.7079948359519378"},{"source":"1108","target":"241","strength":"0.75334859593865"},{"source":"1112","target":"367","strength":"0.8982001779316731"},{"source":"1115","target":"2654","strength":"0.711703116482665"},{"source":"1117","target":"651","strength":"0.7266647195711399"},{"source":"1117","target":"665","strength":"0.7649223970047354"},{"source":"1117","target":"903","strength":"0.7018610855086597"},{"source":"1117","target":"1799","strength":"0.7137900991995235"},{"source":"1117","target":"2090","strength":"0.7167716759425555"},{"source":"1121","target":"530","strength":"0.7992514267156385"},{"source":"1123","target":"1639","strength":"0.8182972138230508"},{"source":"1123","target":"2345","strength":"0.7979894397164986"},{"source":"1123","target":"2541","strength":"0.7948998127193492"},{"source":"1130","target":"714","strength":"0.707946775495454"},{"source":"1130","target":"1169","strength":"0.712260320213801"},{"source":"1130","target":"1843","strength":"0.7047526717300535"},{"source":"1130","target":"2304","strength":"0.7155529828784996"},{"source":"1130","target":"2423","strength":"0.783688582176434"},{"source":"1131","target":"2133","strength":"0.7087694601989718"},{"source":"1133","target":"440","strength":"0.7322943162894063"},{"source":"1133","target":"444","strength":"0.7418869884727105"},{"source":"1133","target":"445","strength":"0.7924769305870079"},{"source":"1133","target":"633","strength":"0.758008575681504"},{"source":"1133","target":"635","strength":"0.708946118722594"},{"source":"1134","target":"725","strength":"0.722649954054646"},{"source":"1134","target":"846","strength":"0.7804611301391506"},{"source":"1134","target":"913","strength":"0.723561793295047"},{"source":"1134","target":"1680","strength":"0.7384024809052322"},{"source":"1134","target":"1917","strength":"0.7333980635233116"},{"source":"1135","target":"671","strength":"0.755774911093985"},{"source":"1135","target":"907","strength":"0.744000741931414"},{"source":"1135","target":"1054","strength":"0.744000741931414"},{"source":"1135","target":"1677","strength":"0.7009138944604071"},{"source":"1140","target":"1141","strength":"0.7545045865308664"},{"source":"1140","target":"1142","strength":"0.8007106992167875"},{"source":"1140","target":"1675","strength":"0.7417802012757992"},{"source":"1141","target":"1140","strength":"0.7545045865308664"},{"source":"1141","target":"1142","strength":"0.8073753362653487"},{"source":"1141","target":"1675","strength":"0.7761408026423116"},{"source":"1142","target":"1140","strength":"0.8007106992167875"},{"source":"1142","target":"1141","strength":"0.8073753362653487"},{"source":"1142","target":"1675","strength":"0.7772907548282099"},{"source":"1144","target":"1147","strength":"0.7316720392515689"},{"source":"1144","target":"1177","strength":"0.7733671101924757"},{"source":"1147","target":"1144","strength":"0.7316720392515689"},{"source":"1147","target":"1177","strength":"0.7353274630326543"},{"source":"1151","target":"2287","strength":"0.7567111522908258"},{"source":"1152","target":"2555","strength":"0.8312153974935528"},{"source":"1153","target":"291","strength":"0.7371797380684062"},{"source":"1153","target":"412","strength":"0.7003035540141771"},{"source":"1153","target":"456","strength":"0.7393837988468539"},{"source":"1153","target":"2460","strength":"0.7336868329326132"},{"source":"1154","target":"884","strength":"0.9999999999999994"},{"source":"1157","target":"646","strength":"0.7075948958302269"},{"source":"1157","target":"763","strength":"0.7665678897190004"},{"source":"1157","target":"780","strength":"0.7237312008230439"},{"source":"1158","target":"426","strength":"0.7573155076157049"},{"source":"1158","target":"962","strength":"0.7214055547240932"},{"source":"1158","target":"1218","strength":"0.7298018384469641"},{"source":"1158","target":"1220","strength":"0.7298018384469641"},{"source":"1158","target":"1928","strength":"0.7042666915818115"},{"source":"1159","target":"315","strength":"0.7168612804946344"},{"source":"1159","target":"461","strength":"0.7850630035353263"},{"source":"1159","target":"651","strength":"0.7393354359590552"},{"source":"1159","target":"654","strength":"0.7084748778876557"},{"source":"1159","target":"1026","strength":"0.7464911706327363"},{"source":"1159","target":"1257","strength":"0.804876363919465"},{"source":"1159","target":"1841","strength":"0.8018925403931366"},{"source":"1159","target":"2088","strength":"0.7044286450006926"},{"source":"1159","target":"2090","strength":"0.727342351361803"},{"source":"1159","target":"2091","strength":"0.7963014571856313"},{"source":"1159","target":"2386","strength":"0.7211727329938032"},{"source":"1161","target":"1957","strength":"0.7006998260681915"},{"source":"1161","target":"2211","strength":"0.7163397337094579"},{"source":"1165","target":"315","strength":"0.8331251680926829"},{"source":"1165","target":"651","strength":"0.7180338175216645"},{"source":"1165","target":"2087","strength":"0.7562780679021619"},{"source":"1165","target":"2267","strength":"0.7562780679021619"},{"source":"1168","target":"2273","strength":"0.7232087870828325"},{"source":"1168","target":"2321","strength":"0.8107290379706554"},{"source":"1169","target":"1130","strength":"0.712260320213801"},{"source":"1170","target":"1692","strength":"0.9504159472021422"},{"source":"1170","target":"2326","strength":"0.72466066864939"},{"source":"1172","target":"303","strength":"0.7174231328683676"},{"source":"1174","target":"297","strength":"0.761554000351006"},{"source":"1174","target":"403","strength":"0.7955885184339814"},{"source":"1174","target":"409","strength":"0.7456306162897294"},{"source":"1174","target":"821","strength":"0.7793119329304877"},{"source":"1174","target":"947","strength":"0.7572205613785157"},{"source":"1174","target":"970","strength":"0.7148095782050838"},{"source":"1174","target":"1462","strength":"0.8781989002866852"},{"source":"1174","target":"1468","strength":"0.7514234915481287"},{"source":"1174","target":"2343","strength":"0.7665921274632126"},{"source":"1174","target":"2400","strength":"0.7562975289214637"},{"source":"1174","target":"2427","strength":"0.7589241293161149"},{"source":"1177","target":"1144","strength":"0.7733671101924757"},{"source":"1177","target":"1147","strength":"0.7353274630326543"},{"source":"1177","target":"1178","strength":"0.7427681089998839"},{"source":"1178","target":"1177","strength":"0.7427681089998839"},{"source":"1181","target":"1354","strength":"0.7057906807357321"},{"source":"1181","target":"2576","strength":"0.7088058801075703"},{"source":"1181","target":"2731","strength":"0.7344002972091515"},{"source":"1184","target":"406","strength":"0.7110472009028818"},{"source":"1184","target":"485","strength":"0.7489654737431128"},{"source":"1184","target":"735","strength":"0.776447047353166"},{"source":"1184","target":"736","strength":"0.7330875203032793"},{"source":"1184","target":"740","strength":"0.7384866963765092"},{"source":"1184","target":"741","strength":"0.7808341771692071"},{"source":"1184","target":"743","strength":"0.7098719176769813"},{"source":"1184","target":"744","strength":"0.7779919266688907"},{"source":"1184","target":"826","strength":"0.7536600835633599"},{"source":"1184","target":"836","strength":"0.7236926471763115"},{"source":"1184","target":"872","strength":"0.7488785757091649"},{"source":"1184","target":"1092","strength":"0.7680063479539182"},{"source":"1184","target":"1205","strength":"0.7762780570412696"},{"source":"1184","target":"1339","strength":"0.7174137466890048"},{"source":"1184","target":"1347","strength":"0.7421850505594265"},{"source":"1184","target":"1443","strength":"0.7591027378900363"},{"source":"1184","target":"1516","strength":"0.7447603081893182"},{"source":"1184","target":"1521","strength":"0.7018069983158538"},{"source":"1184","target":"1632","strength":"0.7057317640612245"},{"source":"1184","target":"1684","strength":"0.725537790609321"},{"source":"1184","target":"1773","strength":"0.7119212107261493"},{"source":"1184","target":"1841","strength":"0.73660078063031"},{"source":"1184","target":"2046","strength":"0.7320205371055192"},{"source":"1184","target":"2089","strength":"0.7372658001361312"},{"source":"1184","target":"2090","strength":"0.7940018069513118"},{"source":"1184","target":"2352","strength":"0.7032528056310315"},{"source":"1184","target":"2353","strength":"0.7294882633902431"},{"source":"1184","target":"2354","strength":"0.7009367809040574"},{"source":"1184","target":"2355","strength":"0.791553995979069"},{"source":"1184","target":"2387","strength":"0.8029058899942273"},{"source":"1184","target":"2488","strength":"0.7695872772298284"},{"source":"1184","target":"2502","strength":"0.7070407455732205"},{"source":"1184","target":"2570","strength":"0.7483829773381198"},{"source":"1184","target":"2576","strength":"0.7581072587708569"},{"source":"1184","target":"2585","strength":"0.7599230325141684"},{"source":"1184","target":"2699","strength":"0.7665207912817041"},{"source":"1184","target":"2731","strength":"0.7485548784936228"},{"source":"1184","target":"2773","strength":"0.7703701538983839"},{"source":"1189","target":"1193","strength":"0.8086693252229996"},{"source":"1193","target":"1189","strength":"0.8086693252229996"},{"source":"1196","target":"1645","strength":"0.8107598729717179"},{"source":"1202","target":"837","strength":"0.7732181026189308"},{"source":"1204","target":"1002","strength":"0.7170053141127145"},{"source":"1204","target":"1205","strength":"0.7171512324795465"},{"source":"1204","target":"2699","strength":"0.710538942381933"},{"source":"1205","target":"485","strength":"0.8634553739767051"},{"source":"1205","target":"640","strength":"0.7382079368497306"},{"source":"1205","target":"1184","strength":"0.7762780570412696"},{"source":"1205","target":"1204","strength":"0.7171512324795465"},{"source":"1205","target":"1360","strength":"0.7323125027179695"},{"source":"1205","target":"1443","strength":"0.7270833677180124"},{"source":"1205","target":"1488","strength":"0.7669723923792269"},{"source":"1205","target":"1684","strength":"0.7479375973906963"},{"source":"1205","target":"2089","strength":"0.7688951437264302"},{"source":"1205","target":"2090","strength":"0.7121287607164293"},{"source":"1205","target":"2336","strength":"0.7044994686879148"},{"source":"1205","target":"2387","strength":"0.7616102197079494"},{"source":"1205","target":"2390","strength":"0.7330763979175905"},{"source":"1205","target":"2699","strength":"0.8204170177728103"},{"source":"1205","target":"2709","strength":"0.7320406615880091"},{"source":"1205","target":"2798","strength":"0.74688013987869"},{"source":"1208","target":"2585","strength":"0.713953304293353"},{"source":"1208","target":"2586","strength":"0.7401945475975186"},{"source":"1209","target":"438","strength":"0.759460033977036"},{"source":"1209","target":"980","strength":"0.759460033977036"},{"source":"1209","target":"1211","strength":"0.8377655587197648"},{"source":"1210","target":"438","strength":"0.8114516662470755"},{"source":"1210","target":"617","strength":"0.7826801114794351"},{"source":"1210","target":"886","strength":"0.7069295629889343"},{"source":"1210","target":"974","strength":"0.7335428630483882"},{"source":"1210","target":"980","strength":"0.8114516662470755"},{"source":"1210","target":"1212","strength":"0.7395278666303088"},{"source":"1210","target":"1213","strength":"0.8241238380850925"},{"source":"1211","target":"438","strength":"0.7176954517025953"},{"source":"1211","target":"980","strength":"0.7176954517025953"},{"source":"1211","target":"1209","strength":"0.8377655587197648"},{"source":"1212","target":"438","strength":"0.711944973980568"},{"source":"1212","target":"980","strength":"0.711944973980568"},{"source":"1212","target":"1210","strength":"0.7395278666303088"},{"source":"1212","target":"1213","strength":"0.7722656071395531"},{"source":"1213","target":"438","strength":"0.912949543984092"},{"source":"1213","target":"974","strength":"0.7555419278837466"},{"source":"1213","target":"980","strength":"0.912949543984092"},{"source":"1213","target":"1210","strength":"0.8241238380850925"},{"source":"1213","target":"1212","strength":"0.7722656071395531"},{"source":"1213","target":"1215","strength":"0.7610304521188418"},{"source":"1213","target":"2697","strength":"0.7877246390876602"},{"source":"1215","target":"438","strength":"0.7748905663043564"},{"source":"1215","target":"980","strength":"0.7748905663043564"},{"source":"1215","target":"1213","strength":"0.7610304521188418"},{"source":"1215","target":"2697","strength":"0.7237518824357173"},{"source":"1216","target":"540","strength":"0.7136749713947858"},{"source":"1216","target":"570","strength":"0.752693682775546"},{"source":"1216","target":"847","strength":"0.7376432342584175"},{"source":"1216","target":"867","strength":"0.737907401070346"},{"source":"1216","target":"909","strength":"0.7048699080075268"},{"source":"1216","target":"984","strength":"0.7669219501629381"},{"source":"1216","target":"1094","strength":"0.723805306327482"},{"source":"1216","target":"1217","strength":"0.8201735389088544"},{"source":"1216","target":"1219","strength":"0.7280556925653814"},{"source":"1216","target":"1221","strength":"0.8126781771911273"},{"source":"1216","target":"1222","strength":"0.8159760068282365"},{"source":"1216","target":"2302","strength":"0.7158538182086236"},{"source":"1216","target":"2392","strength":"0.7349741688414603"},{"source":"1216","target":"2410","strength":"0.7317920625794055"},{"source":"1217","target":"540","strength":"0.7013121122866934"},{"source":"1217","target":"570","strength":"0.8142039580696232"},{"source":"1217","target":"847","strength":"0.7878185018067456"},{"source":"1217","target":"945","strength":"0.7308686373633565"},{"source":"1217","target":"984","strength":"0.8245250878900583"},{"source":"1217","target":"1094","strength":"0.743786031393014"},{"source":"1217","target":"1216","strength":"0.8201735389088544"},{"source":"1217","target":"1219","strength":"0.7320451896247442"},{"source":"1217","target":"1221","strength":"0.745595441233787"},{"source":"1217","target":"1222","strength":"0.7819592139803812"},{"source":"1217","target":"2302","strength":"0.7236650427163862"},{"source":"1217","target":"2410","strength":"0.7377772929572365"},{"source":"1217","target":"2442","strength":"0.7322835662662504"},{"source":"1218","target":"339","strength":"0.7532279708316892"},{"source":"1218","target":"962","strength":"0.7105898638083457"},{"source":"1218","target":"1099","strength":"0.7422903663682971"},{"source":"1218","target":"1158","strength":"0.7298018384469641"},{"source":"1218","target":"1220","strength":"1.0000000000000002"},{"source":"1218","target":"1223","strength":"0.702309364131762"},{"source":"1218","target":"1696","strength":"0.7338365826019275"},{"source":"1218","target":"1765","strength":"0.733836574428334"},{"source":"1218","target":"2459","strength":"0.8488309409878682"},{"source":"1218","target":"2750","strength":"0.7418918414096308"},{"source":"1219","target":"909","strength":"0.748958649843891"},{"source":"1219","target":"1216","strength":"0.7280556925653814"},{"source":"1219","target":"1217","strength":"0.7320451896247442"},{"source":"1219","target":"1222","strength":"0.7995546412413929"},{"source":"1219","target":"2392","strength":"0.7417550733926225"},{"source":"1220","target":"339","strength":"0.7532279708316892"},{"source":"1220","target":"962","strength":"0.7105898638083457"},{"source":"1220","target":"1099","strength":"0.7422903663682971"},{"source":"1220","target":"1158","strength":"0.7298018384469641"},{"source":"1220","target":"1218","strength":"1.0000000000000002"},{"source":"1220","target":"1223","strength":"0.702309364131762"},{"source":"1220","target":"1696","strength":"0.7338365826019275"},{"source":"1220","target":"1765","strength":"0.733836574428334"},{"source":"1220","target":"2459","strength":"0.8488309409878682"},{"source":"1220","target":"2750","strength":"0.7418918414096308"},{"source":"1221","target":"1216","strength":"0.8126781771911273"},{"source":"1221","target":"1217","strength":"0.745595441233787"},{"source":"1221","target":"1222","strength":"0.7656519675861001"},{"source":"1222","target":"570","strength":"0.7354295305150055"},{"source":"1222","target":"847","strength":"0.7198080656934699"},{"source":"1222","target":"909","strength":"0.7263630400016734"},{"source":"1222","target":"984","strength":"0.7221010123861146"},{"source":"1222","target":"1216","strength":"0.8159760068282365"},{"source":"1222","target":"1217","strength":"0.7819592139803812"},{"source":"1222","target":"1219","strength":"0.7995546412413929"},{"source":"1222","target":"1221","strength":"0.7656519675861001"},{"source":"1222","target":"2392","strength":"0.7241462885215665"},{"source":"1222","target":"2410","strength":"0.7037423034573042"},{"source":"1223","target":"428","strength":"0.7006053111613916"},{"source":"1223","target":"994","strength":"0.7117815664045581"},{"source":"1223","target":"1218","strength":"0.702309364131762"},{"source":"1223","target":"1220","strength":"0.702309364131762"},{"source":"1223","target":"1224","strength":"0.7050004517657339"},{"source":"1223","target":"1952","strength":"0.7069897706203687"},{"source":"1224","target":"1223","strength":"0.7050004517657339"},{"source":"1224","target":"2459","strength":"0.7325883325303337"},{"source":"1224","target":"2750","strength":"0.7369223439655456"},{"source":"1227","target":"1229","strength":"0.7548702820077943"},{"source":"1229","target":"1068","strength":"0.7345180490855807"},{"source":"1229","target":"1227","strength":"0.7548702820077943"},{"source":"1231","target":"1902","strength":"0.7042481028805011"},{"source":"1233","target":"1234","strength":"0.7990892987086895"},{"source":"1234","target":"1233","strength":"0.7990892987086895"},{"source":"1234","target":"1321","strength":"0.772833393088682"},{"source":"1237","target":"1238","strength":"0.9999999999999993"},{"source":"1238","target":"1237","strength":"0.9999999999999993"},{"source":"1241","target":"338","strength":"0.7380926668015416"},{"source":"1241","target":"598","strength":"0.7218399841730632"},{"source":"1241","target":"669","strength":"0.7462684291742768"},{"source":"1248","target":"1354","strength":"0.7491395671534108"},{"source":"1248","target":"1469","strength":"0.720000989602138"},{"source":"1250","target":"2350","strength":"0.7135641328844669"},{"source":"1253","target":"370","strength":"0.7062448250666129"},{"source":"1253","target":"371","strength":"0.7585985011423737"},{"source":"1253","target":"372","strength":"0.7440663219434372"},{"source":"1253","target":"1762","strength":"0.748725124606773"},{"source":"1255","target":"1409","strength":"0.73678516978088"},{"source":"1255","target":"1410","strength":"0.7422541083387537"},{"source":"1256","target":"1704","strength":"0.7155121217079468"},{"source":"1257","target":"461","strength":"0.8203556500399263"},{"source":"1257","target":"651","strength":"0.7975924993272692"},{"source":"1257","target":"654","strength":"0.7956372033922131"},{"source":"1257","target":"737","strength":"0.7302494090803773"},{"source":"1257","target":"829","strength":"0.7235495623172238"},{"source":"1257","target":"1026","strength":"0.7320046878749008"},{"source":"1257","target":"1159","strength":"0.804876363919465"},{"source":"1257","target":"1632","strength":"0.7013466955217185"},{"source":"1257","target":"1841","strength":"0.7762346553896903"},{"source":"1257","target":"2087","strength":"0.7323224038807084"},{"source":"1257","target":"2088","strength":"0.7133567606430596"},{"source":"1257","target":"2090","strength":"0.7486988558292665"},{"source":"1257","target":"2091","strength":"0.795087967060612"},{"source":"1257","target":"2092","strength":"0.7785898736858485"},{"source":"1257","target":"2267","strength":"0.7323224038807084"},{"source":"1257","target":"2386","strength":"0.7629455287423033"},{"source":"1260","target":"217","strength":"0.7278174061185824"},{"source":"1260","target":"253","strength":"0.7541229987594011"},{"source":"1260","target":"254","strength":"0.7393451429671609"},{"source":"1260","target":"531","strength":"0.7175101941412283"},{"source":"1260","target":"533","strength":"0.8310007871983218"},{"source":"1260","target":"535","strength":"0.7455729745428631"},{"source":"1260","target":"647","strength":"0.7423688630379666"},{"source":"1260","target":"766","strength":"0.7242871485161846"},{"source":"1260","target":"782","strength":"0.717190050364266"},{"source":"1260","target":"841","strength":"0.7401759369266666"},{"source":"1260","target":"1441","strength":"0.7057025406328796"},{"source":"1261","target":"802","strength":"0.8038590912163167"},{"source":"1265","target":"18","strength":"0.7319920085776204"},{"source":"1273","target":"204","strength":"0.7067142423772492"},{"source":"1273","target":"320","strength":"0.7247748890720309"},{"source":"1273","target":"321","strength":"0.7148620277418088"},{"source":"1273","target":"2799","strength":"0.8271933172784138"},{"source":"1277","target":"161","strength":"0.7166731221754709"},{"source":"1277","target":"207","strength":"0.707818782915422"},{"source":"1279","target":"207","strength":"0.7181166540539248"},{"source":"1279","target":"2234","strength":"0.7280705628898814"},{"source":"1286","target":"1287","strength":"0.9201884814460677"},{"source":"1287","target":"1286","strength":"0.9201884814460677"},{"source":"1288","target":"301","strength":"0.7579893454726945"},{"source":"1299","target":"1926","strength":"0.7054988565541473"},{"source":"1307","target":"1308","strength":"0.7507825462238925"},{"source":"1307","target":"1310","strength":"0.7029416582173778"},{"source":"1307","target":"1576","strength":"0.7284999657638821"},{"source":"1308","target":"1307","strength":"0.7507825462238925"},{"source":"1310","target":"1307","strength":"0.7029416582173778"},{"source":"1310","target":"1576","strength":"0.7160940821818488"},{"source":"1310","target":"1579","strength":"0.7301982644488882"},{"source":"1321","target":"1234","strength":"0.772833393088682"},{"source":"1328","target":"371","strength":"0.7570170740894595"},{"source":"1328","target":"372","strength":"0.738042234194353"},{"source":"1328","target":"1918","strength":"0.7388265034955078"},{"source":"1334","target":"373","strength":"0.770378163820547"},{"source":"1334","target":"859","strength":"0.7088712677309447"},{"source":"1338","target":"1678","strength":"0.70215560424507"},{"source":"1339","target":"461","strength":"0.7019999967008852"},{"source":"1339","target":"740","strength":"0.7119598262611382"},{"source":"1339","target":"741","strength":"0.8357339821088006"},{"source":"1339","target":"743","strength":"0.7546353592462322"},{"source":"1339","target":"744","strength":"0.7823638717310649"},{"source":"1339","target":"826","strength":"0.7449512047675878"},{"source":"1339","target":"836","strength":"0.7434178831255532"},{"source":"1339","target":"872","strength":"0.7475309410614137"},{"source":"1339","target":"1092","strength":"0.8418459598124131"},{"source":"1339","target":"1184","strength":"0.7174137466890048"},{"source":"1339","target":"1347","strength":"0.7914176244527839"},{"source":"1339","target":"1354","strength":"0.7178633565593254"},{"source":"1339","target":"1443","strength":"0.740905733594062"},{"source":"1339","target":"1516","strength":"0.7352846900837593"},{"source":"1339","target":"1521","strength":"0.729668147688069"},{"source":"1339","target":"1632","strength":"0.7244306244104168"},{"source":"1339","target":"1773","strength":"0.8017474248656464"},{"source":"1339","target":"2046","strength":"0.8235201811409176"},{"source":"1339","target":"2089","strength":"0.7251263156077152"},{"source":"1339","target":"2090","strength":"0.7002399084529463"},{"source":"1339","target":"2270","strength":"0.813901866073819"},{"source":"1339","target":"2353","strength":"0.785855319608044"},{"source":"1339","target":"2354","strength":"0.7538253630420166"},{"source":"1339","target":"2355","strength":"0.7662764440219769"},{"source":"1339","target":"2449","strength":"0.7009078479844779"},{"source":"1339","target":"2502","strength":"0.736389978153383"},{"source":"1339","target":"2570","strength":"0.7376895147940701"},{"source":"1339","target":"2576","strength":"0.7965392040334267"},{"source":"1339","target":"2731","strength":"0.8313023296728175"},{"source":"1339","target":"2773","strength":"0.869288564310447"},{"source":"1340","target":"664","strength":"0.7064390991270857"},{"source":"1340","target":"872","strength":"0.7428925488590128"},{"source":"1340","target":"1518","strength":"0.7417713225201839"},{"source":"1340","target":"1521","strength":"0.7784218753084434"},{"source":"1340","target":"1715","strength":"0.7759421518682182"},{"source":"1340","target":"2046","strength":"0.7092474731889559"},{"source":"1347","target":"406","strength":"0.7436006909644015"},{"source":"1347","target":"461","strength":"0.751715758835658"},{"source":"1347","target":"654","strength":"0.7246726552902386"},{"source":"1347","target":"737","strength":"0.7710513980290833"},{"source":"1347","target":"741","strength":"0.767160818769498"},{"source":"1347","target":"743","strength":"0.8186472153692121"},{"source":"1347","target":"744","strength":"0.8044631479892026"},{"source":"1347","target":"826","strength":"0.7711264070082443"},{"source":"1347","target":"836","strength":"0.7280229909822831"},{"source":"1347","target":"1092","strength":"0.7140253425216663"},{"source":"1347","target":"1184","strength":"0.7421850505594265"},{"source":"1347","target":"1339","strength":"0.7914176244527839"},{"source":"1347","target":"1354","strength":"0.7598841410708254"},{"source":"1347","target":"1443","strength":"0.7719289128914031"},{"source":"1347","target":"1632","strength":"0.7299373619576182"},{"source":"1347","target":"1684","strength":"0.7300947831770468"},{"source":"1347","target":"1730","strength":"0.7236237878239478"},{"source":"1347","target":"1773","strength":"0.8313408823134194"},{"source":"1347","target":"2046","strength":"0.7669243084247539"},{"source":"1347","target":"2089","strength":"0.7099831360207653"},{"source":"1347","target":"2090","strength":"0.724270901518758"},{"source":"1347","target":"2270","strength":"0.7807139958683663"},{"source":"1347","target":"2353","strength":"0.8389875158223754"},{"source":"1347","target":"2354","strength":"0.7146468226143716"},{"source":"1347","target":"2355","strength":"0.7120087385187044"},{"source":"1347","target":"2386","strength":"0.7619489911377806"},{"source":"1347","target":"2449","strength":"0.7505002404476617"},{"source":"1347","target":"2502","strength":"0.7021165834239323"},{"source":"1347","target":"2570","strength":"0.7494990637697166"},{"source":"1347","target":"2576","strength":"0.8219019781804481"},{"source":"1347","target":"2731","strength":"0.873279050346447"},{"source":"1347","target":"2773","strength":"0.7788437112604074"},{"source":"1351","target":"441","strength":"0.7416589442465819"},{"source":"1354","target":"406","strength":"0.7172015656884884"},{"source":"1354","target":"461","strength":"0.7538371830887095"},{"source":"1354","target":"470","strength":"0.7035745933482225"},{"source":"1354","target":"737","strength":"0.786716526421343"},{"source":"1354","target":"743","strength":"0.7733787829066608"},{"source":"1354","target":"744","strength":"0.7189137398627191"},{"source":"1354","target":"1026","strength":"0.7249938250956964"},{"source":"1354","target":"1181","strength":"0.7057906807357321"},{"source":"1354","target":"1248","strength":"0.7491395671534108"},{"source":"1354","target":"1339","strength":"0.7178633565593254"},{"source":"1354","target":"1347","strength":"0.7598841410708254"},{"source":"1354","target":"1421","strength":"0.7168780623373225"},{"source":"1354","target":"1443","strength":"0.7438968138103339"},{"source":"1354","target":"1632","strength":"0.7868385982423913"},{"source":"1354","target":"1773","strength":"0.7437112201320576"},{"source":"1354","target":"1791","strength":"0.7355899758555651"},{"source":"1354","target":"2046","strength":"0.7282356670466344"},{"source":"1354","target":"2270","strength":"0.7071416129820582"},{"source":"1354","target":"2353","strength":"0.7064185448954444"},{"source":"1354","target":"2386","strength":"0.778628163269562"},{"source":"1354","target":"2576","strength":"0.7508123255364872"},{"source":"1354","target":"2731","strength":"0.8104525751627392"},{"source":"1354","target":"2773","strength":"0.7435355297850117"},{"source":"1355","target":"451","strength":"0.7328765006453828"},{"source":"1355","target":"821","strength":"0.7349090841713655"},{"source":"1355","target":"938","strength":"0.8039801092255235"},{"source":"1355","target":"942","strength":"0.7045163840464728"},{"source":"1355","target":"947","strength":"0.71214585483454"},{"source":"1355","target":"1440","strength":"0.742725028845349"},{"source":"1355","target":"1462","strength":"0.7028250055935763"},{"source":"1355","target":"1468","strength":"0.7466997607109975"},{"source":"1355","target":"2399","strength":"0.7037755053249066"},{"source":"1355","target":"2400","strength":"0.8176603399502824"},{"source":"1355","target":"2427","strength":"0.7109383906213478"},{"source":"1355","target":"2431","strength":"0.7022382005428035"},{"source":"1360","target":"1205","strength":"0.7323125027179695"},{"source":"1360","target":"2336","strength":"0.7182657443282717"},{"source":"1372","target":"911","strength":"0.7345732988799564"},{"source":"1374","target":"1375","strength":"0.7641080523241988"},{"source":"1375","target":"1374","strength":"0.7641080523241988"},{"source":"1375","target":"1376","strength":"0.7549584358422426"},{"source":"1376","target":"1375","strength":"0.7549584358422426"},{"source":"1384","target":"1440","strength":"0.757026540908361"},{"source":"1384","target":"2311","strength":"0.7547680984396066"},{"source":"1390","target":"426","strength":"0.8197817847504976"},{"source":"1390","target":"516","strength":"0.7123657611036033"},{"source":"1390","target":"555","strength":"0.7316862122644087"},{"source":"1390","target":"1696","strength":"0.7132348712203639"},{"source":"1390","target":"1765","strength":"0.7132348726022747"},{"source":"1390","target":"2434","strength":"0.734734408347866"},{"source":"1398","target":"705","strength":"0.7883358368590183"},{"source":"1398","target":"1399","strength":"0.9509494103910482"},{"source":"1399","target":"705","strength":"0.7589871229189972"},{"source":"1399","target":"1398","strength":"0.9509494103910482"},{"source":"1402","target":"2749","strength":"0.7000363499962508"},{"source":"1409","target":"1255","strength":"0.73678516978088"},{"source":"1409","target":"1469","strength":"0.7911158947149717"},{"source":"1409","target":"1482","strength":"0.7460584351616228"},{"source":"1409","target":"1846","strength":"0.7476849528328935"},{"source":"1409","target":"2337","strength":"0.8236398204164206"},{"source":"1409","target":"2348","strength":"0.7255780724247267"},{"source":"1410","target":"1255","strength":"0.7422541083387537"},{"source":"1413","target":"167","strength":"0.7187419983752826"},{"source":"1414","target":"629","strength":"0.727374372486435"},{"source":"1416","target":"748","strength":"0.7544069981820933"},{"source":"1417","target":"613","strength":"0.7210980476861416"},{"source":"1417","target":"880","strength":"0.7042697425943758"},{"source":"1417","target":"1568","strength":"0.7136886504554752"},{"source":"1417","target":"2654","strength":"0.7420922320255726"},{"source":"1418","target":"1461","strength":"0.7854595927881293"},{"source":"1421","target":"461","strength":"0.7007945477377158"},{"source":"1421","target":"737","strength":"0.7158636369080668"},{"source":"1421","target":"1354","strength":"0.7168780623373225"},{"source":"1421","target":"2731","strength":"0.7099109010083893"},{"source":"1427","target":"1805","strength":"0.7106751545680433"},{"source":"1428","target":"53","strength":"0.7634728567481477"},{"source":"1440","target":"129","strength":"0.7098675349742029"},{"source":"1440","target":"403","strength":"0.7132542049568467"},{"source":"1440","target":"502","strength":"0.701387117259711"},{"source":"1440","target":"821","strength":"0.7748160616890929"},{"source":"1440","target":"938","strength":"0.7384216454749956"},{"source":"1440","target":"942","strength":"0.7417176882604943"},{"source":"1440","target":"947","strength":"0.7388952497071782"},{"source":"1440","target":"970","strength":"0.7606596967242831"},{"source":"1440","target":"1355","strength":"0.742725028845349"},{"source":"1440","target":"1384","strength":"0.757026540908361"},{"source":"1440","target":"1462","strength":"0.7513929907632886"},{"source":"1440","target":"1468","strength":"0.7083725599283495"},{"source":"1440","target":"2311","strength":"0.7037675703435233"},{"source":"1440","target":"2343","strength":"0.7002141691367059"},{"source":"1440","target":"2357","strength":"0.7167364938433887"},{"source":"1440","target":"2400","strength":"0.8191945771254978"},{"source":"1440","target":"2431","strength":"0.8370436847679232"},{"source":"1441","target":"254","strength":"0.7205115266827475"},{"source":"1441","target":"533","strength":"0.7249988869091966"},{"source":"1441","target":"535","strength":"0.7278941671913663"},{"source":"1441","target":"647","strength":"0.7159775614852889"},{"source":"1441","target":"782","strength":"0.7226371668221003"},{"source":"1441","target":"1052","strength":"0.7451592046968047"},{"source":"1441","target":"1260","strength":"0.7057025406328796"},{"source":"1442","target":"1447","strength":"0.8927190891640386"},{"source":"1442","target":"2253","strength":"0.7306662575904727"},{"source":"1442","target":"2602","strength":"0.7107638568005169"},{"source":"1443","target":"470","strength":"0.7015750171017194"},{"source":"1443","target":"737","strength":"0.7322237526241022"},{"source":"1443","target":"741","strength":"0.7688601392185378"},{"source":"1443","target":"743","strength":"0.7674769832916639"},{"source":"1443","target":"744","strength":"0.7665192136850713"},{"source":"1443","target":"826","strength":"0.7619405021399461"},{"source":"1443","target":"836","strength":"0.7502133066357015"},{"source":"1443","target":"872","strength":"0.7416467282039795"},{"source":"1443","target":"1026","strength":"0.7425957144824005"},{"source":"1443","target":"1092","strength":"0.7238263663330395"},{"source":"1443","target":"1184","strength":"0.7591027378900363"},{"source":"1443","target":"1205","strength":"0.7270833677180124"},{"source":"1443","target":"1339","strength":"0.740905733594062"},{"source":"1443","target":"1347","strength":"0.7719289128914031"},{"source":"1443","target":"1354","strength":"0.7438968138103339"},{"source":"1443","target":"1507","strength":"0.7028200528071565"},{"source":"1443","target":"1516","strength":"0.7188614726665356"},{"source":"1443","target":"1521","strength":"0.7154247823045162"},{"source":"1443","target":"1632","strength":"0.8048691868992157"},{"source":"1443","target":"1684","strength":"0.8217299828506512"},{"source":"1443","target":"1730","strength":"0.7484869450741048"},{"source":"1443","target":"1773","strength":"0.8034594625828678"},{"source":"1443","target":"1791","strength":"0.7849732510576394"},{"source":"1443","target":"1799","strength":"0.7030777715280753"},{"source":"1443","target":"2046","strength":"0.7568596983893964"},{"source":"1443","target":"2089","strength":"0.765823907504388"},{"source":"1443","target":"2090","strength":"0.7851948412023915"},{"source":"1443","target":"2270","strength":"0.7699156749594069"},{"source":"1443","target":"2353","strength":"0.7517473055766891"},{"source":"1443","target":"2354","strength":"0.7385876339767984"},{"source":"1443","target":"2355","strength":"0.7540407539021249"},{"source":"1443","target":"2386","strength":"0.7637553609007016"},{"source":"1443","target":"2387","strength":"0.7449236752633089"},{"source":"1443","target":"2390","strength":"0.7520585968681416"},{"source":"1443","target":"2488","strength":"0.7047740311068843"},{"source":"1443","target":"2502","strength":"0.7273865864019803"},{"source":"1443","target":"2570","strength":"0.8073058893225579"},{"source":"1443","target":"2576","strength":"0.81607042971674"},{"source":"1443","target":"2699","strength":"0.7657855277494277"},{"source":"1443","target":"2731","strength":"0.83134796243929"},{"source":"1443","target":"2773","strength":"0.7897560932957315"},{"source":"1445","target":"475","strength":"0.7379963203179851"},{"source":"1445","target":"651","strength":"0.7557533073977662"},{"source":"1445","target":"652","strength":"0.7215462480432501"},{"source":"1445","target":"654","strength":"0.732378782289378"},{"source":"1445","target":"1951","strength":"0.7150724279362377"},{"source":"1446","target":"406","strength":"0.7002514319280114"},{"source":"1446","target":"828","strength":"0.8003183238685176"},{"source":"1446","target":"903","strength":"0.7179773367933339"},{"source":"1446","target":"1507","strength":"0.72256946786951"},{"source":"1446","target":"1632","strength":"0.7115634578083225"},{"source":"1446","target":"1694","strength":"0.7052746076388635"},{"source":"1447","target":"1442","strength":"0.8927190891640386"},{"source":"1447","target":"2253","strength":"0.7011745392305269"},{"source":"1447","target":"2602","strength":"0.7010472492901307"},{"source":"1448","target":"1643","strength":"0.7270581534491309"},{"source":"1449","target":"737","strength":"0.7112666064475051"},{"source":"1449","target":"745","strength":"0.7001732544632432"},{"source":"1449","target":"903","strength":"0.7314567051147121"},{"source":"1451","target":"1907","strength":"0.7868213232292411"},{"source":"1451","target":"2777","strength":"0.733209006783342"},{"source":"1454","target":"816","strength":"0.7264436313597233"},{"source":"1461","target":"1418","strength":"0.7854595927881293"},{"source":"1462","target":"403","strength":"0.7943522460321187"},{"source":"1462","target":"502","strength":"0.7162846492043966"},{"source":"1462","target":"821","strength":"0.8088525451978537"},{"source":"1462","target":"938","strength":"0.7251954884880044"},{"source":"1462","target":"947","strength":"0.7538330580394368"},{"source":"1462","target":"970","strength":"0.7341442473713602"},{"source":"1462","target":"1174","strength":"0.8781989002866852"},{"source":"1462","target":"1355","strength":"0.7028250055935763"},{"source":"1462","target":"1440","strength":"0.7513929907632886"},{"source":"1462","target":"1468","strength":"0.7349566551751459"},{"source":"1462","target":"2343","strength":"0.7999151752898044"},{"source":"1462","target":"2399","strength":"0.7274793140339544"},{"source":"1462","target":"2400","strength":"0.8148261905299268"},{"source":"1462","target":"2427","strength":"0.7849695310467489"},{"source":"1462","target":"2431","strength":"0.7305894385123484"},{"source":"1466","target":"1978","strength":"0.726091748428607"},{"source":"1466","target":"1980","strength":"0.7089248166089058"},{"source":"1468","target":"403","strength":"0.7650694581975747"},{"source":"1468","target":"821","strength":"0.7744257149371832"},{"source":"1468","target":"938","strength":"0.7578936475559327"},{"source":"1468","target":"947","strength":"0.7544881202702868"},{"source":"1468","target":"970","strength":"0.7275810803388034"},{"source":"1468","target":"1174","strength":"0.7514234915481287"},{"source":"1468","target":"1355","strength":"0.7466997607109975"},{"source":"1468","target":"1440","strength":"0.7083725599283495"},{"source":"1468","target":"1462","strength":"0.7349566551751459"},{"source":"1468","target":"2343","strength":"0.7093744596494399"},{"source":"1468","target":"2399","strength":"0.7522401382259916"},{"source":"1468","target":"2400","strength":"0.8086605839585483"},{"source":"1468","target":"2427","strength":"0.747359711296118"},{"source":"1469","target":"1248","strength":"0.720000989602138"},{"source":"1469","target":"1409","strength":"0.7911158947149717"},{"source":"1469","target":"1482","strength":"0.7127641405679552"},{"source":"1469","target":"2337","strength":"0.7080880085537984"},{"source":"1470","target":"2037","strength":"0.7399345982759016"},{"source":"1475","target":"551","strength":"0.7107878541322618"},{"source":"1475","target":"713","strength":"0.7245260511232914"},{"source":"1475","target":"756","strength":"0.7920763603140146"},{"source":"1475","target":"2534","strength":"0.7621397931934242"},{"source":"1475","target":"2535","strength":"1.0000000000000013"},{"source":"1478","target":"1823","strength":"0.7087508225630099"},{"source":"1481","target":"640","strength":"0.7437629713553814"},{"source":"1482","target":"1409","strength":"0.7460584351616228"},{"source":"1482","target":"1469","strength":"0.7127641405679552"},{"source":"1482","target":"1846","strength":"0.7082719762607866"},{"source":"1483","target":"2273","strength":"0.705889327306806"},{"source":"1483","target":"2321","strength":"0.7064992312508817"},{"source":"1488","target":"736","strength":"0.7031695262188402"},{"source":"1488","target":"1205","strength":"0.7669723923792269"},{"source":"1488","target":"2387","strength":"0.709655038486687"},{"source":"1489","target":"1498","strength":"0.7137935288592436"},{"source":"1492","target":"2157","strength":"0.710301866143912"},{"source":"1493","target":"2409","strength":"0.8690504083078208"},{"source":"1494","target":"1672","strength":"0.708376372697669"},{"source":"1498","target":"1489","strength":"0.7137935288592436"},{"source":"1505","target":"59","strength":"0.7998787047665823"},{"source":"1505","target":"63","strength":"0.7955733147544092"},{"source":"1505","target":"158","strength":"0.7755213993236214"},{"source":"1505","target":"2783","strength":"0.7126120853348219"},{"source":"1507","target":"406","strength":"0.7355309435833385"},{"source":"1507","target":"664","strength":"0.7060224620859052"},{"source":"1507","target":"745","strength":"0.7189587853018599"},{"source":"1507","target":"1443","strength":"0.7028200528071565"},{"source":"1507","target":"1446","strength":"0.72256946786951"},{"source":"1507","target":"1541","strength":"0.713328161134928"},{"source":"1507","target":"1632","strength":"0.7573400100620624"},{"source":"1507","target":"1791","strength":"0.7496136487410795"},{"source":"1507","target":"1799","strength":"0.7018509104125896"},{"source":"1507","target":"2090","strength":"0.744980719774169"},{"source":"1510","target":"406","strength":"0.7423583078501714"},{"source":"1510","target":"2386","strength":"0.7315882519090574"},{"source":"1516","target":"739","strength":"0.7516588755348091"},{"source":"1516","target":"741","strength":"0.714902947047221"},{"source":"1516","target":"744","strength":"0.7134376869817405"},{"source":"1516","target":"1092","strength":"0.7901158954292034"},{"source":"1516","target":"1184","strength":"0.7447603081893182"},{"source":"1516","target":"1339","strength":"0.7352846900837593"},{"source":"1516","target":"1443","strength":"0.7188614726665356"},{"source":"1516","target":"1521","strength":"0.7698358688327037"},{"source":"1516","target":"1632","strength":"0.7076349061843562"},{"source":"1516","target":"2046","strength":"0.7307461018929902"},{"source":"1516","target":"2270","strength":"0.7230142200843911"},{"source":"1516","target":"2355","strength":"0.7761268424961039"},{"source":"1516","target":"2570","strength":"0.7025439204312562"},{"source":"1516","target":"2576","strength":"0.7320533369982212"},{"source":"1516","target":"2731","strength":"0.7176338175883986"},{"source":"1516","target":"2773","strength":"0.7586606662052003"},{"source":"1518","target":"1092","strength":"0.7077108767455186"},{"source":"1518","target":"1340","strength":"0.7417713225201839"},{"source":"1518","target":"1521","strength":"0.89228514038576"},{"source":"1518","target":"1632","strength":"0.7094970237868203"},{"source":"1518","target":"2046","strength":"0.7847267402445981"},{"source":"1518","target":"2270","strength":"0.8095299283670266"},{"source":"1518","target":"2354","strength":"0.7260376594347807"},{"source":"1518","target":"2570","strength":"0.733355839323495"},{"source":"1518","target":"2576","strength":"0.7012817751894227"},{"source":"1518","target":"2731","strength":"0.7144568491118771"},{"source":"1518","target":"2773","strength":"0.7476908609277595"},{"source":"1519","target":"743","strength":"0.7283680749744541"},{"source":"1519","target":"1090","strength":"0.7638125929847381"},{"source":"1519","target":"1632","strength":"0.7019822912436554"},{"source":"1519","target":"2731","strength":"0.7165144228211597"},{"source":"1521","target":"740","strength":"0.7172550285861433"},{"source":"1521","target":"741","strength":"0.7255698538302146"},{"source":"1521","target":"744","strength":"0.7338601209721947"},{"source":"1521","target":"836","strength":"0.7214812802391858"},{"source":"1521","target":"1092","strength":"0.7732526506964653"},{"source":"1521","target":"1184","strength":"0.7018069983158538"},{"source":"1521","target":"1339","strength":"0.729668147688069"},{"source":"1521","target":"1340","strength":"0.7784218753084434"},{"source":"1521","target":"1443","strength":"0.7154247823045162"},{"source":"1521","target":"1516","strength":"0.7698358688327037"},{"source":"1521","target":"1518","strength":"0.89228514038576"},{"source":"1521","target":"1632","strength":"0.7153717945365388"},{"source":"1521","target":"2046","strength":"0.7902594499119107"},{"source":"1521","target":"2270","strength":"0.8140515946701408"},{"source":"1521","target":"2354","strength":"0.7194861390654688"},{"source":"1521","target":"2355","strength":"0.7932247549086826"},{"source":"1521","target":"2502","strength":"0.7277984165101298"},{"source":"1521","target":"2570","strength":"0.7233506689389244"},{"source":"1521","target":"2576","strength":"0.7474749950237145"},{"source":"1521","target":"2731","strength":"0.7232183528344824"},{"source":"1521","target":"2773","strength":"0.7829560106408711"},{"source":"1522","target":"2488","strength":"0.8009615013966838"},{"source":"1522","target":"2585","strength":"0.7141986764151504"},{"source":"1524","target":"87","strength":"0.7195285518667923"},{"source":"1524","target":"224","strength":"0.704387376830541"},{"source":"1525","target":"558","strength":"0.7361895693701297"},{"source":"1532","target":"633","strength":"0.712058998784011"},{"source":"1541","target":"1507","strength":"0.713328161134928"},{"source":"1541","target":"2092","strength":"0.7231989724594846"},{"source":"1542","target":"1","strength":"0.7014530193106944"},{"source":"1542","target":"85","strength":"0.7189511797207752"},{"source":"1542","target":"125","strength":"0.726682256796401"},{"source":"1546","target":"1547","strength":"0.7495325972627509"},{"source":"1547","target":"1546","strength":"0.7495325972627509"},{"source":"1548","target":"1046","strength":"0.8529418163410527"},{"source":"1548","target":"1576","strength":"0.7057707831418817"},{"source":"1548","target":"1579","strength":"0.7023636798634458"},{"source":"1549","target":"1863","strength":"0.7225525687128278"},{"source":"1549","target":"1868","strength":"0.7064415332027327"},{"source":"1551","target":"1552","strength":"1.0000000000000007"},{"source":"1551","target":"1858","strength":"0.7968525145586232"},{"source":"1552","target":"1551","strength":"1.0000000000000007"},{"source":"1552","target":"1858","strength":"0.7968525145586232"},{"source":"1554","target":"1562","strength":"0.7805096087383236"},{"source":"1556","target":"1557","strength":"0.7519269645023969"},{"source":"1557","target":"471","strength":"0.7639654096554922"},{"source":"1557","target":"1556","strength":"0.7519269645023969"},{"source":"1558","target":"1857","strength":"1.0000000000000013"},{"source":"1559","target":"1560","strength":"0.7922748280913842"},{"source":"1559","target":"1561","strength":"0.8166484336979885"},{"source":"1560","target":"1559","strength":"0.7922748280913842"},{"source":"1561","target":"1559","strength":"0.8166484336979885"},{"source":"1562","target":"1554","strength":"0.7805096087383236"},{"source":"1563","target":"1564","strength":"0.773397574828435"},{"source":"1564","target":"1563","strength":"0.773397574828435"},{"source":"1564","target":"1858","strength":"0.7108539556473511"},{"source":"1568","target":"613","strength":"0.7755736936563673"},{"source":"1568","target":"1417","strength":"0.7136886504554752"},{"source":"1569","target":"1570","strength":"0.917906076744609"},{"source":"1569","target":"1572","strength":"0.7028975962997167"},{"source":"1570","target":"1569","strength":"0.917906076744609"},{"source":"1572","target":"1569","strength":"0.7028975962997167"},{"source":"1575","target":"1617","strength":"0.8021055694573587"},{"source":"1575","target":"1618","strength":"0.7916869308318503"},{"source":"1575","target":"1619","strength":"0.811240683345694"},{"source":"1575","target":"1620","strength":"0.772444439236016"},{"source":"1575","target":"1621","strength":"0.7403586993033356"},{"source":"1575","target":"1622","strength":"0.8597852202999683"},{"source":"1576","target":"1046","strength":"0.7806920759292849"},{"source":"1576","target":"1307","strength":"0.7284999657638821"},{"source":"1576","target":"1310","strength":"0.7160940821818488"},{"source":"1576","target":"1548","strength":"0.7057707831418817"},{"source":"1576","target":"1579","strength":"0.710386604524667"},{"source":"1576","target":"1870","strength":"0.7143538998985114"},{"source":"1577","target":"1618","strength":"0.817026260060026"},{"source":"1577","target":"1869","strength":"1.0000000000000009"},{"source":"1579","target":"1310","strength":"0.7301982644488882"},{"source":"1579","target":"1548","strength":"0.7023636798634458"},{"source":"1579","target":"1576","strength":"0.710386604524667"},{"source":"1579","target":"1808","strength":"0.7001700991660668"},{"source":"1580","target":"2391","strength":"0.7979383856529465"},{"source":"1582","target":"1584","strength":"0.7363442292707223"},{"source":"1583","target":"1584","strength":"0.7871642789072489"},{"source":"1583","target":"1585","strength":"0.7783082085805734"},{"source":"1583","target":"1899","strength":"0.7727605032904197"},{"source":"1584","target":"1582","strength":"0.7363442292707223"},{"source":"1584","target":"1583","strength":"0.7871642789072489"},{"source":"1585","target":"1583","strength":"0.7783082085805734"},{"source":"1585","target":"1899","strength":"0.7698536759791701"},{"source":"1587","target":"255","strength":"0.7587754572368046"},{"source":"1587","target":"328","strength":"0.8905232247646151"},{"source":"1587","target":"426","strength":"0.7711361510189378"},{"source":"1587","target":"430","strength":"0.7751402502977687"},{"source":"1587","target":"436","strength":"0.8529031865512183"},{"source":"1587","target":"440","strength":"0.7290449333901738"},{"source":"1587","target":"444","strength":"0.7035423110341936"},{"source":"1587","target":"445","strength":"0.7729339993296409"},{"source":"1587","target":"449","strength":"0.7110484418498055"},{"source":"1587","target":"624","strength":"0.7185958043592383"},{"source":"1587","target":"629","strength":"0.727058525478482"},{"source":"1587","target":"632","strength":"0.7080316660058927"},{"source":"1587","target":"633","strength":"0.8225838486395719"},{"source":"1587","target":"634","strength":"0.7422303321840321"},{"source":"1587","target":"637","strength":"0.7925743220296643"},{"source":"1587","target":"641","strength":"0.7302138640317379"},{"source":"1587","target":"707","strength":"0.7047746167991777"},{"source":"1587","target":"892","strength":"0.721084663041701"},{"source":"1587","target":"932","strength":"0.8145591576961347"},{"source":"1587","target":"955","strength":"0.7293480860073158"},{"source":"1587","target":"957","strength":"0.7726214440898579"},{"source":"1587","target":"969","strength":"0.7539120846163362"},{"source":"1587","target":"970","strength":"0.7243356300290488"},{"source":"1587","target":"971","strength":"0.8410913624870525"},{"source":"1587","target":"982","strength":"0.7539122402091654"},{"source":"1587","target":"985","strength":"0.7308474265656859"},{"source":"1587","target":"993","strength":"0.7334523409495792"},{"source":"1587","target":"1013","strength":"0.7287141048819167"},{"source":"1587","target":"1014","strength":"0.7813295773115916"},{"source":"1587","target":"1020","strength":"0.7361140940165751"},{"source":"1587","target":"1043","strength":"0.7685208915121741"},{"source":"1587","target":"1063","strength":"0.7136133708395715"},{"source":"1587","target":"1099","strength":"0.7035507665018933"},{"source":"1587","target":"1649","strength":"0.7102637733701807"},{"source":"1587","target":"1696","strength":"0.7577332417694596"},{"source":"1587","target":"1748","strength":"0.821054660898567"},{"source":"1587","target":"1765","strength":"0.7577332969591914"},{"source":"1587","target":"1794","strength":"0.7867625280592367"},{"source":"1587","target":"2303","strength":"0.7916228308014763"},{"source":"1587","target":"2428","strength":"0.7977916245919655"},{"source":"1589","target":"892","strength":"0.7054131669640041"},{"source":"1589","target":"2428","strength":"0.7006466479693554"},{"source":"1606","target":"215","strength":"0.7507943260029277"},{"source":"1607","target":"1608","strength":"0.7309812960923281"},{"source":"1608","target":"1607","strength":"0.7309812960923281"},{"source":"1610","target":"1734","strength":"0.9999999999999992"},{"source":"1613","target":"1659","strength":"0.7118610080694399"},{"source":"1613","target":"2368","strength":"0.7671241481744024"},{"source":"1617","target":"1575","strength":"0.8021055694573587"},{"source":"1617","target":"1618","strength":"0.8324973946043916"},{"source":"1617","target":"1619","strength":"0.8186253525590489"},{"source":"1617","target":"1620","strength":"0.7850300904677165"},{"source":"1617","target":"1622","strength":"0.8382462199841401"},{"source":"1618","target":"1575","strength":"0.7916869308318503"},{"source":"1618","target":"1577","strength":"0.817026260060026"},{"source":"1618","target":"1617","strength":"0.8324973946043916"},{"source":"1618","target":"1619","strength":"0.8488140804315065"},{"source":"1618","target":"1620","strength":"0.7588929279970293"},{"source":"1618","target":"1622","strength":"0.854126584043313"},{"source":"1618","target":"1869","strength":"0.817026260060026"},{"source":"1619","target":"1575","strength":"0.811240683345694"},{"source":"1619","target":"1617","strength":"0.8186253525590489"},{"source":"1619","target":"1618","strength":"0.8488140804315065"},{"source":"1619","target":"1620","strength":"0.7664545528835729"},{"source":"1619","target":"1621","strength":"0.7227717285456585"},{"source":"1619","target":"1622","strength":"0.8724663237248125"},{"source":"1620","target":"1575","strength":"0.772444439236016"},{"source":"1620","target":"1617","strength":"0.7850300904677165"},{"source":"1620","target":"1618","strength":"0.7588929279970293"},{"source":"1620","target":"1619","strength":"0.7664545528835729"},{"source":"1620","target":"1621","strength":"0.7681200510309157"},{"source":"1620","target":"1622","strength":"0.8043594309856973"},{"source":"1621","target":"1575","strength":"0.7403586993033356"},{"source":"1621","target":"1619","strength":"0.7227717285456585"},{"source":"1621","target":"1620","strength":"0.7681200510309157"},{"source":"1621","target":"1622","strength":"0.7689506260990723"},{"source":"1622","target":"1575","strength":"0.8597852202999683"},{"source":"1622","target":"1617","strength":"0.8382462199841401"},{"source":"1622","target":"1618","strength":"0.854126584043313"},{"source":"1622","target":"1619","strength":"0.8724663237248125"},{"source":"1622","target":"1620","strength":"0.8043594309856973"},{"source":"1622","target":"1621","strength":"0.7689506260990723"},{"source":"1623","target":"1624","strength":"0.9703811814884147"},{"source":"1623","target":"1625","strength":"0.8595693491730525"},{"source":"1623","target":"1626","strength":"0.7342930983528796"},{"source":"1623","target":"1628","strength":"0.7826311888460633"},{"source":"1623","target":"1629","strength":"0.9312691262537167"},{"source":"1624","target":"1623","strength":"0.9703811814884147"},{"source":"1624","target":"1625","strength":"0.8578885371450007"},{"source":"1624","target":"1626","strength":"0.7144196588853482"},{"source":"1624","target":"1628","strength":"0.770024377931062"},{"source":"1624","target":"1629","strength":"0.9436005484895962"},{"source":"1625","target":"1623","strength":"0.8595693491730525"},{"source":"1625","target":"1624","strength":"0.8578885371450007"},{"source":"1625","target":"1628","strength":"0.8230425535280014"},{"source":"1625","target":"1629","strength":"0.833230460272854"},{"source":"1626","target":"1623","strength":"0.7342930983528796"},{"source":"1626","target":"1624","strength":"0.7144196588853482"},{"source":"1626","target":"1629","strength":"0.7106307685876958"},{"source":"1628","target":"1623","strength":"0.7826311888460633"},{"source":"1628","target":"1624","strength":"0.770024377931062"},{"source":"1628","target":"1625","strength":"0.8230425535280014"},{"source":"1628","target":"1629","strength":"0.7890989219651157"},{"source":"1629","target":"1623","strength":"0.9312691262537167"},{"source":"1629","target":"1624","strength":"0.9436005484895962"},{"source":"1629","target":"1625","strength":"0.833230460272854"},{"source":"1629","target":"1626","strength":"0.7106307685876958"},{"source":"1629","target":"1628","strength":"0.7890989219651157"},{"source":"1632","target":"406","strength":"0.7076953883409488"},{"source":"1632","target":"470","strength":"0.7103361234681752"},{"source":"1632","target":"664","strength":"0.7550765050082285"},{"source":"1632","target":"737","strength":"0.7686001722527455"},{"source":"1632","target":"743","strength":"0.7206066001601966"},{"source":"1632","target":"744","strength":"0.7011987971154856"},{"source":"1632","target":"745","strength":"0.769781884052997"},{"source":"1632","target":"837","strength":"0.718247278966624"},{"source":"1632","target":"877","strength":"0.7366648159147255"},{"source":"1632","target":"1026","strength":"0.7579234291752627"},{"source":"1632","target":"1184","strength":"0.7057317640612245"},{"source":"1632","target":"1257","strength":"0.7013466955217185"},{"source":"1632","target":"1339","strength":"0.7244306244104168"},{"source":"1632","target":"1347","strength":"0.7299373619576182"},{"source":"1632","target":"1354","strength":"0.7868385982423913"},{"source":"1632","target":"1443","strength":"0.8048691868992157"},{"source":"1632","target":"1446","strength":"0.7115634578083225"},{"source":"1632","target":"1507","strength":"0.7573400100620624"},{"source":"1632","target":"1516","strength":"0.7076349061843562"},{"source":"1632","target":"1518","strength":"0.7094970237868203"},{"source":"1632","target":"1519","strength":"0.7019822912436554"},{"source":"1632","target":"1521","strength":"0.7153717945365388"},{"source":"1632","target":"1666","strength":"0.7450860818914155"},{"source":"1632","target":"1684","strength":"0.7431052473185203"},{"source":"1632","target":"1730","strength":"0.7400067725888287"},{"source":"1632","target":"1773","strength":"0.7007799187994112"},{"source":"1632","target":"1791","strength":"0.9445366418738185"},{"source":"1632","target":"1799","strength":"0.7159085605294259"},{"source":"1632","target":"2030","strength":"0.7063086506026192"},{"source":"1632","target":"2035","strength":"0.7199002434596365"},{"source":"1632","target":"2046","strength":"0.7455850521920486"},{"source":"1632","target":"2088","strength":"0.7311320527462726"},{"source":"1632","target":"2089","strength":"0.712051345578347"},{"source":"1632","target":"2090","strength":"0.7682804911686113"},{"source":"1632","target":"2253","strength":"0.7259045290202731"},{"source":"1632","target":"2269","strength":"0.7141229941930483"},{"source":"1632","target":"2270","strength":"0.8170161997590865"},{"source":"1632","target":"2353","strength":"0.7056693384798842"},{"source":"1632","target":"2354","strength":"0.7195753323191827"},{"source":"1632","target":"2386","strength":"0.7570629126587142"},{"source":"1632","target":"2387","strength":"0.7158933220582798"},{"source":"1632","target":"2390","strength":"0.7340881028253304"},{"source":"1632","target":"2570","strength":"0.7129979865046505"},{"source":"1632","target":"2576","strength":"0.7214669072586363"},{"source":"1632","target":"2731","strength":"0.7697602443727432"},{"source":"1632","target":"2773","strength":"0.762307997352931"},{"source":"1639","target":"1123","strength":"0.8182972138230508"},{"source":"1639","target":"2345","strength":"0.7889798744574669"},{"source":"1639","target":"2541","strength":"0.7933568850611913"},{"source":"1643","target":"1448","strength":"0.7270581534491309"},{"source":"1645","target":"1196","strength":"0.8107598729717179"},{"source":"1649","target":"436","strength":"0.7376916392501011"},{"source":"1649","target":"641","strength":"0.7202839335561522"},{"source":"1649","target":"892","strength":"0.7400521520405472"},{"source":"1649","target":"1020","strength":"0.7085057441578405"},{"source":"1649","target":"1587","strength":"0.7102637733701807"},{"source":"1649","target":"1794","strength":"0.7252456647998715"},{"source":"1653","target":"1659","strength":"0.7853470881956148"},{"source":"1658","target":"511","strength":"0.700161724699648"},{"source":"1658","target":"886","strength":"0.7222276833818897"},{"source":"1659","target":"452","strength":"0.7488728370745745"},{"source":"1659","target":"1613","strength":"0.7118610080694399"},{"source":"1659","target":"1653","strength":"0.7853470881956148"},{"source":"1659","target":"2368","strength":"0.7383396874209227"},{"source":"1659","target":"2406","strength":"0.736746754295823"},{"source":"1660","target":"2739","strength":"0.7379505007080593"},{"source":"1663","target":"339","strength":"0.7158143034862992"},{"source":"1666","target":"664","strength":"0.721005026638306"},{"source":"1666","target":"877","strength":"0.7206092079567301"},{"source":"1666","target":"1632","strength":"0.7450860818914155"},{"source":"1666","target":"1791","strength":"0.7414000060377239"},{"source":"1666","target":"1956","strength":"0.7319458970816863"},{"source":"1666","target":"1957","strength":"0.7576168576509085"},{"source":"1666","target":"2090","strength":"0.7075733012674186"},{"source":"1666","target":"2269","strength":"0.7358529008102924"},{"source":"1668","target":"1676","strength":"0.770731894686104"},{"source":"1668","target":"1715","strength":"0.7505405889197746"},{"source":"1669","target":"2287","strength":"0.7334213531951329"},{"source":"1671","target":"2257","strength":"0.7059567926715987"},{"source":"1672","target":"1494","strength":"0.708376372697669"},{"source":"1672","target":"1683","strength":"0.8020225667413035"},{"source":"1672","target":"1700","strength":"0.7145635585025836"},{"source":"1673","target":"1769","strength":"0.7121540938221075"},{"source":"1673","target":"1836","strength":"0.7007675002330293"},{"source":"1673","target":"2108","strength":"0.7278298318667368"},{"source":"1673","target":"2273","strength":"0.8088706904326163"},{"source":"1674","target":"418","strength":"0.7952919053061561"},{"source":"1675","target":"1140","strength":"0.7417802012757992"},{"source":"1675","target":"1141","strength":"0.7761408026423116"},{"source":"1675","target":"1142","strength":"0.7772907548282099"},{"source":"1676","target":"743","strength":"0.759008662256963"},{"source":"1676","target":"872","strength":"0.720951350952423"},{"source":"1676","target":"1668","strength":"0.770731894686104"},{"source":"1676","target":"1715","strength":"0.780722533176198"},{"source":"1676","target":"2046","strength":"0.7430171637768008"},{"source":"1677","target":"670","strength":"0.7578297735194462"},{"source":"1677","target":"671","strength":"0.7492318060424404"},{"source":"1677","target":"907","strength":"0.7493891638928821"},{"source":"1677","target":"1021","strength":"0.7045826581792145"},{"source":"1677","target":"1054","strength":"0.7493891638928821"},{"source":"1677","target":"1135","strength":"0.7009138944604071"},{"source":"1677","target":"2721","strength":"0.734552129768442"},{"source":"1678","target":"1338","strength":"0.70215560424507"},{"source":"1680","target":"217","strength":"0.7026097258157508"},{"source":"1680","target":"725","strength":"0.7189941749482224"},{"source":"1680","target":"846","strength":"0.7648794846093375"},{"source":"1680","target":"913","strength":"0.7189714015543129"},{"source":"1680","target":"1007","strength":"0.7341406858533052"},{"source":"1680","target":"1134","strength":"0.7384024809052322"},{"source":"1680","target":"1917","strength":"0.7655480331124294"},{"source":"1680","target":"2340","strength":"0.7288018888006604"},{"source":"1683","target":"1672","strength":"0.8020225667413035"},{"source":"1684","target":"315","strength":"0.7059592630534897"},{"source":"1684","target":"741","strength":"0.7388055114370061"},{"source":"1684","target":"744","strength":"0.7045321021519381"},{"source":"1684","target":"826","strength":"0.7323706185485448"},{"source":"1684","target":"1092","strength":"0.7013587686074789"},{"source":"1684","target":"1184","strength":"0.725537790609321"},{"source":"1684","target":"1205","strength":"0.7479375973906963"},{"source":"1684","target":"1347","strength":"0.7300947831770468"},{"source":"1684","target":"1443","strength":"0.8217299828506512"},{"source":"1684","target":"1632","strength":"0.7431052473185203"},{"source":"1684","target":"1730","strength":"0.7933863203109284"},{"source":"1684","target":"1773","strength":"0.7394821290775405"},{"source":"1684","target":"1791","strength":"0.7411179362938095"},{"source":"1684","target":"1799","strength":"0.7105961351549617"},{"source":"1684","target":"2089","strength":"0.7637164466881928"},{"source":"1684","target":"2090","strength":"0.7354688566485894"},{"source":"1684","target":"2353","strength":"0.7432812310858302"},{"source":"1684","target":"2386","strength":"0.7242194811331591"},{"source":"1684","target":"2390","strength":"0.8343284671163219"},{"source":"1684","target":"2502","strength":"0.7211376783224417"},{"source":"1684","target":"2570","strength":"0.7395200392336415"},{"source":"1684","target":"2576","strength":"0.7517246024408935"},{"source":"1684","target":"2699","strength":"0.8084998309482488"},{"source":"1684","target":"2731","strength":"0.7756793540203982"},{"source":"1684","target":"2773","strength":"0.7174034665354533"},{"source":"1692","target":"911","strength":"0.731235649664215"},{"source":"1692","target":"1170","strength":"0.9504159472021422"},{"source":"1694","target":"1446","strength":"0.7052746076388635"},{"source":"1696","target":"328","strength":"0.7361200643295598"},{"source":"1696","target":"426","strength":"0.7353155497933267"},{"source":"1696","target":"932","strength":"0.7181002890100843"},{"source":"1696","target":"957","strength":"0.7242471744481267"},{"source":"1696","target":"971","strength":"0.7107399363700688"},{"source":"1696","target":"993","strength":"0.7176695651163717"},{"source":"1696","target":"1218","strength":"0.7338365826019275"},{"source":"1696","target":"1220","strength":"0.7338365826019275"},{"source":"1696","target":"1390","strength":"0.7132348712203639"},{"source":"1696","target":"1587","strength":"0.7577332417694596"},{"source":"1696","target":"1765","strength":"0.999999999999531"},{"source":"1700","target":"1672","strength":"0.7145635585025836"},{"source":"1702","target":"242","strength":"0.7405868024488341"},{"source":"1704","target":"1256","strength":"0.7155121217079468"},{"source":"1704","target":"2107","strength":"0.706937064354818"},{"source":"1705","target":"2026","strength":"0.8940445242975784"},{"source":"1706","target":"636","strength":"0.7579678843876948"},{"source":"1706","target":"750","strength":"0.7102858660278774"},{"source":"1706","target":"918","strength":"0.8104849485858634"},{"source":"1711","target":"1850","strength":"0.7907334351608968"},{"source":"1715","target":"1340","strength":"0.7759421518682182"},{"source":"1715","target":"1668","strength":"0.7505405889197746"},{"source":"1715","target":"1676","strength":"0.780722533176198"},{"source":"1716","target":"1935","strength":"0.7240594297074667"},{"source":"1717","target":"965","strength":"0.7044370601063557"},{"source":"1717","target":"1977","strength":"1.0000000000000004"},{"source":"1720","target":"1721","strength":"0.7249906694870913"},{"source":"1720","target":"2325","strength":"0.8538549235326609"},{"source":"1720","target":"2417","strength":"0.7815052210621689"},{"source":"1720","target":"2541","strength":"0.7222689326191581"},{"source":"1721","target":"1720","strength":"0.7249906694870913"},{"source":"1721","target":"2325","strength":"0.7572590368323866"},{"source":"1721","target":"2417","strength":"0.7093721733941534"},{"source":"1721","target":"2541","strength":"0.7387552502981023"},{"source":"1730","target":"831","strength":"0.7095509426670233"},{"source":"1730","target":"1347","strength":"0.7236237878239478"},{"source":"1730","target":"1443","strength":"0.7484869450741048"},{"source":"1730","target":"1632","strength":"0.7400067725888287"},{"source":"1730","target":"1684","strength":"0.7933863203109284"},{"source":"1730","target":"1791","strength":"0.7330480704336314"},{"source":"1730","target":"2390","strength":"0.7294531723111753"},{"source":"1730","target":"2576","strength":"0.7314086255013711"},{"source":"1730","target":"2699","strength":"0.7085675119561048"},{"source":"1730","target":"2731","strength":"0.7316508216746613"},{"source":"1734","target":"1610","strength":"0.9999999999999992"},{"source":"1739","target":"443","strength":"0.7504667277771457"},{"source":"1739","target":"446","strength":"0.714441284751859"},{"source":"1739","target":"708","strength":"0.7105365776735884"},{"source":"1739","target":"771","strength":"0.8183851329354126"},{"source":"1739","target":"881","strength":"0.7766836500088579"},{"source":"1739","target":"952","strength":"0.7118554787516451"},{"source":"1739","target":"990","strength":"0.7054613004391166"},{"source":"1742","target":"622","strength":"0.7062520084039368"},{"source":"1742","target":"1750","strength":"0.7430766736867518"},{"source":"1748","target":"328","strength":"0.7927248417974516"},{"source":"1748","target":"426","strength":"0.7460913844744252"},{"source":"1748","target":"430","strength":"0.7197285179138899"},{"source":"1748","target":"436","strength":"0.8014185178766844"},{"source":"1748","target":"445","strength":"0.7103787320748942"},{"source":"1748","target":"629","strength":"0.7083172212317053"},{"source":"1748","target":"633","strength":"0.733576226080964"},{"source":"1748","target":"634","strength":"0.7655516576422067"},{"source":"1748","target":"637","strength":"0.7162844752977535"},{"source":"1748","target":"931","strength":"0.7143017207680407"},{"source":"1748","target":"932","strength":"0.7358093459187595"},{"source":"1748","target":"955","strength":"0.7378417785526494"},{"source":"1748","target":"971","strength":"0.7587303687998648"},{"source":"1748","target":"993","strength":"0.7240822743270066"},{"source":"1748","target":"1013","strength":"0.7150275766442523"},{"source":"1748","target":"1014","strength":"0.7059949037132969"},{"source":"1748","target":"1020","strength":"0.7178743189385327"},{"source":"1748","target":"1043","strength":"0.700372993008062"},{"source":"1748","target":"1587","strength":"0.821054660898567"},{"source":"1748","target":"1794","strength":"0.7244372853478774"},{"source":"1748","target":"2303","strength":"0.73551440263929"},{"source":"1750","target":"432","strength":"0.7338190447899958"},{"source":"1750","target":"1742","strength":"0.7430766736867518"},{"source":"1752","target":"1753","strength":"0.7269737863766291"},{"source":"1753","target":"1752","strength":"0.7269737863766291"},{"source":"1762","target":"187","strength":"0.7057571232740846"},{"source":"1762","target":"370","strength":"0.7521972441798462"},{"source":"1762","target":"371","strength":"0.762716999650107"},{"source":"1762","target":"372","strength":"0.7392566268799063"},{"source":"1762","target":"1253","strength":"0.748725124606773"},{"source":"1765","target":"328","strength":"0.7361201094824043"},{"source":"1765","target":"426","strength":"0.735315546337822"},{"source":"1765","target":"932","strength":"0.718100344176632"},{"source":"1765","target":"957","strength":"0.7242471671645662"},{"source":"1765","target":"971","strength":"0.7107400003894052"},{"source":"1765","target":"993","strength":"0.7176695606010582"},{"source":"1765","target":"1218","strength":"0.733836574428334"},{"source":"1765","target":"1220","strength":"0.733836574428334"},{"source":"1765","target":"1390","strength":"0.7132348726022747"},{"source":"1765","target":"1587","strength":"0.7577332969591914"},{"source":"1765","target":"1696","strength":"0.999999999999531"},{"source":"1767","target":"328","strength":"0.7126085368214489"},{"source":"1767","target":"923","strength":"0.7003338611858824"},{"source":"1767","target":"2303","strength":"0.7021249680866191"},{"source":"1767","target":"2424","strength":"0.7555921773982642"},{"source":"1769","target":"757","strength":"0.7452005993638966"},{"source":"1769","target":"1673","strength":"0.7121540938221075"},{"source":"1769","target":"2273","strength":"0.7421812402627715"},{"source":"1773","target":"461","strength":"0.7024664098642474"},{"source":"1773","target":"737","strength":"0.7291726180414659"},{"source":"1773","target":"740","strength":"0.7062201942795499"},{"source":"1773","target":"741","strength":"0.8511682862657013"},{"source":"1773","target":"743","strength":"0.8008291989954157"},{"source":"1773","target":"744","strength":"0.838823733010228"},{"source":"1773","target":"826","strength":"0.7835939097939232"},{"source":"1773","target":"836","strength":"0.8419810402626496"},{"source":"1773","target":"1092","strength":"0.7321386021739751"},{"source":"1773","target":"1184","strength":"0.7119212107261493"},{"source":"1773","target":"1339","strength":"0.8017474248656464"},{"source":"1773","target":"1347","strength":"0.8313408823134194"},{"source":"1773","target":"1354","strength":"0.7437112201320576"},{"source":"1773","target":"1443","strength":"0.8034594625828678"},{"source":"1773","target":"1632","strength":"0.7007799187994112"},{"source":"1773","target":"1684","strength":"0.7394821290775405"},{"source":"1773","target":"2046","strength":"0.7762785689425463"},{"source":"1773","target":"2089","strength":"0.7038961529866131"},{"source":"1773","target":"2270","strength":"0.7720246959094561"},{"source":"1773","target":"2353","strength":"0.8338371390443673"},{"source":"1773","target":"2354","strength":"0.721731043745129"},{"source":"1773","target":"2355","strength":"0.7523547192215798"},{"source":"1773","target":"2386","strength":"0.7332546517948897"},{"source":"1773","target":"2449","strength":"0.7461116481444439"},{"source":"1773","target":"2502","strength":"0.7122059905875545"},{"source":"1773","target":"2570","strength":"0.7697322178860471"},{"source":"1773","target":"2576","strength":"0.8579060601108491"},{"source":"1773","target":"2699","strength":"0.7233824732461586"},{"source":"1773","target":"2731","strength":"0.8815779587383703"},{"source":"1773","target":"2773","strength":"0.7946551814613861"},{"source":"1775","target":"1930","strength":"0.9999999999996312"},{"source":"1791","target":"406","strength":"0.7120509480405056"},{"source":"1791","target":"470","strength":"0.7000414673150092"},{"source":"1791","target":"664","strength":"0.769746522257786"},{"source":"1791","target":"737","strength":"0.7563380095597616"},{"source":"1791","target":"745","strength":"0.738948460191919"},{"source":"1791","target":"837","strength":"0.7264937163101925"},{"source":"1791","target":"877","strength":"0.7827547480401756"},{"source":"1791","target":"1026","strength":"0.7539006069583973"},{"source":"1791","target":"1354","strength":"0.7355899758555651"},{"source":"1791","target":"1443","strength":"0.7849732510576394"},{"source":"1791","target":"1507","strength":"0.7496136487410795"},{"source":"1791","target":"1632","strength":"0.9445366418738185"},{"source":"1791","target":"1666","strength":"0.7414000060377239"},{"source":"1791","target":"1684","strength":"0.7411179362938095"},{"source":"1791","target":"1730","strength":"0.7330480704336314"},{"source":"1791","target":"1799","strength":"0.7220019708092926"},{"source":"1791","target":"2030","strength":"0.729383989865222"},{"source":"1791","target":"2035","strength":"0.7020337595662863"},{"source":"1791","target":"2046","strength":"0.7033734722167323"},{"source":"1791","target":"2088","strength":"0.7370859425538612"},{"source":"1791","target":"2090","strength":"0.7643067926354981"},{"source":"1791","target":"2253","strength":"0.7147343984129382"},{"source":"1791","target":"2270","strength":"0.7634220753395486"},{"source":"1791","target":"2386","strength":"0.732933211915122"},{"source":"1791","target":"2390","strength":"0.7268041243912736"},{"source":"1791","target":"2731","strength":"0.7203490018696174"},{"source":"1791","target":"2773","strength":"0.7188912227165851"},{"source":"1792","target":"570","strength":"0.7210532592136428"},{"source":"1794","target":"276","strength":"0.7238170346622561"},{"source":"1794","target":"328","strength":"0.7109386511799016"},{"source":"1794","target":"436","strength":"0.8905784864195085"},{"source":"1794","target":"454","strength":"0.7234761801822773"},{"source":"1794","target":"616","strength":"0.7336288836927577"},{"source":"1794","target":"617","strength":"0.7199963821804669"},{"source":"1794","target":"620","strength":"0.732983060422596"},{"source":"1794","target":"621","strength":"0.701310969096609"},{"source":"1794","target":"626","strength":"0.7039088129992901"},{"source":"1794","target":"634","strength":"0.7475110831367051"},{"source":"1794","target":"636","strength":"0.7241830848153884"},{"source":"1794","target":"918","strength":"0.7188755505822935"},{"source":"1794","target":"971","strength":"0.7087206448572265"},{"source":"1794","target":"985","strength":"0.7540500500041294"},{"source":"1794","target":"1014","strength":"0.7327617511269876"},{"source":"1794","target":"1020","strength":"0.8048694832799932"},{"source":"1794","target":"1043","strength":"0.7108974662883277"},{"source":"1794","target":"1587","strength":"0.7867625280592367"},{"source":"1794","target":"1649","strength":"0.7252456647998715"},{"source":"1794","target":"1748","strength":"0.7244372853478774"},{"source":"1794","target":"2303","strength":"0.7022089409344094"},{"source":"1799","target":"315","strength":"0.75754767187121"},{"source":"1799","target":"461","strength":"0.7217281413964781"},{"source":"1799","target":"651","strength":"0.7938308686562041"},{"source":"1799","target":"737","strength":"0.709909774009714"},{"source":"1799","target":"1117","strength":"0.7137900991995235"},{"source":"1799","target":"1443","strength":"0.7030777715280753"},{"source":"1799","target":"1507","strength":"0.7018509104125896"},{"source":"1799","target":"1632","strength":"0.7159085605294259"},{"source":"1799","target":"1684","strength":"0.7105961351549617"},{"source":"1799","target":"1791","strength":"0.7220019708092926"},{"source":"1799","target":"1841","strength":"0.7299892533847969"},{"source":"1799","target":"2087","strength":"0.7961534390299391"},{"source":"1799","target":"2088","strength":"0.8100301251578634"},{"source":"1799","target":"2089","strength":"0.7417402564004199"},{"source":"1799","target":"2090","strength":"0.8020194884254832"},{"source":"1799","target":"2091","strength":"0.7066281432945501"},{"source":"1799","target":"2092","strength":"0.7520887038335807"},{"source":"1799","target":"2267","strength":"0.7961534390299391"},{"source":"1799","target":"2386","strength":"0.7388241820011784"},{"source":"1799","target":"2699","strength":"0.7073116989685325"},{"source":"1805","target":"1068","strength":"0.7714943887098641"},{"source":"1805","target":"1427","strength":"0.7106751545680433"},{"source":"1805","target":"1807","strength":"0.704961602954699"},{"source":"1805","target":"1855","strength":"0.721913152363515"},{"source":"1806","target":"1809","strength":"0.7682728179719522"},{"source":"1806","target":"1856","strength":"1.0000000000000004"},{"source":"1807","target":"1805","strength":"0.704961602954699"},{"source":"1807","target":"1808","strength":"0.7187292077901537"},{"source":"1807","target":"1855","strength":"0.7032410431873065"},{"source":"1808","target":"1579","strength":"0.7001700991660668"},{"source":"1808","target":"1807","strength":"0.7187292077901537"},{"source":"1809","target":"1806","strength":"0.7682728179719522"},{"source":"1809","target":"1856","strength":"0.7682728179719522"},{"source":"1818","target":"2389","strength":"0.7231001462580466"},{"source":"1823","target":"1478","strength":"0.7087508225630099"},{"source":"1826","target":"393","strength":"0.7429527865394503"},{"source":"1826","target":"730","strength":"0.7422074795081859"},{"source":"1826","target":"1052","strength":"0.7121261606389655"},{"source":"1828","target":"1830","strength":"0.7343748622004987"},{"source":"1828","target":"1832","strength":"0.7849314477000732"},{"source":"1829","target":"1830","strength":"0.8049410916952962"},{"source":"1829","target":"1831","strength":"0.86982708052967"},{"source":"1829","target":"1832","strength":"0.8079631814511454"},{"source":"1830","target":"1828","strength":"0.7343748622004987"},{"source":"1830","target":"1829","strength":"0.8049410916952962"},{"source":"1830","target":"1831","strength":"0.8958147085574589"},{"source":"1830","target":"1832","strength":"0.8997222298674659"},{"source":"1831","target":"1829","strength":"0.86982708052967"},{"source":"1831","target":"1830","strength":"0.8958147085574589"},{"source":"1831","target":"1832","strength":"0.9012455820419969"},{"source":"1832","target":"1828","strength":"0.7849314477000732"},{"source":"1832","target":"1829","strength":"0.8079631814511454"},{"source":"1832","target":"1830","strength":"0.8997222298674659"},{"source":"1832","target":"1831","strength":"0.9012455820419969"},{"source":"1836","target":"1673","strength":"0.7007675002330293"},{"source":"1836","target":"2273","strength":"0.7415514135538923"},{"source":"1839","target":"993","strength":"0.7038397589931036"},{"source":"1841","target":"315","strength":"0.7130130806127708"},{"source":"1841","target":"406","strength":"0.7202029101303496"},{"source":"1841","target":"461","strength":"0.7396345072387036"},{"source":"1841","target":"651","strength":"0.7564138786055578"},{"source":"1841","target":"745","strength":"0.7032609361597977"},{"source":"1841","target":"837","strength":"0.7260813470041753"},{"source":"1841","target":"1026","strength":"0.7686996935767633"},{"source":"1841","target":"1159","strength":"0.8018925403931366"},{"source":"1841","target":"1184","strength":"0.73660078063031"},{"source":"1841","target":"1257","strength":"0.7762346553896903"},{"source":"1841","target":"1799","strength":"0.7299892533847969"},{"source":"1841","target":"2088","strength":"0.7383908790548684"},{"source":"1841","target":"2090","strength":"0.8425862717999137"},{"source":"1841","target":"2091","strength":"0.819826599235964"},{"source":"1841","target":"2092","strength":"0.7286276516514116"},{"source":"1841","target":"2386","strength":"0.7616186318837941"},{"source":"1841","target":"2387","strength":"0.7121124038185641"},{"source":"1843","target":"1130","strength":"0.7047526717300535"},{"source":"1843","target":"1972","strength":"0.7423445956493123"},{"source":"1846","target":"1409","strength":"0.7476849528328935"},{"source":"1846","target":"1482","strength":"0.7082719762607866"},{"source":"1850","target":"1711","strength":"0.7907334351608968"},{"source":"1852","target":"1853","strength":"0.7168309580109231"},{"source":"1853","target":"1852","strength":"0.7168309580109231"},{"source":"1855","target":"1805","strength":"0.721913152363515"},{"source":"1855","target":"1807","strength":"0.7032410431873065"},{"source":"1856","target":"1806","strength":"1.0000000000000004"},{"source":"1856","target":"1809","strength":"0.7682728179719522"},{"source":"1857","target":"1558","strength":"1.0000000000000013"},{"source":"1858","target":"1551","strength":"0.7968525145586232"},{"source":"1858","target":"1552","strength":"0.7968525145586232"},{"source":"1858","target":"1564","strength":"0.7108539556473511"},{"source":"1863","target":"1549","strength":"0.7225525687128278"},{"source":"1864","target":"1867","strength":"0.799103795208753"},{"source":"1867","target":"1864","strength":"0.799103795208753"},{"source":"1868","target":"1549","strength":"0.7064415332027327"},{"source":"1869","target":"1577","strength":"1.0000000000000009"},{"source":"1869","target":"1618","strength":"0.817026260060026"},{"source":"1870","target":"1576","strength":"0.7143538998985114"},{"source":"1870","target":"1871","strength":"0.8768490210107474"},{"source":"1870","target":"1875","strength":"0.8304924695329986"},{"source":"1870","target":"1890","strength":"0.7448564198273451"},{"source":"1871","target":"1870","strength":"0.8768490210107474"},{"source":"1871","target":"1873","strength":"0.8025830703160226"},{"source":"1871","target":"1874","strength":"0.7525801542076196"},{"source":"1871","target":"1875","strength":"0.7676596468817274"},{"source":"1871","target":"1877","strength":"0.808275373119293"},{"source":"1871","target":"1884","strength":"0.7109455287523662"},{"source":"1871","target":"1888","strength":"0.7491308879057477"},{"source":"1873","target":"1871","strength":"0.8025830703160226"},{"source":"1873","target":"1876","strength":"0.7706150043308408"},{"source":"1873","target":"1877","strength":"0.9308166887901386"},{"source":"1873","target":"1878","strength":"0.8073654936355132"},{"source":"1873","target":"1886","strength":"0.7354025223528847"},{"source":"1873","target":"1893","strength":"0.7146163573798517"},{"source":"1873","target":"1898","strength":"0.7128961577693141"},{"source":"1874","target":"1871","strength":"0.7525801542076196"},{"source":"1875","target":"1870","strength":"0.8304924695329986"},{"source":"1875","target":"1871","strength":"0.7676596468817274"},{"source":"1876","target":"1873","strength":"0.7706150043308408"},{"source":"1876","target":"1878","strength":"0.9124509491730809"},{"source":"1876","target":"1882","strength":"0.7790885062420242"},{"source":"1876","target":"1886","strength":"0.7526540223944008"},{"source":"1876","target":"1893","strength":"0.708090937590485"},{"source":"1876","target":"1898","strength":"0.7744501743419019"},{"source":"1877","target":"1871","strength":"0.808275373119293"},{"source":"1877","target":"1873","strength":"0.9308166887901386"},{"source":"1877","target":"1878","strength":"0.7025090287612195"},{"source":"1877","target":"1886","strength":"0.730896161054403"},{"source":"1877","target":"1888","strength":"0.703038489212763"},{"source":"1878","target":"1873","strength":"0.8073654936355132"},{"source":"1878","target":"1876","strength":"0.9124509491730809"},{"source":"1878","target":"1877","strength":"0.7025090287612195"},{"source":"1878","target":"1880","strength":"0.7210994119683294"},{"source":"1878","target":"1882","strength":"0.7797436275842851"},{"source":"1878","target":"1886","strength":"0.7587555555358177"},{"source":"1878","target":"1893","strength":"0.7350393186882545"},{"source":"1878","target":"1898","strength":"0.7868788798263628"},{"source":"1879","target":"1881","strength":"0.7206918108087902"},{"source":"1879","target":"1885","strength":"0.772902696486411"},{"source":"1880","target":"1878","strength":"0.7210994119683294"},{"source":"1881","target":"1879","strength":"0.7206918108087902"},{"source":"1882","target":"1876","strength":"0.7790885062420242"},{"source":"1882","target":"1878","strength":"0.7797436275842851"},{"source":"1882","target":"1886","strength":"0.7814999302727088"},{"source":"1882","target":"1898","strength":"0.7772165018371562"},{"source":"1884","target":"1871","strength":"0.7109455287523662"},{"source":"1885","target":"1879","strength":"0.772902696486411"},{"source":"1886","target":"1873","strength":"0.7354025223528847"},{"source":"1886","target":"1876","strength":"0.7526540223944008"},{"source":"1886","target":"1877","strength":"0.730896161054403"},{"source":"1886","target":"1878","strength":"0.7587555555358177"},{"source":"1886","target":"1882","strength":"0.7814999302727088"},{"source":"1886","target":"1898","strength":"0.7088417311682227"},{"source":"1887","target":"1892","strength":"0.753036696032858"},{"source":"1888","target":"1871","strength":"0.7491308879057477"},{"source":"1888","target":"1877","strength":"0.703038489212763"},{"source":"1890","target":"1870","strength":"0.7448564198273451"},{"source":"1891","target":"1895","strength":"0.7383859672423185"},{"source":"1892","target":"1887","strength":"0.753036696032858"},{"source":"1892","target":"1895","strength":"0.7881504636416529"},{"source":"1893","target":"1873","strength":"0.7146163573798517"},{"source":"1893","target":"1876","strength":"0.708090937590485"},{"source":"1893","target":"1878","strength":"0.7350393186882545"},{"source":"1895","target":"1891","strength":"0.7383859672423185"},{"source":"1895","target":"1892","strength":"0.7881504636416529"},{"source":"1898","target":"1873","strength":"0.7128961577693141"},{"source":"1898","target":"1876","strength":"0.7744501743419019"},{"source":"1898","target":"1878","strength":"0.7868788798263628"},{"source":"1898","target":"1882","strength":"0.7772165018371562"},{"source":"1898","target":"1886","strength":"0.7088417311682227"},{"source":"1899","target":"1583","strength":"0.7727605032904197"},{"source":"1899","target":"1585","strength":"0.7698536759791701"},{"source":"1902","target":"1231","strength":"0.7042481028805011"},{"source":"1907","target":"1451","strength":"0.7868213232292411"},{"source":"1907","target":"2217","strength":"0.7151867957197483"},{"source":"1907","target":"2777","strength":"0.8328730762007964"},{"source":"1908","target":"1909","strength":"0.9662250779708872"},{"source":"1909","target":"1908","strength":"0.9662250779708872"},{"source":"1910","target":"2227","strength":"0.7925882517916449"},{"source":"1912","target":"870","strength":"0.7547181517860475"},{"source":"1912","target":"945","strength":"0.7075548210822346"},{"source":"1912","target":"1094","strength":"0.7162943945806551"},{"source":"1912","target":"2377","strength":"0.7945190887187883"},{"source":"1912","target":"2720","strength":"0.795150220308985"},{"source":"1913","target":"1076","strength":"0.7104458399831931"},{"source":"1915","target":"426","strength":"0.75296251760334"},{"source":"1915","target":"2494","strength":"0.7281121268914601"},{"source":"1916","target":"2017","strength":"0.7348434624069666"},{"source":"1917","target":"725","strength":"0.7076234452968246"},{"source":"1917","target":"846","strength":"0.7643319721385268"},{"source":"1917","target":"913","strength":"0.7078991481059151"},{"source":"1917","target":"1134","strength":"0.7333980635233116"},{"source":"1917","target":"1680","strength":"0.7655480331124294"},{"source":"1917","target":"2340","strength":"0.7793722446942958"},{"source":"1918","target":"1328","strength":"0.7388265034955078"},{"source":"1926","target":"1299","strength":"0.7054988565541473"},{"source":"1928","target":"1158","strength":"0.7042666915818115"},{"source":"1929","target":"2177","strength":"0.8683932485767514"},{"source":"1930","target":"1775","strength":"0.9999999999996312"},{"source":"1935","target":"1716","strength":"0.7240594297074667"},{"source":"1938","target":"561","strength":"0.8247328730644519"},{"source":"1945","target":"2189","strength":"0.7051070518792385"},{"source":"1950","target":"1966","strength":"0.9186852876291954"},{"source":"1951","target":"406","strength":"0.71655055026766"},{"source":"1951","target":"470","strength":"0.715447548069338"},{"source":"1951","target":"652","strength":"0.7402928648535984"},{"source":"1951","target":"664","strength":"0.7615442115150046"},{"source":"1951","target":"745","strength":"0.7124095970776898"},{"source":"1951","target":"837","strength":"0.74446695813931"},{"source":"1951","target":"1034","strength":"0.8018928790180827"},{"source":"1951","target":"1445","strength":"0.7150724279362377"},{"source":"1951","target":"2090","strength":"0.7375504751225374"},{"source":"1952","target":"1223","strength":"0.7069897706203687"},{"source":"1953","target":"441","strength":"0.7663407462266579"},{"source":"1954","target":"1972","strength":"0.8767589228012966"},{"source":"1954","target":"2423","strength":"0.7397432923310531"},{"source":"1956","target":"664","strength":"0.7182245841241952"},{"source":"1956","target":"1034","strength":"0.7263396940060126"},{"source":"1956","target":"1666","strength":"0.7319458970816863"},{"source":"1956","target":"1957","strength":"0.8595710566579385"},{"source":"1956","target":"1999","strength":"0.7171847375289415"},{"source":"1956","target":"2211","strength":"0.8025768655382699"},{"source":"1956","target":"2269","strength":"0.7549710145679509"},{"source":"1957","target":"1034","strength":"0.7274123349193264"},{"source":"1957","target":"1161","strength":"0.7006998260681915"},{"source":"1957","target":"1666","strength":"0.7576168576509085"},{"source":"1957","target":"1956","strength":"0.8595710566579385"},{"source":"1957","target":"2211","strength":"0.92245868074523"},{"source":"1960","target":"1961","strength":"0.7877307770892993"},{"source":"1960","target":"2683","strength":"0.8087288389288362"},{"source":"1961","target":"1960","strength":"0.7877307770892993"},{"source":"1961","target":"2683","strength":"0.8411235339220622"},{"source":"1966","target":"1950","strength":"0.9186852876291954"},{"source":"1970","target":"170","strength":"0.7206463419179134"},{"source":"1972","target":"1843","strength":"0.7423445956493123"},{"source":"1972","target":"1954","strength":"0.8767589228012966"},{"source":"1972","target":"2423","strength":"0.7285963810669991"},{"source":"1977","target":"965","strength":"0.7044370601063557"},{"source":"1977","target":"1717","strength":"1.0000000000000004"},{"source":"1978","target":"1466","strength":"0.726091748428607"},{"source":"1978","target":"1980","strength":"0.7667120306643519"},{"source":"1979","target":"671","strength":"0.7459257605106197"},{"source":"1980","target":"1466","strength":"0.7089248166089058"},{"source":"1980","target":"1978","strength":"0.7667120306643519"},{"source":"1982","target":"1986","strength":"0.7083168972435339"},{"source":"1986","target":"1982","strength":"0.7083168972435339"},{"source":"1999","target":"524","strength":"0.8919282556462438"},{"source":"1999","target":"664","strength":"0.7409989393540997"},{"source":"1999","target":"709","strength":"0.7980472484136454"},{"source":"1999","target":"712","strength":"0.7109405937888376"},{"source":"1999","target":"830","strength":"0.7486355930341213"},{"source":"1999","target":"1050","strength":"0.7740816711823687"},{"source":"1999","target":"1956","strength":"0.7171847375289415"},{"source":"1999","target":"2180","strength":"0.7917628276241531"},{"source":"1999","target":"2749","strength":"0.8505217696652853"},{"source":"2001","target":"2504","strength":"0.7050352136792704"},{"source":"2001","target":"2580","strength":"0.738977718683411"},{"source":"2007","target":"389","strength":"0.7786997570106461"},{"source":"2012","target":"2420","strength":"0.7187086977622158"},{"source":"2017","target":"1916","strength":"0.7348434624069666"},{"source":"2025","target":"591","strength":"0.7628433034827923"},{"source":"2025","target":"602","strength":"0.7285520527977523"},{"source":"2026","target":"1705","strength":"0.8940445242975784"},{"source":"2030","target":"406","strength":"0.7255671724460889"},{"source":"2030","target":"664","strength":"0.7322778761440568"},{"source":"2030","target":"837","strength":"0.7500191525341049"},{"source":"2030","target":"877","strength":"0.7504078804060108"},{"source":"2030","target":"1026","strength":"0.7266896348332992"},{"source":"2030","target":"1632","strength":"0.7063086506026192"},{"source":"2030","target":"1791","strength":"0.729383989865222"},{"source":"2030","target":"2090","strength":"0.7665519288628111"},{"source":"2030","target":"2387","strength":"0.7081597910204763"},{"source":"2035","target":"1632","strength":"0.7199002434596365"},{"source":"2035","target":"1791","strength":"0.7020337595662863"},{"source":"2035","target":"2253","strength":"0.7133461486666578"},{"source":"2037","target":"1470","strength":"0.7399345982759016"},{"source":"2043","target":"999","strength":"0.7100945310497473"},{"source":"2044","target":"664","strength":"0.7000197549172567"},{"source":"2044","target":"2488","strength":"0.7383273325027072"},{"source":"2044","target":"2585","strength":"0.7388234407680342"},{"source":"2046","target":"737","strength":"0.7468858294996683"},{"source":"2046","target":"738","strength":"0.7016610890171207"},{"source":"2046","target":"739","strength":"0.7055192381918721"},{"source":"2046","target":"740","strength":"0.7442235998870096"},{"source":"2046","target":"741","strength":"0.7636419735231509"},{"source":"2046","target":"743","strength":"0.8676749744907968"},{"source":"2046","target":"744","strength":"0.7702865856107245"},{"source":"2046","target":"826","strength":"0.8413491445402475"},{"source":"2046","target":"836","strength":"0.7489395054143351"},{"source":"2046","target":"872","strength":"0.7135209769715251"},{"source":"2046","target":"1092","strength":"0.8038453974104625"},{"source":"2046","target":"1184","strength":"0.7320205371055192"},{"source":"2046","target":"1339","strength":"0.8235201811409176"},{"source":"2046","target":"1340","strength":"0.7092474731889559"},{"source":"2046","target":"1347","strength":"0.7669243084247539"},{"source":"2046","target":"1354","strength":"0.7282356670466344"},{"source":"2046","target":"1443","strength":"0.7568596983893964"},{"source":"2046","target":"1516","strength":"0.7307461018929902"},{"source":"2046","target":"1518","strength":"0.7847267402445981"},{"source":"2046","target":"1521","strength":"0.7902594499119107"},{"source":"2046","target":"1632","strength":"0.7455850521920486"},{"source":"2046","target":"1676","strength":"0.7430171637768008"},{"source":"2046","target":"1773","strength":"0.7762785689425463"},{"source":"2046","target":"1791","strength":"0.7033734722167323"},{"source":"2046","target":"2089","strength":"0.7041837507796428"},{"source":"2046","target":"2090","strength":"0.7383920302717968"},{"source":"2046","target":"2270","strength":"0.8086919941300963"},{"source":"2046","target":"2353","strength":"0.7763300081792232"},{"source":"2046","target":"2354","strength":"0.7740438023918066"},{"source":"2046","target":"2355","strength":"0.7166879752010823"},{"source":"2046","target":"2386","strength":"0.7058993026394784"},{"source":"2046","target":"2449","strength":"0.7818242240400171"},{"source":"2046","target":"2502","strength":"0.7309796736126515"},{"source":"2046","target":"2570","strength":"0.7814486491658944"},{"source":"2046","target":"2576","strength":"0.7712599003519591"},{"source":"2046","target":"2731","strength":"0.8229483170383218"},{"source":"2046","target":"2773","strength":"0.8858906135333402"},{"source":"2048","target":"738","strength":"0.7461911729462973"},{"source":"2048","target":"742","strength":"0.7639924693295765"},{"source":"2048","target":"743","strength":"0.7044289097649095"},{"source":"2048","target":"2444","strength":"0.7324057952152617"},{"source":"2053","target":"2096","strength":"1.000000000000001"},{"source":"2060","target":"2108","strength":"0.714452328825427"},{"source":"2060","target":"2268","strength":"0.7695427176053543"},{"source":"2060","target":"2274","strength":"0.7655426444310208"},{"source":"2060","target":"2321","strength":"0.7129372807162991"},{"source":"2066","target":"2067","strength":"0.9541186095289566"},{"source":"2067","target":"2066","strength":"0.9541186095289566"},{"source":"2069","target":"2148","strength":"0.7100474974885058"},{"source":"2072","target":"2073","strength":"0.8050269701883161"},{"source":"2073","target":"2072","strength":"0.8050269701883161"},{"source":"2083","target":"621","strength":"0.7173003298904057"},{"source":"2087","target":"315","strength":"0.7942924497421068"},{"source":"2087","target":"461","strength":"0.7419387098065279"},{"source":"2087","target":"651","strength":"0.8424438094865632"},{"source":"2087","target":"654","strength":"0.7412696349207621"},{"source":"2087","target":"829","strength":"0.7346535184605961"},{"source":"2087","target":"1165","strength":"0.7562780679021619"},{"source":"2087","target":"1257","strength":"0.7323224038807084"},{"source":"2087","target":"1799","strength":"0.7961534390299391"},{"source":"2087","target":"2088","strength":"0.852990251245437"},{"source":"2087","target":"2090","strength":"0.7014650711288339"},{"source":"2087","target":"2091","strength":"0.7733252901580345"},{"source":"2087","target":"2092","strength":"0.9081655847496332"},{"source":"2087","target":"2267","strength":"1.000000000000001"},{"source":"2088","target":"315","strength":"0.775040268064175"},{"source":"2088","target":"461","strength":"0.7091542553302261"},{"source":"2088","target":"651","strength":"0.7748462406701941"},{"source":"2088","target":"654","strength":"0.7325312901143117"},{"source":"2088","target":"1159","strength":"0.7044286450006926"},{"source":"2088","target":"1257","strength":"0.7133567606430596"},{"source":"2088","target":"1632","strength":"0.7311320527462726"},{"source":"2088","target":"1791","strength":"0.7370859425538612"},{"source":"2088","target":"1799","strength":"0.8100301251578634"},{"source":"2088","target":"1841","strength":"0.7383908790548684"},{"source":"2088","target":"2087","strength":"0.852990251245437"},{"source":"2088","target":"2089","strength":"0.7609473238059432"},{"source":"2088","target":"2090","strength":"0.7931241951768638"},{"source":"2088","target":"2091","strength":"0.7977773522145685"},{"source":"2088","target":"2092","strength":"0.8090360465125319"},{"source":"2088","target":"2267","strength":"0.852990251245437"},{"source":"2089","target":"315","strength":"0.7648773206825165"},{"source":"2089","target":"485","strength":"0.7276222854468409"},{"source":"2089","target":"1184","strength":"0.7372658001361312"},{"source":"2089","target":"1205","strength":"0.7688951437264302"},{"source":"2089","target":"1339","strength":"0.7251263156077152"},{"source":"2089","target":"1347","strength":"0.7099831360207653"},{"source":"2089","target":"1443","strength":"0.765823907504388"},{"source":"2089","target":"1632","strength":"0.712051345578347"},{"source":"2089","target":"1684","strength":"0.7637164466881928"},{"source":"2089","target":"1773","strength":"0.7038961529866131"},{"source":"2089","target":"1799","strength":"0.7417402564004199"},{"source":"2089","target":"2046","strength":"0.7041837507796428"},{"source":"2089","target":"2088","strength":"0.7609473238059432"},{"source":"2089","target":"2090","strength":"0.8602954718374534"},{"source":"2089","target":"2253","strength":"0.7086224024330279"},{"source":"2089","target":"2354","strength":"0.7183111914424702"},{"source":"2089","target":"2387","strength":"0.7738936313997437"},{"source":"2089","target":"2390","strength":"0.7580158820011271"},{"source":"2089","target":"2502","strength":"0.7352058194631719"},{"source":"2089","target":"2570","strength":"0.7068975480612011"},{"source":"2089","target":"2576","strength":"0.7056284700204314"},{"source":"2089","target":"2699","strength":"0.783439729161639"},{"source":"2089","target":"2731","strength":"0.7444938272323476"},{"source":"2089","target":"2773","strength":"0.7110745620956223"},{"source":"2090","target":"315","strength":"0.733117135259506"},{"source":"2090","target":"406","strength":"0.7604821775823313"},{"source":"2090","target":"461","strength":"0.7550180080596774"},{"source":"2090","target":"470","strength":"0.7091291120824452"},{"source":"2090","target":"651","strength":"0.7729203628119394"},{"source":"2090","target":"664","strength":"0.7676228994061515"},{"source":"2090","target":"737","strength":"0.7759452714377572"},{"source":"2090","target":"745","strength":"0.756667034983229"},{"source":"2090","target":"836","strength":"0.7048038191718726"},{"source":"2090","target":"837","strength":"0.7611415052928516"},{"source":"2090","target":"872","strength":"0.7225678865653565"},{"source":"2090","target":"877","strength":"0.7912140491655978"},{"source":"2090","target":"1026","strength":"0.7688893314530744"},{"source":"2090","target":"1117","strength":"0.7167716759425555"},{"source":"2090","target":"1159","strength":"0.727342351361803"},{"source":"2090","target":"1184","strength":"0.7940018069513118"},{"source":"2090","target":"1205","strength":"0.7121287607164293"},{"source":"2090","target":"1257","strength":"0.7486988558292665"},{"source":"2090","target":"1339","strength":"0.7002399084529463"},{"source":"2090","target":"1347","strength":"0.724270901518758"},{"source":"2090","target":"1443","strength":"0.7851948412023915"},{"source":"2090","target":"1507","strength":"0.744980719774169"},{"source":"2090","target":"1632","strength":"0.7682804911686113"},{"source":"2090","target":"1666","strength":"0.7075733012674186"},{"source":"2090","target":"1684","strength":"0.7354688566485894"},{"source":"2090","target":"1791","strength":"0.7643067926354981"},{"source":"2090","target":"1799","strength":"0.8020194884254832"},{"source":"2090","target":"1841","strength":"0.8425862717999137"},{"source":"2090","target":"1951","strength":"0.7375504751225374"},{"source":"2090","target":"2030","strength":"0.7665519288628111"},{"source":"2090","target":"2046","strength":"0.7383920302717968"},{"source":"2090","target":"2087","strength":"0.7014650711288339"},{"source":"2090","target":"2088","strength":"0.7931241951768638"},{"source":"2090","target":"2089","strength":"0.8602954718374534"},{"source":"2090","target":"2091","strength":"0.7920701026109411"},{"source":"2090","target":"2092","strength":"0.7446808212527021"},{"source":"2090","target":"2253","strength":"0.721414520681425"},{"source":"2090","target":"2267","strength":"0.7014650711288339"},{"source":"2090","target":"2352","strength":"0.7357210700980035"},{"source":"2090","target":"2354","strength":"0.7081239097666597"},{"source":"2090","target":"2386","strength":"0.7838816498018976"},{"source":"2090","target":"2387","strength":"0.8446026235993382"},{"source":"2090","target":"2488","strength":"0.7052964317800677"},{"source":"2090","target":"2502","strength":"0.7077347950044763"},{"source":"2090","target":"2570","strength":"0.7103927642232789"},{"source":"2090","target":"2699","strength":"0.7190565427734243"},{"source":"2090","target":"2731","strength":"0.7269932156122353"},{"source":"2090","target":"2773","strength":"0.7227011564157904"},{"source":"2091","target":"315","strength":"0.7534487386208187"},{"source":"2091","target":"461","strength":"0.7329253983384895"},{"source":"2091","target":"651","strength":"0.8161631227374214"},{"source":"2091","target":"654","strength":"0.7089459917413918"},{"source":"2091","target":"827","strength":"0.7211748761471217"},{"source":"2091","target":"837","strength":"0.7010664027726909"},{"source":"2091","target":"1026","strength":"0.7077404198612581"},{"source":"2091","target":"1159","strength":"0.7963014571856313"},{"source":"2091","target":"1257","strength":"0.795087967060612"},{"source":"2091","target":"1799","strength":"0.7066281432945501"},{"source":"2091","target":"1841","strength":"0.819826599235964"},{"source":"2091","target":"2087","strength":"0.7733252901580345"},{"source":"2091","target":"2088","strength":"0.7977773522145685"},{"source":"2091","target":"2090","strength":"0.7920701026109411"},{"source":"2091","target":"2092","strength":"0.790375171499814"},{"source":"2091","target":"2267","strength":"0.7733252901580345"},{"source":"2091","target":"2386","strength":"0.7082022817971243"},{"source":"2092","target":"315","strength":"0.7199368494100408"},{"source":"2092","target":"461","strength":"0.7767716800614307"},{"source":"2092","target":"651","strength":"0.85319969049404"},{"source":"2092","target":"654","strength":"0.7938189121662353"},{"source":"2092","target":"829","strength":"0.7507593195409045"},{"source":"2092","target":"1026","strength":"0.7004374695414575"},{"source":"2092","target":"1257","strength":"0.7785898736858485"},{"source":"2092","target":"1541","strength":"0.7231989724594846"},{"source":"2092","target":"1799","strength":"0.7520887038335807"},{"source":"2092","target":"1841","strength":"0.7286276516514116"},{"source":"2092","target":"2087","strength":"0.9081655847496332"},{"source":"2092","target":"2088","strength":"0.8090360465125319"},{"source":"2092","target":"2090","strength":"0.7446808212527021"},{"source":"2092","target":"2091","strength":"0.790375171499814"},{"source":"2092","target":"2267","strength":"0.9081655847496332"},{"source":"2092","target":"2386","strength":"0.7317363853131447"},{"source":"2096","target":"2053","strength":"1.000000000000001"},{"source":"2098","target":"875","strength":"0.7044151372811952"},{"source":"2105","target":"396","strength":"0.7086097340830202"},{"source":"2107","target":"1704","strength":"0.706937064354818"},{"source":"2108","target":"1673","strength":"0.7278298318667368"},{"source":"2108","target":"2060","strength":"0.714452328825427"},{"source":"2108","target":"2268","strength":"0.7222801291472508"},{"source":"2108","target":"2273","strength":"0.7459054891438812"},{"source":"2108","target":"2321","strength":"0.7685744231208522"},{"source":"2116","target":"2308","strength":"0.7898852933884271"},{"source":"2116","target":"2314","strength":"0.7228864445126663"},{"source":"2119","target":"2148","strength":"0.744259538665019"},{"source":"2131","target":"555","strength":"0.7640893620279288"},{"source":"2131","target":"2434","strength":"0.7258586680082065"},{"source":"2131","target":"2750","strength":"0.7574225303054111"},{"source":"2133","target":"1131","strength":"0.7087694601989718"},{"source":"2138","target":"2139","strength":"0.8685255750985068"},{"source":"2139","target":"2138","strength":"0.8685255750985068"},{"source":"2148","target":"2069","strength":"0.7100474974885058"},{"source":"2148","target":"2119","strength":"0.744259538665019"},{"source":"2157","target":"1492","strength":"0.710301866143912"},{"source":"2158","target":"2159","strength":"1.0"},{"source":"2159","target":"2158","strength":"1.0"},{"source":"2168","target":"2172","strength":"0.7048527215664516"},{"source":"2172","target":"2168","strength":"0.7048527215664516"},{"source":"2173","target":"2174","strength":"0.9941360374761686"},{"source":"2174","target":"2173","strength":"0.9941360374761686"},{"source":"2177","target":"1929","strength":"0.8683932485767514"},{"source":"2178","target":"501","strength":"0.7229686428263846"},{"source":"2179","target":"467","strength":"0.731259513683354"},{"source":"2180","target":"524","strength":"0.7753325919168533"},{"source":"2180","target":"1999","strength":"0.7917628276241531"},{"source":"2180","target":"2749","strength":"0.7468855122173539"},{"source":"2181","target":"2205","strength":"0.9999999999999996"},{"source":"2183","target":"2198","strength":"0.9442172844224652"},{"source":"2186","target":"1051","strength":"0.7654158140263438"},{"source":"2186","target":"2195","strength":"0.7231916478891294"},{"source":"2186","target":"2203","strength":"0.9999999999999996"},{"source":"2186","target":"2208","strength":"0.9451044713265853"},{"source":"2187","target":"563","strength":"0.8300887305412636"},{"source":"2188","target":"197","strength":"0.7207731886618688"},{"source":"2188","target":"835","strength":"0.7488396797467228"},{"source":"2189","target":"1945","strength":"0.7051070518792385"},{"source":"2192","target":"525","strength":"0.7417627830494502"},{"source":"2192","target":"990","strength":"0.7123120697782341"},{"source":"2193","target":"1051","strength":"0.7955131685137906"},{"source":"2195","target":"1051","strength":"0.7371595366765823"},{"source":"2195","target":"2186","strength":"0.7231916478891294"},{"source":"2195","target":"2203","strength":"0.7231916478891294"},{"source":"2195","target":"2208","strength":"0.7242781464280091"},{"source":"2196","target":"2200","strength":"0.9477349334744503"},{"source":"2198","target":"2183","strength":"0.9442172844224652"},{"source":"2200","target":"2196","strength":"0.9477349334744503"},{"source":"2203","target":"1051","strength":"0.7654158140263438"},{"source":"2203","target":"2186","strength":"0.9999999999999996"},{"source":"2203","target":"2195","strength":"0.7231916478891294"},{"source":"2203","target":"2208","strength":"0.9451044713265853"},{"source":"2205","target":"2181","strength":"0.9999999999999996"},{"source":"2208","target":"1051","strength":"0.7537030777831466"},{"source":"2208","target":"2186","strength":"0.9451044713265853"},{"source":"2208","target":"2195","strength":"0.7242781464280091"},{"source":"2208","target":"2203","strength":"0.9451044713265853"},{"source":"2211","target":"1161","strength":"0.7163397337094579"},{"source":"2211","target":"1956","strength":"0.8025768655382699"},{"source":"2211","target":"1957","strength":"0.92245868074523"},{"source":"2217","target":"1907","strength":"0.7151867957197483"},{"source":"2217","target":"2777","strength":"0.7120592718194656"},{"source":"2222","target":"2226","strength":"0.7096065668989314"},{"source":"2222","target":"2229","strength":"0.7265500606848733"},{"source":"2222","target":"2233","strength":"0.7761428154841634"},{"source":"2226","target":"2222","strength":"0.7096065668989314"},{"source":"2226","target":"2229","strength":"0.7079673290014485"},{"source":"2226","target":"2232","strength":"0.7501743831842754"},{"source":"2226","target":"2233","strength":"0.7592833533848402"},{"source":"2227","target":"1910","strength":"0.7925882517916449"},{"source":"2229","target":"2222","strength":"0.7265500606848733"},{"source":"2229","target":"2226","strength":"0.7079673290014485"},{"source":"2229","target":"2232","strength":"0.7412169404325036"},{"source":"2232","target":"2226","strength":"0.7501743831842754"},{"source":"2232","target":"2229","strength":"0.7412169404325036"},{"source":"2233","target":"2222","strength":"0.7761428154841634"},{"source":"2233","target":"2226","strength":"0.7592833533848402"},{"source":"2234","target":"161","strength":"0.739876678248665"},{"source":"2234","target":"207","strength":"0.8463561208362594"},{"source":"2234","target":"210","strength":"0.7653981625284073"},{"source":"2234","target":"1279","strength":"0.7280705628898814"},{"source":"2234","target":"2792","strength":"0.72644552312795"},{"source":"2238","target":"750","strength":"0.8040658080681653"},{"source":"2238","target":"918","strength":"0.7223561877567356"},{"source":"2238","target":"1006","strength":"0.7718066409853975"},{"source":"2238","target":"2327","strength":"0.7397383471683316"},{"source":"2244","target":"441","strength":"0.7065369425263343"},{"source":"2253","target":"664","strength":"0.7201000928112383"},{"source":"2253","target":"1029","strength":"0.7294695402713465"},{"source":"2253","target":"1442","strength":"0.7306662575904727"},{"source":"2253","target":"1447","strength":"0.7011745392305269"},{"source":"2253","target":"1632","strength":"0.7259045290202731"},{"source":"2253","target":"1791","strength":"0.7147343984129382"},{"source":"2253","target":"2035","strength":"0.7133461486666578"},{"source":"2253","target":"2089","strength":"0.7086224024330279"},{"source":"2253","target":"2090","strength":"0.721414520681425"},{"source":"2253","target":"2387","strength":"0.7248615026832699"},{"source":"2255","target":"699","strength":"0.8458678015925263"},{"source":"2257","target":"1671","strength":"0.7059567926715987"},{"source":"2259","target":"555","strength":"0.7059792109926835"},{"source":"2267","target":"315","strength":"0.7942924497421068"},{"source":"2267","target":"461","strength":"0.7419387098065279"},{"source":"2267","target":"651","strength":"0.8424438094865632"},{"source":"2267","target":"654","strength":"0.7412696349207621"},{"source":"2267","target":"829","strength":"0.7346535184605961"},{"source":"2267","target":"1165","strength":"0.7562780679021619"},{"source":"2267","target":"1257","strength":"0.7323224038807084"},{"source":"2267","target":"1799","strength":"0.7961534390299391"},{"source":"2267","target":"2087","strength":"1.000000000000001"},{"source":"2267","target":"2088","strength":"0.852990251245437"},{"source":"2267","target":"2090","strength":"0.7014650711288339"},{"source":"2267","target":"2091","strength":"0.7733252901580345"},{"source":"2267","target":"2092","strength":"0.9081655847496332"},{"source":"2268","target":"2060","strength":"0.7695427176053543"},{"source":"2268","target":"2108","strength":"0.7222801291472508"},{"source":"2268","target":"2321","strength":"0.7251153765848746"},{"source":"2269","target":"664","strength":"0.7552336411572528"},{"source":"2269","target":"837","strength":"0.7519167480864388"},{"source":"2269","target":"1632","strength":"0.7141229941930483"},{"source":"2269","target":"1666","strength":"0.7358529008102924"},{"source":"2269","target":"1956","strength":"0.7549710145679509"},{"source":"2270","target":"737","strength":"0.7046186876947321"},{"source":"2270","target":"740","strength":"0.7101821102727741"},{"source":"2270","target":"741","strength":"0.7510717191385462"},{"source":"2270","target":"743","strength":"0.7403706125447229"},{"source":"2270","target":"744","strength":"0.7708819073254543"},{"source":"2270","target":"826","strength":"0.7152331859630728"},{"source":"2270","target":"836","strength":"0.705204621532623"},{"source":"2270","target":"872","strength":"0.701089327739238"},{"source":"2270","target":"1092","strength":"0.8046040581304563"},{"source":"2270","target":"1339","strength":"0.813901866073819"},{"source":"2270","target":"1347","strength":"0.7807139958683663"},{"source":"2270","target":"1354","strength":"0.7071416129820582"},{"source":"2270","target":"1443","strength":"0.7699156749594069"},{"source":"2270","target":"1516","strength":"0.7230142200843911"},{"source":"2270","target":"1518","strength":"0.8095299283670266"},{"source":"2270","target":"1521","strength":"0.8140515946701408"},{"source":"2270","target":"1632","strength":"0.8170161997590865"},{"source":"2270","target":"1773","strength":"0.7720246959094561"},{"source":"2270","target":"1791","strength":"0.7634220753395486"},{"source":"2270","target":"2046","strength":"0.8086919941300963"},{"source":"2270","target":"2353","strength":"0.7661753294660497"},{"source":"2270","target":"2354","strength":"0.7557554717234307"},{"source":"2270","target":"2355","strength":"0.7556701839496974"},{"source":"2270","target":"2502","strength":"0.7406245814171184"},{"source":"2270","target":"2570","strength":"0.7553672749402046"},{"source":"2270","target":"2576","strength":"0.788784083880197"},{"source":"2270","target":"2731","strength":"0.8185195230951926"},{"source":"2270","target":"2773","strength":"0.8221514366023928"},{"source":"2273","target":"757","strength":"0.7539822096060801"},{"source":"2273","target":"1168","strength":"0.7232087870828325"},{"source":"2273","target":"1483","strength":"0.705889327306806"},{"source":"2273","target":"1673","strength":"0.8088706904326163"},{"source":"2273","target":"1769","strength":"0.7421812402627715"},{"source":"2273","target":"1836","strength":"0.7415514135538923"},{"source":"2273","target":"2108","strength":"0.7459054891438812"},{"source":"2273","target":"2321","strength":"0.8150877282649943"},{"source":"2274","target":"2060","strength":"0.7655426444310208"},{"source":"2275","target":"2276","strength":"0.9999999999999991"},{"source":"2275","target":"2277","strength":"0.7461634850247462"},{"source":"2276","target":"2275","strength":"0.9999999999999991"},{"source":"2276","target":"2277","strength":"0.7461634850247462"},{"source":"2277","target":"2275","strength":"0.7461634850247462"},{"source":"2277","target":"2276","strength":"0.7461634850247462"},{"source":"2287","target":"1151","strength":"0.7567111522908258"},{"source":"2287","target":"1669","strength":"0.7334213531951329"},{"source":"2291","target":"10","strength":"0.7097553941601182"},{"source":"2291","target":"75","strength":"0.7068133124951586"},{"source":"2291","target":"85","strength":"0.7376339518319392"},{"source":"2291","target":"91","strength":"0.7193371120335165"},{"source":"2291","target":"94","strength":"0.7633113237947957"},{"source":"2291","target":"103","strength":"0.7077185390926429"},{"source":"2302","target":"1216","strength":"0.7158538182086236"},{"source":"2302","target":"1217","strength":"0.7236650427163862"},{"source":"2303","target":"328","strength":"0.7424116041370971"},{"source":"2303","target":"426","strength":"0.7056254538098025"},{"source":"2303","target":"430","strength":"0.7136426431201454"},{"source":"2303","target":"436","strength":"0.7490931920010084"},{"source":"2303","target":"637","strength":"0.7115807785305227"},{"source":"2303","target":"931","strength":"0.7073564195355477"},{"source":"2303","target":"932","strength":"0.7175184200136226"},{"source":"2303","target":"971","strength":"0.755101258192033"},{"source":"2303","target":"985","strength":"0.7120129038239301"},{"source":"2303","target":"1013","strength":"0.8669830986671258"},{"source":"2303","target":"1014","strength":"0.7114659960236017"},{"source":"2303","target":"1587","strength":"0.7916228308014763"},{"source":"2303","target":"1748","strength":"0.73551440263929"},{"source":"2303","target":"1767","strength":"0.7021249680866191"},{"source":"2303","target":"1794","strength":"0.7022089409344094"},{"source":"2304","target":"1130","strength":"0.7155529828784996"},{"source":"2304","target":"2533","strength":"0.7134579483047362"},{"source":"2308","target":"883","strength":"0.7771926973699645"},{"source":"2308","target":"2116","strength":"0.7898852933884271"},{"source":"2311","target":"1384","strength":"0.7547680984396066"},{"source":"2311","target":"1440","strength":"0.7037675703435233"},{"source":"2311","target":"2357","strength":"0.711878149901319"},{"source":"2311","target":"2383","strength":"0.7561457812774413"},{"source":"2313","target":"194","strength":"0.8307590811240831"},{"source":"2313","target":"597","strength":"0.7024562628708152"},{"source":"2314","target":"2116","strength":"0.7228864445126663"},{"source":"2317","target":"2318","strength":"0.8950593347024755"},{"source":"2318","target":"2317","strength":"0.8950593347024755"},{"source":"2321","target":"1168","strength":"0.8107290379706554"},{"source":"2321","target":"1483","strength":"0.7064992312508817"},{"source":"2321","target":"2060","strength":"0.7129372807162991"},{"source":"2321","target":"2108","strength":"0.7685744231208522"},{"source":"2321","target":"2268","strength":"0.7251153765848746"},{"source":"2321","target":"2273","strength":"0.8150877282649943"},{"source":"2324","target":"119","strength":"0.7284048845091854"},{"source":"2324","target":"121","strength":"0.7284048845091854"},{"source":"2324","target":"569","strength":"0.7048627603055507"},{"source":"2324","target":"2443","strength":"0.715410214130502"},{"source":"2325","target":"1720","strength":"0.8538549235326609"},{"source":"2325","target":"1721","strength":"0.7572590368323866"},{"source":"2325","target":"2417","strength":"0.8115348184733812"},{"source":"2325","target":"2541","strength":"0.8019742967104371"},{"source":"2326","target":"373","strength":"0.7103880179696291"},{"source":"2326","target":"1170","strength":"0.72466066864939"},{"source":"2327","target":"2238","strength":"0.7397383471683316"},{"source":"2336","target":"1205","strength":"0.7044994686879148"},{"source":"2336","target":"1360","strength":"0.7182657443282717"},{"source":"2337","target":"1409","strength":"0.8236398204164206"},{"source":"2337","target":"1469","strength":"0.7080880085537984"},{"source":"2337","target":"2348","strength":"0.7347673066399872"},{"source":"2340","target":"846","strength":"0.7029815628428107"},{"source":"2340","target":"1680","strength":"0.7288018888006604"},{"source":"2340","target":"1917","strength":"0.7793722446942958"},{"source":"2343","target":"403","strength":"0.8166713038633858"},{"source":"2343","target":"502","strength":"0.7059838333779589"},{"source":"2343","target":"821","strength":"0.8403610950207214"},{"source":"2343","target":"938","strength":"0.7152042383521692"},{"source":"2343","target":"947","strength":"0.7656843445661426"},{"source":"2343","target":"970","strength":"0.7233705713260106"},{"source":"2343","target":"1174","strength":"0.7665921274632126"},{"source":"2343","target":"1440","strength":"0.7002141691367059"},{"source":"2343","target":"1462","strength":"0.7999151752898044"},{"source":"2343","target":"1468","strength":"0.7093744596494399"},{"source":"2343","target":"2400","strength":"0.7992099992612944"},{"source":"2343","target":"2427","strength":"0.797732584761556"},{"source":"2344","target":"809","strength":"0.7443368864032283"},{"source":"2345","target":"1123","strength":"0.7979894397164986"},{"source":"2345","target":"1639","strength":"0.7889798744574669"},{"source":"2345","target":"2478","strength":"0.7777437651120983"},{"source":"2348","target":"1409","strength":"0.7255780724247267"},{"source":"2348","target":"2337","strength":"0.7347673066399872"},{"source":"2350","target":"1250","strength":"0.7135641328844669"},{"source":"2352","target":"664","strength":"0.7095312164713791"},{"source":"2352","target":"737","strength":"0.7003074272142678"},{"source":"2352","target":"738","strength":"0.7256754748081069"},{"source":"2352","target":"877","strength":"0.7770148551220883"},{"source":"2352","target":"1184","strength":"0.7032528056310315"},{"source":"2352","target":"2090","strength":"0.7357210700980035"},{"source":"2353","target":"461","strength":"0.7013448363795994"},{"source":"2353","target":"737","strength":"0.7305451284213134"},{"source":"2353","target":"741","strength":"0.8090002989066769"},{"source":"2353","target":"743","strength":"0.80080039180608"},{"source":"2353","target":"744","strength":"0.79530022838562"},{"source":"2353","target":"826","strength":"0.8017140294930944"},{"source":"2353","target":"836","strength":"0.7420260913713482"},{"source":"2353","target":"1092","strength":"0.7340581970830329"},{"source":"2353","target":"1184","strength":"0.7294882633902431"},{"source":"2353","target":"1339","strength":"0.785855319608044"},{"source":"2353","target":"1347","strength":"0.8389875158223754"},{"source":"2353","target":"1354","strength":"0.7064185448954444"},{"source":"2353","target":"1443","strength":"0.7517473055766891"},{"source":"2353","target":"1632","strength":"0.7056693384798842"},{"source":"2353","target":"1684","strength":"0.7432812310858302"},{"source":"2353","target":"1773","strength":"0.8338371390443673"},{"source":"2353","target":"2046","strength":"0.7763300081792232"},{"source":"2353","target":"2270","strength":"0.7661753294660497"},{"source":"2353","target":"2354","strength":"0.7210110996552538"},{"source":"2353","target":"2386","strength":"0.7323057642602615"},{"source":"2353","target":"2449","strength":"0.746267401831846"},{"source":"2353","target":"2502","strength":"0.70823816479584"},{"source":"2353","target":"2570","strength":"0.7384125736976301"},{"source":"2353","target":"2576","strength":"0.8023995259521004"},{"source":"2353","target":"2699","strength":"0.7130995912735689"},{"source":"2353","target":"2731","strength":"0.8529359961819528"},{"source":"2353","target":"2773","strength":"0.7993646042299489"},{"source":"2354","target":"743","strength":"0.7476962341078712"},{"source":"2354","target":"744","strength":"0.7105135907656246"},{"source":"2354","target":"826","strength":"0.7136954516473095"},{"source":"2354","target":"872","strength":"0.744748740045244"},{"source":"2354","target":"1092","strength":"0.7441585907618428"},{"source":"2354","target":"1184","strength":"0.7009367809040574"},{"source":"2354","target":"1339","strength":"0.7538253630420166"},{"source":"2354","target":"1347","strength":"0.7146468226143716"},{"source":"2354","target":"1443","strength":"0.7385876339767984"},{"source":"2354","target":"1518","strength":"0.7260376594347807"},{"source":"2354","target":"1521","strength":"0.7194861390654688"},{"source":"2354","target":"1632","strength":"0.7195753323191827"},{"source":"2354","target":"1773","strength":"0.721731043745129"},{"source":"2354","target":"2046","strength":"0.7740438023918066"},{"source":"2354","target":"2089","strength":"0.7183111914424702"},{"source":"2354","target":"2090","strength":"0.7081239097666597"},{"source":"2354","target":"2270","strength":"0.7557554717234307"},{"source":"2354","target":"2353","strength":"0.7210110996552538"},{"source":"2354","target":"2570","strength":"0.7264415729653205"},{"source":"2354","target":"2576","strength":"0.718455944785146"},{"source":"2354","target":"2731","strength":"0.7687802241442032"},{"source":"2354","target":"2773","strength":"0.7727453750610802"},{"source":"2355","target":"735","strength":"0.7194729011182295"},{"source":"2355","target":"740","strength":"0.7352891621702238"},{"source":"2355","target":"741","strength":"0.8106621129294554"},{"source":"2355","target":"744","strength":"0.7865091571279477"},{"source":"2355","target":"826","strength":"0.7173733421615912"},{"source":"2355","target":"836","strength":"0.7650789395959512"},{"source":"2355","target":"1092","strength":"0.7913769615973755"},{"source":"2355","target":"1184","strength":"0.791553995979069"},{"source":"2355","target":"1339","strength":"0.7662764440219769"},{"source":"2355","target":"1347","strength":"0.7120087385187044"},{"source":"2355","target":"1443","strength":"0.7540407539021249"},{"source":"2355","target":"1516","strength":"0.7761268424961039"},{"source":"2355","target":"1521","strength":"0.7932247549086826"},{"source":"2355","target":"1773","strength":"0.7523547192215798"},{"source":"2355","target":"2046","strength":"0.7166879752010823"},{"source":"2355","target":"2270","strength":"0.7556701839496974"},{"source":"2355","target":"2387","strength":"0.7181024432427874"},{"source":"2355","target":"2477","strength":"0.7014007122614997"},{"source":"2355","target":"2502","strength":"0.7034843835239248"},{"source":"2355","target":"2570","strength":"0.7451045088691077"},{"source":"2355","target":"2576","strength":"0.8060033202143813"},{"source":"2355","target":"2585","strength":"0.7034814840504189"},{"source":"2355","target":"2699","strength":"0.7191902692481227"},{"source":"2355","target":"2731","strength":"0.7418732084167795"},{"source":"2355","target":"2773","strength":"0.7950657489274295"},{"source":"2357","target":"821","strength":"0.7375005592369389"},{"source":"2357","target":"1440","strength":"0.7167364938433887"},{"source":"2357","target":"2311","strength":"0.711878149901319"},{"source":"2357","target":"2400","strength":"0.7483243747224129"},{"source":"2357","target":"2431","strength":"0.730966665800832"},{"source":"2360","target":"328","strength":"0.7354427467513975"},{"source":"2360","target":"436","strength":"0.7211643555101481"},{"source":"2360","target":"822","strength":"0.7415968225843116"},{"source":"2360","target":"932","strength":"0.7054066857543664"},{"source":"2363","target":"940","strength":"0.7348424167128773"},{"source":"2368","target":"875","strength":"0.7102887634681"},{"source":"2368","target":"1613","strength":"0.7671241481744024"},{"source":"2368","target":"1659","strength":"0.7383396874209227"},{"source":"2368","target":"2406","strength":"0.7012669790386815"},{"source":"2369","target":"216","strength":"0.7187793235788398"},{"source":"2369","target":"395","strength":"0.9342754360023822"},{"source":"2369","target":"604","strength":"0.718160928503288"},{"source":"2373","target":"712","strength":"0.7147918387358376"},{"source":"2373","target":"877","strength":"0.7280193374575387"},{"source":"2377","target":"870","strength":"0.7463861733354642"},{"source":"2377","target":"941","strength":"0.7120727254963775"},{"source":"2377","target":"945","strength":"0.7170663619890331"},{"source":"2377","target":"1912","strength":"0.7945190887187883"},{"source":"2377","target":"2599","strength":"0.7259216921957311"},{"source":"2377","target":"2720","strength":"0.7906410022218369"},{"source":"2382","target":"802","strength":"0.7060385181047077"},{"source":"2383","target":"2311","strength":"0.7561457812774413"},{"source":"2386","target":"315","strength":"0.7113435098707821"},{"source":"2386","target":"406","strength":"0.7966252197121781"},{"source":"2386","target":"461","strength":"0.8134496206154365"},{"source":"2386","target":"651","strength":"0.7719825256965234"},{"source":"2386","target":"654","strength":"0.7237203059240295"},{"source":"2386","target":"737","strength":"0.7533759816354065"},{"source":"2386","target":"741","strength":"0.7106623604365051"},{"source":"2386","target":"743","strength":"0.7062652712321239"},{"source":"2386","target":"745","strength":"0.7104858900260402"},{"source":"2386","target":"1026","strength":"0.7719831044535619"},{"source":"2386","target":"1159","strength":"0.7211727329938032"},{"source":"2386","target":"1257","strength":"0.7629455287423033"},{"source":"2386","target":"1347","strength":"0.7619489911377806"},{"source":"2386","target":"1354","strength":"0.778628163269562"},{"source":"2386","target":"1443","strength":"0.7637553609007016"},{"source":"2386","target":"1510","strength":"0.7315882519090574"},{"source":"2386","target":"1632","strength":"0.7570629126587142"},{"source":"2386","target":"1684","strength":"0.7242194811331591"},{"source":"2386","target":"1773","strength":"0.7332546517948897"},{"source":"2386","target":"1791","strength":"0.732933211915122"},{"source":"2386","target":"1799","strength":"0.7388241820011784"},{"source":"2386","target":"1841","strength":"0.7616186318837941"},{"source":"2386","target":"2046","strength":"0.7058993026394784"},{"source":"2386","target":"2090","strength":"0.7838816498018976"},{"source":"2386","target":"2091","strength":"0.7082022817971243"},{"source":"2386","target":"2092","strength":"0.7317363853131447"},{"source":"2386","target":"2353","strength":"0.7323057642602615"},{"source":"2386","target":"2390","strength":"0.7270830313090799"},{"source":"2386","target":"2576","strength":"0.7379298156885388"},{"source":"2386","target":"2731","strength":"0.7559242778276978"},{"source":"2386","target":"2773","strength":"0.7140840001643893"},{"source":"2387","target":"406","strength":"0.7211195565172152"},{"source":"2387","target":"485","strength":"0.7028463928497272"},{"source":"2387","target":"664","strength":"0.7388159402346142"},{"source":"2387","target":"744","strength":"0.7044148439283693"},{"source":"2387","target":"872","strength":"0.7737026872627982"},{"source":"2387","target":"1184","strength":"0.8029058899942273"},{"source":"2387","target":"1205","strength":"0.7616102197079494"},{"source":"2387","target":"1443","strength":"0.7449236752633089"},{"source":"2387","target":"1488","strength":"0.709655038486687"},{"source":"2387","target":"1632","strength":"0.7158933220582798"},{"source":"2387","target":"1841","strength":"0.7121124038185641"},{"source":"2387","target":"2030","strength":"0.7081597910204763"},{"source":"2387","target":"2089","strength":"0.7738936313997437"},{"source":"2387","target":"2090","strength":"0.8446026235993382"},{"source":"2387","target":"2253","strength":"0.7248615026832699"},{"source":"2387","target":"2355","strength":"0.7181024432427874"},{"source":"2387","target":"2488","strength":"0.7009506889097665"},{"source":"2387","target":"2570","strength":"0.7152582947100011"},{"source":"2387","target":"2585","strength":"0.712312155753239"},{"source":"2387","target":"2699","strength":"0.7044240804892284"},{"source":"2387","target":"2731","strength":"0.7084993440595627"},{"source":"2387","target":"2773","strength":"0.7038260305716736"},{"source":"2388","target":"2389","strength":"0.7383203845937717"},{"source":"2389","target":"1818","strength":"0.7231001462580466"},{"source":"2389","target":"2388","strength":"0.7383203845937717"},{"source":"2390","target":"485","strength":"0.7072472573621962"},{"source":"2390","target":"1205","strength":"0.7330763979175905"},{"source":"2390","target":"1443","strength":"0.7520585968681416"},{"source":"2390","target":"1632","strength":"0.7340881028253304"},{"source":"2390","target":"1684","strength":"0.8343284671163219"},{"source":"2390","target":"1730","strength":"0.7294531723111753"},{"source":"2390","target":"1791","strength":"0.7268041243912736"},{"source":"2390","target":"2089","strength":"0.7580158820011271"},{"source":"2390","target":"2386","strength":"0.7270830313090799"},{"source":"2390","target":"2570","strength":"0.7134481375920436"},{"source":"2390","target":"2576","strength":"0.7003328703682158"},{"source":"2390","target":"2699","strength":"0.7692030805801493"},{"source":"2390","target":"2731","strength":"0.7155607365730479"},{"source":"2391","target":"1580","strength":"0.7979383856529465"},{"source":"2392","target":"570","strength":"0.7080005542142931"},{"source":"2392","target":"854","strength":"0.7570249800438557"},{"source":"2392","target":"909","strength":"0.782404105154858"},{"source":"2392","target":"1216","strength":"0.7349741688414603"},{"source":"2392","target":"1219","strength":"0.7417550733926225"},{"source":"2392","target":"1222","strength":"0.7241462885215665"},{"source":"2396","target":"338","strength":"0.7628081328521761"},{"source":"2396","target":"669","strength":"0.7001631896488608"},{"source":"2396","target":"838","strength":"0.723600193438579"},{"source":"2396","target":"1056","strength":"1.0000000000000004"},{"source":"2399","target":"821","strength":"0.7004150155832558"},{"source":"2399","target":"938","strength":"0.8210852345100077"},{"source":"2399","target":"947","strength":"0.7196160906765467"},{"source":"2399","target":"970","strength":"0.727561101790072"},{"source":"2399","target":"1355","strength":"0.7037755053249066"},{"source":"2399","target":"1462","strength":"0.7274793140339544"},{"source":"2399","target":"1468","strength":"0.7522401382259916"},{"source":"2399","target":"2400","strength":"0.7964658176816561"},{"source":"2399","target":"2431","strength":"0.7319121471205067"},{"source":"2400","target":"129","strength":"0.7223057667280817"},{"source":"2400","target":"403","strength":"0.8064687622425597"},{"source":"2400","target":"821","strength":"0.8866325598213068"},{"source":"2400","target":"938","strength":"0.8159789533676225"},{"source":"2400","target":"942","strength":"0.78037570720847"},{"source":"2400","target":"947","strength":"0.8120259720449596"},{"source":"2400","target":"970","strength":"0.7779956186311192"},{"source":"2400","target":"1174","strength":"0.7562975289214637"},{"source":"2400","target":"1355","strength":"0.8176603399502824"},{"source":"2400","target":"1440","strength":"0.8191945771254978"},{"source":"2400","target":"1462","strength":"0.8148261905299268"},{"source":"2400","target":"1468","strength":"0.8086605839585483"},{"source":"2400","target":"2343","strength":"0.7992099992612944"},{"source":"2400","target":"2357","strength":"0.7483243747224129"},{"source":"2400","target":"2399","strength":"0.7964658176816561"},{"source":"2400","target":"2427","strength":"0.8165323003769955"},{"source":"2400","target":"2431","strength":"0.798928298465751"},{"source":"2405","target":"2476","strength":"0.7264836484344619"},{"source":"2406","target":"1659","strength":"0.736746754295823"},{"source":"2406","target":"2368","strength":"0.7012669790386815"},{"source":"2409","target":"1493","strength":"0.8690504083078208"},{"source":"2410","target":"570","strength":"0.7858877991705906"},{"source":"2410","target":"847","strength":"0.7297882191733593"},{"source":"2410","target":"854","strength":"0.7144453485868448"},{"source":"2410","target":"945","strength":"0.7180272818187663"},{"source":"2410","target":"965","strength":"0.7044119562420416"},{"source":"2410","target":"984","strength":"0.7199758016854275"},{"source":"2410","target":"1216","strength":"0.7317920625794055"},{"source":"2410","target":"1217","strength":"0.7377772929572365"},{"source":"2410","target":"1222","strength":"0.7037423034573042"},{"source":"2410","target":"2442","strength":"0.7245048303722246"},{"source":"2417","target":"1720","strength":"0.7815052210621689"},{"source":"2417","target":"1721","strength":"0.7093721733941534"},{"source":"2417","target":"2325","strength":"0.8115348184733812"},{"source":"2417","target":"2541","strength":"0.7636330714714485"},{"source":"2420","target":"2012","strength":"0.7187086977622158"},{"source":"2420","target":"2656","strength":"0.715295919303306"},{"source":"2423","target":"1130","strength":"0.783688582176434"},{"source":"2423","target":"1954","strength":"0.7397432923310531"},{"source":"2423","target":"1972","strength":"0.7285963810669991"},{"source":"2424","target":"260","strength":"0.7001001923648029"},{"source":"2424","target":"923","strength":"0.8557422254020648"},{"source":"2424","target":"932","strength":"0.7006671644781598"},{"source":"2424","target":"1767","strength":"0.7555921773982642"},{"source":"2427","target":"403","strength":"0.7787229222418405"},{"source":"2427","target":"821","strength":"0.8811220451834051"},{"source":"2427","target":"947","strength":"0.7102702407446309"},{"source":"2427","target":"970","strength":"0.7063694157888291"},{"source":"2427","target":"1174","strength":"0.7589241293161149"},{"source":"2427","target":"1355","strength":"0.7109383906213478"},{"source":"2427","target":"1462","strength":"0.7849695310467489"},{"source":"2427","target":"1468","strength":"0.747359711296118"},{"source":"2427","target":"2343","strength":"0.797732584761556"},{"source":"2427","target":"2400","strength":"0.8165323003769955"},{"source":"2427","target":"2431","strength":"0.7229530487479329"},{"source":"2428","target":"328","strength":"0.812715333251382"},{"source":"2428","target":"430","strength":"0.733610663186095"},{"source":"2428","target":"436","strength":"0.7457634322916963"},{"source":"2428","target":"449","strength":"0.7306731534706246"},{"source":"2428","target":"627","strength":"0.7066148610967823"},{"source":"2428","target":"637","strength":"0.7374672565712312"},{"source":"2428","target":"932","strength":"0.7435250527849473"},{"source":"2428","target":"957","strength":"0.7031301152976062"},{"source":"2428","target":"971","strength":"0.7921523068312494"},{"source":"2428","target":"1014","strength":"0.7194284765371811"},{"source":"2428","target":"1587","strength":"0.7977916245919655"},{"source":"2428","target":"1589","strength":"0.7006466479693554"},{"source":"2431","target":"129","strength":"0.7223603950172663"},{"source":"2431","target":"502","strength":"0.739169133603202"},{"source":"2431","target":"821","strength":"0.7938803044726696"},{"source":"2431","target":"938","strength":"0.7569658576464358"},{"source":"2431","target":"942","strength":"0.7819674490879729"},{"source":"2431","target":"947","strength":"0.7544887031619155"},{"source":"2431","target":"970","strength":"0.8171654612198656"},{"source":"2431","target":"1355","strength":"0.7022382005428035"},{"source":"2431","target":"1440","strength":"0.8370436847679232"},{"source":"2431","target":"1462","strength":"0.7305894385123484"},{"source":"2431","target":"2357","strength":"0.730966665800832"},{"source":"2431","target":"2399","strength":"0.7319121471205067"},{"source":"2431","target":"2400","strength":"0.798928298465751"},{"source":"2431","target":"2427","strength":"0.7229530487479329"},{"source":"2434","target":"291","strength":"0.731645689102934"},{"source":"2434","target":"516","strength":"0.7131167642754137"},{"source":"2434","target":"555","strength":"0.8114762820306645"},{"source":"2434","target":"1390","strength":"0.734734408347866"},{"source":"2434","target":"2131","strength":"0.7258586680082065"},{"source":"2434","target":"2750","strength":"0.7354940922145261"},{"source":"2436","target":"297","strength":"0.7038915417845664"},{"source":"2436","target":"409","strength":"0.7519451376987448"},{"source":"2439","target":"776","strength":"0.730601278978974"},{"source":"2440","target":"195","strength":"0.7325786312213604"},{"source":"2442","target":"570","strength":"0.7415095483791224"},{"source":"2442","target":"945","strength":"0.7147623381398417"},{"source":"2442","target":"965","strength":"0.710343281202331"},{"source":"2442","target":"1094","strength":"0.7031817131155975"},{"source":"2442","target":"1217","strength":"0.7322835662662504"},{"source":"2442","target":"2410","strength":"0.7245048303722246"},{"source":"2443","target":"187","strength":"0.7244535108825223"},{"source":"2443","target":"325","strength":"0.7648727861775145"},{"source":"2443","target":"659","strength":"0.7121759588304323"},{"source":"2443","target":"2324","strength":"0.715410214130502"},{"source":"2444","target":"2048","strength":"0.7324057952152617"},{"source":"2449","target":"740","strength":"0.7212383702345047"},{"source":"2449","target":"741","strength":"0.757351841485351"},{"source":"2449","target":"743","strength":"0.8694370178344357"},{"source":"2449","target":"744","strength":"0.815977581074746"},{"source":"2449","target":"826","strength":"0.809071867227875"},{"source":"2449","target":"1339","strength":"0.7009078479844779"},{"source":"2449","target":"1347","strength":"0.7505002404476617"},{"source":"2449","target":"1773","strength":"0.7461116481444439"},{"source":"2449","target":"2046","strength":"0.7818242240400171"},{"source":"2449","target":"2353","strength":"0.746267401831846"},{"source":"2449","target":"2576","strength":"0.7540359291546646"},{"source":"2449","target":"2731","strength":"0.7789852680920769"},{"source":"2449","target":"2773","strength":"0.7618548779251949"},{"source":"2454","target":"686","strength":"0.7516484621241323"},{"source":"2454","target":"689","strength":"0.7020269711047595"},{"source":"2454","target":"690","strength":"0.776330833337084"},{"source":"2454","target":"691","strength":"0.7136473422630315"},{"source":"2454","target":"1101","strength":"0.7422018159019789"},{"source":"2454","target":"2723","strength":"0.8414109325602405"},{"source":"2459","target":"1218","strength":"0.8488309409878682"},{"source":"2459","target":"1220","strength":"0.8488309409878682"},{"source":"2459","target":"1224","strength":"0.7325883325303337"},{"source":"2459","target":"2750","strength":"0.711300824480189"},{"source":"2460","target":"456","strength":"0.7245707514048437"},{"source":"2460","target":"1153","strength":"0.7336868329326132"},{"source":"2461","target":"2","strength":"0.7122103757420721"},{"source":"2464","target":"686","strength":"0.7094758040032727"},{"source":"2468","target":"524","strength":"0.7009599894968939"},{"source":"2476","target":"2405","strength":"0.7264836484344619"},{"source":"2477","target":"741","strength":"0.7035027492780642"},{"source":"2477","target":"2355","strength":"0.7014007122614997"},{"source":"2478","target":"2345","strength":"0.7777437651120983"},{"source":"2488","target":"664","strength":"0.7208452585740592"},{"source":"2488","target":"1184","strength":"0.7695872772298284"},{"source":"2488","target":"1443","strength":"0.7047740311068843"},{"source":"2488","target":"1522","strength":"0.8009615013966838"},{"source":"2488","target":"2044","strength":"0.7383273325027072"},{"source":"2488","target":"2090","strength":"0.7052964317800677"},{"source":"2488","target":"2387","strength":"0.7009506889097665"},{"source":"2488","target":"2570","strength":"0.7380442688709924"},{"source":"2488","target":"2585","strength":"0.8499284313607133"},{"source":"2494","target":"238","strength":"0.7104963378943767"},{"source":"2494","target":"1915","strength":"0.7281121268914601"},{"source":"2497","target":"2750","strength":"0.7482721782499827"},{"source":"2499","target":"528","strength":"0.727238453394686"},{"source":"2502","target":"315","strength":"0.7192361258899069"},{"source":"2502","target":"740","strength":"0.713198969712455"},{"source":"2502","target":"741","strength":"0.751264948445344"},{"source":"2502","target":"744","strength":"0.7562887028327238"},{"source":"2502","target":"826","strength":"0.7330323981679634"},{"source":"2502","target":"1092","strength":"0.75290791762024"},{"source":"2502","target":"1184","strength":"0.7070407455732205"},{"source":"2502","target":"1339","strength":"0.736389978153383"},{"source":"2502","target":"1347","strength":"0.7021165834239323"},{"source":"2502","target":"1443","strength":"0.7273865864019803"},{"source":"2502","target":"1521","strength":"0.7277984165101298"},{"source":"2502","target":"1684","strength":"0.7211376783224417"},{"source":"2502","target":"1773","strength":"0.7122059905875545"},{"source":"2502","target":"2046","strength":"0.7309796736126515"},{"source":"2502","target":"2089","strength":"0.7352058194631719"},{"source":"2502","target":"2090","strength":"0.7077347950044763"},{"source":"2502","target":"2270","strength":"0.7406245814171184"},{"source":"2502","target":"2353","strength":"0.70823816479584"},{"source":"2502","target":"2355","strength":"0.7034843835239248"},{"source":"2502","target":"2570","strength":"0.7354773821118616"},{"source":"2502","target":"2576","strength":"0.7396181017622185"},{"source":"2502","target":"2731","strength":"0.7800322496222927"},{"source":"2502","target":"2773","strength":"0.7472727593635177"},{"source":"2503","target":"2504","strength":"0.8022153221978732"},{"source":"2503","target":"2578","strength":"0.7809252719957012"},{"source":"2503","target":"2579","strength":"0.7745960852050394"},{"source":"2503","target":"2580","strength":"0.8456871723615406"},{"source":"2503","target":"2582","strength":"0.7524925478551627"},{"source":"2503","target":"2583","strength":"0.7262824315748089"},{"source":"2503","target":"2584","strength":"0.7092974767925556"},{"source":"2504","target":"2001","strength":"0.7050352136792704"},{"source":"2504","target":"2503","strength":"0.8022153221978732"},{"source":"2504","target":"2578","strength":"0.7313185217130114"},{"source":"2504","target":"2579","strength":"0.7638436491925034"},{"source":"2504","target":"2580","strength":"0.8576054540732858"},{"source":"2504","target":"2582","strength":"0.7599279534952808"},{"source":"2504","target":"2583","strength":"0.7752212454048806"},{"source":"2507","target":"853","strength":"0.7392759362275425"},{"source":"2517","target":"2518","strength":"0.7707535114853798"},{"source":"2518","target":"2517","strength":"0.7707535114853798"},{"source":"2523","target":"2524","strength":"0.7294248533013121"},{"source":"2523","target":"2525","strength":"0.7520128814400794"},{"source":"2523","target":"2526","strength":"0.7387181774794025"},{"source":"2523","target":"2529","strength":"0.7778210803736851"},{"source":"2524","target":"2523","strength":"0.7294248533013121"},{"source":"2524","target":"2525","strength":"0.9470028840674355"},{"source":"2524","target":"2526","strength":"0.8818829898021818"},{"source":"2524","target":"2527","strength":"0.8069515101503206"},{"source":"2524","target":"2528","strength":"0.7360159845581354"},{"source":"2524","target":"2529","strength":"0.8411570534903181"},{"source":"2525","target":"2523","strength":"0.7520128814400794"},{"source":"2525","target":"2524","strength":"0.9470028840674355"},{"source":"2525","target":"2526","strength":"0.9192148885700349"},{"source":"2525","target":"2527","strength":"0.8485958118570616"},{"source":"2525","target":"2528","strength":"0.7527931791500813"},{"source":"2525","target":"2529","strength":"0.8654561786977709"},{"source":"2526","target":"2523","strength":"0.7387181774794025"},{"source":"2526","target":"2524","strength":"0.8818829898021818"},{"source":"2526","target":"2525","strength":"0.9192148885700349"},{"source":"2526","target":"2527","strength":"0.802184097856764"},{"source":"2526","target":"2528","strength":"0.7264616444581191"},{"source":"2526","target":"2529","strength":"0.8368261095234386"},{"source":"2527","target":"2524","strength":"0.8069515101503206"},{"source":"2527","target":"2525","strength":"0.8485958118570616"},{"source":"2527","target":"2526","strength":"0.802184097856764"},{"source":"2527","target":"2528","strength":"0.8018473043005089"},{"source":"2527","target":"2529","strength":"0.7509245772596238"},{"source":"2528","target":"2524","strength":"0.7360159845581354"},{"source":"2528","target":"2525","strength":"0.7527931791500813"},{"source":"2528","target":"2526","strength":"0.7264616444581191"},{"source":"2528","target":"2527","strength":"0.8018473043005089"},{"source":"2529","target":"2523","strength":"0.7778210803736851"},{"source":"2529","target":"2524","strength":"0.8411570534903181"},{"source":"2529","target":"2525","strength":"0.8654561786977709"},{"source":"2529","target":"2526","strength":"0.8368261095234386"},{"source":"2529","target":"2527","strength":"0.7509245772596238"},{"source":"2531","target":"701","strength":"0.7876951004026728"},{"source":"2531","target":"721","strength":"0.7876951004026728"},{"source":"2531","target":"2532","strength":"0.7010184555340526"},{"source":"2532","target":"2531","strength":"0.7010184555340526"},{"source":"2533","target":"2304","strength":"0.7134579483047362"},{"source":"2534","target":"713","strength":"0.7110396244097656"},{"source":"2534","target":"1475","strength":"0.7621397931934242"},{"source":"2534","target":"2535","strength":"0.7621397931934242"},{"source":"2534","target":"2536","strength":"0.7930397408634745"},{"source":"2535","target":"551","strength":"0.7107878541322618"},{"source":"2535","target":"713","strength":"0.7245260511232914"},{"source":"2535","target":"756","strength":"0.7920763603140146"},{"source":"2535","target":"1475","strength":"1.0000000000000013"},{"source":"2535","target":"2534","strength":"0.7621397931934242"},{"source":"2536","target":"713","strength":"0.7461324978993813"},{"source":"2536","target":"2534","strength":"0.7930397408634745"},{"source":"2536","target":"2537","strength":"0.7518560540821917"},{"source":"2537","target":"713","strength":"0.7825495350500945"},{"source":"2537","target":"2536","strength":"0.7518560540821917"},{"source":"2538","target":"2539","strength":"0.8045080381603427"},{"source":"2538","target":"2621","strength":"0.8880894994741462"},{"source":"2539","target":"2538","strength":"0.8045080381603427"},{"source":"2539","target":"2621","strength":"0.7916884010270162"},{"source":"2541","target":"1123","strength":"0.7948998127193492"},{"source":"2541","target":"1639","strength":"0.7933568850611913"},{"source":"2541","target":"1720","strength":"0.7222689326191581"},{"source":"2541","target":"1721","strength":"0.7387552502981023"},{"source":"2541","target":"2325","strength":"0.8019742967104371"},{"source":"2541","target":"2417","strength":"0.7636330714714485"},{"source":"2543","target":"2750","strength":"0.7305151634205267"},{"source":"2546","target":"579","strength":"0.7029528505848391"},{"source":"2546","target":"680","strength":"0.7874726837563315"},{"source":"2550","target":"2743","strength":"0.7665267143376802"},{"source":"2554","target":"2567","strength":"0.8867428118331777"},{"source":"2555","target":"1152","strength":"0.8312153974935528"},{"source":"2564","target":"558","strength":"0.8186755366563023"},{"source":"2567","target":"2554","strength":"0.8867428118331777"},{"source":"2570","target":"741","strength":"0.7766564617059313"},{"source":"2570","target":"743","strength":"0.7438553758834184"},{"source":"2570","target":"744","strength":"0.7471816361080694"},{"source":"2570","target":"826","strength":"0.7635825861229482"},{"source":"2570","target":"836","strength":"0.7257990358055774"},{"source":"2570","target":"872","strength":"0.7121928103183174"},{"source":"2570","target":"1092","strength":"0.746718950776055"},{"source":"2570","target":"1184","strength":"0.7483829773381198"},{"source":"2570","target":"1339","strength":"0.7376895147940701"},{"source":"2570","target":"1347","strength":"0.7494990637697166"},{"source":"2570","target":"1443","strength":"0.8073058893225579"},{"source":"2570","target":"1516","strength":"0.7025439204312562"},{"source":"2570","target":"1518","strength":"0.733355839323495"},{"source":"2570","target":"1521","strength":"0.7233506689389244"},{"source":"2570","target":"1632","strength":"0.7129979865046505"},{"source":"2570","target":"1684","strength":"0.7395200392336415"},{"source":"2570","target":"1773","strength":"0.7697322178860471"},{"source":"2570","target":"2046","strength":"0.7814486491658944"},{"source":"2570","target":"2089","strength":"0.7068975480612011"},{"source":"2570","target":"2090","strength":"0.7103927642232789"},{"source":"2570","target":"2270","strength":"0.7553672749402046"},{"source":"2570","target":"2353","strength":"0.7384125736976301"},{"source":"2570","target":"2354","strength":"0.7264415729653205"},{"source":"2570","target":"2355","strength":"0.7451045088691077"},{"source":"2570","target":"2387","strength":"0.7152582947100011"},{"source":"2570","target":"2390","strength":"0.7134481375920436"},{"source":"2570","target":"2488","strength":"0.7380442688709924"},{"source":"2570","target":"2502","strength":"0.7354773821118616"},{"source":"2570","target":"2576","strength":"0.766320061032172"},{"source":"2570","target":"2699","strength":"0.7208202397363792"},{"source":"2570","target":"2731","strength":"0.8089317278142543"},{"source":"2570","target":"2773","strength":"0.7902275930604794"},{"source":"2573","target":"2613","strength":"0.7792538652838665"},{"source":"2576","target":"735","strength":"0.7137219992702379"},{"source":"2576","target":"737","strength":"0.7629899238081173"},{"source":"2576","target":"740","strength":"0.7810879066869654"},{"source":"2576","target":"741","strength":"0.8512993096810099"},{"source":"2576","target":"743","strength":"0.7923149572488818"},{"source":"2576","target":"744","strength":"0.8791124856101661"},{"source":"2576","target":"826","strength":"0.7938444509389516"},{"source":"2576","target":"836","strength":"0.7864282572243441"},{"source":"2576","target":"1092","strength":"0.7616338062825334"},{"source":"2576","target":"1181","strength":"0.7088058801075703"},{"source":"2576","target":"1184","strength":"0.7581072587708569"},{"source":"2576","target":"1339","strength":"0.7965392040334267"},{"source":"2576","target":"1347","strength":"0.8219019781804481"},{"source":"2576","target":"1354","strength":"0.7508123255364872"},{"source":"2576","target":"1443","strength":"0.81607042971674"},{"source":"2576","target":"1516","strength":"0.7320533369982212"},{"source":"2576","target":"1518","strength":"0.7012817751894227"},{"source":"2576","target":"1521","strength":"0.7474749950237145"},{"source":"2576","target":"1632","strength":"0.7214669072586363"},{"source":"2576","target":"1684","strength":"0.7517246024408935"},{"source":"2576","target":"1730","strength":"0.7314086255013711"},{"source":"2576","target":"1773","strength":"0.8579060601108491"},{"source":"2576","target":"2046","strength":"0.7712599003519591"},{"source":"2576","target":"2089","strength":"0.7056284700204314"},{"source":"2576","target":"2270","strength":"0.788784083880197"},{"source":"2576","target":"2353","strength":"0.8023995259521004"},{"source":"2576","target":"2354","strength":"0.718455944785146"},{"source":"2576","target":"2355","strength":"0.8060033202143813"},{"source":"2576","target":"2386","strength":"0.7379298156885388"},{"source":"2576","target":"2390","strength":"0.7003328703682158"},{"source":"2576","target":"2449","strength":"0.7540359291546646"},{"source":"2576","target":"2502","strength":"0.7396181017622185"},{"source":"2576","target":"2570","strength":"0.766320061032172"},{"source":"2576","target":"2699","strength":"0.7607603920647602"},{"source":"2576","target":"2731","strength":"0.8646967493952251"},{"source":"2576","target":"2773","strength":"0.8199507345257989"},{"source":"2578","target":"2503","strength":"0.7809252719957012"},{"source":"2578","target":"2504","strength":"0.7313185217130114"},{"source":"2578","target":"2579","strength":"0.9410160932914682"},{"source":"2578","target":"2580","strength":"0.8503698554293523"},{"source":"2578","target":"2582","strength":"0.7718294691483573"},{"source":"2578","target":"2583","strength":"0.7134351495862636"},{"source":"2578","target":"2584","strength":"0.8278651044282795"},{"source":"2579","target":"2503","strength":"0.7745960852050394"},{"source":"2579","target":"2504","strength":"0.7638436491925034"},{"source":"2579","target":"2578","strength":"0.9410160932914682"},{"source":"2579","target":"2580","strength":"0.8217202687438209"},{"source":"2579","target":"2582","strength":"0.7325257125882683"},{"source":"2579","target":"2584","strength":"0.8462500469120572"},{"source":"2580","target":"2001","strength":"0.738977718683411"},{"source":"2580","target":"2503","strength":"0.8456871723615406"},{"source":"2580","target":"2504","strength":"0.8576054540732858"},{"source":"2580","target":"2578","strength":"0.8503698554293523"},{"source":"2580","target":"2579","strength":"0.8217202687438209"},{"source":"2580","target":"2582","strength":"0.8179305055871029"},{"source":"2580","target":"2583","strength":"0.8460255087091098"},{"source":"2580","target":"2584","strength":"0.7569454558562426"},{"source":"2580","target":"2719","strength":"0.7363819563584081"},{"source":"2582","target":"2503","strength":"0.7524925478551627"},{"source":"2582","target":"2504","strength":"0.7599279534952808"},{"source":"2582","target":"2578","strength":"0.7718294691483573"},{"source":"2582","target":"2579","strength":"0.7325257125882683"},{"source":"2582","target":"2580","strength":"0.8179305055871029"},{"source":"2582","target":"2583","strength":"0.7214909550574441"},{"source":"2582","target":"2584","strength":"0.7013456977798254"},{"source":"2583","target":"2503","strength":"0.7262824315748089"},{"source":"2583","target":"2504","strength":"0.7752212454048806"},{"source":"2583","target":"2578","strength":"0.7134351495862636"},{"source":"2583","target":"2580","strength":"0.8460255087091098"},{"source":"2583","target":"2582","strength":"0.7214909550574441"},{"source":"2584","target":"2503","strength":"0.7092974767925556"},{"source":"2584","target":"2578","strength":"0.8278651044282795"},{"source":"2584","target":"2579","strength":"0.8462500469120572"},{"source":"2584","target":"2580","strength":"0.7569454558562426"},{"source":"2584","target":"2582","strength":"0.7013456977798254"},{"source":"2584","target":"2719","strength":"0.7213734033199644"},{"source":"2585","target":"735","strength":"0.7317123345891626"},{"source":"2585","target":"741","strength":"0.7074715202203877"},{"source":"2585","target":"836","strength":"0.7209214935780659"},{"source":"2585","target":"872","strength":"0.7255485726543068"},{"source":"2585","target":"915","strength":"0.7023621873276666"},{"source":"2585","target":"1184","strength":"0.7599230325141684"},{"source":"2585","target":"1208","strength":"0.713953304293353"},{"source":"2585","target":"1522","strength":"0.7141986764151504"},{"source":"2585","target":"2044","strength":"0.7388234407680342"},{"source":"2585","target":"2355","strength":"0.7034814840504189"},{"source":"2585","target":"2387","strength":"0.712312155753239"},{"source":"2585","target":"2488","strength":"0.8499284313607133"},{"source":"2586","target":"1208","strength":"0.7401945475975186"},{"source":"2592","target":"292","strength":"0.7008746307306457"},{"source":"2592","target":"342","strength":"0.7233059420955735"},{"source":"2595","target":"2597","strength":"0.7363502917321396"},{"source":"2597","target":"2595","strength":"0.7363502917321396"},{"source":"2598","target":"686","strength":"0.7574522756252913"},{"source":"2598","target":"689","strength":"0.8878470420873125"},{"source":"2599","target":"867","strength":"0.7737177235356627"},{"source":"2599","target":"941","strength":"0.7025535585834468"},{"source":"2599","target":"945","strength":"0.7323494443855754"},{"source":"2599","target":"1094","strength":"0.707655238700196"},{"source":"2599","target":"2377","strength":"0.7259216921957311"},{"source":"2602","target":"18","strength":"0.8329182278233325"},{"source":"2602","target":"1442","strength":"0.7107638568005169"},{"source":"2602","target":"1447","strength":"0.7010472492901307"},{"source":"2613","target":"880","strength":"0.8037630111575567"},{"source":"2613","target":"2573","strength":"0.7792538652838665"},{"source":"2615","target":"464","strength":"0.7010725855854236"},{"source":"2615","target":"465","strength":"0.7010725855854236"},{"source":"2621","target":"2538","strength":"0.8880894994741462"},{"source":"2621","target":"2539","strength":"0.7916884010270162"},{"source":"2634","target":"2635","strength":"0.7412254306696825"},{"source":"2635","target":"2634","strength":"0.7412254306696825"},{"source":"2635","target":"2636","strength":"0.7079744093946831"},{"source":"2636","target":"2635","strength":"0.7079744093946831"},{"source":"2637","target":"2638","strength":"0.8100516552432563"},{"source":"2637","target":"2639","strength":"0.8061924876506573"},{"source":"2638","target":"2637","strength":"0.8100516552432563"},{"source":"2638","target":"2639","strength":"0.7464628852075895"},{"source":"2639","target":"2637","strength":"0.8061924876506573"},{"source":"2639","target":"2638","strength":"0.7464628852075895"},{"source":"2649","target":"2650","strength":"0.8112772472814991"},{"source":"2649","target":"2651","strength":"0.8842808624849942"},{"source":"2649","target":"2652","strength":"0.7249882162420972"},{"source":"2649","target":"2653","strength":"1.0000000000000009"},{"source":"2650","target":"2649","strength":"0.8112772472814991"},{"source":"2650","target":"2651","strength":"0.7817373052402318"},{"source":"2650","target":"2653","strength":"0.8112772472814991"},{"source":"2651","target":"2649","strength":"0.8842808624849942"},{"source":"2651","target":"2650","strength":"0.7817373052402318"},{"source":"2651","target":"2652","strength":"0.8144462700086775"},{"source":"2651","target":"2653","strength":"0.8842808624849942"},{"source":"2652","target":"2649","strength":"0.7249882162420972"},{"source":"2652","target":"2651","strength":"0.8144462700086775"},{"source":"2652","target":"2653","strength":"0.7249882162420972"},{"source":"2653","target":"2649","strength":"1.0000000000000009"},{"source":"2653","target":"2650","strength":"0.8112772472814991"},{"source":"2653","target":"2651","strength":"0.8842808624849942"},{"source":"2653","target":"2652","strength":"0.7249882162420972"},{"source":"2654","target":"613","strength":"0.8383336388148543"},{"source":"2654","target":"1115","strength":"0.711703116482665"},{"source":"2654","target":"1417","strength":"0.7420922320255726"},{"source":"2656","target":"2420","strength":"0.715295919303306"},{"source":"2673","target":"2674","strength":"0.7416092563385508"},{"source":"2674","target":"2673","strength":"0.7416092563385508"},{"source":"2677","target":"2678","strength":"1.0000000000000009"},{"source":"2678","target":"2677","strength":"1.0000000000000009"},{"source":"2683","target":"1960","strength":"0.8087288389288362"},{"source":"2683","target":"1961","strength":"0.8411235339220622"},{"source":"2684","target":"2685","strength":"0.8405277633123615"},{"source":"2684","target":"2686","strength":"0.9598622521354168"},{"source":"2684","target":"2687","strength":"0.8995443459425352"},{"source":"2684","target":"2688","strength":"0.9218290317138514"},{"source":"2685","target":"2684","strength":"0.8405277633123615"},{"source":"2685","target":"2686","strength":"0.8320668606670347"},{"source":"2685","target":"2687","strength":"0.8974041038312106"},{"source":"2685","target":"2688","strength":"0.7403919777632976"},{"source":"2686","target":"2684","strength":"0.9598622521354168"},{"source":"2686","target":"2685","strength":"0.8320668606670347"},{"source":"2686","target":"2687","strength":"0.8744861619127868"},{"source":"2686","target":"2688","strength":"0.8736791779631302"},{"source":"2687","target":"2684","strength":"0.8995443459425352"},{"source":"2687","target":"2685","strength":"0.8974041038312106"},{"source":"2687","target":"2686","strength":"0.8744861619127868"},{"source":"2687","target":"2688","strength":"0.8257146010648498"},{"source":"2688","target":"2684","strength":"0.9218290317138514"},{"source":"2688","target":"2685","strength":"0.7403919777632976"},{"source":"2688","target":"2686","strength":"0.8736791779631302"},{"source":"2688","target":"2687","strength":"0.8257146010648498"},{"source":"2690","target":"320","strength":"0.70125306973447"},{"source":"2690","target":"326","strength":"0.7055815455432355"},{"source":"2690","target":"2702","strength":"0.7924453281857586"},{"source":"2690","target":"2703","strength":"0.7216823644105628"},{"source":"2697","target":"438","strength":"0.7927585468393287"},{"source":"2697","target":"980","strength":"0.7927585468393287"},{"source":"2697","target":"1213","strength":"0.7877246390876602"},{"source":"2697","target":"1215","strength":"0.7237518824357173"},{"source":"2699","target":"485","strength":"0.8037786623953518"},{"source":"2699","target":"741","strength":"0.7374262780802142"},{"source":"2699","target":"1184","strength":"0.7665207912817041"},{"source":"2699","target":"1204","strength":"0.710538942381933"},{"source":"2699","target":"1205","strength":"0.8204170177728103"},{"source":"2699","target":"1443","strength":"0.7657855277494277"},{"source":"2699","target":"1684","strength":"0.8084998309482488"},{"source":"2699","target":"1730","strength":"0.7085675119561048"},{"source":"2699","target":"1773","strength":"0.7233824732461586"},{"source":"2699","target":"1799","strength":"0.7073116989685325"},{"source":"2699","target":"2089","strength":"0.783439729161639"},{"source":"2699","target":"2090","strength":"0.7190565427734243"},{"source":"2699","target":"2353","strength":"0.7130995912735689"},{"source":"2699","target":"2355","strength":"0.7191902692481227"},{"source":"2699","target":"2387","strength":"0.7044240804892284"},{"source":"2699","target":"2390","strength":"0.7692030805801493"},{"source":"2699","target":"2570","strength":"0.7208202397363792"},{"source":"2699","target":"2576","strength":"0.7607603920647602"},{"source":"2699","target":"2709","strength":"0.704358135904288"},{"source":"2699","target":"2731","strength":"0.7293885183944376"},{"source":"2699","target":"2798","strength":"0.7222236999787078"},{"source":"2700","target":"2701","strength":"0.9878404154696658"},{"source":"2701","target":"2700","strength":"0.9878404154696658"},{"source":"2702","target":"326","strength":"0.7215580400706596"},{"source":"2702","target":"2690","strength":"0.7924453281857586"},{"source":"2702","target":"2703","strength":"0.7790969521049144"},{"source":"2702","target":"2704","strength":"0.7383673709475531"},{"source":"2703","target":"326","strength":"0.7930471761231443"},{"source":"2703","target":"2690","strength":"0.7216823644105628"},{"source":"2703","target":"2702","strength":"0.7790969521049144"},{"source":"2703","target":"2704","strength":"0.738487762715968"},{"source":"2704","target":"2702","strength":"0.7383673709475531"},{"source":"2704","target":"2703","strength":"0.738487762715968"},{"source":"2709","target":"485","strength":"0.7914835021325225"},{"source":"2709","target":"1205","strength":"0.7320406615880091"},{"source":"2709","target":"2699","strength":"0.704358135904288"},{"source":"2712","target":"2713","strength":"0.8433615273298796"},{"source":"2712","target":"2714","strength":"0.7674273103450452"},{"source":"2713","target":"2712","strength":"0.8433615273298796"},{"source":"2714","target":"2712","strength":"0.7674273103450452"},{"source":"2719","target":"2580","strength":"0.7363819563584081"},{"source":"2719","target":"2584","strength":"0.7213734033199644"},{"source":"2720","target":"1912","strength":"0.795150220308985"},{"source":"2720","target":"2377","strength":"0.7906410022218369"},{"source":"2721","target":"533","strength":"0.7005671711809667"},{"source":"2721","target":"671","strength":"0.7485480540187605"},{"source":"2721","target":"907","strength":"0.7459077968972192"},{"source":"2721","target":"1021","strength":"0.7687693046921307"},{"source":"2721","target":"1054","strength":"0.7459077968972192"},{"source":"2721","target":"1677","strength":"0.734552129768442"},{"source":"2723","target":"690","strength":"0.7045694176718532"},{"source":"2723","target":"2454","strength":"0.8414109325602405"},{"source":"2731","target":"461","strength":"0.7429778331374516"},{"source":"2731","target":"737","strength":"0.7955551524919633"},{"source":"2731","target":"738","strength":"0.7274664723343571"},{"source":"2731","target":"739","strength":"0.7314505464579131"},{"source":"2731","target":"740","strength":"0.7587004580770129"},{"source":"2731","target":"741","strength":"0.8450920620200559"},{"source":"2731","target":"743","strength":"0.8608803079672098"},{"source":"2731","target":"744","strength":"0.8637898949263343"},{"source":"2731","target":"826","strength":"0.8053704130510568"},{"source":"2731","target":"836","strength":"0.7520173386908854"},{"source":"2731","target":"872","strength":"0.71926250925535"},{"source":"2731","target":"1092","strength":"0.7859387445326476"},{"source":"2731","target":"1181","strength":"0.7344002972091515"},{"source":"2731","target":"1184","strength":"0.7485548784936228"},{"source":"2731","target":"1339","strength":"0.8313023296728175"},{"source":"2731","target":"1347","strength":"0.873279050346447"},{"source":"2731","target":"1354","strength":"0.8104525751627392"},{"source":"2731","target":"1421","strength":"0.7099109010083893"},{"source":"2731","target":"1443","strength":"0.83134796243929"},{"source":"2731","target":"1516","strength":"0.7176338175883986"},{"source":"2731","target":"1518","strength":"0.7144568491118771"},{"source":"2731","target":"1519","strength":"0.7165144228211597"},{"source":"2731","target":"1521","strength":"0.7232183528344824"},{"source":"2731","target":"1632","strength":"0.7697602443727432"},{"source":"2731","target":"1684","strength":"0.7756793540203982"},{"source":"2731","target":"1730","strength":"0.7316508216746613"},{"source":"2731","target":"1773","strength":"0.8815779587383703"},{"source":"2731","target":"1791","strength":"0.7203490018696174"},{"source":"2731","target":"2046","strength":"0.8229483170383218"},{"source":"2731","target":"2089","strength":"0.7444938272323476"},{"source":"2731","target":"2090","strength":"0.7269932156122353"},{"source":"2731","target":"2270","strength":"0.8185195230951926"},{"source":"2731","target":"2353","strength":"0.8529359961819528"},{"source":"2731","target":"2354","strength":"0.7687802241442032"},{"source":"2731","target":"2355","strength":"0.7418732084167795"},{"source":"2731","target":"2386","strength":"0.7559242778276978"},{"source":"2731","target":"2387","strength":"0.7084993440595627"},{"source":"2731","target":"2390","strength":"0.7155607365730479"},{"source":"2731","target":"2449","strength":"0.7789852680920769"},{"source":"2731","target":"2502","strength":"0.7800322496222927"},{"source":"2731","target":"2570","strength":"0.8089317278142543"},{"source":"2731","target":"2576","strength":"0.8646967493952251"},{"source":"2731","target":"2699","strength":"0.7293885183944376"},{"source":"2731","target":"2773","strength":"0.8486942719450554"},{"source":"2739","target":"1660","strength":"0.7379505007080593"},{"source":"2741","target":"850","strength":"0.7019392269875324"},{"source":"2743","target":"2550","strength":"0.7665267143376802"},{"source":"2749","target":"524","strength":"0.7795794777334564"},{"source":"2749","target":"709","strength":"0.7071907816871675"},{"source":"2749","target":"830","strength":"0.7039132581018663"},{"source":"2749","target":"1050","strength":"0.7622808845070447"},{"source":"2749","target":"1402","strength":"0.7000363499962508"},{"source":"2749","target":"1999","strength":"0.8505217696652853"},{"source":"2749","target":"2180","strength":"0.7468855122173539"},{"source":"2750","target":"555","strength":"0.7173698089965181"},{"source":"2750","target":"994","strength":"0.703708636832324"},{"source":"2750","target":"1218","strength":"0.7418918414096308"},{"source":"2750","target":"1220","strength":"0.7418918414096308"},{"source":"2750","target":"1224","strength":"0.7369223439655456"},{"source":"2750","target":"2131","strength":"0.7574225303054111"},{"source":"2750","target":"2434","strength":"0.7354940922145261"},{"source":"2750","target":"2459","strength":"0.711300824480189"},{"source":"2750","target":"2497","strength":"0.7482721782499827"},{"source":"2750","target":"2543","strength":"0.7305151634205267"},{"source":"2754","target":"2755","strength":"0.8062399663871822"},{"source":"2755","target":"2754","strength":"0.8062399663871822"},{"source":"2762","target":"169","strength":"0.844608714501643"},{"source":"2762","target":"264","strength":"0.835432835951163"},{"source":"2773","target":"737","strength":"0.7485159794574745"},{"source":"2773","target":"738","strength":"0.722836894333392"},{"source":"2773","target":"739","strength":"0.7177102752676203"},{"source":"2773","target":"740","strength":"0.7786554597020522"},{"source":"2773","target":"741","strength":"0.8235419746631134"},{"source":"2773","target":"743","strength":"0.7994658667171811"},{"source":"2773","target":"744","strength":"0.8292647240148159"},{"source":"2773","target":"826","strength":"0.8334518818779394"},{"source":"2773","target":"836","strength":"0.747943596106629"},{"source":"2773","target":"872","strength":"0.7294358506578077"},{"source":"2773","target":"1092","strength":"0.8631801770763519"},{"source":"2773","target":"1184","strength":"0.7703701538983839"},{"source":"2773","target":"1339","strength":"0.869288564310447"},{"source":"2773","target":"1347","strength":"0.7788437112604074"},{"source":"2773","target":"1354","strength":"0.7435355297850117"},{"source":"2773","target":"1443","strength":"0.7897560932957315"},{"source":"2773","target":"1516","strength":"0.7586606662052003"},{"source":"2773","target":"1518","strength":"0.7476908609277595"},{"source":"2773","target":"1521","strength":"0.7829560106408711"},{"source":"2773","target":"1632","strength":"0.762307997352931"},{"source":"2773","target":"1684","strength":"0.7174034665354533"},{"source":"2773","target":"1773","strength":"0.7946551814613861"},{"source":"2773","target":"1791","strength":"0.7188912227165851"},{"source":"2773","target":"2046","strength":"0.8858906135333402"},{"source":"2773","target":"2089","strength":"0.7110745620956223"},{"source":"2773","target":"2090","strength":"0.7227011564157904"},{"source":"2773","target":"2270","strength":"0.8221514366023928"},{"source":"2773","target":"2353","strength":"0.7993646042299489"},{"source":"2773","target":"2354","strength":"0.7727453750610802"},{"source":"2773","target":"2355","strength":"0.7950657489274295"},{"source":"2773","target":"2386","strength":"0.7140840001643893"},{"source":"2773","target":"2387","strength":"0.7038260305716736"},{"source":"2773","target":"2449","strength":"0.7618548779251949"},{"source":"2773","target":"2502","strength":"0.7472727593635177"},{"source":"2773","target":"2570","strength":"0.7902275930604794"},{"source":"2773","target":"2576","strength":"0.8199507345257989"},{"source":"2773","target":"2731","strength":"0.8486942719450554"},{"source":"2777","target":"1451","strength":"0.733209006783342"},{"source":"2777","target":"1907","strength":"0.8328730762007964"},{"source":"2777","target":"2217","strength":"0.7120592718194656"},{"source":"2783","target":"158","strength":"0.7740419662894402"},{"source":"2783","target":"1505","strength":"0.7126120853348219"},{"source":"2792","target":"2234","strength":"0.72644552312795"},{"source":"2793","target":"877","strength":"0.7034960976157131"},{"source":"2798","target":"485","strength":"0.7494143031150516"},{"source":"2798","target":"1205","strength":"0.74688013987869"},{"source":"2798","target":"2699","strength":"0.7222236999787078"},{"source":"2799","target":"204","strength":"0.7495441150709893"},{"source":"2799","target":"320","strength":"0.7684671494591988"},{"source":"2799","target":"321","strength":"0.7527169247824348"},{"source":"2799","target":"1273","strength":"0.8271933172784138"},{"source":"2800","target":"705","strength":"0.7632503780475757"}]}'),ks=JSON.parse('{"nodes":[{"id":"0","x":"7.029322","y":"10.8602495","name":"You will rejoice to hear that no disaster has accompanied the commencement of an enterprise which you have regarded with such evil forebodings.","group":"38"},{"id":"1","x":"8.630176","y":"10.427842","name":"I arrived here yesterday; and my first task is to assure my dear sister of my welfare, and increasing confidence in the success of my undertaking.","group":"-1"},{"id":"2","x":"4.6463747","y":"7.664096","name":"I am already far north of London; and as I walk in the streets of Petersburgh, I feel a cold northern breeze play upon my cheeks, which braces my nerves, and fills me with delight.","group":"-1"},{"id":"3","x":"4.63804","y":"7.624974","name":"This breeze, which has travelled from the regions towards which I am advancing, gives me a foretaste of those icy climes.","group":"20"},{"id":"4","x":"4.8109126","y":"7.8016562","name":"I try in vain to be persuaded that the pole is the seat of frost and desolation; it ever presents itself to my imagination as the region of beauty and delight.","group":"20"},{"id":"5","x":"4.4425125","y":"9.161728","name":"There, Margaret, the sun is for ever visible; its broad disk just skirting the horizon, and diffusing a perpetual splendour.","group":"21"},{"id":"6","x":"4.8306475","y":"7.4549475","name":"There--for with your leave, my sister, I will put some trust in preceding navigators--there snow and frost are banished; and, sailing over a calm sea, we may be wafted to a land surpassing in wonders and in beauty every region hitherto discovered on the habitable globe.","group":"20"},{"id":"7","x":"4.1038055","y":"9.518911","name":"Its productions and features may be without example, as the phenomena of the heavenly bodies undoubtedly are in those undiscovered solitudes.","group":"-1"},{"id":"8","x":"4.178031","y":"10.012112","name":"I may there discover the wondrous power which attracts the needle; and may regulate a thousand celestial observations, that require only this voyage to render their seeming eccentricities consistent for ever.","group":"-1"},{"id":"9","x":"4.9458094","y":"7.531856","name":"I shall satiate my ardent curiosity with the sight of a part of the world never before visited, and may tread a land never before imprinted by the foot of man.","group":"20"},{"id":"10","x":"5.3912163","y":"7.5672846","name":"These are my enticements, and they are sufficient to conquer all fear of danger or death, and to induce me to commence this laborious voyage with the joy a child feels when he embarks in a little boat, with his holiday mates, on an expedition of discovery up his native river.","group":"-1"},{"id":"11","x":"4.871489","y":"7.548018","name":"But, supposing all these conjectures to be false, you cannot contest the inestimable benefit which I shall confer on all mankind to the last generation, by discovering a passage near the pole to those countries, to reach which at present so many months are requisite; or by ascertaining the secret of the magnet, which, if at all possible, can only be effected by an undertaking such as mine.","group":"20"},{"id":"12","x":"6.9827256","y":"9.964138","name":"These reflections have dispelled the agitation with which I began my letter, and I feel my heart glow with an enthusiasm which elevates me to heaven; for nothing contributes so much to tranquillise the mind as a steady purpose,--a point on which the soul may fix its intellectual eye.","group":"-1"},{"id":"13","x":"4.8718863","y":"7.4905324","name":"I have read with ardour the accounts of the various voyages which have been made in the prospect of arriving at the North Pacific Ocean through the seas which surround the pole.","group":"20"},{"id":"14","x":"6.922282","y":"7.907564","name":"You may remember, that a history of all the voyages made for purposes of discovery composed the whole of our good uncle Thomas\'s library.","group":"-1"},{"id":"15","x":"7.2821927","y":"8.011568","name":"These volumes were my study day and night, and my familiarity with them increased that regret which I had felt, as a child, on learning that my father\'s dying injunction had forbidden my uncle to allow me to embark in a seafaring life.","group":"14"},{"id":"16","x":"6.7694507","y":"9.524667","name":"These visions faded when I perused, for the first time, those poets whose effusions entranced my soul, and lifted it to heaven.","group":"-1"},{"id":"17","x":"6.814682","y":"9.286568","name":"I also became a poet, and for one year lived in a Paradise of my own creation; I imagined that I also might obtain a niche in the temple where the names of Homer and Shakspeare are consecrated.","group":"-1"},{"id":"18","x":"8.302507","y":"9.493821","name":"But just at that time I inherited the fortune of my cousin, and my thoughts were turned into the channel of their earlier bent.","group":"-1"},{"id":"19","x":"5.847638","y":"7.5092964","name":"I accompanied the whale-fishers on several expeditions to the North Sea; I voluntarily endured cold, famine, thirst, and want of sleep; I often worked harder than the common sailors during the day, and devoted my nights to the study of mathematics, the theory of medicine, and those branches of physical science from which a naval adventurer might derive the greatest practical advantage.","group":"10"},{"id":"20","x":"5.8105664","y":"7.3926687","name":"Twice I actually hired myself as an under-mate in a Greenland whaler, and acquitted myself to admiration.","group":"10"},{"id":"21","x":"5.8357286","y":"7.4661193","name":"I must own I felt a little proud, when my captain offered me the second dignity in the vessel, and entreated me to remain with the greatest earnestness; so valuable did he consider my services.","group":"10"},{"id":"22","x":"6.540216","y":"9.557883","name":"My life might have been passed in ease and luxury; but I preferred glory to every enticement that wealth placed in my path.","group":"-1"},{"id":"23","x":"5.4622316","y":"7.616697","name":"I am about to proceed on a long and difficult voyage, the emergencies of which will demand all my fortitude: I am required not only to raise the spirits of others, but sometimes to sustain my own, when theirs are failing.","group":"-1"},{"id":"24","x":"4.294849","y":"7.4031043","name":"They fly quickly over the snow in their sledges; the motion is pleasant, and, in my opinion, far more agreeable than that of an English stage-coach.","group":"20"},{"id":"25","x":"4.7322016","y":"7.8979545","name":"The cold is not excessive, if you are wrapped in furs,--a dress which I have already adopted; for there is a great difference between walking the deck and remaining seated motionless for hours, when no exercise prevents the blood from actually freezing in your veins.","group":"-1"},{"id":"26","x":"5.7321315","y":"7.447965","name":"I shall depart for the latter town in a fortnight or three weeks; and my intention is to hire a ship there, which can easily be done by paying the insurance for the owner, and to engage as many sailors as I think necessary among those who are accustomed to the whale-fishing.","group":"10"},{"id":"27","x":"8.008663","y":"10.4757","name":"Heaven shower down blessings on you, and save me, that I may again and again testify my gratitude for all your love and kindness.","group":"-1"},{"id":"28","x":"5.696386","y":"7.393171","name":"I have hired a vessel, and am occupied in collecting my sailors; those whom I have already engaged, appear to be men on whom I can depend, and are certainly possessed of dauntless courage.","group":"10"},{"id":"29","x":"6.245774","y":"11.409325","name":"But I have one want which I have never yet been able to satisfy; and the absence of the object of which I now feel as a most severe evil.","group":"35"},{"id":"30","x":"7.5168576","y":"10.111873","name":"I have no friend, Margaret: when I am glowing with the enthusiasm of success, there will be none to participate my joy; if I am assailed by disappointment, no one will endeavour to sustain me in dejection.","group":"28"},{"id":"31","x":"8.3057575","y":"10.456221","name":"I shall commit my thoughts to paper, it is true; but that is a poor medium for the communication of feeling.","group":"27"},{"id":"32","x":"7.7166977","y":"9.214104","name":"I have no one near me, gentle yet courageous, possessed of a cultivated as well as of a capacious mind, whose tastes are like my own, to approve or amend my plans.","group":"-1"},{"id":"33","x":"7.2065916","y":"7.953589","name":"But it is a still greater evil to me that I am self-educated: for the first fourteen years of my life I ran wild on a common, and read nothing but our uncle Thomas\'s books of voyages.","group":"-1"},{"id":"34","x":"7.837408","y":"8.025475","name":"At that age I became acquainted with the celebrated poets of our own country; but it was only when it had ceased to be in my power to derive its most important benefits from such a conviction, that I perceived the necessity of becoming acquainted with more languages than that of my native country.","group":"7"},{"id":"35","x":"7.821831","y":"9.551013","name":"It is true that I have thought more, and that my day dreams are more extended and magnificent; but they want (as the painters call it) _keeping_; and I greatly need a friend who would have sense enough not to despise me as romantic, and affection enough for me to endeavour to regulate my mind.","group":"24"},{"id":"36","x":"7.5652323","y":"10.766655","name":"Well, these are useless complaints; I shall certainly find no friend on the wide ocean, nor even here in Archangel, among merchants and seamen.","group":"25"},{"id":"37","x":"7.6892285","y":"8.897377","name":"My lieutenant, for instance, is a man of wonderful courage and enterprise; he is madly desirous of glory: or rather, to word my phrase more characteristically, of advancement in his profession.","group":"24"},{"id":"38","x":"8.215159","y":"9.380064","name":"He is an Englishman, and in the midst of national and professional prejudices, unsoftened by cultivation, retains some of the noblest endowments of humanity.","group":"-1"},{"id":"39","x":"5.7857704","y":"7.39305","name":"I first became acquainted with him on board a whale vessel: finding that he was unemployed in this city, I easily engaged him to assist in my enterprise.","group":"10"},{"id":"40","x":"7.976983","y":"9.139274","name":"The master is a person of an excellent disposition, and is remarkable in the ship for his gentleness and the mildness of his discipline.","group":"24"},{"id":"41","x":"7.6014953","y":"8.807525","name":"This circumstance, added to his well known integrity and dauntless courage, made me very desirous to engage him.","group":"24"},{"id":"42","x":"5.9718375","y":"7.457023","name":"A youth passed in solitude, my best years spent under your gentle and feminine fosterage, has so refined the groundwork of my character, that I cannot overcome an intense distaste to the usual brutality exercised on board ship: I have never believed it to be necessary; and when I heard of a mariner equally noted for his kindliness of heart, and the respect and obedience paid to him by his crew, I felt myself peculiarly fortunate in being able to secure his services.","group":"-1"},{"id":"43","x":"8.629129","y":"9.190414","name":"I heard of him first in rather a romantic manner, from a lady who owes to him the happiness of her life.","group":"22"},{"id":"44","x":"9.575927","y":"8.352522","name":"Some years ago, he loved a young Russian lady, of moderate fortune; and having amassed a considerable sum in prize-money, the father of the girl consented to the match.","group":"9"},{"id":"45","x":"9.657525","y":"8.614372","name":"He saw his mistress once before the destined ceremony; but she was bathed in tears, and, throwing herself at his feet, entreated him to spare her, confessing at the same time that she loved another, but that he was poor, and that her father would never consent to the union.","group":"9"},{"id":"46","x":"9.747191","y":"8.633138","name":"My generous friend reassured the suppliant, and on being informed of the name of her lover, instantly abandoned his pursuit.","group":"9"},{"id":"47","x":"9.498094","y":"8.261473","name":"He had already bought a farm with his money, on which he had designed to pass the remainder of his life; but he bestowed the whole on his rival, together with the remains of his prize-money to purchase stock, and then himself solicited the young woman\'s father to consent to her marriage with her lover.","group":"-1"},{"id":"48","x":"9.592386","y":"8.543349","name":"But the old man decidedly refused, thinking himself bound in honour to my friend; who, when he found the father inexorable, quitted his country, nor returned until he heard that his former mistress was married according to her inclinations.","group":"9"},{"id":"49","x":"8.109797","y":"9.220884","name":"He is so; but then he is wholly uneducated: he is as silent as a Turk, and a kind of ignorant carelessness attends him, which, while it renders his conduct the more astonishing, detracts from the interest and sympathy which otherwise he would command.","group":"-1"},{"id":"50","x":"6.6987906","y":"11.086436","name":"Yet do not suppose, because I complain a little, or because I can conceive a consolation for my toils which I may never know, that I am wavering in my resolutions.","group":"38"},{"id":"51","x":"5.2038684","y":"7.6325545","name":"Those are as fixed as fate; and my voyage is only now delayed until the weather shall permit my embarkation.","group":"-1"},{"id":"52","x":"5.0417094","y":"7.7745543","name":"The winter has been dreadfully severe; but the spring promises well, and it is considered as a remarkably early season; so that perhaps I may sail sooner than I expected.","group":"-1"},{"id":"53","x":"8.396242","y":"10.314262","name":"I shall do nothing rashly: you know me sufficiently to confide in my prudence and considerateness, whenever the safety of others is committed to my care.","group":"27"},{"id":"54","x":"5.810276","y":"11.2845","name":"It is impossible to communicate to you a conception of the trembling sensation, half pleasurable and half fearful, with which I am preparing to depart.","group":"-1"},{"id":"55","x":"4.69034","y":"7.418814","name":"I am going to unexplored regions, to \\"the land of mist and snow\\"; but I shall kill no albatross, therefore do not be alarmed for my safety, or if I should come back to you as worn and woful as the \\"Ancient Mariner\\"?","group":"20"},{"id":"56","x":"7.4232373","y":"8.795743","name":"I have often attributed my attachment to, my passionate enthusiasm for, the dangerous mysteries of ocean, to that production of the most imaginative of modern poets.","group":"-1"},{"id":"57","x":"7.5792875","y":"8.9791565","name":"I am practically industrious--pains-taking;--a workman to execute with perseverance and labour:--but besides this, there is a love for the marvellous, a belief in the marvellous, intertwined in all my projects, which hurries me out of the common pathways of men, even to the wild sea and unvisited regions I am about to explore.","group":"24"},{"id":"58","x":"4.962301","y":"7.378734","name":"Shall I meet you again, after having traversed immense seas, and returned by the most southern cape of Africa or America?","group":"-1"},{"id":"59","x":"8.35432","y":"10.515967","name":"Continue for the present to write to me by every opportunity: I may receive your letters on some occasions when I need them most to support my spirits.","group":"27"},{"id":"60","x":"7.186955","y":"8.1921835","name":"This letter will reach England by a merchantman now on its homeward voyage from Archangel; more fortunate than I, who may not see my native land, perhaps, for many years.","group":"14"},{"id":"61","x":"4.815657","y":"7.491077","name":"I am, however, in good spirits: my men are bold, and apparently firm of purpose; nor do the floating sheets of ice that continually pass us, indicating the dangers of the region towards which we are advancing, appear to dismay them.","group":"20"},{"id":"62","x":"4.8051424","y":"7.647784","name":"We have already reached a very high latitude; but it is the height of summer, and although not so warm as in England, the southern gales, which blow us speedily towards those shores which I so ardently desire to attain, breathe a degree of renovating warmth which I had not expected.","group":"20"},{"id":"63","x":"5.2399764","y":"7.6412306","name":"One or two stiff gales, and the springing of a leak, are accidents which experienced navigators scarcely remember to record; and I shall be well content if nothing worse happen to us during our voyage.","group":"-1"},{"id":"64","x":"4.9679337","y":"7.65005","name":"Thus far I have gone, tracing a secure way over the pathless seas: the very stars themselves being witnesses and testimonies of my triumph.","group":"-1"},{"id":"65","x":"7.23931","y":"10.6647415","name":"So strange an accident has happened to us, that I cannot forbear recording it, although it is very probable that you will see me before these papers can come into your possession.","group":"-1"},{"id":"66","x":"4.4795885","y":"7.479101","name":"Last Monday (July 31st), we were nearly surrounded by ice, which closed in the ship on all sides, scarcely leaving her the sea-room in which she floated.","group":"20"},{"id":"67","x":"3.994832","y":"7.952662","name":"About two o\'clock the mist cleared away, and we beheld, stretched out in every direction, vast and irregular plains of ice, which seemed to have no end.","group":"18"},{"id":"68","x":"5.8004413","y":"10.985675","name":"Some of my comrades groaned, and my own mind began to grow watchful with anxious thoughts, when a strange sight suddenly attracted our attention, and diverted our solicitude from our own situation.","group":"34"},{"id":"69","x":"4.131962","y":"7.532871","name":"We perceived a low carriage, fixed on a sledge and drawn by dogs, pass on towards the north, at the distance of half a mile: a being which had the shape of a man, but apparently of gigantic stature, sat in the sledge, and guided the dogs.","group":"20"},{"id":"70","x":"4.288168","y":"7.6923933","name":"We watched the rapid progress of the traveller with our telescopes, until he was lost among the distant inequalities of the ice.","group":"20"},{"id":"71","x":"4.125451","y":"9.353407","name":"We were, as we believed, many hundred miles from any land; but this apparition seemed to denote that it was not, in reality, so distant as we had supposed.","group":"-1"},{"id":"72","x":"4.363907","y":"7.67118","name":"Shut in, however, by ice, it was impossible to follow his track, which we had observed with the greatest attention.","group":"20"},{"id":"73","x":"4.3611326","y":"7.768657","name":"About two hours after this occurrence, we heard the ground sea; and before night the ice broke, and freed our ship.","group":"-1"},{"id":"74","x":"4.4154205","y":"7.642845","name":"We, however, lay to until the morning, fearing to encounter in the dark those large loose masses which float about after the breaking up of the ice.","group":"20"},{"id":"75","x":"5.466077","y":"7.772035","name":"In the morning, however, as soon as it was light, I went upon deck, and found all the sailors busy on one side of the vessel, apparently talking to some one in the sea.","group":"-1"},{"id":"76","x":"4.111949","y":"7.4961743","name":"It was, in fact, a sledge, like that we had seen before, which had drifted towards us in the night, on a large fragment of ice.","group":"-1"},{"id":"77","x":"5.4570165","y":"7.89429","name":"Only one dog remained alive; but there was a human being within it, whom the sailors were persuading to enter the vessel.","group":"21"},{"id":"78","x":"7.576428","y":"7.974723","name":"He was not, as the other traveller seemed to be, a savage inhabitant of some undiscovered island, but an European.","group":"-1"},{"id":"79","x":"5.6188173","y":"7.401977","name":"When I appeared on deck, the master said, \\"Here is our captain, and he will not allow you to perish on the open sea.\\"","group":"10"},{"id":"80","x":"5.7502522","y":"7.4564433","name":"\\"Before I come on board your vessel,\\" said he, \\"will you have the kindness to inform me whither you are bound?\\"","group":"10"},{"id":"81","x":"5.571218","y":"7.3690996","name":"You may conceive my astonishment on hearing such a question addressed to me from a man on the brink of destruction, and to whom I should have supposed that my vessel would have been a resource which he would not have exchanged for the most precious wealth the earth can afford.","group":"10"},{"id":"82","x":"8.235859","y":"11.332056","name":"Margaret, if you had seen the man who thus capitulated for his safety, your surprise would have been boundless.","group":"-1"},{"id":"83","x":"5.714297","y":"7.96702","name":"We accordingly brought him back to the deck, and restored him to animation by rubbing him with brandy, and forcing him to swallow a small quantity.","group":"-1"},{"id":"84","x":"5.656353","y":"8.120178","name":"As soon as he showed signs of life we wrapped him up in blankets, and placed him near the chimney of the kitchen stove.","group":"21"},{"id":"85","x":"6.7683425","y":"10.564648","name":"Two days passed in this manner before he was able to speak; and I often feared that his sufferings had deprived him of understanding.","group":"37"},{"id":"86","x":"5.750679","y":"7.991745","name":"When he had in some measure recovered, I removed him to my own cabin, and attended on him as much as my duty would permit.","group":"21"},{"id":"87","x":"8.605971","y":"9.230977","name":"I never saw a more interesting creature: his eyes have generally an expression of wildness, and even madness; but there are moments when, if any one performs an act of kindness towards him, or does him any the most trifling service, his whole countenance is lighted up, as it were, with a beam of benevolence and sweetness that I never saw equalled.","group":"22"},{"id":"88","x":"7.2876244","y":"11.502018","name":"But he is generally melancholy and despairing; and sometimes he gnashes his teeth, as if impatient of the weight of woes that oppresses him.","group":"-1"},{"id":"89","x":"7.650849","y":"10.082558","name":"When my guest was a little recovered, I had great trouble to keep off the men, who wished to ask him a thousand questions; but I would not allow him to be tormented by their idle curiosity, in a state of body and mind whose restoration evidently depended upon entire repose.","group":"28"},{"id":"90","x":"5.603913","y":"9.709254","name":"His countenance instantly assumed an aspect of the deepest gloom; and he replied, \\"To seek one who fled from me.\\"","group":"30"},{"id":"91","x":"4.1642585","y":"7.535849","name":"\\"Then I fancy we have seen him; for the day before we picked you up, we saw some dogs drawing a sledge, with a man in it, across the ice.\\"","group":"20"},{"id":"92","x":"8.425738","y":"7.7997875","name":"This aroused the stranger\'s attention; and he asked a multitude of questions concerning the route which the d\xe6mon, as he called him, had pursued.","group":"-1"},{"id":"93","x":"7.830615","y":"10.057374","name":"Soon after, when he was alone with me, he said,--\\"I have, doubtless, excited your curiosity, as well as that of these good people; but you are too considerate to make enquiries.\\"","group":"-1"},{"id":"94","x":"8.52441","y":"11.619375","name":"\\"Certainly; it would indeed be very impertinent and inhuman in me to trouble you with any inquisitiveness of mine.\\"","group":"-1"},{"id":"95","x":"8.201053","y":"10.59211","name":"\\"And yet you rescued me from a strange and perilous situation; you have benevolently restored me to life.\\"","group":"27"},{"id":"96","x":"4.2804694","y":"7.4823346","name":"Soon after this he enquired if I thought that the breaking up of the ice had destroyed the other sledge?","group":"20"},{"id":"97","x":"4.562829","y":"7.5348573","name":"I replied, that I could not answer with any degree of certainty; for the ice had not broken until near midnight, and the traveller might have arrived at a place of safety before that time; but of this I could not judge.","group":"20"},{"id":"98","x":"5.650118","y":"7.9805512","name":"He manifested the greatest eagerness to be upon deck, to watch for the sledge which had before appeared; but I have persuaded him to remain in the cabin, for he is far too weak to sustain the rawness of the atmosphere.","group":"21"},{"id":"99","x":"7.2655587","y":"10.886475","name":"I have promised that some one should watch for him, and give him instant notice if any new object should appear in sight.","group":"-1"},{"id":"100","x":"7.880024","y":"9.819435","name":"The stranger has gradually improved in health, but is very silent, and appears uneasy when any one except myself enters his cabin.","group":"-1"},{"id":"101","x":"8.415548","y":"8.985582","name":"Yet his manners are so conciliating and gentle, that the sailors are all interested in him, although they have had very little communication with him.","group":"22"},{"id":"102","x":"8.3127","y":"10.562809","name":"For my own part, I begin to love him as a brother; and his constant and deep grief fills me with sympathy and compassion.","group":"27"},{"id":"103","x":"8.729325","y":"9.203167","name":"He must have been a noble creature in his better days, being even now in wreck so attractive and amiable.","group":"-1"},{"id":"104","x":"7.700317","y":"9.680471","name":"I said in one of my letters, my dear Margaret, that I should find no friend on the wide ocean; yet I have found a man who, before his spirit had been broken by misery, I should have been happy to have possessed as the brother of my heart.","group":"-1"},{"id":"105","x":"6.638901","y":"10.78265","name":"I shall continue my journal concerning the stranger at intervals, should I have any fresh incidents to record.","group":"37"},{"id":"106","x":"7.8574405","y":"9.374835","name":"He is so gentle, yet so wise; his mind is so cultivated; and when he speaks, although his words are culled with the choicest art, yet they flow with rapidity and unparalleled eloquence.","group":"24"},{"id":"107","x":"5.6006637","y":"7.9216194","name":"He is now much recovered from his illness, and is continually on the deck, apparently watching for the sledge that preceded his own.","group":"21"},{"id":"108","x":"7.2675815","y":"9.2693","name":"Yet, although unhappy, he is not so utterly occupied by his own misery, but that he interests himself deeply in the projects of others.","group":"-1"},{"id":"109","x":"7.8283544","y":"9.132623","name":"He entered attentively into all my arguments in favour of my eventual success, and into every minute detail of the measures I had taken to secure it.","group":"-1"},{"id":"110","x":"7.663158","y":"10.877586","name":"I was easily led by the sympathy which he evinced, to use the language of my heart; to give utterance to the burning ardour of my soul; and to say, with all the fervour that warmed me, how gladly I would sacrifice my fortune, my existence, my every hope, to the furtherance of my enterprise.","group":"25"},{"id":"111","x":"7.7779326","y":"10.969255","name":"One man\'s life or death were but a small price to pay for the acquirement of the knowledge which I sought; for the dominion I should acquire and transmit over the elemental foes of our race.","group":"25"},{"id":"112","x":"6.935665","y":"10.382566","name":"At first I perceived that he tried to suppress his emotion; he placed his hands before his eyes; and my voice quivered and failed me, as I beheld tears trickle fast from between his fingers,--a groan burst from his heaving breast.","group":"-1"},{"id":"113","x":"6.717759","y":"10.026292","name":"Such words, you may imagine, strongly excited my curiosity; but the paroxysm of grief that had seized the stranger overcame his weakened powers, and many hours of repose and tranquil conversation were necessary to restore his composure.","group":"29"},{"id":"114","x":"6.9717956","y":"11.705004","name":"Having conquered the violence of his feelings, he appeared to despise himself for being the slave of passion; and quelling the dark tyranny of despair, he led me again to converse concerning myself personally.","group":"39"},{"id":"115","x":"7.7612066","y":"10.015608","name":"I spoke of my desire of finding a friend--of my thirst for a more intimate sympathy with a fellow mind than had ever fallen to my lot; and expressed my conviction that a man could boast of little happiness, who did not enjoy this blessing.","group":"28"},{"id":"116","x":"8.027785","y":"10.095433","name":"\\"I agree with you,\\" replied the stranger; \\"we are unfashioned creatures, but half made up, if one wiser, better, dearer than ourselves--such a friend ought to be--do not lend his aid to perfectionate our weak and faulty natures.","group":"28"},{"id":"117","x":"8.110782","y":"10.08953","name":"I once had a friend, the most noble of human creatures, and am entitled, therefore, to judge respecting friendship.","group":"28"},{"id":"118","x":"7.179757","y":"10.09015","name":"As he said this, his countenance became expressive of a calm settled grief, that touched me to the heart.","group":"-1"},{"id":"119","x":"6.1937723","y":"8.809522","name":"The starry sky, the sea, and every sight afforded by these wonderful regions, seems still to have the power of elevating his soul from earth.","group":"-1"},{"id":"120","x":"6.706246","y":"9.852065","name":"Such a man has a double existence: he may suffer misery, and be overwhelmed by disappointments; yet, when he has retired into himself, he will be like a celestial spirit, that has a halo around him, within whose circle no grief or folly ventures.","group":"29"},{"id":"121","x":"7.851346","y":"9.282993","name":"You have been tutored and refined by books and retirement from the world, and you are, therefore, somewhat fastidious; but this only renders you the more fit to appreciate the extraordinary merits of this wonderful man.","group":"24"},{"id":"122","x":"7.9584937","y":"9.30231","name":"Sometimes I have endeavoured to discover what quality it is which he possesses, that elevates him so immeasurably above any other person I ever knew.","group":"24"},{"id":"123","x":"7.9496837","y":"9.306334","name":"I believe it to be an intuitive discernment; a quick but never-failing power of judgment; a penetration into the causes of things, unequalled for clearness and precision; add to this a facility of expression, and a voice whose varied intonations are soul-subduing music.","group":"24"},{"id":"124","x":"7.6005955","y":"10.676082","name":"Yesterday the stranger said to me, \\"You may easily perceive, Captain Walton, that I have suffered great and unparalleled misfortunes.","group":"-1"},{"id":"125","x":"7.4817066","y":"12.164797","name":"I had determined, at one time, that the memory of these evils should die with me; but you have won me to alter my determination.","group":"-1"},{"id":"126","x":"7.534922","y":"10.811184","name":"You seek for knowledge and wisdom, as I once did; and I ardently hope that the gratification of your wishes may not be a serpent to sting you, as mine has been.","group":"25"},{"id":"127","x":"6.8928604","y":"10.54779","name":"I do not know that the relation of my disasters will be useful to you; yet, when I reflect that you are pursuing the same course, exposing yourself to the same dangers which have rendered me what I am, I imagine that you may deduce an apt moral from my tale; one that may direct you if you succeed in your undertaking, and console you in case of failure.","group":"-1"},{"id":"128","x":"4.0891023","y":"9.39017","name":"Were we among the tamer scenes of nature, I might fear to encounter your unbelief, perhaps your ridicule; but many things will appear possible in these wild and mysterious regions, which would provoke the laughter of those unacquainted with the ever-varied powers of nature:--nor can I doubt but that my tale conveys in its series internal evidence of the truth of the events of which it is composed.\\"","group":"-1"},{"id":"129","x":"7.37242","y":"10.539682","name":"You may easily imagine that I was much gratified by the offered communication; yet I could not endure that he should renew his grief by a recital of his misfortunes.","group":"-1"},{"id":"130","x":"8.051904","y":"11.35699","name":"I felt the greatest eagerness to hear the promised narrative, partly from curiosity, and partly from a strong desire to ameliorate his fate, if it were in my power.","group":"-1"},{"id":"131","x":"8.016059","y":"11.758662","name":"I understand your feeling,\\" continued he, perceiving that I wished to interrupt him; \\"but you are mistaken, my friend, if thus you will allow me to name you; nothing can alter my destiny: listen to my history, and you will perceive how irrevocably it is determined.\\"","group":"-1"},{"id":"132","x":"6.307927","y":"10.849641","name":"I have resolved every night, when I am not imperatively occupied by my duties, to record, as nearly as possible in his own words, what he has related during the day.","group":"38"},{"id":"133","x":"7.8277273","y":"9.623091","name":"This manuscript will doubtless afford you the greatest pleasure: but to me, who know him, and who hear it from his own lips, with what interest and sympathy shall I read it in some future day!","group":"-1"},{"id":"134","x":"7.4132624","y":"9.834269","name":"Even now, as I commence my task, his full-toned voice swells in my ears; his lustrous eyes dwell on me with all their melancholy sweetness; I see his thin hand raised in animation, while the lineaments of his face are irradiated by the soul within.","group":"-1"},{"id":"135","x":"5.4049916","y":"8.062941","name":"Strange and harrowing must be his story; frightful the storm which embraced the gallant vessel on its course, and wrecked it--thus!","group":"21"},{"id":"136","x":"8.50904","y":"8.601554","name":"CHAPTER I.   I am by birth a Genevese; and my family is one of the most distinguished of that republic.","group":"-1"},{"id":"137","x":"8.504022","y":"9.068712","name":"My ancestors had been for many years counsellors and syndics; and my father had filled several public situations with honour and reputation.","group":"22"},{"id":"138","x":"8.553055","y":"8.84055","name":"He was respected by all who knew him, for his integrity and indefatigable attention to public business.","group":"-1"},{"id":"139","x":"9.500823","y":"8.356072","name":"He passed his younger days perpetually occupied by the affairs of his country; a variety of circumstances had prevented his marrying early, nor was it until the decline of life that he became a husband and the father of a family.","group":"-1"},{"id":"140","x":"9.179625","y":"8.216856","name":"One of his most intimate friends was a merchant, who, from a flourishing state, fell, through numerous mischances, into poverty.","group":"-1"},{"id":"141","x":"8.991923","y":"8.771491","name":"This man, whose name was Beaufort, was of a proud and unbending disposition, and could not bear to live in poverty and oblivion in the same country where he had formerly been distinguished for his rank and magnificence.","group":"-1"},{"id":"142","x":"9.622626","y":"7.9873486","name":"Having paid his debts, therefore, in the most honourable manner, he retreated with his daughter to the town of Lucerne, where he lived unknown and in wretchedness.","group":"8"},{"id":"143","x":"9.087855","y":"9.242153","name":"My father loved Beaufort with the truest friendship, and was deeply grieved by his retreat in these unfortunate circumstances.","group":"-1"},{"id":"144","x":"7.8474717","y":"10.167385","name":"He bitterly deplored the false pride which led his friend to a conduct so little worthy of the affection that united them.","group":"-1"},{"id":"145","x":"7.2688828","y":"8.485774","name":"He lost no time in endeavouring to seek him out, with the hope of persuading him to begin the world again through his credit and assistance.","group":"-1"},{"id":"146","x":"9.123583","y":"8.70626","name":"Beaufort had taken effectual measures to conceal himself; and it was ten months before my father discovered his abode.","group":"-1"},{"id":"147","x":"5.458072","y":"9.759274","name":"Overjoyed at this discovery, he hastened to the house, which was situated in a mean street, near the Reuss.","group":"30"},{"id":"148","x":"8.9878435","y":"8.544786","name":"Beaufort had saved but a very small sum of money from the wreck of his fortunes; but it was sufficient to provide him with sustenance for some months, and in the mean time he hoped to procure some respectable employment in a merchant\'s house.","group":"-1"},{"id":"149","x":"6.437248","y":"10.056248","name":"The interval was, consequently, spent in inaction; his grief only became more deep and rankling, when he had leisure for reflection; and at length it took so fast hold of his mind, that at the end of three months he lay on a bed of sickness, incapable of any exertion.","group":"-1"},{"id":"150","x":"9.625719","y":"8.706752","name":"His daughter attended him with the greatest tenderness; but she saw with despair that their little fund was rapidly decreasing, and that there was no other prospect of support.","group":"9"},{"id":"151","x":"10.049714","y":"9.596766","name":"But Caroline Beaufort possessed a mind of an uncommon mould; and her courage rose to support her in her adversity.","group":"11"},{"id":"152","x":"7.207193","y":"7.3334026","name":"She procured plain work; she plaited straw; and by various means contrived to earn a pittance scarcely sufficient to support life.","group":"-1"},{"id":"153","x":"9.589421","y":"8.499008","name":"Her father grew worse; her time was more entirely occupied in attending him; her means of subsistence decreased; and in the tenth month her father died in her arms, leaving her an orphan and a beggar.","group":"9"},{"id":"154","x":"9.804557","y":"9.959926","name":"This last blow overcame her; and she knelt by Beaufort\'s coffin, weeping bitterly, when my father entered the chamber.","group":"12"},{"id":"155","x":"9.725646","y":"8.159531","name":"He came like a protecting spirit to the poor girl, who committed herself to his care; and after the interment of his friend, he conducted her to Geneva, and placed her under the protection of a relation.","group":"8"},{"id":"156","x":"8.727092","y":"9.29438","name":"There was a considerable difference between the ages of my parents, but this circumstance seemed to unite them only closer in bonds of devoted affection.","group":"22"},{"id":"157","x":"7.836338","y":"10.090728","name":"There was a sense of justice in my father\'s upright mind, which rendered it necessary that he should approve highly to love strongly.","group":"-1"},{"id":"158","x":"9.327209","y":"8.610242","name":"Perhaps during former years he had suffered from the late-discovered unworthiness of one beloved, and so was disposed to set a greater value on tried worth.","group":"-1"},{"id":"159","x":"9.221178","y":"9.285087","name":"There was a show of gratitude and worship in his attachment to my mother, differing wholly from the doating fondness of age, for it was inspired by reverence for her virtues, and a desire to be the means of, in some degree, recompensing her for the sorrows she had endured, but which gave inexpressible grace to his behaviour to her.","group":"-1"},{"id":"160","x":"9.381469","y":"8.970974","name":"He strove to shelter her, as a fair exotic is sheltered by the gardener, from every rougher wind, and to surround her with all that could tend to excite pleasurable emotion in her soft and benevolent mind.","group":"-1"},{"id":"161","x":"10.144692","y":"9.648194","name":"Her health, and even the tranquillity of her hitherto constant spirit, had been shaken by what she had gone through.","group":"11"},{"id":"162","x":"9.709103","y":"8.334797","name":"During the two years that had elapsed previous to their marriage my father had gradually relinquished all his public functions; and immediately after their union they sought the pleasant climate of Italy, and the change of scene and interest attendant on a tour through that land of wonders, as a restorative for her weakened frame.","group":"8"},{"id":"163","x":"8.624893","y":"9.353203","name":"Much as they were attached to each other, they seemed to draw inexhaustible stores of affection from a very mine of love to bestow them upon me.","group":"22"},{"id":"164","x":"8.560561","y":"9.182993","name":"My mother\'s tender caresses, and my father\'s smile of benevolent pleasure while regarding me, are my first recollections.","group":"22"},{"id":"165","x":"7.429447","y":"11.844365","name":"I was their plaything and their idol, and something better--their child, the innocent and helpless creature bestowed on them by Heaven, whom to bring up to good, and whose future lot it was in their hands to direct to happiness or misery, according as they fulfilled their duties towards me.","group":"40"},{"id":"166","x":"8.332188","y":"9.149972","name":"With this deep consciousness of what they owed towards the being to which they had given life, added to the active spirit of tenderness that animated both, it may be imagined that while during every hour of my infant life I received a lesson of patience, of charity, and of self-control, I was so guided by a silken cord, that all seemed but one train of enjoyment to me.","group":"-1"},{"id":"167","x":"4.969408","y":"8.548185","name":"When I was about five years old, while making an excursion beyond the frontiers of Italy, they passed a week on the shores of the Lake of Como.","group":"21"},{"id":"168","x":"9.475462","y":"9.471931","name":"This, to my mother, was more than a duty; it was a necessity, a passion,--remembering what she had suffered, and how she had been relieved,--for her to act in her turn the guardian angel to the afflicted.","group":"13"},{"id":"169","x":"7.3187075","y":"7.483112","name":"During one of their walks a poor cot in the foldings of a vale attracted their notice, as being singularly disconsolate, while the number of half-clothed children gathered about it, spoke of penury in its worst shape.","group":"-1"},{"id":"170","x":"9.710142","y":"8.334756","name":"One day, when my father had gone by himself to Milan, my mother, accompanied by me, visited this abode.","group":"-1"},{"id":"171","x":"7.0369463","y":"7.2141776","name":"She found a peasant and his wife, hard working, bent down by care and labour, distributing a scanty meal to five hungry babes.","group":"2"},{"id":"172","x":"10.024628","y":"9.017193","name":"Her hair was the brightest living gold, and, despite the poverty of her clothing, seemed to set a crown of distinction on her head.","group":"-1"},{"id":"173","x":"10.0098295","y":"9.062801","name":"Her brow was clear and ample, her blue eyes cloudless, and her lips and the moulding of her face so expressive of sensibility and sweetness, that none could behold her without looking on her as of a distinct species, a being heaven-sent, and bearing a celestial stamp in all her features.","group":"13"},{"id":"174","x":"9.764094","y":"9.187247","name":"The peasant woman, perceiving that my mother fixed eyes of wonder and admiration on this lovely girl, eagerly communicated her history.","group":"13"},{"id":"175","x":"9.435016","y":"8.214271","name":"The father of their charge was one of those Italians nursed in the memory of the antique glory of Italy,--one among the _schiavi ognor frementi_, who exerted himself to obtain the liberty of his country.","group":"-1"},{"id":"176","x":"9.522337","y":"9.321527","name":"She continued with her foster parents, and bloomed in their rude abode, fairer than a garden rose among dark-leaved brambles.","group":"13"},{"id":"177","x":"9.690825","y":"8.741744","name":"When my father returned from Milan, he found playing with me in the hall of our villa, a child fairer than pictured cherub--a creature who seemed to shed radiance from her looks, and whose form and motions were lighter than the chamois of the hills.","group":"9"},{"id":"178","x":"10.004728","y":"9.332497","name":"Her presence had seemed a blessing to them; but it would be unfair to her to keep her in poverty and want, when Providence afforded her such powerful protection.","group":"13"},{"id":"179","x":"9.790584","y":"9.962467","name":"They consulted their village priest, and the result was, that Elizabeth Lavenza became the inmate of my parents\' house--my more than sister--the beautiful and adored companion of all my occupations and my pleasures.","group":"12"},{"id":"180","x":"9.831589","y":"9.200053","name":"The passionate and almost reverential attachment with which all regarded her became, while I shared it, my pride and my delight.","group":"13"},{"id":"181","x":"9.358412","y":"9.768333","name":"On the evening previous to her being brought to my home, my mother had said playfully,--\\"I have a pretty present for my Victor--to-morrow he shall have it.\\"","group":"-1"},{"id":"182","x":"9.523066","y":"10.265494","name":"And when, on the morrow, she presented Elizabeth to me as her promised gift, I, with childish seriousness, interpreted her words literally, and looked upon Elizabeth as mine--mine to protect, love, and cherish.","group":"12"},{"id":"183","x":"9.544987","y":"9.665963","name":"No word, no expression could body forth the kind of relation in which she stood to me--my more than sister, since till death she was to be mine only.","group":"13"},{"id":"184","x":"8.404056","y":"8.9598255","name":"Harmony was the soul of our companionship, and the diversity and contrast that subsisted in our characters drew us nearer together.","group":"22"},{"id":"185","x":"8.865986","y":"9.373619","name":"Elizabeth was of a calmer and more concentrated disposition; but, with all my ardour, I was capable of a more intense application, and was more deeply smitten with the thirst for knowledge.","group":"-1"},{"id":"186","x":"4.0628552","y":"8.437679","name":"She busied herself with following the aerial creations of the poets; and in the majestic and wondrous scenes which surrounded our Swiss home--the sublime shapes of the mountains; the changes of the seasons; tempest and calm; the silence of winter, and the life and turbulence of our Alpine summers,--she found ample scope for admiration and delight.","group":"18"},{"id":"187","x":"4.3876677","y":"10.119741","name":"While my companion contemplated with a serious and satisfied spirit the magnificent appearances of things, I delighted in investigating their causes.","group":"-1"},{"id":"188","x":"4.4255915","y":"10.295562","name":"Curiosity, earnest research to learn the hidden laws of nature, gladness akin to rapture, as they were unfolded to me, are among the earliest sensations I can remember.","group":"3"},{"id":"189","x":"8.319385","y":"9.057926","name":"On the birth of a second son, my junior by seven years, my parents gave up entirely their wandering life, and fixed themselves in their native country.","group":"22"},{"id":"190","x":"6.4847775","y":"8.180443","name":"We possessed a house in Geneva, and a _campagne_ on Belrive, the eastern shore of the lake, at the distance of rather more than a league from the city.","group":"14"},{"id":"191","x":"8.745019","y":"9.252652","name":"We resided principally in the latter, and the lives of my parents were passed in considerable seclusion.","group":"-1"},{"id":"192","x":"7.847358","y":"9.699579","name":"I was indifferent, therefore, to my schoolfellows in general; but I united myself in the bonds of the closest friendship to one among them.","group":"-1"},{"id":"193","x":"7.9616003","y":"11.279913","name":"He tried to make us act plays, and to enter into masquerades, in which the characters were drawn from the heroes of Roncesvalles, of the Round Table of King Arthur, and the chivalrous train who shed their blood to redeem the holy sepulchre from the hands of the infidels.","group":"-1"},{"id":"194","x":"8.262305","y":"8.640239","name":"We felt that they were not the tyrants to rule our lot according to their caprice, but the agents and creators of all the many delights which we enjoyed.","group":"22"},{"id":"195","x":"8.452433","y":"9.066633","name":"When I mingled with other families, I distinctly discerned how peculiarly fortunate my lot was, and gratitude assisted the developement of filial love.","group":"-1"},{"id":"196","x":"7.389548","y":"9.370092","name":"My temper was sometimes violent, and my passions vehement; but by some law in my temperature they were turned, not towards childish pursuits, but to an eager desire to learn, and not to learn all things indiscriminately.","group":"-1"},{"id":"197","x":"5.5610695","y":"11.01038","name":"I confess that neither the structure of languages, nor the code of governments, nor the politics of various states, possessed attractions for me.","group":"-1"},{"id":"198","x":"4.141758","y":"10.521859","name":"It was the secrets of heaven and earth that I desired to learn; and whether it was the outward substance of things, or the inner spirit of nature and the mysterious soul of man that occupied me, still my enquiries were directed to the metaphysical, or, in its highest sense, the physical secrets of the world.","group":"3"},{"id":"199","x":"7.6640806","y":"8.953057","name":"The busy stage of life, the virtues of heroes, and the actions of men, were his theme; and his hope and his dream was to become one among those whose names are recorded in story, as the gallant and adventurous benefactors of our species.","group":"24"},{"id":"200","x":"9.809296","y":"9.330147","name":"Her sympathy was ours; her smile, her soft voice, the sweet glance of her celestial eyes, were ever there to bless and animate us.","group":"13"},{"id":"201","x":"9.803163","y":"9.26868","name":"She was the living spirit of love to soften and attract: I might have become sullen in my study, rough through the ardour of my nature, but that she was there to subdue me to a semblance of her own gentleness.","group":"13"},{"id":"202","x":"7.653323","y":"9.035532","name":"And Clerval--could aught ill entrench on the noble spirit of Clerval?--yet he might not have been so perfectly humane, so thoughtful in his generosity--so full of kindness and tenderness amidst his passion for adventurous exploit, had she not unfolded to him the real loveliness of beneficence, and made the doing good the end and aim of his soaring ambition.","group":"-1"},{"id":"203","x":"6.5413527","y":"9.559145","name":"I feel exquisite pleasure in dwelling on the recollections of childhood, before misfortune had tainted my mind, and changed its bright visions of extensive usefulness into gloomy and narrow reflections upon self.","group":"-1"},{"id":"204","x":"6.342996","y":"10.27057","name":"Besides, in drawing the picture of my early days, I also record those events which led, by insensible steps, to my after tale of misery: for when I would account to myself for the birth of that passion, which afterwards ruled my destiny, I find it arise, like a mountain river, from ignoble and almost forgotten sources; but, swelling as it proceeded, it became the torrent which, in its course, has swept away all my hopes and joys.","group":"-1"},{"id":"205","x":"3.9866672","y":"11.298598","name":"Natural philosophy is the genius that has regulated my fate; I desire, therefore, in this narration, to state those facts which led to my predilection for that science.","group":"4"},{"id":"206","x":"4.9339337","y":"8.463619","name":"When I was thirteen years of age, we all went on a party of pleasure to the baths near Thonon: the inclemency of the weather obliged us to remain a day confined to the inn.","group":"21"},{"id":"207","x":"4.2501907","y":"11.120096","name":"I opened it with apathy; the theory which he attempts to demonstrate, and the wonderful facts which he relates, soon changed this feeling into enthusiasm.","group":"4"},{"id":"208","x":"4.309448","y":"10.370152","name":"A new light seemed to dawn upon my mind; and, bounding with joy, I communicated my discovery to my father.","group":"3"},{"id":"209","x":"4.206765","y":"11.252398","name":"If, instead of this remark, my father had taken the pains to explain to me, that the principles of Agrippa had been entirely exploded, and that a modern system of science had been introduced, which possessed much greater powers than the ancient, because the powers of the latter were chimerical, while those of the former were real and practical; under such circumstances, I should certainly have thrown Agrippa aside, and have contented my imagination, warmed as it was, by returning with greater ardour to my former studies.","group":"4"},{"id":"210","x":"6.044482","y":"11.990019","name":"It is even possible, that the train of my ideas would never have received the fatal impulse that led to my ruin.","group":"-1"},{"id":"211","x":"7.4492006","y":"8.043986","name":"But the cursory glance my father had taken of my volume by no means assured me that he was acquainted with its contents; and I continued to read with the greatest avidity.","group":"14"},{"id":"212","x":"7.642933","y":"8.181988","name":"When I returned home, my first care was to procure the whole works of this author, and afterwards of Paracelsus and Albertus Magnus.","group":"-1"},{"id":"213","x":"7.711131","y":"8.646924","name":"I read and studied the wild fancies of these writers with delight; they appeared to me treasures known to few beside myself.","group":"-1"},{"id":"214","x":"4.17825","y":"10.523868","name":"I have described myself as always having been embued with a fervent longing to penetrate the secrets of nature.","group":"3"},{"id":"215","x":"4.726675","y":"11.449115","name":"In spite of the intense labour and wonderful discoveries of modern philosophers, I always came from my studies discontented and unsatisfied.","group":"4"},{"id":"216","x":"4.147199","y":"10.601921","name":"Sir Isaac Newton is said to have avowed that he felt like a child picking up shells beside the great and unexplored ocean of truth.","group":"3"},{"id":"217","x":"4.3389163","y":"11.215004","name":"Those of his successors in each branch of natural philosophy with whom I was acquainted, appeared even to my boy\'s apprehensions, as tyros engaged in the same pursuit.","group":"4"},{"id":"218","x":"10.079177","y":"9.271334","name":"He had partially unveiled the face of Nature, but her immortal lineaments were still a wonder and a mystery.","group":"-1"},{"id":"219","x":"4.878562","y":"11.700594","name":"He might dissect, anatomise, and give names; but, not to speak of a final cause, causes in their secondary and tertiary grades were utterly unknown to him.","group":"-1"},{"id":"220","x":"5.602969","y":"11.076946","name":"I had gazed upon the fortifications and impediments that seemed to keep human beings from entering the citadel of nature, and rashly and ignorantly I had repined.","group":"-1"},{"id":"221","x":"7.3289814","y":"8.073796","name":"It may appear strange that such should arise in the eighteenth century; but while I followed the routine of education in the schools of Geneva, I was, to a great degree, self taught with regard to my favourite studies.","group":"14"},{"id":"222","x":"4.8050394","y":"11.542444","name":"My father was not scientific, and I was left to struggle with a child\'s blindness, added to a student\'s thirst for knowledge.","group":"4"},{"id":"223","x":"4.247695","y":"10.573255","name":"Under the guidance of my new preceptors, I entered with the greatest diligence into the search of the philosopher\'s stone and the elixir of life; but the latter soon obtained my undivided attention.","group":"3"},{"id":"224","x":"7.5672994","y":"10.895935","name":"Wealth was an inferior object; but what glory would attend the discovery, if I could banish disease from the human frame, and render man invulnerable to any but a violent death!","group":"-1"},{"id":"225","x":"6.3126473","y":"12.112439","name":"The raising of ghosts or devils was a promise liberally accorded by my favourite authors, the fulfilment of which I most eagerly sought; and if my incantations were always unsuccessful, I attributed the failure rather to my own inexperience and mistake, than to a want of skill or fidelity in my instructors.","group":"-1"},{"id":"226","x":"4.2623653","y":"10.958047","name":"And thus for a time I was occupied by exploded systems, mingling, like an unadept, a thousand contradictory theories, and floundering desperately in a very slough of multifarious knowledge, guided by an ardent imagination and childish reasoning, till an accident again changed the current of my ideas.","group":"4"},{"id":"227","x":"3.9242465","y":"8.607744","name":"When I was about fifteen years old we had retired to our house near Belrive, when we witnessed a most violent and terrible thunder-storm.","group":"18"},{"id":"228","x":"3.751898","y":"8.275234","name":"It advanced from behind the mountains of Jura; and the thunder burst at once with frightful loudness from various quarters of the heavens.","group":"18"},{"id":"229","x":"4.815428","y":"9.192505","name":"As I stood at the door, on a sudden I beheld a stream of fire issue from an old and beautiful oak, which stood about twenty yards from our house; and so soon as the dazzling light vanished, the oak had disappeared, and nothing remained but a blasted stump.","group":"21"},{"id":"230","x":"4.130572","y":"11.046505","name":"On this occasion a man of great research in natural philosophy was with us, and, excited by this catastrophe, he entered on the explanation of a theory which he had formed on the subject of electricity and galvanism, which was at once new and astonishing to me.","group":"4"},{"id":"231","x":"4.6606603","y":"11.676495","name":"All that he said threw greatly into the shade Cornelius Agrippa, Albertus Magnus, and Paracelsus, the lords of my imagination; but by some fatality the overthrow of these men disinclined me to pursue my accustomed studies.","group":"-1"},{"id":"232","x":"4.4738293","y":"11.354818","name":"By one of those caprices of the mind, which we are perhaps most subject to in early youth, I at once gave up my former occupations; set down natural history and all its progeny as a deformed and abortive creation; and entertained the greatest disdain for a would-be science, which could never even step within the threshold of real knowledge.","group":"4"},{"id":"233","x":"3.97423","y":"11.284203","name":"In this mood of mind I betook myself to the mathematics, and the branches of study appertaining to that science, as being built upon secure foundations, and so worthy of my consideration.","group":"4"},{"id":"234","x":"6.944748","y":"10.662381","name":"Thus strangely are our souls constructed, and by such slight ligaments are we bound to prosperity or ruin.","group":"-1"},{"id":"235","x":"6.6126366","y":"10.2508","name":"When I look back, it seems to me as if this almost miraculous change of inclination and will was the immediate suggestion of the guardian angel of my life--the last effort made by the spirit of preservation to avert the storm that was even then hanging in the stars, and ready to envelope me.","group":"-1"},{"id":"236","x":"9.236595","y":"9.979165","name":"Her victory was announced by an unusual tranquillity and gladness of soul, which followed the relinquishing of my ancient and latterly tormenting studies.","group":"-1"},{"id":"237","x":"7.706086","y":"11.025571","name":"It was thus that I was to be taught to associate evil with their prosecution, happiness with their disregard.","group":"25"},{"id":"238","x":"7.0127807","y":"8.422411","name":"When I had attained the age of seventeen, my parents resolved that I should become a student at the university of Ingolstadt.","group":"14"},{"id":"239","x":"7.3193593","y":"8.141761","name":"I had hitherto attended the schools of Geneva; but my father thought it necessary, for the completion of my education, that I should be made acquainted with other customs than those of my native country.","group":"14"},{"id":"240","x":"6.586571","y":"11.254423","name":"My departure was therefore fixed at an early date; but, before the day resolved upon could arrive, the first misfortune of my life occurred--an omen, as it were, of my future misery.","group":"-1"},{"id":"241","x":"9.716742","y":"9.720943","name":"During her illness, many arguments had been urged to persuade my mother to refrain from attending upon her.","group":"-1"},{"id":"242","x":"10.092997","y":"9.788134","name":"She had, at first, yielded to our entreaties; but when she heard that the life of her favourite was menaced, she could no longer control her anxiety.","group":"11"},{"id":"243","x":"9.802003","y":"10.04987","name":"She attended her sick bed,--her watchful attentions triumphed over the malignity of the distemper,--Elizabeth was saved, but the consequences of this imprudence were fatal to her preserver.","group":"12"},{"id":"244","x":"9.58631","y":"9.890633","name":"On the third day my mother sickened; her fever was accompanied by the most alarming symptoms, and the looks of her medical attendants prognosticated the worst event.","group":"-1"},{"id":"245","x":"9.507757","y":"10.3096485","name":"She joined the hands of Elizabeth and myself:--\\"My children,\\" she said, \\"my firmest hopes of future happiness were placed on the prospect of your union.","group":"12"},{"id":"246","x":"7.914133","y":"11.213255","name":"I regret that I am taken from you; and, happy and beloved as I have been, is it not hard to quit you all?","group":"-1"},{"id":"247","x":"7.5055175","y":"11.475925","name":"But these are not thoughts befitting me; I will endeavour to resign myself cheerfully to death, and will indulge a hope of meeting you in another world.\\"","group":"-1"},{"id":"248","x":"6.5414333","y":"11.125266","name":"I need not describe the feelings of those whose dearest ties are rent by that most irreparable evil; the void that presents itself to the soul; and the despair that is exhibited on the countenance.","group":"38"},{"id":"249","x":"9.624558","y":"9.597385","name":"It is so long before the mind can persuade itself that she, whom we saw every day, and whose very existence appeared a part of our own, can have departed for ever--that the brightness of a beloved eye can have been extinguished, and the sound of a voice so familiar, and dear to the ear, can be hushed, never more to be heard.","group":"-1"},{"id":"250","x":"6.789969","y":"11.054527","name":"These are the reflections of the first days; but when the lapse of time proves the reality of the evil, then the actual bitterness of grief commences.","group":"38"},{"id":"251","x":"7.3086185","y":"10.84307","name":"The time at length arrives, when grief is rather an indulgence than a necessity; and the smile that plays upon the lips, although it may be deemed a sacrilege, is not banished.","group":"-1"},{"id":"252","x":"8.151217","y":"11.46427","name":"My mother was dead, but we had still duties which we ought to perform; we must continue our course with the rest, and learn to think ourselves fortunate, whilst one remains whom the spoiler has not seized.","group":"-1"},{"id":"253","x":"7.03962","y":"11.412922","name":"It appeared to me sacrilege so soon to leave the repose, akin to death, of the house of mourning, and to rush into the thick of life.","group":"41"},{"id":"254","x":"9.615423","y":"10.327578","name":"I was unwilling to quit the sight of those that remained to me; and, above all, I desired to see my sweet Elizabeth in some degree consoled.","group":"12"},{"id":"255","x":"9.769321","y":"9.21282","name":"Never was she so enchanting as at this time, when she recalled the sunshine of her smiles and spent them upon us.","group":"13"},{"id":"256","x":"7.378144","y":"8.320224","name":"He had endeavoured to persuade his father to permit him to accompany me, and to become my fellow student; but in vain.","group":"14"},{"id":"257","x":"9.202328","y":"8.405483","name":"His father was a narrow-minded trader, and saw idleness and ruin in the aspirations and ambition of his son.","group":"-1"},{"id":"258","x":"7.861252","y":"9.06673","name":"He said little; but when he spoke, I read in his kindling eye and in his animated glance a restrained but firm resolve, not to be chained to the miserable details of commerce.","group":"-1"},{"id":"259","x":"9.5219965","y":"10.236661","name":"It was said; and we retired under the pretence of seeking repose, each fancying that the other was deceived: but when at morning\'s dawn I descended to the carriage which was to convey me away, they were all there--my father again to bless me, Clerval to press my hand once more, my Elizabeth to renew her entreaties that I would write often, and to bestow the last feminine attentions on her playmate and friend.","group":"12"},{"id":"260","x":"5.676279","y":"10.274074","name":"I threw myself into the chaise that was to convey me away, and indulged in the most melancholy reflections.","group":"30"},{"id":"261","x":"7.570335","y":"9.731569","name":"I, who had ever been surrounded by amiable companions, continually engaged in endeavouring to bestow mutual pleasure, I was now alone.","group":"-1"},{"id":"262","x":"6.7964478","y":"9.306631","name":"My life had hitherto been remarkably secluded and domestic; and this had given me invincible repugnance to new countenances.","group":"-1"},{"id":"263","x":"7.7630835","y":"9.60646","name":"I loved my brothers, Elizabeth, and Clerval; these were \\"old familiar faces;\\" but I believed myself totally unfitted for the company of strangers.","group":"-1"},{"id":"264","x":"6.70985","y":"9.083414","name":"I had often, when at home, thought it hard to remain during my youth cooped up in one place, and had longed to enter the world, and take my station among other human beings.","group":"-1"},{"id":"265","x":"6.7313843","y":"8.721966","name":"I had sufficient leisure for these and many other reflections during my journey to Ingolstadt, which was long and fatiguing.","group":"-1"},{"id":"266","x":"4.683892","y":"11.130715","name":"The next morning I delivered my letters of introduction, and paid a visit to some of the principal professors.","group":"4"},{"id":"267","x":"6.4241285","y":"12.335908","name":"Chance--or rather the evil influence, the Angel of Destruction, which asserted omnipotent sway over me from the moment I turned my reluctant steps from my father\'s door--led me first to Mr. Krempe, professor of natural philosophy.","group":"-1"},{"id":"268","x":"4.309532","y":"11.369171","name":"He asked me several questions concerning my progress in the different branches of science appertaining to natural philosophy.","group":"4"},{"id":"269","x":"4.3539963","y":"11.622687","name":"I replied carelessly; and, partly in contempt, mentioned the names of my alchymists as the principal authors I had studied.","group":"4"},{"id":"270","x":"4.0431824","y":"11.665539","name":"\\"Every minute,\\" continued M. Krempe with warmth, \\"every instant that you have wasted on those books is utterly and entirely lost.","group":"4"},{"id":"271","x":"5.953335","y":"9.239902","name":"in what desert land have you lived, where no one was kind enough to inform you that these fancies, which you have so greedily imbibed, are a thousand years old, and as musty as they are ancient?","group":"-1"},{"id":"272","x":"4.5869093","y":"11.644912","name":"I little expected, in this enlightened and scientific age, to find a disciple of Albertus Magnus and Paracelsus.","group":"-1"},{"id":"273","x":"4.0149145","y":"11.3969145","name":"So saying, he stept aside, and wrote down a list of several books treating of natural philosophy, which he desired me to procure; and dismissed me, after mentioning that in the beginning of the following week he intended to commence a course of lectures upon natural philosophy in its general relations, and that M. Waldman, a fellow-professor, would lecture upon chemistry the alternate days that he omitted.","group":"4"},{"id":"274","x":"4.3286204","y":"11.500379","name":"I returned home, not disappointed, for I have said that I had long considered those authors useless whom the professor reprobated; but I returned, not at all the more inclined to recur to these studies in any shape.","group":"4"},{"id":"275","x":"4.2196264","y":"11.773542","name":"M. Krempe was a little squat man, with a gruff voice and a repulsive countenance; the teacher, therefore, did not prepossess me in favour of his pursuits.","group":"4"},{"id":"276","x":"4.2279663","y":"11.074239","name":"In rather a too philosophical and connected a strain, perhaps, I have given an account of the conclusions I had come to concerning them in my early years.","group":"4"},{"id":"277","x":"4.4480534","y":"11.479838","name":"As a child, I had not been content with the results promised by the modern professors of natural science.","group":"-1"},{"id":"278","x":"4.1987247","y":"11.162555","name":"With a confusion of ideas only to be accounted for by my extreme youth, and my want of a guide on such matters, I had retrod the steps of knowledge along the paths of time, and exchanged the discoveries of recent enquirers for the dreams of forgotten alchymists.","group":"4"},{"id":"279","x":"4.1860476","y":"11.225818","name":"It was very different, when the masters of the science sought immortality and power; such views, although futile, were grand: but now the scene was changed.","group":"4"},{"id":"280","x":"4.497563","y":"11.387929","name":"The ambition of the enquirer seemed to limit itself to the annihilation of those visions on which my interest in science was chiefly founded.","group":"4"},{"id":"281","x":"6.8683686","y":"8.456697","name":"Such were my reflections during the first two or three days of my residence at Ingolstadt, which were chiefly spent in becoming acquainted with the localities, and the principal residents in my new abode.","group":"14"},{"id":"282","x":"4.1221437","y":"11.73549","name":"But as the ensuing week commenced, I thought of the information which M. Krempe had given me concerning the lectures.","group":"4"},{"id":"283","x":"4.3175817","y":"11.822818","name":"And although I could not consent to go and hear that little conceited fellow deliver sentences out of a pulpit, I recollected what he had said of M. Waldman, whom I had never seen, as he had hitherto been out of town.","group":"4"},{"id":"284","x":"4.2009006","y":"11.725633","name":"Partly from curiosity, and partly from idleness, I went into the lecturing room, which M. Waldman entered shortly after.","group":"4"},{"id":"285","x":"9.570812","y":"9.027773","name":"He appeared about fifty years of age, but with an aspect expressive of the greatest benevolence; a few grey hairs covered his temples, but those at the back of his head were nearly black.","group":"13"},{"id":"286","x":"4.0933633","y":"11.470112","name":"He began his lecture by a recapitulation of the history of chemistry, and the various improvements made by different men of learning, pronouncing with fervour the names of the most distinguished discoverers.","group":"4"},{"id":"287","x":"4.1429114","y":"11.3549595","name":"He then took a cursory view of the present state of the science, and explained many of its elementary terms.","group":"4"},{"id":"288","x":"4.026754","y":"11.417483","name":"After having made a few preparatory experiments, he concluded with a panegyric upon modern chemistry, the terms of which I shall never forget:--  \\"The ancient teachers of this science,\\" said he, \\"promised impossibilities, and performed nothing.","group":"4"},{"id":"289","x":"4.09471","y":"11.435596","name":"The modern masters promise very little; they know that metals cannot be transmuted, and that the elixir of life is a chimera.","group":"4"},{"id":"290","x":"4.1713142","y":"10.685824","name":"But these philosophers, whose hands seem only made to dabble in dirt, and their eyes to pore over the microscope or crucible, have indeed performed miracles.","group":"3"},{"id":"291","x":"4.073666","y":"10.551618","name":"They ascend into the heavens: they have discovered how the blood circulates, and the nature of the air we breathe.","group":"-1"},{"id":"292","x":"4.080932","y":"10.025498","name":"They have acquired new and almost unlimited powers; they can command the thunders of heaven, mimic the earthquake, and even mock the invisible world with its own shadows.\\"","group":"-1"},{"id":"293","x":"5.7069273","y":"11.935165","name":"As he went on, I felt as if my soul were grappling with a palpable enemy; one by one the various keys were touched which formed the mechanism of my being: chord after chord was sounded, and soon my mind was filled with one thought, one conception, one purpose.","group":"-1"},{"id":"294","x":"6.082397","y":"12.784438","name":"So much has been done, exclaimed the soul of Frankenstein,--more, far more, will I achieve: treading in the steps already marked, I will pioneer a new way, explore unknown powers, and unfold to the world the deepest mysteries of creation.","group":"0"},{"id":"295","x":"6.3458085","y":"11.506069","name":"My internal being was in a state of insurrection and turmoil; I felt that order would thence arise, but I had no power to produce it.","group":"-1"},{"id":"296","x":"4.104943","y":"11.036234","name":"There only remained a resolution to return to my ancient studies, and to devote myself to a science for which I believed myself to possess a natural talent.","group":"4"},{"id":"297","x":"8.391432","y":"8.824959","name":"His manners in private were even more mild and attractive than in public; for there was a certain dignity in his mien during his lecture, which in his own house was replaced by the greatest affability and kindness.","group":"22"},{"id":"298","x":"4.6492834","y":"11.3273115","name":"I gave him pretty nearly the same account of my former pursuits as I had given to his fellow-professor.","group":"4"},{"id":"299","x":"4.2326865","y":"11.709647","name":"He heard with attention the little narration concerning my studies, and smiled at the names of Cornelius Agrippa and Paracelsus, but without the contempt that M. Krempe had exhibited.","group":"4"},{"id":"300","x":"7.4858856","y":"8.816879","name":"He said, that \\"these were men to whose indefatigable zeal modern philosophers were indebted for most of the foundations of their knowledge.","group":"24"},{"id":"301","x":"4.155959","y":"11.196496","name":"They had left to us, as an easier task, to give new names, and arrange in connected classifications, the facts which they in a great degree had been the instruments of bringing to light.","group":"4"},{"id":"302","x":"7.763344","y":"9.407958","name":"The labours of men of genius, however erroneously directed, scarcely ever fail in ultimately turning to the solid advantage of mankind.\\"","group":"-1"},{"id":"303","x":"4.1464567","y":"11.527354","name":"I listened to his statement, which was delivered without any presumption or affectation; and then added, that his lecture had removed my prejudices against modern chemists; I expressed myself in measured terms, with the modesty and deference due from a youth to his instructor, without letting escape (inexperience in life would have made me ashamed) any of the enthusiasm which stimulated my intended labours.","group":"4"},{"id":"304","x":"4.3313007","y":"11.704273","name":"\\"I am happy,\\" said M. Waldman, \\"to have gained a disciple; and if your application equals your ability, I have no doubt of your success.","group":"4"},{"id":"305","x":"4.003066","y":"11.384076","name":"Chemistry is that branch of natural philosophy in which the greatest improvements have been and may be made: it is on that account that I have made it my peculiar study; but at the same time I have not neglected the other branches of science.","group":"4"},{"id":"306","x":"4.081807","y":"11.496751","name":"A man would make but a very sorry chemist if he attended to that department of human knowledge alone.","group":"4"},{"id":"307","x":"3.967986","y":"11.2794485","name":"If your wish is to become really a man of science, and not merely a petty experimentalist, I should advise you to apply to every branch of natural philosophy, including mathematics.\\"","group":"4"},{"id":"308","x":"4.1151056","y":"11.495305","name":"He then took me into his laboratory, and explained to me the uses of his various machines; instructing me as to what I ought to procure, and promising me the use of his own when I should have advanced far enough in the science not to derange their mechanism.","group":"4"},{"id":"309","x":"3.8983645","y":"11.25425","name":"From this day natural philosophy, and particularly chemistry, in the most comprehensive sense of the term, became nearly my sole occupation.","group":"4"},{"id":"310","x":"7.74101","y":"8.650424","name":"I read with ardour those works, so full of genius and discrimination, which modern enquirers have written on these subjects.","group":"-1"},{"id":"311","x":"4.130069","y":"11.681084","name":"I attended the lectures, and cultivated the acquaintance, of the men of science of the university; and I found even in M. Krempe a great deal of sound sense and real information, combined, it is true, with a repulsive physiognomy and manners, but not on that account the less valuable.","group":"4"},{"id":"312","x":"8.261644","y":"8.988972","name":"His gentleness was never tinged by dogmatism; and his instructions were given with an air of frankness and good nature, that banished every idea of pedantry.","group":"-1"},{"id":"313","x":"7.948128","y":"9.083793","name":"In a thousand ways he smoothed for me the path of knowledge, and made the most abstruse enquiries clear and facile to my apprehension.","group":"24"},{"id":"314","x":"4.563908","y":"11.007539","name":"My application was at first fluctuating and uncertain; it gained strength as I proceeded, and soon became so ardent and eager, that the stars often disappeared in the light of morning whilst I was yet engaged in my laboratory.","group":"-1"},{"id":"315","x":"6.7151666","y":"8.5194645","name":"Two years passed in this manner, during which I paid no visit to Geneva, but was engaged, heart and soul, in the pursuit of some discoveries, which I hoped to make.","group":"14"},{"id":"316","x":"4.012012","y":"11.15909","name":"In other studies you go as far as others have gone before you, and there is nothing more to know; but in a scientific pursuit there is continual food for discovery and wonder.","group":"4"},{"id":"317","x":"4.114157","y":"11.380915","name":"A mind of moderate capacity, which closely pursues one study, must infallibly arrive at great proficiency in that study; and I, who continually sought the attainment of one object of pursuit, and was solely wrapt up in this, improved so rapidly, that, at the end of two years, I made some discoveries in the improvement of some chemical instruments, which procured me great esteem and admiration at the university.","group":"4"},{"id":"318","x":"6.954631","y":"8.525399","name":"When I had arrived at this point, and had become as well acquainted with the theory and practice of natural philosophy as depended on the lessons of any of the professors at Ingolstadt, my residence there being no longer conducive to my improvements, I thought of returning to my friends and my native town, when an incident happened that protracted my stay.","group":"14"},{"id":"319","x":"5.440935","y":"12.229747","name":"One of the phenomena which had peculiarly attracted my attention was the structure of the human frame, and, indeed, any animal endued with life.","group":"-1"},{"id":"320","x":"4.1780024","y":"10.523217","name":"It was a bold question, and one which has ever been considered as a mystery; yet with how many things are we upon the brink of becoming acquainted, if cowardice or carelessness did not restrain our enquiries.","group":"3"},{"id":"321","x":"3.9395547","y":"11.2590475","name":"I revolved these circumstances in my mind, and determined thenceforth to apply myself more particularly to those branches of natural philosophy which relate to physiology.","group":"4"},{"id":"322","x":"5.23546","y":"11.567041","name":"Unless I had been animated by an almost supernatural enthusiasm, my application to this study would have been irksome, and almost intolerable.","group":"-1"},{"id":"323","x":"5.3162656","y":"12.058428","name":"I became acquainted with the science of anatomy: but this was not sufficient; I must also observe the natural decay and corruption of the human body.","group":"-1"},{"id":"324","x":"7.6306934","y":"10.097305","name":"In my education my father had taken the greatest precautions that my mind should be impressed with no supernatural horrors.","group":"28"},{"id":"325","x":"6.2808485","y":"10.416113","name":"I do not ever remember to have trembled at a tale of superstition, or to have feared the apparition of a spirit.","group":"33"},{"id":"326","x":"6.8579535","y":"12.662052","name":"Darkness had no effect upon my fancy; and a churchyard was to me merely the receptacle of bodies deprived of life, which, from being the seat of beauty and strength, had become food for the worm.","group":"-1"},{"id":"327","x":"5.2881474","y":"11.960428","name":"Now I was led to examine the cause and progress of this decay, and forced to spend days and nights in vaults and charnel-houses.","group":"-1"},{"id":"328","x":"5.300022","y":"11.223958","name":"My attention was fixed upon every object the most insupportable to the delicacy of the human feelings.","group":"4"},{"id":"329","x":"5.8126354","y":"12.382887","name":"I saw how the fine form of man was degraded and wasted; I beheld the corruption of death succeed to the blooming cheek of life; I saw how the worm inherited the wonders of the eye and brain.","group":"-1"},{"id":"330","x":"4.167951","y":"10.88131","name":"I paused, examining and analysing all the minuti\xe6 of causation, as exemplified in the change from life to death, and death to life, until from the midst of this darkness a sudden light broke in upon me--a light so brilliant and wondrous, yet so simple, that while I became dizzy with the immensity of the prospect which it illustrated, I was surprised, that among so many men of genius who had directed their enquiries towards the same science, that I alone should be reserved to discover so astonishing a secret.","group":"-1"},{"id":"331","x":"5.689854","y":"12.322868","name":"After days and nights of incredible labour and fatigue, I succeeded in discovering the cause of generation and life; nay, more, I became myself capable of bestowing animation upon lifeless matter.","group":"-1"},{"id":"332","x":"4.4061337","y":"10.252551","name":"The astonishment which I had at first experienced on this discovery soon gave place to delight and rapture.","group":"3"},{"id":"333","x":"6.761004","y":"10.22149","name":"After so much time spent in painful labour, to arrive at once at the summit of my desires, was the most gratifying consummation of my toils.","group":"-1"},{"id":"334","x":"4.364325","y":"10.43861","name":"But this discovery was so great and overwhelming, that all the steps by which I had been progressively led to it were obliterated, and I beheld only the result.","group":"3"},{"id":"335","x":"4.378877","y":"10.688329","name":"What had been the study and desire of the wisest men since the creation of the world was now within my grasp.","group":"3"},{"id":"336","x":"4.3794293","y":"10.499561","name":"Not that, like a magic scene, it all opened upon me at once: the information I had obtained was of a nature rather to direct my endeavours so soon as I should point them towards the object of my search, than to exhibit that object already accomplished.","group":"3"},{"id":"337","x":"4.793886","y":"10.029728","name":"I was like the Arabian who had been buried with the dead, and found a passage to life, aided only by one glimmering, and seemingly ineffectual, light.","group":"-1"},{"id":"338","x":"8.184265","y":"10.706993","name":"I see by your eagerness, and the wonder and hope which your eyes express, my friend, that you expect to be informed of the secret with which I am acquainted; that cannot be: listen patiently until the end of my story, and you will easily perceive why I am reserved upon that subject.","group":"-1"},{"id":"339","x":"7.9579287","y":"12.11042","name":"I will not lead you on, unguarded and ardent as I then was, to your destruction and infallible misery.","group":"-1"},{"id":"340","x":"7.6886067","y":"9.829583","name":"Learn from me, if not by my precepts, at least by my example, how dangerous is the acquirement of knowledge, and how much happier that man is who believes his native town to be the world, than he who aspires to become greater than his nature will allow.","group":"-1"},{"id":"341","x":"5.467617","y":"11.669961","name":"When I found so astonishing a power placed within my hands, I hesitated a long time concerning the manner in which I should employ it.","group":"-1"},{"id":"342","x":"5.6513214","y":"12.324096","name":"Although I possessed the capacity of bestowing animation, yet to prepare a frame for the reception of it, with all its intricacies of fibres, muscles, and veins, still remained a work of inconceivable difficulty and labour.","group":"-1"},{"id":"343","x":"6.2934723","y":"12.299005","name":"I doubted at first whether I should attempt the creation of a being like myself, or one of simpler organization; but my imagination was too much exalted by my first success to permit me to doubt of my ability to give life to an animal as complex and wonderful as man.","group":"-1"},{"id":"344","x":"5.8221493","y":"11.764242","name":"The materials at present within my command hardly appeared adequate to so arduous an undertaking; but I doubted not that I should ultimately succeed.","group":"-1"},{"id":"345","x":"4.0859165","y":"11.2486","name":"I prepared myself for a multitude of reverses; my operations might be incessantly baffled, and at last my work be imperfect: yet, when I considered the improvement which every day takes place in science and mechanics, I was encouraged to hope my present attempts would at least lay the foundations of future success.","group":"4"},{"id":"346","x":"5.873497","y":"11.912109","name":"Nor could I consider the magnitude and complexity of my plan as any argument of its impracticability.","group":"-1"},{"id":"347","x":"5.7718534","y":"12.399128","name":"As the minuteness of the parts formed a great hinderance to my speed, I resolved, contrary to my first intention, to make the being of a gigantic stature; that is to say, about eight feet in height, and proportionably large.","group":"-1"},{"id":"348","x":"4.907792","y":"11.065855","name":"After having formed this determination, and having spent some months in successfully collecting and arranging my materials, I began.","group":"4"},{"id":"349","x":"6.3453555","y":"10.249999","name":"No one can conceive the variety of feelings which bore me onwards, like a hurricane, in the first enthusiasm of success.","group":"32"},{"id":"350","x":"4.4784155","y":"9.9758835","name":"Life and death appeared to me ideal bounds, which I should first break through, and pour a torrent of light into our dark world.","group":"-1"},{"id":"351","x":"6.7558603","y":"12.1327","name":"A new species would bless me as its creator and source; many happy and excellent natures would owe their being to me.","group":"36"},{"id":"352","x":"5.665802","y":"12.371128","name":"Pursuing these reflections, I thought, that if I could bestow animation upon lifeless matter, I might in process of time (although I now found it impossible) renew life where death had apparently devoted the body to corruption.","group":"-1"},{"id":"353","x":"6.277694","y":"11.2764435","name":"Sometimes, on the very brink of certainty, I failed; yet still I clung to the hope which the next day or the next hour might realise.","group":"35"},{"id":"354","x":"4.4931583","y":"9.175584","name":"One secret which I alone possessed was the hope to which I had dedicated myself; and the moon gazed on my midnight labours, while, with unrelaxed and breathless eagerness, I pursued nature to her hiding-places.","group":"21"},{"id":"355","x":"6.9449353","y":"12.687559","name":"Who shall conceive the horrors of my secret toil, as I dabbled among the unhallowed damps of the grave, or tortured the living animal to animate the lifeless clay?","group":"-1"},{"id":"356","x":"6.03981","y":"10.258869","name":"My limbs now tremble, and my eyes swim with the remembrance; but then a resistless, and almost frantic, impulse, urged me forward; I seemed to have lost all soul or sensation but for this one pursuit.","group":"33"},{"id":"357","x":"6.9715266","y":"9.607727","name":"It was indeed but a passing trance, that only made me feel with renewed acuteness so soon as, the unnatural stimulus ceasing to operate, I had returned to my old habits.","group":"29"},{"id":"358","x":"5.3006544","y":"12.02616","name":"I collected bones from charnel-houses; and disturbed, with profane fingers, the tremendous secrets of the human frame.","group":"-1"},{"id":"359","x":"5.327731","y":"11.76299","name":"In a solitary chamber, or rather cell, at the top of the house, and separated from all the other apartments by a gallery and staircase, I kept my workshop of filthy creation: my eye-balls were starting from their sockets in attending to the details of my employment.","group":"-1"},{"id":"360","x":"5.320598","y":"11.884237","name":"The dissecting room and the slaughter-house furnished many of my materials; and often did my human nature turn with loathing from my occupation, whilst, still urged on by an eagerness which perpetually increased, I brought my work near to a conclusion.","group":"-1"},{"id":"361","x":"5.2815065","y":"8.265968","name":"It was a most beautiful season; never did the fields bestow a more plentiful harvest, or the vines yield a more luxuriant vintage: but my eyes were insensible to the charms of nature.","group":"21"},{"id":"362","x":"6.6264358","y":"9.461288","name":"And the same feelings which made me neglect the scenes around me caused me also to forget those friends who were so many miles absent, and whom I had not seen for so long a time.","group":"-1"},{"id":"363","x":"7.777438","y":"9.813626","name":"I knew my silence disquieted them; and I well remembered the words of my father: \\"I know that while you are pleased with yourself, you will think of us with affection, and we shall hear regularly from you.","group":"-1"},{"id":"364","x":"8.609976","y":"10.689054","name":"You must pardon me if I regard any interruption in your correspondence as a proof that your other duties are equally neglected.\\"","group":"-1"},{"id":"365","x":"5.475853","y":"11.477049","name":"I knew well therefore what would be my father\'s feelings; but I could not tear my thoughts from my employment, loathsome in itself, but which had taken an irresistible hold of my imagination.","group":"-1"},{"id":"366","x":"6.75282","y":"10.90041","name":"I wished, as it were, to procrastinate all that related to my feelings of affection until the great object, which swallowed up every habit of my nature, should be completed.","group":"-1"},{"id":"367","x":"7.579712","y":"10.418793","name":"I then thought that my father would be unjust if he ascribed my neglect to vice, or faultiness on my part; but I am now convinced that he was justified in conceiving that I should not be altogether free from blame.","group":"26"},{"id":"368","x":"7.3529086","y":"9.663398","name":"A human being in perfection ought always to preserve a calm and peaceful mind, and never to allow passion or a transitory desire to disturb his tranquillity.","group":"-1"},{"id":"369","x":"4.8533926","y":"11.405401","name":"If the study to which you apply yourself has a tendency to weaken your affections, and to destroy your taste for those simple pleasures in which no alloy can possibly mix, then that study is certainly unlawful, that is to say, not befitting the human mind.","group":"-1"},{"id":"370","x":"8.151606","y":"9.474262","name":"If this rule were always observed; if no man allowed any pursuit whatsoever to interfere with the tranquillity of his domestic affections, Greece had not been enslaved; C\xe6sar would have spared his country; America would have been discovered more gradually; and the empires of Mexico and Peru had not been destroyed.","group":"-1"},{"id":"371","x":"7.089267","y":"10.736707","name":"But I forget that I am moralising in the most interesting part of my tale; and your looks remind me to proceed.","group":"38"},{"id":"372","x":"7.917649","y":"9.806223","name":"My father made no reproach in his letters, and only took notice of my silence by enquiring into my occupations more particularly than before.","group":"-1"},{"id":"373","x":"5.3249993","y":"8.059631","name":"Winter, spring, and summer passed away during my labours; but I did not watch the blossom or the expanding leaves--sights which before always yielded me supreme delight--so deeply was I engrossed in my occupation.","group":"21"},{"id":"374","x":"5.357477","y":"8.437755","name":"The leaves of that year had withered before my work drew near to a close; and now every day showed me more plainly how well I had succeeded.","group":"-1"},{"id":"375","x":"5.3546185","y":"11.493866","name":"But my enthusiasm was checked by my anxiety, and I appeared rather like one doomed by slavery to toil in the mines, or any other unwholesome trade, than an artist occupied by his favourite employment.","group":"-1"},{"id":"376","x":"5.4990296","y":"10.394615","name":"Every night I was oppressed by a slow fever, and I became nervous to a most painful degree; the fall of a leaf startled me, and I shunned my fellow-creatures as if I had been guilty of a crime.","group":"30"},{"id":"377","x":"6.7684503","y":"11.125223","name":"Sometimes I grew alarmed at the wreck I perceived that I had become; the energy of my purpose alone sustained me: my labours would soon end, and I believed that exercise and amusement would then drive away incipient disease; and I promised myself both of these when my creation should be complete.","group":"38"},{"id":"378","x":"5.61793","y":"11.851574","name":"With an anxiety that almost amounted to agony, I collected the instruments of life around me, that I might infuse a spark of being into the lifeless thing that lay at my feet.","group":"-1"},{"id":"379","x":"4.724539","y":"9.777627","name":"It was already one in the morning; the rain pattered dismally against the panes, and my candle was nearly burnt out, when, by the glimmer of the half-extinguished light, I saw the dull yellow eye of the creature open; it breathed hard, and a convulsive motion agitated its limbs.","group":"16"},{"id":"380","x":"4.706504","y":"9.848167","name":"[Illustration: \\"_By the glimmer of the half-extinguished light, I saw the dull, yellow eye of the creature open; it breathed hard, and a convulsive motion agitated its limbs, ...","group":"16"},{"id":"381","x":"5.8139606","y":"10.769096","name":"I rushed out of the room._\\"]  How can I describe my emotions at this catastrophe, or how delineate the wretch whom with such infinite pains and care I had endeavoured to form?","group":"-1"},{"id":"382","x":"9.766511","y":"9.006597","name":"His yellow skin scarcely covered the work of muscles and arteries beneath; his hair was of a lustrous black, and flowing; his teeth of a pearly whiteness; but these luxuriances only formed a more horrid contrast with his watery eyes, that seemed almost of the same colour as the dun white sockets in which they were set, his shrivelled complexion and straight black lips.","group":"13"},{"id":"383","x":"5.835323","y":"12.009444","name":"I had worked hard for nearly two years, for the sole purpose of infusing life into an inanimate body.","group":"-1"},{"id":"384","x":"5.9274917","y":"11.093101","name":"I had desired it with an ardour that far exceeded moderation; but now that I had finished, the beauty of the dream vanished, and breathless horror and disgust filled my heart.","group":"34"},{"id":"385","x":"5.304839","y":"10.620207","name":"Unable to endure the aspect of the being I had created, I rushed out of the room, and continued a long time traversing my bedchamber, unable to compose my mind to sleep.","group":"-1"},{"id":"386","x":"5.4154396","y":"10.473121","name":"At length lassitude succeeded to the tumult I had before endured; and I threw myself on the bed in my clothes, endeavouring to seek a few moments of forgetfulness.","group":"30"},{"id":"387","x":"9.406857","y":"9.971261","name":"Delighted and surprised, I embraced her; but as I imprinted the first kiss on her lips, they became livid with the hue of death; her features appeared to change, and I thought that I held the corpse of my dead mother in my arms; a shroud enveloped her form, and I saw the grave-worms crawling in the folds of the flannel.","group":"-1"},{"id":"388","x":"5.1133676","y":"10.383903","name":"I started from my sleep with horror; a cold dew covered my forehead, my teeth chattered, and every limb became convulsed: when, by the dim and yellow light of the moon, as it forced its way through the window shutters, I beheld the wretch--the miserable monster whom I had created.","group":"-1"},{"id":"389","x":"5.7116427","y":"9.806414","name":"He might have spoken, but I did not hear; one hand was stretched out, seemingly to detain me, but I escaped, and rushed down stairs.","group":"-1"},{"id":"390","x":"5.4195065","y":"9.873594","name":"I took refuge in the courtyard belonging to the house which I inhabited; where I remained during the rest of the night, walking up and down in the greatest agitation, listening attentively, catching and fearing each sound as if it were to announce the approach of the demoniacal corpse to which I had so miserably given life.","group":"30"},{"id":"391","x":"5.8201003","y":"12.442283","name":"I had gazed on him while unfinished; he was ugly then; but when those muscles and joints were rendered capable of motion, it became a thing such as even Dante could not have conceived.","group":"-1"},{"id":"392","x":"5.9346867","y":"10.265829","name":"Sometimes my pulse beat so quickly and hardly, that I felt the palpitation of every artery; at others, I nearly sank to the ground through languor and extreme weakness.","group":"-1"},{"id":"393","x":"5.9631605","y":"10.920727","name":"Mingled with this horror, I felt the bitterness of disappointment; dreams that had been my food and pleasant rest for so long a space were now become a hell to me; and the change was so rapid, the overthrow so complete!","group":"34"},{"id":"394","x":"4.982913","y":"9.720632","name":"Morning, dismal and wet, at length dawned, and discovered to my sleepless and aching eyes the church of Ingolstadt, its white steeple and clock, which indicated the sixth hour.","group":"-1"},{"id":"395","x":"5.401418","y":"9.878244","name":"The porter opened the gates of the court, which had that night been my asylum, and I issued into the streets, pacing them with quick steps, as if I sought to avoid the wretch whom I feared every turning of the street would present to my view.","group":"-1"},{"id":"396","x":"4.32706","y":"8.522353","name":"I did not dare return to the apartment which I inhabited, but felt impelled to hurry on, although drenched by the rain which poured from a black and comfortless sky.","group":"-1"},{"id":"397","x":"5.867852","y":"9.259629","name":"I continued walking in this manner for some time, endeavouring, by bodily exercise, to ease the load that weighed upon my mind.","group":"-1"},{"id":"398","x":"5.6225247","y":"10.305177","name":"My heart palpitated in the sickness of fear; and I hurried on with irregular steps, not daring to look about me:--      \\"Like one who, on a lonely road,       Doth walk in fear and dread,     And, having once turned round, walks on,       And turns no more his head;     Because he knows a frightful fiend       Doth close behind him tread.","group":"30"},{"id":"399","x":"5.8345914","y":"9.533251","name":"Continuing thus, I came at length opposite to the inn at which the various diligences and carriages usually stopped.","group":"-1"},{"id":"400","x":"5.638402","y":"10.10779","name":"Here I paused, I knew not why; but I remained some minutes with my eyes fixed on a coach that was coming towards me from the other end of the street.","group":"30"},{"id":"401","x":"6.9655914","y":"9.237258","name":"As it drew nearer, I observed that it was the Swiss diligence: it stopped just where I was standing; and, on the door being opened, I perceived Henry Clerval, who, on seeing me, instantly sprung out.","group":"-1"},{"id":"402","x":"7.2104006","y":"8.850873","name":"Nothing could equal my delight on seeing Clerval; his presence brought back to my thoughts my father, Elizabeth, and all those scenes of home so dear to my recollection.","group":"23"},{"id":"403","x":"6.962346","y":"9.669159","name":"I grasped his hand, and in a moment forgot my horror and misfortune; I felt suddenly, and for the first time during many months, calm and serene joy.","group":"29"},{"id":"404","x":"7.3303003","y":"8.879568","name":"Clerval continued talking for some time about our mutual friends, and his own good fortune in being permitted to come to Ingolstadt.","group":"-1"},{"id":"405","x":"7.338869","y":"8.113704","name":"\\"You may easily believe,\\" said he, \\"how great was the difficulty to persuade my father that all necessary knowledge was not comprised in the noble art of book-keeping; and, indeed, I believe I left him incredulous to the last, for his constant answer to my unwearied entreaties was the same as that of the Dutch schoolmaster in the Vicar of Wakefield:--\'I have ten thousand florins a year without Greek, I eat heartily without Greek.\'","group":"14"},{"id":"406","x":"7.393117","y":"8.615743","name":"But his affection for me at length overcame his dislike of learning, and he has permitted me to undertake a voyage of discovery to the land of knowledge.\\"","group":"-1"},{"id":"407","x":"9.4408455","y":"10.36419","name":"\\"It gives me the greatest delight to see you; but tell me how you left my father, brothers, and Elizabeth.\\"","group":"12"},{"id":"408","x":"6.2130103","y":"12.943091","name":"By the by, I mean to lecture you a little upon their account myself.--But, my dear Frankenstein,\\" continued he, stopping short, and gazing full in my face, \\"I did not before remark how very ill you appear; so thin and pale; you look as if you had been watching for several nights.\\"","group":"0"},{"id":"409","x":"6.754624","y":"10.078761","name":"\\"You have guessed right; I have lately been so deeply engaged in one occupation, that I have not allowed myself sufficient rest, as you see: but I hope, I sincerely hope, that all these employments are now at an end, and that I am at length free.\\"","group":"-1"},{"id":"410","x":"5.440466","y":"11.138326","name":"I trembled excessively; I could not endure to think of, and far less to allude to, the occurrences of the preceding night.","group":"-1"},{"id":"411","x":"5.619879","y":"9.972","name":"I then reflected, and the thought made me shiver, that the creature whom I had left in my apartment might still be there, alive, and walking about.","group":"-1"},{"id":"412","x":"5.5555153","y":"9.678376","name":"Entreating him, therefore, to remain a few minutes at the bottom of the stairs, I darted up towards my own room.","group":"30"},{"id":"413","x":"5.5220737","y":"10.173864","name":"I threw the door forcibly open, as children are accustomed to do when they expect a spectre to stand in waiting for them on the other side; but nothing appeared.","group":"30"},{"id":"414","x":"5.367138","y":"9.870718","name":"I stepped fearfully in: the apartment was empty; and my bed-room was also freed from its hideous guest.","group":"30"},{"id":"415","x":"6.372996","y":"9.770166","name":"I could hardly believe that so great a good fortune could have befallen me; but when I became assured that my enemy had indeed fled, I clapped my hands for joy, and ran down to Clerval.","group":"32"},{"id":"416","x":"5.3959184","y":"9.726972","name":"We ascended into my room, and the servant presently brought breakfast; but I was unable to contain myself.","group":"30"},{"id":"417","x":"5.914518","y":"9.845265","name":"It was not joy only that possessed me; I felt my flesh tingle with excess of sensitiveness, and my pulse beat rapidly.","group":"-1"},{"id":"418","x":"6.125812","y":"9.778188","name":"I was unable to remain for a single instant in the same place; I jumped over the chairs, clapped my hands, and laughed aloud.","group":"-1"},{"id":"419","x":"7.0772586","y":"9.213264","name":"Clerval at first attributed my unusual spirits to joy on his arrival; but when he observed me more attentively, he saw a wildness in my eyes for which he could not account; and my loud, unrestrained, heartless laughter, frightened and astonished him.","group":"-1"},{"id":"420","x":"8.068898","y":"10.780515","name":"\\"Do not ask me,\\" cried I, putting my hands before my eyes, for I thought I saw the dreaded spectre glide into the room; \\"_he_ can tell.--Oh, save me!","group":"27"},{"id":"421","x":"6.708561","y":"10.96251","name":"But I was not the witness of his grief; for I was lifeless, and did not recover my senses for a long, long time.","group":"38"},{"id":"422","x":"8.264756","y":"10.038909","name":"I afterwards learned that, knowing my father\'s advanced age, and unfitness for so long a journey, and how wretched my sickness would make Elizabeth, he spared them this grief by concealing the extent of my disorder.","group":"-1"},{"id":"423","x":"8.213706","y":"10.245561","name":"He knew that I could not have a more kind and attentive nurse than himself; and, firm in the hope he felt of my recovery, he did not doubt that, instead of doing harm, he performed the kindest action that he could towards them.","group":"27"},{"id":"424","x":"7.767667","y":"10.254186","name":"But I was in reality very ill; and surely nothing but the unbounded and unremitting attentions of my friend could have restored me to life.","group":"-1"},{"id":"425","x":"6.394665","y":"12.155834","name":"The form of the monster on whom I had bestowed existence was for ever before my eyes, and I raved incessantly concerning him.","group":"-1"},{"id":"426","x":"7.028862","y":"10.468911","name":"Doubtless my words surprised Henry: he at first believed them to be the wanderings of my disturbed imagination; but the pertinacity with which I continually recurred to the same subject, persuaded him that my disorder indeed owed its origin to some uncommon and terrible event.","group":"-1"},{"id":"427","x":"4.597667","y":"8.889702","name":"I remember the first time I became capable of observing outward objects with any kind of pleasure, I perceived that the fallen leaves had disappeared, and that the young buds were shooting forth from the trees that shaded my window.","group":"21"},{"id":"428","x":"6.9110627","y":"9.697401","name":"I felt also sentiments of joy and affection revive in my bosom; my gloom disappeared, and in a short time I became as cheerful as before I was attacked by the fatal passion.","group":"29"},{"id":"429","x":"4.9600067","y":"7.9200163","name":"This whole winter, instead of being spent in study, as you promised yourself, has been consumed in my sick room.","group":"20"},{"id":"430","x":"7.6981254","y":"11.273117","name":"I feel the greatest remorse for the disappointment of which I have been the occasion; but you will forgive me.\\"","group":"25"},{"id":"431","x":"8.413964","y":"10.474149","name":"\\"You will repay me entirely, if you do not discompose yourself, but get well as fast as you can; and since you appear in such good spirits, I may speak to you on one subject, may I not?\\"","group":"27"},{"id":"432","x":"7.4364142","y":"9.298852","name":"\\"Compose yourself,\\" said Clerval, who observed my change of colour, \\"I will not mention it, if it agitates you; but your father and cousin would be very happy if they received a letter from you in your own handwriting.","group":"-1"},{"id":"433","x":"8.265632","y":"10.113839","name":"How could you suppose that my first thought would not fly towards those dear, dear friends whom I love, and who are so deserving of my love.\\"","group":"-1"},{"id":"434","x":"8.533209","y":"10.400537","name":"\\"If this is your present temper, my friend, you will perhaps be glad to see a letter that has been lying here some days for you: it is from your cousin, I believe.\\"","group":"27"},{"id":"435","x":"9.028503","y":"10.166096","name":"It was from my own Elizabeth:--  \\"My dearest Cousin,  \\"You have been ill, very ill, and even the constant letters of dear kind Henry are not sufficient to reassure me on your account.","group":"-1"},{"id":"436","x":"8.470595","y":"10.601786","name":"You are forbidden to write--to hold a pen; yet one word from you, dear Victor, is necessary to calm our apprehensions.","group":"27"},{"id":"437","x":"7.2674108","y":"8.573686","name":"For a long time I have thought that each post would bring this line, and my persuasions have restrained my uncle from undertaking a journey to Ingolstadt.","group":"-1"},{"id":"438","x":"7.8649735","y":"9.901166","name":"I have prevented his encountering the inconveniences and perhaps dangers of so long a journey; yet how often have I regretted not being able to perform it myself!","group":"28"},{"id":"439","x":"9.0982895","y":"10.05733","name":"I figure to myself that the task of attending on your sick bed has devolved on some mercenary old nurse, who could never guess your wishes, nor minister to them with the care and affection of your poor cousin.","group":"-1"},{"id":"440","x":"8.359247","y":"10.226908","name":"Your father\'s health is vigorous, and he asks but to see you,--but to be assured that you are well; and not a care will ever cloud his benevolent countenance.","group":"27"},{"id":"441","x":"7.2508936","y":"8.221184","name":"He is desirous to be a true Swiss, and to enter into foreign service; but we cannot part with him, at least until his elder brother return to us.","group":"14"},{"id":"442","x":"7.2702155","y":"8.191236","name":"My uncle is not pleased with the idea of a military career in a distant country; but Ernest never had your powers of application.","group":"14"},{"id":"443","x":"7.256623","y":"9.395121","name":"He looks upon study as an odious fetter;--his time is spent in the open air, climbing the hills or rowing on the lake.","group":"-1"},{"id":"444","x":"6.9539375","y":"10.281047","name":"I fear that he will become an idler, unless we yield the point, and permit him to enter on the profession which he has selected.","group":"-1"},{"id":"445","x":"4.2293105","y":"8.458347","name":"The blue lake, and snow-clad mountains, they never change;--and I think our placid home, and our contented hearts are regulated by the same immutable laws.","group":"18"},{"id":"446","x":"7.794763","y":"8.892433","name":"My trifling occupations take up my time and amuse me, and I am rewarded for any exertions by seeing none but happy, kind faces around me.","group":"24"},{"id":"447","x":"10.362513","y":"10.359009","name":"This girl had always been the favourite of her father; but, through a strange perversity, her mother could not endure her, and, after the death of M. Moritz, treated her very ill. My aunt observed this; and, when Justine was twelve years of age, prevailed on her mother to allow her to live at our house.","group":"-1"},{"id":"448","x":"8.262508","y":"8.756098","name":"The republican institutions of our country have produced simpler and happier manners than those which prevail in the great monarchies that surround it.","group":"22"},{"id":"449","x":"8.27737","y":"8.765425","name":"Hence there is less distinction between the several classes of its inhabitants; and the lower orders, being neither so poor nor so despised, their manners are more refined and moral.","group":"22"},{"id":"450","x":"10.432533","y":"10.359466","name":"Justine, thus received in our family, learned the duties of a servant; a condition which, in our fortunate country, does not include the idea of ignorance, and a sacrifice of the dignity of a human being.","group":"-1"},{"id":"451","x":"10.325948","y":"10.503952","name":"\\"Justine, you may remember, was a great favourite of yours; and I recollect you once remarked, that if you were in an ill-humour, one glance from Justine could dissipate it, for the same reason that Ariosto gives concerning the beauty of Angelica--she looked so frank-hearted and happy.","group":"6"},{"id":"452","x":"9.4714775","y":"9.414962","name":"My aunt conceived a great attachment for her, by which she was induced to give her an education superior to that which she had at first intended.","group":"-1"},{"id":"453","x":"10.398846","y":"10.447784","name":"This benefit was fully repaid; Justine was the most grateful little creature in the world: I do not mean that she made any professions; I never heard one pass her lips; but you could see by her eyes that she almost adored her protectress.","group":"-1"},{"id":"454","x":"9.609263","y":"9.341533","name":"Although her disposition was gay, and in many respects inconsiderate, yet she paid the greatest attention to every gesture of my aunt.","group":"13"},{"id":"455","x":"9.72372","y":"9.275556","name":"She thought her the model of all excellence, and endeavoured to imitate her phraseology and manners, so that even now she often reminds me of her.","group":"13"},{"id":"456","x":"10.1941805","y":"10.365652","name":"\\"When my dearest aunt died, every one was too much occupied in their own grief to notice poor Justine, who had attended her during her illness with the most anxious affection.","group":"-1"},{"id":"457","x":"9.678113","y":"8.6532","name":"\\"One by one, her brothers and sister died; and her mother, with the exception of her neglected daughter, was left childless.","group":"9"},{"id":"458","x":"10.124249","y":"10.459151","name":"The conscience of the woman was troubled; she began to think that the deaths of her favourites was a judgment from heaven to chastise her partiality.","group":"6"},{"id":"459","x":"6.904231","y":"8.540413","name":"Accordingly, a few months after your departure for Ingolstadt, Justine was called home by her repentant mother.","group":"14"},{"id":"460","x":"9.648377","y":"9.394825","name":"she wept when she quitted our house; she was much altered since the death of my aunt; grief had given softness and a winning mildness to her manners, which had before been remarkable for vivacity.","group":"13"},{"id":"461","x":"10.218408","y":"10.735932","name":"She sometimes begged Justine to forgive her unkindness, but much oftener accused her of having caused the deaths of her brothers and sister.","group":"6"},{"id":"462","x":"10.127264","y":"9.75109","name":"Perpetual fretting at length threw Madame Moritz into a decline, which at first increased her irritability, but she is now at peace for ever.","group":"11"},{"id":"463","x":"9.700384","y":"9.093921","name":"She is very clever and gentle, and extremely pretty; as I mentioned before, her mien and her expressions continually remind me of my dear aunt.","group":"13"},{"id":"464","x":"9.64144","y":"8.893903","name":"I wish you could see him; he is very tall of his age, with sweet laughing blue eyes, dark eyelashes, and curling hair.","group":"9"},{"id":"465","x":"9.476855","y":"8.916228","name":"He has already had one or two little _wives_, but Louisa Biron is his favourite, a pretty little girl of five years of age.","group":"-1"},{"id":"466","x":"8.912623","y":"10.3253565","name":"\\"Now, dear Victor, I dare say you wish to be indulged in a little gossip concerning the good people of Geneva.","group":"-1"},{"id":"467","x":"9.075054","y":"9.11599","name":"The pretty Miss Mansfield has already received the congratulatory visits on her approaching marriage with a young Englishman, John Melbourne, Esq.","group":"-1"},{"id":"468","x":"8.776348","y":"11.655905","name":"Your favourite schoolfellow, Louis Manoir, has suffered several misfortunes since the departure of Clerval from Geneva.","group":"15"},{"id":"469","x":"9.090665","y":"8.966403","name":"But he has already recovered his spirits, and is reported to be on the point of marrying a very lively pretty Frenchwoman, Madame Tavernier.","group":"-1"},{"id":"470","x":"9.511728","y":"9.118939","name":"She is a widow, and much older than Manoir; but she is very much admired, and a favourite with everybody.","group":"-1"},{"id":"471","x":"7.4765816","y":"10.258168","name":"\\"I have written myself into better spirits, dear cousin; but my anxiety returns upon me as I conclude.","group":"-1"},{"id":"472","x":"8.350954","y":"9.6923275","name":"Ten thousand thanks to Henry for his kindness, his affection, and his many letters: we are sincerely grateful.","group":"-1"},{"id":"473","x":"8.803081","y":"10.356292","name":"I exclaimed, when I had read her letter, \\"I will write instantly, and relieve them from the anxiety they must feel.\\"","group":"-1"},{"id":"474","x":"6.3070393","y":"9.728432","name":"I wrote, and this exertion greatly fatigued me; but my convalescence had commenced, and proceeded regularly.","group":"32"},{"id":"475","x":"4.5371437","y":"11.207222","name":"One of my first duties on my recovery was to introduce Clerval to the several professors of the university.","group":"4"},{"id":"476","x":"5.880667","y":"11.77327","name":"In doing this, I underwent a kind of rough usage, ill befitting the wounds that my mind had sustained.","group":"-1"},{"id":"477","x":"4.8690805","y":"11.52557","name":"Ever since the fatal night, the end of my labours, and the beginning of my misfortunes, I had conceived a violent antipathy even to the name of natural philosophy.","group":"-1"},{"id":"478","x":"5.6503105","y":"11.573494","name":"When I was otherwise quite restored to health, the sight of a chemical instrument would renew all the agony of my nervous symptoms.","group":"-1"},{"id":"479","x":"4.813677","y":"11.239139","name":"He had also changed my apartment; for he perceived that I had acquired a dislike for the room which had previously been my laboratory.","group":"4"},{"id":"480","x":"4.2644196","y":"11.722871","name":"M. Waldman inflicted torture when he praised, with kindness and warmth, the astonishing progress I had made in the sciences.","group":"4"},{"id":"481","x":"4.606778","y":"11.413918","name":"He soon perceived that I disliked the subject; but not guessing the real cause, he attributed my feelings to modesty, and changed the subject from my improvement, to the science itself, with a desire, as I evidently saw, of drawing me out.","group":"4"},{"id":"482","x":"5.8280373","y":"12.001706","name":"I felt as if he had placed carefully, one by one, in my view those instruments which were to be afterwards used in putting me to a slow and cruel death.","group":"-1"},{"id":"483","x":"7.1957946","y":"9.017965","name":"Clerval, whose eyes and feelings were always quick in discerning the sensations of others, declined the subject, alleging, in excuse, his total ignorance; and the conversation took a more general turn.","group":"23"},{"id":"484","x":"8.033523","y":"10.260032","name":"I saw plainly that he was surprised, but he never attempted to draw my secret from me; and although I loved him with a mixture of affection and reverence that knew no bounds, yet I could never persuade myself to confide to him that event which was so often present to my recollection, but which I feared the detail to another would only impress more deeply.","group":"-1"},{"id":"485","x":"4.3452034","y":"11.791454","name":"M. Krempe was not equally docile; and in my condition at that time, of almost insupportable sensitiveness, his harsh blunt encomiums gave me even more pain than the benevolent approbation of M. Waldman.","group":"4"},{"id":"486","x":"6.1560144","y":"12.972592","name":"A youngster who, but a few years ago, believed in Cornelius Agrippa as firmly as in the gospel, has now set himself at the head of the university; and if he is not soon pulled down, we shall all be out of countenance.--Ay, ay,\\" continued he, observing my face expressive of suffering, \\"M. Frankenstein is modest; an excellent quality in a young man.","group":"0"},{"id":"487","x":"7.036988","y":"9.048991","name":"Young men should be diffident of themselves, you know, M. Clerval: I was myself when young; but that wears out in a very short time.\\"","group":"23"},{"id":"488","x":"7.154557","y":"9.944012","name":"M. Krempe had now commenced an eulogy on himself, which happily turned the conversation from a subject that was so annoying to me.","group":"29"},{"id":"489","x":"7.1892886","y":"8.935467","name":"Clerval had never sympathised in my tastes for natural science; and his literary pursuits differed wholly from those which had occupied me.","group":"23"},{"id":"490","x":"7.6514397","y":"8.290442","name":"He came to the university with the design of making himself complete master of the oriental languages, as thus he should open a field for the plan of life he had marked out for himself.","group":"-1"},{"id":"491","x":"7.527266","y":"8.434489","name":"Resolved to pursue no inglorious career, he turned his eyes toward the East, as affording scope for his spirit of enterprise.","group":"-1"},{"id":"492","x":"8.226545","y":"7.98702","name":"The Persian, Arabic, and Sanscrit languages engaged his attention, and I was easily induced to enter on the same studies.","group":"7"},{"id":"493","x":"7.2672076","y":"8.919425","name":"Idleness had ever been irksome to me, and now that I wished to fly from reflection, and hated my former studies, I felt great relief in being the fellow-pupil with my friend, and found not only instruction but consolation in the works of the orientalists.","group":"23"},{"id":"494","x":"7.830197","y":"8.038625","name":"I did not, like him, attempt a critical knowledge of their dialects, for I did not contemplate making any other use of them than temporary amusement.","group":"7"},{"id":"495","x":"7.6117597","y":"8.831815","name":"Their melancholy is soothing, and their joy elevating, to a degree I never experienced in studying the authors of any other country.","group":"24"},{"id":"496","x":"7.5558176","y":"9.018033","name":"When you read their writings, life appears to consist in a warm sun and a garden of roses,--in the smiles and frowns of a fair enemy, and the fire that consumes your own heart.","group":"-1"},{"id":"497","x":"5.1863465","y":"7.8896055","name":"Summer passed away in these occupations, and my return to Geneva was fixed for the latter end of autumn; but being delayed by several accidents, winter and snow arrived, the roads were deemed impassable, and my journey was retarded until the ensuing spring.","group":"-1"},{"id":"498","x":"6.9076586","y":"8.558521","name":"My return had only been delayed so long, from an unwillingness to leave Clerval in a strange place, before he had become acquainted with any of its inhabitants.","group":"14"},{"id":"499","x":"5.094918","y":"7.863385","name":"The winter, however, was spent cheerfully; and although the spring was uncommonly late, when it came its beauty compensated for its dilatoriness.","group":"-1"},{"id":"500","x":"6.737036","y":"8.238776","name":"The month of May had already commenced, and I expected the letter daily which was to fix the date of my departure, when Henry proposed a pedestrian tour in the environs of Ingolstadt, that I might bid a personal farewell to the country I had so long inhabited.","group":"-1"},{"id":"501","x":"7.0957503","y":"9.01852","name":"I acceded with pleasure to this proposition: I was fond of exercise, and Clerval had always been my favourite companion in the rambles of this nature that I had taken among the scenes of my native country.","group":"23"},{"id":"502","x":"6.626054","y":"9.6651535","name":"We passed a fortnight in these perambulations: my health and spirits had long been restored, and they gained additional strength from the salubrious air I breathed, the natural incidents of our progress, and the conversation of my friend.","group":"-1"},{"id":"503","x":"7.354989","y":"9.062332","name":"Study had before secluded me from the intercourse of my fellow-creatures, and rendered me unsocial; but Clerval called forth the better feelings of my heart; he again taught me to love the aspect of nature, and the cheerful faces of children.","group":"-1"},{"id":"504","x":"7.9688787","y":"10.023336","name":"how sincerely did you love me, and endeavour to elevate my mind until it was on a level with your own!","group":"28"},{"id":"505","x":"7.52762","y":"9.760909","name":"A selfish pursuit had cramped and narrowed me, until your gentleness and affection warmed and opened my senses; I became the same happy creature who, a few years ago, loved and beloved by all, had no sorrow or care.","group":"-1"},{"id":"506","x":"5.2076354","y":"8.096007","name":"The present season was indeed divine; the flowers of spring bloomed in the hedges, while those of summer were already in bud.","group":"21"},{"id":"507","x":"6.021321","y":"10.608416","name":"I was undisturbed by thoughts which during the preceding year had pressed upon me, notwithstanding my endeavours to throw them off, with an invincible burden.","group":"-1"},{"id":"508","x":"8.279285","y":"9.719446","name":"Henry rejoiced in my gaiety, and sincerely sympathised in my feelings: he exerted himself to amuse me, while he expressed the sensations that filled his soul.","group":"-1"},{"id":"509","x":"8.304121","y":"8.243505","name":"The resources of his mind on this occasion were truly astonishing: his conversation was full of imagination; and very often, in imitation of the Persian and Arabic writers, he invented tales of wonderful fancy and passion.","group":"-1"},{"id":"510","x":"8.298328","y":"8.557026","name":"At other times he repeated my favourite poems, or drew me out into arguments, which he supported with great ingenuity.","group":"-1"},{"id":"511","x":"7.744522","y":"8.2496805","name":"We returned to our college on a Sunday afternoon: the peasants were dancing, and every one we met appeared gay and happy.","group":"-1"},{"id":"512","x":"7.19468","y":"8.343922","name":"On my return, I found the following letter from my father:--  \\"My dear Victor,  \\"You have probably waited impatiently for a letter to fix the date of your return to us; and I was at first tempted to write only a few lines, merely mentioning the day on which I should expect you.","group":"14"},{"id":"513","x":"8.717089","y":"10.170699","name":"What would be your surprise, my son, when you expected a happy and glad welcome, to behold, on the contrary, tears and wretchedness?","group":"-1"},{"id":"514","x":"8.159695","y":"10.729629","name":"Absence cannot have rendered you callous to our joys and griefs; and how shall I inflict pain on my long absent son?","group":"-1"},{"id":"515","x":"6.8473744","y":"10.859313","name":"I wish to prepare you for the woful news, but I know it is impossible; even now your eye skims over the page, to seek the words which are to convey to you the horrible tidings.","group":"-1"},{"id":"516","x":"9.20607","y":"10.521084","name":"\\"William is dead!--that sweet child, whose smiles delighted and warmed my heart, who was so gentle, yet so gay!","group":"-1"},{"id":"517","x":"10.537573","y":"9.416616","name":"It was already dusk before we thought of returning; and then we discovered that William and Ernest, who had gone on before, were not to be found.","group":"-1"},{"id":"518","x":"10.489589","y":"9.398077","name":"Presently Ernest came, and enquired if we had seen his brother: he said, that he had been playing with him, that William had run away to hide himself, and that he vainly sought for him, and afterwards waited for him a long time, but that he did not return.","group":"-1"},{"id":"519","x":"10.465027","y":"9.487206","name":"\\"This account rather alarmed us, and we continued to search for him until night fell, when Elizabeth conjectured that he might have returned to the house.","group":"11"},{"id":"520","x":"10.069938","y":"9.902748","name":"We returned again, with torches; for I could not rest, when I thought that my sweet boy had lost himself, and was exposed to all the damps and dews of night; Elizabeth also suffered extreme anguish.","group":"-1"},{"id":"521","x":"9.586759","y":"11.03203","name":"About five in the morning I discovered my lovely boy, whom the night before I had seen blooming and active in health, stretched on the grass livid and motionless: the print of the murderer\'s finger was on his neck.","group":"-1"},{"id":"522","x":"9.573809","y":"10.328845","name":"\\"He was conveyed home, and the anguish that was visible in my countenance betrayed the secret to Elizabeth.","group":"12"},{"id":"523","x":"10.01603","y":"10.526341","name":"At first I attempted to prevent her; but she persisted, and entering the room where it lay, hastily examined the neck of the victim, and clasping her hands exclaimed, \'O God!","group":"6"},{"id":"524","x":"9.562235","y":"9.917315","name":"She told me, that that same evening William had teased her to let him wear a very valuable miniature that she possessed of your mother.","group":"12"},{"id":"525","x":"10.433869","y":"9.599752","name":"We have no trace of him at present, although our exertions to discover him are unremitted; but they will not restore my beloved William!","group":"11"},{"id":"526","x":"10.12851","y":"10.641957","name":"She weeps continually, and accuses herself unjustly as the cause of his death; her words pierce my heart.","group":"6"},{"id":"527","x":"8.082706","y":"11.020656","name":"We are all unhappy; but will not that be an additional motive for you, my son, to return and be our comforter?","group":"-1"},{"id":"528","x":"8.785917","y":"10.647441","name":"\\"Come, Victor; not brooding thoughts of vengeance against the assassin, but with feelings of peace and gentleness, that will heal, instead of festering, the wounds of our minds.","group":"-1"},{"id":"529","x":"7.791995","y":"11.656337","name":"Enter the house of mourning, my friend, but with kindness and affection for those who love you, and not with hatred for your enemies.","group":"40"},{"id":"530","x":"7.3109293","y":"9.204793","name":"*       *       *       *       *  Clerval, who had watched my countenance as I read this letter, was surprised to observe the despair that succeeded to the joy I at first expressed on receiving news from my friends.","group":"-1"},{"id":"531","x":"6.3649793","y":"12.942352","name":"\\"My dear Frankenstein,\\" exclaimed Henry, when he perceived me weep with bitterness, \\"are you always to be unhappy?","group":"0"},{"id":"532","x":"5.5617037","y":"9.803535","name":"I motioned to him to take up the letter, while I walked up and down the room in the extremest agitation.","group":"30"},{"id":"533","x":"7.297068","y":"9.067233","name":"During our walk, Clerval endeavoured to say a few words of consolation; he could only express his heart-felt sympathy.","group":"-1"},{"id":"534","x":"7.1509724","y":"8.995436","name":"Clerval spoke thus as we hurried through the streets; the words impressed themselves on my mind, and I remembered them afterwards in solitude.","group":"23"},{"id":"535","x":"6.24639","y":"9.956115","name":"At first I wished to hurry on, for I longed to console and sympathise with my loved and sorrowing friends; but when I drew near my native town, I slackened my progress.","group":"-1"},{"id":"536","x":"4.3922367","y":"10.7579565","name":"One sudden and desolating change had taken place; but a thousand little circumstances might have by degrees worked other alterations, which, although they were done more tranquilly, might not be the less decisive.","group":"-1"},{"id":"537","x":"5.6219983","y":"11.2682295","name":"Fear overcame me; I dared not advance, dreading a thousand nameless evils that made me tremble, although I was unable to define them.","group":"-1"},{"id":"538","x":"4.2328606","y":"8.448887","name":"I contemplated the lake: the waters were placid; all around was calm; and the snowy mountains, \\"the palaces of nature,\\" were not changed.","group":"18"},{"id":"539","x":"6.8438964","y":"9.779958","name":"I fear, my friend, that I shall render myself tedious by dwelling on these preliminary circumstances; but they were days of comparative happiness, and I think of them with pleasure.","group":"29"},{"id":"540","x":"4.0785284","y":"8.401397","name":"who but a native can tell the delight I took in again beholding thy streams, thy mountains, and, more than all, thy lovely lake!","group":"18"},{"id":"541","x":"4.9028025","y":"9.960611","name":"Night also closed around; and when I could hardly see the dark mountains, I felt still more gloomily.","group":"-1"},{"id":"542","x":"6.441086","y":"11.956898","name":"The picture appeared a vast and dim scene of evil, and I foresaw obscurely that I was destined to become the most wretched of human beings.","group":"36"},{"id":"543","x":"6.4553084","y":"11.367565","name":"I prophesied truly, and failed only in one single circumstance, that in all the misery I imagined and dreaded, I did not conceive the hundredth part of the anguish I was destined to endure.","group":"-1"},{"id":"544","x":"6.4808173","y":"8.3632","name":"It was completely dark when I arrived in the environs of Geneva; the gates of the town were already shut; and I was obliged to pass the night at Secheron, a village at the distance of half a league from the city.","group":"14"},{"id":"545","x":"6.213239","y":"9.331874","name":"The sky was serene; and, as I was unable to rest, I resolved to visit the spot where my poor William had been murdered.","group":"-1"},{"id":"546","x":"4.858456","y":"7.8989015","name":"As I could not pass through the town, I was obliged to cross the lake in a boat to arrive at Plainpalais.","group":"-1"},{"id":"547","x":"3.7078922","y":"8.47904","name":"During this short voyage I saw the lightnings playing on the summit of Mont Blanc in the most beautiful figures.","group":"18"},{"id":"548","x":"3.8729596","y":"8.283059","name":"The storm appeared to approach rapidly; and, on landing, I ascended a low hill, that I might observe its progress.","group":"18"},{"id":"549","x":"3.9693217","y":"8.462916","name":"It advanced; the heavens were clouded, and I soon felt the rain coming slowly in large drops, but its violence quickly increased.","group":"18"},{"id":"550","x":"4.043579","y":"8.59939","name":"I quitted my seat, and walked on, although the darkness and storm increased every minute, and the thunder burst with a terrific crash over my head.","group":"18"},{"id":"551","x":"3.747753","y":"8.566878","name":"It was echoed from Sal\xeave, the Juras, and the Alps of Savoy; vivid flashes of lightning dazzled my eyes, illuminating the lake, making it appear like a vast sheet of fire; then for an instant every thing seemed of a pitchy darkness, until the eye recovered itself from the preceding flash.","group":"18"},{"id":"552","x":"3.913055","y":"8.5523615","name":"The most violent storm hung exactly north of the town, over that part of the lake which lies between the promontory of Belrive and the village of Cop\xeat.","group":"18"},{"id":"553","x":"3.7695413","y":"8.445626","name":"Another storm enlightened Jura with faint flashes; and another darkened and sometimes disclosed the M\xf4le, a peaked mountain to the east of the lake.","group":"18"},{"id":"554","x":"6.2831373","y":"9.957886","name":"This noble war in the sky elevated my spirits; I clasped my hands, and exclaimed aloud, \\"William, dear angel!","group":"-1"},{"id":"555","x":"4.3680825","y":"9.322921","name":"As I said these words, I perceived in the gloom a figure which stole from behind a clump of trees near me; I stood fixed, gazing intently: I could not be mistaken.","group":"-1"},{"id":"556","x":"4.90368","y":"10.258436","name":"A flash of lightning illuminated the object, and discovered its shape plainly to me; its gigantic stature, and the deformity of its aspect, more hideous than belongs to humanity, instantly informed me that it was the wretch, the filthy d\xe6mon, to whom I had given life.","group":"-1"},{"id":"557","x":"5.181955","y":"9.416069","name":"No sooner did that idea cross my imagination, than I became convinced of its truth; my teeth chattered, and I was forced to lean against a tree for support.","group":"-1"},{"id":"558","x":"4.281187","y":"8.108717","name":"I thought of pursuing the devil; but it would have been in vain, for another flash discovered him to me hanging among the rocks of the nearly perpendicular ascent of Mont Sal\xeave, a hill that bounds Plainpalais on the south.","group":"-1"},{"id":"559","x":"4.2047877","y":"8.755575","name":"The thunder ceased; but the rain still continued, and the scene was enveloped in an impenetrable darkness.","group":"-1"},{"id":"560","x":"5.8828845","y":"10.06043","name":"I revolved in my mind the events which I had until now sought to forget: the whole train of my progress towards the creation; the appearance of the work of my own hands alive at my bedside; its departure.","group":"-1"},{"id":"561","x":"8.885216","y":"11.420597","name":"Two years had now nearly elapsed since the night on which he first received life; and was this his first crime?","group":"15"},{"id":"562","x":"7.1783605","y":"12.496662","name":"I had turned loose into the world a depraved wretch, whose delight was in carnage and misery; had he not murdered my brother?","group":"-1"},{"id":"563","x":"5.248986","y":"10.4475975","name":"No one can conceive the anguish I suffered during the remainder of the night, which I spent, cold and wet, in the open air.","group":"-1"},{"id":"564","x":"5.6815114","y":"10.308603","name":"But I did not feel the inconvenience of the weather; my imagination was busy in scenes of evil and despair.","group":"30"},{"id":"565","x":"6.468934","y":"12.270314","name":"I considered the being whom I had cast among mankind, and endowed with the will and power to effect purposes of horror, such as the deed which he had now done, nearly in the light of my own vampire, my own spirit let loose from the grave, and forced to destroy all that was dear to me.","group":"-1"},{"id":"566","x":"5.031506","y":"9.704111","name":"A being whom I myself had formed, and endued with life, had met me at midnight among the precipices of an inaccessible mountain.","group":"-1"},{"id":"567","x":"6.17029","y":"11.35081","name":"I remembered also the nervous fever with which I had been seized just at the time that I dated my creation, and which would give an air of delirium to a tale otherwise so utterly improbable.","group":"35"},{"id":"568","x":"6.4705954","y":"11.743565","name":"I well knew that if any other had communicated such a relation to me, I should have looked upon it as the ravings of insanity.","group":"-1"},{"id":"569","x":"5.6006694","y":"11.681529","name":"Besides, the strange nature of the animal would elude all pursuit, even if I were so far credited as to persuade my relatives to commence it.","group":"-1"},{"id":"570","x":"5.3185587","y":"9.29464","name":"I told the servants not to disturb the family, and went into the library to attend their usual hour of rising.","group":"-1"},{"id":"571","x":"6.9547696","y":"8.698672","name":"Six years had elapsed, passed as a dream but for one indelible trace, and I stood in the same place where I had last embraced my father before my departure for Ingolstadt.","group":"14"},{"id":"572","x":"9.738309","y":"9.986021","name":"It was an historical subject, painted at my father\'s desire, and represented Caroline Beaufort in an agony of despair, kneeling by the coffin of her dead father.","group":"12"},{"id":"573","x":"9.876681","y":"9.035049","name":"Her garb was rustic, and her cheek pale; but there was an air of dignity and beauty, that hardly permitted the sentiment of pity.","group":"13"},{"id":"574","x":"9.150391","y":"10.488373","name":"You come to us now to share a misery which nothing can alleviate; yet your presence will, I hope, revive our father, who seems sinking under his misfortune; and your persuasions will induce poor Elizabeth to cease her vain and tormenting self-accusations.--Poor William!","group":"-1"},{"id":"575","x":"5.7983937","y":"10.810915","name":"Before, I had only imagined the wretchedness of my desolated home; the reality came on me as a new, and a not less terrible, disaster.","group":"34"},{"id":"576","x":"10.109809","y":"10.601938","name":"\\"She most of all,\\" said Ernest, \\"requires consolation; she accused herself of having caused the death of my brother, and that made her very wretched.","group":"6"},{"id":"577","x":"4.6336455","y":"7.89602","name":"It is impossible; one might as well try to overtake the winds, or confine a mountain-stream with a straw.","group":"-1"},{"id":"578","x":"7.3334193","y":"9.370071","name":"\\"I do not know what you mean,\\" replied my brother, in accents of wonder, \\"but to us the discovery we have made completes our misery.","group":"-1"},{"id":"579","x":"10.1717005","y":"11.164574","name":"No one would believe it at first; and even now Elizabeth will not be convinced, notwithstanding all the evidence.","group":"5"},{"id":"580","x":"10.265822","y":"10.777511","name":"Indeed, who would credit that Justine Moritz, who was so amiable, and fond of all the family, could suddenly become capable of so frightful, so appalling a crime?\\"","group":"5"},{"id":"581","x":"10.132565","y":"11.212161","name":"\\"No one did at first; but several circumstances came out, that have almost forced conviction upon us; and her own behaviour has been so confused, as to add to the evidence of facts a weight that, I fear, leaves no hope for doubt.","group":"5"},{"id":"582","x":"10.225181","y":"10.599397","name":"He related that, the morning on which the murder of poor William had been discovered, Justine had been taken ill, and confined to her bed for several days.","group":"6"},{"id":"583","x":"9.853108","y":"10.668221","name":"During this interval, one of the servants, happening to examine the apparel she had worn on the night of the murder, had discovered in her pocket the picture of my mother, which had been judged to be the temptation of the murderer.","group":"-1"},{"id":"584","x":"9.976534","y":"10.91534","name":"The servant instantly showed it to one of the others, who, without saying a word to any of the family, went to a magistrate; and, upon their deposition, Justine was apprehended.","group":"-1"},{"id":"585","x":"10.212426","y":"11.077307","name":"On being charged with the fact, the poor girl confirmed the suspicion in a great measure by her extreme confusion of manner.","group":"5"},{"id":"586","x":"8.625248","y":"11.7739725","name":"This was a strange tale, but it did not shake my faith; and I replied earnestly, \\"You are all mistaken; I know the murderer.","group":"15"},{"id":"587","x":"8.757877","y":"9.650639","name":"I saw unhappiness deeply impressed on his countenance, but he endeavoured to welcome me cheerfully; and, after we had exchanged our mournful greeting, would have introduced some other topic than that of our disaster, had not Ernest exclaimed, \\"Good God, papa!","group":"-1"},{"id":"588","x":"7.716788","y":"10.346585","name":"\\"We do also, unfortunately,\\" replied my father; \\"for indeed I had rather have been for ever ignorant than have discovered so much depravity and ingratitude in one I valued so highly.\\"","group":"-1"},{"id":"589","x":"10.058755","y":"11.254652","name":"I was firmly convinced in my own mind that Justine, and indeed every human being, was guiltless of this murder.","group":"5"},{"id":"590","x":"10.01949","y":"11.34467","name":"I had no fear, therefore, that any circumstantial evidence could be brought forward strong enough to convict her.","group":"5"},{"id":"591","x":"6.0882444","y":"11.698379","name":"My tale was not one to announce publicly; its astounding horror would be looked upon as madness by the vulgar.","group":"-1"},{"id":"592","x":"6.427819","y":"12.404036","name":"Did any one indeed exist, except I, the creator, who would believe, unless his senses convinced him, in the existence of the living monument of presumption and rash ignorance which I had let loose upon the world?","group":"-1"},{"id":"593","x":"9.8572645","y":"9.284638","name":"Time had altered her since I last beheld her; it had endowed her with loveliness surpassing the beauty of her childish years.","group":"13"},{"id":"594","x":"8.48098","y":"8.627427","name":"There was the same candour, the same vivacity, but it was allied to an expression more full of sensibility and intellect.","group":"-1"},{"id":"595","x":"8.417252","y":"10.761664","name":"Our misfortune is doubly hard to us; we have not only lost that lovely darling boy, but this poor girl, whom I sincerely love, is to be torn away by even a worse fate.","group":"-1"},{"id":"596","x":"9.283323","y":"10.398091","name":"But she will not, I am sure she will not; and then I shall be happy again, even after the sad death of my little William.\\"","group":"12"},{"id":"597","x":"9.913004","y":"11.279811","name":"\\"She is innocent, my Elizabeth,\\" said I, \\"and that shall be proved; fear nothing, but let your spirits be cheered by the assurance of her acquittal.\\"","group":"5"},{"id":"598","x":"10.199551","y":"10.996619","name":"every one else believes in her guilt, and that made me wretched, for I knew that it was impossible: and to see every one else prejudiced in so deadly a manner rendered me hopeless and despairing.\\"","group":"5"},{"id":"599","x":"10.007896","y":"11.354018","name":"If she is, as you believe, innocent, rely on the justice of our laws, and the activity with which I shall prevent the slightest shadow of partiality.\\"","group":"5"},{"id":"600","x":"9.202141","y":"11.100678","name":"My father and the rest of the family being obliged to attend as witnesses, I accompanied them to the court.","group":"-1"},{"id":"601","x":"9.300212","y":"11.336149","name":"It was to be decided, whether the result of my curiosity and lawless devices would cause the death of two of my fellow-beings: one a smiling babe, full of innocence and joy; the other far more dreadfully murdered, with every aggravation of infamy that could make the murder memorable in horror.","group":"-1"},{"id":"602","x":"10.291133","y":"10.647255","name":"Justine also was a girl of merit, and possessed qualities which promised to render her life happy: now all was to be obliterated in an ignominious grave; and I the cause!","group":"6"},{"id":"603","x":"9.909216","y":"11.201863","name":"A thousand times rather would I have confessed myself guilty of the crime ascribed to Justine; but I was absent when it was committed, and such a declaration would have been considered as the ravings of a madman, and would not have exculpated her who suffered through me.","group":"5"},{"id":"604","x":"9.895275","y":"9.160514","name":"She was dressed in mourning; and her countenance, always engaging, was rendered, by the solemnity of her feelings, exquisitely beautiful.","group":"13"},{"id":"605","x":"10.012696","y":"9.480985","name":"Yet she appeared confident in innocence, and did not tremble, although gazed on and execrated by thousands; for all the kindness which her beauty might otherwise have excited, was obliterated in the minds of the spectators by the imagination of the enormity she was supposed to have committed.","group":"-1"},{"id":"606","x":"10.175836","y":"9.689187","name":"She was tranquil, yet her tranquillity was evidently constrained; and as her confusion had before been adduced as a proof of her guilt, she worked up her mind to an appearance of courage.","group":"11"},{"id":"607","x":"10.103395","y":"9.448953","name":"When she entered the court, she threw her eyes round it, and quickly discovered where we were seated.","group":"-1"},{"id":"608","x":"9.757219","y":"9.573922","name":"A tear seemed to dim her eye when she saw us; but she quickly recovered herself, and a look of sorrowful affection seemed to attest her utter guiltlessness.","group":"13"},{"id":"609","x":"10.074757","y":"11.171033","name":"The trial began; and, after the advocate against her had stated the charge, several witnesses were called.","group":"5"},{"id":"610","x":"10.18416","y":"11.124511","name":"Several strange facts combined against her, which might have staggered any one who had not such proof of her innocence as I had.","group":"5"},{"id":"611","x":"10.357481","y":"9.7103615","name":"She had been out the whole of the night on which the murder had been committed, and towards morning had been perceived by a market-woman not far from the spot where the body of the murdered child had been afterwards found.","group":"11"},{"id":"612","x":"10.334698","y":"9.856403","name":"The woman asked her what she did there; but she looked very strangely, and only returned a confused and unintelligible answer.","group":"-1"},{"id":"613","x":"10.480943","y":"9.434234","name":"She returned to the house about eight o\'clock; and, when one enquired where she had passed the night, she replied that she had been looking for the child, and demanded earnestly if any thing had been heard concerning him.","group":"11"},{"id":"614","x":"9.846305","y":"10.564942","name":"The picture was then produced, which the servant had found in her pocket; and when Elizabeth, in a faltering voice, proved that it was the same which, an hour before the child had been missed, she had placed round his neck, a murmur of horror and indignation filled the court.","group":"-1"},{"id":"615","x":"10.056817","y":"9.607776","name":"Sometimes she struggled with her tears; but, when she was desired to plead, she collected her powers, and spoke, in an audible, although variable voice.","group":"11"},{"id":"616","x":"9.638589","y":"11.512426","name":"But I do not pretend that my protestations should acquit me: I rest my innocence on a plain and simple explanation of the facts which have been adduced against me; and I hope the character I have always borne will incline my judges to a favourable interpretation, where any circumstance appears doubtful or suspicious.\\"","group":"-1"},{"id":"617","x":"10.371729","y":"9.620323","name":"She then related that, by the permission of Elizabeth, she had passed the evening of the night on which the murder had been committed at the house of an aunt at Ch\xeane, a village situated at about a league from Geneva.","group":"11"},{"id":"618","x":"10.480756","y":"9.381064","name":"On her return, at about nine o\'clock, she met a man, who asked her if she had seen any thing of the child who was lost.","group":"-1"},{"id":"619","x":"10.497768","y":"9.508731","name":"She was alarmed by this account, and passed several hours in looking for him, when the gates of Geneva were shut, and she was forced to remain several hours of the night in a barn belonging to a cottage, being unwilling to call up the inhabitants, to whom she was well known.","group":"11"},{"id":"620","x":"10.396781","y":"9.666308","name":"Most of the night she spent here watching; towards morning she believed that she slept for a few minutes; some steps disturbed her, and she awoke.","group":"11"},{"id":"621","x":"10.491471","y":"9.607012","name":"That she had been bewildered when questioned by the market-woman was not surprising, since she had passed a sleepless night, and the fate of poor William was yet uncertain.","group":"11"},{"id":"622","x":"7.77647","y":"11.192772","name":"\\"I know,\\" continued the unhappy victim, \\"how heavily and fatally this one circumstance weighs against me, but I have no power of explaining it; and when I have expressed my utter ignorance, I am only left to conjecture concerning the probabilities by which it might have been placed in my pocket.","group":"25"},{"id":"623","x":"7.6476336","y":"12.596689","name":"I believe that I have no enemy on earth, and none surely would have been so wicked as to destroy me wantonly.","group":"31"},{"id":"624","x":"9.473629","y":"9.398521","name":"I know of no opportunity afforded him for so doing; or, if I had, why should he have stolen the jewel, to part with it again so soon?","group":"-1"},{"id":"625","x":"9.227224","y":"11.6437025","name":"I beg permission to have a few witnesses examined concerning my character; and if their testimony shall not overweigh my supposed guilt, I must be condemned, although I would pledge my salvation on my innocence.\\"","group":"-1"},{"id":"626","x":"10.149469","y":"11.089534","name":"Several witnesses were called, who had known her for many years, and they spoke well of her; but fear, and hatred of the crime of which they supposed her guilty, rendered them timorous, and unwilling to come forward.","group":"5"},{"id":"627","x":"9.882932","y":"10.29881","name":"Elizabeth saw even this last resource, her excellent dispositions and irreproachable conduct, about to fail the accused, when, although violently agitated, she desired permission to address the court.","group":"-1"},{"id":"628","x":"9.81115","y":"9.648212","name":"\\"I am,\\" said she, \\"the cousin of the unhappy child who was murdered, or rather his sister, for I was educated by, and have lived with his parents ever since and even long before, his birth.","group":"-1"},{"id":"629","x":"8.216046","y":"10.417833","name":"It may therefore be judged indecent in me to come forward on this occasion; but when I see a fellow-creature about to perish through the cowardice of her pretended friends, I wish to be allowed to speak, that I may say what I know of her character.","group":"27"},{"id":"630","x":"9.649198","y":"9.512852","name":"She nursed Madame Frankenstein, my aunt, in her last illness, with the greatest affection and care; and afterwards attended her own mother during a tedious illness, in a manner that excited the admiration of all who knew her; after which she again lived in my uncle\'s house, where she was beloved by all the family.","group":"13"},{"id":"631","x":"9.565949","y":"9.408764","name":"She was warmly attached to the child who is now dead, and acted towards him like a most affectionate mother.","group":"13"},{"id":"632","x":"10.05669","y":"11.32126","name":"For my own part, I do not hesitate to say, that, notwithstanding all the evidence produced against her, I believe and rely on her perfect innocence.","group":"5"},{"id":"633","x":"10.006473","y":"9.82485","name":"She had no temptation for such an action: as to the bauble on which the chief proof rests, if she had earnestly desired it, I should have willingly given it to her; so much do I esteem and value her.\\"","group":"-1"},{"id":"634","x":"9.9453945","y":"10.219865","name":"A murmur of approbation followed Elizabeth\'s simple and powerful appeal; but it was excited by her generous interference, and not in favour of poor Justine, on whom the public indignation was turned with renewed violence, charging her with the blackest ingratitude.","group":"12"},{"id":"635","x":"7.6353126","y":"12.333171","name":"Could the d\xe6mon, who had (I did not for a minute doubt) murdered my brother, also in his hellish sport have betrayed the innocent to death and ignominy?","group":"31"},{"id":"636","x":"6.3825083","y":"11.426695","name":"I could not sustain the horror of my situation; and when I perceived that the popular voice, and the countenances of the judges, had already condemned my unhappy victim, I rushed out of the court in agony.","group":"-1"},{"id":"637","x":"9.75734","y":"10.948102","name":"The tortures of the accused did not equal mine; she was sustained by innocence, but the fangs of remorse tore my bosom, and would not forego their hold.","group":"-1"},{"id":"638","x":"5.9052773","y":"11.114069","name":"I had before experienced sensations of horror; and I have endeavoured to bestow upon them adequate expressions, but words cannot convey an idea of the heart-sickening despair that I then endured.","group":"34"},{"id":"639","x":"9.724449","y":"11.46086","name":"\\"That evidence,\\" he observed, \\"was hardly required in so glaring a case, but I am glad of it; and, indeed, none of our judges like to condemn a criminal upon circumstantial evidence, be it ever so decisive.\\"","group":"-1"},{"id":"640","x":"8.315618","y":"11.759614","name":"and was I really as mad as the whole world would believe me to be, if I disclosed the object of my suspicions?","group":"-1"},{"id":"641","x":"9.270339","y":"11.271628","name":"\\"My cousin,\\" replied I, \\"it is decided as you may have expected; all judges had rather that ten innocent should suffer, than that one guilty should escape.","group":"-1"},{"id":"642","x":"10.281364","y":"10.681615","name":"Justine, whom I loved and esteemed as my sister, how could she put on those smiles of innocence only to betray?","group":"6"},{"id":"643","x":"9.879358","y":"9.509769","name":"My father wished her not to go; but said, that he left it to her own judgment and feelings to decide.","group":"-1"},{"id":"644","x":"9.572949","y":"10.722753","name":"\\"Yes,\\" said Elizabeth, \\"I will go, although she is guilty; and you, Victor, shall accompany me: I cannot go alone.\\"","group":"-1"},{"id":"645","x":"10.253569","y":"10.213613","name":"We entered the gloomy prison-chamber, and beheld Justine sitting on some straw at the farther end; her hands were manacled, and her head rested on her knees.","group":"-1"},{"id":"646","x":"9.891689","y":"10.059241","name":"She rose on seeing us enter; and when we were left alone with her, she threw herself at the feet of Elizabeth, weeping bitterly.","group":"12"},{"id":"647","x":"7.5328574","y":"10.503963","name":"I relied on your innocence; and although I was then very wretched, I was not so miserable as I am now.\\"","group":"26"},{"id":"648","x":"8.766401","y":"12.027075","name":"I am not one of your enemies; I believed you guiltless, notwithstanding every evidence, until I heard that you had yourself declared your guilt.","group":"15"},{"id":"649","x":"9.969505","y":"11.306179","name":"That report, you say, is false; and be assured, dear Justine, that nothing can shake my confidence in you for a moment, but your own confession.\\"","group":"5"},{"id":"650","x":"8.7158165","y":"11.887864","name":"I confessed, that I might obtain absolution; but now that falsehood lies heavier at my heart than all my other sins.","group":"15"},{"id":"651","x":"8.654445","y":"11.950194","name":"Ever since I was condemned, my confessor has besieged me; he threatened and menaced, until I almost began to think that I was the monster that he said I was.","group":"15"},{"id":"652","x":"10.108947","y":"10.683827","name":"She paused, weeping, and then continued--\\"I thought with horror, my sweet lady, that you should believe your Justine, whom your blessed aunt had so highly honoured, and whom you loved, was a creature capable of a crime which none but the devil himself could have perpetrated.","group":"6"},{"id":"653","x":"7.7861786","y":"11.333613","name":"I soon shall see you again in heaven, where we shall all be happy; and that consoles me, going as I am to suffer ignominy and death.\\"","group":"-1"},{"id":"654","x":"7.583198","y":"11.08353","name":"I leave a sad and bitter world; and if you remember me, and think of me as of one unjustly condemned, I am resigned to the fate awaiting me.","group":"25"},{"id":"655","x":"6.7481346","y":"10.2791","name":"During this conversation I had retired to a corner of the prison-room, where I could conceal the horrid anguish that possessed me.","group":"-1"},{"id":"656","x":"6.667658","y":"10.993677","name":"The poor victim, who on the morrow was to pass the awful boundary between life and death, felt not as I did, such deep and bitter agony.","group":"38"},{"id":"657","x":"9.407135","y":"10.070003","name":"When she saw who it was, she approached me, and said, \\"Dear sir, you are very kind to visit me; you, I hope, do not believe that I am guilty?\\"","group":"-1"},{"id":"658","x":"9.90608","y":"11.323475","name":"\\"No, Justine,\\" said Elizabeth; \\"he is more convinced of your innocence than I was; for even when he heard that you had confessed, he did not credit it.\\"","group":"5"},{"id":"659","x":"7.170067","y":"10.137553","name":"It removes more than half my misfortune; and I feel as if I could die in peace, now that my innocence is acknowledged by you, dear lady, and your cousin.\\"","group":"-1"},{"id":"660","x":"7.1041737","y":"12.5309925","name":"But I, the true murderer, felt the never-dying worm alive in my bosom, which allowed of no hope or consolation.","group":"-1"},{"id":"661","x":"9.8699875","y":"10.1205435","name":"Elizabeth also wept, and was unhappy; but her\'s also was the misery of innocence, which, like a cloud that passes over the fair moon, for a while hides but cannot tarnish its brightness.","group":"12"},{"id":"662","x":"6.460938","y":"11.052676","name":"Anguish and despair had penetrated into the core of my heart; I bore a hell within me, which nothing could extinguish.","group":"38"},{"id":"663","x":"9.781099","y":"10.301989","name":"We stayed several hours with Justine; and it was with great difficulty that Elizabeth could tear herself away.","group":"12"},{"id":"664","x":"9.54669","y":"10.177953","name":"She embraced Elizabeth, and said, in a voice of half-suppressed emotion, \\"Farewell, sweet lady, dearest Elizabeth, my beloved and only friend; may Heaven, in its bounty, bless and preserve you; may this be the last misfortune that you will ever suffer!","group":"12"},{"id":"665","x":"9.822037","y":"10.252303","name":"Elizabeth\'s heart-rending eloquence failed to move the judges from their settled conviction in the criminality of the saintly sufferer.","group":"12"},{"id":"666","x":"7.148487","y":"10.784576","name":"And when I received their cold answers, and heard the harsh unfeeling reasoning of these men, my purposed avowal died away on my lips.","group":"-1"},{"id":"667","x":"9.671347","y":"10.347225","name":"From the tortures of my own heart, I turned to contemplate the deep and voiceless grief of my Elizabeth.","group":"12"},{"id":"668","x":"7.473557","y":"10.171933","name":"And my father\'s woe, and the desolation of that late so smiling home--all was the work of my thrice-accursed hands!","group":"-1"},{"id":"669","x":"7.8200994","y":"11.842492","name":"Again shall you raise the funeral wail, and the sound of your lamentations shall again and again be heard!","group":"-1"},{"id":"670","x":"6.350598","y":"12.942913","name":"Frankenstein, your son, your kinsman, your early, much-loved friend; he who would spend each vital drop of blood for your sakes--who has no thought nor sense of joy, except as it is mirrored also in your dear countenances--who would fill the air with blessings, and spend his life in serving you--he bids you weep--to shed countless tears; happy beyond his hopes, if thus inexorable fate be satisfied, and if the destruction pause before the peace of the grave have succeeded to your sad torments!","group":"0"},{"id":"671","x":"8.429591","y":"11.767826","name":"Thus spoke my prophetic soul, as, torn by remorse, horror, and despair, I beheld those I loved spend vain sorrow upon the graves of William and Justine, the first hapless victims to my unhallowed arts.","group":"15"},{"id":"672","x":"6.385084","y":"10.328485","name":"Nothing is more painful to the human mind, than, after the feelings have been worked up by a quick succession of events, the dead calmness of inaction and certainty which follows, and deprives the soul both of hope and fear.","group":"33"},{"id":"673","x":"6.0903215","y":"10.946312","name":"The blood flowed freely in my veins, but a weight of despair and remorse pressed on my heart, which nothing could remove.","group":"34"},{"id":"674","x":"5.4827967","y":"10.576917","name":"Sleep fled from my eyes; I wandered like an evil spirit, for I had committed deeds of mischief beyond description horrible, and more, much more (I persuaded myself), was yet behind.","group":"30"},{"id":"675","x":"7.156805","y":"11.178597","name":"I had begun life with benevolent intentions, and thirsted for the moment when I should put them in practice, and make myself useful to my fellow-beings.","group":"-1"},{"id":"676","x":"6.73078","y":"11.283251","name":"Now all was blasted: instead of that serenity of conscience, which allowed me to look back upon the past with self-satisfaction, and from thence to gather promise of new hopes, I was seized by remorse and the sense of guilt, which hurried me away to a hell of intense tortures, such as no language can describe.","group":"38"},{"id":"677","x":"5.882213","y":"11.53138","name":"This state of mind preyed upon my health, which had perhaps never entirely recovered from the first shock it had sustained.","group":"-1"},{"id":"678","x":"6.0697207","y":"10.842714","name":"I shunned the face of man; all sound of joy or complacency was torture to me; solitude was my only consolation--deep, dark, deathlike solitude.","group":"34"},{"id":"679","x":"7.5011005","y":"10.15172","name":"My father observed with pain the alteration perceptible in my disposition and habits, and endeavoured by arguments deduced from the feelings of his serene conscience and guiltless life, to inspire me with fortitude, and awaken in me the courage to dispel the dark cloud which brooded over me.","group":"-1"},{"id":"680","x":"8.123773","y":"10.74078","name":"No one could love a child more than I loved your brother;\\" (tears came into his eyes as he spoke;) \\"but is it not a duty to the survivors, that we should refrain from augmenting their unhappiness by an appearance of immoderate grief?","group":"-1"},{"id":"681","x":"7.3885727","y":"11.101989","name":"It is also a duty owed to yourself; for excessive sorrow prevents improvement or enjoyment, or even the discharge of daily usefulness, without which no man is fit for society.\\"","group":"-1"},{"id":"682","x":"7.3926234","y":"11.076811","name":"This advice, although good, was totally inapplicable to my case; I should have been the first to hide my grief, and console my friends, if remorse had not mingled its bitterness, and terror its alarm with my other sensations.","group":"-1"},{"id":"683","x":"7.520232","y":"10.342845","name":"Now I could only answer my father with a look of despair, and endeavour to hide myself from his view.","group":"26"},{"id":"684","x":"6.262903","y":"8.249027","name":"The shutting of the gates regularly at ten o\'clock, and the impossibility of remaining on the lake after that hour, had rendered our residence within the walls of Geneva very irksome to me.","group":"-1"},{"id":"685","x":"5.0285187","y":"8.452078","name":"Often, after the rest of the family had retired for the night, I took the boat, and passed many hours upon the water.","group":"21"},{"id":"686","x":"5.109425","y":"8.154008","name":"Sometimes, with my sails set, I was carried by the wind; and sometimes, after rowing into the middle of the lake, I left the boat to pursue its own course, and gave way to my own miserable reflections.","group":"21"},{"id":"687","x":"6.007058","y":"9.571105","name":"I was often tempted, when all was at peace around me, and I the only unquiet thing that wandered restless in a scene so beautiful and heavenly--if I except some bat, or the frogs, whose harsh and interrupted croaking was heard only when I approached the shore--often, I say, I was tempted to plunge into the silent lake, that the waters might close over me and my calamities for ever.","group":"-1"},{"id":"688","x":"9.570947","y":"10.377632","name":"But I was restrained, when I thought of the heroic and suffering Elizabeth, whom I tenderly loved, and whose existence was bound up in mine.","group":"12"},{"id":"689","x":"7.1167717","y":"11.243416","name":"I thought also of my father, and surviving brother: should I by my base desertion leave them exposed and unprotected to the malice of the fiend whom I had let loose among them?","group":"-1"},{"id":"690","x":"7.364206","y":"10.616805","name":"At these moments I wept bitterly, and wished that peace would revisit my mind only that I might afford them consolation and happiness.","group":"-1"},{"id":"691","x":"6.7607822","y":"12.432686","name":"I had been the author of unalterable evils; and I lived in daily fear, lest the monster whom I had created should perpetrate some new wickedness.","group":"-1"},{"id":"692","x":"8.668299","y":"11.5419655","name":"I had an obscure feeling that all was not over, and that he would still commit some signal crime, which by its enormity should almost efface the recollection of the past.","group":"-1"},{"id":"693","x":"6.611054","y":"12.077596","name":"When I thought of him, I gnashed my teeth, my eyes became inflamed, and I ardently wished to extinguish that life which I had so thoughtlessly bestowed.","group":"36"},{"id":"694","x":"6.4614444","y":"8.905182","name":"I would have made a pilgrimage to the highest peak of the Andes, could I, when there, have precipitated him to their base.","group":"-1"},{"id":"695","x":"7.82724","y":"12.208994","name":"I wished to see him again, that I might wreak the utmost extent of abhorrence on his head, and avenge the deaths of William and Justine.","group":"31"},{"id":"696","x":"9.862981","y":"10.174","name":"Elizabeth was sad and desponding; she no longer took delight in her ordinary occupations; all pleasure seemed to her sacrilege toward the dead; eternal woe and tears she then thought was the just tribute she should pay to innocence so blasted and destroyed.","group":"12"},{"id":"697","x":"9.832482","y":"9.518686","name":"She was no longer that happy creature, who in earlier youth wandered with me on the banks of the lake, and talked with ecstasy of our future prospects.","group":"-1"},{"id":"698","x":"9.805205","y":"9.488114","name":"The first of those sorrows which are sent to wean us from the earth, had visited her, and its dimming influence quenched her dearest smiles.","group":"13"},{"id":"699","x":"10.2291765","y":"10.49071","name":"\\"When I reflect, my dear cousin,\\" said she, \\"on the miserable death of Justine Moritz, I no longer see the world and its works as they before appeared to me.","group":"6"},{"id":"700","x":"7.247666","y":"11.579215","name":"Before, I looked upon the accounts of vice and injustice, that I read in books or heard from others, as tales of ancient days, or imaginary evils; at least they were remote, and more familiar to reason than to the imagination; but now misery has come home, and men appear to me as monsters thirsting for each other\'s blood.","group":"40"},{"id":"701","x":"10.144337","y":"11.170468","name":"Every body believed that poor girl to be guilty; and if she could have committed the crime for which she suffered, assuredly she would have been the most depraved of human creatures.","group":"5"},{"id":"702","x":"9.919378","y":"9.983541","name":"For the sake of a few jewels, to have murdered the son of her benefactor and friend, a child whom she had nursed from its birth, and appeared to love as if it had been her own!","group":"12"},{"id":"703","x":"8.075435","y":"11.720023","name":"I could not consent to the death of any human being; but certainly I should have thought such a creature unfit to remain in the society of men.","group":"-1"},{"id":"704","x":"5.7284956","y":"11.1187105","name":"I feel as if I were walking on the edge of a precipice, towards which thousands are crowding, and endeavouring to plunge me into the abyss.","group":"34"},{"id":"705","x":"10.202114","y":"10.720153","name":"William and Justine were assassinated, and the murderer escapes; he walks about the world free, and perhaps respected.","group":"6"},{"id":"706","x":"8.967026","y":"11.859382","name":"But even if I were condemned to suffer on the scaffold for the same crimes, I would not change places with such a wretch.\\"","group":"-1"},{"id":"707","x":"9.287081","y":"10.279377","name":"Elizabeth read my anguish in my countenance, and kindly taking my hand, said, \\"My dearest friend, you must calm yourself.","group":"12"},{"id":"708","x":"7.608732","y":"11.959764","name":"There is an expression of despair, and sometimes of revenge, in your countenance, that makes me tremble.","group":"-1"},{"id":"709","x":"7.4524565","y":"10.018968","name":"while we love--while we are true to each other, here in this land of peace and beauty, your native country, we may reap every tranquil blessing,--what can disturb our peace?\\"","group":"-1"},{"id":"710","x":"9.235741","y":"10.136299","name":"And could not such words from her whom I fondly prized before every other gift of fortune, suffice to chase away the fiend that lurked in my heart?","group":"12"},{"id":"711","x":"9.168262","y":"10.751801","name":"Even as she spoke I drew near to her, as if in terror; lest at that very moment the destroyer had been near to rob me of her.","group":"-1"},{"id":"712","x":"7.5984654","y":"9.978193","name":"Thus not the tenderness of friendship, nor the beauty of earth, nor of heaven, could redeem my soul from woe: the very accents of love were ineffectual.","group":"-1"},{"id":"713","x":"6.1218762","y":"11.414129","name":"The wounded deer dragging its fainting limbs to some untrodden brake, there to gaze upon the arrow which had pierced it, and to die--was but a type of me.","group":"35"},{"id":"714","x":"6.3206835","y":"9.858251","name":"Sometimes I could cope with the sullen despair that overwhelmed me: but sometimes the whirlwind passions of my soul drove me to seek, by bodily exercise and by change of place, some relief from my intolerable sensations.","group":"32"},{"id":"715","x":"4.4828725","y":"8.474097","name":"It was during an access of this kind that I suddenly left my home, and bending my steps towards the near Alpine valleys, sought in the magnificence, the eternity of such scenes, to forget myself and my ephemeral, because human, sorrows.","group":"-1"},{"id":"716","x":"6.838","y":"9.776657","name":"Six years had passed since then: _I_ was a wreck--but nought had changed in those savage and enduring scenes.","group":"29"},{"id":"717","x":"5.81714","y":"8.49759","name":"I afterwards hired a mule, as the more sure-footed, and least liable to receive injury on these rugged roads.","group":"17"},{"id":"718","x":"5.167136","y":"7.969733","name":"The weather was fine: it was about the middle of the month of August, nearly two months after the death of Justine; that miserable epoch from which I dated all my woe.","group":"21"},{"id":"719","x":"3.8709526","y":"8.468647","name":"The immense mountains and precipices that overhung me on every side--the sound of the river raging among the rocks, and the dashing of the waterfalls around, spoke of a power mighty as Omnipotence--and I ceased to fear, or to bend before any being less almighty than that which had created and ruled the elements, here displayed in their most terrific guise.","group":"18"},{"id":"720","x":"3.6285698","y":"8.325474","name":"Ruined castles hanging on the precipices of piny mountains; the impetuous Arve, and cottages every here and there peeping forth from among the trees, formed a scene of singular beauty.","group":"18"},{"id":"721","x":"3.7508132","y":"8.409975","name":"But it was augmented and rendered sublime by the mighty Alps, whose white and shining pyramids and domes towered above all, as belonging to another earth, the habitations of another race of beings.","group":"18"},{"id":"722","x":"3.7851558","y":"8.0517235","name":"I passed the bridge of P\xe9lissier, where the ravine, which the river forms, opened before me, and I began to ascend the mountain that overhangs it.","group":"-1"},{"id":"723","x":"4.108612","y":"8.434101","name":"This valley is more wonderful and sublime, but not so beautiful and picturesque, as that of Servox, through which I had just passed.","group":"18"},{"id":"724","x":"3.8331084","y":"8.255259","name":"The high and snowy mountains were its immediate boundaries; but I saw no more ruined castles and fertile fields.","group":"18"},{"id":"725","x":"3.937529","y":"7.9316664","name":"Immense glaciers approached the road; I heard the rumbling thunder of the falling avalanche, and marked the smoke of its passage.","group":"18"},{"id":"726","x":"3.6532362","y":"8.421095","name":"Mont Blanc, the supreme and magnificent Mont Blanc, raised itself from the surrounding _aiguilles_, and its tremendous _d\xf4me_ overlooked the valley.","group":"18"},{"id":"727","x":"6.1890926","y":"9.365798","name":"Some turn in the road, some new object suddenly perceived and recognised, reminded me of days gone by, and were associated with the light-hearted gaiety of boyhood.","group":"-1"},{"id":"728","x":"6.4076767","y":"10.905865","name":"Then again the kindly influence ceased to act--I found myself fettered again to grief, and indulging in all the misery of reflection.","group":"38"},{"id":"729","x":"5.9616046","y":"9.824062","name":"Then I spurred on my animal, striving so to forget the world, my fears, and, more than all, myself--or, in a more desperate fashion, I alighted, and threw myself on the grass, weighed down by horror and despair.","group":"-1"},{"id":"730","x":"3.7773104","y":"8.501122","name":"For a short space of time I remained at the window, watching the pallid lightnings that played above Mont Blanc, and listening to the rushing of the Arve, which pursued its noisy way beneath.","group":"18"},{"id":"731","x":"5.086222","y":"9.856093","name":"The same lulling sounds acted as a lullaby to my too keen sensations: when I placed my head upon my pillow, sleep crept over me; I felt it as it came, and blest the giver of oblivion.","group":"-1"},{"id":"732","x":"3.953831","y":"8.163645","name":"I stood beside the sources of the Arveiron, which take their rise in a glacier, that with slow pace is advancing down from the summit of the hills, to barricade the valley.","group":"18"},{"id":"733","x":"3.9884925","y":"8.032632","name":"The abrupt sides of vast mountains were before me; the icy wall of the glacier overhung me; a few shattered pines were scattered around; and the solemn silence of this glorious presence-chamber of imperial Nature was broken only by the brawling waves, or the fall of some vast fragment, the thunder sound of the avalanche, or the cracking, reverberated along the mountains of the accumulated ice, which, through the silent working of immutable laws, was ever and anon rent and torn, as if it had been but a plaything in their hands.","group":"18"},{"id":"734","x":"6.49636","y":"9.732019","name":"These sublime and magnificent scenes afforded me the greatest consolation that I was capable of receiving.","group":"-1"},{"id":"735","x":"6.9424267","y":"9.968546","name":"They elevated me from all littleness of feeling; and although they did not remove my grief, they subdued and tranquillised it.","group":"-1"},{"id":"736","x":"6.4763145","y":"10.043147","name":"In some degree, also, they diverted my mind from the thoughts over which it had brooded for the last month.","group":"-1"},{"id":"737","x":"5.286091","y":"9.495687","name":"I retired to rest at night; my slumbers, as it were, waited on and ministered to by the assemblance of grand shapes which I had contemplated during the day.","group":"-1"},{"id":"738","x":"4.3526897","y":"8.953232","name":"They congregated round me; the unstained snowy mountain-top, the glittering pinnacle, the pine woods, and ragged bare ravine; the eagle, soaring amidst the clouds--they all gathered round me, and bade me be at peace.","group":"21"},{"id":"739","x":"4.12276","y":"8.417299","name":"The rain was pouring in torrents, and thick mists hid the summits of the mountains, so that I even saw not the faces of those mighty friends.","group":"18"},{"id":"740","x":"4.0000496","y":"8.058342","name":"I remembered the effect that the view of the tremendous and ever-moving glacier had produced upon my mind when I first saw it.","group":"18"},{"id":"741","x":"4.581332","y":"10.007842","name":"It had then filled me with a sublime ecstasy, that gave wings to the soul, and allowed it to soar from the obscure world to light and joy.","group":"-1"},{"id":"742","x":"6.126706","y":"9.449273","name":"The sight of the awful and majestic in nature had indeed always the effect of solemnising my mind, and causing me to forget the passing cares of life.","group":"-1"},{"id":"743","x":"5.9901185","y":"8.462381","name":"I determined to go without a guide, for I was well acquainted with the path, and the presence of another would destroy the solitary grandeur of the scene.","group":"-1"},{"id":"744","x":"3.808924","y":"8.039078","name":"The ascent is precipitous, but the path is cut into continual and short windings, which enable you to surmount the perpendicularity of the mountain.","group":"18"},{"id":"745","x":"3.9874926","y":"7.9256554","name":"In a thousand spots the traces of the winter avalanche may be perceived, where trees lie broken and strewed on the ground; some entirely destroyed, others bent, leaning upon the jutting rocks of the mountain, or transversely upon other trees.","group":"18"},{"id":"746","x":"3.9769483","y":"7.930106","name":"The path, as you ascend higher, is intersected by ravines of snow, down which stones continually roll from above; one of them is particularly dangerous, as the slightest sound, such as even speaking in a loud voice, produces a concussion of air sufficient to draw destruction upon the head of the speaker.","group":"18"},{"id":"747","x":"4.1224575","y":"8.477947","name":"I looked on the valley beneath; vast mists were rising from the rivers which ran through it, and curling in thick wreaths around the opposite mountains, whose summits were hid in the uniform clouds, while rain poured from the dark sky, and added to the melancholy impression I received from the objects around me.","group":"18"},{"id":"748","x":"8.207889","y":"9.823826","name":"why does man boast of sensibilities superior to those apparent in the brute; it only renders them more necessary beings.","group":"-1"},{"id":"749","x":"6.364047","y":"10.081193","name":"If our impulses were confined to hunger, thirst, and desire, we might be nearly free; but now we are moved by every wind that blows, and a chance word or scene that that word may convey to us.","group":"-1"},{"id":"750","x":"6.735486","y":"10.31919","name":"We feel, conceive, or reason; laugh or weep,       Embrace fond woe, or cast our cares away;     It is the same: for, be it joy or sorrow,       The path of its departure still is free.","group":"37"},{"id":"751","x":"4.023741","y":"8.045092","name":"The surface is very uneven, rising like the waves of a troubled sea, descending low, and interspersed by rifts that sink deep.","group":"18"},{"id":"752","x":"3.7055333","y":"8.4147005","name":"From the side where I now stood Montanvert was exactly opposite, at the distance of a league; and above it rose Mont Blanc, in awful majesty.","group":"18"},{"id":"753","x":"3.9266884","y":"8.019106","name":"The sea, or rather the vast river of ice, wound among its dependent mountains, whose aerial summits hung over its recesses.","group":"18"},{"id":"754","x":"7.0278783","y":"9.690896","name":"My heart, which was before sorrowful, now swelled with something like joy; I exclaimed--\\"Wandering spirits, if indeed ye wander, and do not rest in your narrow beds, allow me this faint happiness, or take me, as your companion, away from the joys of life.\\"","group":"29"},{"id":"755","x":"5.7025886","y":"9.831276","name":"As I said this, I suddenly beheld the figure of a man, at some distance, advancing towards me with superhuman speed.","group":"30"},{"id":"756","x":"4.276651","y":"7.644347","name":"He bounded over the crevices in the ice, among which I had walked with caution; his stature, also, as he approached, seemed to exceed that of man.","group":"20"},{"id":"757","x":"4.3909454","y":"8.581332","name":"I was troubled: a mist came over my eyes, and I felt a faintness seize me; but I was quickly restored by the cold gale of the mountains.","group":"-1"},{"id":"758","x":"6.581166","y":"12.001578","name":"I trembled with rage and horror, resolving to wait his approach, and then close with him in mortal combat.","group":"-1"},{"id":"759","x":"6.4053507","y":"11.8434105","name":"He approached; his countenance bespoke bitter anguish, combined with disdain and malignity, while its unearthly ugliness rendered it almost too horrible for human eyes.","group":"-1"},{"id":"760","x":"6.8587136","y":"11.827","name":"But I scarcely observed this; rage and hatred had at first deprived me of utterance, and I recovered only to overwhelm him with words expressive of furious detestation and contempt.","group":"39"},{"id":"761","x":"7.643622","y":"12.511146","name":"that I could, with the extinction of your miserable existence, restore those victims whom you have so diabolically murdered!\\"","group":"31"},{"id":"762","x":"7.4776535","y":"12.563862","name":"Yet you, my creator, detest and spurn me, thy creature, to whom thou art bound by ties only dissoluble by the annihilation of one of us.","group":"31"},{"id":"763","x":"7.919703","y":"12.342512","name":"If you will comply with my conditions, I will leave them and you at peace; but if you refuse, I will glut the maw of death, until it be satiated with the blood of your remaining friends.\\"","group":"-1"},{"id":"764","x":"7.444325","y":"12.549396","name":"you reproach me with your creation; come on, then, that I may extinguish the spark which I so negligently bestowed.\\"","group":"31"},{"id":"765","x":"6.939968","y":"11.982359","name":"My rage was without bounds; I sprang on him, impelled by all the feelings which can arm one being against the existence of another.","group":"-1"},{"id":"766","x":"7.6829658","y":"9.821621","name":"Remember, thou hast made me more powerful than thyself; my height is superior to thine; my joints more supple.","group":"-1"},{"id":"767","x":"7.636444","y":"11.732723","name":"I am thy creature, and I will be even mild and docile to my natural lord and king, if thou wilt also perform thy part, the which thou owest me.","group":"40"},{"id":"768","x":"6.4127164","y":"12.974866","name":"Oh, Frankenstein, be not equitable to every other, and trample upon me alone, to whom thy justice, and even thy clemency and affection, is most due.","group":"0"},{"id":"769","x":"7.538047","y":"11.886657","name":"Remember, that I am thy creature; I ought to be thy Adam; but I am rather the fallen angel, whom thou drivest from joy for no misdeed.","group":"40"},{"id":"770","x":"7.6615","y":"11.609052","name":"Will no entreaties cause thee to turn a favourable eye upon thy creature, who implores thy goodness and compassion?","group":"40"},{"id":"771","x":"6.4205246","y":"12.901649","name":"Believe me, Frankenstein: I was benevolent; my soul glowed with love and humanity: but am I not alone, miserably alone?","group":"0"},{"id":"772","x":"4.5007224","y":"7.3316164","name":"I have wandered here many days; the caves of ice, which I only do not fear, are a dwelling to me, and the only one which man does not grudge.","group":"20"},{"id":"773","x":"7.527449","y":"12.684348","name":"If the multitude of mankind knew of my existence, they would do as you do, and arm themselves for my destruction.","group":"-1"},{"id":"774","x":"7.702297","y":"12.122405","name":"Yet it is in your power to recompense me, and deliver them from an evil which it only remains for you to make so great, that not only you and your family, but thousands of others, shall be swallowed up in the whirlwinds of its rage.","group":"-1"},{"id":"775","x":"7.5094194","y":"11.070944","name":"Listen to my tale: when you have heard that, abandon or commiserate me, as you shall judge that I deserve.","group":"-1"},{"id":"776","x":"9.708325","y":"11.469566","name":"The guilty are allowed, by human laws, bloody as they are, to speak in their own defence before they are condemned.","group":"-1"},{"id":"777","x":"8.030795","y":"12.312831","name":"Yet I ask you not to spare me: listen to me; and then, if you can, and if you will, destroy the work of your hands.\\"","group":"-1"},{"id":"778","x":"7.629154","y":"11.127667","name":"\\"Why do you call to my remembrance,\\" I rejoined, \\"circumstances, of which I shudder to reflect, that I have been the miserable origin and author?","group":"25"},{"id":"779","x":"7.4421406","y":"12.603555","name":"\\"Thus I relieve thee, my creator,\\" he said, and placed his hated hands before my eyes, which I flung from me with violence; \\"thus I take from thee a sight which you abhor.","group":"-1"},{"id":"780","x":"5.008201","y":"8.437234","name":"Hear my tale; it is long and strange, and the temperature of this place is not fitting to your fine sensations; come to the hut upon the mountain.","group":"21"},{"id":"781","x":"4.399344","y":"9.138753","name":"The sun is yet high in the heavens; before it descends to hide itself behind yon snowy precipices, and illuminate another world, you will have heard my story, and can decide.","group":"21"},{"id":"782","x":"7.763523","y":"12.125389","name":"On you it rests, whether I quit for ever the neighbourhood of man, and lead a harmless life, or become the scourge of your fellow-creatures, and the author of your own speedy ruin.\\"","group":"31"},{"id":"783","x":"6.937257","y":"10.995461","name":"My heart was full, and I did not answer him; but, as I proceeded, I weighed the various arguments that he had used, and determined at least to listen to his tale.","group":"38"},{"id":"784","x":"8.370732","y":"11.672767","name":"I had hitherto supposed him to be the murderer of my brother, and I eagerly sought a confirmation or denial of this opinion.","group":"-1"},{"id":"785","x":"6.877695","y":"12.022085","name":"For the first time, also, I felt what the duties of a creator towards his creature were, and that I ought to render him happy before I complained of his wickedness.","group":"-1"},{"id":"786","x":"4.861198","y":"8.4700365","name":"The air was cold, and the rain again began to descend: we entered the hut, the fiend with an air of exultation, I with a heavy heart, and depressed spirits.","group":"21"},{"id":"787","x":"5.828538","y":"9.452757","name":"But I consented to listen; and, seating myself by the fire which my odious companion had lighted, he thus began his tale.","group":"-1"},{"id":"788","x":"4.74784","y":"11.026395","name":"\\"It is with considerable difficulty that I remember the original era of my being: all the events of that period appear confused and indistinct.","group":"4"},{"id":"789","x":"4.5628276","y":"9.754168","name":"A strange multiplicity of sensations seized me, and I saw, felt, heard, and smelt, at the same time; and it was, indeed, a long time before I learned to distinguish between the operations of my various senses.","group":"16"},{"id":"790","x":"4.820018","y":"10.057987","name":"By degrees, I remember, a stronger light pressed upon my nerves, so that I was obliged to shut my eyes.","group":"-1"},{"id":"791","x":"4.739711","y":"9.717241","name":"Darkness then came over me, and troubled me; but hardly had I felt this, when, by opening my eyes, as I now suppose, the light poured in upon me again.","group":"16"},{"id":"792","x":"4.6503105","y":"9.603817","name":"Before, dark and opaque bodies had surrounded me, impervious to my touch or sight; but I now found that I could wander on at liberty, with no obstacles which I could not either surmount or avoid.","group":"16"},{"id":"793","x":"4.9955764","y":"10.190861","name":"The light became more and more oppressive to me; and, the heat wearying me as I walked, I sought a place where I could receive shade.","group":"-1"},{"id":"794","x":"5.199054","y":"9.9540205","name":"This was the forest near Ingolstadt; and here I lay by the side of a brook resting from my fatigue, until I felt tormented by hunger and thirst.","group":"-1"},{"id":"795","x":"5.17671","y":"9.015406","name":"This roused me from my nearly dormant state, and I ate some berries which I found hanging on the trees, or lying on the ground.","group":"19"},{"id":"796","x":"5.0118265","y":"9.753471","name":"\\"It was dark when I awoke; I felt cold also, and half-frightened, as it were instinctively, finding myself so desolate.","group":"-1"},{"id":"797","x":"4.709053","y":"8.326543","name":"Before I had quitted your apartment, on a sensation of cold, I had covered myself with some clothes; but these were insufficient to secure me from the dews of night.","group":"-1"},{"id":"798","x":"6.3564878","y":"10.797772","name":"I was a poor, helpless, miserable wretch; I knew, and could distinguish, nothing; but feeling pain invade me on all sides, I sat down and wept.","group":"38"},{"id":"799","x":"5.027021","y":"9.341458","name":"I was still cold, when under one of the trees I found a huge cloak, with which I covered myself, and sat down upon the ground.","group":"-1"},{"id":"800","x":"4.5486197","y":"9.737786","name":"I felt light, and hunger, and thirst, and darkness; innumerable sounds rung in my ears, and on all sides various scents saluted me: the only object that I could distinguish was the bright moon, and I fixed my eyes on that with pleasure.","group":"16"},{"id":"801","x":"4.6528482","y":"9.617347","name":"\\"Several changes of day and night passed, and the orb of night had greatly lessened, when I began to distinguish my sensations from each other.","group":"16"},{"id":"802","x":"4.566352","y":"8.845229","name":"I gradually saw plainly the clear stream that supplied me with drink, and the trees that shaded me with their foliage.","group":"21"},{"id":"803","x":"4.4207516","y":"9.754732","name":"I was delighted when I first discovered that a pleasant sound, which often saluted my ears, proceeded from the throats of the little winged animals who had often intercepted the light from my eyes.","group":"-1"},{"id":"804","x":"4.4122214","y":"9.610475","name":"I began also to observe, with greater accuracy, the forms that surrounded me, and to perceive the boundaries of the radiant roof of light which canopied me.","group":"-1"},{"id":"805","x":"6.1331015","y":"10.373191","name":"Sometimes I wished to express my sensations in my own mode, but the uncouth and inarticulate sounds which broke from me frightened me into silence again.","group":"33"},{"id":"806","x":"4.411177","y":"9.044379","name":"\\"The moon had disappeared from the night, and again, with a lessened form, showed itself, while I still remained in the forest.","group":"21"},{"id":"807","x":"4.469075","y":"9.611042","name":"My eyes became accustomed to the light, and to perceive objects in their right forms; I distinguished the insect from the herb, and, by degrees, one herb from another.","group":"16"},{"id":"808","x":"4.4359455","y":"9.475343","name":"I found that the sparrow uttered none but harsh notes, whilst those of the blackbird and thrush were sweet and enticing.","group":"-1"},{"id":"809","x":"5.245495","y":"8.798443","name":"\\"One day, when I was oppressed by cold, I found a fire which had been left by some wandering beggars, and was overcome with delight at the warmth I experienced from it.","group":"19"},{"id":"810","x":"4.97872","y":"9.104874","name":"I reflected on this; and, by touching the various branches, I discovered the cause, and busied myself in collecting a great quantity of wood, that I might dry it, and have a plentiful supply of fire.","group":"-1"},{"id":"811","x":"5.1016994","y":"9.876999","name":"When night came on, and brought sleep with it, I was in the greatest fear lest my fire should be extinguished.","group":"-1"},{"id":"812","x":"4.9533753","y":"9.094848","name":"I covered it carefully with dry wood and leaves, and placed wet branches upon it; and then, spreading my cloak, I lay on the ground, and sunk into sleep.","group":"21"},{"id":"813","x":"4.8812294","y":"9.257992","name":"I observed this also, and contrived a fan of branches, which roused the embers when they were nearly extinguished.","group":"21"},{"id":"814","x":"5.270102","y":"8.929367","name":"When night came again, I found, with pleasure, that the fire gave light as well as heat; and that the discovery of this element was useful to me in my food; for I found some of the offals that the travellers had left had been roasted, and tasted much more savoury than the berries I gathered from the trees.","group":"19"},{"id":"815","x":"6.702102","y":"7.2561097","name":"\\"Food, however, became scarce; and I often spent the whole day searching in vain for a few acorns to assuage the pangs of hunger.","group":"2"},{"id":"816","x":"6.200151","y":"9.668386","name":"When I found this, I resolved to quit the place that I had hitherto inhabited, to seek for one where the few wants I experienced would be more easily satisfied.","group":"-1"},{"id":"817","x":"5.7854576","y":"10.845681","name":"In this emigration, I exceedingly lamented the loss of the fire which I had obtained through accident, and knew not how to reproduce it.","group":"34"},{"id":"818","x":"5.0235677","y":"9.816533","name":"I gave several hours to the serious consideration of this difficulty; but I was obliged to relinquish all attempt to supply it; and, wrapping myself up in my cloak, I struck across the wood towards the setting sun.","group":"-1"},{"id":"819","x":"4.467949","y":"8.186572","name":"A great fall of snow had taken place the night before, and the fields were of one uniform white; the appearance was disconsolate, and I found my feet chilled by the cold damp substance that covered the ground.","group":"-1"},{"id":"820","x":"5.80134","y":"8.597966","name":"\\"It was about seven in the morning, and I longed to obtain food and shelter; at length I perceived a small hut, on a rising ground, which had doubtless been built for the convenience of some shepherd.","group":"17"},{"id":"821","x":"5.766187","y":"9.702632","name":"He turned on hearing a noise; and, perceiving me, shrieked loudly, and, quitting the hut, ran across the fields with a speed of which his debilitated form hardly appeared capable.","group":"30"},{"id":"822","x":"4.8053145","y":"8.426951","name":"But I was enchanted by the appearance of the hut: here the snow and rain could not penetrate; the ground was dry; and it presented to me then as exquisite and divine a retreat as Pand\xe6monium appeared to the d\xe6mons of hell after their sufferings in the lake of fire.","group":"21"},{"id":"823","x":"6.6477466","y":"7.227881","name":"I greedily devoured the remnants of the shepherd\'s breakfast, which consisted of bread, cheese, milk, and wine; the latter, however, I did not like.","group":"2"},{"id":"824","x":"5.841201","y":"8.644607","name":"\\"It was noon when I awoke; and, allured by the warmth of the sun, which shone brightly on the white ground, I determined to recommence my travels; and, depositing the remains of the peasant\'s breakfast in a wallet I found, I proceeded across the fields for several hours, until at sunset I arrived at a village.","group":"17"},{"id":"825","x":"6.8332276","y":"7.4029174","name":"The vegetables in the gardens, the milk and cheese that I saw placed at the windows of some of the cottages, allured my appetite.","group":"2"},{"id":"826","x":"5.755707","y":"10.661497","name":"One of the best of these I entered; but I had hardly placed my foot within the door, before the children shrieked, and one of the women fainted.","group":"-1"},{"id":"827","x":"5.319355","y":"9.427328","name":"The whole village was roused; some fled, some attacked me, until, grievously bruised by stones and many other kinds of missile weapons, I escaped to the open country, and fearfully took refuge in a low hovel, quite bare, and making a wretched appearance after the palaces I had beheld in the village.","group":"-1"},{"id":"828","x":"5.6207113","y":"9.250998","name":"This hovel, however, joined a cottage of a neat and pleasant appearance; but, after my late dearly bought experience, I dared not enter it.","group":"19"},{"id":"829","x":"5.35425","y":"9.050034","name":"My place of refuge was constructed of wood, but so low, that I could with difficulty sit upright in it.","group":"19"},{"id":"830","x":"5.204288","y":"8.838704","name":"No wood, however, was placed on the earth, which formed the floor, but it was dry; and although the wind entered it by innumerable chinks, I found it an agreeable asylum from the snow and rain.","group":"19"},{"id":"831","x":"5.241295","y":"8.865225","name":"\\"Here then I retreated, and lay down happy to have found a shelter, however miserable, from the inclemency of the season, and still more from the barbarity of man.","group":"19"},{"id":"832","x":"5.4704566","y":"9.330188","name":"\\"As soon as morning dawned, I crept from my kennel, that I might view the adjacent cottage, and discover if I could remain in the habitation I had found.","group":"-1"},{"id":"833","x":"5.301572","y":"8.828307","name":"It was situated against the back of the cottage, and surrounded on the sides which were exposed by a pig-sty and a clear pool of water.","group":"19"},{"id":"834","x":"4.7806463","y":"9.379175","name":"One part was open, and by that I had crept in; but now I covered every crevice by which I might be perceived with stones and wood, yet in such a manner that I might move them on occasion to pass out: all the light I enjoyed came through the sty, and that was sufficient for me.","group":"-1"},{"id":"835","x":"5.905264","y":"8.937452","name":"\\"Having thus arranged my dwelling, and carpeted it with clean straw, I retired; for I saw the figure of a man at a distance, and I remembered too well my treatment the night before, to trust myself in his power.","group":"-1"},{"id":"836","x":"6.7451077","y":"7.196908","name":"I had first, however, provided for my sustenance for that day, by a loaf of coarse bread, which I purloined, and a cup with which I could drink, more conveniently than from my hand, of the pure water which flowed by my retreat.","group":"2"},{"id":"837","x":"5.338183","y":"8.852813","name":"The floor was a little raised, so that it was kept perfectly dry, and by its vicinity to the chimney of the cottage it was tolerably warm.","group":"19"},{"id":"838","x":"5.7090654","y":"9.409513","name":"\\"Being thus provided, I resolved to reside in this hovel, until something should occur which might alter my determination.","group":"-1"},{"id":"839","x":"4.8663783","y":"8.438903","name":"It was indeed a paradise, compared to the bleak forest, my former residence, the rain-dropping branches, and dank earth.","group":"21"},{"id":"840","x":"4.6387415","y":"9.72405","name":"I ate my breakfast with pleasure, and was about to remove a plank to procure myself a little water, when I heard a step, and looking through a small chink, I beheld a young creature, with a pail on her head, passing before my hovel.","group":"16"},{"id":"841","x":"8.785753","y":"8.431021","name":"The girl was young, and of gentle demeanour, unlike what I have since found cottagers and farm-house servants to be.","group":"-1"},{"id":"842","x":"9.914117","y":"9.072319","name":"Yet she was meanly dressed, a coarse blue petticoat and a linen jacket being her only garb; her fair hair was plaited, but not adorned: she looked patient, yet sad.","group":"13"},{"id":"843","x":"10.4071045","y":"9.45492","name":"I lost sight of her; and in about a quarter of an hour she returned, bearing the pail, which was now partly filled with milk.","group":"11"},{"id":"844","x":"9.634443","y":"9.499207","name":"As she walked along, seemingly incommoded by the burden, a young man met her, whose countenance expressed a deeper despondence.","group":"13"},{"id":"845","x":"9.540331","y":"9.029688","name":"Uttering a few sounds with an air of melancholy, he took the pail from her head, and bore it to the cottage himself.","group":"13"},{"id":"846","x":"7.6326575","y":"7.0780554","name":"Presently I saw the young man again, with some tools in his hand, cross the field behind the cottage; and the girl was also busied, sometimes in the house, and sometimes in the yard.","group":"1"},{"id":"847","x":"5.4021897","y":"9.072703","name":"\\"On examining my dwelling, I found that one of the windows of the cottage had formerly occupied a part of it, but the panes had been filled up with wood.","group":"19"},{"id":"848","x":"4.5934076","y":"9.666838","name":"In one of these was a small and almost imperceptible chink, through which the eye could just penetrate.","group":"16"},{"id":"849","x":"5.7003956","y":"9.123535","name":"In one corner, near a small fire, sat an old man, leaning his head on his hands in a disconsolate attitude.","group":"-1"},{"id":"850","x":"7.9139333","y":"7.2646265","name":"The young girl was occupied in arranging the cottage; but presently she took something out of a drawer, which employed her hands, and she sat down beside the old man, who, taking up an instrument, began to play, and to produce sounds sweeter than the voice of the thrush or the nightingale.","group":"-1"},{"id":"851","x":"8.941001","y":"8.656246","name":"The silver hair and benevolent countenance of the aged cottager won my reverence, while the gentle manners of the girl enticed my love.","group":"-1"},{"id":"852","x":"9.379535","y":"8.769234","name":"He played a sweet mournful air, which I perceived drew tears from the eyes of his amiable companion, of which the old man took no notice, until she sobbed audibly; he then pronounced a few sounds, and the fair creature, leaving her work, knelt at his feet.","group":"-1"},{"id":"853","x":"7.217821","y":"9.680735","name":"He raised her, and smiled with such kindness and affection, that I felt sensations of a peculiar and overpowering nature: they were a mixture of pain and pleasure, such as I had never before experienced, either from hunger or cold, warmth or food; and I withdrew from the window, unable to bear these emotions.","group":"29"},{"id":"854","x":"7.5259867","y":"7.1078763","name":"The girl met him at the door, helped to relieve him of his burden, and, taking some of the fuel into the cottage, placed it on the fire; then she and the youth went apart into a nook of the cottage, and he showed her a large loaf and a piece of cheese.","group":"1"},{"id":"855","x":"7.2779927","y":"7.2340794","name":"She seemed pleased, and went into the garden for some roots and plants, which she placed in water, and then upon the fire.","group":"-1"},{"id":"856","x":"7.595707","y":"7.063597","name":"She afterwards continued her work, whilst the young man went into the garden, and appeared busily employed in digging and pulling up roots.","group":"1"},{"id":"857","x":"7.524631","y":"7.076018","name":"After he had been employed thus about an hour, the young woman joined him, and they entered the cottage together.","group":"1"},{"id":"858","x":"8.200484","y":"8.308675","name":"\\"The old man had, in the mean time, been pensive; but, on the appearance of his companions, he assumed a more cheerful air, and they sat down to eat.","group":"-1"},{"id":"859","x":"7.5436163","y":"7.079539","name":"The young woman was again occupied in arranging the cottage; the old man walked before the cottage in the sun for a few minutes, leaning on the arm of the youth.","group":"1"},{"id":"860","x":"9.206821","y":"8.733083","name":"One was old, with silver hairs and a countenance beaming with benevolence and love: the younger was slight and graceful in his figure, and his features were moulded with the finest symmetry; yet his eyes and attitude expressed the utmost sadness and despondency.","group":"-1"},{"id":"861","x":"7.4372826","y":"7.170617","name":"The old man returned to the cottage; and the youth, with tools different from those he had used in the morning, directed his steps across the fields.","group":"1"},{"id":"862","x":"5.5618396","y":"8.946287","name":"\\"Night quickly shut in; but, to my extreme wonder, I found that the cottagers had a means of prolonging light by the use of tapers, and was delighted to find that the setting of the sun did not put an end to the pleasure I experienced in watching my human neighbours.","group":"-1"},{"id":"863","x":"7.9339385","y":"7.3127055","name":"In the evening, the young girl and her companion were employed in various occupations which I did not understand; and the old man again took up the instrument which produced the divine sounds that had enchanted me in the morning.","group":"-1"},{"id":"864","x":"7.897226","y":"7.789782","name":"So soon as he had finished, the youth began, not to play, but to utter sounds that were monotonous, and neither resembling the harmony of the old man\'s instrument nor the songs of the birds: I since found that he read aloud, but at that time I knew nothing of the science of words or letters.","group":"-1"},{"id":"865","x":"5.9026623","y":"8.967657","name":"\\"The family, after having been thus occupied for a short time, extinguished their lights, and retired, as I conjectured, to rest.\\"","group":"-1"},{"id":"866","x":"8.039101","y":"9.130615","name":"What chiefly struck me was the gentle manners of these people; and I longed to join them, but dared not.","group":"-1"},{"id":"867","x":"5.415163","y":"9.492241","name":"I remembered too well the treatment I had suffered the night before from the barbarous villagers, and resolved, whatever course of conduct I might hereafter think it right to pursue, that for the present I would remain quietly in my hovel, watching, and endeavouring to discover the motives which influenced their actions.","group":"-1"},{"id":"868","x":"7.518051","y":"7.0898995","name":"The young woman arranged the cottage, and prepared the food; and the youth departed after the first meal.","group":"1"},{"id":"869","x":"7.6955624","y":"7.1232934","name":"The young man was constantly employed out of doors, and the girl in various laborious occupations within.","group":"1"},{"id":"870","x":"7.718824","y":"7.6845446","name":"The old man, whom I soon perceived to be blind, employed his leisure hours on his instrument or in contemplation.","group":"-1"},{"id":"871","x":"8.575211","y":"8.828225","name":"Nothing could exceed the love and respect which the younger cottagers exhibited towards their venerable companion.","group":"-1"},{"id":"872","x":"8.537398","y":"8.859464","name":"They performed towards him every little office of affection and duty with gentleness; and he rewarded them by his benevolent smiles.","group":"22"},{"id":"873","x":"7.4785876","y":"10.811974","name":"If such lovely creatures were miserable, it was less strange that I, an imperfect and solitary being, should be wretched.","group":"-1"},{"id":"874","x":"8.229193","y":"8.630195","name":"They possessed a delightful house (for such it was in my eyes) and every luxury; they had a fire to warm them when chill, and delicious viands when hungry; they were dressed in excellent clothes; and, still more, they enjoyed one another\'s company and speech, interchanging each day looks of affection and kindness.","group":"22"},{"id":"875","x":"4.4920197","y":"10.379222","name":"I was at first unable to solve these questions; but perpetual attention and time explained to me many appearances which were at first enigmatic.","group":"-1"},{"id":"876","x":"8.909939","y":"8.025198","name":"\\"A considerable period elapsed before I discovered one of the causes of the uneasiness of this amiable family: it was poverty; and they suffered that evil in a very distressing degree.","group":"-1"},{"id":"877","x":"6.9490275","y":"7.2012777","name":"Their nourishment consisted entirely of the vegetables of their garden, and the milk of one cow, which gave very little during the winter, when its masters could scarcely procure food to support it.","group":"2"},{"id":"878","x":"6.936106","y":"7.2812495","name":"They often, I believe, suffered the pangs of hunger very poignantly, especially the two younger cottagers; for several times they placed food before the old man, when they reserved none for themselves.","group":"2"},{"id":"879","x":"6.607847","y":"7.3369803","name":"I had been accustomed, during the night, to steal a part of their store for my own consumption; but when I found that in doing this I inflicted pain on the cottagers, I abstained, and satisfied myself with berries, nuts, and roots, which I gathered from a neighbouring wood.","group":"2"},{"id":"880","x":"5.0843735","y":"8.855129","name":"I found that the youth spent a great part of each day in collecting wood for the family fire; and, during the night, I often took his tools, the use of which I quickly discovered, and brought home firing sufficient for the consumption of several days.","group":"-1"},{"id":"881","x":"5.2882686","y":"9.088929","name":"\\"I remember, the first time that I did this, the young woman, when she opened the door in the morning, appeared greatly astonished on seeing a great pile of wood on the outside.","group":"19"},{"id":"882","x":"7.3406763","y":"7.291344","name":"I observed, with pleasure, that he did not go to the forest that day, but spent it in repairing the cottage, and cultivating the garden.","group":"-1"},{"id":"883","x":"8.2237625","y":"8.315957","name":"I found that these people possessed a method of communicating their experience and feelings to one another by articulate sounds.","group":"-1"},{"id":"884","x":"7.961243","y":"8.552854","name":"I perceived that the words they spoke sometimes, produced pleasure or pain, smiles or sadness, in the minds and countenances of the hearers.","group":"-1"},{"id":"885","x":"8.127025","y":"7.9707627","name":"Their pronunciation was quick; and the words they uttered, not having any apparent connection with visible objects, I was unable to discover any clue by which I could unravel the mystery of their reference.","group":"7"},{"id":"886","x":"4.3937726","y":"10.002132","name":"By great application, however, and after having remained during the space of several revolutions of the moon in my hovel, I discovered the names that were given to some of the most familiar objects of discourse; I learned and applied the words, _fire_, _milk_, _bread_, and _wood_.","group":"-1"},{"id":"887","x":"9.409662","y":"8.401876","name":"The youth and his companion had each of them several names, but the old man had only one, which was _father_.","group":"-1"},{"id":"888","x":"4.5337963","y":"9.76624","name":"I cannot describe the delight I felt when I learned the ideas appropriated to each of these sounds, and was able to pronounce them.","group":"16"},{"id":"889","x":"7.775112","y":"8.876859","name":"I distinguished several other words, without being able as yet to understand or apply them; such as _good_, _dearest_, _unhappy_.","group":"24"},{"id":"890","x":"8.103001","y":"8.749374","name":"The gentle manners and beauty of the cottagers greatly endeared them to me: when they were unhappy, I felt depressed; when they rejoiced, I sympathised in their joys.","group":"22"},{"id":"891","x":"7.910034","y":"8.779021","name":"I saw few human beings beside them; and if any other happened to enter the cottage, their harsh manners and rude gait only enhanced to me the superior accomplishments of my friends.","group":"-1"},{"id":"892","x":"8.867607","y":"8.518443","name":"The old man, I could perceive, often endeavoured to encourage his children, as sometimes I found that he called them, to cast off their melancholy.","group":"-1"},{"id":"893","x":"8.503739","y":"8.381348","name":"He would talk in a cheerful accent, with an expression of goodness that bestowed pleasure even upon me.","group":"-1"},{"id":"894","x":"9.547402","y":"9.152052","name":"Agatha listened with respect, her eyes sometimes filled with tears, which she endeavoured to wipe away unperceived; but I generally found that her countenance and tone were more cheerful after having listened to the exhortations of her father.","group":"-1"},{"id":"895","x":"7.18","y":"11.529918","name":"He was always the saddest of the group; and, even to my unpractised senses, he appeared to have suffered more deeply than his friends.","group":"-1"},{"id":"896","x":"9.187098","y":"9.021818","name":"But if his countenance was more sorrowful, his voice was more cheerful than that of his sister, especially when he addressed the old man.","group":"-1"},{"id":"897","x":"7.977524","y":"8.8605385","name":"\\"I could mention innumerable instances, which, although slight, marked the dispositions of these amiable cottagers.","group":"-1"},{"id":"898","x":"9.369431","y":"7.607118","name":"In the midst of poverty and want, Felix carried with pleasure to his sister the first little white flower that peeped out from beneath the snowy ground.","group":"8"},{"id":"899","x":"6.1486697","y":"8.0549","name":"Early in the morning, before she had risen, he cleared away the snow that obstructed her path to the milk-house, drew water from the well, and brought the wood from the out-house, where, to his perpetual astonishment, he found his store always replenished by an invisible hand.","group":"-1"},{"id":"900","x":"6.6683445","y":"7.4786506","name":"In the day, I believe, he worked sometimes for a neighbouring farmer, because he often went forth, and did not return until dinner, yet brought no wood with him.","group":"2"},{"id":"901","x":"7.040727","y":"7.3774567","name":"At other times he worked in the garden; but, as there was little to do in the frosty season, he read to the old man and Agatha.","group":"2"},{"id":"902","x":"8.001887","y":"7.9393163","name":"\\"This reading had puzzled me extremely at first; but, by degrees, I discovered that he uttered many of the same sounds when he read, as when he talked.","group":"7"},{"id":"903","x":"7.9755864","y":"7.9404964","name":"I conjectured, therefore, that he found on the paper signs for speech which he understood, and I ardently longed to comprehend these also; but how was that possible, when I did not even understand the sounds for which they stood as signs?","group":"7"},{"id":"904","x":"7.732587","y":"8.186678","name":"I improved, however, sensibly in this science, but not sufficiently to follow up any kind of conversation, although I applied my whole mind to the endeavour: for I easily perceived that, although I eagerly longed to discover myself to the cottagers, I ought not to make the attempt until I had first become master of their language; which knowledge might enable me to make them overlook the deformity of my figure; for with this also the contrast perpetually presented to my eyes had made me acquainted.","group":"-1"},{"id":"905","x":"4.7874584","y":"9.443975","name":"\\"I had admired the perfect forms of my cottagers--their grace, beauty, and delicate complexions: but how was I terrified, when I viewed myself in a transparent pool!","group":"16"},{"id":"906","x":"6.26527","y":"11.743549","name":"At first I started back, unable to believe that it was indeed I who was reflected in the mirror; and when I became fully convinced that I was in reality the monster that I am, I was filled with the bitterest sensations of despondence and mortification.","group":"-1"},{"id":"907","x":"4.6947217","y":"8.40692","name":"\\"As the sun became warmer, and the light of day longer, the snow vanished, and I beheld the bare trees and the black earth.","group":"-1"},{"id":"908","x":"9.267653","y":"7.5659895","name":"From this time Felix was more employed; and the heart-moving indications of impending famine disappeared.","group":"8"},{"id":"909","x":"6.8908606","y":"7.218968","name":"Their food, as I afterwards found, was coarse, but it was wholesome; and they procured a sufficiency of it.","group":"2"},{"id":"910","x":"5.801481","y":"7.718887","name":"Several new kinds of plants sprung up in the garden, which they dressed; and these signs of comfort increased daily as the season advanced.","group":"-1"},{"id":"911","x":"4.7972145","y":"9.041623","name":"\\"The old man, leaning on his son, walked each day at noon, when it did not rain, as I found it was called when the heavens poured forth its waters.","group":"21"},{"id":"912","x":"4.915192","y":"8.377888","name":"This frequently took place; but a high wind quickly dried the earth, and the season became far more pleasant than it had been.","group":"21"},{"id":"913","x":"5.72346","y":"9.132105","name":"During the morning, I attended the motions of the cottagers; and when they were dispersed in various occupations, I slept: the remainder of the day was spent in observing my friends.","group":"-1"},{"id":"914","x":"5.077927","y":"9.080106","name":"When they had retired to rest, if there was any moon, or the night was star-light, I went into the woods, and collected my own food and fuel for the cottage.","group":"-1"},{"id":"915","x":"4.766571","y":"8.165114","name":"When I returned, as often as it was necessary, I cleared their path from the snow, and performed those offices that I had seen done by Felix.","group":"-1"},{"id":"916","x":"7.8488073","y":"8.547643","name":"I afterwards found that these labours, performed by an invisible hand, greatly astonished them; and once or twice I heard them, on these occasions, utter the words _good_ _spirit_, _wonderful_; but I did not then understand the signification of these terms.","group":"-1"},{"id":"917","x":"9.05745","y":"7.800934","name":"\\"My thoughts now became more active, and I longed to discover the motives and feelings of these lovely creatures; I was inquisitive to know why Felix appeared so miserable, and Agatha so sad.","group":"8"},{"id":"918","x":"9.018926","y":"7.856788","name":"When I slept, or was absent, the forms of the venerable blind father, the gentle Agatha, and the excellent Felix, flitted before me.","group":"-1"},{"id":"919","x":"8.366715","y":"9.681581","name":"I formed in my imagination a thousand pictures of presenting myself to them, and their reception of me.","group":"-1"},{"id":"920","x":"8.12931","y":"10.122675","name":"I imagined that they would be disgusted, until, by my gentle demeanour and conciliating words, I should first win their favour, and afterwards their love.","group":"28"},{"id":"921","x":"7.907003","y":"7.9953465","name":"\\"These thoughts exhilarated me, and led me to apply with fresh ardour to the acquiring the art of language.","group":"7"},{"id":"922","x":"6.4727416","y":"10.460058","name":"My organs were indeed harsh, but supple; and although my voice was very unlike the soft music of their tones, yet I pronounced such words as I understood with tolerable ease.","group":"-1"},{"id":"923","x":"8.145109","y":"9.248913","name":"It was as the ass and the lap-dog; yet surely the gentle ass whose intentions were affectionate, although his manners were rude, deserved better treatment than blows and execration.","group":"-1"},{"id":"924","x":"6.4608393","y":"7.575632","name":"Men, who before this change seemed to have been hid in caves, dispersed themselves, and were employed in various arts of cultivation.","group":"-1"},{"id":"925","x":"6.5053763","y":"9.337144","name":"My spirits were elevated by the enchanting appearance of nature; the past was blotted from my memory, the present was tranquil, and the future gilded by bright rays of hope, and anticipations of joy.\\"","group":"-1"},{"id":"926","x":"5.2421517","y":"10.8795595","name":"I shall relate events, that impressed me with feelings which, from what I had been, have made me what I am.","group":"-1"},{"id":"927","x":"5.1475854","y":"8.1930275","name":"It surprised me, that what before was desert and gloomy should now bloom with the most beautiful flowers and verdure.","group":"21"},{"id":"928","x":"4.7649417","y":"9.878153","name":"My senses were gratified and refreshed by a thousand scents of delight, and a thousand sights of beauty.","group":"-1"},{"id":"929","x":"9.141238","y":"7.7629075","name":"\\"It was on one of these days, when my cottagers periodically rested from labour--the old man played on his guitar, and the children listened to him--that I observed the countenance of Felix was melancholy beyond expression; he sighed frequently; and once his father paused in his music, and I conjectured by his manner that he enquired the cause of his son\'s sorrow.","group":"8"},{"id":"930","x":"9.019396","y":"7.853742","name":"Felix replied in a cheerful accent, and the old man was recommencing his music, when some one tapped at the door.","group":"-1"},{"id":"931","x":"9.06236","y":"7.9141927","name":"Agatha asked a question; to which the stranger only replied by pronouncing, in a sweet accent, the name of Felix.","group":"-1"},{"id":"932","x":"9.283597","y":"7.63003","name":"On hearing this word, Felix came up hastily to the lady; who, when she saw him, threw up her veil, and I beheld a countenance of angelic beauty and expression.","group":"8"},{"id":"933","x":"9.899259","y":"9.0250025","name":"Her hair of a shining raven black, and curiously braided; her eyes were dark, but gentle, although animated; her features of a regular proportion, and her complexion wondrously fair, each cheek tinged with a lovely pink.","group":"13"},{"id":"934","x":"9.369277","y":"7.698921","name":"\\"Felix seemed ravished with delight when he saw her, every trait of sorrow vanished from his face, and it instantly expressed a degree of ecstatic joy, of which I could hardly have believed it capable; his eyes sparkled, as his cheek flushed with pleasure; and at that moment I thought him as beautiful as the stranger.","group":"8"},{"id":"935","x":"9.31941","y":"7.650805","name":"She appeared affected by different feelings; wiping a few tears from her lovely eyes, she held out her hand to Felix, who kissed it rapturously, and called her, as well as I could distinguish, his sweet Arabian.","group":"8"},{"id":"936","x":"9.611101","y":"8.555973","name":"Some conversation took place between him and his father; and the young stranger knelt at the old man\'s feet, and would have kissed his hand, but he raised her, and embraced her affectionately.","group":"9"},{"id":"937","x":"8.112382","y":"8.068803","name":"\\"I soon perceived, that although the stranger uttered articulate sounds, and appeared to have a language of her own, she was neither understood by, nor herself understood, the cottagers.","group":"7"},{"id":"938","x":"8.143764","y":"8.610933","name":"They made many signs which I did not comprehend; but I saw that her presence diffused gladness through the cottage, dispelling their sorrow as the sun dissipates the morning mists.","group":"22"},{"id":"939","x":"9.379862","y":"8.5357","name":"Agatha, the ever-gentle Agatha, kissed the hands of the lovely stranger; and, pointing to her brother, made signs which appeared to me to mean that he had been sorrowful until she came.","group":"-1"},{"id":"940","x":"7.9865427","y":"8.506503","name":"Some hours passed thus, while they, by their countenances, expressed joy, the cause of which I did not comprehend.","group":"-1"},{"id":"941","x":"8.080587","y":"7.998826","name":"Presently I found, by the frequent recurrence of some sound which the stranger repeated after them, that she was endeavouring to learn their language; and the idea instantly occurred to me, that I should make use of the same instructions to the same end.","group":"7"},{"id":"942","x":"8.007149","y":"7.9780803","name":"The stranger learned about twenty words at the first lesson, most of them, indeed, were those which I had before understood, but I profited by the others.","group":"7"},{"id":"943","x":"9.861913","y":"8.468547","name":"He sat up much longer, conversing with his father; and, by the frequent repetition of her name, I conjectured that their lovely guest was the subject of their conversation.","group":"-1"},{"id":"944","x":"5.094495","y":"11.22828","name":"I ardently desired to understand them, and bent every faculty towards that purpose, but found it utterly impossible.","group":"4"},{"id":"945","x":"9.322281","y":"7.6601853","name":"\\"The next morning Felix went out to his work; and, after the usual occupations of Agatha were finished, the Arabian sat at the feet of the old man, and, taking his guitar, played some airs so entrancingly beautiful, that they at once drew tears of sorrow and delight from my eyes.","group":"8"},{"id":"946","x":"9.87794","y":"9.271611","name":"She sang, and her voice flowed in a rich cadence, swelling or dying away, like a nightingale of the woods.","group":"13"},{"id":"947","x":"9.932708","y":"9.25147","name":"She played a simple air, and her voice accompanied it in sweet accents, but unlike the wondrous strain of the stranger.","group":"13"},{"id":"948","x":"9.273878","y":"7.7997413","name":"The old man appeared enraptured, and said some words, which Agatha endeavoured to explain to Safie, and by which he appeared to wish to express that she bestowed on him the greatest delight by her music.","group":"8"},{"id":"949","x":"6.6217537","y":"9.441454","name":"\\"The days now passed as peaceably as before, with the sole alteration, that joy had taken place of sadness in the countenances of my friends.","group":"-1"},{"id":"950","x":"8.499811","y":"7.8857293","name":"Safie was always gay and happy; she and I improved rapidly in the knowledge of language, so that in two months I began to comprehend most of the words uttered by my protectors.","group":"-1"},{"id":"951","x":"5.703209","y":"8.79306","name":"\\"In the meanwhile also the black ground was covered with herbage, and the green banks interspersed with innumerable flowers, sweet to the scent and the eyes, stars of pale radiance among the moonlight woods; the sun became warmer, the nights clear and balmy; and my nocturnal rambles were an extreme pleasure to me, although they were considerably shortened by the late setting and early rising of the sun; for I never ventured abroad during daylight, fearful of meeting with the same treatment I had formerly endured in the first village which I entered.","group":"17"},{"id":"952","x":"8.178244","y":"8.020701","name":"\\"My days were spent in close attention, that I might more speedily master the language; and I may boast that I improved more rapidly than the Arabian, who understood very little, and conversed in broken accents, whilst I comprehended and could imitate almost every word that was spoken.","group":"7"},{"id":"953","x":"7.91214","y":"7.973879","name":"\\"While I improved in speech, I also learned the science of letters, as it was taught to the stranger; and this opened before me a wide field for wonder and delight.","group":"7"},{"id":"954","x":"9.316788","y":"7.6377783","name":"I should not have understood the purport of this book, had not Felix, in reading it, given very minute explanations.","group":"8"},{"id":"955","x":"8.300052","y":"8.455182","name":"He had chosen this work, he said, because the declamatory style was framed in imitation of the eastern authors.","group":"-1"},{"id":"956","x":"8.283135","y":"8.733103","name":"Through this work I obtained a cursory knowledge of history, and a view of the several empires at present existing in the world; it gave me an insight into the manners, governments, and religions of the different nations of the earth.","group":"22"},{"id":"957","x":"8.230796","y":"8.787543","name":"I heard of the slothful Asiatics; of the stupendous genius and mental activity of the Grecians; of the wars and wonderful virtue of the early Romans--of their subsequent degenerating--of the decline of that mighty empire; of chivalry, Christianity, and kings.","group":"22"},{"id":"958","x":"5.655925","y":"9.16543","name":"I heard of the discovery of the American hemisphere, and wept with Safie over the hapless fate of its original inhabitants.","group":"-1"},{"id":"959","x":"8.316576","y":"9.701766","name":"He appeared at one time a mere scion of the evil principle, and at another, as all that can be conceived of noble and godlike.","group":"-1"},{"id":"960","x":"8.241861","y":"9.628327","name":"To be a great and virtuous man appeared the highest honour that can befall a sensitive being; to be base and vicious, as many on record have been, appeared the lowest degradation, a condition more abject than that of the blind mole or harmless worm.","group":"-1"},{"id":"961","x":"7.3320346","y":"11.604618","name":"For a long time I could not conceive how one man could go forth to murder his fellow, or even why there were laws and governments; but when I heard details of vice and bloodshed, my wonder ceased, and I turned away with disgust and loathing.","group":"-1"},{"id":"962","x":"9.318878","y":"7.5791926","name":"While I listened to the instructions which Felix bestowed upon the Arabian, the strange system of human society was explained to me.","group":"8"},{"id":"963","x":"8.3329115","y":"8.7541275","name":"I heard of the division of property, of immense wealth and squalid poverty; of rank, descent, and noble blood.","group":"22"},{"id":"964","x":"8.212982","y":"8.961241","name":"I learned that the possessions most esteemed by your fellow-creatures were, high and unsullied descent united with riches.","group":"-1"},{"id":"965","x":"8.109258","y":"9.595149","name":"A man might be respected with only one of these advantages; but, without either, he was considered, except in very rare instances, as a vagabond and a slave, doomed to waste his powers for the profits of the chosen few!","group":"-1"},{"id":"966","x":"6.429524","y":"10.769613","name":"Of my creation and creator I was absolutely ignorant; but I knew that I possessed no money, no friends, no kind of property.","group":"-1"},{"id":"967","x":"6.411894","y":"11.872064","name":"I was, besides, endued with a figure hideously deformed and loathsome; I was not even of the same nature as man.","group":"-1"},{"id":"968","x":"7.5566792","y":"9.516863","name":"I was more agile than they, and could subsist upon coarser diet; I bore the extremes of heat and cold with less injury to my frame; my stature far exceeded theirs.","group":"-1"},{"id":"969","x":"6.579359","y":"10.88691","name":"\\"I cannot describe to you the agony that these reflections inflicted upon me: I tried to dispel them, but sorrow only increased with knowledge.","group":"-1"},{"id":"970","x":"5.281899","y":"8.955068","name":"Oh, that I had for ever remained in my native wood, nor known nor felt beyond the sensations of hunger, thirst, and heat!","group":"19"},{"id":"971","x":"6.401813","y":"10.955268","name":"I wished sometimes to shake off all thought and feeling; but I learned that there was but one means to overcome the sensation of pain, and that was death--a state which I feared yet did not understand.","group":"38"},{"id":"972","x":"8.001605","y":"8.91792","name":"I admired virtue and good feelings, and loved the gentle manners and amiable qualities of my cottagers; but I was shut out from intercourse with them, except through means which I obtained by stealth, when I was unseen and unknown, and which rather increased than satisfied the desire I had of becoming one among my fellows.","group":"-1"},{"id":"973","x":"9.155654","y":"7.686701","name":"The mild exhortations of the old man, and the lively conversation of the loved Felix, were not for me.","group":"8"},{"id":"974","x":"8.313014","y":"8.922656","name":"I heard of the difference of sexes; and the birth and growth of children; how the father doated on the smiles of the infant, and the lively sallies of the older child; how all the life and cares of the mother were wrapped up in the precious charge; how the mind of youth expanded and gained knowledge; of brother, sister, and all the various relationships which bind one human being to another in mutual bonds.","group":"22"},{"id":"975","x":"6.36718","y":"10.408392","name":"No father had watched my infant days, no mother had blessed me with smiles and caresses; or if they had, all my past life was now a blot, a blind vacancy in which I distinguished nothing.","group":"33"},{"id":"976","x":"7.8580694","y":"8.951398","name":"\\"I will soon explain to what these feelings tended; but allow me now to return to the cottagers, whose story excited in me such various feelings of indignation, delight, and wonder, but which all terminated in additional love and reverence for my protectors (for so I loved, in an innocent, half painful self-deceit, to call them).\\"","group":"24"},{"id":"977","x":"4.985505","y":"10.389526","name":"It was one which could not fail to impress itself deeply on my mind, unfolding as it did a number of circumstances, each interesting and wonderful to one so utterly inexperienced as I was.","group":"-1"},{"id":"978","x":"8.736134","y":"8.734899","name":"He was descended from a good family in France, where he had lived for many years in affluence, respected by his superiors, and beloved by his equals.","group":"-1"},{"id":"979","x":"9.016439","y":"8.781708","name":"His son was bred in the service of his country; and Agatha had ranked with ladies of the highest distinction.","group":"-1"},{"id":"980","x":"8.033169","y":"8.533574","name":"A few months before my arrival, they had lived in a large and luxurious city, called Paris, surrounded by friends, and possessed of every enjoyment which virtue, refinement of intellect, or taste, accompanied by a moderate fortune, could afford.","group":"-1"},{"id":"981","x":"9.617777","y":"7.808002","name":"He was a Turkish merchant, and had inhabited Paris for many years, when, for some reason which I could not learn, he became obnoxious to the government.","group":"8"},{"id":"982","x":"9.726224","y":"7.830596","name":"The injustice of his sentence was very flagrant; all Paris was indignant; and it was judged that his religion and wealth, rather than the crime alleged against him, had been the cause of his condemnation.","group":"8"},{"id":"983","x":"9.327983","y":"7.5515194","name":"\\"Felix had accidentally been present at the trial; his horror and indignation were uncontrollable, when he heard the decision of the court.","group":"8"},{"id":"984","x":"6.5888157","y":"10.512666","name":"After many fruitless attempts to gain admittance to the prison, he found a strongly grated window in an unguarded part of the building, which lighted the dungeon of the unfortunate Mahometan; who, loaded with chains, waited in despair the execution of the barbarous sentence.","group":"37"},{"id":"985","x":"9.466249","y":"7.8604774","name":"The Turk, amazed and delighted, endeavoured to kindle the zeal of his deliverer by promises of reward and wealth.","group":"8"},{"id":"986","x":"9.547926","y":"7.6704254","name":"Felix rejected his offers with contempt; yet when he saw the lovely Safie, who was allowed to visit her father, and who, by her gestures, expressed her lively gratitude, the youth could not help owning to his own mind, that the captive possessed a treasure which would fully reward his toil and hazard.","group":"8"},{"id":"987","x":"9.606354","y":"7.6694975","name":"\\"The Turk quickly perceived the impression that his daughter had made on the heart of Felix, and endeavoured to secure him more entirely in his interests by the promise of her hand in marriage, so soon as he should be conveyed to a place of safety.","group":"8"},{"id":"988","x":"9.441851","y":"7.639377","name":"Felix was too delicate to accept this offer; yet he looked forward to the probability of the event as to the consummation of his happiness.","group":"8"},{"id":"989","x":"9.349537","y":"7.636013","name":"\\"During the ensuing days, while the preparations were going forward for the escape of the merchant, the zeal of Felix was warmed by several letters that he received from this lovely girl, who found means to express her thoughts in the language of her lover by the aid of an old man, a servant of her father, who understood French.","group":"8"},{"id":"990","x":"9.617128","y":"9.279469","name":"She thanked him in the most ardent terms for his intended services towards her parent; and at the same time she gently deplored her own fate.","group":"13"},{"id":"991","x":"8.918402","y":"7.8868647","name":"\\"I have copies of these letters; for I found means, during my residence in the hovel, to procure the implements of writing; and the letters were often in the hands of Felix or Agatha.","group":"-1"},{"id":"992","x":"4.568716","y":"9.287781","name":"Before I depart, I will give them to you, they will prove the truth of my tale; but at present, as the sun is already far declined, I shall only have time to repeat the substance of them to you.","group":"21"},{"id":"993","x":"9.786942","y":"7.8893805","name":"\\"Safie related, that her mother was a Christian Arab, seized and made a slave by the Turks; recommended by her beauty, she had won the heart of the father of Safie, who married her.","group":"8"},{"id":"994","x":"9.784242","y":"9.09389","name":"The young girl spoke in high and enthusiastic terms of her mother, who, born in freedom, spurned the bondage to which she was now reduced.","group":"13"},{"id":"995","x":"9.915585","y":"8.969739","name":"She instructed her daughter in the tenets of her religion, and taught her to aspire to higher powers of intellect, and an independence of spirit, forbidden to the female followers of Mahomet.","group":"13"},{"id":"996","x":"9.8047085","y":"7.9169745","name":"This lady died; but her lessons were indelibly impressed on the mind of Safie, who sickened at the prospect of again returning to Asia, and being immured within the walls of a haram, allowed only to occupy herself with infantile amusements, ill suited to the temper of her soul, now accustomed to grand ideas and a noble emulation for virtue.","group":"8"},{"id":"997","x":"9.8978405","y":"9.006929","name":"The prospect of marrying a Christian, and remaining in a country where women were allowed to take a rank in society, was enchanting to her.","group":"13"},{"id":"998","x":"9.67274","y":"7.792728","name":"\\"The day for the execution of the Turk was fixed; but, on the night previous to it, he quitted his prison, and before morning was distant many leagues from Paris.","group":"8"},{"id":"999","x":"9.666476","y":"8.017681","name":"He had previously communicated his plan to the former, who aided the deceit by quitting his house, under the pretence of a journey, and concealed himself, with his daughter, in an obscure part of Paris.","group":"8"},{"id":"1000","x":"9.641269","y":"7.672663","name":"\\"Felix conducted the fugitives through France to Lyons, and across Mont Cenis to Leghorn, where the merchant had decided to wait a favourable opportunity of passing into some part of the Turkish dominions.","group":"8"},{"id":"1001","x":"9.604748","y":"7.73472","name":"\\"Safie resolved to remain with her father until the moment of his departure, before which time the Turk renewed his promise that she should be united to his deliverer; and Felix remained with them in expectation of that event; and in the mean time he enjoyed the society of the Arabian, who exhibited towards him the simplest and tenderest affection.","group":"8"},{"id":"1002","x":"8.487409","y":"8.02745","name":"They conversed with one another through the means of an interpreter, and sometimes with the interpretation of looks; and Safie sang to him the divine airs of her native country.","group":"-1"},{"id":"1003","x":"9.499417","y":"7.816173","name":"\\"The Turk allowed this intimacy to take place, and encouraged the hopes of the youthful lovers, while in his heart he had formed far other plans.","group":"8"},{"id":"1004","x":"9.506147","y":"7.680509","name":"He loathed the idea that his daughter should be united to a Christian; but he feared the resentment of Felix, if he should appear lukewarm; for he knew that he was still in the power of his deliverer, if he should choose to betray him to the Italian state which they inhabited.","group":"8"},{"id":"1005","x":"9.639728","y":"8.044052","name":"He revolved a thousand plans by which he should be enabled to prolong the deceit until it might be no longer necessary, and secretly to take his daughter with him when he departed.","group":"8"},{"id":"1006","x":"9.66729","y":"7.740197","name":"\\"The government of France were greatly enraged at the escape of their victim, and spared no pains to detect and punish his deliverer.","group":"8"},{"id":"1007","x":"9.666098","y":"8.655883","name":"His blind and aged father, and his gentle sister, lay in a noisome dungeon, while he enjoyed the free air, and the society of her whom he loved.","group":"9"},{"id":"1008","x":"9.782247","y":"7.809065","name":"He quickly arranged with the Turks, that if the latter should find a favourable opportunity for escape before Felix could return to Italy, Safie should remain as a boarder at a convent at Leghorn; and then, quitting the lovely Arabian, he hastened to Paris, and delivered himself up to the vengeance of the law, hoping to free De Lacey and Agatha by this proceeding.","group":"8"},{"id":"1009","x":"6.710509","y":"10.413078","name":"They remained confined for five months before the trial took place; the result of which deprived them of their fortune, and condemned them to a perpetual exile from their native country.","group":"37"},{"id":"1010","x":"9.521725","y":"7.7065277","name":"Felix soon learned that the treacherous Turk, for whom he and his family endured such unheard-of oppression, on discovering that his deliverer was thus reduced to poverty and ruin, became a traitor to good feeling and honour, and had quitted Italy with his daughter, insultingly sending Felix a pittance of money, to aid him, as he said, in some plan of future maintenance.","group":"8"},{"id":"1011","x":"9.257132","y":"7.572505","name":"\\"Such were the events that preyed on the heart of Felix, and rendered him, when I first saw him, the most miserable of his family.","group":"8"},{"id":"1012","x":"9.533242","y":"8.012639","name":"He could have endured poverty; and while this distress had been the meed of his virtue, he gloried in it: but the ingratitude of the Turk, and the loss of his beloved Safie, were misfortunes more bitter and irreparable.","group":"-1"},{"id":"1013","x":"9.520284","y":"7.6958556","name":"\\"When the news reached Leghorn, that Felix was deprived of his wealth and rank, the merchant commanded his daughter to think no more of her lover, but to prepare to return to her native country.","group":"8"},{"id":"1014","x":"9.758503","y":"7.837741","name":"The generous nature of Safie was outraged by this command; she attempted to expostulate with her father, but he left her angrily, reiterating his tyrannical mandate.","group":"8"},{"id":"1015","x":"9.693277","y":"7.7993097","name":"\\"A few days after, the Turk entered his daughter\'s apartment, and told her hastily, that he had reason to believe that his residence at Leghorn had been divulged, and that he should speedily be delivered up to the French government; he had, consequently hired a vessel to convey him to Constantinople, for which city he should sail in a few hours.","group":"8"},{"id":"1016","x":"9.664562","y":"7.96241","name":"He intended to leave his daughter under the care of a confidential servant, to follow at her leisure with the greater part of his property, which had not yet arrived at Leghorn.","group":"8"},{"id":"1017","x":"9.792347","y":"7.8861876","name":"\\"When alone, Safie resolved in her own mind the plan of conduct that it would become her to pursue in this emergency.","group":"8"},{"id":"1018","x":"9.848964","y":"8.306378","name":"By some papers of her father, which fell into her hands, she heard of the exile of her lover, and learnt the name of the spot where he then resided.","group":"-1"},{"id":"1019","x":"9.757835","y":"7.9179363","name":"Taking with her some jewels that belonged to her, and a sum of money, she quitted Italy with an attendant, a native of Leghorn, but who understood the common language of Turkey, and departed for Germany.","group":"8"},{"id":"1020","x":"9.761638","y":"7.9506416","name":"\\"She arrived in safety at a town about twenty leagues from the cottage of De Lacey, when her attendant fell dangerously ill. Safie nursed her with the most devoted affection; but the poor girl died, and the Arabian was left alone, unacquainted with the language of the country, and utterly ignorant of the customs of the world.","group":"8"},{"id":"1021","x":"9.772673","y":"7.9848986","name":"The Italian had mentioned the name of the spot for which they were bound; and, after her death, the woman of the house in which they had lived took care that Safie should arrive in safety at the cottage of her lover.\\"","group":"8"},{"id":"1022","x":"7.976317","y":"10.031377","name":"I learned, from the views of social life which it developed, to admire their virtues, and to deprecate the vices of mankind.","group":"28"},{"id":"1023","x":"7.9086924","y":"11.239809","name":"\\"As yet I looked upon crime as a distant evil; benevolence and generosity were ever present before me, inciting within me a desire to become an actor in the busy scene where so many admirable qualities were called forth and displayed.","group":"-1"},{"id":"1024","x":"4.993447","y":"11.195748","name":"But, in giving an account of the progress of my intellect, I must not omit a circumstance which occurred in the beginning of the month of August of the same year.","group":"4"},{"id":"1025","x":"5.8788404","y":"8.668824","name":"\\"One night, during my accustomed visit to the neighbouring wood, where I collected my own food, and brought home firing for my protectors, I found on the ground a leathern portmanteau, containing several articles of dress and some books.","group":"-1"},{"id":"1026","x":"7.8546987","y":"8.080422","name":"Fortunately the books were written in the language, the elements of which I had acquired at the cottage; they consisted of \'Paradise Lost,\' a volume of \'Plutarch\'s Lives,\' and the \'Sorrows of Werter.\'","group":"7"},{"id":"1027","x":"7.5452533","y":"8.685707","name":"The possession of these treasures gave me extreme delight; I now continually studied and exercised my mind upon these histories, whilst my friends were employed in their ordinary occupations.","group":"-1"},{"id":"1028","x":"6.315894","y":"11.131726","name":"They produced in me an infinity of new images and feelings, that sometimes raised me to ecstacy, but more frequently sunk me into the lowest dejection.","group":"-1"},{"id":"1029","x":"7.444134","y":"9.3210535","name":"In the \'Sorrows of Werter,\' besides the interest of its simple and affecting story, so many opinions are canvassed, and so many lights thrown upon what had hitherto been to me obscure subjects, that I found in it a never-ending source of speculation and astonishment.","group":"-1"},{"id":"1030","x":"8.102321","y":"9.076745","name":"The gentle and domestic manners it described, combined with lofty sentiments and feelings, which had for their object something out of self, accorded well with my experience among my protectors, and with the wants which were for ever alive in my own bosom.","group":"-1"},{"id":"1031","x":"7.874657","y":"9.41078","name":"But I thought Werter himself a more divine being than I had ever beheld or imagined; his character contained no pretension, but it sunk deep.","group":"24"},{"id":"1032","x":"6.8206344","y":"11.387989","name":"I did not pretend to enter into the merits of the case, yet I inclined towards the opinions of the hero, whose extinction I wept, without precisely understanding it.","group":"-1"},{"id":"1033","x":"6.4901867","y":"11.060016","name":"I found myself similar, yet at the same time strangely unlike to the beings concerning whom I read, and to whose conversation I was a listener.","group":"-1"},{"id":"1034","x":"6.581183","y":"10.897837","name":"I sympathised with, and partly understood them, but I was unformed in mind; I was dependent on none, and related to none.","group":"38"},{"id":"1035","x":"8.035158","y":"8.533413","name":"\\"The volume of \'Plutarch\'s Lives,\' which I possessed, contained the histories of the first founders of the ancient republics.","group":"-1"},{"id":"1036","x":"7.653295","y":"8.950467","name":"I learned from Werter\'s imaginations despondency and gloom: but Plutarch taught me high thoughts; he elevated me above the wretched sphere of my own reflections, to admire and love the heroes of past ages.","group":"24"},{"id":"1037","x":"5.1824856","y":"11.027622","name":"I had a very confused knowledge of kingdoms, wide extents of country, mighty rivers, and boundless seas.","group":"-1"},{"id":"1038","x":"7.6470385","y":"8.856551","name":"The cottage of my protectors had been the only school in which I had studied human nature; but this book developed new and mightier scenes of action.","group":"24"},{"id":"1039","x":"7.647867","y":"10.679395","name":"I felt the greatest ardour for virtue rise within me, and abhorrence for vice, as far as I understood the signification of those terms, relative as they were, as I applied them, to pleasure and pain alone.","group":"25"},{"id":"1040","x":"7.949828","y":"9.043993","name":"Induced by these feelings, I was of course led to admire peaceable lawgivers, Numa, Solon, and Lycurgus, in preference to Romulus and Theseus.","group":"24"},{"id":"1041","x":"8.00354","y":"9.319123","name":"The patriarchal lives of my protectors caused these impressions to take a firm hold on my mind; perhaps, if my first introduction to humanity had been made by a young soldier, burning for glory and slaughter, I should have been imbued with different sensations.","group":"24"},{"id":"1042","x":"4.2442007","y":"9.927922","name":"It moved every feeling of wonder and awe, that the picture of an omnipotent God warring with his creatures was capable of exciting.","group":"-1"},{"id":"1043","x":"6.49337","y":"11.067101","name":"Like Adam, I was apparently united by no link to any other being in existence; but his state was far different from mine in every other respect.","group":"38"},{"id":"1044","x":"7.756203","y":"9.642462","name":"He had come forth from the hands of God a perfect creature, happy and prosperous, guarded by the especial care of his Creator; he was allowed to converse with, and acquire knowledge from, beings of a superior nature: but I was wretched, helpless, and alone.","group":"-1"},{"id":"1045","x":"6.9371295","y":"11.837949","name":"Many times I considered Satan as the fitter emblem of my condition; for often, like him, when I viewed the bliss of my protectors, the bitter gall of envy rose within me.","group":"39"},{"id":"1046","x":"4.8107247","y":"10.850145","name":"Soon after my arrival in the hovel, I discovered some papers in the pocket of the dress which I had taken from your laboratory.","group":"-1"},{"id":"1047","x":"7.839873","y":"8.169924","name":"At first I had neglected them; but now that I was able to decipher the characters in which they were written, I began to study them with diligence.","group":"7"},{"id":"1048","x":"4.852447","y":"11.005739","name":"You minutely described in these papers every step you took in the progress of your work; this history was mingled with accounts of domestic occurrences.","group":"4"},{"id":"1049","x":"7.0969796","y":"12.105615","name":"Every thing is related in them which bears reference to my accursed origin; the whole detail of that series of disgusting circumstances which produced it, is set in view; the minutest description of my odious and loathsome person is given, in language which painted your own horrors, and rendered mine indelible.","group":"-1"},{"id":"1050","x":"7.2769384","y":"11.732815","name":"God, in pity, made man beautiful and alluring, after his own image; but my form is a filthy type of yours, more horrid even from the very resemblance.","group":"40"},{"id":"1051","x":"7.0086045","y":"11.819525","name":"Satan had his companions, fellow-devils, to admire and encourage him; but I am solitary and abhorred.\'","group":"39"},{"id":"1052","x":"7.8851986","y":"8.860004","name":"\\"These were the reflections of my hours of despondency and solitude; but when I contemplated the virtues of the cottagers, their amiable and benevolent dispositions, I persuaded myself that when they should become acquainted with my admiration of their virtues, they would compassionate me, and overlook my personal deformity.","group":"-1"},{"id":"1053","x":"7.580822","y":"11.580238","name":"Could they turn from their door one, however monstrous, who solicited their compassion and friendship?","group":"40"},{"id":"1054","x":"6.1957216","y":"11.361484","name":"I resolved, at least, not to despair, but in every way to fit myself for an interview with them which would decide my fate.","group":"35"},{"id":"1055","x":"5.6343474","y":"11.569925","name":"I postponed this attempt for some months longer; for the importance attached to its success inspired me with a dread lest I should fail.","group":"-1"},{"id":"1056","x":"5.082735","y":"11.1690035","name":"Besides, I found that my understanding improved so much with every day\'s experience, that I was unwilling to commence this undertaking until a few more months should have added to my sagacity.","group":"4"},{"id":"1057","x":"8.381648","y":"7.7910867","name":"The presence of Safie diffused happiness among its inhabitants; and I also found that a greater degree of plenty reigned there.","group":"-1"},{"id":"1058","x":"9.13012","y":"7.6760273","name":"Felix and Agatha spent more time in amusement and conversation, and were assisted in their labours by servants.","group":"8"},{"id":"1059","x":"8.16112","y":"8.577032","name":"They did not appear rich, but they were contented and happy; their feelings were serene and peaceful, while mine became every day more tumultuous.","group":"22"},{"id":"1060","x":"5.101592","y":"9.527631","name":"I cherished hope, it is true; but it vanished, when I beheld my person reflected in water, or my shadow in the moonshine, even as that frail image and that inconstant shade.","group":"-1"},{"id":"1061","x":"6.9072857","y":"10.133966","name":"\\"I endeavoured to crush these fears, and to fortify myself for the trial which in a few months I resolved to undergo; and sometimes I allowed my thoughts, unchecked by reason, to ramble in the fields of Paradise, and dared to fancy amiable and lovely creatures sympathising with my feelings, and cheering my gloom; their angelic countenances breathed smiles of consolation.","group":"-1"},{"id":"1062","x":"4.7139425","y":"8.611266","name":"I saw, with surprise and grief, the leaves decay and fall, and nature again assume the barren and bleak appearance it had worn when I first beheld the woods and the lovely moon.","group":"21"},{"id":"1063","x":"4.740551","y":"8.080842","name":"Yet I did not heed the bleakness of the weather; I was better fitted by my conformation for the endurance of cold than heat.","group":"-1"},{"id":"1064","x":"7.320248","y":"7.7646723","name":"But my chief delights were the sight of the flowers, the birds, and all the gay apparel of summer; when those deserted me, I turned with more attention towards the cottagers.","group":"-1"},{"id":"1065","x":"8.382739","y":"8.788278","name":"They loved, and sympathised with one another; and their joys, depending on each other, were not interrupted by the casualties that took place around them.","group":"22"},{"id":"1066","x":"8.280641","y":"9.309011","name":"The more I saw of them, the greater became my desire to claim their protection and kindness; my heart yearned to be known and loved by these amiable creatures: to see their sweet looks directed towards me with affection, was the utmost limit of my ambition.","group":"-1"},{"id":"1067","x":"7.706243","y":"10.530041","name":"I asked, it is true, for greater treasures than a little food or rest: I required kindness and sympathy; but I did not believe myself utterly unworthy of it.","group":"-1"},{"id":"1068","x":"4.9363766","y":"8.020472","name":"\\"The winter advanced, and an entire revolution of the seasons had taken place since I awoke into life.","group":"-1"},{"id":"1069","x":"5.455152","y":"9.622117","name":"My attention, at this time, was solely directed towards my plan of introducing myself into the cottage of my protectors.","group":"30"},{"id":"1070","x":"6.3449473","y":"9.0280905","name":"I revolved many projects; but that on which I finally fixed was, to enter the dwelling when the blind old man should be alone.","group":"-1"},{"id":"1071","x":"6.427408","y":"11.838405","name":"I had sagacity enough to discover, that the unnatural hideousness of my person was the chief object of horror with those who had formerly beheld me.","group":"-1"},{"id":"1072","x":"7.672224","y":"10.573384","name":"My voice, although harsh, had nothing terrible in it; I thought, therefore, that if, in the absence of his children, I could gain the good-will and mediation of the old De Lacey, I might, by his means, be tolerated by my younger protectors.","group":"-1"},{"id":"1073","x":"9.183575","y":"7.6677976","name":"\\"One day, when the sun shone on the red leaves that strewed the ground, and diffused cheerfulness, although it denied warmth, Safie, Agatha, and Felix departed on a long country walk, and the old man, at his own desire, was left alone in the cottage.","group":"8"},{"id":"1074","x":"9.173554","y":"8.741895","name":"When his children had departed, he took up his guitar, and played several mournful but sweet airs, more sweet and mournful than I had ever heard him play before.","group":"-1"},{"id":"1075","x":"7.0322986","y":"9.993172","name":"At first his countenance was illuminated with pleasure, but, as he continued, thoughtfulness and sadness succeeded; at length, laying aside the instrument, he sat absorbed in reflection.","group":"-1"},{"id":"1076","x":"7.100586","y":"11.254201","name":"\\"My heart beat quick; this was the hour and moment of trial, which would decide my hopes, or realise my fears.","group":"-1"},{"id":"1077","x":"5.4802694","y":"9.986047","name":"All was silent in and around the cottage: it was an excellent opportunity; yet, when I proceeded to execute my plan, my limbs failed me, and I sank to the ground.","group":"30"},{"id":"1078","x":"5.5336514","y":"9.453661","name":"Again I rose; and, exerting all the firmness of which I was master, removed the planks which I had placed before my hovel to conceal my retreat.","group":"-1"},{"id":"1079","x":"5.7061853","y":"8.649208","name":"\\"I entered; \'Pardon this intrusion,\' said I: \'I am a traveller in want of a little rest; you would greatly oblige me, if you would allow me to remain a few minutes before the fire.\'","group":"17"},{"id":"1080","x":"6.8051157","y":"7.481563","name":"\\"\'Enter,\' said De Lacey; \'and I will try in what manner I can relieve your wants; but, unfortunately, my children are from home, and, as I am blind, I am afraid I shall find it difficult to procure food for you.\'","group":"2"},{"id":"1081","x":"8.078777","y":"8.278073","name":"I knew that every minute was precious to me, yet I remained irresolute in what manner to commence the interview; when the old man addressed me--  \\"\'By your language, stranger, I suppose you are my countryman;--are you French?\'","group":"-1"},{"id":"1082","x":"8.404018","y":"10.331731","name":"I am now going to claim the protection of some friends, whom I sincerely love, and of whose favour I have some hopes.\'","group":"27"},{"id":"1083","x":"6.883878","y":"10.865716","name":"I am an unfortunate and deserted creature; I look around, and I have no relation or friend upon earth.","group":"-1"},{"id":"1084","x":"8.015262","y":"10.083552","name":"To be friendless is indeed to be unfortunate; but the hearts of men, when unprejudiced by any obvious self-interest, are full of brotherly love and charity.","group":"28"},{"id":"1085","x":"8.116312","y":"9.957807","name":"\\"\'They are kind--they are the most excellent creatures in the world; but, unfortunately, they are prejudiced against me.","group":"28"},{"id":"1086","x":"8.0824795","y":"9.884628","name":"I have good dispositions; my life has been hitherto harmless, and in some degree beneficial; but a fatal prejudice clouds their eyes, and where they ought to see a feeling and kind friend, they behold only a detestable monster.\'","group":"-1"},{"id":"1087","x":"5.6716814","y":"11.210691","name":"\\"\'I am about to undertake that task; and it is on that account that I feel so many overwhelming terrors.","group":"-1"},{"id":"1088","x":"8.23276","y":"9.94022","name":"I tenderly love these friends; I have, unknown to them, been for many months in the habits of daily kindness towards them; but they believe that I wish to injure them, and it is that prejudice which I wish to overcome.\'","group":"-1"},{"id":"1089","x":"8.006044","y":"10.502022","name":"\\"The old man paused, and then continued, \'If you will unreservedly confide to me the particulars of your tale, I perhaps may be of use in undeceiving them.","group":"-1"},{"id":"1090","x":"8.251503","y":"10.880421","name":"I am blind, and cannot judge of your countenance, but there is something in your words, which persuades me that you are sincere.","group":"-1"},{"id":"1091","x":"7.7796764","y":"10.894789","name":"I am poor, and an exile; but it will afford me true pleasure to be in any way serviceable to a human creature.\'","group":"25"},{"id":"1092","x":"7.996283","y":"10.664518","name":"You raise me from the dust by this kindness; and I trust that, by your aid, I shall not be driven from the society and sympathy of your fellow-creatures.\'","group":"-1"},{"id":"1093","x":"9.315836","y":"11.636244","name":"even if you were really criminal; for that can only drive you to desperation, and not instigate you to virtue.","group":"-1"},{"id":"1094","x":"7.6570296","y":"11.187053","name":"I also am unfortunate; I and my family have been condemned, although innocent: judge, therefore, if I do not feel for your misfortunes.\'","group":"25"},{"id":"1095","x":"8.313016","y":"10.313253","name":"From your lips first have I heard the voice of kindness directed towards me; I shall be for ever grateful; and your present humanity assures me of success with those friends whom I am on the point of meeting.\'","group":"27"},{"id":"1096","x":"6.962548","y":"11.531186","name":"This, I thought, was the moment of decision, which was to rob me of, or bestow happiness on me for ever.","group":"41"},{"id":"1097","x":"6.414179","y":"10.715151","name":"I struggled vainly for firmness sufficient to answer him, but the effort destroyed all my remaining strength; I sank on the chair, and sobbed aloud.","group":"-1"},{"id":"1098","x":"7.2769346","y":"11.535078","name":"I had not a moment to lose; but, seizing the hand of the old man, I cried, \'Now is the time!--save and protect me!","group":"-1"},{"id":"1099","x":"9.096893","y":"7.485729","name":"Felix darted forward, and with supernatural force tore me from his father, to whose knees I clung: in a transport of fury, he dashed me to the ground, and struck me violently with a stick.","group":"-1"},{"id":"1100","x":"5.8186793","y":"9.807127","name":"I saw him on the point of repeating his blow, when, overcome by pain and anguish, I quitted the cottage, and in the general tumult escaped unperceived to my hovel.\\"","group":"30"},{"id":"1101","x":"7.3060355","y":"12.425774","name":"Why, in that instant, did I not extinguish the spark of existence which you had so wantonly bestowed?","group":"-1"},{"id":"1102","x":"5.4791827","y":"9.0573635","name":"I could with pleasure have destroyed the cottage and its inhabitants, and have glutted myself with their shrieks and misery.","group":"19"},{"id":"1103","x":"5.0608826","y":"9.254696","name":"\\"When night came, I quitted my retreat, and wandered in the wood; and now, no longer restrained by the fear of discovery, I gave vent to my anguish in fearful howlings.","group":"-1"},{"id":"1104","x":"5.9725738","y":"11.775106","name":"I was like a wild beast that had broken the toils; destroying the objects that obstructed me, and ranging through the wood with a stag-like swiftness.","group":"-1"},{"id":"1105","x":"4.4587274","y":"9.219411","name":"the cold stars shone in mockery, and the bare trees waved their branches above me: now and then the sweet voice of a bird burst forth amidst the universal stillness.","group":"21"},{"id":"1106","x":"6.9243865","y":"11.826355","name":"All, save I, were at rest or in enjoyment: I, like the arch-fiend, bore a hell within me; and, finding myself unsympathised with, wished to tear up the trees, spread havoc and destruction around me, and then to have sat down and enjoyed the ruin.","group":"39"},{"id":"1107","x":"6.093603","y":"10.285961","name":"\\"But this was a luxury of sensation that could not endure; I became fatigued with excess of bodily exertion, and sank on the damp grass in the sick impotence of despair.","group":"33"},{"id":"1108","x":"7.781703","y":"11.138854","name":"There was none among the myriads of men that existed who would pity or assist me; and should I feel kindness towards my enemies?","group":"25"},{"id":"1109","x":"7.26941","y":"12.4757","name":"No: from that moment I declared everlasting war against the species, and, more than all, against him who had formed me, and sent me forth to this insupportable misery.","group":"-1"},{"id":"1110","x":"5.3218074","y":"8.812614","name":"\\"The sun rose; I heard the voices of men, and knew that it was impossible to return to my retreat during that day.","group":"19"},{"id":"1111","x":"5.533126","y":"10.016675","name":"Accordingly I hid myself in some thick underwood, determining to devote the ensuing hours to reflection on my situation.","group":"-1"},{"id":"1112","x":"6.1077394","y":"9.184961","name":"\\"The pleasant sunshine, and the pure air of day, restored me to some degree of tranquillity; and when I considered what had passed at the cottage, I could not help believing that I had been too hasty in my conclusions.","group":"-1"},{"id":"1113","x":"7.7622147","y":"10.404401","name":"It was apparent that my conversation had interested the father in my behalf, and I was a fool in having exposed my person to the horror of his children.","group":"-1"},{"id":"1114","x":"7.729117","y":"10.218407","name":"I ought to have familiarised the old De Lacey to me, and by degrees to have discovered myself to the rest of his family, when they should have been prepared for my approach.","group":"28"},{"id":"1115","x":"6.416714","y":"9.080902","name":"But I did not believe my errors to be irretrievable; and, after much consideration, I resolved to return to the cottage, seek the old man, and by my representations win him to my party.","group":"-1"},{"id":"1116","x":"5.546658","y":"10.228506","name":"\\"These thoughts calmed me, and in the afternoon I sank into a profound sleep; but the fever of my blood did not allow me to be visited by peaceful dreams.","group":"30"},{"id":"1117","x":"9.15757","y":"7.52372","name":"The horrible scene of the preceding day was for ever acting before my eyes; the females were flying, and the enraged Felix tearing me from his father\'s feet.","group":"8"},{"id":"1118","x":"5.1196685","y":"9.543428","name":"I awoke exhausted; and, finding that it was already night, I crept forth from my hiding-place, and went in search of food.","group":"-1"},{"id":"1119","x":"5.7596064","y":"8.692363","name":"\\"When my hunger was appeased, I directed my steps towards the well-known path that conducted to the cottage.","group":"17"},{"id":"1120","x":"5.3065977","y":"9.257479","name":"I crept into my hovel, and remained in silent expectation of the accustomed hour when the family arose.","group":"-1"},{"id":"1121","x":"5.368224","y":"10.071708","name":"The inside of the cottage was dark, and I heard no motion; I cannot describe the agony of this suspense.","group":"-1"},{"id":"1122","x":"8.012903","y":"8.184783","name":"\\"Presently two countrymen passed by; but, pausing near the cottage, they entered into conversation, using violent gesticulations; but I did not understand what they said, as they spoke the language of the country, which differed from that of my protectors.","group":"7"},{"id":"1123","x":"9.2260275","y":"7.683526","name":"Soon after, however, Felix approached with another man: I was surprised, as I knew that he had not quitted the cottage that morning, and waited anxiously to discover, from his discourse, the meaning of these unusual appearances.","group":"8"},{"id":"1124","x":"6.1020784","y":"8.287779","name":"\\"\'Do you consider,\' said his companion to him, \'that you will be obliged to pay three months\' rent, and to lose the produce of your garden?","group":"-1"},{"id":"1125","x":"8.24734","y":"11.095906","name":"I do not wish to take any unfair advantage, and I beg therefore that you will take some days to consider of your determination.\'","group":"-1"},{"id":"1126","x":"7.5962553","y":"10.497352","name":"The life of my father is in the greatest danger, owing to the dreadful circumstance that I have related.","group":"26"},{"id":"1127","x":"7.487546","y":"7.131966","name":"He and his companion entered the cottage, in which they remained for a few minutes, and then departed.","group":"1"},{"id":"1128","x":"6.91575","y":"11.917081","name":"For the first time the feelings of revenge and hatred filled my bosom, and I did not strive to control them; but, allowing myself to be borne away by the stream, I bent my mind towards injury and death.","group":"39"},{"id":"1129","x":"6.942881","y":"9.473185","name":"When I thought of my friends, of the mild voice of De Lacey, the gentle eyes of Agatha, and the exquisite beauty of the Arabian, these thoughts vanished, and a gush of tears somewhat soothed me.","group":"-1"},{"id":"1130","x":"6.986633","y":"12.033974","name":"But again, when I reflected that they had spurned and deserted me, anger returned, a rage of anger; and, unable to injure any thing human, I turned my fury towards inanimate objects.","group":"39"},{"id":"1131","x":"4.76205","y":"9.247852","name":"As night advanced, I placed a variety of combustibles around the cottage; and, after having destroyed every vestige of cultivation in the garden, I waited with forced impatience until the moon had sunk to commence my operations.","group":"21"},{"id":"1132","x":"4.5604553","y":"9.202211","name":"\\"As the night advanced, a fierce wind arose from the woods, and quickly dispersed the clouds that had loitered in the heavens: the blast tore along like a mighty avalanche, and produced a kind of insanity in my spirits, that burst all bounds of reason and reflection.","group":"21"},{"id":"1133","x":"4.588177","y":"9.189955","name":"I lighted the dry branch of a tree, and danced with fury around the devoted cottage, my eyes still fixed on the western horizon, the edge of which the moon nearly touched.","group":"21"},{"id":"1134","x":"4.352384","y":"9.182712","name":"A part of its orb was at length hid, and I waved my brand; it sunk, and, with a loud scream, I fired the straw, and heath, and bushes, which I had collected.","group":"21"},{"id":"1135","x":"5.308125","y":"9.028738","name":"The wind fanned the fire, and the cottage was quickly enveloped by the flames, which clung to it, and licked it with their forked and destroying tongues.","group":"19"},{"id":"1136","x":"5.2534256","y":"9.079789","name":"\\"As soon as I was convinced that no assistance could save any part of the habitation, I quitted the scene, and sought for refuge in the woods.","group":"19"},{"id":"1137","x":"7.3913083","y":"11.49913","name":"I resolved to fly far from the scene of my misfortunes; but to me, hated and despised, every country must be equally horrible.","group":"-1"},{"id":"1138","x":"7.731613","y":"10.059969","name":"I learned from your papers that you were my father, my creator; and to whom could I apply with more fitness than to him who had given me life?","group":"28"},{"id":"1139","x":"9.418033","y":"7.5213966","name":"Among the lessons that Felix had bestowed upon Safie, geography had not been omitted: I had learned from these the relative situations of the different countries of the earth.","group":"8"},{"id":"1140","x":"6.5618353","y":"8.356686","name":"You had mentioned Geneva as the name of your native town; and towards this place I resolved to proceed.","group":"14"},{"id":"1141","x":"5.2738748","y":"8.124496","name":"I knew that I must travel in a south-westerly direction to reach my destination; but the sun was my only guide.","group":"21"},{"id":"1142","x":"5.458565","y":"10.682989","name":"I did not know the names of the towns that I was to pass through, nor could I ask information from a single human being; but I did not despair.","group":"-1"},{"id":"1143","x":"7.099827","y":"12.231185","name":"you had endowed me with perceptions and passions, and then cast me abroad an object for the scorn and horror of mankind.","group":"39"},{"id":"1144","x":"7.9359403","y":"11.586356","name":"But on you only had I any claim for pity and redress, and from you I determined to seek that justice which I vainly attempted to gain from any other being that wore the human form.","group":"-1"},{"id":"1145","x":"4.557213","y":"8.257114","name":"Nature decayed around me, and the sun became heatless; rain and snow poured around me; mighty rivers were frozen; the surface of the earth was hard and chill, and bare, and I found no shelter.","group":"-1"},{"id":"1146","x":"7.364696","y":"12.264287","name":"The nearer I approached to your habitation, the more deeply did I feel the spirit of revenge enkindled in my heart.","group":"-1"},{"id":"1147","x":"5.6969514","y":"8.723475","name":"A few incidents now and then directed me, and I possessed a map of the country; but I often wandered wide from my path.","group":"17"},{"id":"1148","x":"6.1995916","y":"9.469095","name":"The agony of my feelings allowed me no respite: no incident occurred from which my rage and misery could not extract its food; but a circumstance that happened when I arrived on the confines of Switzerland, when the sun had recovered its warmth, and the earth again began to look green, confirmed in an especial manner the bitterness and horror of my feelings.","group":"-1"},{"id":"1149","x":"5.7978067","y":"8.918482","name":"\\"I generally rested during the day, and travelled only when I was secured by night from the view of man.","group":"-1"},{"id":"1150","x":"5.4312277","y":"8.84237","name":"One morning, however, finding that my path lay through a deep wood, I ventured to continue my journey after the sun had risen; the day, which was one of the first of spring, cheered even me by the loveliness of its sunshine and the balminess of the air.","group":"19"},{"id":"1151","x":"6.8102474","y":"9.860291","name":"Half surprised by the novelty of these sensations, I allowed myself to be borne away by them; and, forgetting my solitude and deformity, dared to be happy.","group":"29"},{"id":"1152","x":"6.6074324","y":"9.442502","name":"Soft tears again bedewed my cheeks, and I even raised my humid eyes with thankfulness towards the blessed sun which bestowed such joy upon me.","group":"-1"},{"id":"1153","x":"4.907157","y":"8.755648","name":"\\"I continued to wind among the paths of the wood, until I came to its boundary, which was skirted by a deep and rapid river, into which many of the trees bent their branches, now budding with the fresh spring.","group":"-1"},{"id":"1154","x":"5.6786437","y":"9.950216","name":"Here I paused, not exactly knowing what path to pursue, when I heard the sound of voices, that induced me to conceal myself under the shade of a cypress.","group":"-1"},{"id":"1155","x":"5.979441","y":"9.607031","name":"I was scarcely hid, when a young girl came running towards the spot where I was concealed, laughing, as if she ran from some one in sport.","group":"-1"},{"id":"1156","x":"5.0444746","y":"8.276855","name":"She continued her course along the precipitous sides of the river, when suddenly her foot slipt, and she fell into the rapid stream.","group":"21"},{"id":"1157","x":"5.438892","y":"8.649622","name":"I rushed from my hiding-place; and, with extreme labour from the force of the current, saved her, and dragged her to shore.","group":"-1"},{"id":"1158","x":"10.272097","y":"9.784128","name":"She was senseless; and I endeavoured, by every means in my power, to restore animation, when I was suddenly interrupted by the approach of a rustic, who was probably the person from whom she had playfully fled.","group":"11"},{"id":"1159","x":"5.700116","y":"9.630426","name":"On seeing me, he darted towards me, and tearing the girl from my arms, hastened towards the deeper parts of the wood.","group":"-1"},{"id":"1160","x":"5.6982384","y":"9.762341","name":"I followed speedily, I hardly knew why; but when the man saw me draw near, he aimed a gun, which he carried, at my body, and fired.","group":"30"},{"id":"1161","x":"6.2475233","y":"11.716642","name":"I had saved a human being from destruction, and, as a recompense, I now writhed under the miserable pain of a wound, which shattered the flesh and bone.","group":"-1"},{"id":"1162","x":"6.5680723","y":"12.02915","name":"The feelings of kindness and gentleness, which I had entertained but a few moments before, gave place to hellish rage and gnashing of teeth.","group":"36"},{"id":"1163","x":"6.080509","y":"11.359328","name":"\\"For some weeks I led a miserable life in the woods, endeavouring to cure the wound which I had received.","group":"35"},{"id":"1164","x":"5.4365344","y":"10.761802","name":"The ball had entered my shoulder, and I knew not whether it had remained there or passed through; at any rate I had no means of extracting it.","group":"-1"},{"id":"1165","x":"6.0584307","y":"11.412891","name":"My sufferings were augmented also by the oppressive sense of the injustice and ingratitude of their infliction.","group":"35"},{"id":"1166","x":"7.458631","y":"12.197401","name":"My daily vows rose for revenge--a deep and deadly revenge, such as would alone compensate for the outrages and anguish I had endured.","group":"-1"},{"id":"1167","x":"5.984866","y":"10.236146","name":"The labours I endured were no longer to be alleviated by the bright sun or gentle breezes of spring; all joy was but a mockery, which insulted my desolate state, and made me feel more painfully that I was not made for the enjoyment of pleasure.","group":"33"},{"id":"1168","x":"6.5256147","y":"8.520389","name":"\\"But my toils now drew near a close; and, in two months from this time, I reached the environs of Geneva.","group":"14"},{"id":"1169","x":"5.7300644","y":"8.786347","name":"\\"It was evening when I arrived, and I retired to a hiding-place among the fields that surround it, to meditate in what manner I should apply to you.","group":"17"},{"id":"1170","x":"5.7043386","y":"10.549574","name":"I was oppressed by fatigue and hunger, and far too unhappy to enjoy the gentle breezes of evening, or the prospect of the sun setting behind the stupendous mountains of Jura.","group":"-1"},{"id":"1171","x":"6.166218","y":"8.843777","name":"\\"At this time a slight sleep relieved me from the pain of reflection, which was disturbed by the approach of a beautiful child, who came running into the recess I had chosen, with all the sportiveness of infancy.","group":"-1"},{"id":"1172","x":"5.815477","y":"12.317084","name":"Suddenly, as I gazed on him, an idea seized me, that this little creature was unprejudiced, and had lived too short a time to have imbibed a horror of deformity.","group":"-1"},{"id":"1173","x":"7.3164105","y":"9.609182","name":"If, therefore, I could seize him, and educate him as my companion and friend, I should not be so desolate in this peopled earth.","group":"-1"},{"id":"1174","x":"7.0680647","y":"10.89611","name":"As soon as he beheld my form, he placed his hands before his eyes, and uttered a shrill scream: I drew his hand forcibly from his face, and said, \'Child, what is the meaning of this?","group":"38"},{"id":"1175","x":"7.6585884","y":"12.481407","name":"you belong then to my enemy--to him towards whom I have sworn eternal revenge; you shall be my first victim.\'","group":"31"},{"id":"1176","x":"7.0253744","y":"10.960602","name":"\\"The child still struggled, and loaded me with epithets which carried despair to my heart; I grasped his throat to silence him, and in a moment he lay dead at my feet.","group":"-1"},{"id":"1177","x":"7.25784","y":"12.2388735","name":"\\"I gazed on my victim, and my heart swelled with exultation and hellish triumph: clapping my hands, I exclaimed, \'I, too, can create desolation; my enemy is not invulnerable; this death will carry despair to him, and a thousand other miseries shall torment and destroy him.\'","group":"-1"},{"id":"1178","x":"9.74516","y":"9.3231535","name":"For a few moments I gazed with delight on her dark eyes, fringed by deep lashes, and her lovely lips; but presently my rage returned: I remembered that I was for ever deprived of the delights that such beautiful creatures could bestow; and that she whose resemblance I contemplated would, in regarding me, have changed that air of divine benignity to one expressive of disgust and affright.","group":"13"},{"id":"1179","x":"7.11535","y":"12.139741","name":"I only wonder that at that moment, instead of venting my sensations in exclamations and agony, I did not rush among mankind, and perish in the attempt to destroy them.","group":"-1"},{"id":"1180","x":"5.57616","y":"9.291005","name":"\\"While I was overcome by these feelings, I left the spot where I had committed the murder, and seeking a more secluded hiding-place, I entered a barn which had appeared to me to be empty.","group":"-1"},{"id":"1181","x":"9.953628","y":"9.194077","name":"A woman was sleeping on some straw; she was young: not indeed so beautiful as her whose portrait I held; but of an agreeable aspect, and blooming in the loveliness of youth and health.","group":"13"},{"id":"1182","x":"9.426882","y":"9.747149","name":"And then I bent over her, and whispered \'Awake, fairest, thy lover is near--he who would give his life but to obtain one look of affection from thine eyes: my beloved, awake!\'","group":"-1"},{"id":"1183","x":"8.539724","y":"12.113662","name":"The thought was madness; it stirred the fiend within me--not I, but she shall suffer: the murder I have committed because I am for ever robbed of all that she could give me, she shall atone.","group":"15"},{"id":"1184","x":"6.208677","y":"9.774211","name":"\\"For some days I haunted the spot where these scenes had taken place; sometimes wishing to see you, sometimes resolved to quit the world and its miseries for ever.","group":"-1"},{"id":"1185","x":"4.871061","y":"8.493219","name":"At length I wandered towards these mountains, and have ranged through their immense recesses, consumed by a burning passion which you alone can gratify.","group":"21"},{"id":"1186","x":"6.9299393","y":"11.014116","name":"I am alone, and miserable; man will not associate with me; but one as deformed and horrible as myself would not deny herself to me.","group":"-1"},{"id":"1187","x":"5.299389","y":"11.360489","name":"But I was bewildered, perplexed, and unable to arrange my ideas sufficiently to understand the full extent of his proposition.","group":"-1"},{"id":"1188","x":"8.66271","y":"9.644033","name":"He continued--  \\"You must create a female for me, with whom I can live in the interchange of those sympathies necessary for my being.","group":"-1"},{"id":"1189","x":"5.9337897","y":"9.752163","name":"The latter part of his tale had kindled anew in me the anger that had died away while he narrated his peaceful life among the cottagers, and, as he said this, I could no longer suppress the rage that burned within me.","group":"-1"},{"id":"1190","x":"8.440447","y":"12.019755","name":"\\"You are in the wrong,\\" replied the fiend; \\"and, instead of threatening, I am content to reason with you.","group":"15"},{"id":"1191","x":"7.5453973","y":"12.566936","name":"You, my creator, would tear me to pieces, and triumph; remember that, and tell me why I should pity man more than he pities me?","group":"31"},{"id":"1192","x":"8.462845","y":"12.176751","name":"You would not call it murder, if you could precipitate me into one of those ice-rifts, and destroy my frame, the work of your own hands.","group":"-1"},{"id":"1193","x":"8.235282","y":"10.465177","name":"Let him live with me in the interchange of kindness; and, instead of injury, I would bestow every benefit upon him with tears of gratitude at his acceptance.","group":"27"},{"id":"1194","x":"7.653218","y":"12.573656","name":"I will revenge my injuries: if I cannot inspire love, I will cause fear; and chiefly towards you my arch-enemy, because my creator, do I swear inextinguishable hatred.","group":"31"},{"id":"1195","x":"7.73401","y":"12.520989","name":"Have a care: I will work at your destruction, nor finish until I desolate your heart, so that you shall curse the hour of your birth.\\"","group":"31"},{"id":"1196","x":"6.9799714","y":"11.657948","name":"A fiendish rage animated him as he said this; his face was wrinkled into contortions too horrible for human eyes to behold; but presently he calmed himself and proceeded--  \\"I intended to reason.","group":"-1"},{"id":"1197","x":"7.531857","y":"11.622582","name":"If any being felt emotions of benevolence towards me, I should return them an hundred and an hundred fold; for that one creature\'s sake, I would make peace with the whole kind!","group":"40"},{"id":"1198","x":"7.479504","y":"11.755082","name":"What I ask of you is reasonable and moderate; I demand a creature of another sex, but as hideous as myself; the gratification is small, but it is all that I can receive, and it shall content me.","group":"40"},{"id":"1199","x":"7.765872","y":"11.842534","name":"It is true, we shall be monsters, cut off from all the world; but on that account we shall be more attached to one another.","group":"-1"},{"id":"1200","x":"7.985113","y":"11.570794","name":"I shuddered when I thought of the possible consequences of my consent; but I felt that there was some justice in his argument.","group":"-1"},{"id":"1201","x":"7.939653","y":"9.404543","name":"His tale, and the feelings he now expressed, proved him to be a creature of fine sensations; and did I not as his maker, owe him all the portion of happiness that it was in my power to bestow?","group":"24"},{"id":"1202","x":"6.4983726","y":"8.032122","name":"He saw my change of feeling, and continued--  \\"If you consent, neither you nor any other human being shall ever see us again: I will go to the vast wilds of South America.","group":"14"},{"id":"1203","x":"6.660431","y":"7.225262","name":"My food is not that of man; I do not destroy the lamb and the kid to glut my appetite; acorns and berries afford me sufficient nourishment.","group":"2"},{"id":"1204","x":"7.2222886","y":"11.741604","name":"The picture I present to you is peaceful and human, and you must feel that you could deny it only in the wantonness of power and cruelty.","group":"-1"},{"id":"1205","x":"8.062245","y":"10.970085","name":"Pitiless as you have been towards me, I now see compassion in your eyes; let me seize the favourable moment, and persuade you to promise what I so ardently desire.\\"","group":"-1"},{"id":"1206","x":"6.301747","y":"8.074997","name":"\\"You propose,\\" replied I, \\"to fly from the habitations of man, to dwell in those wilds where the beasts of the field will be your only companions.","group":"14"},{"id":"1207","x":"7.6408925","y":"12.3520565","name":"You will return, and again seek their kindness, and you will meet with their detestation; your evil passions will be renewed, and you will then have a companion to aid you in the task of destruction.","group":"31"},{"id":"1208","x":"8.3811655","y":"11.04133","name":"but a moment ago you were moved by my representations, and why do you again harden yourself to my complaints?","group":"-1"},{"id":"1209","x":"6.337569","y":"8.157592","name":"I swear to you, by the earth which I inhabit, and by you that made me, that, with the companion you bestow, I will quit the neighbourhood of man, and dwell as it may chance, in the most savage of places.","group":"14"},{"id":"1210","x":"6.6799126","y":"12.084866","name":"I compassionated him, and sometimes felt a wish to console him; but when I looked upon him, when I saw the filthy mass that moved and talked, my heart sickened, and my feelings were altered to those of horror and hatred.","group":"36"},{"id":"1211","x":"7.415924","y":"10.302527","name":"I tried to stifle these sensations; I thought, that as I could not sympathise with him, I had no right to withhold from him the small portion of happiness which was yet in my power to bestow.","group":"26"},{"id":"1212","x":"8.453339","y":"11.988611","name":"\\"You swear,\\" I said, \\"to be harmless; but have you not already shown a degree of malice that should reasonably make me distrust you?","group":"15"},{"id":"1213","x":"7.5635242","y":"12.382517","name":"May not even this be a feint that will increase your triumph by affording a wider scope for your revenge.\\"","group":"31"},{"id":"1214","x":"7.6162252","y":"11.682669","name":"If I have no ties and no affections, hatred and vice must be my portion; the love of another will destroy the cause of my crimes, and I shall become a thing, of whose existence every one will be ignorant.","group":"40"},{"id":"1215","x":"7.4632416","y":"11.280688","name":"My vices are the children of a forced solitude that I abhor; and my virtues will necessarily arise when I live in communion with an equal.","group":"-1"},{"id":"1216","x":"7.5596013","y":"11.187625","name":"I shall feel the affections of a sensitive being, and become linked to the chain of existence and events, from which I am now excluded.\\"","group":"25"},{"id":"1217","x":"4.516063","y":"11.244119","name":"I paused some time to reflect on all he had related, and the various arguments which he had employed.","group":"4"},{"id":"1218","x":"6.7567406","y":"12.24144","name":"I thought of the promise of virtues which he had displayed on the opening of his existence, and the subsequent blight of all kindly feeling by the loathing and scorn which his protectors had manifested towards him.","group":"-1"},{"id":"1219","x":"4.297804","y":"7.5054564","name":"His power and threats were not omitted in my calculations: a creature who could exist in the ice-caves of the glaciers, and hide himself from pursuit among the ridges of inaccessible precipices, was a being possessing faculties it would be vain to cope with.","group":"20"},{"id":"1220","x":"7.644703","y":"11.660356","name":"After a long pause of reflection, I concluded that the justice due both to him and my fellow-creatures demanded of me that I should comply with his request.","group":"40"},{"id":"1221","x":"6.5033445","y":"7.933117","name":"Turning to him, therefore, I said--  \\"I consent to your demand, on your solemn oath to quit Europe for ever, and every other place in the neighbourhood of man, as soon as I shall deliver into your hands a female who will accompany you in your exile.\\"","group":"14"},{"id":"1222","x":"6.366036","y":"10.013054","name":"\\"I swear,\\" he cried, \\"by the sun, and by the blue sky of Heaven, and by the fire of love that burns my heart, that if you grant my prayer, while they exist you shall never behold me again.","group":"32"},{"id":"1223","x":"8.098281","y":"11.20843","name":"Depart to your home, and commence your labours: I shall watch their progress with unutterable anxiety; and fear not but that when you are ready I shall appear.\\"","group":"-1"},{"id":"1224","x":"4.329378","y":"7.791919","name":"I saw him descend the mountain with greater speed than the flight of an eagle, and quickly lost among the undulations of the sea of ice.","group":"20"},{"id":"1225","x":"5.133156","y":"10.291441","name":"I knew that I ought to hasten my descent towards the valley, as I should soon be encompassed in darkness; but my heart was heavy, and my steps slow.","group":"-1"},{"id":"1226","x":"5.342314","y":"8.995389","name":"The labour of winding among the little paths of the mountains, and fixing my feet firmly as I advanced, perplexed me, occupied as I was by the emotions which the occurrences of the day had produced.","group":"19"},{"id":"1227","x":"5.0202394","y":"9.3525095","name":"Night was far advanced, when I came to the half-way resting-place, and seated myself beside the fountain.","group":"-1"},{"id":"1228","x":"4.6827555","y":"9.155213","name":"The stars shone at intervals, as the clouds passed from over them; the dark pines rose before me, and every here and there a broken tree lay on the ground: it was a scene of wonderful solemnity, and stirred strange thoughts within me.","group":"21"},{"id":"1229","x":"4.8062515","y":"9.541295","name":"stars and clouds, and winds, ye are all about to mock me: if ye really pity me, crush sensation and memory; let me become as nought; but if not, depart, depart, and leave me in darkness.\\"","group":"-1"},{"id":"1230","x":"4.6237903","y":"9.447591","name":"These were wild and miserable thoughts; but I cannot describe to you how the eternal twinkling of the stars weighed upon me, and how I listened to every blast of wind, as if it were a dull ugly siroc on its way to consume me.","group":"-1"},{"id":"1231","x":"6.542785","y":"8.325945","name":"Morning dawned before I arrived at the village of Chamounix; I took no rest, but returned immediately to Geneva.","group":"14"},{"id":"1232","x":"5.8576665","y":"11.040514","name":"Even in my own heart I could give no expression to my sensations--they weighed on me with a mountain\'s weight, and their excess destroyed my agony beneath them.","group":"34"},{"id":"1233","x":"6.21573","y":"12.485029","name":"My haggard and wild appearance awoke intense alarm; but I answered no question, scarcely did I speak.","group":"-1"},{"id":"1234","x":"7.031272","y":"10.750416","name":"I felt as if I were placed under a ban--as if I had no right to claim their sympathies--as if never more might I enjoy companionship with them.","group":"-1"},{"id":"1235","x":"7.193465","y":"11.92656","name":"Yet even thus I loved them to adoration; and to save them, I resolved to dedicate myself to my most abhorred task.","group":"40"},{"id":"1236","x":"5.821441","y":"10.151983","name":"The prospect of such an occupation made every other circumstance of existence pass before me like a dream; and that thought only had to me the reality of life.","group":"-1"},{"id":"1237","x":"6.7360888","y":"8.655283","name":"Day after day, week after week, passed away on my return to Geneva; and I could not collect the courage to recommence my work.","group":"14"},{"id":"1238","x":"5.942024","y":"11.643296","name":"I feared the vengeance of the disappointed fiend, yet I was unable to overcome my repugnance to the task which was enjoined me.","group":"-1"},{"id":"1239","x":"5.077153","y":"11.152986","name":"I found that I could not compose a female without again devoting several months to profound study and laborious disquisition.","group":"4"},{"id":"1240","x":"7.3246346","y":"8.15513","name":"I had heard of some discoveries having been made by an English philosopher, the knowledge of which was material to my success, and I sometimes thought of obtaining my father\'s consent to visit England for this purpose; but I clung to every pretence of delay, and shrunk from taking the first step in an undertaking whose immediate necessity began to appear less absolute to me.","group":"14"},{"id":"1241","x":"6.9290147","y":"9.733447","name":"A change indeed had taken place in me: my health, which had hitherto declined, was now much restored; and my spirits, when unchecked by the memory of my unhappy promise, rose proportionably.","group":"29"},{"id":"1242","x":"7.116497","y":"9.788318","name":"My father saw this change with pleasure, and he turned his thoughts towards the best method of eradicating the remains of my melancholy, which every now and then would return by fits, and with a devouring blackness overcast the approaching sunshine.","group":"29"},{"id":"1243","x":"4.883974","y":"8.606931","name":"I passed whole days on the lake alone in a little boat, watching the clouds, and listening to the rippling of the waves, silent and listless.","group":"21"},{"id":"1244","x":"6.8099937","y":"9.396068","name":"But the fresh air and bright sun seldom failed to restore me to some degree of composure; and, on my return, I met the salutations of my friends with a readier smile and a more cheerful heart.","group":"-1"},{"id":"1245","x":"7.2039375","y":"9.637028","name":"It was after my return from one of these rambles, that my father, calling me aside, thus addressed me:--  \\"I am happy to remark, my dear son, that you have resumed your former pleasures, and seem to be returning to yourself.","group":"29"},{"id":"1246","x":"4.328674","y":"10.788892","name":"For some time I was lost in conjecture as to the cause of this; but yesterday an idea struck me, and if it is well founded, I conjure you to avow it.","group":"-1"},{"id":"1247","x":"9.550276","y":"10.452152","name":"I trembled violently at his exordium, and my father continued--  \\"I confess, my son, that I have always looked forward to your marriage with our dear Elizabeth as the tie of our domestic comfort, and the stay of my declining years.","group":"12"},{"id":"1248","x":"8.607714","y":"9.277305","name":"You were attached to each other from your earliest infancy; you studied together, and appeared, in dispositions and tastes, entirely suited to one another.","group":"22"},{"id":"1249","x":"6.2904334","y":"12.103097","name":"But so blind is the experience of man, that what I conceived to be the best assistants to my plan, may have entirely destroyed it.","group":"-1"},{"id":"1250","x":"9.531846","y":"10.400755","name":"Nay, you may have met with another whom you may love; and, considering yourself as bound in honour to Elizabeth, this struggle may occasion the poignant misery which you appear to feel.\\"","group":"12"},{"id":"1251","x":"8.466741","y":"9.80223","name":"\\"The expression of your sentiments of this subject, my dear Victor, gives me more pleasure than I have for some time experienced.","group":"-1"},{"id":"1252","x":"6.123026","y":"11.29997","name":"But it is this gloom which appears to have taken so strong a hold of your mind, that I wish to dissipate.","group":"35"},{"id":"1253","x":"6.839365","y":"9.910285","name":"We have been unfortunate, and recent events have drawn us from that every-day tranquillity befitting my years and infirmities.","group":"29"},{"id":"1254","x":"8.618005","y":"11.038594","name":"You are younger; yet I do not suppose, possessed as you are of a competent fortune, that an early marriage would at all interfere with any future plans of honour and utility that you may have formed.","group":"-1"},{"id":"1255","x":"8.420259","y":"10.804664","name":"Do not suppose, however, that I wish to dictate happiness to you, or that a delay on your part would cause me any serious uneasiness.","group":"-1"},{"id":"1256","x":"7.9223223","y":"11.769138","name":"I was bound by a solemn promise, which I had not yet fulfilled, and dared not break; or, if I did, what manifold miseries might not impend over me and my devoted family!","group":"-1"},{"id":"1257","x":"7.240534","y":"12.19865","name":"Could I enter into a festival with this deadly weight yet hanging round my neck, and bowing me to the ground.","group":"-1"},{"id":"1258","x":"8.210193","y":"11.528027","name":"I must perform my engagement, and let the monster depart with his mate, before I allowed myself to enjoy the delight of an union from which I expected peace.","group":"-1"},{"id":"1259","x":"7.13573","y":"8.054186","name":"I remembered also the necessity imposed upon me of either journeying to England, or entering into a long correspondence with those philosophers of that country, whose knowledge and discoveries were of indispensable use to me in my present undertaking.","group":"14"},{"id":"1260","x":"4.926547","y":"11.458939","name":"The latter method of obtaining the desired intelligence was dilatory and unsatisfactory: besides, I had an insurmountable aversion to the idea of engaging myself in my loathsome task in my father\'s house, while in habits of familiar intercourse with those I loved.","group":"-1"},{"id":"1261","x":"5.941427","y":"11.044431","name":"I knew that a thousand fearful accidents might occur, the slightest of which would disclose a tale to thrill all connected with me with horror.","group":"34"},{"id":"1262","x":"5.612971","y":"11.499738","name":"I was aware also that I should often lose all self-command, all capacity of hiding the harrowing sensations that would possess me during the progress of my unearthly occupation.","group":"-1"},{"id":"1263","x":"8.020031","y":"10.966427","name":"Once commenced, it would quickly be achieved, and I might be restored to my family in peace and happiness.","group":"-1"},{"id":"1264","x":"7.6527944","y":"12.406001","name":"Or (so my fond fancy imaged) some accident might meanwhile occur to destroy him, and put an end to my slavery for ever.","group":"31"},{"id":"1265","x":"7.4669523","y":"8.326851","name":"I expressed a wish to visit England; but, concealing the true reasons of this request, I clothed my desires under a guise which excited no suspicion, while I urged my desire with an earnestness that easily induced my father to comply.","group":"-1"},{"id":"1266","x":"6.8977304","y":"9.618511","name":"After so long a period of an absorbing melancholy, that resembled madness in its intensity and effects, he was glad to find that I was capable of taking pleasure in the idea of such a journey, and he hoped that change of scene and varied amusement would, before my return, have restored me entirely to myself.","group":"29"},{"id":"1267","x":"6.82826","y":"8.897972","name":"The duration of my absence was left to my own choice; a few months, or at most a year, was the period contemplated.","group":"-1"},{"id":"1268","x":"7.2488465","y":"8.6631775","name":"Without previously communicating with me, he had, in concert with Elizabeth, arranged that Clerval should join me at Strasburgh.","group":"-1"},{"id":"1269","x":"7.466111","y":"9.692222","name":"This interfered with the solitude I coveted for the prosecution of my task; yet at the commencement of my journey the presence of my friend could in no way be an impediment, and truly I rejoiced that thus I should be saved many hours of lonely, maddening reflection.","group":"-1"},{"id":"1270","x":"6.8652496","y":"12.226411","name":"If I were alone, would he not at times force his abhorred presence on me, to remind me of my task, or to contemplate its progress?","group":"-1"},{"id":"1271","x":"6.1606407","y":"7.665177","name":"To England, therefore, I was bound, and it was understood that my union with Elizabeth should take place immediately on my return.","group":"-1"},{"id":"1272","x":"9.533325","y":"10.445396","name":"For myself, there was one reward I promised myself from my detested toils--one consolation for my unparalleled sufferings; it was the prospect of that day when, enfranchised from my miserable slavery, I might claim Elizabeth, and forget the past in my union with her.","group":"12"},{"id":"1273","x":"5.6641154","y":"10.91749","name":"I now made arrangements for my journey; but one feeling haunted me, which filled me with fear and agitation.","group":"34"},{"id":"1274","x":"8.21697","y":"10.723482","name":"During my absence I should leave my friends unconscious of the existence of their enemy, and unprotected from his attacks, exasperated as he might be by my departure.","group":"27"},{"id":"1275","x":"5.6862583","y":"10.846856","name":"This imagination was dreadful in itself, but soothing, inasmuch as it supposed the safety of my friends.","group":"34"},{"id":"1276","x":"6.6430163","y":"11.144719","name":"But through the whole period during which I was the slave of my creature, I allowed myself to be governed by the impulses of the moment; and my present sensations strongly intimated that the fiend would follow me, and exempt my family from the danger of his machinations.","group":"38"},{"id":"1277","x":"9.684501","y":"10.325801","name":"My journey had been my own suggestion, and Elizabeth, therefore, acquiesced: but she was filled with disquiet at the idea of my suffering, away from her, the inroads of misery and grief.","group":"12"},{"id":"1278","x":"9.329238","y":"9.811472","name":"It had been her care which provided me a companion in Clerval--and yet a man is blind to a thousand minute circumstances, which call forth a woman\'s sedulous attention.","group":"-1"},{"id":"1279","x":"9.738183","y":"9.867734","name":"She longed to bid me hasten my return,--a thousand conflicting emotions rendered her mute, as she bade me a tearful silent farewell.","group":"12"},{"id":"1280","x":"5.4204392","y":"10.545145","name":"I threw myself into the carriage that was to convey me away, hardly knowing whither I was going, and careless of what was passing around.","group":"30"},{"id":"1281","x":"5.5823207","y":"11.594187","name":"I remembered only, and it was with a bitter anguish that I reflected on it, to order that my chemical instruments should be packed to go with me.","group":"-1"},{"id":"1282","x":"5.330222","y":"9.578662","name":"Filled with dreary imaginations, I passed through many beautiful and majestic scenes; but my eyes were fixed and unobserving.","group":"-1"},{"id":"1283","x":"5.871729","y":"9.964211","name":"I could only think of the bourne of my travels, and the work which was to occupy me whilst they endured.","group":"-1"},{"id":"1284","x":"6.6379805","y":"8.354097","name":"After some days spent in listless indolence, during which I traversed many leagues, I arrived at Strasburgh, where I waited two days for Clerval.","group":"14"},{"id":"1285","x":"6.3770375","y":"9.112515","name":"He was alive to every new scene; joyful when he saw the beauties of the setting sun, and more happy when he beheld it rise, and recommence a new day.","group":"-1"},{"id":"1286","x":"6.9304934","y":"9.053698","name":"In truth, I was occupied by gloomy thoughts, and neither saw the descent of the evening star, nor the golden sunrise reflected in the Rhine.--And you, my friend, would be far more amused with the journal of Clerval, who observed the scenery with an eye of feeling and delight, than in listening to my reflections.","group":"-1"},{"id":"1287","x":"5.855705","y":"7.797039","name":"We had agreed to descend the Rhine in a boat from Strasburgh to Rotterdam, whence we might take shipping for London.","group":"-1"},{"id":"1288","x":"6.5952544","y":"8.089027","name":"We stayed a day at Manheim, and, on the fifth from our departure from Strasburgh, arrived at Mayence.","group":"14"},{"id":"1289","x":"3.6308079","y":"8.306494","name":"We saw many ruined castles standing on the edges of precipices, surrounded by black woods, high and inaccessible.","group":"18"},{"id":"1290","x":"3.7109878","y":"8.365757","name":"In one spot you view rugged hills, ruined castles overlooking tremendous precipices, with the dark Rhine rushing beneath; and, on the sudden turn of a promontory, flourishing vineyards, with green sloping banks, and a meandering river, and populous towns occupy the scene.","group":"18"},{"id":"1291","x":"4.8709354","y":"8.597994","name":"We travelled at the time of the vintage, and heard the song of the labourers, as we glided down the stream.","group":"21"},{"id":"1292","x":"6.8253756","y":"9.743001","name":"Even I, depressed in mind, and my spirits continually agitated by gloomy feelings, even I was pleased.","group":"29"},{"id":"1293","x":"4.718044","y":"8.772447","name":"I lay at the bottom of the boat, and, as I gazed on the cloudless blue sky, I seemed to drink in a tranquillity to which I had long been a stranger.","group":"21"},{"id":"1294","x":"4.042977","y":"8.525642","name":"\\"I have seen,\\" he said, \\"the most beautiful scenes of my own country; I have visited the lakes of Lucerne and Uri, where the snowy mountains descend almost perpendicularly to the water, casting black and impenetrable shades, which would cause a gloomy and mournful appearance, were it not for the most verdant islands that relieve the eye by their gay appearance; I have seen this lake agitated by a tempest, when the wind tore up whirlwinds of water, and gave you an idea of what the water-spout must be on the great ocean; and the waves dash with fury the base of the mountain, where the priest and his mistress were overwhelmed by an avalanche, and where their dying voices are still said to be heard amid the pauses of the nightly wind; I have seen the mountains of La Valais, and the Pays de Vaud: but this country, Victor, pleases me more than all those wonders.","group":"18"},{"id":"1295","x":"3.8864636","y":"8.454339","name":"The mountains of Switzerland are more majestic and strange; but there is a charm in the banks of this divine river, that I never before saw equalled.","group":"18"},{"id":"1296","x":"3.6940653","y":"8.394315","name":"Look at that castle which overhangs yon precipice; and that also on the island, almost concealed amongst the foliage of those lovely trees; and now that group of labourers coming from among their vines; and that village half hid in the recess of the mountain.","group":"18"},{"id":"1297","x":"6.195874","y":"8.424432","name":"Oh, surely, the spirit that inhabits and guards this place has a soul more in harmony with man, than those who pile the glacier, or retire to the inaccessible peaks of the mountains of our own country.\\"","group":"-1"},{"id":"1298","x":"8.090364","y":"10.033971","name":"even now it delights me to record your words, and to dwell on the praise of which you are so eminently deserving.","group":"28"},{"id":"1299","x":"8.455589","y":"9.480728","name":"His soul overflowed with ardent affections, and his friendship was of that devoted and wondrous nature that the worldly-minded teach us to look for only in the imagination.","group":"-1"},{"id":"1300","x":"6.211746","y":"8.845682","name":"The scenery of external nature, which others regard only with admiration, he loved with ardour:--      ----\\"The sounding cataract     Haunted him like a passion: the tall rock,     The mountain, and the deep and gloomy wood,     Their colours and their forms, were then to him     An appetite; a feeling, and a love,     That had no need of a remoter charm,     By thought supplied, or any interest     Unborrow\'d from the eye\\"[3]  [Footnote 3: Wordsworth\'s Tintern Abbey.]","group":"-1"},{"id":"1301","x":"6.286916","y":"12.387738","name":"Has this mind, so replete with ideas, imaginations fanciful and magnificent, which formed a world, whose existence depended on the life of its creator;--has this mind perished?","group":"-1"},{"id":"1302","x":"7.3139853","y":"11.996582","name":"No, it is not thus; your form so divinely wrought, and beaming with beauty, has decayed, but your spirit still visits and consoles your unhappy friend.","group":"40"},{"id":"1303","x":"8.191884","y":"9.910499","name":"Pardon this gush of sorrow; these ineffectual words are but a slight tribute to the unexampled worth of Henry, but they soothe my heart, overflowing with the anguish which his remembrance creates.","group":"-1"},{"id":"1304","x":"5.4329753","y":"8.048442","name":"Beyond Cologne we descended to the plains of Holland; and we resolved to post the remainder of our way; for the wind was contrary, and the stream of the river was too gentle to aid us.","group":"21"},{"id":"1305","x":"6.076743","y":"7.900601","name":"Our journey here lost the interest arising from beautiful scenery; but we arrived in a few days at Rotterdam, whence we proceeded by sea to England.","group":"-1"},{"id":"1306","x":"4.598172","y":"8.662585","name":"It was on a clear morning, in the latter days of December, that I first saw the white cliffs of Britain.","group":"21"},{"id":"1307","x":"6.674105","y":"7.796962","name":"The banks of the Thames presented a new scene; they were flat, but fertile, and almost every town was marked by the remembrance of some story.","group":"14"},{"id":"1308","x":"6.708249","y":"7.7369237","name":"We saw Tilbury Fort, and remembered the Spanish armada; Gravesend, Woolwich, and Greenwich, places which I had heard of even in my country.","group":"2"},{"id":"1309","x":"6.549099","y":"7.7293653","name":"At length we saw the numerous steeples of London, St. Paul\'s towering above all, and the Tower famed in English history.","group":"-1"},{"id":"1310","x":"6.7791677","y":"7.932602","name":"London was our present point of rest; we determined to remain several months in this wonderful and celebrated city.","group":"14"},{"id":"1311","x":"7.394319","y":"8.8403015","name":"Clerval desired the intercourse of the men of genius and talent who flourished at this time; but this was with me a secondary object; I was principally occupied with the means of obtaining the information necessary for the completion of my promise, and quickly availed myself of the letters of introduction that I had brought with me, addressed to the most distinguished natural philosophers.","group":"-1"},{"id":"1312","x":"6.88563","y":"9.723523","name":"If this journey had taken place during my days of study and happiness, it would have afforded me inexpressible pleasure.","group":"29"},{"id":"1313","x":"6.2728405","y":"11.13268","name":"But a blight had come over my existence, and I only visited these people for the sake of the information they might give me on the subject in which my interest was so terribly profound.","group":"-1"},{"id":"1314","x":"7.614833","y":"9.576444","name":"Company was irksome to me; when alone, I could fill my mind with the sights of heaven and earth; the voice of Henry soothed me, and I could thus cheat myself into a transitory peace.","group":"-1"},{"id":"1315","x":"8.717524","y":"11.739721","name":"I saw an insurmountable barrier placed between me and my fellow-men; this barrier was sealed with the blood of William and Justine; and to reflect on the events connected with those names filled my soul with anguish.","group":"15"},{"id":"1316","x":"6.968761","y":"9.176613","name":"But in Clerval I saw the image of my former self; he was inquisitive, and anxious to gain experience and instruction.","group":"-1"},{"id":"1317","x":"8.409821","y":"8.567191","name":"The difference of manners which he observed was to him an inexhaustible source of instruction and amusement.","group":"-1"},{"id":"1318","x":"7.45028","y":"8.180048","name":"His design was to visit India, in the belief that he had in his knowledge of its various languages, and in the views he had taken of its society, the means of materially assisting the progress of European colonisation and trade.","group":"14"},{"id":"1319","x":"8.002309","y":"9.925485","name":"I tried to conceal this as much as possible, that I might not debar him from the pleasures natural to one, who was entering on a new scene of life, undisturbed by any care or bitter recollection.","group":"28"},{"id":"1320","x":"5.6805754","y":"11.908119","name":"I now also began to collect the materials necessary for my new creation, and this was to me like the torture of single drops of water continually falling on the head.","group":"-1"},{"id":"1321","x":"6.0670075","y":"11.495044","name":"Every thought that was devoted to it was an extreme anguish, and every word that I spoke in allusion to it caused my lips to quiver, and my heart to palpitate.","group":"-1"},{"id":"1322","x":"7.0581355","y":"8.187328","name":"After passing some months in London, we received a letter from a person in Scotland, who had formerly been our visiter at Geneva.","group":"14"},{"id":"1323","x":"6.941153","y":"8.065017","name":"He mentioned the beauties of his native country, and asked us if those were not sufficient allurements to induce us to prolong our journey as far north as Perth, where he resided.","group":"-1"},{"id":"1324","x":"7.1262913","y":"8.945911","name":"Clerval eagerly desired to accept this invitation; and I, although I abhorred society, wished to view again mountains and streams, and all the wondrous works with which Nature adorns her chosen dwelling-places.","group":"23"},{"id":"1325","x":"5.160242","y":"7.599592","name":"We accordingly determined to commence our journey towards the north at the expiration of another month.","group":"-1"},{"id":"1326","x":"6.3816996","y":"7.923584","name":"In this expedition we did not intend to follow the great road to Edinburgh, but to visit Windsor, Oxford, Matlock, and the Cumberland lakes, resolving to arrive at the completion of this tour about the end of July.","group":"-1"},{"id":"1327","x":"5.608109","y":"8.661244","name":"I packed up my chemical instruments, and the materials I had collected, resolving to finish my labours in some obscure nook in the northern highlands of Scotland.","group":"17"},{"id":"1328","x":"6.631445","y":"7.994831","name":"We quitted London on the 27th of March, and remained a few days at Windsor, rambling in its beautiful forest.","group":"14"},{"id":"1329","x":"3.9640548","y":"8.245545","name":"This was a new scene to us mountaineers; the majestic oaks, the quantity of game, and the herds of stately deer, were all novelties to us.","group":"18"},{"id":"1330","x":"6.7519298","y":"7.809684","name":"As we entered this city, our minds were filled with the remembrance of the events that had been transacted there more than a century and a half before.","group":"14"},{"id":"1331","x":"8.704054","y":"8.625568","name":"This city had remained faithful to him, after the whole nation had forsaken his cause to join the standard of parliament and liberty.","group":"-1"},{"id":"1332","x":"6.8299503","y":"7.9219947","name":"The memory of that unfortunate king, and his companions, the amiable Falkland, the insolent Goring, his queen, and son, gave a peculiar interest to every part of the city, which they might be supposed to have inhabited.","group":"14"},{"id":"1333","x":"5.7936406","y":"9.448541","name":"If these feelings had not found an imaginary gratification, the appearance of the city had yet in itself sufficient beauty to obtain our admiration.","group":"-1"},{"id":"1334","x":"3.7733135","y":"8.433847","name":"The colleges are ancient and picturesque; the streets are almost magnificent; and the lovely Isis, which flows beside it through meadows of exquisite verdure, is spread forth into a placid expanse of waters, which reflects its majestic assemblage of towers, and spires, and domes, embosomed among aged trees.","group":"18"},{"id":"1335","x":"6.7038565","y":"9.640473","name":"I enjoyed this scene; and yet my enjoyment was embittered both by the memory of the past, and the anticipation of the future.","group":"-1"},{"id":"1336","x":"7.1228724","y":"9.109286","name":"During my youthful days discontent never visited my mind; and if I was ever overcome by _ennui_, the sight of what is beautiful in nature, or the study of what is excellent and sublime in the productions of man, could always interest my heart, and communicate elasticity to my spirits.","group":"23"},{"id":"1337","x":"6.5926476","y":"11.612653","name":"But I am a blasted tree; the bolt has entered my soul; and I felt then that I should survive to exhibit, what I shall soon cease to be--a miserable spectacle of wrecked humanity, pitiable to others, and intolerable to myself.","group":"-1"},{"id":"1338","x":"6.813953","y":"7.849052","name":"We passed a considerable period at Oxford, rambling among its environs, and endeavouring to identify every spot which might relate to the most animating epoch of English history.","group":"-1"},{"id":"1339","x":"4.384455","y":"10.48167","name":"Our little voyages of discovery were often prolonged by the successive objects that presented themselves.","group":"3"},{"id":"1340","x":"6.814036","y":"9.926795","name":"For a moment my soul was elevated from its debasing and miserable fears, to contemplate the divine ideas of liberty and self-sacrifice, of which these sights were the monuments and the remembrancers.","group":"29"},{"id":"1341","x":"6.2149515","y":"10.524415","name":"For an instant I dared to shake off my chains, and look around me with a free and lofty spirit; but the iron had eaten into my flesh, and I sank again, trembling and hopeless, into my miserable self.","group":"-1"},{"id":"1342","x":"3.8406463","y":"8.396518","name":"The country in the neighbourhood of this village resembled, to a greater degree, the scenery of Switzerland; but every thing is on a lower scale, and the green hills want the crown of distant white Alps, which always attend on the piny mountains of my native country.","group":"18"},{"id":"1343","x":"4.5256763","y":"10.529263","name":"We visited the wondrous cave, and the little cabinets of natural history, where the curiosities are disposed in the same manner as in the collections at Servox and Chamounix.","group":"-1"},{"id":"1344","x":"6.1288705","y":"11.68308","name":"The latter name made me tremble, when pronounced by Henry; and I hastened to quit Matlock, with which that terrible scene was thus associated.","group":"-1"},{"id":"1345","x":"4.0832586","y":"8.143093","name":"The little patches of snow which yet lingered on the northern sides of the mountains, the lakes, and the dashing of the rocky streams, were all familiar and dear sights to me.","group":"18"},{"id":"1346","x":"7.563881","y":"8.975316","name":"The delight of Clerval was proportionably greater than mine; his mind expanded in the company of men of talent, and he found in his own nature greater capacities and resources than he could have imagined himself to have possessed while he associated with his inferiors.","group":"24"},{"id":"1347","x":"4.1352577","y":"8.481825","name":"\\"I could pass my life here,\\" said he to me; \\"and among these mountains I should scarcely regret Switzerland and the Rhine.\\"","group":"18"},{"id":"1348","x":"6.6071224","y":"9.863473","name":"His feelings are for ever on the stretch; and when he begins to sink into repose, he finds himself obliged to quit that on which he rests in pleasure for something new, which again engages his attention, and which also he forsakes for other novelties.","group":"-1"},{"id":"1349","x":"6.5342984","y":"8.022704","name":"We had scarcely visited the various lakes of Cumberland and Westmorland, and conceived an affection for some of the inhabitants, when the period of our appointment with our Scotch friend approached, and we left them to travel on.","group":"14"},{"id":"1350","x":"5.7873616","y":"11.562891","name":"I had now neglected my promise for some time, and I feared the effects of the d\xe6mon\'s disappointment.","group":"-1"},{"id":"1351","x":"6.098564","y":"11.377345","name":"This idea pursued me, and tormented me at every moment from which I might otherwise have snatched repose and peace.","group":"35"},{"id":"1352","x":"9.34974","y":"10.389464","name":"I waited for my letters with feverish impatience: if they were delayed, I was miserable, and overcome by a thousand fears; and when they arrived, and I saw the superscription of Elizabeth or my father, I hardly dared to read and ascertain my fate.","group":"12"},{"id":"1353","x":"6.6908154","y":"11.268604","name":"Sometimes I thought that the fiend followed me, and might expedite my remissness by murdering my companion.","group":"38"},{"id":"1354","x":"6.7283883","y":"11.173502","name":"When these thoughts possessed me, I would not quit Henry for a moment, but followed him as his shadow, to protect him from the fancied rage of his destroyer.","group":"38"},{"id":"1355","x":"8.435314","y":"11.804052","name":"I was guiltless, but I had indeed drawn down a horrible curse upon my head, as mortal as that of crime.","group":"15"},{"id":"1356","x":"6.6698093","y":"8.356629","name":"I visited Edinburgh with languid eyes and mind; and yet that city might have interested the most unfortunate being.","group":"14"},{"id":"1357","x":"7.1779","y":"8.859306","name":"Clerval did not like it so well as Oxford: for the antiquity of the latter city was more pleasing to him.","group":"23"},{"id":"1358","x":"7.094836","y":"8.854641","name":"But the beauty and regularity of the new town of Edinburgh, its romantic castle, and its environs, the most delightful in the world, Arthur\'s Seat, St. Bernard\'s Well, and the Pentland Hills, compensated him for the change, and filled him with cheerfulness and admiration.","group":"-1"},{"id":"1359","x":"6.6365595","y":"8.003765","name":"We left Edinburgh in a week, passing through Coupar, St. Andrew\'s, and along the banks of the Tay, to Perth, where our friend expected us.","group":"14"},{"id":"1360","x":"6.2436643","y":"8.304762","name":"But I was in no mood to laugh and talk with strangers, or enter into their feelings or plans with the good humour expected from a guest; and accordingly I told Clerval that I wished to make the tour of Scotland alone.","group":"-1"},{"id":"1361","x":"8.216808","y":"10.47868","name":"I may be absent a month or two; but do not interfere with my motions, I entreat you: leave me to peace and solitude for a short time; and when I return, I hope it will be with a lighter heart, more congenial to your own temper.\\"","group":"27"},{"id":"1362","x":"6.92643","y":"8.535113","name":"\\"I had rather be with you,\\" he said, \\"in your solitary rambles, than with these Scotch people, whom I do not know: hasten then, my dear friend, to return, that I may again feel myself somewhat at home, which I cannot do in your absence.\\"","group":"14"},{"id":"1363","x":"5.9301786","y":"8.385014","name":"Having parted from my friend, I determined to visit some remote spot of Scotland, and finish my work in solitude.","group":"-1"},{"id":"1364","x":"6.1124754","y":"10.249935","name":"I did not doubt but that the monster followed me, and would discover himself to me when I should have finished, that he might receive his companion.","group":"33"},{"id":"1365","x":"5.555698","y":"8.338321","name":"With this resolution I traversed the northern highlands, and fixed on one of the remotest of the Orkneys as the scene of my labours.","group":"21"},{"id":"1366","x":"4.2338505","y":"8.0582075","name":"It was a place fitted for such a work, being hardly more than a rock, whose high sides were continually beaten upon by the waves.","group":"-1"},{"id":"1367","x":"6.962288","y":"7.2041388","name":"The soil was barren, scarcely affording pasture for a few miserable cows, and oatmeal for its inhabitants, which consisted of five persons, whose gaunt and scraggy limbs gave tokens of their miserable fare.","group":"2"},{"id":"1368","x":"6.88572","y":"7.192382","name":"Vegetables and bread, when they indulged in such luxuries, and even fresh water, was to be procured from the main land, which was about five miles distant.","group":"2"},{"id":"1369","x":"5.559989","y":"9.113468","name":"I ordered it to be repaired, bought some furniture, and took possession; an incident which would, doubtless, have occasioned some surprise, had not all the senses of the cottagers been benumbed by want and squalid poverty.","group":"19"},{"id":"1370","x":"6.416937","y":"10.098381","name":"As it was, I lived ungazed at and unmolested, hardly thanked for the pittance of food and clothes which I gave; so much does suffering blunt even the coarsest sensations of men.","group":"32"},{"id":"1371","x":"5.249175","y":"8.682213","name":"In this retreat I devoted the morning to labour; but in the evening, when the weather permitted, I walked on the stony beach of the sea, to listen to the waves as they roared and dashed at my feet.","group":"19"},{"id":"1372","x":"4.294908","y":"8.649253","name":"Its fair lakes reflect a blue and gentle sky; and, when troubled by the winds, their tumult is but as the play of a lively infant, when compared to the roarings of the giant ocean.","group":"-1"},{"id":"1373","x":"5.359701","y":"11.509008","name":"In this manner I distributed my occupations when I first arrived; but, as I proceeded in my labour, it became every day more horrible and irksome to me.","group":"-1"},{"id":"1374","x":"4.946342","y":"11.070217","name":"Sometimes I could not prevail on myself to enter my laboratory for several days; and at other times I toiled day and night in order to complete my work.","group":"4"},{"id":"1375","x":"5.249058","y":"11.391692","name":"During my first experiment, a kind of enthusiastic frenzy had blinded me to the horror of my employment; my mind was intently fixed on the consummation of my labour, and my eyes were shut to the horror of my proceedings.","group":"4"},{"id":"1376","x":"5.352307","y":"11.346287","name":"Thus situated, employed in the most detestable occupation, immersed in a solitude where nothing could for an instant call my attention from the actual scene in which I was engaged, my spirits became unequal; I grew restless and nervous.","group":"-1"},{"id":"1377","x":"5.74052","y":"11.100033","name":"Sometimes I sat with my eyes fixed on the ground, fearing to raise them, lest they should encounter the object which I so much dreaded to behold.","group":"34"},{"id":"1378","x":"6.3113456","y":"11.123115","name":"I feared to wander from the sight of my fellow-creatures, lest when alone he should come to claim his companion.","group":"-1"},{"id":"1379","x":"6.3017454","y":"11.205048","name":"I looked towards its completion with a tremulous and eager hope, which I dared not trust myself to question, but which was intermixed with obscure forebodings of evil, that made my heart sicken in my bosom.","group":"-1"},{"id":"1380","x":"4.7597246","y":"10.792269","name":"I sat one evening in my laboratory; the sun had set, and the moon was just rising from the sea; I had not sufficient light for my employment, and I remained idle, in a pause of consideration of whether I should leave my labour for the night, or hasten its conclusion by an unremitting attention to it.","group":"-1"},{"id":"1381","x":"5.7326794","y":"10.145193","name":"As I sat, a train of reflection occurred to me, which led me to consider the effects of what I was now doing.","group":"30"},{"id":"1382","x":"6.567027","y":"12.044996","name":"Three years before I was engaged in the same manner, and had created a fiend whose unparalleled barbarity had desolated my heart, and filled it for ever with the bitterest remorse.","group":"36"},{"id":"1383","x":"6.7466354","y":"12.359407","name":"I was now about to form another being, of whose dispositions I was alike ignorant; she might become ten thousand times more malignant than her mate, and delight, for its own sake, in murder and wretchedness.","group":"-1"},{"id":"1384","x":"9.286887","y":"9.172211","name":"He had sworn to quit the neighbourhood of man, and hide himself in deserts; but she had not; and she, who in all probability was to become a thinking and reasoning animal, might refuse to comply with a compact made before her creation.","group":"-1"},{"id":"1385","x":"7.172723","y":"11.917474","name":"They might even hate each other; the creature who already lived loathed his own deformity, and might he not conceive a greater abhorrence for it when it came before his eyes in the female form?","group":"40"},{"id":"1386","x":"9.430519","y":"9.083725","name":"She also might turn with disgust from him to the superior beauty of man; she might quit him, and he be again alone, exasperated by the fresh provocation of being deserted by one of his own species.","group":"-1"},{"id":"1387","x":"7.0739493","y":"12.3645525","name":"Even if they were to leave Europe, and inhabit the deserts of the new world, yet one of the first results of those sympathies for which the d\xe6mon thirsted would be children, and a race of devils would be propagated upon the earth, who might make the very existence of the species of man a condition precarious and full of terror.","group":"-1"},{"id":"1388","x":"6.878164","y":"12.277844","name":"I had before been moved by the sophisms of the being I had created; I had been struck senseless by his fiendish threats: but now, for the first time, the wickedness of my promise burst upon me; I shuddered to think that future ages might curse me as their pest, whose selfishness had not hesitated to buy its own peace at the price, perhaps, of the existence of the whole human race.","group":"-1"},{"id":"1389","x":"5.4196754","y":"10.108141","name":"I trembled, and my heart failed within me; when, on looking up, I saw, by the light of the moon, the d\xe6mon at the casement.","group":"30"},{"id":"1390","x":"8.847212","y":"11.108854","name":"A ghastly grin wrinkled his lips as he gazed on me, where I sat fulfilling the task which he had allotted to me.","group":"-1"},{"id":"1391","x":"6.372658","y":"8.961025","name":"Yes, he had followed me in my travels; he had loitered in forests, hid himself in caves, or taken refuge in wide and desert heaths; and he now came to mark my progress, and claim the fulfilment of my promise.","group":"-1"},{"id":"1392","x":"6.5190215","y":"12.079397","name":"I thought with a sensation of madness on my promise of creating another like to him, and trembling with passion, tore to pieces the thing on which I was engaged.","group":"36"},{"id":"1393","x":"5.76015","y":"11.400618","name":"The wretch saw me destroy the creature on whose future existence he depended for happiness, and, with a howl of devilish despair and revenge, withdrew.","group":"-1"},{"id":"1394","x":"5.4254875","y":"9.742926","name":"I left the room, and, locking the door, made a solemn vow in my own heart never to resume my labours; and then, with trembling steps, I sought my own apartment.","group":"30"},{"id":"1395","x":"5.7973104","y":"10.738364","name":"I was alone; none were near me to dissipate the gloom, and relieve me from the sickening oppression of the most terrible reveries.","group":"-1"},{"id":"1396","x":"4.558688","y":"8.86996","name":"Several hours passed, and I remained near my window gazing on the sea; it was almost motionless, for the winds were hushed, and all nature reposed under the eye of the quiet moon.","group":"21"},{"id":"1397","x":"5.1492686","y":"8.249733","name":"A few fishing vessels alone specked the water, and now and then the gentle breeze wafted the sound of voices, as the fishermen called to one another.","group":"21"},{"id":"1398","x":"4.754213","y":"9.130181","name":"I felt the silence, although I was hardly conscious of its extreme profundity, until my ear was suddenly arrested by the paddling of oars near the shore, and a person landed close to my house.","group":"21"},{"id":"1399","x":"5.345412","y":"9.972413","name":"In a few minutes after, I heard the creaking of my door, as if some one endeavoured to open it softly.","group":"-1"},{"id":"1400","x":"5.718214","y":"10.351941","name":"I trembled from head to foot; I felt a presentiment of who it was, and wished to rouse one of the peasants who dwelt in a cottage not far from mine; but I was overcome by the sensation of helplessness, so often felt in frightful dreams, when you in vain endeavour to fly from an impending danger, and was rooted to the spot.","group":"-1"},{"id":"1401","x":"5.302636","y":"10.16031","name":"Presently I heard the sound of footsteps along the passage; the door opened, and the wretch whom I dreaded appeared.","group":"-1"},{"id":"1402","x":"7.1647935","y":"12.064594","name":"Shutting the door, he approached me, and said, in a smothered voice--  \\"You have destroyed the work which you began; what is it that you intend?","group":"40"},{"id":"1403","x":"4.429276","y":"8.291711","name":"I have endured toil and misery: I left Switzerland with you; I crept along the shores of the Rhine, among its willow islands, and over the summits of its hills.","group":"-1"},{"id":"1404","x":"7.9721947","y":"12.406217","name":"I do break my promise; never will I create another like yourself, equal in deformity and wickedness.\\"","group":"-1"},{"id":"1405","x":"7.773426","y":"12.514602","name":"Remember that I have power; you believe yourself miserable, but I can make you so wretched that the light of day will be hateful to you.","group":"31"},{"id":"1406","x":"8.089735","y":"12.273395","name":"Your threats cannot move me to do an act of wickedness; but they confirm me in a determination of not creating you a companion in vice.","group":"-1"},{"id":"1407","x":"7.360935","y":"12.377988","name":"Shall I, in cool blood, set loose upon the earth a d\xe6mon, whose delight is in death and wretchedness?","group":"-1"},{"id":"1408","x":"8.382564","y":"9.536758","name":"\\"Shall each man,\\" cried he, \\"find a wife for his bosom, and each beast have his mate, and I be alone?","group":"-1"},{"id":"1409","x":"6.6056995","y":"10.789564","name":"your hours will pass in dread and misery, and soon the bolt will fall which must ravish from you your happiness for ever.","group":"-1"},{"id":"1410","x":"5.2895384","y":"8.20291","name":"In a few moments I saw him in his boat, which shot across the waters with an arrowy swiftness, and was soon lost amidst the waves.","group":"21"},{"id":"1411","x":"5.4267173","y":"10.498088","name":"I walked up and down my room hastily and perturbed, while my imagination conjured up a thousand images to torment and sting me.","group":"30"},{"id":"1412","x":"8.632531","y":"11.273726","name":"And then I thought again of his words--\\"_I will be with you on your wedding-night._\\" That then was the period fixed for the fulfilment of my destiny.","group":"15"},{"id":"1413","x":"9.440717","y":"10.445698","name":"The prospect did not move me to fear; yet when I thought of my beloved Elizabeth,--of her tears and endless sorrow, when she should find her lover so barbarously snatched from her,--tears, the first I had shed for many months, streamed from my eyes, and I resolved not to fall before my enemy without a bitter struggle.","group":"12"},{"id":"1414","x":"6.1782627","y":"9.762978","name":"The night passed away, and the sun rose from the ocean; my feelings became calmer, if it may be called calmness when the violence of rage sinks into the depths of despair.","group":"-1"},{"id":"1415","x":"5.290767","y":"8.3482","name":"I left the house, the horrid scene of the last night\'s contention, and walked on the beach of the sea, which I almost regarded as an insuperable barrier between me and my fellow-creatures; nay, a wish that such should prove the fact stole across me.","group":"21"},{"id":"1416","x":"6.403405","y":"10.310133","name":"I desired that I might pass my life on that barren rock, wearily, it is true, but uninterrupted by any sudden shock of misery.","group":"-1"},{"id":"1417","x":"7.355046","y":"11.937044","name":"If I returned, it was to be sacrificed, or to see those whom I most loved die under the grasp of a d\xe6mon whom I had myself created.","group":"40"},{"id":"1418","x":"5.575669","y":"10.6050005","name":"I walked about the isle like a restless spectre, separated from all it loved, and miserable in the separation.","group":"-1"},{"id":"1419","x":"5.134067","y":"9.7113285","name":"When it became noon, and the sun rose higher, I lay down on the grass, and was overpowered by a deep sleep.","group":"-1"},{"id":"1420","x":"5.207757","y":"10.424162","name":"I had been awake the whole of the preceding night, my nerves were agitated, and my eyes inflamed by watching and misery.","group":"-1"},{"id":"1421","x":"5.5730267","y":"10.334255","name":"The sleep into which I now sunk refreshed me; and when I awoke, I again felt as if I belonged to a race of human beings like myself, and I began to reflect upon what had passed with greater composure; yet still the words of the fiend rung in my ears like a death-knell, they appeared like a dream, yet distinct and oppressive as a reality.","group":"30"},{"id":"1422","x":"6.2811723","y":"8.201083","name":"The sun had far descended, and I still sat on the shore, satisfying my appetite, which had become ravenous, with an oaten cake, when I saw a fishing-boat land close to me, and one of the men brought me a packet; it contained letters from Geneva, and one from Clerval, entreating me to join him.","group":"14"},{"id":"1423","x":"7.136857","y":"8.2475195","name":"He said that he was wearing away his time fruitlessly where he was; that letters from the friends he had formed in London desired his return to complete the negotiation they had entered into for his Indian enterprise.","group":"14"},{"id":"1424","x":"7.2532587","y":"8.194386","name":"He could not any longer delay his departure; but as his journey to London might be followed, even sooner than he now conjectured, by his longer voyage, he entreated me to bestow as much of my society on him as I could spare.","group":"14"},{"id":"1425","x":"6.7139344","y":"8.064305","name":"He besought me, therefore, to leave my solitary isle, and to meet him at Perth, that we might proceed southwards together.","group":"14"},{"id":"1426","x":"6.451989","y":"10.999331","name":"This letter in a degree recalled me to life, and I determined to quit my island at the expiration of two days.","group":"38"},{"id":"1427","x":"5.375217","y":"11.597997","name":"Yet, before I departed, there was a task to perform, on which I shuddered to reflect: I must pack up my chemical instruments; and for that purpose I must enter the room which had been the scene of my odious work, and I must handle those utensils, the sight of which was sickening to me.","group":"-1"},{"id":"1428","x":"4.9002233","y":"10.557745","name":"The next morning, at daybreak, I summoned sufficient courage, and unlocked the door of my laboratory.","group":"-1"},{"id":"1429","x":"6.010396","y":"11.8968115","name":"The remains of the half-finished creature, whom I had destroyed, lay scattered on the floor, and I almost felt as if I had mangled the living flesh of a human being.","group":"-1"},{"id":"1430","x":"4.770737","y":"9.047649","name":"With trembling hand I conveyed the instruments out of the room; but I reflected that I ought not to leave the relics of my work to excite the horror and suspicion of the peasants; and I accordingly put them into a basket, with a great quantity of stones, and, laying them up, determined to throw them into the sea that very night; and in the mean time I sat upon the beach, employed in cleaning and arranging my chemical apparatus.","group":"-1"},{"id":"1431","x":"5.7805004","y":"10.533678","name":"Nothing could be more complete than the alteration that had taken place in my feelings since the night of the appearance of the d\xe6mon.","group":"-1"},{"id":"1432","x":"6.288149","y":"11.327073","name":"I had before regarded my promise with a gloomy despair, as a thing that, with whatever consequences, must be fulfilled; but I now felt as if a film had been taken from before my eyes, and that I, for the first time, saw clearly.","group":"35"},{"id":"1433","x":"5.939018","y":"11.545711","name":"The idea of renewing my labours did not for one instant occur to me; the threat I had heard weighed on my thoughts, but I did not reflect that a voluntary act of mine could avert it.","group":"-1"},{"id":"1434","x":"6.6486917","y":"12.24971","name":"I had resolved in my own mind, that to create another like the fiend I had first made would be an act of the basest and most atrocious selfishness; and I banished from my mind every thought that could lead to a different conclusion.","group":"36"},{"id":"1435","x":"4.4610124","y":"8.951695","name":"Between two and three in the morning the moon rose; and I then, putting my basket aboard a little skiff, sailed out about four miles from the shore.","group":"21"},{"id":"1436","x":"5.1836267","y":"8.518722","name":"The scene was perfectly solitary: a few boats were returning towards land, but I sailed away from them.","group":"19"},{"id":"1437","x":"5.8235536","y":"11.205131","name":"I felt as if I was about the commission of a dreadful crime, and avoided with shuddering anxiety any encounter with my fellow-creatures.","group":"34"},{"id":"1438","x":"4.4736667","y":"8.954155","name":"At one time the moon, which had before been clear, was suddenly overspread by a thick cloud, and I took advantage of the moment of darkness, and cast my basket into the sea: I listened to the gurgling sound as it sunk, and then sailed away from the spot.","group":"21"},{"id":"1439","x":"4.616952","y":"8.519803","name":"The sky became clouded; but the air was pure, although chilled by the north-east breeze that was then rising.","group":"-1"},{"id":"1440","x":"5.091232","y":"8.343667","name":"But it refreshed me, and filled me with such agreeable sensations, that I resolved to prolong my stay on the water; and, fixing the rudder in a direct position, stretched myself at the bottom of the boat.","group":"21"},{"id":"1441","x":"4.43618","y":"9.003842","name":"Clouds hid the moon, every thing was obscure, and I heard only the sound of the boat, as its keel cut through the waves; the murmur lulled me, and in a short time I slept soundly.","group":"21"},{"id":"1442","x":"4.918107","y":"9.559737","name":"I do not know how long I remained in this situation, but when I awoke I found that the sun had already mounted considerably.","group":"-1"},{"id":"1443","x":"4.970999","y":"8.123222","name":"I found that the wind was north-east, and must have driven me far from the coast from which I had embarked.","group":"-1"},{"id":"1444","x":"4.9583726","y":"7.855308","name":"I endeavoured to change my course, but quickly found that, if I again made the attempt, the boat would be instantly filled with water.","group":"-1"},{"id":"1445","x":"5.346888","y":"8.45365","name":"I had no compass with me, and was so slenderly acquainted with the geography of this part of the world, that the sun was of little benefit to me.","group":"-1"},{"id":"1446","x":"4.8242016","y":"7.4742174","name":"I might be driven into the wide Atlantic, and feel all the tortures of starvation, or be swallowed up in the immeasurable waters that roared and buffeted around me.","group":"20"},{"id":"1447","x":"5.1704965","y":"10.251649","name":"I had already been out many hours, and felt the torment of a burning thirst, a prelude to my other sufferings.","group":"-1"},{"id":"1448","x":"4.630061","y":"9.210512","name":"I looked on the heavens, which were covered by clouds that flew before the wind, only to be replaced by others: I looked upon the sea, it was to be my grave.","group":"21"},{"id":"1449","x":"9.131764","y":"10.354798","name":"I thought of Elizabeth, of my father, and of Clerval; all left behind, on whom the monster might satisfy his sanguinary and merciless passions.","group":"-1"},{"id":"1450","x":"5.9199414","y":"11.275576","name":"This idea plunged me into a reverie, so despairing and frightful, that even now, when the scene is on the point of closing before me for ever, I shudder to reflect on it.","group":"-1"},{"id":"1451","x":"4.607611","y":"8.574248","name":"Some hours passed thus; but by degrees, as the sun declined towards the horizon, the wind died away into a gentle breeze, and the sea became free from breakers.","group":"21"},{"id":"1452","x":"4.263859","y":"8.243616","name":"But these gave place to a heavy swell: I felt sick, and hardly able to hold the rudder, when suddenly I saw a line of high land towards the south.","group":"-1"},{"id":"1453","x":"6.3661947","y":"9.854352","name":"Almost spent, as I was, by fatigue, and the dreadful suspense I endured for several hours, this sudden certainty of life rushed like a flood of warm joy to my heart, and tears gushed from my eyes.","group":"32"},{"id":"1454","x":"6.7655296","y":"10.435806","name":"How mutable are our feelings, and how strange is that clinging love we have of life even in the excess of misery!","group":"37"},{"id":"1455","x":"3.9824975","y":"8.22406","name":"It had a wild and rocky appearance; but, as I approached nearer, I easily perceived the traces of cultivation.","group":"18"},{"id":"1456","x":"5.310752","y":"8.886409","name":"I saw vessels near the shore, and found myself suddenly transported back to the neighbourhood of civilised man.","group":"19"},{"id":"1457","x":"3.80574","y":"8.109787","name":"I carefully traced the windings of the land, and hailed a steeple which I at length saw issuing from behind a small promontory.","group":"18"},{"id":"1458","x":"5.6568303","y":"7.578628","name":"As I was in a state of extreme debility, I resolved to sail directly towards the town, as a place where I could most easily procure nourishment.","group":"10"},{"id":"1459","x":"5.5711274","y":"8.947734","name":"As I turned the promontory, I perceived a small neat town and a good harbour, which I entered, my heart bounding with joy at my unexpected escape.","group":"-1"},{"id":"1460","x":"5.4796243","y":"7.8109536","name":"As I was occupied in fixing the boat and arranging the sails, several people crowded towards the spot.","group":"21"},{"id":"1461","x":"8.159397","y":"10.38334","name":"They seemed much surprised at my appearance; but, instead of offering me any assistance, whispered together with gestures that at any other time might have produced in me a slight sensation of alarm.","group":"27"},{"id":"1462","x":"8.136937","y":"8.172659","name":"As it was, I merely remarked that they spoke English; and I therefore addressed them in that language: \\"My good friends,\\" said I, \\"will you be so kind as to tell me the name of this town, and inform me where I am?\\"","group":"7"},{"id":"1463","x":"8.388919","y":"10.747589","name":"\\"May be you are come to a place that will not prove much to your taste; but you will not be consulted as to your quarters, I promise you.\\"","group":"-1"},{"id":"1464","x":"8.103521","y":"10.917572","name":"I was exceedingly surprised on receiving so rude an answer from a stranger; and I was also disconcerted on perceiving the frowning and angry countenances of his companions.","group":"-1"},{"id":"1465","x":"8.266468","y":"9.422055","name":"\\"I do not know,\\" said the man, \\"what the custom of the English may be; but is the custom of the Irish to hate villains.\\"","group":"-1"},{"id":"1466","x":"8.293721","y":"10.995939","name":"Their faces expressed a mixture of curiosity and anger, which annoyed, and in some degree alarmed me.","group":"-1"},{"id":"1467","x":"9.1028805","y":"10.946914","name":"I then moved forward, and a murmuring sound arose from the crowd as they followed and surrounded me; when an ill-looking man approaching, tapped me on the shoulder, and said, \\"Come, Sir, you must follow me to Mr. Kirwin\'s, to give an account of yourself.\\"","group":"-1"},{"id":"1468","x":"9.219436","y":"11.268837","name":"Mr. Kirwin is a magistrate; and you are to give an account of the death of a gentleman who was found murdered here last night.\\"","group":"-1"},{"id":"1469","x":"9.763145","y":"11.462451","name":"I was innocent; that could easily be proved: accordingly I followed my conductor in silence, and was led to one of the best houses in the town.","group":"-1"},{"id":"1470","x":"6.3221474","y":"10.469611","name":"I was ready to sink from fatigue and hunger; but, being surrounded by a crowd, I thought it politic to rouse all my strength, that no physical debility might be construed into apprehension or conscious guilt.","group":"-1"},{"id":"1471","x":"5.848527","y":"11.191968","name":"Little did I then expect the calamity that was in a few moments to overwhelm me, and extinguish in horror and despair all fear of ignominy or death.","group":"34"},{"id":"1472","x":"5.699088","y":"11.177899","name":"I must pause here; for it requires all my fortitude to recall the memory of the frightful events which I am about to relate, in proper detail, to my recollection.","group":"34"},{"id":"1473","x":"8.532388","y":"9.007289","name":"I was soon introduced into the presence of the magistrate, an old benevolent man, with calm and mild manners.","group":"22"},{"id":"1474","x":"9.029498","y":"11.404617","name":"He looked upon me, however, with some degree of severity: and then, turning towards my conductors, he asked who appeared as witnesses on this occasion.","group":"15"},{"id":"1475","x":"5.467291","y":"8.175247","name":"About half a dozen men came forward; and, one being selected by the magistrate, he deposed, that he had been out fishing the night before with his son and brother-in-law, Daniel Nugent, when, about ten o\'clock, they observed a strong northerly blast rising, and they accordingly put in for port.","group":"21"},{"id":"1476","x":"4.4489827","y":"8.98222","name":"It was a very dark night, as the moon had not yet risen; they did not land at the harbour, but, as they had been accustomed, at a creek about two miles below.","group":"21"},{"id":"1477","x":"5.6678963","y":"7.839887","name":"He walked on first, carrying a part of the fishing tackle, and his companions followed him at some distance.","group":"21"},{"id":"1478","x":"5.0573006","y":"8.2488575","name":"As he was proceeding along the sands, he struck his foot against something, and fell at his length on the ground.","group":"21"},{"id":"1479","x":"5.8224397","y":"8.146873","name":"His companions came up to assist him; and, by the light of their lantern, they found that he had fallen on the body of a man, who was to all appearance dead.","group":"-1"},{"id":"1480","x":"5.602563","y":"8.27959","name":"Their first supposition was, that it was the corpse of some person who had been drowned, and was thrown on shore by the waves; but, on examination, they found that the clothes were not wet, and even that the body was not then cold.","group":"21"},{"id":"1481","x":"5.533677","y":"8.859976","name":"They instantly carried it to the cottage of an old woman near the spot, and endeavoured, but in vain, to restore it to life.","group":"-1"},{"id":"1482","x":"9.641851","y":"10.932046","name":"He had apparently been strangled; for there was no sign of any violence, except the black mark of fingers on his neck.","group":"-1"},{"id":"1483","x":"9.022478","y":"11.406153","name":"The first part of this deposition did not in the least interest me; but when the mark of the fingers was mentioned, I remembered the murder of my brother, and felt myself extremely agitated; my limbs trembled, and a mist came over my eyes, which obliged me to lean on a chair for support.","group":"15"},{"id":"1484","x":"8.930134","y":"11.427366","name":"The magistrate observed me with a keen eye, and of course drew an unfavourable augury from my manner.","group":"15"},{"id":"1485","x":"5.4403358","y":"8.312741","name":"The son confirmed his father\'s account: but when Daniel Nugent was called, he swore positively that, just before the fall of his companion, he saw a boat, with a single man in it, at a short distance from the shore; and, as far as he could judge by the light of a few stars, it was the same boat in which I had just landed.","group":"21"},{"id":"1486","x":"5.6043887","y":"8.295154","name":"A woman deposed, that she lived near the beach, and was standing at the door of her cottage, waiting for the return of the fishermen, about an hour before she heard of the discovery of the body, when she saw a boat, with only one man in it, push off from that part of the shore where the corpse was afterwards found.","group":"21"},{"id":"1487","x":"5.7029533","y":"8.368592","name":"Another woman confirmed the account of the fishermen having brought the body into her house; it was not cold.","group":"-1"},{"id":"1488","x":"5.6440873","y":"8.918762","name":"They put it into a bed, and rubbed it; and Daniel went to the town for an apothecary, but life was quite gone.","group":"-1"},{"id":"1489","x":"4.9332886","y":"8.358526","name":"Several other men were examined concerning my landing; and they agreed, that, with the strong north wind that had arisen during the night, it was very probable that I had beaten about for many hours, and had been obliged to return nearly to the same spot from which I had departed.","group":"21"},{"id":"1490","x":"5.662344","y":"8.355975","name":"Besides, they observed that it appeared that I had brought the body from another place, and it was likely, that as I did not appear to know the shore, I might have put into the harbour ignorant of the distance of the town of * * * from the place where I had deposited the corpse.","group":"-1"},{"id":"1491","x":"9.088789","y":"11.052238","name":"Mr. Kirwin, on hearing this evidence, desired that I should be taken into the room where the body lay for interment, that it might be observed what effect the sight of it would produce upon me.","group":"-1"},{"id":"1492","x":"8.425424","y":"11.648631","name":"This idea was probably suggested by the extreme agitation I had exhibited when the mode of the murder had been described.","group":"-1"},{"id":"1493","x":"6.241106","y":"10.3542","name":"I could not help being struck by the strange coincidences that had taken place during this eventful night; but, knowing that I had been conversing with several persons in the island I had inhabited about the time that the body had been found, I was perfectly tranquil as to the consequences of the affair.","group":"33"},{"id":"1494","x":"5.9407926","y":"11.095073","name":"I feel yet parched with horror, nor can I reflect on that terrible moment without shuddering and agony.","group":"34"},{"id":"1495","x":"6.786477","y":"9.441778","name":"The examination, the presence of the magistrate and witnesses, passed like a dream from my memory, when I saw the lifeless form of Henry Clerval stretched before me.","group":"-1"},{"id":"1496","x":"8.55774","y":"12.055905","name":"I gasped for breath; and, throwing myself on the body, I exclaimed, \\"Have my murderous machinations deprived you also, my dearest Henry, of life?","group":"15"},{"id":"1497","x":"6.366315","y":"11.6402645","name":"Two I have already destroyed; other victims await their destiny: but you, Clerval, my friend, my benefactor----\\"  The human frame could no longer support the agonies that I endured, and I was carried out of the room in strong convulsions.","group":"-1"},{"id":"1498","x":"8.741243","y":"11.821035","name":"I lay for two months on the point of death: my ravings, as I afterwards heard, were frightful; I called myself the murderer of William, of Justine, and of Clerval.","group":"15"},{"id":"1499","x":"6.355973","y":"11.751094","name":"Sometimes I entreated my attendants to assist me in the destruction of the fiend by whom I was tormented; and at others, I felt the fingers of the monster already grasping my neck, and screamed aloud with agony and terror.","group":"-1"},{"id":"1500","x":"8.128945","y":"8.175683","name":"Fortunately, as I spoke my native language, Mr. Kirwin alone understood me; but my gestures and bitter cries were sufficient to affright the other witnesses.","group":"7"},{"id":"1501","x":"6.9990635","y":"12.660483","name":"Death snatches away many blooming children, the only hopes of their doating parents: how many brides and youthful lovers have been one day in the bloom of health and hope, and the next a prey for worms and the decay of the tomb!","group":"-1"},{"id":"1502","x":"5.833668","y":"11.868193","name":"Of what materials was I made, that I could thus resist so many shocks, which, like the turning of the wheel, continually renewed the torture?","group":"-1"},{"id":"1503","x":"6.593035","y":"10.6317835","name":"But I was doomed to live; and, in two months, found myself as awaking from a dream, in a prison, stretched on a wretched bed, surrounded by gaolers, turnkeys, bolts, and all the miserable apparatus of a dungeon.","group":"37"},{"id":"1504","x":"5.3889017","y":"10.207951","name":"It was morning, I remember, when I thus awoke to understanding: I had forgotten the particulars of what had happened, and only felt as if some great misfortune had suddenly overwhelmed me; but when I looked around, and saw the barred windows, and the squalidness of the room in which I was, all flashed across my memory, and I groaned bitterly.","group":"30"},{"id":"1505","x":"9.696939","y":"10.004057","name":"She was a hired nurse, the wife of one of the turnkeys, and her countenance expressed all those bad qualities which often characterise that class.","group":"12"},{"id":"1506","x":"9.602118","y":"9.838017","name":"The lines of her face were hard and rude, like that of persons accustomed to see without sympathising in sights of misery.","group":"-1"},{"id":"1507","x":"8.776975","y":"10.129891","name":"Her tone expressed her entire indifference; she addressed me in English, and the voice struck me as one that I had heard during my sufferings:--  \\"Are you better now, sir?\\"","group":"-1"},{"id":"1508","x":"5.5992303","y":"10.6419","name":"I replied in the same language, with a feeble voice, \\"I believe I am; but if it be all true, if indeed I did not dream, I am sorry that I am still alive to feel this misery and horror.\\"","group":"-1"},{"id":"1509","x":"8.384489","y":"12.115423","name":"\\"For that matter,\\" replied the old woman, \\"if you mean about the gentleman you murdered, I believe that it were better for you if you were dead, for I fancy it will go hard with you!","group":"-1"},{"id":"1510","x":"8.489667","y":"10.266391","name":"However, that\'s none of my business; I am sent to nurse you, and get you well; I do my duty with a safe conscience; it were well if every body did the same.\\"","group":"27"},{"id":"1511","x":"9.390207","y":"10.568894","name":"I turned with loathing from the woman who could utter so unfeeling a speech to a person just saved, on the very edge of death; but I felt languid, and unable to reflect on all that had passed.","group":"-1"},{"id":"1512","x":"5.6303177","y":"10.286798","name":"The whole series of my life appeared to me as a dream; I sometimes doubted if indeed it were all true, for it never presented itself to my mind with the force of reality.","group":"30"},{"id":"1513","x":"5.459913","y":"10.2377615","name":"As the images that floated before me became more distinct, I grew feverish; a darkness pressed around me: no one was near me who soothed me with the gentle voice of love; no dear hand supported me.","group":"30"},{"id":"1514","x":"9.61078","y":"10.045109","name":"The physician came and prescribed medicines, and the old woman prepared them for me; but utter carelessness was visible in the first, and the expression of brutality was strongly marked in the visage of the second.","group":"-1"},{"id":"1515","x":"7.301635","y":"10.121002","name":"He had caused the best room in the prison to be prepared for me (wretched indeed was the best); and it was he who had provided a physician and a nurse.","group":"-1"},{"id":"1516","x":"6.972116","y":"12.198136","name":"It is true, he seldom came to see me; for, although he ardently desired to relieve the sufferings of every human creature, he did not wish to be present at the agonies and miserable ravings of a murderer.","group":"39"},{"id":"1517","x":"6.7575936","y":"8.923942","name":"He came, therefore, sometimes, to see that I was not neglected; but his visits were short, and with long intervals.","group":"-1"},{"id":"1518","x":"6.184059","y":"10.788317","name":"One day, while I was gradually recovering, I was seated in a chair, my eyes half open, and my cheeks livid like those in death.","group":"-1"},{"id":"1519","x":"6.556275","y":"11.012933","name":"I was overcome by gloom and misery, and often reflected I had better seek death than desire to remain in a world which to me was replete with wretchedness.","group":"38"},{"id":"1520","x":"9.547154","y":"11.429381","name":"At one time I considered whether I should not declare myself guilty, and suffer the penalty of the law, less innocent than poor Justine had been.","group":"-1"},{"id":"1521","x":"8.654907","y":"10.061738","name":"His countenance expressed sympathy and compassion; he drew a chair close to mine, and addressed me in French--  \\"I fear that this place is very shocking to you; can I do any thing to make you more comfortable?\\"","group":"-1"},{"id":"1522","x":"8.190354","y":"10.571507","name":"\\"I thank you; but all that you mention is nothing to me: on the whole earth there is no comfort which I am capable of receiving.\\"","group":"27"},{"id":"1523","x":"7.841299","y":"10.737077","name":"\\"I know that the sympathy of a stranger can be but of little relief to one borne down as you are by so strange a misfortune.","group":"-1"},{"id":"1524","x":"9.632588","y":"11.522062","name":"But you will, I hope, soon quit this melancholy abode; for, doubtless, evidence can easily be brought to free you from the criminal charge.\\"","group":"-1"},{"id":"1525","x":"7.5961165","y":"11.11544","name":"\\"That is my least concern: I am, by a course of strange events, become the most miserable of mortals.","group":"25"},{"id":"1526","x":"7.466415","y":"10.757592","name":"\\"Nothing indeed could be more unfortunate and agonising than the strange chances that have lately occurred.","group":"-1"},{"id":"1527","x":"9.078041","y":"11.544094","name":"You were thrown, by some surprising accident, on this shore, renowned for its hospitality; seized immediately, and charged with murder.","group":"-1"},{"id":"1528","x":"9.019606","y":"11.564597","name":"The first sight that was presented to your eyes was the body of your friend, murdered in so unaccountable a manner, and placed, as it were, by some fiend across your path.\\"","group":"-1"},{"id":"1529","x":"7.645775","y":"10.09523","name":"As Mr. Kirwin said this, notwithstanding the agitation I endured on this retrospect of my sufferings, I also felt considerable surprise at the knowledge he seemed to possess concerning me.","group":"28"},{"id":"1530","x":"8.932991","y":"10.849056","name":"I suppose some astonishment was exhibited in my countenance; for Mr. Kirwin hastened to say--  \\"Immediately upon your being taken ill, all the papers that were on your person were brought me, and I examined them that I might discover some trace by which I could send to your relations an account of your misfortune and illness.","group":"-1"},{"id":"1531","x":"7.528244","y":"9.350731","name":"I found several letters, and, among others, one which I discovered from its commencement to be from your father.","group":"-1"},{"id":"1532","x":"8.808276","y":"10.389489","name":"I instantly wrote to Geneva: nearly two months have elapsed since the departure of my letter.--But you are ill; even now you tremble: you are unfit for agitation of any kind.\\"","group":"-1"},{"id":"1533","x":"9.00719","y":"11.341381","name":"\\"This suspense is a thousand times worse than the most horrible event: tell me what new scene of death has been acted, and whose murder I am now to lament?\\"","group":"-1"},{"id":"1534","x":"8.431961","y":"10.330247","name":"\\"Your family is perfectly well,\\" said Mr. Kirwin, with gentleness; \\"and some one, a friend, is come to visit you.\\"","group":"27"},{"id":"1535","x":"8.588386","y":"11.898857","name":"I know not by what chain of thought, the idea presented itself, but it instantly darted into my mind that the murderer had come to mock at my misery, and taunt me with the death of Clerval, as a new incitement for me to comply with his hellish desires.","group":"15"},{"id":"1536","x":"7.7239203","y":"10.533419","name":"He could not help regarding my exclamation as a presumption of my guilt, and said, in rather a severe tone--  \\"I should have thought, young man, that the presence of your father would have been welcome, instead of inspiring such violent repugnance.\\"","group":"-1"},{"id":"1537","x":"7.1002645","y":"9.802356","name":"cried I, while every feature and every muscle was relaxed from anguish to pleasure: \\"is my father indeed come?","group":"29"},{"id":"1538","x":"7.1248527","y":"9.650199","name":"My change of manner surprised and pleased the magistrate; perhaps he thought that my former exclamation was a momentary return of delirium, and now he instantly resumed his former benevolence.","group":"29"},{"id":"1539","x":"7.133701","y":"10.119249","name":"My father calmed me with assurances of their welfare, and endeavoured, by dwelling on these subjects so interesting to my heart, to raise my desponding spirits; but he soon felt that a prison cannot be the abode of cheerfulness.","group":"-1"},{"id":"1540","x":"8.7853","y":"11.794105","name":"And poor Clerval--\\"  The name of my unfortunate and murdered friend was an agitation too great to be endured in my weak state; I shed tears.","group":"15"},{"id":"1541","x":"8.146774","y":"12.19339","name":"yes, my father,\\" replied I; \\"some destiny of the most horrible kind hangs over me, and I must live to fulfil it, or surely I should have died on the coffin of Henry.\\"","group":"-1"},{"id":"1542","x":"8.599033","y":"10.293538","name":"We were not allowed to converse for any length of time, for the precarious state of my health rendered every precaution necessary that could ensure tranquillity.","group":"-1"},{"id":"1543","x":"7.162011","y":"9.850406","name":"But the appearance of my father was to me like that of my good angel, and I gradually recovered my health.","group":"-1"},{"id":"1544","x":"6.041584","y":"10.8942795","name":"As my sickness quitted me, I was absorbed by a gloomy and black melancholy, that nothing could dissipate.","group":"34"},{"id":"1545","x":"6.099156","y":"11.284495","name":"More than once the agitation into which these reflections threw me made my friends dread a dangerous relapse.","group":"35"},{"id":"1546","x":"7.2219076","y":"11.125578","name":"very soon, will death extinguish these throbbings, and relieve me from the mighty weight of anguish that bears me to the dust; and, in executing the award of justice, I shall also sink to rest.","group":"-1"},{"id":"1547","x":"6.348456","y":"11.371559","name":"Then the appearance of death was distant, although the wish was ever present to my thoughts; and I often sat for hours motionless and speechless, wishing for some mighty revolution that might bury me and my destroyer in its ruins.","group":"35"},{"id":"1548","x":"6.6450124","y":"10.523249","name":"I had already been three months in prison; and although I was still weak, and in continual danger of a relapse, I was obliged to travel nearly a hundred miles to the county-town, where the court was held.","group":"37"},{"id":"1549","x":"9.547574","y":"11.486185","name":"I was spared the disgrace of appearing publicly as a criminal, as the case was not brought before the court that decides on life and death.","group":"-1"},{"id":"1550","x":"9.457959","y":"11.468468","name":"The grand jury rejected the bill, on its being proved that I was on the Orkney Islands at the hour the body of my friend was found; and a fortnight after my removal I was liberated from prison.","group":"-1"},{"id":"1551","x":"7.14923","y":"9.711836","name":"My father was enraptured on finding me freed from the vexations of a criminal charge, that I was again allowed to breathe the fresh atmosphere, and permitted to return to my native country.","group":"29"},{"id":"1552","x":"5.6793833","y":"10.880031","name":"I did not participate in these feelings; for to me the walls of a dungeon or a palace were alike hateful.","group":"-1"},{"id":"1553","x":"6.004903","y":"10.600481","name":"The cup of life was poisoned for ever; and although the sun shone upon me, as upon the happy and gay of heart, I saw around me nothing but a dense and frightful darkness, penetrated by no light but the glimmer of two eyes that glared upon me.","group":"-1"},{"id":"1554","x":"5.0046024","y":"10.23121","name":"Sometimes they were the expressive eyes of Henry, languishing in death, the dark orbs nearly covered by the lids, and the long black lashes that fringed them; sometimes it was the watery, clouded eyes of the monster, as I first saw them in my chamber at Ingolstadt.","group":"-1"},{"id":"1555","x":"9.210903","y":"10.258806","name":"He talked of Geneva, which I should soon visit--of Elizabeth and Ernest; but these words only drew deep groans from me.","group":"-1"},{"id":"1556","x":"6.5382247","y":"9.812423","name":"Sometimes, indeed, I felt a wish for happiness; and thought, with melancholy delight, of my beloved cousin; or longed, with a devouring _maladie du pays_, to see once more the blue lake and rapid Rhone, that had been so dear to me in early childhood: but my general state of feeling was a torpor, in which a prison was as welcome a residence as the divinest scene in nature; and these fits were seldom interrupted but by paroxysms of anguish and despair.","group":"-1"},{"id":"1557","x":"6.4655004","y":"11.524311","name":"At these moments I often endeavoured to put an end to the existence I loathed; and it required unceasing attendance and vigilance to restrain me from committing some dreadful act of violence.","group":"-1"},{"id":"1558","x":"6.633711","y":"8.635462","name":"It was necessary that I should return without delay to Geneva, there to watch over the lives of those I so fondly loved; and to lie in wait for the murderer, that if any chance led me to the place of his concealment, or if he dared again to blast me by his presence, I might, with unfailing aim, put an end to the existence of the monstrous Image which I had endued with the mockery of a soul still more monstrous.","group":"-1"},{"id":"1559","x":"5.926553","y":"10.933993","name":"My father still desired to delay our departure, fearful that I could not sustain the fatigues of a journey: for I was a shattered wreck,--the shadow of a human being.","group":"34"},{"id":"1560","x":"7.3078547","y":"8.193623","name":"Still, as I urged our leaving Ireland with such inquietude and impatience, my father thought it best to yield.","group":"14"},{"id":"1561","x":"5.334816","y":"7.9259224","name":"We took our passage on board a vessel bound for Havre-de-Grace, and sailed with a fair wind from the Irish shores.","group":"21"},{"id":"1562","x":"6.5427203","y":"8.454659","name":"I hailed the darkness that shut Ireland from my sight; and my pulse beat with a feverish joy when I reflected that I should soon see Geneva.","group":"14"},{"id":"1563","x":"6.5192566","y":"9.667158","name":"The past appeared to me in the light of a frightful dream; yet the vessel in which I was, the wind that blew me from the detested shore of Ireland, and the sea which surrounded me, told me too forcibly that I was deceived by no vision, and that Clerval, my friend and dearest companion, had fallen a victim to me and the monster of my creation.","group":"-1"},{"id":"1564","x":"6.883928","y":"8.562025","name":"I repassed, in my memory, my whole life; my quiet happiness while residing with my family in Geneva, the death of my mother, and my departure for Ingolstadt.","group":"14"},{"id":"1565","x":"6.4956775","y":"12.293687","name":"I remembered, shuddering, the mad enthusiasm that hurried me on to the creation of my hideous enemy, and I called to mind the night in which he first lived.","group":"-1"},{"id":"1566","x":"5.9747844","y":"11.066793","name":"I was unable to pursue the train of thought; a thousand feelings pressed upon me, and I wept bitterly.","group":"34"},{"id":"1567","x":"6.4897895","y":"9.7029","name":"Ever since my recovery from the fever, I had been in the custom of taking every night a small quantity of laudanum; for it was by means of this drug only that I was enabled to gain the rest necessary for the preservation of life.","group":"32"},{"id":"1568","x":"5.2592254","y":"10.46883","name":"Oppressed by the recollection of my various misfortunes, I now swallowed double my usual quantity, and soon slept profoundly.","group":"30"},{"id":"1569","x":"5.318708","y":"10.443383","name":"But sleep did not afford me respite from thought and misery; my dreams presented a thousand objects that scared me.","group":"30"},{"id":"1570","x":"5.5364504","y":"10.428135","name":"Towards morning I was possessed by a kind of night-mare; I felt the fiend\'s grasp in my neck, and could not free myself from it; groans and cries rung in my ears.","group":"30"},{"id":"1571","x":"6.008558","y":"10.185029","name":"My father, who was watching over me, perceiving my restlessness, awoke me; the dashing waves were around: the cloudy sky above; the fiend was not here: a sense of security, a feeling that a truce was established between the present hour and the irresistible, disastrous future, imparted to me a kind of calm forgetfulness, of which the human mind is by its structure peculiarly susceptible.","group":"-1"},{"id":"1572","x":"5.954155","y":"11.073597","name":"I soon found that I had overtaxed my strength, and that I must repose before I could continue my journey.","group":"34"},{"id":"1573","x":"7.9074636","y":"10.306065","name":"My father\'s care and attentions were indefatigable; but he did not know the origin of my sufferings, and sought erroneous methods to remedy the incurable ill.","group":"-1"},{"id":"1574","x":"6.822792","y":"11.503866","name":"they were my brethren, my fellow beings, and I felt attracted even to the most repulsive among them, as to creatures of an angelic nature and celestial mechanism.","group":"-1"},{"id":"1575","x":"7.227643","y":"12.048571","name":"I had unchained an enemy among them, whose joy it was to shed their blood, and to revel in their groans.","group":"40"},{"id":"1576","x":"7.355257","y":"12.547456","name":"How they would, each and all, abhor me, and hunt me from the world, did they know my unhallowed acts, and the crimes which had their source in me!","group":"-1"},{"id":"1577","x":"7.490701","y":"10.439925","name":"My father yielded at length to my desire to avoid society, and strove by various arguments to banish my despair.","group":"26"},{"id":"1578","x":"8.618845","y":"11.882665","name":"Sometimes he thought that I felt deeply the degradation of being obliged to answer a charge of murder, and he endeavoured to prove to me the futility of pride.","group":"15"},{"id":"1579","x":"7.9101653","y":"11.116519","name":"Human beings, their feelings and passions, would indeed be degraded if such a wretch as I felt pride.","group":"-1"},{"id":"1580","x":"10.1234045","y":"11.014792","name":"Justine, poor unhappy Justine, was as innocent as I, and she suffered the same charge; she died for it; and I am the cause of this--I murdered her.","group":"5"},{"id":"1581","x":"6.8319597","y":"10.441482","name":"My father had often, during my imprisonment, heard me make the same assertion; when I thus accused myself, he sometimes seemed to desire an explanation, and at others he appeared to consider it as the offspring of delirium, and that, during my illness, some idea of this kind had presented itself to my imagination, the remembrance of which I preserved in my convalescence.","group":"-1"},{"id":"1582","x":"6.699245","y":"11.822906","name":"I had a persuasion that I should be supposed mad; and this in itself would for ever have chained my tongue.","group":"-1"},{"id":"1583","x":"6.0688505","y":"11.722808","name":"But, besides, I could not bring myself to disclose a secret which would fill my hearer with consternation, and make fear and unnatural horror the inmates of his breast.","group":"-1"},{"id":"1584","x":"7.3553286","y":"11.174532","name":"I checked, therefore, my impatient thirst for sympathy, and was silent when I would have given the world to have confided the fatal secret.","group":"-1"},{"id":"1585","x":"6.2432394","y":"10.867403","name":"I could offer no explanation of them; but their truth in part relieved the burden of my mysterious woe.","group":"-1"},{"id":"1586","x":"8.56813","y":"9.755564","name":"Upon this occasion my father said, with an expression of unbounded wonder, \\"My dearest Victor, what infatuation is this?","group":"-1"},{"id":"1587","x":"6.7811646","y":"9.8028555","name":"\\"I am not mad,\\" I cried energetically; \\"the sun and the heavens, who have viewed my operations, can bear witness of my truth.","group":"29"},{"id":"1588","x":"7.825287","y":"11.51918","name":"A thousand times would I have shed my own blood, drop by drop, to have saved their lives; but I could not, my father, indeed I could not sacrifice the whole human race.\\"","group":"-1"},{"id":"1589","x":"7.449133","y":"10.404628","name":"The conclusion of this speech convinced my father that my ideas were deranged, and he instantly changed the subject of our conversation, and endeavoured to alter the course of my thoughts.","group":"26"},{"id":"1590","x":"7.41498","y":"10.365535","name":"He wished as much as possible to obliterate the memory of the scenes that had taken place in Ireland, and never alluded to them, or suffered me to speak of my misfortunes.","group":"-1"},{"id":"1591","x":"6.5547843","y":"10.050043","name":"As time passed away I became more calm: misery had her dwelling in my heart, but I no longer talked in the same incoherent manner of my own crimes; sufficient for me was the consciousness of them.","group":"-1"},{"id":"1592","x":"7.0729904","y":"11.69021","name":"By the utmost self-violence, I curbed the imperious voice of wretchedness, which sometimes desired to declare itself to the whole world; and my manners were calmer and more composed than they had ever been since my journey to the sea of ice.","group":"-1"},{"id":"1593","x":"7.176163","y":"8.321252","name":"A few days before we left Paris on our way to Switzerland, I received the following letter from Elizabeth:--  \\"My dear Friend,  \\"It gave me the greatest pleasure to receive a letter from my uncle dated at Paris; you are no longer at a formidable distance, and I may hope to see you in less than a fortnight.","group":"14"},{"id":"1594","x":"4.9506364","y":"7.9261255","name":"This winter has been passed most miserably, tortured as I have been by anxious suspense; yet I hope to see peace in your countenance, and to find that your heart is not totally void of comfort and tranquillity.","group":"20"},{"id":"1595","x":"6.5883102","y":"10.362943","name":"\\"Yet I fear that the same feelings now exist that made you so miserable a year ago, even perhaps augmented by time.","group":"-1"},{"id":"1596","x":"8.375474","y":"10.513636","name":"I would not disturb you at this period, when so many misfortunes weigh upon you; but a conversation that I had with my uncle previous to his departure renders some explanation necessary before we meet.","group":"27"},{"id":"1597","x":"8.233755","y":"10.53154","name":"But you are distant from me, and it is possible that you may dread, and yet be pleased with this explanation; and, in a probability of this being the case, I dare not any longer postpone writing what, during your absence, I have often wished to express to you, but have never had the courage to begin.","group":"27"},{"id":"1598","x":"8.8794985","y":"9.636626","name":"\\"You well know, Victor, that our union had been the favourite plan of your parents ever since our infancy.","group":"-1"},{"id":"1599","x":"8.450941","y":"11.376942","name":"We were told this when young, and taught to look forward to it as an event that would certainly take place.","group":"15"},{"id":"1600","x":"8.602504","y":"9.424706","name":"We were affectionate playfellows during childhood, and, I believe, dear and valued friends to one another as we grew older.","group":"22"},{"id":"1601","x":"8.600097","y":"9.483361","name":"But as brother and sister often entertain a lively affection towards each other, without desiring a more intimate union, may not such also be our case?","group":"-1"},{"id":"1602","x":"7.043837","y":"8.507503","name":"\\"You have travelled; you have spent several years of your life at Ingolstadt; and I confess to you, my friend, that when I saw you last autumn so unhappy, flying to solitude, from the society of every creature, I could not help supposing that you might regret our connection, and believe yourself bound in honour to fulfil the wishes of your parents, although they opposed themselves to your inclinations.","group":"14"},{"id":"1603","x":"8.107483","y":"10.246268","name":"I confess to you, my friend, that I love you, and that in my airy dreams of futurity you have been my constant friend and companion.","group":"-1"},{"id":"1604","x":"8.492266","y":"11.023912","name":"But it is your happiness I desire as well as my own, when I declare to you, that our marriage would render me eternally miserable, unless it were the dictate of your own free choice.","group":"-1"},{"id":"1605","x":"7.8864555","y":"10.866136","name":"Even now I weep to think, that, borne down as you are by the cruellest misfortunes, you may stifle, by the word _honour_, all hope of that love and happiness which would alone restore you to yourself.","group":"25"},{"id":"1606","x":"7.6908755","y":"11.583053","name":"I, who have so disinterested an affection for you, may increase your miseries tenfold, by being an obstacle to your wishes.","group":"40"},{"id":"1607","x":"8.727413","y":"10.808793","name":"Victor, be assured that your cousin and playmate has too sincere a love for you not to be made miserable by this supposition.","group":"-1"},{"id":"1608","x":"7.7696714","y":"10.367065","name":"Be happy, my friend; and if you obey me in this one request, remain satisfied that nothing on earth will have the power to interrupt my tranquillity.","group":"-1"},{"id":"1609","x":"8.499138","y":"10.521246","name":"\\"Do not let this letter disturb you; do not answer to-morrow, or the next day, or even until you come, if it will give you pain.","group":"27"},{"id":"1610","x":"8.657984","y":"10.243047","name":"My uncle will send me news of your health; and if I see but one smile on your lips when we meet, occasioned by this or any other exertion of mine, I shall need no other happiness.","group":"-1"},{"id":"1611","x":"8.523104","y":"11.25369","name":"*       *       *       *       *  This letter revived in my memory what I had before forgotten, the threat of the fiend--\\"_I will be with you on your wedding night!_\\" Such was my sentence, and on that night would the d\xe6mon employ every art to destroy me, and tear me from the glimpse of happiness which promised partly to console my sufferings.","group":"-1"},{"id":"1612","x":"7.7109337","y":"12.440053","name":"Well, be it so; a deadly struggle would then assuredly take place, in which if he were victorious I should be at peace, and his power over me be at an end.","group":"31"},{"id":"1613","x":"6.399712","y":"9.682605","name":"such as the peasant enjoys when his family have been massacred before his eyes, his cottage burnt, his lands laid waste, and he is turned adrift, homeless, penniless, and alone, but free.","group":"-1"},{"id":"1614","x":"9.327701","y":"10.464056","name":"I read and re-read her letter, and some softened feelings stole into my heart, and dared to whisper paradisiacal dreams of love and joy; but the apple was already eaten, and the angel\'s arm bared to drive me from all hope.","group":"12"},{"id":"1615","x":"8.541873","y":"11.27347","name":"If the monster executed his threat, death was inevitable; yet, again, I considered whether my marriage would hasten my fate.","group":"15"},{"id":"1616","x":"7.5717263","y":"12.474814","name":"My destruction might indeed arrive a few months sooner; but if my torturer should suspect that I postponed it, influenced by his menaces, he would surely find other, and perhaps more dreadful means of revenge.","group":"31"},{"id":"1617","x":"8.597576","y":"11.4805565","name":"He had vowed _to be with me on my wedding-night_, yet he did not consider that threat as binding him to peace in the mean time; for, as if to show me that he was not yet satiated with blood, he had murdered Clerval immediately after the enunciation of his threats.","group":"-1"},{"id":"1618","x":"8.754609","y":"11.014214","name":"I resolved, therefore, that if my immediate union with my cousin would conduce either to hers or my father\'s happiness, my adversary\'s designs against my life should not retard it a single hour.","group":"15"},{"id":"1619","x":"8.34853","y":"10.3257","name":"\\"I fear, my beloved girl,\\" I said, \\"little happiness remains for us on earth; yet all that I may one day enjoy is centred in you.","group":"27"},{"id":"1620","x":"9.513392","y":"10.296044","name":"I have one secret, Elizabeth, a dreadful one; when revealed to you, it will chill your frame with horror, and then, far from being surprised at my misery, you will only wonder that I survive what I have endured.","group":"12"},{"id":"1621","x":"8.593144","y":"10.992083","name":"I will confide this tale of misery and terror to you the day after our marriage shall take place; for, my sweet cousin, there must be perfect confidence between us.","group":"-1"},{"id":"1622","x":"9.517226","y":"9.705745","name":"The sweet girl welcomed me with warm affection; yet tears were in her eyes, as she beheld my emaciated frame and feverish cheeks.","group":"-1"},{"id":"1623","x":"9.859589","y":"9.333599","name":"She was thinner, and had lost much of that heavenly vivacity that had before charmed me; but her gentleness, and soft looks of compassion, made her a more fit companion for one blasted and miserable as I was.","group":"13"},{"id":"1624","x":"6.4692883","y":"11.116728","name":"Memory brought madness with it; and when I thought of what had passed, a real insanity possessed me; sometimes I was furious, and burnt with rage; sometimes low and despondent.","group":"38"},{"id":"1625","x":"5.60259","y":"10.892414","name":"I neither spoke, nor looked at any one, but sat motionless, bewildered by the multitude of miseries that overcame me.","group":"-1"},{"id":"1626","x":"9.468263","y":"10.204554","name":"Elizabeth alone had the power to draw me from these fits; her gentle voice would soothe me when transported by passion, and inspire me with human feelings when sunk in torpor.","group":"12"},{"id":"1627","x":"7.3122063","y":"11.163358","name":"The agonies of remorse poison the luxury there is otherwise sometimes found in indulging the excess of grief.","group":"-1"},{"id":"1628","x":"8.812894","y":"11.047333","name":"Let the day therefore be fixed; and on it I will consecrate myself, in life or death, to the happiness of my cousin.\\"","group":"-1"},{"id":"1629","x":"7.9569354","y":"10.914477","name":"Heavy misfortunes have befallen us; but let us only cling closer to what remains, and transfer our love for those whom we have lost, to those who yet live.","group":"25"},{"id":"1630","x":"7.7651315","y":"10.766656","name":"And when time shall have softened your despair, new and dear objects of care will be born to replace those of whom we have been so cruelly deprived.\\"","group":"25"},{"id":"1631","x":"8.423283","y":"11.345582","name":"But to me the remembrance of the threat returned: nor can you wonder, that, omnipotent as the fiend had yet been in his deeds of blood, I should almost regard him as invincible; and that when he had pronounced the words, \\"I shall be with you on your wedding-night,\\" I should regard the threatened fate as unavoidable.","group":"15"},{"id":"1632","x":"9.109837","y":"10.921162","name":"But death was no evil to me, if the loss of Elizabeth were balanced with it; and I therefore, with a contented and even cheerful countenance, agreed with my father, that if my cousin would consent, the ceremony should take place in ten days, and thus put, as I imagined, the seal to my fate.","group":"-1"},{"id":"1633","x":"8.283858","y":"11.396407","name":"if for one instant I had thought what might be the hellish intention of my fiendish adversary, I would rather have banished myself for ever from my native country, and wandered a friendless outcast over the earth, than have consented to this miserable marriage.","group":"-1"},{"id":"1634","x":"6.377838","y":"12.084778","name":"But, as if possessed of magic powers, the monster had blinded me to his real intentions; and when I thought that I had prepared only my own death, I hastened that of a far dearer victim.","group":"-1"},{"id":"1635","x":"8.572734","y":"11.258859","name":"As the period fixed for our marriage drew nearer, whether from cowardice or a prophetic feeling, I felt my heart sink within me.","group":"15"},{"id":"1636","x":"8.19652","y":"9.918262","name":"But I concealed my feelings by an appearance of hilarity, that brought smiles and joy to the countenance of my father, but hardly deceived the ever-watchful and nicer eye of Elizabeth.","group":"-1"},{"id":"1637","x":"9.088511","y":"10.150587","name":"She looked forward to our union with placid contentment, not unmingled with a little fear, which past misfortunes had impressed, that what now appeared certain and tangible happiness, might soon dissipate into an airy dream, and leave no trace but deep and everlasting regret.","group":"-1"},{"id":"1638","x":"8.680494","y":"8.99177","name":"Preparations were made for the event; congratulatory visits were received; and all wore a smiling appearance.","group":"-1"},{"id":"1639","x":"7.22833","y":"10.263266","name":"I shut up, as well as I could, in my own heart the anxiety that preyed there, and entered with seeming earnestness into the plans of my father, although they might only serve as the decorations of my tragedy.","group":"-1"},{"id":"1640","x":"9.506218","y":"10.433368","name":"Through my father\'s exertions, a part of the inheritance of Elizabeth had been restored to her by the Austrian government.","group":"12"},{"id":"1641","x":"6.1168995","y":"7.6729827","name":"It was agreed that, immediately after our union, we should proceed to Villa Lavenza, and spend our first days of happiness beside the beautiful lake near which it stood.","group":"-1"},{"id":"1642","x":"6.998587","y":"11.383859","name":"In the mean time I took every precaution to defend my person, in case the fiend should openly attack me.","group":"41"},{"id":"1643","x":"6.998258","y":"11.441839","name":"I carried pistols and a dagger constantly about me, and was ever on the watch to prevent artifice; and by these means gained a greater degree of tranquillity.","group":"-1"},{"id":"1644","x":"8.565977","y":"11.239204","name":"Indeed, as the period approached, the threat appeared more as a delusion, not to be regarded as worthy to disturb my peace, while the happiness I hoped for in my marriage wore a greater appearance of certainty, as the day fixed for its solemnisation drew nearer, and I heard it continually spoken of as an occurrence which no accident could possibly prevent.","group":"15"},{"id":"1645","x":"9.098651","y":"10.698635","name":"But on the day that was to fulfil my wishes and my destiny, she was melancholy, and a presentiment of evil pervaded her; and perhaps also she thought of the dreadful secret which I had promised to reveal to her on the following day.","group":"-1"},{"id":"1646","x":"9.202178","y":"9.487905","name":"My father was in the mean time overjoyed, and, in the bustle of preparation, only recognised in the melancholy of his niece the diffidence of a bride.","group":"-1"},{"id":"1647","x":"6.0108676","y":"7.8974433","name":"After the ceremony was performed, a large party assembled at my father\'s; but it was agreed that Elizabeth and I should commence our journey by water, sleeping that night at Evian, and continuing our voyage on the following day.","group":"-1"},{"id":"1648","x":"3.7389462","y":"8.42542","name":"We passed rapidly along: the sun was hot, but we were sheltered from its rays by a kind of canopy, while we enjoyed the beauty of the scene, sometimes on one side of the lake, where we saw Mont Sal\xeave, the pleasant banks of Montal\xe8gre, and at a distance, surmounting all, the beautiful Mont Blanc, and the assemblage of snowy mountains that in vain endeavour to emulate her; sometimes coasting the opposite banks, we saw the mighty Jura opposing its dark side to the ambition that would quit its native country, and an almost insurmountable barrier to the invader who should wish to enslave it.","group":"18"},{"id":"1649","x":"7.6716213","y":"10.823713","name":"if you knew what I have suffered, and what I may yet endure, you would endeavour to let me taste the quiet and freedom from despair, that this one day at least permits me to enjoy.\\"","group":"25"},{"id":"1650","x":"9.188674","y":"10.301446","name":"\\"Be happy, my dear Victor,\\" replied Elizabeth; \\"there is, I hope, nothing to distress you; and be assured that if a lively joy is not painted in my face, my heart is contented.","group":"-1"},{"id":"1651","x":"7.9729595","y":"11.713963","name":"Something whispers to me not to depend too much on the prospect that is opened before us; but I will not listen to such a sinister voice.","group":"-1"},{"id":"1652","x":"3.7298954","y":"8.452466","name":"Observe how fast we move along, and how the clouds, which sometimes obscure and sometimes rise above the dome of Mont Blanc, render this scene of beauty still more interesting.","group":"18"},{"id":"1653","x":"4.385614","y":"8.840086","name":"Look also at the innumerable fish that are swimming in the clear waters, where we can distinguish every pebble that lies at the bottom.","group":"21"},{"id":"1654","x":"9.704167","y":"10.268871","name":"Thus Elizabeth endeavoured to divert her thoughts and mine from all reflection upon melancholy subjects.","group":"12"},{"id":"1655","x":"10.164218","y":"9.592811","name":"But her temper was fluctuating; joy for a few instants shone in her eyes, but it continually gave place to distraction and reverie.","group":"-1"},{"id":"1656","x":"4.376041","y":"8.818141","name":"The sun sunk lower in the heavens; we passed the river Drance, and observed its path through the chasms of the higher, and the glens of the lower hills.","group":"21"},{"id":"1657","x":"3.792495","y":"8.282512","name":"The Alps here come closer to the lake, and we approached the amphitheatre of mountains which forms its eastern boundary.","group":"18"},{"id":"1658","x":"3.7551193","y":"8.2894335","name":"The spire of Evian shone under the woods that surrounded it, and the range of mountain above mountain by which it was overhung.","group":"18"},{"id":"1659","x":"4.761759","y":"8.612138","name":"The wind, which had hitherto carried us along with amazing rapidity, sunk at sunset to a light breeze; the soft air just ruffled the water, and caused a pleasant motion among the trees as we approached the shore, from which it wafted the most delightful scent of flowers and hay.","group":"21"},{"id":"1660","x":"4.789542","y":"8.624444","name":"The sun sunk beneath the horizon as we landed; and as I touched the shore, I felt those cares and fears revive, which soon were to clasp me, and cling to me for ever.","group":"21"},{"id":"1661","x":"4.753341","y":"8.86645","name":"It was eight o\'clock when we landed; we walked for a short time on the shore, enjoying the transitory light, and then retired to the inn, and contemplated the lovely scene of waters, woods, and mountains, obscured in darkness, yet still displaying their black outlines.","group":"-1"},{"id":"1662","x":"4.261295","y":"8.871943","name":"The moon had reached her summit in the heavens, and was beginning to descend; the clouds swept across it swifter than the flight of the vulture, and dimmed her rays, while the lake reflected the scene of the busy heavens, rendered still busier by the restless waves that were beginning to rise.","group":"-1"},{"id":"1663","x":"5.039866","y":"10.023028","name":"I had been calm during the day; but so soon as night obscured the shapes of objects, a thousand fears arose in my mind.","group":"-1"},{"id":"1664","x":"6.9336753","y":"11.378086","name":"I was anxious and watchful, while my right hand grasped a pistol which was hidden in my bosom; every sound terrified me; but I resolved that I would sell my life dearly, and not shrink from the conflict until my own life, or that of my adversary, was extinguished.","group":"-1"},{"id":"1665","x":"8.956277","y":"10.652616","name":"Elizabeth observed my agitation for some time in timid and fearful silence; but there was something in my glance which communicated terror to her, and trembling she asked, \\"What is it that agitates you, my dear Victor?","group":"-1"},{"id":"1666","x":"5.216905","y":"9.797491","name":"peace, peace, my love,\\" replied I; \\"this night, and all will be safe: but this night is dreadful, very dreadful.\\"","group":"-1"},{"id":"1667","x":"8.676568","y":"11.161261","name":"I passed an hour in this state of mind, when suddenly I reflected how fearful the combat which I momentarily expected would be to my wife, and I earnestly entreated her to retire, resolving not to join her until I had obtained some knowledge as to the situation of my enemy.","group":"15"},{"id":"1668","x":"5.4800434","y":"9.686771","name":"She left me, and I continued some time walking up and down the passages of the house, and inspecting every corner that might afford a retreat to my adversary.","group":"30"},{"id":"1669","x":"6.1089773","y":"10.419088","name":"But I discovered no trace of him, and was beginning to conjecture that some fortunate chance had intervened to prevent the execution of his menaces; when suddenly I heard a shrill and dreadful scream.","group":"33"},{"id":"1670","x":"5.900545","y":"9.941234","name":"As I heard it, the whole truth rushed into my mind, my arms dropped, the motion of every muscle and fibre was suspended; I could feel the blood trickling in my veins, and tingling in the extremities of my limbs.","group":"-1"},{"id":"1671","x":"10.122218","y":"10.175438","name":"She was there, lifeless and inanimate, thrown across the bed, her head hanging down, and her pale and distorted features half covered by her hair.","group":"-1"},{"id":"1672","x":"9.955198","y":"10.692806","name":"Every where I turn I see the same figure--her bloodless arms and relaxed form flung by the murderer on its bridal bier.","group":"-1"},{"id":"1673","x":"5.444627","y":"10.275109","name":"When I recovered, I found myself surrounded by the people of the inn; their countenances expressed a breathless terror: but the horror of others appeared only as a mockery, a shadow of the feelings that oppressed me.","group":"30"},{"id":"1674","x":"9.60995","y":"10.189166","name":"I escaped from them to the room where lay the body of Elizabeth, my love, my wife, so lately living, so dear, so worthy.","group":"12"},{"id":"1675","x":"10.266156","y":"9.782355","name":"She had been moved from the posture in which I had first beheld her; and now, as she lay, her head upon her arm, and a handkerchief thrown across her face and neck, I might have supposed her asleep.","group":"11"},{"id":"1676","x":"9.662072","y":"10.239069","name":"I rushed towards her, and embraced her with ardour; but the deadly languor and coldness of the limbs told me, that what I now held in my arms had ceased to be the Elizabeth whom I had loved and cherished.","group":"12"},{"id":"1677","x":"9.866241","y":"10.344941","name":"The murderous mark of the fiend\'s grasp was on her neck, and the breath had ceased to issue from her lips.","group":"-1"},{"id":"1678","x":"5.0974336","y":"10.082827","name":"The windows of the room had before been darkened, and I felt a kind of panic on seeing the pale yellow light of the moon illuminate the chamber.","group":"-1"},{"id":"1679","x":"6.2568846","y":"11.753838","name":"The shutters had been thrown back; and, with a sensation of horror not to be described, I saw at the open window a figure the most hideous and abhorred.","group":"-1"},{"id":"1680","x":"8.719062","y":"11.138125","name":"A grin was on the face of the monster; he seemed to jeer, as with his fiendish finger he pointed towards the corpse of my wife.","group":"15"},{"id":"1681","x":"5.7087293","y":"9.565054","name":"I rushed towards the window, and drawing a pistol from my bosom, fired; but he eluded me, leaped from his station, and, running with the swiftness of lightning, plunged into the lake.","group":"-1"},{"id":"1682","x":"5.2610383","y":"8.020738","name":"I pointed to the spot where he had disappeared, and we followed the track with boats; nets were cast, but in vain.","group":"21"},{"id":"1683","x":"5.501858","y":"10.572914","name":"After passing several hours, we returned hopeless, most of my companions believing it to have been a form conjured up by my fancy.","group":"30"},{"id":"1684","x":"5.4576273","y":"8.616672","name":"After having landed, they proceeded to search the country, parties going in different directions among the woods and vines.","group":"-1"},{"id":"1685","x":"5.5390573","y":"10.235168","name":"I attempted to accompany them, and proceeded a short distance from the house; but my head whirled round, my steps were like those of a drunken man, I fell at last in a state of utter exhaustion; a film covered my eyes, and my skin was parched with the heat of fever.","group":"30"},{"id":"1686","x":"5.416906","y":"10.47343","name":"In this state I was carried back, and placed on a bed, hardly conscious of what had happened; my eyes wandered round the room, as if to seek something that I had lost.","group":"30"},{"id":"1687","x":"5.36582","y":"9.681741","name":"After an interval, I arose, and, as if by instinct, crawled into the room where the corpse of my beloved lay.","group":"-1"},{"id":"1688","x":"6.1330156","y":"10.85741","name":"There were women weeping around--I hung over it, and joined my sad tears to theirs--all this time no distinct idea presented itself to my mind; but my thoughts rambled to various subjects, reflecting confusedly on my misfortunes, and their cause.","group":"34"},{"id":"1689","x":"8.864336","y":"11.692127","name":"The death of William, the execution of Justine, the murder of Clerval, and lastly of my wife; even at that moment I knew not that my only remaining friends were safe from the malignity of the fiend; my father even now might be writhing under his grasp, and Ernest might be dead at his feet.","group":"15"},{"id":"1690","x":"4.469035","y":"8.19761","name":"There were no horses to be procured, and I must return by the lake; but the wind was unfavourable, and the rain fell in torrents.","group":"-1"},{"id":"1691","x":"5.886604","y":"8.996071","name":"I hired men to row, and took an oar myself; for I had always experienced relief from mental torment in bodily exercise.","group":"-1"},{"id":"1692","x":"5.9856296","y":"11.020592","name":"But the overflowing misery I now felt, and the excess of agitation that I endured, rendered me incapable of any exertion.","group":"34"},{"id":"1693","x":"6.7274904","y":"9.317156","name":"If I looked up, I saw the scenes which were familiar to me in my happier time, and which I had contemplated but the day before in the company of her who was now but a shadow and a recollection.","group":"-1"},{"id":"1694","x":"4.5451756","y":"8.734666","name":"The rain had ceased for a moment, and I saw the fish play in the waters as they had done a few hours before; they had then been observed by Elizabeth.","group":"21"},{"id":"1695","x":"4.553777","y":"9.028925","name":"The sun might shine, or the clouds might lower: but nothing could appear to me as it had done the day before.","group":"21"},{"id":"1696","x":"6.5518193","y":"11.25123","name":"A fiend had snatched from me every hope of future happiness: no creature had ever been so miserable as I was; so frightful an event is single in the history of man.","group":"-1"},{"id":"1697","x":"6.726945","y":"11.177109","name":"Mine has been a tale of horrors; I have reached their _acme_, and what I must now relate can but be tedious to you.","group":"38"},{"id":"1698","x":"9.571504","y":"8.870419","name":"his eyes wandered in vacancy, for they had lost their charm and their delight--his Elizabeth, his more than daughter, whom he doated on with all that affection which a man feels, who in the decline of life, having few affections, clings more earnestly to those that remain.","group":"-1"},{"id":"1699","x":"6.849387","y":"12.078644","name":"Cursed, cursed be the fiend that brought misery on his grey hairs, and doomed him to waste in wretchedness!","group":"-1"},{"id":"1700","x":"6.6685805","y":"10.616605","name":"He could not live under the horrors that were accumulated around him; the springs of existence suddenly gave way: he was unable to rise from his bed, and in a few days he died in my arms.","group":"-1"},{"id":"1701","x":"5.7838874","y":"10.307007","name":"Sometimes, indeed, I dreamt that I wandered in flowery meadows and pleasant vales with the friends of my youth; but I awoke, and found myself in a dungeon.","group":"30"},{"id":"1702","x":"6.742637","y":"10.070097","name":"Melancholy followed, but by degrees I gained a clear conception of my miseries and situation, and was then released from my prison.","group":"-1"},{"id":"1703","x":"6.6503253","y":"10.42996","name":"For they had called me mad; and during many months, as I understood, a solitary cell had been my habitation.","group":"37"},{"id":"1704","x":"7.474218","y":"12.068629","name":"Liberty, however, had been an useless gift to me, had I not, as I awakened to reason, at the same time awakened to revenge.","group":"-1"},{"id":"1705","x":"6.7770605","y":"12.260992","name":"As the memory of past misfortunes pressed upon me, I began to reflect on their cause--the monster whom I had created, the miserable d\xe6mon whom I had sent abroad into the world for my destruction.","group":"-1"},{"id":"1706","x":"6.755344","y":"12.060878","name":"I was possessed by a maddening rage when I thought of him, and desired and ardently prayed that I might have him within my grasp to wreak a great and signal revenge on his cursed head.","group":"-1"},{"id":"1707","x":"8.973046","y":"11.574781","name":"Nor did my hate long confine itself to useless wishes; I began to reflect on the best means of securing him; and for this purpose, about a month after my release, I repaired to a criminal judge in the town, and told him that I had an accusation to make; that I knew the destroyer of my family; and that I required him to exert his whole authority for the apprehension of the murderer.","group":"15"},{"id":"1708","x":"9.361285","y":"11.411817","name":"The magistrate listened to me with attention and kindness:--\\"Be assured, sir,\\" said he, \\"no pains or exertions on my part shall be spared to discover the villain.\\"","group":"-1"},{"id":"1709","x":"6.851817","y":"10.42472","name":"It is indeed a tale so strange, that I should fear you would not credit it, were there not something in truth which, however wonderful, forces conviction.","group":"37"},{"id":"1710","x":"7.122225","y":"11.511498","name":"My manner, as I thus addressed him, was impressive, but calm; I had formed in my own heart a resolution to pursue my destroyer to death; and this purpose quieted my agony, and for an interval reconciled me to life.","group":"41"},{"id":"1711","x":"4.9179974","y":"11.211357","name":"I now related my history, briefly, but with firmness and precision, marking the dates with accuracy, and never deviating into invective or exclamation.","group":"4"},{"id":"1712","x":"8.816027","y":"11.213027","name":"The magistrate appeared at first perfectly incredulous, but as I continued he became more attentive and interested; I saw him sometimes shudder with horror, at others a lively surprise, unmingled with disbelief, was painted on his countenance.","group":"15"},{"id":"1713","x":"8.689563","y":"11.904368","name":"When I had concluded my narration, I said, \\"This is the being whom I accuse, and for whose seizure and punishment I call upon you to exert your whole power.","group":"15"},{"id":"1714","x":"9.253338","y":"11.387141","name":"It is your duty as a magistrate, and I believe and hope that your feelings as a man will not revolt from the execution of those functions on this occasion.\\"","group":"-1"},{"id":"1715","x":"7.080753","y":"10.447547","name":"He had heard my story with that half kind of belief that is given to a tale of spirits and supernatural events; but when he was called upon to act officially in consequence, the whole tide of his incredulity returned.","group":"-1"},{"id":"1716","x":"8.4979925","y":"11.893343","name":"He, however, answered mildly, \\"I would willingly afford you every aid in your pursuit; but the creature of whom you speak appears to have powers which would put all my exertions to defiance.","group":"15"},{"id":"1717","x":"4.4118905","y":"7.3780375","name":"Who can follow an animal which can traverse the sea of ice, and inhabit caves and dens where no man would venture to intrude?","group":"20"},{"id":"1718","x":"8.88904","y":"11.34801","name":"Besides, some months have elapsed since the commission of his crimes, and no one can conjecture to what place he has wandered, or what region he may now inhabit.\\"","group":"-1"},{"id":"1719","x":"4.491784","y":"7.961364","name":"\\"I do not doubt that he hovers near the spot which I inhabit; and if he has indeed taken refuge in the Alps, he may be hunted like the chamois, and destroyed as a beast of prey.","group":"-1"},{"id":"1720","x":"7.9894233","y":"12.233156","name":"But I perceive your thoughts: you do not credit my narrative, and do not intend to pursue my enemy with the punishment which is his desert.\\"","group":"31"},{"id":"1721","x":"8.744681","y":"11.715055","name":"As I spoke, rage sparkled in my eyes; the magistrate was intimidated:--\\"You are mistaken,\\" said he, \\"I will exert myself; and if it is in my power to seize the monster, be assured that he shall suffer punishment proportionate to his crimes.","group":"15"},{"id":"1722","x":"5.8579226","y":"11.713428","name":"But I fear, from what you have yourself described to be his properties, that this will prove impracticable; and thus, while every proper measure is pursued, you should make up your mind to disappointment.\\"","group":"-1"},{"id":"1723","x":"7.5357013","y":"12.31832","name":"My revenge is of no moment to you; yet, while I allow it to be a vice, I confess that it is the devouring and only passion of my soul.","group":"31"},{"id":"1724","x":"8.3590145","y":"12.072734","name":"My rage is unspeakable, when I reflect that the murderer, whom I have turned loose upon society, still exists.","group":"-1"},{"id":"1725","x":"7.9137955","y":"12.425757","name":"You refuse my just demand: I have but one resource; and I devote myself, either in my life or death, to his destruction.\\"","group":"-1"},{"id":"1726","x":"7.2677827","y":"11.831254","name":"I trembled with excess of agitation as I said this; there was a frenzy in my manner, and something, I doubt not, of that haughty fierceness which the martyrs of old are said to have possessed.","group":"40"},{"id":"1727","x":"8.26366","y":"11.491332","name":"But to a Genevan magistrate, whose mind was occupied by far other ideas than those of devotion and heroism, this elevation of mind had much the appearance of madness.","group":"-1"},{"id":"1728","x":"7.1887345","y":"9.794037","name":"He endeavoured to soothe me as a nurse does a child, and reverted to my tale as the effects of delirium.","group":"29"},{"id":"1729","x":"7.332609","y":"11.8308525","name":"I was hurried away by fury; revenge alone endowed me with strength and composure; it moulded my feelings, and allowed me to be calculating and calm, at periods when otherwise delirium or death would have been my portion.","group":"40"},{"id":"1730","x":"6.630477","y":"8.517202","name":"My first resolution was to quit Geneva for ever; my country, which, when I was happy and beloved, was dear to me, now, in my adversity, became hateful.","group":"14"},{"id":"1731","x":"9.782028","y":"8.192986","name":"I provided myself with a sum of money, together with a few jewels which had belonged to my mother, and departed.","group":"-1"},{"id":"1732","x":"5.012835","y":"7.5705442","name":"I have traversed a vast portion of the earth, and have endured all the hardships which travellers, in deserts and barbarous countries, are wont to meet.","group":"-1"},{"id":"1733","x":"6.331902","y":"10.95456","name":"How I have lived I hardly know; many times have I stretched my failing limbs upon the sandy plain, and prayed for death.","group":"38"},{"id":"1734","x":"6.5746493","y":"8.524762","name":"When I quitted Geneva, my first labour was to gain some clue by which I might trace the steps of my fiendish enemy.","group":"14"},{"id":"1735","x":"5.4633193","y":"10.414924","name":"But my plan was unsettled; and I wandered many hours round the confines of the town, uncertain what path I should pursue.","group":"30"},{"id":"1736","x":"9.39129","y":"10.167168","name":"As night approached, I found myself at the entrance of the cemetery where William, Elizabeth, and my father reposed.","group":"12"},{"id":"1737","x":"4.4971848","y":"9.014782","name":"Every thing was silent, except the leaves of the trees, which were gently agitated by the wind; the night was nearly dark; and the scene would have been solemn and affecting even to an uninterested observer.","group":"21"},{"id":"1738","x":"6.717983","y":"11.082397","name":"The spirits of the departed seemed to flit around, and to cast a shadow, which was felt but not seen, around the head of the mourner.","group":"38"},{"id":"1739","x":"7.634197","y":"12.030867","name":"They were dead, and I lived; their murderer also lived, and to destroy him I must drag out my weary existence.","group":"31"},{"id":"1740","x":"5.98077","y":"10.095997","name":"I knelt on the grass, and kissed the earth, and with quivering lips exclaimed, \\"By the sacred earth on which I kneel, by the shades that wander near me, by the deep and eternal grief that I feel, I swear; and by thee, O Night, and the spirits that preside over thee, to pursue the d\xe6mon, who caused this misery, until he or I shall perish in mortal conflict.","group":"-1"},{"id":"1741","x":"7.6126695","y":"12.409453","name":"For this purpose I will preserve my life: to execute this dear revenge, will I again behold the sun, and tread the green herbage of earth, which otherwise should vanish from my eyes for ever.","group":"31"},{"id":"1742","x":"7.6377583","y":"11.972805","name":"And I call on you, spirits of the dead; and on you, wandering ministers of vengeance, to aid and conduct me in my work.","group":"-1"},{"id":"1743","x":"6.8543954","y":"11.962376","name":"Let the cursed and hellish monster drink deep of agony; let him feel the despair that now torments me.\\"","group":"39"},{"id":"1744","x":"7.53722","y":"11.839504","name":"I had begun my adjuration with solemnity, and an awe which almost assured me that the shades of my murdered friends heard and approved my devotion; but the furies possessed me as I concluded, and rage choked my utterance.","group":"40"},{"id":"1745","x":"5.7120543","y":"10.852177","name":"It rung on my ears long and heavily; the mountains re-echoed it, and I felt as if all hell surrounded me with mockery and laughter.","group":"34"},{"id":"1746","x":"7.414582","y":"11.874933","name":"Surely in that moment I should have been possessed by frenzy, and have destroyed my miserable existence, but that my vow was heard, and that I was reserved for vengeance.","group":"40"},{"id":"1747","x":"6.0468054","y":"11.248567","name":"The laughter died away; when a well-known and abhorred voice, apparently close to my ear, addressed me in an audible whisper--\\"I am satisfied: miserable wretch!","group":"35"},{"id":"1748","x":"4.29369","y":"9.117241","name":"Suddenly the broad disk of the moon arose, and shone full upon his ghastly and distorted shape, as he fled with more than mortal speed.","group":"-1"},{"id":"1749","x":"5.4052925","y":"8.335693","name":"The blue Mediterranean appeared; and, by a strange chance, I saw the fiend enter by night, and hide himself in a vessel bound for the Black Sea.","group":"21"},{"id":"1750","x":"6.153649","y":"8.877052","name":"Amidst the wilds of Tartary and Russia, although he still evaded me, I have ever followed in his track.","group":"-1"},{"id":"1751","x":"6.2073355","y":"10.434248","name":"Sometimes the peasants, scared by this horrid apparition, informed me of his path; sometimes he himself, who feared that if I lost all trace of him, I should despair and die, left some mark to guide me.","group":"33"},{"id":"1752","x":"6.574349","y":"10.804651","name":"To you first entering on life, to whom care is new, and agony unknown, how can you understand what I have felt, and still feel?","group":"-1"},{"id":"1753","x":"6.7669005","y":"11.177404","name":"Cold, want, and fatigue, were the least pains which I was destined to endure; I was cursed by some devil, and carried about with me my eternal hell; yet still a spirit of good followed and directed my steps; and, when I most murmured, would suddenly extricate me from seemingly insurmountable difficulties.","group":"38"},{"id":"1754","x":"5.997603","y":"9.205951","name":"Sometimes, when nature, overcome by hunger, sunk under the exhaustion, a repast was prepared for me in the desert, that restored and inspirited me.","group":"-1"},{"id":"1755","x":"6.8105597","y":"7.2269344","name":"The fare was, indeed, coarse, such as the peasants of the country ate; but I will not doubt that it was set there by the spirits that I had invoked to aid me.","group":"2"},{"id":"1756","x":"4.4418573","y":"8.830682","name":"Often, when all was dry, the heavens cloudless, and I was parched by thirst, a slight cloud would bedim the sky, shed the few drops that revived me, and vanish.","group":"21"},{"id":"1757","x":"5.445927","y":"8.25507","name":"I followed, when I could, the courses of the rivers; but the d\xe6mon generally avoided these, as it was here that the population of the country chiefly collected.","group":"21"},{"id":"1758","x":"6.306564","y":"8.104204","name":"In other places human beings were seldom seen; and I generally subsisted on the wild animals that crossed my path.","group":"14"},{"id":"1759","x":"6.7399178","y":"7.222899","name":"I had money with me, and gained the friendship of the villagers by distributing it; or I brought with me some food that I had killed, which, after taking a small part, I always presented to those who had provided me with fire and utensils for cooking.","group":"2"},{"id":"1760","x":"6.0609207","y":"10.968218","name":"My life, as it passed thus, was indeed hateful to me, and it was during sleep alone that I could taste joy.","group":"34"},{"id":"1761","x":"6.78436","y":"9.76724","name":"The spirits that guarded me had provided these moments, or rather hours, of happiness, that I might retain strength to fulfil my pilgrimage.","group":"29"},{"id":"1762","x":"5.736028","y":"9.129927","name":"During the day I was sustained and inspirited by the hope of night: for in sleep I saw my friends, my wife, and my beloved country; again I saw the benevolent countenance of my father, heard the silver tones of my Elizabeth\'s voice, and beheld Clerval enjoying health and youth.","group":"-1"},{"id":"1763","x":"5.7492623","y":"10.156976","name":"Often, when wearied by a toilsome march, I persuaded myself that I was dreaming until night should come, and that I should then enjoy reality in the arms of my dearest friends.","group":"-1"},{"id":"1764","x":"6.341378","y":"11.143074","name":"how did I cling to their dear forms, as sometimes they haunted even my waking hours, and persuade myself that they still lived!","group":"-1"},{"id":"1765","x":"7.273602","y":"11.9793005","name":"At such moments vengeance, that burned within me, died in my heart, and I pursued my path towards the destruction of the d\xe6mon, more as a task enjoined by heaven, as the mechanical impulse of some power of which I was unconscious, than as the ardent desire of my soul.","group":"40"},{"id":"1766","x":"5.1818233","y":"9.389935","name":"Sometimes, indeed, he left marks in writing on the barks of the trees, or cut in stone, that guided me, and instigated my fury.","group":"-1"},{"id":"1767","x":"7.438995","y":"9.861625","name":"\\"My reign is not yet over,\\" (these words were legible in one of these inscriptions;) \\"you live, and my power is complete.","group":"-1"},{"id":"1768","x":"4.653178","y":"7.445436","name":"Follow me; I seek the everlasting ices of the north, where you will feel the misery of cold and frost, to which I am impassive.","group":"20"},{"id":"1769","x":"7.691878","y":"12.232402","name":"Come on, my enemy; we have yet to wrestle for our lives; but many hard and miserable hours must you endure until that period shall arrive.\\"","group":"31"},{"id":"1770","x":"7.7563257","y":"11.734425","name":"Never will I give up my search, until he or I perish; and then with what ecstasy shall I join my Elizabeth, and my departed friends, who even now prepare for me the reward of my tedious toil and horrible pilgrimage!","group":"40"},{"id":"1771","x":"4.692028","y":"7.617692","name":"As I still pursued my journey to the northward, the snows thickened, and the cold increased in a degree almost too severe to support.","group":"20"},{"id":"1772","x":"6.9230328","y":"7.254368","name":"The peasants were shut up in their hovels, and only a few of the most hardy ventured forth to seize the animals whom starvation had forced from their hiding-places to seek for prey.","group":"2"},{"id":"1773","x":"4.637814","y":"7.880776","name":"The rivers were covered with ice, and no fish could be procured; and thus I was cut off from my chief article of maintenance.","group":"-1"},{"id":"1774","x":"7.782557","y":"12.21963","name":"your toils only begin: wrap yourself in furs, and provide food; for we shall soon enter upon a journey where your sufferings will satisfy my everlasting hatred.\\"","group":"31"},{"id":"1775","x":"5.159529","y":"7.9189444","name":"My courage and perseverance were invigorated by these scoffing words; I resolved not to fail in my purpose; and, calling on Heaven to support me, I continued with unabated fervour to traverse immense deserts, until the ocean appeared at a distance, and formed the utmost boundary of the horizon.","group":"20"},{"id":"1776","x":"6.1845665","y":"8.687886","name":"The Greeks wept for joy when they beheld the Mediterranean from the hills of Asia, and hailed with rapture the boundary of their toils.","group":"-1"},{"id":"1777","x":"6.367329","y":"10.07699","name":"I did not weep; but I knelt down, and, with a full heart, thanked my guiding spirit for conducting me in safety to the place where I hoped, notwithstanding my adversary\'s gibe, to meet and grapple with him.","group":"-1"},{"id":"1778","x":"4.2321486","y":"7.416002","name":"Some weeks before this period I had procured a sledge and dogs, and thus traversed the snows with inconceivable speed.","group":"20"},{"id":"1779","x":"6.1096106","y":"10.296937","name":"I know not whether the fiend possessed the same advantages; but I found that, as before I had daily lost ground in the pursuit, I now gained on him: so much so, that when I first saw the ocean, he was but one day\'s journey in advance, and I hoped to intercept him before he should reach the beach.","group":"33"},{"id":"1780","x":"5.7099676","y":"8.161415","name":"With new courage, therefore, I pressed on, and in two days arrived at a wretched hamlet on the sea-shore.","group":"21"},{"id":"1781","x":"5.0680957","y":"10.169504","name":"A gigantic monster, they said, had arrived the night before, armed with a gun and many pistols; putting to flight the inhabitants of a solitary cottage, through fear of his terrific appearance.","group":"-1"},{"id":"1782","x":"4.3656535","y":"7.448573","name":"He had carried off their store of winter food, and, placing it in a sledge, to draw which he had seized on a numerous drove of trained dogs, he had harnessed them, and the same night, to the joy of the horror-struck villagers, had pursued his journey across the sea in a direction that led to no land; and they conjectured that he must speedily be destroyed by the breaking of the ice, or frozen by the eternal frosts.","group":"20"},{"id":"1783","x":"4.5177665","y":"7.4776816","name":"He had escaped me; and I must commence a destructive and almost endless journey across the mountainous ices of the ocean,--amidst cold that few of the inhabitants could long endure, and which I, the native of a genial and sunny climate, could not hope to survive.","group":"20"},{"id":"1784","x":"6.795956","y":"11.736941","name":"Yet at the idea that the fiend should live and be triumphant, my rage and vengeance returned, and, like a mighty tide, overwhelmed every other feeling.","group":"-1"},{"id":"1785","x":"7.0110083","y":"11.389811","name":"After a slight repose, during which the spirits of the dead hovered round, and instigated me to toil and revenge, I prepared for my journey.","group":"41"},{"id":"1786","x":"4.416318","y":"7.4603515","name":"I exchanged my land-sledge for one fashioned for the inequalities of the Frozen Ocean; and purchasing a plentiful stock of provisions, I departed from land.","group":"20"},{"id":"1787","x":"6.8514576","y":"11.304461","name":"I cannot guess how many days have passed since then; but I have endured misery, which nothing but the eternal sentiment of a just retribution burning within my heart could have enabled me to support.","group":"-1"},{"id":"1788","x":"4.259297","y":"7.665286","name":"Immense and rugged mountains of ice often barred up my passage, and I often heard the thunder of the ground sea, which threatened my destruction.","group":"20"},{"id":"1789","x":"6.349927","y":"9.788181","name":"By the quantity of provision which I had consumed, I should guess that I had passed three weeks in this journey; and the continual protraction of hope, returning back upon the heart, often wrung bitter drops of despondency and grief from my eyes.","group":"32"},{"id":"1790","x":"4.2953744","y":"8.206224","name":"Once, after the poor animals that conveyed me had with incredible toil gained the summit of a sloping ice-mountain, and one, sinking under his fatigue, died, I viewed the expanse before me with anguish, when suddenly my eye caught a dark speck upon the dusky plain.","group":"-1"},{"id":"1791","x":"3.9285727","y":"7.874718","name":"I strained my sight to discover what it could be, and uttered a wild cry of ecstasy when I distinguished a sledge, and the distorted proportions of a well-known form within.","group":"18"},{"id":"1792","x":"6.0009894","y":"10.403182","name":"warm tears filled my eyes, which I hastily wiped away, that they might not intercept the view I had of the d\xe6mon; but still my sight was dimmed by the burning drops, until, giving way to the emotions that oppressed me, I wept aloud.","group":"33"},{"id":"1793","x":"6.0171194","y":"9.50309","name":"But this was not the time for delay: I disencumbered the dogs of their dead companion, gave them a plentiful portion of food; and, after an hour\'s rest, which was absolutely necessary, and yet which was bitterly irksome to me, I continued my route.","group":"-1"},{"id":"1794","x":"4.0294724","y":"7.647286","name":"The sledge was still visible; nor did I again lose sight of it, except at the moments when for a short time some ice-rock concealed it with its intervening crags.","group":"-1"},{"id":"1795","x":"5.977035","y":"9.852509","name":"I indeed perceptibly gained on it; and when, after nearly two days\' journey, I beheld my enemy at no more than a mile distant, my heart bounded within me.","group":"-1"},{"id":"1796","x":"6.5947275","y":"11.997095","name":"But now, when I appeared almost within grasp of my foe, my hopes were suddenly extinguished, and I lost all trace of him more utterly than I had ever done before.","group":"-1"},{"id":"1797","x":"4.1754856","y":"8.026298","name":"A ground sea was heard; the thunder of its progress, as the waters rolled and swelled beneath me, became every moment more ominous and terrific.","group":"18"},{"id":"1798","x":"4.207797","y":"8.06026","name":"The wind arose; the sea roared; and, as with the mighty shock of an earthquake, it split, and cracked with a tremendous and overwhelming sound.","group":"18"},{"id":"1799","x":"4.5442324","y":"7.6182165","name":"The work was soon finished: in a few minutes a tumultuous sea rolled between me and my enemy, and I was left drifting on a scattered piece of ice, that was continually lessening, and thus preparing for me a hideous death.","group":"20"},{"id":"1800","x":"5.3819194","y":"7.959669","name":"In this manner many appalling hours passed; several of my dogs died; and I myself was about to sink under the accumulation of distress, when I saw your vessel riding at anchor, and holding forth to me hopes of succour and life.","group":"21"},{"id":"1801","x":"4.5359025","y":"7.3504467","name":"I quickly destroyed part of my sledge to construct oars; and by these means was enabled, with infinite fatigue, to move my ice-raft in the direction of your ship.","group":"20"},{"id":"1802","x":"5.4864364","y":"7.581134","name":"I had determined, if you were going southward, still to trust myself to the mercy of the seas rather than abandon my purpose.","group":"-1"},{"id":"1803","x":"5.9923635","y":"10.879847","name":"You took me on board when my vigour was exhausted, and I should soon have sunk under my multiplied hardships into a death which I still dread--for my task is unfulfilled.","group":"34"},{"id":"1804","x":"7.4737005","y":"11.765976","name":"when will my guiding spirit, in conducting me to the d\xe6mon, allow me the rest I so much desire; or must I die, and he yet live?","group":"40"},{"id":"1805","x":"7.7427487","y":"12.3522625","name":"If I do, swear to me, Walton, that he shall not escape; that you will seek him, and satisfy my vengeance in his death.","group":"31"},{"id":"1806","x":"7.657903","y":"11.673464","name":"And do I dare to ask of you to undertake my pilgrimage, to endure the hardships that I have undergone?","group":"40"},{"id":"1807","x":"7.7473364","y":"12.359723","name":"Yet, when I am dead, if he should appear; if the ministers of vengeance should conduct him to you, swear that he shall not live--swear that he shall not triumph over my accumulated woes, and survive to add to the list of his dark crimes.","group":"31"},{"id":"1808","x":"8.846591","y":"11.411474","name":"Hear him not; call on the manes of William, Justine, Clerval, Elizabeth, my father, and of the wretched Victor, and thrust your sword into his heart.","group":"15"},{"id":"1809","x":"9.527684","y":"9.837594","name":"You have read this strange and terrific story, Margaret; and do you not feel your blood congeal with horror, like that which even now curdles mine?","group":"13"},{"id":"1810","x":"6.687413","y":"10.537689","name":"Sometimes, seized with sudden agony, he could not continue his tale; at others, his voice broken, yet piercing, uttered with difficulty the words so replete with anguish.","group":"37"},{"id":"1811","x":"6.090548","y":"10.524993","name":"His fine and lovely eyes were now lighted up with indignation, now subdued to downcast sorrow, and quenched in infinite wretchedness.","group":"-1"},{"id":"1812","x":"7.084101","y":"11.608888","name":"Sometimes he commanded his countenance and tones, and related the most horrible incidents with a tranquil voice, suppressing every mark of agitation; then, like a volcano bursting forth, his face would suddenly change to an expression of the wildest rage, as he shrieked out imprecations on his persecutor.","group":"-1"},{"id":"1813","x":"6.945537","y":"10.299416","name":"His tale is connected, and told with an appearance of the simplest truth; yet I own to you that the letters of Felix and Safie, which he showed me, and the apparition of the monster seen from our ship, brought to me a greater conviction of the truth of his narrative than his asseverations, however earnest and connected.","group":"-1"},{"id":"1814","x":"6.158622","y":"12.872279","name":"Sometimes I endeavoured to gain from Frankenstein the particulars of his creature\'s formation: but on this point he was impenetrable.","group":"0"},{"id":"1815","x":"6.0760155","y":"12.732845","name":"Frankenstein discovered that I made notes concerning his history: he asked to see them, and then himself corrected and augmented them in many places; but principally in giving the life and spirit to the conversations he held with his enemy.","group":"0"},{"id":"1816","x":"8.125644","y":"10.679088","name":"\\"Since you have preserved my narration,\\" said he, \\"I would not that a mutilated one should go down to posterity.\\"","group":"27"},{"id":"1817","x":"6.638138","y":"10.532826","name":"Thus has a week passed away, while I have listened to the strangest tale that ever imagination formed.","group":"37"},{"id":"1818","x":"7.4966083","y":"9.528912","name":"My thoughts, and every feeling of my soul, have been drunk up by the interest for my guest, which this tale, and his own elevated and gentle manners, have created.","group":"-1"},{"id":"1819","x":"7.932006","y":"10.688191","name":"I wish to soothe him; yet can I counsel one so infinitely miserable, so destitute of every hope of consolation, to live?","group":"-1"},{"id":"1820","x":"6.6791863","y":"9.947933","name":"Yet he enjoys one comfort, the offspring of solitude and delirium: he believes, that, when in dreams he holds converse with his friends, and derives from that communion consolation for his miseries, or excitements to his vengeance, that they are not the creations of his fancy, but the beings themselves who visit him from the regions of a remote world.","group":"29"},{"id":"1821","x":"7.5136285","y":"9.769408","name":"This faith gives a solemnity to his reveries that render them to me almost as imposing and interesting as truth.","group":"-1"},{"id":"1822","x":"7.9288383","y":"9.214194","name":"On every point of general literature he displays unbounded knowledge, and a quick and piercing apprehension.","group":"24"},{"id":"1823","x":"7.323856","y":"10.154203","name":"His eloquence is forcible and touching; nor can I hear him, when he relates a pathetic incident, or endeavours to move the passions of pity or love, without tears.","group":"-1"},{"id":"1824","x":"8.473087","y":"9.521493","name":"What a glorious creature must he have been in the days of his prosperity, when he is thus noble and godlike in ruin!","group":"-1"},{"id":"1825","x":"8.071145","y":"9.480319","name":"My feelings are profound; but I possessed a coolness of judgment that fitted me for illustrious achievements.","group":"-1"},{"id":"1826","x":"7.7497497","y":"11.098875","name":"This sentiment of the worth of my nature supported me, when others would have been oppressed; for I deemed it criminal to throw away in useless grief those talents that might be useful to my fellow-creatures.","group":"25"},{"id":"1827","x":"6.218039","y":"12.100762","name":"When I reflected on the work I had completed, no less a one than the creation of a sensitive and rational animal, I could not rank myself with the herd of common projectors.","group":"-1"},{"id":"1828","x":"6.0128164","y":"11.265445","name":"But this thought, which supported me in the commencement of my career, now serves only to plunge me lower in the dust.","group":"-1"},{"id":"1829","x":"7.394479","y":"11.725639","name":"All my speculations and hopes are as nothing; and, like the archangel who aspired to omnipotence, I am chained in an eternal hell.","group":"40"},{"id":"1830","x":"6.1710005","y":"12.270815","name":"My imagination was vivid, yet my powers of analysis and application were intense; by the union of these qualities I conceived the idea, and executed the creation of a man.","group":"-1"},{"id":"1831","x":"7.132601","y":"11.876234","name":"my friend, if you had known me as I once was, you would not recognise me in this state of degradation.","group":"-1"},{"id":"1832","x":"6.145501","y":"10.693891","name":"Despondency rarely visited my heart; a high destiny seemed to bear me on, until I fell, never, never again to rise.\\"","group":"-1"},{"id":"1833","x":"6.603816","y":"9.331403","name":"Behold, on these desert seas I have found such a one; but, I fear, I have gained him only to know his value, and lose him.","group":"-1"},{"id":"1834","x":"7.875715","y":"10.900741","name":"\\"I thank you, Walton,\\" he said, \\"for your kind intentions towards so miserable a wretch; but when you speak of new ties, and fresh affections, think you that any can replace those who are gone?","group":"25"},{"id":"1835","x":"8.564509","y":"9.515117","name":"Even where the affections are not strongly moved by any superior excellence, the companions of our childhood always possess a certain power over our minds, which hardly any later friend can obtain.","group":"-1"},{"id":"1836","x":"8.192623","y":"9.487842","name":"They know our infantine dispositions, which, however they may be afterwards modified, are never eradicated; and they can judge of our actions with more certain conclusions as to the integrity of our motives.","group":"-1"},{"id":"1837","x":"8.496337","y":"9.786336","name":"A sister or a brother can never, unless indeed such symptoms have been shown early, suspect the other of fraud or false dealing, when another friend, however strongly he may be attached, may, in spite of himself, be contemplated with suspicion.","group":"-1"},{"id":"1838","x":"7.743866","y":"9.57496","name":"But I enjoyed friends, dear not only through habit and association, but from their own merits; and wherever I am, the soothing voice of my Elizabeth, and the conversation of Clerval, will be ever whispered in my ear.","group":"-1"},{"id":"1839","x":"7.224615","y":"11.299149","name":"If I were engaged in any high undertaking or design, fraught with extensive utility to my fellow-creatures, then could I live to fulfil it.","group":"-1"},{"id":"1840","x":"7.586997","y":"12.2566395","name":"But such is not my destiny; I must pursue and destroy the being to whom I gave existence; then my lot on earth will be fulfilled, and I may die.\\"","group":"31"},{"id":"1841","x":"8.545501","y":"10.576143","name":"My beloved Sister,  I write to you, encompassed by peril, and ignorant whether I am ever doomed to see again dear England, and the dearer friends that inhabit it.","group":"-1"},{"id":"1842","x":"4.532345","y":"7.4575167","name":"I am surrounded by mountains of ice, which admit of no escape, and threaten every moment to crush my vessel.","group":"20"},{"id":"1843","x":"7.7984085","y":"10.922332","name":"The brave fellows, whom I have persuaded to be my companions, look towards me for aid; but I have none to bestow.","group":"25"},{"id":"1844","x":"8.370095","y":"10.777352","name":"my beloved sister, the sickening failing of your heart-felt expectations is, in prospect, more terrible to me than my own death.","group":"-1"},{"id":"1845","x":"5.4362807","y":"7.645528","name":"He reminds me how often the same accidents have happened to other navigators, who have attempted this sea, and, in spite of myself, he fills me with cheerful auguries.","group":"-1"},{"id":"1846","x":"6.4046316","y":"8.718609","name":"Even the sailors feel the power of his eloquence: when he speaks, they no longer despair; he rouses their energies, and, while they hear his voice, they believe these vast mountains of ice are mole-hills, which will vanish before the resolutions of man.","group":"-1"},{"id":"1847","x":"5.958729","y":"10.92696","name":"These feelings are transitory; each day of expectation delayed fills them with fear, and I almost dread a mutiny caused by this despair.","group":"34"},{"id":"1848","x":"6.8595786","y":"10.660437","name":"A scene has just passed of such uncommon interest, that although it is highly probable that these papers may never reach you, yet I cannot forbear recording it.","group":"-1"},{"id":"1849","x":"4.5746884","y":"7.4881773","name":"We are still surrounded by mountains of ice, still in imminent danger of being crushed in their conflict.","group":"20"},{"id":"1850","x":"4.6495924","y":"7.723329","name":"The cold is excessive, and many of my unfortunate comrades have already found a grave amidst this scene of desolation.","group":"20"},{"id":"1851","x":"6.2202163","y":"12.959603","name":"Frankenstein has daily declined in health: a feverish fire still glimmers in his eyes; but he is exhausted, and, when suddenly roused to any exertion, he speedily sinks again into apparent lifelessness.","group":"0"},{"id":"1852","x":"5.699003","y":"7.9993353","name":"This morning, as I sat watching the wan countenance of my friend--his eyes half closed, and his limbs hanging listlessly,--I was roused by half a dozen of the sailors, who demanded admission into the cabin.","group":"21"},{"id":"1853","x":"5.775386","y":"7.4293556","name":"He told me that he and his companions had been chosen by the other sailors to come in deputation to me, to make me a requisition, which, in justice, I could not refuse.","group":"10"},{"id":"1854","x":"4.6527753","y":"7.438259","name":"We were immured in ice, and should probably never escape; but they feared that if, as was possible, the ice should dissipate, and a free passage be opened, I should be rash enough to continue my voyage, and lead them into fresh dangers, after they might happily have surmounted this.","group":"20"},{"id":"1855","x":"5.809234","y":"7.4834485","name":"They insisted, therefore, that I should engage with a solemn promise, that if the vessel should be freed I would instantly direct my course southward.","group":"10"},{"id":"1856","x":"6.210587","y":"12.849267","name":"I hesitated before I answered; when Frankenstein, who had at first been silent, and, indeed, appeared hardly to have force enough to attend, now roused himself; his eyes sparkled, and his cheeks flushed with momentary vigour.","group":"0"},{"id":"1857","x":"5.3811536","y":"7.882256","name":"Not because the way was smooth and placid as a southern sea, but because it was full of dangers and terror; because, at every new incident, your fortitude was to be called forth, and your courage exhibited; because danger and death surrounded it, and these you were to brave and overcome.","group":"21"},{"id":"1858","x":"7.851308","y":"10.87198","name":"You were hereafter to be hailed as the benefactors of your species; your names adored, as belonging to brave men who encountered death for honour, and the benefit of mankind.","group":"25"},{"id":"1859","x":"5.203633","y":"8.619804","name":"And now, behold, with the first imagination of danger, or, if you will, the first mighty and terrific trial of your courage, you shrink away, and are content to be handed down as men who had not strength enough to endure cold and peril; and so, poor souls, they were chilly, and returned to their warm fire-sides.","group":"-1"},{"id":"1860","x":"5.481423","y":"7.915188","name":"Why, that requires not this preparation; ye need not have come thus far, and dragged your captain to the shame of a defeat, merely to prove yourselves cowards.","group":"21"},{"id":"1861","x":"4.472279","y":"7.3849316","name":"This ice is not made of such stuff as your hearts may be; it is mutable, and cannot withstand you, if you say that it shall not.","group":"20"},{"id":"1862","x":"7.2367845","y":"9.542897","name":"Return, as heroes who have fought and conquered, and who know not what it is to turn their backs on the foe.\\"","group":"-1"},{"id":"1863","x":"7.7511115","y":"8.802587","name":"He spoke this with a voice so modulated to the different feelings expressed in his speech, with an eye so full of lofty design and heroism, that can you wonder that these men were moved?","group":"24"},{"id":"1864","x":"7.3667674","y":"9.440059","name":"I spoke; I told them to retire, and consider of what had been said: that I would not lead them farther north, if they strenuously desired the contrary; but that I hoped that, with reflection, their courage would return.","group":"-1"},{"id":"1865","x":"6.820887","y":"10.725726","name":"They retired, and I turned towards my friend; but he was sunk in languor, and almost deprived of life.","group":"-1"},{"id":"1866","x":"7.451028","y":"11.920838","name":"How all this will terminate, I know not; but I had rather die than return shamefully,--my purpose unfulfilled.","group":"40"},{"id":"1867","x":"7.679246","y":"11.124459","name":"Yet I fear such will be my fate; the men, unsupported by ideas of glory and honour, can never willingly continue to endure their present hardships.","group":"25"},{"id":"1868","x":"8.427892","y":"10.606792","name":"But I will endeavour to detail these bitter circumstances to you, my dear sister; and, while I am wafted towards England, and towards you, I will not despond.","group":"27"},{"id":"1869","x":"4.1809406","y":"7.899172","name":"September 9th, the ice began to move, and roarings like thunder were heard at a distance, as the islands split and cracked in every direction.","group":"-1"},{"id":"1870","x":"8.826954","y":"10.119126","name":"We were in the most imminent peril; but, as we could only remain passive, my chief attention was occupied by my unfortunate guest, whose illness increased in such a degree, that he was entirely confined to his bed.","group":"-1"},{"id":"1871","x":"4.3343186","y":"7.791166","name":"The ice cracked behind us, and was driven with force towards the north; a breeze sprung from the west, and on the 11th the passage towards the south became perfectly free.","group":"20"},{"id":"1872","x":"6.4047313","y":"8.715861","name":"When the sailors saw this, and that their return to their native country was apparently assured, a shout of tumultuous joy broke from them, loud and long-continued.","group":"-1"},{"id":"1873","x":"6.1866136","y":"10.306037","name":"Saying this, he endeavoured to spring from the bed, but the exertion was too great for him; he fell back, and fainted.","group":"33"},{"id":"1874","x":"6.885086","y":"9.451474","name":"I sat by his bed, watching him; his eyes were closed, and I thought he slept; but presently he called to me in a feeble voice, and, bidding me come near, said--\\"Alas!","group":"-1"},{"id":"1875","x":"7.305213","y":"11.989511","name":"the strength I relied on is gone; I feel that I shall soon die, and he, my enemy and persecutor, may still be in being.","group":"40"},{"id":"1876","x":"7.493586","y":"12.248233","name":"Think not, Walton, that in the last moments of my existence I feel that burning hatred, and ardent desire of revenge, I once expressed; but I feel myself justified in desiring the death of my adversary.","group":"-1"},{"id":"1877","x":"6.577968","y":"12.24558","name":"In a fit of enthusiastic madness I created a rational creature, and was bound towards him, to assure, as far as was in my power, his happiness and well-being.","group":"-1"},{"id":"1878","x":"7.699323","y":"11.112994","name":"My duties towards the beings of my own species had greater claims to my attention, because they included a greater proportion of happiness or misery.","group":"25"},{"id":"1879","x":"6.5119905","y":"12.180109","name":"Urged by this view, I refused, and I did right in refusing, to create a companion for the first creature.","group":"36"},{"id":"1880","x":"7.0256863","y":"12.176078","name":"He showed unparalleled malignity and selfishness, in evil: he destroyed my friends; he devoted to destruction beings who possessed exquisite sensations, happiness, and wisdom; nor do I know where this thirst for vengeance may end.","group":"-1"},{"id":"1881","x":"7.651828","y":"11.594636","name":"When actuated by selfish and vicious motives, I asked you to undertake my unfinished work; and I renew this request now, when I am only induced by reason and virtue.","group":"40"},{"id":"1882","x":"7.175067","y":"8.180642","name":"\\"Yet I cannot ask you to renounce your country and friends, to fulfil this task; and now, that you are returning to England, you will have little chance of meeting with him.","group":"14"},{"id":"1883","x":"7.07972","y":"11.463092","name":"But the consideration of these points, and the well balancing of what you may esteem your duties, I leave to you; my judgment and ideas are already disturbed by the near approach of death.","group":"41"},{"id":"1884","x":"7.0055714","y":"10.251972","name":"\\"That he should live to be an instrument of mischief disturbs me; in other respects, this hour, when I momentarily expect my release, is the only happy one which I have enjoyed for several years.","group":"-1"},{"id":"1885","x":"4.091317","y":"11.255936","name":"Seek happiness in tranquillity, and avoid ambition, even if it be only the apparently innocent one of distinguishing yourself in science and discoveries.","group":"4"},{"id":"1886","x":"6.981401","y":"10.149041","name":"About half an hour afterwards he attempted again to speak, but was unable; he pressed my hand feebly, and his eyes closed for ever, while the irradiation of a gentle smile passed away from his lips.","group":"-1"},{"id":"1887","x":"6.23241","y":"12.908378","name":"Again; there is a sound as of a human voice, but hoarser; it comes from the cabin where the remains of Frankenstein still lie.","group":"0"},{"id":"1888","x":"6.4901342","y":"10.724338","name":"I hardly know whether I shall have the power to detail it; yet the tale which I have recorded would be incomplete without this final and wonderful catastrophe.","group":"-1"},{"id":"1889","x":"5.9078784","y":"12.369046","name":"Over him hung a form which I cannot find words to describe; gigantic in stature, yet uncouth and distorted in its proportions.","group":"-1"},{"id":"1890","x":"9.4952345","y":"9.626125","name":"As he hung over the coffin, his face was concealed by long locks of ragged hair; but one vast hand was extended, in colour and apparent texture like that of a mummy.","group":"-1"},{"id":"1891","x":"6.364541","y":"10.011465","name":"When he heard the sound of my approach, he ceased to utter exclamations of grief and horror, and sprung towards the window.","group":"32"},{"id":"1892","x":"6.447139","y":"11.411844","name":"I shut my eyes involuntarily, and endeavoured to recollect what were my duties with regard to this destroyer.","group":"-1"},{"id":"1893","x":"6.6939487","y":"12.215934","name":"He paused, looking on me with wonder; and, again turning towards the lifeless form of his creator, he seemed to forget my presence, and every feature and gesture seemed instigated by the wildest rage of some uncontrollable passion.","group":"36"},{"id":"1894","x":"8.608707","y":"12.006472","name":"he exclaimed: \\"in his murder my crimes are consummated; the miserable series of my being is wound to its close!","group":"15"},{"id":"1895","x":"6.8180194","y":"11.549529","name":"His voice seemed suffocated; and my first impulses, which had suggested to me the duty of obeying the dying request of my friend, in destroying his enemy, were now suspended by a mixture of curiosity and compassion.","group":"-1"},{"id":"1896","x":"6.341067","y":"11.907392","name":"I approached this tremendous being; I dared not again raise my eyes to his face, there was something so scaring and unearthly in his ugliness.","group":"-1"},{"id":"1897","x":"7.423124","y":"11.691723","name":"At length I gathered resolution to address him in a pause of the tempest of his passion: \\"Your repentance,\\" I said, \\"is now superfluous.","group":"40"},{"id":"1898","x":"6.370386","y":"12.895356","name":"If you had listened to the voice of conscience, and heeded the stings of remorse, before you had urged your diabolical vengeance to this extremity, Frankenstein would yet have lived.","group":"0"},{"id":"1899","x":"7.920398","y":"12.085073","name":"said the d\xe6mon; \\"do you think that I was then dead to agony and remorse?--He,\\" he continued, pointing to the corpse, \\"he suffered not in the consummation of the deed--oh!","group":"-1"},{"id":"1900","x":"6.7535796","y":"11.417434","name":"not the ten-thousandth portion of the anguish that was mine during the lingering detail of its execution.","group":"-1"},{"id":"1901","x":"6.993212","y":"10.872363","name":"My heart was fashioned to be susceptible of love and sympathy; and, when wrenched by misery to vice and hatred, it did not endure the violence of the change, without torture such as you cannot even imagine.","group":"38"},{"id":"1902","x":"6.9985557","y":"11.760182","name":"But when I discovered that he, the author at once of my existence and of its unspeakable torments, dared to hope for happiness; that while he accumulated wretchedness and despair upon me, he sought his own enjoyment in feelings and passions from the indulgence of which I was for ever barred, then impotent envy and bitter indignation filled me with an insatiable thirst for vengeance.","group":"-1"},{"id":"1903","x":"6.5431376","y":"11.689307","name":"I knew that I was preparing for myself a deadly torture; but I was the slave, not the master, of an impulse, which I detested, yet could not disobey.","group":"-1"},{"id":"1904","x":"6.2087774","y":"12.876358","name":"I was at first touched by the expressions of his misery; yet, when I called to mind what Frankenstein had said of his powers of eloquence and persuasion, and when I again cast my eyes on the lifeless form of my friend, indignation was rekindled within me.","group":"0"},{"id":"1905","x":"4.8172526","y":"9.235245","name":"You throw a torch into a pile of buildings; and, when they are consumed, you sit among the ruins, and lament the fall.","group":"21"},{"id":"1906","x":"7.671751","y":"12.15756","name":"if he whom you mourn still lived, still would he be the object, again would he become the prey, of your accursed vengeance.","group":"-1"},{"id":"1907","x":"7.696946","y":"11.129223","name":"It is not pity that you feel; you lament only because the victim of your malignity is withdrawn from your power.\\"","group":"25"},{"id":"1908","x":"6.9737287","y":"12.288323","name":"\\"Oh, it is not thus--not thus,\\" interrupted the being; \\"yet such must be the impression conveyed to you by what appears to be the purport of my actions.","group":"-1"},{"id":"1909","x":"7.5759087","y":"10.427397","name":"When I first sought it, it was the love of virtue, the feelings of happiness and affection with which my whole being overflowed, that I wished to be participated.","group":"26"},{"id":"1910","x":"7.568328","y":"10.932785","name":"But now, that virtue has become to me a shadow, and that happiness and affection are turned into bitter and loathing despair, in what should I seek for sympathy?","group":"25"},{"id":"1911","x":"7.327077","y":"11.079648","name":"I am content to suffer alone, while my sufferings shall endure: when I die, I am well satisfied that abhorrence and opprobrium should load my memory.","group":"-1"},{"id":"1912","x":"7.1857405","y":"10.312781","name":"Once I falsely hoped to meet with beings, who, pardoning my outward form, would love me for the excellent qualities which I was capable of unfolding.","group":"-1"},{"id":"1913","x":"7.0020165","y":"11.193246","name":"When I run over the frightful catalogue of my sins, I cannot believe that I am the same creature whose thoughts were once filled with sublime and transcendent visions of the beauty and the majesty of goodness.","group":"-1"},{"id":"1914","x":"6.3964767","y":"10.890056","name":"But, in the detail which he gave you of them, he could not sum up the hours and months of misery which I endured, wasting in impotent passions.","group":"38"},{"id":"1915","x":"8.542262","y":"12.078029","name":"I have murdered the lovely and the helpless; I have strangled the innocent as they slept, and grasped to death his throat who never injured me or any other living thing.","group":"15"},{"id":"1916","x":"7.2898073","y":"11.765859","name":"I have devoted my creator, the select specimen of all that is worthy of love and admiration among men, to misery; I have pursued him even to that irremediable ruin.","group":"-1"},{"id":"1917","x":"6.763421","y":"10.020263","name":"I look on the hands which executed the deed; I think on the heart in which the imagination of it was conceived, and long for the moment when these hands will meet my eyes, when that imagination will haunt my thoughts no more.","group":"-1"},{"id":"1918","x":"7.881838","y":"12.103464","name":"Neither yours nor any man\'s death is needed to consummate the series of my being, and accomplish that which must be done; but it requires my own.","group":"-1"},{"id":"1919","x":"4.747087","y":"7.3806715","name":"I shall quit your vessel on the ice-raft which brought me thither, and shall seek the most northern extremity of the globe; I shall collect my funeral pile, and consume to ashes this miserable frame, that its remains may afford no light to any curious and unhallowed wretch, who would create such another as I have been.","group":"-1"},{"id":"1920","x":"7.133477","y":"10.763708","name":"I shall no longer feel the agonies which now consume me, or be the prey of feelings unsatisfied, yet unquenched.","group":"-1"},{"id":"1921","x":"7.776888","y":"11.930078","name":"He is dead who called me into being; and when I shall be no more, the very remembrance of us both will speedily vanish.","group":"-1"},{"id":"1922","x":"6.1434035","y":"9.407351","name":"Some years ago, when the images which this world affords first opened upon me, when I felt the cheering warmth of summer, and heard the rustling of the leaves and the warbling of the birds, and these were all to me, I should have wept to die; now it is my only consolation.","group":"-1"},{"id":"1923","x":"7.5530243","y":"12.441506","name":"If thou wert yet alive, and yet cherished a desire of revenge against me, it would be better satiated in my life than in my destruction.","group":"31"},{"id":"1924","x":"7.3022947","y":"12.472525","name":"But it was not so; thou didst seek my extinction, that I might not cause greater wretchedness; and if yet, in some mode unknown to me, thou hadst not ceased to think and feel, thou wouldst not desire against me a vengeance greater than that which I feel.","group":"-1"},{"id":"1925","x":"7.157832","y":"11.388535","name":"Blasted as thou wert, my agony was still superior to thine; for the bitter sting of remorse will not cease to rankle in my wounds until death shall close them for ever.","group":"41"},{"id":"1926","x":"7.1278596","y":"11.316535","name":"\\"But soon,\\" he cried, with sad and solemn enthusiasm, \\"I shall die, and what I now feel be no longer felt.","group":"41"},{"id":"cluster0","x":"6.2483754","y":"12.896856","label":"Frankenstein Narratives"},{"id":"cluster1","x":"7.551227","y":"7.102318","label":"Cottage Life Activities"},{"id":"cluster2","x":"6.818598","y":"7.30195","label":"Rural Survival Struggles"},{"id":"cluster3","x":"4.2855754","y":"10.496644","label":"Scientific Discoveries"},{"id":"cluster4","x":"4.3795204","y":"11.347558","label":"Scientific Pursuits and Discoveries"},{"id":"cluster5","x":"10.083268","y":"11.176913","label":"Justine\'s Trial"},{"id":"cluster6","x":"10.188406","y":"10.607686","label":"Justine\'s Tragedy"},{"id":"cluster7","x":"8.009972","y":"8.042399","label":"Language Acquisition"},{"id":"cluster8","x":"9.494364","y":"7.76997","label":"Felix\'s Life Narration"},{"id":"cluster9","x":"9.6432495","y":"8.622713","label":"Romantic Tragedies"},{"id":"cluster10","x":"5.74083","y":"7.443435","label":"Whale-Fishing Adventures"},{"id":"cluster11","x":"10.299279","y":"9.631557","label":"Narrative of Adversity"},{"id":"cluster12","x":"9.606921","y":"10.228235","label":"Elizabeth Narratives"},{"id":"cluster13","x":"9.758388","y":"9.266093","label":"Victorian Character Descriptions"},{"id":"cluster14","x":"6.871859","y":"8.244403","label":"European Travel Narratives"},{"id":"cluster15","x":"8.674574","y":"11.642368","label":"Guilt and Murder"},{"id":"cluster16","x":"4.6339865","y":"9.689025","label":"Sensory Experiences"},{"id":"cluster17","x":"5.740423","y":"8.671762","label":"Travel and Nature"},{"id":"cluster18","x":"3.910655","y":"8.302587","label":"Mountainous Landscape Narratives"},{"id":"cluster19","x":"5.325663","y":"8.934685","label":"Survival Narratives"},{"id":"cluster20","x":"4.5572553","y":"7.563284","label":"Polar Exploration Narratives"},{"id":"cluster21","x":"4.9709935","y":"8.55203","label":"Maritime Adventures"},{"id":"cluster22","x":"8.4016905","y":"8.939721","label":"Human Relationships and Emotions"},{"id":"cluster23","x":"7.1573462","y":"8.970118","label":"Clerval\'s Experiences"},{"id":"cluster24","x":"7.7894173","y":"9.080984","label":"Character Analysis and Reflection"},{"id":"cluster25","x":"7.7094607","y":"10.992402","label":"Existential Despair Narratives"},{"id":"cluster26","x":"7.5200906","y":"10.417179","label":"Father-Child Relationships"},{"id":"cluster27","x":"8.31532","y":"10.467795","label":"Emotional Correspondences"},{"id":"cluster28","x":"7.880494","y":"10.055605","label":"Human Relationships and Emotions"},{"id":"cluster29","x":"6.941566","y":"9.7747135","label":"Emotional Transitions"},{"id":"cluster30","x":"5.526557","y":"10.131411","label":"Gothic Horror Narratives"},{"id":"cluster31","x":"7.660013","y":"12.387245","label":"Vengeance and Creation"},{"id":"cluster32","x":"6.3699503","y":"9.907518","label":"Emotional Turmoil Narratives"},{"id":"cluster33","x":"6.1608286","y":"10.34077","label":"Gothic Supernatural Pursuit"},{"id":"cluster34","x":"5.893232","y":"10.991828","label":"Existential Despair"},{"id":"cluster35","x":"6.1657267","y":"11.345648","label":"Personal Struggles and Despair"},{"id":"cluster36","x":"6.5996666","y":"12.105135","label":"Creating Monstrous Beings"},{"id":"cluster37","x":"6.6894436","y":"10.509023","label":"Prison Experiences"},{"id":"cluster38","x":"6.650405","y":"11.017177","label":"Emotional Turmoil Narratives"},{"id":"cluster39","x":"6.952935","y":"11.935858","label":"Intense Personal Struggles"},{"id":"cluster40","x":"7.4529085","y":"11.789626","label":"Gothic Literature Themes"},{"id":"cluster41","x":"7.062425","y":"11.42468","label":"Contemplations on Death"}],"links":[{"source":"2","target":"3","strength":"0.6804331241386291"},{"source":"3","target":"2","strength":"0.6804331241386291"},{"source":"40","target":"42","strength":"0.6826263654877562"},{"source":"42","target":"40","strength":"0.6826263654877562"},{"source":"52","target":"62","strength":"0.679543733307277"},{"source":"52","target":"1594","strength":"0.6508573148232812"},{"source":"62","target":"52","strength":"0.679543733307277"},{"source":"65","target":"1848","strength":"0.7249648285195389"},{"source":"76","target":"1794","strength":"0.7090731952860103"},{"source":"87","target":"1066","strength":"0.6962574892202367"},{"source":"95","target":"431","strength":"0.6543208216268261"},{"source":"104","target":"115","strength":"0.7242576337292437"},{"source":"106","target":"121","strength":"0.6734097989958167"},{"source":"112","target":"1792","strength":"0.6857407312888135"},{"source":"114","target":"1592","strength":"0.6686700901916861"},{"source":"114","target":"1902","strength":"0.754165390546584"},{"source":"115","target":"104","strength":"0.7242576337292437"},{"source":"121","target":"106","strength":"0.6734097989958167"},{"source":"128","target":"1709","strength":"0.67153686393721"},{"source":"149","target":"1107","strength":"0.6541562952486154"},{"source":"150","target":"153","strength":"0.7107466740032106"},{"source":"152","target":"171","strength":"0.650992082581229"},{"source":"153","target":"150","strength":"0.7107466740032106"},{"source":"153","target":"457","strength":"0.6610911607218427"},{"source":"156","target":"1248","strength":"0.664197426502112"},{"source":"156","target":"1835","strength":"0.656860227761767"},{"source":"159","target":"1201","strength":"0.6509852475482878"},{"source":"165","target":"767","strength":"0.6503402838040268"},{"source":"166","target":"974","strength":"0.6776959280381545"},{"source":"166","target":"1201","strength":"0.653269013668495"},{"source":"171","target":"152","strength":"0.650992082581229"},{"source":"173","target":"200","strength":"0.6672963492605481"},{"source":"173","target":"933","strength":"0.7572699289921433"},{"source":"173","target":"1178","strength":"0.7120466284552738"},{"source":"185","target":"1626","strength":"0.6687501361706174"},{"source":"200","target":"173","strength":"0.6672963492605481"},{"source":"200","target":"201","strength":"0.6952818170457595"},{"source":"200","target":"255","strength":"0.6993105908565203"},{"source":"201","target":"200","strength":"0.6952818170457595"},{"source":"202","target":"503","strength":"0.6572409902196217"},{"source":"202","target":"1346","strength":"0.6770314024096313"},{"source":"203","target":"204","strength":"0.6736247690368067"},{"source":"203","target":"925","strength":"0.6645574982387749"},{"source":"204","target":"203","strength":"0.6736247690368067"},{"source":"204","target":"560","strength":"0.6612866982546969"},{"source":"204","target":"714","strength":"0.6668257710924491"},{"source":"204","target":"1556","strength":"0.6607984754793594"},{"source":"204","target":"1902","strength":"0.6792177719858121"},{"source":"205","target":"307","strength":"0.6616196985529647"},{"source":"205","target":"309","strength":"0.6595525503623175"},{"source":"213","target":"1027","strength":"0.7003825747846579"},{"source":"221","target":"239","strength":"0.6710886929315134"},{"source":"226","target":"278","strength":"0.6650841094852071"},{"source":"226","target":"330","strength":"0.7101561933282718"},{"source":"232","target":"277","strength":"0.6583167275923831"},{"source":"232","target":"477","strength":"0.6629257650885846"},{"source":"233","target":"307","strength":"0.7048486230037321"},{"source":"239","target":"221","strength":"0.6710886929315134"},{"source":"243","target":"696","strength":"0.7004964333984273"},{"source":"250","target":"969","strength":"0.6594731456282235"},{"source":"254","target":"667","strength":"0.6638060511481663"},{"source":"254","target":"688","strength":"0.7335130221619002"},{"source":"254","target":"1413","strength":"0.6656620443838508"},{"source":"255","target":"200","strength":"0.6993105908565203"},{"source":"259","target":"407","strength":"0.6916626859769427"},{"source":"259","target":"664","strength":"0.6580817681691269"},{"source":"259","target":"1674","strength":"0.6642694472672601"},{"source":"277","target":"232","strength":"0.6583167275923831"},{"source":"278","target":"226","strength":"0.6650841094852071"},{"source":"305","target":"309","strength":"0.6973203213164149"},{"source":"307","target":"205","strength":"0.6616196985529647"},{"source":"307","target":"233","strength":"0.7048486230037321"},{"source":"309","target":"205","strength":"0.6595525503623175"},{"source":"309","target":"305","strength":"0.6973203213164149"},{"source":"314","target":"1380","strength":"0.7023338491479233"},{"source":"318","target":"1602","strength":"0.6529498079468055"},{"source":"330","target":"226","strength":"0.7101561933282718"},{"source":"331","target":"342","strength":"0.7271309499239877"},{"source":"331","target":"352","strength":"0.7278406854002708"},{"source":"332","target":"741","strength":"0.6981852063960863"},{"source":"342","target":"331","strength":"0.7271309499239877"},{"source":"343","target":"1827","strength":"0.6781076847537295"},{"source":"343","target":"1830","strength":"0.6692177938206669"},{"source":"352","target":"331","strength":"0.7278406854002708"},{"source":"356","target":"398","strength":"0.7261516742590529"},{"source":"356","target":"672","strength":"0.6526819533180044"},{"source":"356","target":"714","strength":"0.674870315823873"},{"source":"356","target":"749","strength":"0.6653461351892167"},{"source":"356","target":"1400","strength":"0.7273746373653726"},{"source":"361","target":"373","strength":"0.7077197398868749"},{"source":"367","target":"679","strength":"0.7221361133796148"},{"source":"373","target":"361","strength":"0.7077197398868749"},{"source":"373","target":"1167","strength":"0.6811689071020706"},{"source":"376","target":"1437","strength":"0.6597825131618044"},{"source":"377","target":"560","strength":"0.6581811186930494"},{"source":"377","target":"714","strength":"0.6775094792702155"},{"source":"377","target":"1388","strength":"0.6826579624967635"},{"source":"377","target":"1432","strength":"0.6563621756048391"},{"source":"377","target":"1902","strength":"0.6715951254623"},{"source":"379","target":"380","strength":"0.8268454027133785"},{"source":"379","target":"388","strength":"0.6760828289931049"},{"source":"380","target":"379","strength":"0.8268454027133785"},{"source":"381","target":"798","strength":"0.6677639385090139"},{"source":"384","target":"393","strength":"0.6541706960184144"},{"source":"385","target":"1569","strength":"0.6646343917005537"},{"source":"387","target":"1501","strength":"0.7244252283078371"},{"source":"388","target":"379","strength":"0.6760828289931049"},{"source":"388","target":"393","strength":"0.6539097777748565"},{"source":"388","target":"1565","strength":"0.6529405507104054"},{"source":"390","target":"1400","strength":"0.6741821913315075"},{"source":"393","target":"384","strength":"0.6541706960184144"},{"source":"393","target":"388","strength":"0.6539097777748565"},{"source":"393","target":"575","strength":"0.6737366300402828"},{"source":"393","target":"638","strength":"0.6536924545949387"},{"source":"393","target":"676","strength":"0.6802080947732937"},{"source":"393","target":"1421","strength":"0.715617709051172"},{"source":"393","target":"1696","strength":"0.6861007516603396"},{"source":"398","target":"356","strength":"0.7261516742590529"},{"source":"398","target":"1061","strength":"0.6726634166479885"},{"source":"398","target":"1400","strength":"0.7139111790936643"},{"source":"402","target":"1449","strength":"0.6553587627367969"},{"source":"407","target":"259","strength":"0.6916626859769427"},{"source":"407","target":"522","strength":"0.657913997770419"},{"source":"407","target":"1674","strength":"0.6561301011402517"},{"source":"417","target":"428","strength":"0.6512844278121858"},{"source":"417","target":"1453","strength":"0.6512033177133447"},{"source":"419","target":"530","strength":"0.7023983397956919"},{"source":"422","target":"1573","strength":"0.6593169947413369"},{"source":"422","target":"1636","strength":"0.6562028667552496"},{"source":"425","target":"1565","strength":"0.700817680487605"},{"source":"428","target":"417","strength":"0.6512844278121858"},{"source":"428","target":"505","strength":"0.6760582154178979"},{"source":"428","target":"735","strength":"0.6530609699077403"},{"source":"428","target":"754","strength":"0.7117664829911013"},{"source":"428","target":"925","strength":"0.692887819044088"},{"source":"428","target":"1241","strength":"0.7230184129232201"},{"source":"428","target":"1242","strength":"0.6580108233354118"},{"source":"428","target":"1244","strength":"0.668834337738574"},{"source":"428","target":"1266","strength":"0.6969888951831829"},{"source":"428","target":"1414","strength":"0.6535831503391142"},{"source":"428","target":"1453","strength":"0.697002509169802"},{"source":"431","target":"95","strength":"0.6543208216268261"},{"source":"435","target":"1593","strength":"0.6507832757754474"},{"source":"440","target":"1610","strength":"0.6827017402362197"},{"source":"447","target":"456","strength":"0.6617645977906722"},{"source":"447","target":"602","strength":"0.6617200463296171"},{"source":"450","target":"453","strength":"0.6595047389847796"},{"source":"453","target":"450","strength":"0.6595047389847796"},{"source":"456","target":"447","strength":"0.6617645977906722"},{"source":"456","target":"460","strength":"0.66334640032425"},{"source":"456","target":"630","strength":"0.6534109274878287"},{"source":"456","target":"680","strength":"0.653048953445875"},{"source":"457","target":"153","strength":"0.6610911607218427"},{"source":"460","target":"456","strength":"0.66334640032425"},{"source":"460","target":"608","strength":"0.6503266070844401"},{"source":"460","target":"894","strength":"0.6933581885794308"},{"source":"460","target":"1623","strength":"0.6696522329130643"},{"source":"461","target":"642","strength":"0.6820623554710938"},{"source":"477","target":"232","strength":"0.6629257650885846"},{"source":"484","target":"1319","strength":"0.6593005966343111"},{"source":"490","target":"1318","strength":"0.6506304834015945"},{"source":"502","target":"1761","strength":"0.6638061678930588"},{"source":"503","target":"202","strength":"0.6572409902196217"},{"source":"503","target":"1311","strength":"0.6538978736000399"},{"source":"503","target":"1336","strength":"0.6914693228670233"},{"source":"505","target":"428","strength":"0.6760582154178979"},{"source":"505","target":"754","strength":"0.6702370105050268"},{"source":"505","target":"1066","strength":"0.6697779719702557"},{"source":"508","target":"1201","strength":"0.7068235973781224"},{"source":"512","target":"1593","strength":"0.6613906036645657"},{"source":"519","target":"613","strength":"0.6583849305197814"},{"source":"522","target":"407","strength":"0.657913997770419"},{"source":"522","target":"1413","strength":"0.6576707023143592"},{"source":"526","target":"576","strength":"0.6855992010088233"},{"source":"530","target":"419","strength":"0.7023983397956919"},{"source":"531","target":"670","strength":"0.686221436966491"},{"source":"531","target":"1904","strength":"0.7143600866000465"},{"source":"537","target":"691","strength":"0.6608530501990874"},{"source":"537","target":"1238","strength":"0.6629344912986009"},{"source":"537","target":"1379","strength":"0.6530245785813713"},{"source":"537","target":"1896","strength":"0.6601812507878605"},{"source":"539","target":"1061","strength":"0.692763963366308"},{"source":"551","target":"553","strength":"0.6501211606057923"},{"source":"553","target":"551","strength":"0.6501211606057923"},{"source":"560","target":"204","strength":"0.6612866982546969"},{"source":"560","target":"377","strength":"0.6581811186930494"},{"source":"565","target":"674","strength":"0.6514281835985761"},{"source":"565","target":"1388","strength":"0.6706627774878309"},{"source":"565","target":"1565","strength":"0.6723316768036812"},{"source":"567","target":"1565","strength":"0.6539626084124955"},{"source":"567","target":"1581","strength":"0.6755428698410685"},{"source":"567","target":"1624","strength":"0.6597540696774502"},{"source":"571","target":"1564","strength":"0.6622175091031628"},{"source":"573","target":"842","strength":"0.7357948139478396"},{"source":"574","target":"1819","strength":"0.6571627927507537"},{"source":"575","target":"393","strength":"0.6737366300402828"},{"source":"575","target":"1504","strength":"0.6697135955587278"},{"source":"576","target":"526","strength":"0.6855992010088233"},{"source":"581","target":"610","strength":"0.7047796135492739"},{"source":"581","target":"626","strength":"0.6783507463024248"},{"source":"590","target":"632","strength":"0.6713643291038962"},{"source":"591","target":"1583","strength":"0.6762749403007435"},{"source":"597","target":"599","strength":"0.6518432251268169"},{"source":"597","target":"632","strength":"0.6840672610694658"},{"source":"598","target":"701","strength":"0.6682770246866109"},{"source":"599","target":"597","strength":"0.6518432251268169"},{"source":"599","target":"632","strength":"0.7394742285938287"},{"source":"602","target":"447","strength":"0.6617200463296171"},{"source":"602","target":"1580","strength":"0.7278178599829531"},{"source":"603","target":"1520","strength":"0.7092641752927574"},{"source":"603","target":"1580","strength":"0.6728872788204419"},{"source":"606","target":"615","strength":"0.676663808322497"},{"source":"608","target":"460","strength":"0.6503266070844401"},{"source":"610","target":"581","strength":"0.7047796135492739"},{"source":"613","target":"519","strength":"0.6583849305197814"},{"source":"613","target":"618","strength":"0.7764814461463859"},{"source":"615","target":"606","strength":"0.676663808322497"},{"source":"616","target":"625","strength":"0.7192352822692796"},{"source":"618","target":"613","strength":"0.7764814461463859"},{"source":"620","target":"913","strength":"0.6727394673462546"},{"source":"620","target":"1675","strength":"0.65247397817758"},{"source":"625","target":"616","strength":"0.7192352822692796"},{"source":"626","target":"581","strength":"0.6783507463024248"},{"source":"630","target":"456","strength":"0.6534109274878287"},{"source":"632","target":"590","strength":"0.6713643291038962"},{"source":"632","target":"597","strength":"0.6840672610694658"},{"source":"632","target":"599","strength":"0.7394742285938287"},{"source":"635","target":"1899","strength":"0.654898216900599"},{"source":"638","target":"393","strength":"0.6536924545949387"},{"source":"638","target":"1432","strength":"0.6544975891720319"},{"source":"638","target":"1450","strength":"0.6583348774355476"},{"source":"642","target":"461","strength":"0.6820623554710938"},{"source":"646","target":"661","strength":"0.6640440366281832"},{"source":"646","target":"1676","strength":"0.6670827339438683"},{"source":"653","target":"1649","strength":"0.6793182921585952"},{"source":"653","target":"1911","strength":"0.6828410404012615"},{"source":"653","target":"1926","strength":"0.6504573141248197"},{"source":"654","target":"775","strength":"0.6589530532561829"},{"source":"656","target":"971","strength":"0.7016932488745815"},{"source":"656","target":"1810","strength":"0.6517951433374148"},{"source":"661","target":"646","strength":"0.6640440366281832"},{"source":"661","target":"696","strength":"0.7753385738071656"},{"source":"661","target":"1413","strength":"0.7316738462120271"},{"source":"661","target":"1676","strength":"0.6517514310566104"},{"source":"662","target":"673","strength":"0.6910814930718995"},{"source":"662","target":"969","strength":"0.6618455030899808"},{"source":"662","target":"1519","strength":"0.6594553665830255"},{"source":"662","target":"1753","strength":"0.679649203711816"},{"source":"662","target":"1901","strength":"0.6834226176358034"},{"source":"664","target":"259","strength":"0.6580817681691269"},{"source":"664","target":"1676","strength":"0.681765366382121"},{"source":"667","target":"254","strength":"0.6638060511481663"},{"source":"667","target":"688","strength":"0.7039659484720724"},{"source":"667","target":"1277","strength":"0.7319743782073997"},{"source":"667","target":"1413","strength":"0.6805892258665825"},{"source":"667","target":"1676","strength":"0.6726830371710121"},{"source":"670","target":"531","strength":"0.686221436966491"},{"source":"670","target":"768","strength":"0.710298331803615"},{"source":"670","target":"1851","strength":"0.6815340262312485"},{"source":"670","target":"1898","strength":"0.6771055014760682"},{"source":"670","target":"1904","strength":"0.6999273329788012"},{"source":"672","target":"356","strength":"0.6526819533180044"},{"source":"672","target":"750","strength":"0.6684455368426823"},{"source":"672","target":"971","strength":"0.6772075759398931"},{"source":"672","target":"1414","strength":"0.674623342843912"},{"source":"672","target":"1571","strength":"0.6765401068954574"},{"source":"672","target":"1591","strength":"0.6827172906128016"},{"source":"673","target":"662","strength":"0.6910814930718995"},{"source":"673","target":"1232","strength":"0.6502465610095745"},{"source":"674","target":"565","strength":"0.6514281835985761"},{"source":"674","target":"1421","strength":"0.675134835976585"},{"source":"674","target":"1569","strength":"0.6579165107995462"},{"source":"676","target":"393","strength":"0.6802080947732937"},{"source":"676","target":"1128","strength":"0.6669762822704942"},{"source":"676","target":"1624","strength":"0.6985303692428911"},{"source":"676","target":"1765","strength":"0.653247668024184"},{"source":"676","target":"1925","strength":"0.6799405207695499"},{"source":"678","target":"1395","strength":"0.6945700052970831"},{"source":"679","target":"367","strength":"0.7221361133796148"},{"source":"679","target":"1061","strength":"0.6597087421026623"},{"source":"679","target":"1242","strength":"0.7198730394567467"},{"source":"679","target":"1539","strength":"0.6567768906813846"},{"source":"679","target":"1571","strength":"0.6503757921664679"},{"source":"679","target":"1573","strength":"0.6722267797729895"},{"source":"679","target":"1639","strength":"0.692424987420394"},{"source":"680","target":"456","strength":"0.653048953445875"},{"source":"680","target":"1629","strength":"0.7063036080472367"},{"source":"687","target":"1061","strength":"0.6625302613788882"},{"source":"688","target":"254","strength":"0.7335130221619002"},{"source":"688","target":"667","strength":"0.7039659484720724"},{"source":"688","target":"1413","strength":"0.7391466227664696"},{"source":"688","target":"1626","strength":"0.7099252074558047"},{"source":"688","target":"1676","strength":"0.6981621415924157"},{"source":"691","target":"537","strength":"0.6608530501990874"},{"source":"691","target":"1388","strength":"0.6850174652927711"},{"source":"691","target":"1565","strength":"0.6571526042967405"},{"source":"691","target":"1705","strength":"0.689402441481669"},{"source":"693","target":"1210","strength":"0.6631006702050002"},{"source":"693","target":"1321","strength":"0.6942851568608333"},{"source":"693","target":"1706","strength":"0.6943496916125765"},{"source":"695","target":"1706","strength":"0.6645222530228472"},{"source":"696","target":"243","strength":"0.7004964333984273"},{"source":"696","target":"661","strength":"0.7753385738071656"},{"source":"696","target":"1413","strength":"0.6959550669604196"},{"source":"696","target":"1676","strength":"0.6819060907013365"},{"source":"700","target":"961","strength":"0.7166801340535343"},{"source":"701","target":"598","strength":"0.6682770246866109"},{"source":"708","target":"1723","strength":"0.6730343251864706"},{"source":"714","target":"204","strength":"0.6668257710924491"},{"source":"714","target":"356","strength":"0.674870315823873"},{"source":"714","target":"377","strength":"0.6775094792702155"},{"source":"714","target":"749","strength":"0.6678343765866461"},{"source":"714","target":"754","strength":"0.7063261502498814"},{"source":"714","target":"1061","strength":"0.6590796525056645"},{"source":"714","target":"1107","strength":"0.7093368704186428"},{"source":"714","target":"1148","strength":"0.6856018786512531"},{"source":"714","target":"1151","strength":"0.6784191588623116"},{"source":"714","target":"1556","strength":"0.6969422314174353"},{"source":"715","target":"1148","strength":"0.6748625903147273"},{"source":"715","target":"1184","strength":"0.6647027547449302"},{"source":"715","target":"1403","strength":"0.6946311963461831"},{"source":"715","target":"1556","strength":"0.6532694281338479"},{"source":"720","target":"1289","strength":"0.667503351288382"},{"source":"720","target":"1290","strength":"0.6874242590244914"},{"source":"720","target":"1296","strength":"0.656334254655837"},{"source":"725","target":"1788","strength":"0.6601804597458579"},{"source":"731","target":"1421","strength":"0.6678065880787531"},{"source":"735","target":"428","strength":"0.6530609699077403"},{"source":"739","target":"747","strength":"0.6830144192571377"},{"source":"741","target":"332","strength":"0.6981852063960863"},{"source":"741","target":"1453","strength":"0.6573966443858524"},{"source":"742","target":"925","strength":"0.6617209755918222"},{"source":"747","target":"739","strength":"0.6830144192571377"},{"source":"747","target":"757","strength":"0.6667120645656055"},{"source":"747","target":"1656","strength":"0.6535535576081408"},{"source":"749","target":"356","strength":"0.6653461351892167"},{"source":"749","target":"714","strength":"0.6678343765866461"},{"source":"750","target":"672","strength":"0.6684455368426823"},{"source":"754","target":"428","strength":"0.7117664829911013"},{"source":"754","target":"505","strength":"0.6702370105050268"},{"source":"754","target":"714","strength":"0.7063261502498814"},{"source":"754","target":"925","strength":"0.6740851973222942"},{"source":"754","target":"1061","strength":"0.6951678663085241"},{"source":"754","target":"1266","strength":"0.6551908036888133"},{"source":"754","target":"1556","strength":"0.652577593224031"},{"source":"754","target":"1922","strength":"0.6643826309869437"},{"source":"757","target":"747","strength":"0.6667120645656055"},{"source":"758","target":"1896","strength":"0.6562462906565368"},{"source":"759","target":"1210","strength":"0.6566210853207974"},{"source":"759","target":"1896","strength":"0.7261178571495529"},{"source":"764","target":"1101","strength":"0.6818506810965161"},{"source":"767","target":"165","strength":"0.6503402838040268"},{"source":"767","target":"769","strength":"0.6662927514207875"},{"source":"768","target":"670","strength":"0.710298331803615"},{"source":"769","target":"767","strength":"0.6662927514207875"},{"source":"775","target":"654","strength":"0.6589530532561829"},{"source":"779","target":"1177","strength":"0.65037801176732"},{"source":"779","target":"1194","strength":"0.7159726176816981"},{"source":"783","target":"1217","strength":"0.6736377195619668"},{"source":"785","target":"1388","strength":"0.6813991412099872"},{"source":"786","target":"822","strength":"0.667241641517677"},{"source":"786","target":"831","strength":"0.6712261816170179"},{"source":"789","target":"800","strength":"0.7071755536118124"},{"source":"791","target":"796","strength":"0.6868035633313301"},{"source":"791","target":"801","strength":"0.6719075785233036"},{"source":"791","target":"1513","strength":"0.6691354133133209"},{"source":"792","target":"834","strength":"0.6814117886588152"},{"source":"796","target":"791","strength":"0.6868035633313301"},{"source":"796","target":"811","strength":"0.6544571539488047"},{"source":"796","target":"907","strength":"0.681053899739025"},{"source":"796","target":"1103","strength":"0.7156174832938489"},{"source":"796","target":"1400","strength":"0.6716344875817715"},{"source":"796","target":"1421","strength":"0.6847321894877684"},{"source":"796","target":"1504","strength":"0.6697114526186468"},{"source":"796","target":"1513","strength":"0.6534352146131961"},{"source":"798","target":"381","strength":"0.6677639385090139"},{"source":"798","target":"1370","strength":"0.6546064742103044"},{"source":"798","target":"1752","strength":"0.6531846928261286"},{"source":"799","target":"812","strength":"0.7264992138681513"},{"source":"800","target":"789","strength":"0.7071755536118124"},{"source":"800","target":"801","strength":"0.7109613831957884"},{"source":"800","target":"1513","strength":"0.6623543789033546"},{"source":"801","target":"791","strength":"0.6719075785233036"},{"source":"801","target":"800","strength":"0.7109613831957884"},{"source":"801","target":"806","strength":"0.664230579898308"},{"source":"801","target":"1762","strength":"0.6539292155008751"},{"source":"804","target":"807","strength":"0.6734127945988709"},{"source":"806","target":"801","strength":"0.664230579898308"},{"source":"806","target":"1228","strength":"0.6579980956481999"},{"source":"806","target":"1441","strength":"0.6505589875823038"},{"source":"807","target":"804","strength":"0.6734127945988709"},{"source":"809","target":"814","strength":"0.6549870325921617"},{"source":"810","target":"813","strength":"0.7029900400274414"},{"source":"811","target":"796","strength":"0.6544571539488047"},{"source":"811","target":"1103","strength":"0.6686525537504874"},{"source":"811","target":"1663","strength":"0.6764524578018838"},{"source":"812","target":"799","strength":"0.7264992138681513"},{"source":"813","target":"810","strength":"0.7029900400274414"},{"source":"814","target":"809","strength":"0.6549870325921617"},{"source":"819","target":"907","strength":"0.6564162341115042"},{"source":"819","target":"1145","strength":"0.6543510008805368"},{"source":"820","target":"824","strength":"0.6993307197064431"},{"source":"820","target":"832","strength":"0.6553054981259323"},{"source":"822","target":"786","strength":"0.667241641517677"},{"source":"824","target":"820","strength":"0.6993307197064431"},{"source":"824","target":"951","strength":"0.7761798053722385"},{"source":"824","target":"1073","strength":"0.652389011420073"},{"source":"831","target":"786","strength":"0.6712261816170179"},{"source":"831","target":"1103","strength":"0.6656855302854711"},{"source":"832","target":"820","strength":"0.6553054981259323"},{"source":"834","target":"792","strength":"0.6814117886588152"},{"source":"842","target":"573","strength":"0.7357948139478396"},{"source":"846","target":"861","strength":"0.6980482128891089"},{"source":"847","target":"881","strength":"0.7066599281683064"},{"source":"850","target":"863","strength":"0.7221311807791709"},{"source":"851","target":"871","strength":"0.6701355333327762"},{"source":"851","target":"890","strength":"0.6902751583223684"},{"source":"852","target":"1074","strength":"0.6709652246060831"},{"source":"853","target":"1151","strength":"0.6528744825756477"},{"source":"861","target":"846","strength":"0.6980482128891089"},{"source":"863","target":"850","strength":"0.7221311807791709"},{"source":"871","target":"851","strength":"0.6701355333327762"},{"source":"871","target":"890","strength":"0.6704311329822062"},{"source":"873","target":"1525","strength":"0.6860876732120749"},{"source":"874","target":"890","strength":"0.6719368580185004"},{"source":"874","target":"980","strength":"0.6723393554557294"},{"source":"874","target":"1059","strength":"0.6933886486313965"},{"source":"877","target":"1367","strength":"0.688625208465282"},{"source":"881","target":"847","strength":"0.7066599281683064"},{"source":"883","target":"884","strength":"0.7187271154539472"},{"source":"884","target":"883","strength":"0.7187271154539472"},{"source":"890","target":"851","strength":"0.6902751583223684"},{"source":"890","target":"871","strength":"0.6704311329822062"},{"source":"890","target":"874","strength":"0.6719368580185004"},{"source":"890","target":"972","strength":"0.7100141582996545"},{"source":"890","target":"976","strength":"0.70599839060625"},{"source":"890","target":"1030","strength":"0.6583891877877757"},{"source":"890","target":"1052","strength":"0.7934645684993812"},{"source":"894","target":"460","strength":"0.6933581885794308"},{"source":"894","target":"939","strength":"0.7013299605939948"},{"source":"897","target":"1052","strength":"0.6559207445611556"},{"source":"904","target":"1052","strength":"0.656745121423294"},{"source":"907","target":"796","strength":"0.681053899739025"},{"source":"907","target":"819","strength":"0.6564162341115042"},{"source":"907","target":"951","strength":"0.6875623564748973"},{"source":"907","target":"1068","strength":"0.67478168730086"},{"source":"907","target":"1145","strength":"0.7604646264480731"},{"source":"913","target":"620","strength":"0.6727394673462546"},{"source":"917","target":"929","strength":"0.6506425542678687"},{"source":"917","target":"1011","strength":"0.6695583028561143"},{"source":"919","target":"920","strength":"0.6623015893843635"},{"source":"920","target":"919","strength":"0.6623015893843635"},{"source":"925","target":"203","strength":"0.6645574982387749"},{"source":"925","target":"428","strength":"0.692887819044088"},{"source":"925","target":"742","strength":"0.6617209755918222"},{"source":"925","target":"754","strength":"0.6740851973222942"},{"source":"925","target":"951","strength":"0.6551725838960547"},{"source":"925","target":"1061","strength":"0.6600955805754055"},{"source":"925","target":"1266","strength":"0.6566400498217356"},{"source":"925","target":"1336","strength":"0.6867665958079525"},{"source":"925","target":"1922","strength":"0.6876808985786752"},{"source":"929","target":"917","strength":"0.6506425542678687"},{"source":"929","target":"945","strength":"0.7302633149128741"},{"source":"929","target":"1011","strength":"0.7140621989888541"},{"source":"932","target":"934","strength":"0.7429007130427983"},{"source":"933","target":"173","strength":"0.7572699289921433"},{"source":"933","target":"1178","strength":"0.6841681800775622"},{"source":"934","target":"932","strength":"0.7429007130427983"},{"source":"934","target":"945","strength":"0.6519176128448242"},{"source":"934","target":"989","strength":"0.6795791010626954"},{"source":"934","target":"1011","strength":"0.6591458036064144"},{"source":"934","target":"1178","strength":"0.669684673983221"},{"source":"939","target":"894","strength":"0.7013299605939948"},{"source":"945","target":"929","strength":"0.7302633149128741"},{"source":"945","target":"934","strength":"0.6519176128448242"},{"source":"949","target":"1414","strength":"0.6620962186906384"},{"source":"949","target":"1591","strength":"0.6736268179301156"},{"source":"951","target":"824","strength":"0.7761798053722385"},{"source":"951","target":"907","strength":"0.6875623564748973"},{"source":"951","target":"925","strength":"0.6551725838960547"},{"source":"951","target":"1073","strength":"0.6772342530406191"},{"source":"951","target":"1103","strength":"0.6592414606274054"},{"source":"951","target":"1150","strength":"0.6709646881319513"},{"source":"951","target":"1228","strength":"0.6636341639215502"},{"source":"951","target":"1762","strength":"0.706050109486469"},{"source":"960","target":"965","strength":"0.6682705003791034"},{"source":"961","target":"700","strength":"0.7166801340535343"},{"source":"961","target":"1128","strength":"0.6573188015205498"},{"source":"965","target":"960","strength":"0.6682705003791034"},{"source":"967","target":"1071","strength":"0.7154417790146035"},{"source":"969","target":"250","strength":"0.6594731456282235"},{"source":"969","target":"662","strength":"0.6618455030899808"},{"source":"969","target":"1061","strength":"0.6622924122016258"},{"source":"969","target":"1925","strength":"0.6834547344158454"},{"source":"971","target":"656","strength":"0.7016932488745815"},{"source":"971","target":"672","strength":"0.6772075759398931"},{"source":"971","target":"1547","strength":"0.6550155915208147"},{"source":"972","target":"890","strength":"0.7100141582996545"},{"source":"972","target":"1030","strength":"0.6936987687542772"},{"source":"972","target":"1052","strength":"0.7313498289958456"},{"source":"974","target":"166","strength":"0.6776959280381545"},{"source":"976","target":"890","strength":"0.70599839060625"},{"source":"976","target":"1052","strength":"0.7371659415548144"},{"source":"976","target":"1061","strength":"0.6559251666486835"},{"source":"980","target":"874","strength":"0.6723393554557294"},{"source":"986","target":"989","strength":"0.6603210879111928"},{"source":"986","target":"1001","strength":"0.6997076582610322"},{"source":"987","target":"989","strength":"0.6931135249432601"},{"source":"987","target":"1001","strength":"0.7600126627716163"},{"source":"987","target":"1003","strength":"0.6669223173030232"},{"source":"987","target":"1010","strength":"0.6744815323776951"},{"source":"987","target":"1013","strength":"0.6731622949577458"},{"source":"987","target":"1015","strength":"0.6806767326141265"},{"source":"989","target":"934","strength":"0.6795791010626954"},{"source":"989","target":"986","strength":"0.6603210879111928"},{"source":"989","target":"987","strength":"0.6931135249432601"},{"source":"989","target":"1001","strength":"0.6563782377375171"},{"source":"989","target":"1013","strength":"0.7379490236367819"},{"source":"993","target":"1001","strength":"0.6517468957522524"},{"source":"996","target":"1020","strength":"0.7216124172272976"},{"source":"998","target":"1015","strength":"0.6752293921806354"},{"source":"999","target":"1005","strength":"0.6772446010395018"},{"source":"1000","target":"1015","strength":"0.6509047024739222"},{"source":"1001","target":"986","strength":"0.6997076582610322"},{"source":"1001","target":"987","strength":"0.7600126627716163"},{"source":"1001","target":"989","strength":"0.6563782377375171"},{"source":"1001","target":"993","strength":"0.6517468957522524"},{"source":"1001","target":"1008","strength":"0.6822414113185438"},{"source":"1003","target":"987","strength":"0.6669223173030232"},{"source":"1005","target":"999","strength":"0.6772446010395018"},{"source":"1008","target":"1001","strength":"0.6822414113185438"},{"source":"1010","target":"987","strength":"0.6744815323776951"},{"source":"1010","target":"1013","strength":"0.6773482500340946"},{"source":"1011","target":"917","strength":"0.6695583028561143"},{"source":"1011","target":"929","strength":"0.7140621989888541"},{"source":"1011","target":"934","strength":"0.6591458036064144"},{"source":"1011","target":"1117","strength":"0.6903387156586942"},{"source":"1013","target":"987","strength":"0.6731622949577458"},{"source":"1013","target":"989","strength":"0.7379490236367819"},{"source":"1013","target":"1010","strength":"0.6773482500340946"},{"source":"1015","target":"987","strength":"0.6806767326141265"},{"source":"1015","target":"998","strength":"0.6752293921806354"},{"source":"1015","target":"1000","strength":"0.6509047024739222"},{"source":"1020","target":"996","strength":"0.7216124172272976"},{"source":"1027","target":"213","strength":"0.7003825747846579"},{"source":"1030","target":"890","strength":"0.6583891877877757"},{"source":"1030","target":"972","strength":"0.6936987687542772"},{"source":"1039","target":"1909","strength":"0.6557186679636713"},{"source":"1044","target":"1201","strength":"0.6928734366885014"},{"source":"1045","target":"1902","strength":"0.6571875337198538"},{"source":"1052","target":"890","strength":"0.7934645684993812"},{"source":"1052","target":"897","strength":"0.6559207445611556"},{"source":"1052","target":"904","strength":"0.656745121423294"},{"source":"1052","target":"972","strength":"0.7313498289958456"},{"source":"1052","target":"976","strength":"0.7371659415548144"},{"source":"1052","target":"1061","strength":"0.6755859229251926"},{"source":"1059","target":"874","strength":"0.6933886486313965"},{"source":"1061","target":"398","strength":"0.6726634166479885"},{"source":"1061","target":"539","strength":"0.692763963366308"},{"source":"1061","target":"679","strength":"0.6597087421026623"},{"source":"1061","target":"687","strength":"0.6625302613788882"},{"source":"1061","target":"714","strength":"0.6590796525056645"},{"source":"1061","target":"754","strength":"0.6951678663085241"},{"source":"1061","target":"925","strength":"0.6600955805754055"},{"source":"1061","target":"969","strength":"0.6622924122016258"},{"source":"1061","target":"976","strength":"0.6559251666486835"},{"source":"1061","target":"1052","strength":"0.6755859229251926"},{"source":"1061","target":"1103","strength":"0.6736868679036675"},{"source":"1061","target":"1379","strength":"0.6622255485035772"},{"source":"1061","target":"1388","strength":"0.6507911123728836"},{"source":"1061","target":"1413","strength":"0.6546932295445994"},{"source":"1061","target":"1556","strength":"0.6849866995186852"},{"source":"1061","target":"1649","strength":"0.6590739340402639"},{"source":"1062","target":"1145","strength":"0.6998016690146167"},{"source":"1062","target":"1228","strength":"0.6934531429492248"},{"source":"1062","target":"1922","strength":"0.6561541357187209"},{"source":"1066","target":"87","strength":"0.6962574892202367"},{"source":"1066","target":"505","strength":"0.6697779719702557"},{"source":"1066","target":"1574","strength":"0.6996291971802417"},{"source":"1068","target":"907","strength":"0.67478168730086"},{"source":"1071","target":"967","strength":"0.7154417790146035"},{"source":"1073","target":"824","strength":"0.652389011420073"},{"source":"1073","target":"951","strength":"0.6772342530406191"},{"source":"1074","target":"852","strength":"0.6709652246060831"},{"source":"1085","target":"1086","strength":"0.6856451138993426"},{"source":"1086","target":"1085","strength":"0.6856451138993426"},{"source":"1086","target":"1088","strength":"0.6594805149533681"},{"source":"1088","target":"1086","strength":"0.6594805149533681"},{"source":"1099","target":"1117","strength":"0.6636288446564691"},{"source":"1101","target":"764","strength":"0.6818506810965161"},{"source":"1103","target":"796","strength":"0.7156174832938489"},{"source":"1103","target":"811","strength":"0.6686525537504874"},{"source":"1103","target":"831","strength":"0.6656855302854711"},{"source":"1103","target":"951","strength":"0.6592414606274054"},{"source":"1103","target":"1061","strength":"0.6736868679036675"},{"source":"1103","target":"1132","strength":"0.7124686673560422"},{"source":"1105","target":"1228","strength":"0.7472275977085283"},{"source":"1106","target":"1902","strength":"0.6800909601018446"},{"source":"1107","target":"149","strength":"0.6541562952486154"},{"source":"1107","target":"714","strength":"0.7093368704186428"},{"source":"1107","target":"1167","strength":"0.663568292686982"},{"source":"1116","target":"1569","strength":"0.6575744748289398"},{"source":"1117","target":"1011","strength":"0.6903387156586942"},{"source":"1117","target":"1099","strength":"0.6636288446564691"},{"source":"1128","target":"676","strength":"0.6669762822704942"},{"source":"1128","target":"961","strength":"0.6573188015205498"},{"source":"1128","target":"1729","strength":"0.7121665086830247"},{"source":"1128","target":"1765","strength":"0.7253396628951415"},{"source":"1128","target":"1901","strength":"0.6707439763656795"},{"source":"1128","target":"1902","strength":"0.6634881797641202"},{"source":"1128","target":"1903","strength":"0.698136391878679"},{"source":"1132","target":"1103","strength":"0.7124686673560422"},{"source":"1132","target":"1228","strength":"0.6985857226139259"},{"source":"1132","target":"1571","strength":"0.6535127445603558"},{"source":"1145","target":"819","strength":"0.6543510008805368"},{"source":"1145","target":"907","strength":"0.7604646264480731"},{"source":"1145","target":"1062","strength":"0.6998016690146167"},{"source":"1148","target":"714","strength":"0.6856018786512531"},{"source":"1148","target":"715","strength":"0.6748625903147273"},{"source":"1148","target":"1403","strength":"0.6513566096144023"},{"source":"1148","target":"1414","strength":"0.6575260594689222"},{"source":"1148","target":"1556","strength":"0.6973006048950633"},{"source":"1148","target":"1922","strength":"0.6817438939192517"},{"source":"1150","target":"951","strength":"0.6709646881319513"},{"source":"1150","target":"1153","strength":"0.6892985460057846"},{"source":"1150","target":"1659","strength":"0.6539505900293094"},{"source":"1151","target":"714","strength":"0.6784191588623116"},{"source":"1151","target":"853","strength":"0.6528744825756477"},{"source":"1152","target":"1244","strength":"0.6880068320083798"},{"source":"1153","target":"1150","strength":"0.6892985460057846"},{"source":"1161","target":"1429","strength":"0.666612422773905"},{"source":"1166","target":"1723","strength":"0.6616534537539023"},{"source":"1167","target":"373","strength":"0.6811689071020706"},{"source":"1167","target":"1107","strength":"0.663568292686982"},{"source":"1174","target":"1176","strength":"0.6886855350390035"},{"source":"1175","target":"1194","strength":"0.6926734803311302"},{"source":"1176","target":"1174","strength":"0.6886855350390035"},{"source":"1176","target":"1810","strength":"0.6507481460770059"},{"source":"1177","target":"779","strength":"0.65037801176732"},{"source":"1178","target":"173","strength":"0.7120466284552738"},{"source":"1178","target":"933","strength":"0.6841681800775622"},{"source":"1178","target":"934","strength":"0.669684673983221"},{"source":"1178","target":"1811","strength":"0.6754264234493113"},{"source":"1180","target":"1184","strength":"0.660367707263676"},{"source":"1184","target":"715","strength":"0.6647027547449302"},{"source":"1184","target":"1180","strength":"0.660367707263676"},{"source":"1194","target":"779","strength":"0.7159726176816981"},{"source":"1194","target":"1175","strength":"0.6926734803311302"},{"source":"1194","target":"1923","strength":"0.6914495372290729"},{"source":"1195","target":"1923","strength":"0.6792462672045242"},{"source":"1196","target":"1812","strength":"0.6634774717598284"},{"source":"1201","target":"159","strength":"0.6509852475482878"},{"source":"1201","target":"166","strength":"0.653269013668495"},{"source":"1201","target":"508","strength":"0.7068235973781224"},{"source":"1201","target":"1044","strength":"0.6928734366885014"},{"source":"1201","target":"1902","strength":"0.6547412042404164"},{"source":"1210","target":"693","strength":"0.6631006702050002"},{"source":"1210","target":"759","strength":"0.6566210853207974"},{"source":"1210","target":"1896","strength":"0.6549210333530172"},{"source":"1217","target":"783","strength":"0.6736377195619668"},{"source":"1228","target":"806","strength":"0.6579980956481999"},{"source":"1228","target":"951","strength":"0.6636341639215502"},{"source":"1228","target":"1062","strength":"0.6934531429492248"},{"source":"1228","target":"1105","strength":"0.7472275977085283"},{"source":"1228","target":"1132","strength":"0.6985857226139259"},{"source":"1228","target":"1230","strength":"0.6556256133437646"},{"source":"1230","target":"1228","strength":"0.6556256133437646"},{"source":"1232","target":"673","strength":"0.6502465610095745"},{"source":"1232","target":"1692","strength":"0.6597008806490232"},{"source":"1238","target":"537","strength":"0.6629344912986009"},{"source":"1238","target":"1499","strength":"0.6500976590215242"},{"source":"1238","target":"1784","strength":"0.6831973819811936"},{"source":"1238","target":"1903","strength":"0.6733917255956218"},{"source":"1240","target":"1259","strength":"0.764810800206292"},{"source":"1241","target":"428","strength":"0.7230184129232201"},{"source":"1242","target":"428","strength":"0.6580108233354118"},{"source":"1242","target":"679","strength":"0.7198730394567467"},{"source":"1244","target":"428","strength":"0.668834337738574"},{"source":"1244","target":"1152","strength":"0.6880068320083798"},{"source":"1248","target":"156","strength":"0.664197426502112"},{"source":"1250","target":"1413","strength":"0.6509031762498138"},{"source":"1256","target":"1432","strength":"0.6579139857999623"},{"source":"1256","target":"1746","strength":"0.6700092071485989"},{"source":"1259","target":"1240","strength":"0.764810800206292"},{"source":"1266","target":"428","strength":"0.6969888951831829"},{"source":"1266","target":"754","strength":"0.6551908036888133"},{"source":"1266","target":"925","strength":"0.6566400498217356"},{"source":"1266","target":"1556","strength":"0.6538317438087519"},{"source":"1269","target":"1314","strength":"0.6918950302881453"},{"source":"1273","target":"1351","strength":"0.6639993626865611"},{"source":"1273","target":"1379","strength":"0.6590932365034152"},{"source":"1276","target":"1353","strength":"0.651095652452302"},{"source":"1276","target":"1499","strength":"0.6770713511916981"},{"source":"1277","target":"667","strength":"0.7319743782073997"},{"source":"1277","target":"1413","strength":"0.6514808873739197"},{"source":"1281","target":"1427","strength":"0.6552407930586996"},{"source":"1286","target":"1556","strength":"0.6504289299027375"},{"source":"1289","target":"720","strength":"0.667503351288382"},{"source":"1290","target":"720","strength":"0.6874242590244914"},{"source":"1294","target":"1347","strength":"0.653842274920214"},{"source":"1294","target":"1648","strength":"0.6626496780485309"},{"source":"1295","target":"1342","strength":"0.6921375583902064"},{"source":"1295","target":"1347","strength":"0.6514345711560713"},{"source":"1296","target":"720","strength":"0.656334254655837"},{"source":"1311","target":"503","strength":"0.6538978736000399"},{"source":"1311","target":"1346","strength":"0.6592983442381074"},{"source":"1314","target":"1269","strength":"0.6918950302881453"},{"source":"1315","target":"1689","strength":"0.6667121119699183"},{"source":"1318","target":"490","strength":"0.6506304834015945"},{"source":"1319","target":"484","strength":"0.6593005966343111"},{"source":"1321","target":"693","strength":"0.6942851568608333"},{"source":"1321","target":"1351","strength":"0.6608822937375811"},{"source":"1321","target":"1566","strength":"0.6708079353691117"},{"source":"1336","target":"503","strength":"0.6914693228670233"},{"source":"1336","target":"925","strength":"0.6867665958079525"},{"source":"1336","target":"1556","strength":"0.670083735170061"},{"source":"1342","target":"1295","strength":"0.6921375583902064"},{"source":"1346","target":"202","strength":"0.6770314024096313"},{"source":"1346","target":"1311","strength":"0.6592983442381074"},{"source":"1347","target":"1294","strength":"0.653842274920214"},{"source":"1347","target":"1295","strength":"0.6514345711560713"},{"source":"1347","target":"1403","strength":"0.7174519598192486"},{"source":"1351","target":"1273","strength":"0.6639993626865611"},{"source":"1351","target":"1321","strength":"0.6608822937375811"},{"source":"1351","target":"1450","strength":"0.6774355981507176"},{"source":"1351","target":"1557","strength":"0.6524178409332166"},{"source":"1353","target":"1276","strength":"0.651095652452302"},{"source":"1364","target":"1391","strength":"0.6649202314867155"},{"source":"1367","target":"877","strength":"0.688625208465282"},{"source":"1370","target":"798","strength":"0.6546064742103044"},{"source":"1374","target":"1380","strength":"0.6699259022591315"},{"source":"1379","target":"537","strength":"0.6530245785813713"},{"source":"1379","target":"1061","strength":"0.6622255485035772"},{"source":"1379","target":"1273","strength":"0.6590932365034152"},{"source":"1379","target":"1450","strength":"0.6559633433868329"},{"source":"1380","target":"314","strength":"0.7023338491479233"},{"source":"1380","target":"1374","strength":"0.6699259022591315"},{"source":"1383","target":"1388","strength":"0.7411031754703471"},{"source":"1388","target":"377","strength":"0.6826579624967635"},{"source":"1388","target":"565","strength":"0.6706627774878309"},{"source":"1388","target":"691","strength":"0.6850174652927711"},{"source":"1388","target":"785","strength":"0.6813991412099872"},{"source":"1388","target":"1061","strength":"0.6507911123728836"},{"source":"1388","target":"1383","strength":"0.7411031754703471"},{"source":"1388","target":"1565","strength":"0.650943196047574"},{"source":"1388","target":"1902","strength":"0.6780732067511209"},{"source":"1389","target":"1740","strength":"0.664012449433437"},{"source":"1389","target":"1792","strength":"0.6615540157086266"},{"source":"1391","target":"1364","strength":"0.6649202314867155"},{"source":"1395","target":"678","strength":"0.6945700052970831"},{"source":"1396","target":"1441","strength":"0.7018381604952206"},{"source":"1396","target":"1451","strength":"0.7217051294555508"},{"source":"1400","target":"356","strength":"0.7273746373653726"},{"source":"1400","target":"390","strength":"0.6741821913315075"},{"source":"1400","target":"398","strength":"0.7139111790936643"},{"source":"1400","target":"796","strength":"0.6716344875817715"},{"source":"1400","target":"1571","strength":"0.7001315864464004"},{"source":"1403","target":"715","strength":"0.6946311963461831"},{"source":"1403","target":"1148","strength":"0.6513566096144023"},{"source":"1403","target":"1347","strength":"0.7174519598192486"},{"source":"1413","target":"254","strength":"0.6656620443838508"},{"source":"1413","target":"522","strength":"0.6576707023143592"},{"source":"1413","target":"661","strength":"0.7316738462120271"},{"source":"1413","target":"667","strength":"0.6805892258665825"},{"source":"1413","target":"688","strength":"0.7391466227664696"},{"source":"1413","target":"696","strength":"0.6959550669604196"},{"source":"1413","target":"1061","strength":"0.6546932295445994"},{"source":"1413","target":"1250","strength":"0.6509031762498138"},{"source":"1413","target":"1277","strength":"0.6514808873739197"},{"source":"1413","target":"1626","strength":"0.6502688746380667"},{"source":"1413","target":"1676","strength":"0.7386785376077043"},{"source":"1414","target":"428","strength":"0.6535831503391142"},{"source":"1414","target":"672","strength":"0.674623342843912"},{"source":"1414","target":"949","strength":"0.6620962186906384"},{"source":"1414","target":"1148","strength":"0.6575260594689222"},{"source":"1414","target":"1451","strength":"0.6665075014983294"},{"source":"1414","target":"1591","strength":"0.7107912906504971"},{"source":"1421","target":"393","strength":"0.715617709051172"},{"source":"1421","target":"674","strength":"0.675134835976585"},{"source":"1421","target":"731","strength":"0.6678065880787531"},{"source":"1421","target":"796","strength":"0.6847321894877684"},{"source":"1421","target":"1504","strength":"0.6654412331901205"},{"source":"1421","target":"1569","strength":"0.663231370165008"},{"source":"1421","target":"1570","strength":"0.704021604373422"},{"source":"1421","target":"1571","strength":"0.7240567217953126"},{"source":"1427","target":"1281","strength":"0.6552407930586996"},{"source":"1427","target":"1430","strength":"0.6973550820153708"},{"source":"1429","target":"1161","strength":"0.666612422773905"},{"source":"1430","target":"1427","strength":"0.6973550820153708"},{"source":"1432","target":"377","strength":"0.6563621756048391"},{"source":"1432","target":"638","strength":"0.6544975891720319"},{"source":"1432","target":"1256","strength":"0.6579139857999623"},{"source":"1435","target":"1438","strength":"0.6605935787059053"},{"source":"1437","target":"376","strength":"0.6597825131618044"},{"source":"1438","target":"1435","strength":"0.6605935787059053"},{"source":"1438","target":"1441","strength":"0.761363741410375"},{"source":"1438","target":"1662","strength":"0.662199446727403"},{"source":"1441","target":"806","strength":"0.6505589875823038"},{"source":"1441","target":"1396","strength":"0.7018381604952206"},{"source":"1441","target":"1438","strength":"0.761363741410375"},{"source":"1449","target":"402","strength":"0.6553587627367969"},{"source":"1450","target":"638","strength":"0.6583348774355476"},{"source":"1450","target":"1351","strength":"0.6774355981507176"},{"source":"1450","target":"1379","strength":"0.6559633433868329"},{"source":"1451","target":"1396","strength":"0.7217051294555508"},{"source":"1451","target":"1414","strength":"0.6665075014983294"},{"source":"1451","target":"1659","strength":"0.6962691290917731"},{"source":"1453","target":"417","strength":"0.6512033177133447"},{"source":"1453","target":"428","strength":"0.697002509169802"},{"source":"1453","target":"741","strength":"0.6573966443858524"},{"source":"1480","target":"1486","strength":"0.6644915091141588"},{"source":"1486","target":"1480","strength":"0.6644915091141588"},{"source":"1498","target":"1535","strength":"0.6723445673378444"},{"source":"1498","target":"1689","strength":"0.7289673903090839"},{"source":"1499","target":"1238","strength":"0.6500976590215242"},{"source":"1499","target":"1276","strength":"0.6770713511916981"},{"source":"1499","target":"1570","strength":"0.671785159106614"},{"source":"1501","target":"387","strength":"0.7244252283078371"},{"source":"1504","target":"575","strength":"0.6697135955587278"},{"source":"1504","target":"796","strength":"0.6697114526186468"},{"source":"1504","target":"1421","strength":"0.6654412331901205"},{"source":"1504","target":"1571","strength":"0.7015119560576097"},{"source":"1513","target":"791","strength":"0.6691354133133209"},{"source":"1513","target":"796","strength":"0.6534352146131961"},{"source":"1513","target":"800","strength":"0.6623543789033546"},{"source":"1513","target":"1792","strength":"0.6691119539312629"},{"source":"1519","target":"662","strength":"0.6594553665830255"},{"source":"1519","target":"1902","strength":"0.6663517665337412"},{"source":"1520","target":"603","strength":"0.7092641752927574"},{"source":"1523","target":"1819","strength":"0.6533393006480741"},{"source":"1525","target":"873","strength":"0.6860876732120749"},{"source":"1529","target":"1530","strength":"0.6690857980836709"},{"source":"1530","target":"1529","strength":"0.6690857980836709"},{"source":"1535","target":"1498","strength":"0.6723445673378444"},{"source":"1539","target":"679","strength":"0.6567768906813846"},{"source":"1546","target":"1925","strength":"0.6538668371224436"},{"source":"1547","target":"971","strength":"0.6550155915208147"},{"source":"1556","target":"204","strength":"0.6607984754793594"},{"source":"1556","target":"714","strength":"0.6969422314174353"},{"source":"1556","target":"715","strength":"0.6532694281338479"},{"source":"1556","target":"754","strength":"0.652577593224031"},{"source":"1556","target":"1061","strength":"0.6849866995186852"},{"source":"1556","target":"1148","strength":"0.6973006048950633"},{"source":"1556","target":"1266","strength":"0.6538317438087519"},{"source":"1556","target":"1286","strength":"0.6504289299027375"},{"source":"1556","target":"1336","strength":"0.670083735170061"},{"source":"1556","target":"1820","strength":"0.6732735364993425"},{"source":"1557","target":"1351","strength":"0.6524178409332166"},{"source":"1557","target":"1903","strength":"0.6631381722201788"},{"source":"1563","target":"1571","strength":"0.6875398872292551"},{"source":"1564","target":"571","strength":"0.6622175091031628"},{"source":"1565","target":"388","strength":"0.6529405507104054"},{"source":"1565","target":"425","strength":"0.700817680487605"},{"source":"1565","target":"565","strength":"0.6723316768036812"},{"source":"1565","target":"567","strength":"0.6539626084124955"},{"source":"1565","target":"691","strength":"0.6571526042967405"},{"source":"1565","target":"1388","strength":"0.650943196047574"},{"source":"1565","target":"1705","strength":"0.6771230486046225"},{"source":"1566","target":"1321","strength":"0.6708079353691117"},{"source":"1569","target":"385","strength":"0.6646343917005537"},{"source":"1569","target":"674","strength":"0.6579165107995462"},{"source":"1569","target":"1116","strength":"0.6575744748289398"},{"source":"1569","target":"1421","strength":"0.663231370165008"},{"source":"1569","target":"1663","strength":"0.6686635097843875"},{"source":"1570","target":"1421","strength":"0.704021604373422"},{"source":"1570","target":"1499","strength":"0.671785159106614"},{"source":"1571","target":"672","strength":"0.6765401068954574"},{"source":"1571","target":"679","strength":"0.6503757921664679"},{"source":"1571","target":"1132","strength":"0.6535127445603558"},{"source":"1571","target":"1400","strength":"0.7001315864464004"},{"source":"1571","target":"1421","strength":"0.7240567217953126"},{"source":"1571","target":"1504","strength":"0.7015119560576097"},{"source":"1571","target":"1563","strength":"0.6875398872292551"},{"source":"1571","target":"1820","strength":"0.6515047631103099"},{"source":"1572","target":"1692","strength":"0.6586399971674585"},{"source":"1573","target":"422","strength":"0.6593169947413369"},{"source":"1573","target":"679","strength":"0.6722267797729895"},{"source":"1574","target":"1066","strength":"0.6996291971802417"},{"source":"1580","target":"602","strength":"0.7278178599829531"},{"source":"1580","target":"603","strength":"0.6728872788204419"},{"source":"1581","target":"567","strength":"0.6755428698410685"},{"source":"1581","target":"1624","strength":"0.6540276549228186"},{"source":"1583","target":"591","strength":"0.6762749403007435"},{"source":"1591","target":"672","strength":"0.6827172906128016"},{"source":"1591","target":"949","strength":"0.6736268179301156"},{"source":"1591","target":"1414","strength":"0.7107912906504971"},{"source":"1592","target":"114","strength":"0.6686700901916861"},{"source":"1592","target":"1710","strength":"0.6687329529018721"},{"source":"1592","target":"1729","strength":"0.6708583040805898"},{"source":"1593","target":"435","strength":"0.6507832757754474"},{"source":"1593","target":"512","strength":"0.6613906036645657"},{"source":"1594","target":"52","strength":"0.6508573148232812"},{"source":"1602","target":"318","strength":"0.6529498079468055"},{"source":"1610","target":"440","strength":"0.6827017402362197"},{"source":"1611","target":"1631","strength":"0.7130052389707087"},{"source":"1611","target":"1644","strength":"0.6559367828914368"},{"source":"1615","target":"1633","strength":"0.6610429430505897"},{"source":"1617","target":"1631","strength":"0.694172439706157"},{"source":"1623","target":"460","strength":"0.6696522329130643"},{"source":"1624","target":"567","strength":"0.6597540696774502"},{"source":"1624","target":"676","strength":"0.6985303692428911"},{"source":"1624","target":"1581","strength":"0.6540276549228186"},{"source":"1626","target":"185","strength":"0.6687501361706174"},{"source":"1626","target":"688","strength":"0.7099252074558047"},{"source":"1626","target":"1413","strength":"0.6502688746380667"},{"source":"1629","target":"680","strength":"0.7063036080472367"},{"source":"1631","target":"1611","strength":"0.7130052389707087"},{"source":"1631","target":"1617","strength":"0.694172439706157"},{"source":"1631","target":"1633","strength":"0.6623924170128761"},{"source":"1631","target":"1644","strength":"0.6794642367748199"},{"source":"1633","target":"1615","strength":"0.6610429430505897"},{"source":"1633","target":"1631","strength":"0.6623924170128761"},{"source":"1635","target":"1644","strength":"0.6744294660852802"},{"source":"1636","target":"422","strength":"0.6562028667552496"},{"source":"1639","target":"679","strength":"0.692424987420394"},{"source":"1644","target":"1611","strength":"0.6559367828914368"},{"source":"1644","target":"1631","strength":"0.6794642367748199"},{"source":"1644","target":"1635","strength":"0.6744294660852802"},{"source":"1648","target":"1294","strength":"0.6626496780485309"},{"source":"1649","target":"653","strength":"0.6793182921585952"},{"source":"1649","target":"1061","strength":"0.6590739340402639"},{"source":"1649","target":"1920","strength":"0.656811463909975"},{"source":"1656","target":"747","strength":"0.6535535576081408"},{"source":"1659","target":"1150","strength":"0.6539505900293094"},{"source":"1659","target":"1451","strength":"0.6962691290917731"},{"source":"1662","target":"1438","strength":"0.662199446727403"},{"source":"1663","target":"811","strength":"0.6764524578018838"},{"source":"1663","target":"1569","strength":"0.6686635097843875"},{"source":"1674","target":"259","strength":"0.6642694472672601"},{"source":"1674","target":"407","strength":"0.6561301011402517"},{"source":"1674","target":"1676","strength":"0.6716230026247842"},{"source":"1675","target":"620","strength":"0.65247397817758"},{"source":"1676","target":"646","strength":"0.6670827339438683"},{"source":"1676","target":"661","strength":"0.6517514310566104"},{"source":"1676","target":"664","strength":"0.681765366382121"},{"source":"1676","target":"667","strength":"0.6726830371710121"},{"source":"1676","target":"688","strength":"0.6981621415924157"},{"source":"1676","target":"696","strength":"0.6819060907013365"},{"source":"1676","target":"1413","strength":"0.7386785376077043"},{"source":"1676","target":"1674","strength":"0.6716230026247842"},{"source":"1676","target":"1698","strength":"0.6767674270338505"},{"source":"1689","target":"1315","strength":"0.6667121119699183"},{"source":"1689","target":"1498","strength":"0.7289673903090839"},{"source":"1692","target":"1232","strength":"0.6597008806490232"},{"source":"1692","target":"1572","strength":"0.6586399971674585"},{"source":"1696","target":"393","strength":"0.6861007516603396"},{"source":"1698","target":"1676","strength":"0.6767674270338505"},{"source":"1705","target":"691","strength":"0.689402441481669"},{"source":"1705","target":"1565","strength":"0.6771230486046225"},{"source":"1705","target":"1765","strength":"0.6699901359437007"},{"source":"1706","target":"693","strength":"0.6943496916125765"},{"source":"1706","target":"695","strength":"0.6645222530228472"},{"source":"1709","target":"128","strength":"0.67153686393721"},{"source":"1710","target":"1592","strength":"0.6687329529018721"},{"source":"1710","target":"1729","strength":"0.6621946174763423"},{"source":"1723","target":"708","strength":"0.6730343251864706"},{"source":"1723","target":"1166","strength":"0.6616534537539023"},{"source":"1723","target":"1729","strength":"0.6680363715601465"},{"source":"1723","target":"1923","strength":"0.6894380917456704"},{"source":"1726","target":"1744","strength":"0.6626723309571815"},{"source":"1729","target":"1128","strength":"0.7121665086830247"},{"source":"1729","target":"1592","strength":"0.6708583040805898"},{"source":"1729","target":"1710","strength":"0.6621946174763423"},{"source":"1729","target":"1723","strength":"0.6680363715601465"},{"source":"1729","target":"1746","strength":"0.6580784640023166"},{"source":"1729","target":"1765","strength":"0.697696046196279"},{"source":"1739","target":"1906","strength":"0.6687662323197859"},{"source":"1740","target":"1389","strength":"0.664012449433437"},{"source":"1740","target":"1792","strength":"0.6729918282623442"},{"source":"1742","target":"1785","strength":"0.673589855752982"},{"source":"1744","target":"1726","strength":"0.6626723309571815"},{"source":"1744","target":"1746","strength":"0.6911779027379372"},{"source":"1746","target":"1256","strength":"0.6700092071485989"},{"source":"1746","target":"1729","strength":"0.6580784640023166"},{"source":"1746","target":"1744","strength":"0.6911779027379372"},{"source":"1752","target":"798","strength":"0.6531846928261286"},{"source":"1753","target":"662","strength":"0.679649203711816"},{"source":"1761","target":"502","strength":"0.6638061678930588"},{"source":"1762","target":"801","strength":"0.6539292155008751"},{"source":"1762","target":"951","strength":"0.706050109486469"},{"source":"1762","target":"1763","strength":"0.6828492527509815"},{"source":"1763","target":"1762","strength":"0.6828492527509815"},{"source":"1765","target":"676","strength":"0.653247668024184"},{"source":"1765","target":"1128","strength":"0.7253396628951415"},{"source":"1765","target":"1705","strength":"0.6699901359437007"},{"source":"1765","target":"1729","strength":"0.697696046196279"},{"source":"1765","target":"1792","strength":"0.6728317078234222"},{"source":"1765","target":"1902","strength":"0.6962086420176414"},{"source":"1768","target":"1783","strength":"0.6519627039669119"},{"source":"1775","target":"1857","strength":"0.6596580837599317"},{"source":"1782","target":"1783","strength":"0.6530734984550124"},{"source":"1783","target":"1768","strength":"0.6519627039669119"},{"source":"1783","target":"1782","strength":"0.6530734984550124"},{"source":"1783","target":"1854","strength":"0.7037438179756627"},{"source":"1784","target":"1238","strength":"0.6831973819811936"},{"source":"1785","target":"1742","strength":"0.673589855752982"},{"source":"1788","target":"725","strength":"0.6601804597458579"},{"source":"1788","target":"1797","strength":"0.6690592703727911"},{"source":"1788","target":"1842","strength":"0.6539197474498399"},{"source":"1792","target":"112","strength":"0.6857407312888135"},{"source":"1792","target":"1389","strength":"0.6615540157086266"},{"source":"1792","target":"1513","strength":"0.6691119539312629"},{"source":"1792","target":"1740","strength":"0.6729918282623442"},{"source":"1792","target":"1765","strength":"0.6728317078234222"},{"source":"1792","target":"1811","strength":"0.6656804086391614"},{"source":"1794","target":"76","strength":"0.7090731952860103"},{"source":"1796","target":"1875","strength":"0.6666932110371"},{"source":"1797","target":"1788","strength":"0.6690592703727911"},{"source":"1797","target":"1798","strength":"0.6848622749488863"},{"source":"1798","target":"1797","strength":"0.6848622749488863"},{"source":"1810","target":"656","strength":"0.6517951433374148"},{"source":"1810","target":"1176","strength":"0.6507481460770059"},{"source":"1811","target":"1178","strength":"0.6754264234493113"},{"source":"1811","target":"1792","strength":"0.6656804086391614"},{"source":"1812","target":"1196","strength":"0.6634774717598284"},{"source":"1819","target":"574","strength":"0.6571627927507537"},{"source":"1819","target":"1523","strength":"0.6533393006480741"},{"source":"1820","target":"1556","strength":"0.6732735364993425"},{"source":"1820","target":"1571","strength":"0.6515047631103099"},{"source":"1827","target":"343","strength":"0.6781076847537295"},{"source":"1830","target":"343","strength":"0.6692177938206669"},{"source":"1835","target":"156","strength":"0.656860227761767"},{"source":"1841","target":"1868","strength":"0.7400118379875313"},{"source":"1842","target":"1788","strength":"0.6539197474498399"},{"source":"1842","target":"1854","strength":"0.6635788167867908"},{"source":"1848","target":"65","strength":"0.7249648285195389"},{"source":"1851","target":"670","strength":"0.6815340262312485"},{"source":"1851","target":"1904","strength":"0.7086977605139984"},{"source":"1854","target":"1783","strength":"0.7037438179756627"},{"source":"1854","target":"1842","strength":"0.6635788167867908"},{"source":"1856","target":"1904","strength":"0.6635811636070215"},{"source":"1857","target":"1775","strength":"0.6596580837599317"},{"source":"1857","target":"1859","strength":"0.6855021037974923"},{"source":"1859","target":"1857","strength":"0.6855021037974923"},{"source":"1868","target":"1841","strength":"0.7400118379875313"},{"source":"1875","target":"1796","strength":"0.6666932110371"},{"source":"1876","target":"1923","strength":"0.6671090754205952"},{"source":"1896","target":"537","strength":"0.6601812507878605"},{"source":"1896","target":"758","strength":"0.6562462906565368"},{"source":"1896","target":"759","strength":"0.7261178571495529"},{"source":"1896","target":"1210","strength":"0.6549210333530172"},{"source":"1898","target":"670","strength":"0.6771055014760682"},{"source":"1899","target":"635","strength":"0.654898216900599"},{"source":"1901","target":"662","strength":"0.6834226176358034"},{"source":"1901","target":"1128","strength":"0.6707439763656795"},{"source":"1902","target":"114","strength":"0.754165390546584"},{"source":"1902","target":"204","strength":"0.6792177719858121"},{"source":"1902","target":"377","strength":"0.6715951254623"},{"source":"1902","target":"1045","strength":"0.6571875337198538"},{"source":"1902","target":"1106","strength":"0.6800909601018446"},{"source":"1902","target":"1128","strength":"0.6634881797641202"},{"source":"1902","target":"1201","strength":"0.6547412042404164"},{"source":"1902","target":"1388","strength":"0.6780732067511209"},{"source":"1902","target":"1519","strength":"0.6663517665337412"},{"source":"1902","target":"1765","strength":"0.6962086420176414"},{"source":"1902","target":"1916","strength":"0.7315411983687626"},{"source":"1902","target":"1924","strength":"0.6514374897264212"},{"source":"1903","target":"1128","strength":"0.698136391878679"},{"source":"1903","target":"1238","strength":"0.6733917255956218"},{"source":"1903","target":"1557","strength":"0.6631381722201788"},{"source":"1904","target":"531","strength":"0.7143600866000465"},{"source":"1904","target":"670","strength":"0.6999273329788012"},{"source":"1904","target":"1851","strength":"0.7086977605139984"},{"source":"1904","target":"1856","strength":"0.6635811636070215"},{"source":"1906","target":"1739","strength":"0.6687662323197859"},{"source":"1906","target":"1921","strength":"0.6778725928461004"},{"source":"1906","target":"1923","strength":"0.6657497538284229"},{"source":"1909","target":"1039","strength":"0.6557186679636713"},{"source":"1911","target":"653","strength":"0.6828410404012615"},{"source":"1911","target":"1925","strength":"0.6698476418079591"},{"source":"1916","target":"1902","strength":"0.7315411983687626"},{"source":"1920","target":"1649","strength":"0.656811463909975"},{"source":"1921","target":"1906","strength":"0.6778725928461004"},{"source":"1922","target":"754","strength":"0.6643826309869437"},{"source":"1922","target":"925","strength":"0.6876808985786752"},{"source":"1922","target":"1062","strength":"0.6561541357187209"},{"source":"1922","target":"1148","strength":"0.6817438939192517"},{"source":"1923","target":"1194","strength":"0.6914495372290729"},{"source":"1923","target":"1195","strength":"0.6792462672045242"},{"source":"1923","target":"1723","strength":"0.6894380917456704"},{"source":"1923","target":"1876","strength":"0.6671090754205952"},{"source":"1923","target":"1906","strength":"0.6657497538284229"},{"source":"1923","target":"1924","strength":"0.7244869711074037"},{"source":"1923","target":"1925","strength":"0.6545306295809766"},{"source":"1924","target":"1902","strength":"0.6514374897264212"},{"source":"1924","target":"1923","strength":"0.7244869711074037"},{"source":"1925","target":"676","strength":"0.6799405207695499"},{"source":"1925","target":"969","strength":"0.6834547344158454"},{"source":"1925","target":"1546","strength":"0.6538668371224436"},{"source":"1925","target":"1911","strength":"0.6698476418079591"},{"source":"1925","target":"1923","strength":"0.6545306295809766"},{"source":"1926","target":"653","strength":"0.6504573141248197"}]}'),Rs={hci:Ts,fkstein:ks};var Ls=function(){var t=(0,e.useState)("hci"),n=(0,i.Z)(t,2),r=n[0],a=n[1],o=(0,e.useState)(Ts),s=(0,i.Z)(o,2),u=s[0],l=s[1],c=(0,e.useState)(.7),h=(0,i.Z)(c,2),d=(h[0],h[1],{data:Rs[r],sim_th:.7});return(0,Ss.jsxs)("div",{className:"App",children:[(0,Ss.jsx)(Is,{data:d}),(0,Ss.jsxs)("div",{style:{position:"fixed",top:20,left:20,width:"300px",height:"525px",backgroundColor:"rgba(0, 0, 0, 0.1)",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.5)",borderRadius:"20px",fontFamily:"Perpetua"},children:[(0,Ss.jsx)("h2",{children:"LLM Embedding Projections are just a start"}),(0,Ss.jsxs)("select",{value:r,onChange:function(e){a(e.target.value)},style:{width:"50%",padding:"5px",borderRadius:"5px"},children:[(0,Ss.jsx)("option",{value:"hci",children:"HCI Papers"}),(0,Ss.jsx)("option",{value:"fkstein",children:"frankenstein"})]}),(0,Ss.jsx)("button",{style:{margin:"15px",padding:"5px"},onClick:function(){if(u){var e=new Blob([JSON.stringify(u,null,2)],{type:"application/json"}),t=document.createElement("a");t.href=URL.createObjectURL(e),t.download="projections.json",document.body.appendChild(t),t.click(),document.body.removeChild(t)}else alert("No JSON data to download")},children:"Save View"}),(0,Ss.jsxs)("p",{style:{paddingLeft:"15px",paddingRight:"15px"},align:"left",children:["Each point is an embedded text. Visual clusters are identified by a clustering algorithm.  Links connect two points that have high cosine similary. ",(0,Ss.jsx)("br",{}),(0,Ss.jsx)("br",{}),"This clustering may not be optimal for your task. You can change this!",(0,Ss.jsx)("br",{}),(0,Ss.jsx)("br",{}),"Select a point and drag it around to move it and other points most similar to it to where you think it should belong.",(0,Ss.jsx)("br",{}),(0,Ss.jsx)("br",{}),"Note that some points may shift closer to others. This view may not reflect the actual clustering in high dimensions."]}),(0,Ss.jsxs)("label",{for:"name",children:[(0,Ss.jsx)("h4",{style:{paddingLeft:"15px",paddingTop:"0px"},align:"left",children:"Load Projection"})," "]}),(0,Ss.jsx)("input",{type:"file",accept:".json",onChange:function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(e){try{var t=JSON.parse(e.target.result);l(t)}catch(n){alert("Invalid JSON file")}},n.readAsText(t)}},id:"name",name:"name",style:{position:"relative",top:"-15px",left:"-10px"},align:"left"}),(0,Ss.jsx)("br",{})]})]})},Bs=function(e){e&&e instanceof Function&&r.e(787).then(r.bind(r,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};n.createRoot(document.getElementById("root")).render((0,Ss.jsx)(e.StrictMode,{children:(0,Ss.jsx)(Ls,{})})),Bs()}()}();
//# sourceMappingURL=main.ddda9ed9.js.map